{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "00755ce15ac04e758f5362b052c68550", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "233d38bd7470716e28965ec3aa51161f", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/mutant/src/java/start/org/apache/ant/start/Main.java", "commitBeforeChange": "d9e69473683976b55bf9fdd93da9bb982f4b3ba1", "commitAfterChange": "fe7c38e3a07f773e5c6a761dfdb5a4fdd283019c", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "     public void start(String frontend, String[] args)", "signatureAfterChange": "     public void start(String frontend, String[] args)", "diff": ["+            String mainClass = getMainClass(frontendJar);", "+            System.out.println(\"Front end main class = \" + mainClass);", "+            if (mainClass == null) {", "+                mainClass = DEFAULT_COMMANDLINE_CLASS;", "+            }", "+            ", "-            Class commandLineClass = Class.forName(COMMANDLINE_CLASS, true,", "+            Class commandLineClass = Class.forName(mainClass, true,"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "25dffd08fbc6c6cc762306700fb5e821", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/filters/StripJavaComments.java", "commitBeforeChange": "51fa6c6e412765a4540fd0d597b4b1805d189376", "commitAfterChange": "e596d350ae9efa7d0aaf51d8f988be6ea3909078", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "     public final int read() throws IOException", "signatureAfterChange": "     public final int read() throws IOException", "diff": ["+                            int prevCh = -1;", "+                                prevCh = ch;", "+                            }", "+                            if ( ch == '\\n' && prevCh == '\\r' ) {", "+                                readAheadCh = ch;", "+                                ch = prevCh;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "29967d7b83eeac3d13d25023dab548e6", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/Main.java", "commitBeforeChange": "270394a09fddda0ea9ffa2330956c5f399ab840f", "commitAfterChange": "6bd8d6e938a45868902ecd1092858e8372933c7c", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "     protected Main(String[] args) throws BuildException", "signatureAfterChange": "     protected Main(String[] args) throws BuildException", "diff": ["+        PrintStream logTo = null;", "-                    out = new PrintStream(new FileOutputStream(logFile));", "-                    err = out;", "-                    System.setOut(out);", "-                    System.setErr(out);", "+                    logTo = new PrintStream(new FileOutputStream(logFile));", "-                if (fis != null){", "+                if (fis != null) {", "+                    }", "-              }", "+        if (msgOutputLevel >= Project.MSG_INFO) {", "+            System.out.println(\"Buildfile: \" + buildFile);", "+        }", "+", "+        if (logTo != null) {", "+            out = err = logTo;", "+            System.setOut(out);", "+            System.setErr(out);", "+        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4480d801101e320b153468bb9ab2ccaf", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/MacroInstance.java", "commitBeforeChange": "b5e606fe0ec7e62fc26854a77e29de35829df027", "commitAfterChange": "a7bbb2a52d1dab664bee16d716d9db6540557917", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "     public void execute()", "signatureAfterChange": "     public void execute()", "diff": ["-                if (!macroDef.getText().getOptional()) {", "+                String defaultText =  macroDef.getText().getDefault();", "+                if (!macroDef.getText().getOptional() && defaultText == null) {", "-                text = \"\";", "+                text = defaultText == null ? \"\" : defaultText;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "57c59ce0fef5e21784f8153539c3a032", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/ANTLR.java", "commitBeforeChange": "a07fa6784828b225e63b0ea2229fb5d6e809601d", "commitAfterChange": "84d3e4a158b155664d401f0d8b57124504532b74", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "     public void setGlib(String superGrammar)", "signatureAfterChange": "     public void setGlib(String superGrammar)", "diff": ["-        this.superGrammar = superGrammar;", "+        String sg = null;", "+        if (Os.isFamily(\"dos\")) {", "+            sg = superGrammar.replace('\\\\','/');", "+        }", "+        else", "+        {", "+            sg = superGrammar;", "+        }", "+        this.superGrammar = sg;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7e281da756bf57a5b641bff343587557", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/antidote/org/apache/tools/ant/gui/customizer/StringPropertyEditor.java", "commitBeforeChange": "414e0ad17819770b1557dfd56814dd30a3e58e5c", "commitAfterChange": "7ed150619f995551640a43e74583c3eea1ac2dfc", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 5, "signatureBeforeChange": "     public Object getValue()", "signatureAfterChange": "     public Object getValue()", "diff": ["-     */", "+     * object type such as \"java.lang.Integer\".  */", "-        return _widget.getText();", "+        String retval = _widget.getText();", "+        if(retval != null && retval.length() == 0) {", "+            retval = null;", "+        }", "+        return retval;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7f116565e8443559c4698b8d95540106", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/property/ResolvePropertyMap.java", "commitBeforeChange": "c92f8f160a3197e8f3df74ceb588f581d08404c0", "commitAfterChange": "169becaf5138b6db5f5ec8d9822b110199dc9d6b", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "     public Object getProperty(String name)", "signatureAfterChange": "     public Object getProperty(String name)", "diff": ["+", "+            String recursiveCallKey = name;", "+            if (prefix != null && !expandingLHS && !prefixValues) {", "+                // only look up unprefixed properties inside the map", "+                // if prefixValues is true or we are expanding the key", "+                // itself", "+                recursiveCallKey = prefix + name;", "+            }", "+", "-            return parseProperties.parseProperties((String) map.get(name));", "+            return parseProperties.parseProperties((String) map.get(recursiveCallKey));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "837d3ba87ff607359549f0e7e3cc6fa2", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/java/org/apache/myrmidon/components/workspace/DefaultTaskContext.java", "commitBeforeChange": "793208cbf9a43ca5ceaed24384615484fc7fbc02", "commitAfterChange": "c8ae289ddd72e9f5858612fba38393a3c8698c27", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "     public Object getProperty( final String name )", "signatureAfterChange": "     public Object getProperty( final String name )", "diff": ["-        return m_contextData.get( name );", "+        Object value = m_contextData.get( name );", "+        if( value == null && m_parent != null )", "+        {", "+            value = m_parent.getProperty( name );", "+        }", "+        return value;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "84e5485fee4c4ecc405982d81be7c755", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/dotnet/CSharp.java", "commitBeforeChange": "e5a85d7265ed5c9a0e391d5d00596368229e8014", "commitAfterChange": "620b8828e3694634896ff05057883da63211fc2f", "methodNumberBeforeChange": 48, "methodNumberAfterChange": 18, "signatureBeforeChange": "     protected String getDefinitionsParameter()", "signatureAfterChange": "     protected String getDefinitionsParameter()", "diff": ["+        String predecessors=super.getDefinitionsParameter();", "-            return \"/define:\" + definitions;", "-        } else {", "-            return null;", "-        }", "-    }", "+            if(predecessors==null) {", "+                predecessors= \"/define:\";", "+            return  predecessors+ definitions;", "+        } else {", "+            return predecessors;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8e27b1e2c51fa6b874e10317c1a0460e", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/xdocs/src/org/apache/tools/ant/xdoclet/AntSubTask.java", "commitBeforeChange": "7899d6c4a6c335eeffa486f6b09fa3725b0e3a7b", "commitAfterChange": "2d9c339208c8696e14df9b2c69852af36eca8a14", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 3, "signatureBeforeChange": "     protected String getGeneratedFileName(ClassDoc clazz) throws XDocletException", "signatureAfterChange": "     protected String getGeneratedFileName(ClassDoc clazz) throws XDocletException", "diff": ["-        PackageDoc pak = clazz.containingPackage();", "-        String packageName = PackageTagsHandler.packageNameAsPathFor(pak);", "-        String taskName = AntTagsHandler.getTaskName(clazz);", "-        String filename = MessageFormat.format(getDestinationFile(), new Object[]{taskName});", "+        String filename = getDestinationFile();", "+        String dir = getDestDir().getAbsolutePath();", "-        return new File(packageName, filename).toString();", "+        if (filename.indexOf(\"{0}\") != -1) {", "+            PackageDoc pak = clazz.containingPackage();", "+            dir = PackageTagsHandler.packageNameAsPathFor(pak);", "+            String taskName = AntTagsHandler.getTaskName(clazz);", "+            filename = MessageFormat.format(getDestinationFile(), new Object[]{taskName});", "+        }", "+", "+        return new File(dir, filename).toString();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "96ed90f9b4c1e99feef980a4af1da9c0", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/condition/HasMethod.java", "commitBeforeChange": "96932a3c788bf970f72fe5927d4a44e1527447d3", "commitAfterChange": "e931e7bad1b82f459c34b7de1ba191d269322d3b", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "     public boolean eval() throws BuildException", "signatureAfterChange": "     public boolean eval() throws BuildException", "diff": ["+        ClassLoader preLoadClass = loader;", "+        try {", "+        } finally {", "+            if (preLoadClass != loader && loader != null) {", "+                loader.cleanup();", "+                loader = null;", "+            }", "+        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9c767a6e38ad19589262aa4ffca04f26", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/XmlLogger.java", "commitBeforeChange": "a67f5b98b5a5f57f105269882800666bfc4d74b5", "commitAfterChange": "c4b5bdd374681d596ca0793c46701736892a258b", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "      public void buildFinished(BuildEvent event)", "signatureAfterChange": "      public void buildFinished(BuildEvent event)", "diff": ["-                Writer out = new FileWriter(\"log.xml\");", "-                out.write(\"<?xml:stylesheet type=\\\"text/xsl\\\" href=\\\"log.xsl\\\"?>\\n\\n\");", "-                write(buildElement, out, 0);", "-                out.flush();", "-                out.close();", "+            String outFilename = ", "+                event.getProject().getProperty(\"XmlLogger.file\");", "-        }", "-        catch(IOException exc) {", "+            if (outFilename == null) {", "+                outFilename = \"log.xml\";", "+            }", "+", "+            Writer out = new FileWriter(outFilename);", "+            out.write(\"<?xml:stylesheet type=\\\"text/xsl\\\" href=\\\"log.xsl\\\"?>\\n\\n\");", "+            write(buildElement, out, 0);", "+            out.flush();", "+            out.close();", "+            ", "+        } catch(IOException exc) {", "+        buildElement = null;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a007cd07e1c116d36b99eb6e664da5cc", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/java/org/apache/aut/vfs/provider/ftp/FtpFileObject.java", "commitBeforeChange": "f382fa32eec7260111db0d67ae9c90dee2d6de0b", "commitAfterChange": "dfa0c6e159416ba22df942ba98e496d99d53d07f", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "     protected void doDelete() throws Exception", "signatureAfterChange": "     protected void doDelete() throws Exception", "diff": ["-        if( !m_ftpFs.getClient().deleteFile( getName().getPath() ) )", "+        final FTPClient ftpClient = m_ftpFs.getClient();", "+        boolean ok;", "+        if( m_fileInfo.isDirectory() )", "+        {", "+            ok = ftpClient.removeDirectory( getName().getPath() );", "+        }", "+        else", "+        {", "+            ok = ftpClient.deleteFile( getName().getPath() );", "+        }", "+        if( !ok )"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a339bb8e24791bd3dd346e3d17fbd213", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/cvslib/CvsTagDiff.java", "commitBeforeChange": "47fa568d321d64f801f7108e842985b627608431", "commitAfterChange": "275cdebdc9a946e9aaed2331247964c96439fc09", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "     private CvsTagEntry[] parseRDiff(File tmpFile) throws BuildException", "signatureAfterChange": "     private CvsTagEntry[] parseRDiff(File tmpFile) throws BuildException", "diff": ["+//CVS 1.11", "+//File apps/websphere/lib/something.jar is new; current revision 1.2", "+//CVS 1.11.9", "+//File apps/websphere/lib/something.jar is new; cvstag_2003_11_03_2 revision 1.2", "-                        String rev = line.substring(index + FILE_IS_NEW.length());", "+                        String rev = null;", "+                        int indexrev = -1;", "+                        if ((indexrev = line.indexOf(REVISION, index)) != -1) {", "+                            rev = line.substring(indexrev + REVISION.length());", "+                        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ab1baa48bfe47fb8ebea861bb2491d30", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Sync.java", "commitBeforeChange": "6bdc259c2e818e1c86f944cbd8950e670294d944", "commitAfterChange": "28d39b09a766fbb0dd3ca9b65ac06edf89075e8e", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "     private int[] removeOrphanFiles(Set nonOrphans, File toDir)", "signatureAfterChange": "     private int[] removeOrphanFiles(Set nonOrphans, File toDir)", "diff": ["-        DirectoryScanner ds = new DirectoryScanner();", "-        ds.setBasedir(toDir);", "-        ds.setExcludes(excls);", "+", "+        DirectoryScanner ds = null;", "+        if (syncTarget != null) {", "+            syncTarget.setTargetDir(toDir);", "+            ds = syncTarget.getDirectoryScanner(getProject());", "+        } else {", "+            ds = new DirectoryScanner();", "+            ds.setBasedir(toDir);", "+        }", "+        ds.addExcludes(excls);", "+"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "af508c056279c4b68ddb5c2b06e8753d", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/util/SourceFileScanner.java", "commitBeforeChange": "0fdd59711a020c720ee5ad9ad61c2b7fdd58c488", "commitAfterChange": "4a99751448c8773ce33c3029af60e20db02167f7", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "     public String[] restrict(String[] files, File srcDir, File destDir,                              FileNameMapper mapper)", "signatureAfterChange": "     public String[] restrict(String[] files, File srcDir, File destDir,                              FileNameMapper mapper)", "diff": ["+        /*", "+          If we're on Windows, we have to munge the time up to 2 secs to", "+          be able to check file modification times.", "+          (Windows has a max resolution of two secs for modification times)", "+        */", "+        String osname = System.getProperty(\"os.name\").toLowerCase();", "+        if ( osname.indexOf(\"windows\") >= 0 ) {", "+            now += 2000;", "+        }", "+"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bacf43252644372b156eda9dc2d5c57a", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Execute.java", "commitBeforeChange": "fc7cfffc89d82da7426c14b0fcd48682b026a56d", "commitAfterChange": "1dfa5ca002e81a1b89dbfd0fdd172bad141b829a", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "     public int execute() throws IOException", "signatureAfterChange": "     public int execute() throws IOException", "diff": ["+        CommandLauncher launcher = vmLauncher != null ? vmLauncher : shellLauncher;", "+        if (!useVMLauncher) {", "+            launcher = shellLauncher;", "+        }", "+        "]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bd7a746ab33f78e03a6f9192d9e75d48", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/mutant/src/java/antcore/org/apache/ant/antcore/config/AntConfigHandler.java", "commitBeforeChange": "a5a45c152df6d878c4b65e522f69731ad4e9ca16", "commitAfterChange": "2a642ec043787abc44f1ac422cd9a3b8b257e6bc", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "     public void processElement(String elementName)          throws SAXParseException", "signatureAfterChange": "     public void processElement(String elementName)          throws SAXParseException", "diff": ["-        config.allowUnsetProperties(getBooleanAttribute(UNSET_PROPS_ATTR));", "+        boolean allowUnsetProperties = true;", "+        if (getAttribute(UNSET_PROPS_ATTR) != null) {", "+            allowUnsetProperties = getBooleanAttribute(UNSET_PROPS_ATTR);", "+        }", "+        config.allowUnsetProperties(allowUnsetProperties);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cd04caa6eb7396b6f9e7f5a2c8d097d5", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/vss/MSVSS.java", "commitBeforeChange": "d928ea97f2a6d49a8ceb9d130d2ef1a8e1440e79", "commitAfterChange": "04408cb596d6a5a0bc1261a75adaf46ebf9d644a", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "     public final void setVsspath(String vssPath)", "signatureAfterChange": "     public final void setVsspath(String vssPath)", "diff": ["+        String projectPath;", "-            m_vssPath = PROJECT_PREFIX + vssPath.substring(5);", "+            projectPath = vssPath.substring(5);", "-            m_vssPath = PROJECT_PREFIX + vssPath;", "+            projectPath = vssPath;", "+        }", "+", "+        if (projectPath.charAt(0) == '$') {", "+            m_vssPath = projectPath;", "+        } else {", "+            m_vssPath = PROJECT_PREFIX + projectPath;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f354b272384239cacb76009b7dc8d3bf", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/rmic/ForkingSunRmic.java", "commitBeforeChange": "37f2ba806056ac8aef996956e3744b3b28568bd1", "commitAfterChange": "4de20278c248e733a82b2d4de9ba9d458ea6496f", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "     public boolean execute() throws BuildException", "signatureAfterChange": "     public boolean execute() throws BuildException", "diff": ["-        //rely on RMIC being on the path", "-        cmd.setExecutable(JavaEnvUtils.getJdkExecutable(getExecutableName()));", "+        String executable = owner.getExecutable();", "+        if (executable == null) {", "+            // no explicitly specified executable", "+            // rely on RMIC being on the path", "+            executable = JavaEnvUtils.getJdkExecutable(getExecutableName());", "+        }", "+        cmd.setExecutable(executable);"]}]}