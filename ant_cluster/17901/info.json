{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e3770cb1dd91b15560c7504fbcad47af", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "10eb641dd4fc6738d29ec8631fed622e", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Tstamp.java", "commitBeforeChange": "c697c4d2d093adc00d508f6f6f91797d3c9ffe3e", "commitAfterChange": "65d02e393d8709dd9fd6f5d48b502b72507bbb86", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "      public void execute() throws BuildException", "signatureAfterChange": "      public void execute() throws BuildException", "diff": ["-\ttry {", "-\t    Calendar d=Calendar.getInstance();", "-\t    StringBuffer tstamp=new StringBuffer();", "-\t    tstamp.append( d.get(Calendar.YEAR));", "-\t    if(d.get(Calendar.MONTH) < 9) tstamp.append(\"0\");", "-\t    tstamp.append( 1+d.get(Calendar.MONTH));", "-\t    if( d.get(Calendar.DAY_OF_MONTH) < 10 ) tstamp.append(\"0\");", "-\t    tstamp.append(d.get(Calendar.DAY_OF_MONTH));", "-\t    project.setProperty( \"DSTAMP\" , tstamp.toString());", "-\t    ", "-\t    if( d.get(Calendar.HOUR_OF_DAY) < 10 ) tstamp.append(\"0\");", "-\t    tstamp.append( d.get(Calendar.HOUR_OF_DAY));", "-\t    ", "-\t    if( d.get(Calendar.MINUTE) < 10 ) tstamp.append(\"0\");", "-\t    tstamp.append(d.get(Calendar.MINUTE));", "-\t    project.setProperty( \"TSTAMP\" , tstamp.toString());", "-\t} catch (Exception ex) {", "-\t    ex.printStackTrace();", "-\t}", "-", "+        try {", "+            Date d = new Date();", "+            ", "+            SimpleDateFormat dstamp = new SimpleDateFormat (\"yyyymmdd\");", "+            project.setProperty(\"DSTAMP\", dstamp.format(d));", "+    ", "+            SimpleDateFormat tstamp = new SimpleDateFormat (\"hhmm\");", "+            project.setProperty(\"TSTAMP\", tstamp.format(d));", "+    ", "+            SimpleDateFormat today  = new SimpleDateFormat (\"MMMM d yyyy\", Locale.US);", "+            project.setProperty(\"TODAY\", today.format(d));", "+        } catch (Exception ex) {", "+            ex.printStackTrace();", "+        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8a2856542a6f80ca61edb177fe40332d", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/net/FTP.java", "commitBeforeChange": "3f78457877d6713f35dc7b5d2838f4818f4f16dc", "commitAfterChange": "9a7f8d24f541c554cedaf2d7c947cdb2828b6609", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 3, "signatureBeforeChange": "         protected void scandir(String dir, String vpath, boolean fast)", "signatureAfterChange": "         protected void scandir(String dir, String vpath, boolean fast)", "diff": ["+            // avoid double scanning of directories, can only happen in fast mode", "+            if (fast && hasBeenScanned(vpath)) {", "+                return;", "+            }", "-", "-                FTPFile[] newfiles = ftp.listFiles();", "+                String completePath = null;", "+                if (!vpath.equals(\"\")) {", "+                    completePath = rootPath + remoteFileSep", "+                        + vpath.replace(File.separatorChar, remoteFileSep.charAt(0));", "+                } else {", "+                    completePath = rootPath;", "+                }", "+                FTPFile[] newfiles = listFiles(completePath, false);", "-                                if (!isExcluded(name)) {", "-                                    if (fast) {", "-                                        if (file.isSymbolicLink()) {", "-                                            scandir(file.getLink(),", "-                                                name + File.separator, fast);", "-                                        } else {", "-                                            scandir(file.getName(),", "-                                                name + File.separator, fast);", "-                                        }", "-                                    }", "-                                    dirsIncluded.addElement(name);", "-                                } else {", "-                                    dirsExcluded.addElement(name);", "-                                    if (fast && couldHoldIncluded(name)) {", "-                                        scandir(file.getName(),", "-                                                name + File.separator, fast);", "-                                    }", "-                                }", "+                                accountForIncludedDir(name,", "+                                    new AntFTPFile(ftp, file, completePath) , fast);", "-                                if (isIncluded(name)) {", "-                                    if (!isExcluded(name)) {", "-                                        filesIncluded.addElement(name);", "-                                    } else {", "-                                        filesExcluded.addElement(name);", "-                                    }", "-                                } else {", "-                                    filesNotIncluded.addElement(name);", "-                                }", "+                                accountForIncludedFile(name);"]}]}