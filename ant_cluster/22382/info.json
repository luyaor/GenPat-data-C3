{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a3f51b90c1f20686697cb5dbc7b21f42", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "16c4ef357ab14beb7f0565a3543b7117", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/ReplaceRegExp.java", "commitBeforeChange": "671dff9a1cfe74859b9ec4356974b22840953989", "commitAfterChange": "0faf6e94d6bd5911035e07913286d1ff0c75524b", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": "      private boolean multilineReplace(Reader r, Writer w, int options)         throws IOException", "signatureAfterChange": "      private boolean multilineReplace(Reader r, Writer w, int options)         throws IOException", "diff": ["-        String buf = FileUtils.safeReadFully(r);", "-        String res = doReplace(regex, subs, buf, options);", "-        w.write(res);", "-        return !res.equals(buf);", "+        return replaceAndWrite(FileUtils.safeReadFully(r), w, options);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3aa15e480836e98c7448b8aca7f7c824", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/util/VectorSet.java", "commitBeforeChange": "1ffcacd800cb4b90403862ba63323377855822c7", "commitAfterChange": "0b7abed55e34bc0a174b64193603c2db15d9d23a", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "      private synchronized void doAdd(int index, Object o)", "signatureAfterChange": "      private synchronized void doAdd(int index, Object o)", "diff": ["-            ensureCapacity(size() + 1);", "-            Object[] elems = new Object[elementData.length];", "-            System.arraycopy(elementData, 0, elems, 0, index);", "-            elems[index] = o;", "-            System.arraycopy(elementData, index, elems, index + 1,", "-                             size() - index);", "-            elementData = elems;", "+            int count = size();", "+            ensureCapacity(count + 1);", "+            if (index != count) {", "+                System.arraycopy(elementData, index, elementData, index + 1,", "+                                 count - index);", "+            }", "+            elementData[index] = o;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7c951a5e6b56f2db92d6b927a3892d66", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/types/DataType.java", "commitBeforeChange": "2e539cd379fe9c6c145887c16960c6f43ea08dd4", "commitAfterChange": "c3232ae202e7c7d75d99cf50289148949db1ba4d", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "     protected String getDataTypeName()", "signatureAfterChange": "     protected String getDataTypeName()", "diff": ["-        Project p = getProject();", "-        if (p != null) {", "-            return ComponentHelper.getComponentHelper(p)", "-                .getElementName(this, true);", "-        }", "-        String classname = getClass().getName();", "-        return classname.substring(classname.lastIndexOf('.') + 1);", "+        return ComponentHelper.getElementName(getProject(), this, true);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a04f2b131d5b5c4c07b59866f451725b", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/types/Resource.java", "commitBeforeChange": "97b94390e4923bbb3f0322cb9a4e7125572ad758", "commitAfterChange": "d788f76c8d2b022a4037ff1e1845739d3ceb74c7", "methodNumberBeforeChange": 28, "methodNumberAfterChange": 28, "signatureBeforeChange": "     public String toString()", "signatureAfterChange": "     public String toString()", "diff": ["-        if (n != null) {", "-            return n;", "-        }", "-        String classname = getClass().getName();", "-        return \"anonymous \" + classname.substring(classname.lastIndexOf('.') + 1);", "+        return n == null ? \"(anonymous)\" : n;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b53e7ea06a2eeade6152f9f8e17c61a6", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/util/FileUtils.java", "commitBeforeChange": "4d706d4ad41dedc3f62d65ff72e93d05345d9a70", "commitAfterChange": "028ba47c8246f510012ef061d879d05240b90c71", "methodNumberBeforeChange": 60, "methodNumberAfterChange": 60, "signatureBeforeChange": "     public static String[] getPathStack(String path)", "signatureAfterChange": "     public static String[] getPathStack(String path)", "diff": ["-        // since Java 1.4", "-        //return normalizedPath.split(\"/\");", "-        // workaround for Java 1.2-1.3", "-        Object[] tokens = StringUtils.split(normalizedPath, '/').toArray();", "-        String[] rv = new String[tokens.length];", "-        System.arraycopy(tokens, 0, rv, 0, tokens.length);", "-", "-        return rv;", "+        return normalizedPath.split(\"/\");"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ec8b68458c20b6cf36124fd46054e4cf", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/zip/ZipEntry.java", "commitBeforeChange": "1c5c68f3ed2854776e2377bf5486caadc8ecc5b8", "commitAfterChange": "f665a4d33564ecc12851996978a9847024643829", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "     public ZipExtraField[] getExtraFields()", "signatureAfterChange": "     public ZipExtraField[] getExtraFields()", "diff": ["-        if (extraFields == null) {", "-            return new ZipExtraField[0];", "-        }", "-        ZipExtraField[] result = new ZipExtraField[extraFields.size()];", "-        return (ZipExtraField[]) extraFields.values().toArray(result);", "+        return getExtraFields(false);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fe7095b81db4d3d5766e245d2e515d85", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/util/FileUtils.java", "commitBeforeChange": "5b320cdc202a575a067f3dacbd06bff3ebc43f83", "commitAfterChange": "f40cbc60b34a952432e7abfb70181d0feabd4dd6", "methodNumberBeforeChange": 26, "methodNumberAfterChange": 26, "signatureBeforeChange": "     public String removeLeadingPath(File leading, File path)", "signatureAfterChange": "     public String removeLeadingPath(File leading, File path)", "diff": ["-        String l = normalize(leading.getAbsolutePath()).getAbsolutePath();", "+        // if leading's path ends with a slash, it will be stripped by", "+        // normalize - we always add one so we never think /foo was a", "+        // parent directory of /foobar", "+        String l = normalize(leading.getAbsolutePath()).getAbsolutePath()", "+            + File.separator;", "-            String result = p.substring(l.length());", "-            if (result.startsWith(File.separator)) {", "-                result = result.substring(File.separator.length());", "-            }", "-            return result;", "+            return p.substring(l.length());"]}]}