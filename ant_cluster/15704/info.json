{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5ef14ef5b580211ff0ff72859cc3a1eb", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3811e5cd98fb65b600c85d1bd6ca9971", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Manifest.java", "commitBeforeChange": "6d54725ac9d2fc606d5b4d8ec6574b648399f68d", "commitAfterChange": "c34b9ee41bcc31359f581d04d38e0b5615eee21b", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 5, "signatureBeforeChange": "         public boolean equals(Object rhs)", "signatureAfterChange": "         public boolean equals(Object rhs)", "diff": ["-            if (!(rhs instanceof Attribute)) {", "+            if (rhs == null || rhs.getClass() != getClass()) {", "+            }", "+    ", "+            if (rhs == this) {", "+                return true;", "-            return (name != null && rhsAttribute.name != null &&", "-                    getKey().equals(rhsAttribute.getKey()) &&", "-                    values != null && ", "-                    CollectionUtils.equals(values, rhsAttribute.values));", "+            String lhsKey = getKey();", "+            String rhsKey = rhsAttribute.getKey();", "+            if ((lhsKey == null && rhsKey != null) ", "+                 || (lhsKey != null && rhsKey == null)", "+                 || !lhsKey.equals(rhsKey)) {", "+                return false;", "+            }", "+            ", "+            return CollectionUtils.equals(values, rhsAttribute.values);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3a650ebac1f3c85bcd5dc7f0bbb4db4b", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/types/AbstractFileSet.java", "commitBeforeChange": "a41c55cd1af2ca412cb61ee6c81a7a93c9ab8a2d", "commitAfterChange": "d2d5078dc7b94ec29512c2609322281dbc983539", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": "     protected abstract String getDataTypeName();", "signatureAfterChange": "     protected String getDataTypeName()", "diff": ["-    protected abstract String getDataTypeName();", "+    protected String getDataTypeName() {", "+        // look up the types in project and see if they match this class", "+        Project project = getProject();", "+        if (project != null) {", "+            Hashtable typedefs = project.getDataTypeDefinitions();", "+            for (Enumeration e = typedefs.keys(); e.hasMoreElements();) {", "+                String typeName = (String)e.nextElement();", "+                Class typeClass = (Class)typedefs.get(typeName);", "+                if (typeClass == getClass()) {", "+                    return typeName;", "+                }", "+            }", "+        }", "+            ", "+        String classname = getClass().getName();", "+        ", "+        int dotIndex = classname.lastIndexOf(\".\");", "+        if (dotIndex == -1) {", "+            return classname;", "+        }", "+        return classname.substring(dotIndex + 1); ", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5c327b16b42f02b8a9b1f15aba5607dc", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Manifest.java", "commitBeforeChange": "6d54725ac9d2fc606d5b4d8ec6574b648399f68d", "commitAfterChange": "c34b9ee41bcc31359f581d04d38e0b5615eee21b", "methodNumberBeforeChange": 29, "methodNumberAfterChange": 31, "signatureBeforeChange": "         public boolean equals(Object rhs)", "signatureAfterChange": "         public boolean equals(Object rhs)", "diff": ["-            if (!(rhs instanceof Section)) {", "+            if (rhs == null || rhs.getClass() != getClass()) {", "+            }", "+    ", "+            if (rhs == this) {", "+                return true;", "-            if (attributes.size() != rhsSection.attributes.size()) {", "-                return false;", "-            }", "-", "-            for (Enumeration e = attributes.keys(); e.hasMoreElements();) {", "-                String attributeName = (String) e.nextElement();", "-                Object attributeValue  = attributes.get(attributeName);", "-                Object rhsAttributeValue ", "-                    = rhsSection.attributes.get(attributeName);", "-                if (!attributeValue.equals(rhsAttributeValue)) {", "-                    return false;", "-                }", "-            }", "-", "-            return true;", "+            ", "+            return attributes.equals(rhsSection.attributes);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7f9a4ecde3fa14d07717dc76007a3cfb", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/sandbox/embed/ProjectHelperImpl2.java", "commitBeforeChange": "f2d8ae34069b455a64a46431bd44a3b2a208e9d7", "commitAfterChange": "86334974455a492f4b76331b6002a45289874ddf", "methodNumberBeforeChange": 34, "methodNumberAfterChange": 31, "signatureBeforeChange": "     private static SAXParserFactory getParserFactory()", "signatureAfterChange": "      public static AttributeList sax1Attributes( Attributes sax2Att )", "diff": ["-     */", "-    private static SAXParserFactory getParserFactory() {", "-        if (parserFactory == null) {", "-            parserFactory = SAXParserFactory.newInstance();", "-        }", "-", "-        return parserFactory;", "-    }", "+    public static AttributeList sax1Attributes( Attributes sax2Att ) {", "+        AttributeListImpl sax1Att=new AttributeListImpl();", "+        int length = sax2Att.getLength();", "+        if (length > 0) {", "+            for (int i = 0; i < length; i++) {", "+                // System.out.println(\"Attributes: \" + sax2Att.getQName(i) + \" \" +", "+                //                    sax2Att.getValue(i));", "+                sax1Att.addAttribute( sax2Att.getQName(i), ", "+                                      sax2Att.getType(i),", "+                                      sax2Att.getValue(i));", "+            }", "+\t}", "+        return sax1Att;"]}]}