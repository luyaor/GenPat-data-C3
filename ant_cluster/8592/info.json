{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ebeef18b1726ca314812bab4acd1a01e", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0e88a534de63a8bcaa2ebd7a1e64469f", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/types/ZipScanner.java", "commitBeforeChange": "8c9105e494edd2480f81d5a3e69fc9e3e8918149", "commitAfterChange": "88f6a102293dc1fe277ec2fc50761b798101fc3b", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 6, "signatureBeforeChange": "     private void scanme()", "signatureAfterChange": "     private void scanme()", "diff": ["-        if (task != null) {", "-            task.log(\"checking zip entries: \" + srcFile, Project.MSG_VERBOSE);", "-        }", "-", "-                if (task != null) {", "-                    task.log(\"opening input stream from \" + srcFile,", "-                             Project.MSG_DEBUG);", "-                }", "-                // XXX - throw a BuildException instead ??", "-                if (task != null) {", "-                    task.log(\"problem opening \"+srcFile,Project.MSG_ERR);", "-                }", "+                throw new BuildException(\"problem opening \" + srcFile, ex);", "-                    if (task != null) {", "-                        task.log(\"adding entry \" + entry.getName() + \" from \"", "-                                 + srcFile, Project.MSG_DEBUG);", "-                    }", "-", "-                    // XXX - throw a BuildException instead ??", "-                    if (task != null ) {", "-                        task.log(\"problem reading \" + srcFile,", "-                                 Project.MSG_ERR);", "-                    }", "-", "+                    throw new BuildException(\"problem reading \" + srcFile,", "+                                             ex);", "-                    // XXX - throw a BuildException instead ??", "-                    if (task != null) {", "-                        task.log(\"problem reading zip entry from \" + srcFile,", "-                                 Project.MSG_ERR);", "-                    }", "+                    throw new BuildException(\"problem reading zip entry from \" ", "+                                             + srcFile, e);", "-                    if (task != null) {", "-                        task.log(\"closing input stream from \" + srcFile,", "-                                 Project.MSG_DEBUG);", "-                    }", "-                    if (task != null) {", "-                        task.log(\"problem closing input stream from \"", "-                                 + srcFile, Project.MSG_ERR);", "-                    }", "+                    // swallow"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d30158eb3c3c7e6ac6b368786ca89660", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Copy.java", "commitBeforeChange": "49f0cadf53584f85d31718f3413ea2c8fbf77274", "commitAfterChange": "94e18bdaaa70e6e4f333cae68ee7721e062b9807", "methodNumberBeforeChange": 29, "methodNumberAfterChange": 29, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": "     public void execute() throws BuildException", "diff": ["-            if (file != null) {", "-                if (file.exists()) {", "-                    if (destFile == null) {", "-                        destFile = new File(destDir, file.getName());", "-                    }", "-                    if (forceOverwrite || !destFile.exists()", "-                        || (file.lastModified() - granularity", "-                                > destFile.lastModified())) {", "-                        fileCopyMap.put(file.getAbsolutePath(),", "-                                        new String[] {destFile.getAbsolutePath()});", "-                    } else {", "-                        log(file + \" omitted as \" + destFile", "-                            + \" is up to date.\", Project.MSG_VERBOSE);", "-                    }", "-                } else {", "-                    String message = \"Warning: Could not find file \"", "-                        + file.getAbsolutePath() + \" to copy.\";", "-                    if (!failonerror) {", "-                        log(message, Project.MSG_ERR);", "-                    } else {", "-                        throw new BuildException(message);", "-                    }", "-                }", "-            }", "+            copySingleFile();", "+", "-            Iterator iter = baseDirs.iterator();", "-            while (iter.hasNext()) {", "-                File f = (File) iter.next();", "-                List files = (List) filesByBasedir.get(f);", "-                List dirs = (List) dirsByBasedir.get(f);", "-", "-                String[] srcFiles = new String[0];", "-                if (files != null) {", "-                    srcFiles = (String[]) files.toArray(srcFiles);", "-                }", "-                String[] srcDirs = new String[0];", "-                if (dirs != null) {", "-                    srcDirs = (String[]) dirs.toArray(srcDirs);", "-                }", "-                scan(f == NULL_FILE_PLACEHOLDER ? null : f, destDir, srcFiles,", "-                     srcDirs);", "-            }", "+            iterateOverBaseDirs(baseDirs, dirsByBasedir, filesByBasedir);"]}]}