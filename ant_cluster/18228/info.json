{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "70fc2ac7d89bacc9ad648dfb34cc30a1", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6bdf2e71ece683545427164a2944e749", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/main/org/apache/tools/ant/taskdefs/optional/Cab.java", "commitBeforeChange": "c145ffcaa4f9c194fc325559c7856f0421f11086", "commitAfterChange": "30655bbece94a2cdc2fbd519f1d4f7bb767304ef", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 5, "signatureBeforeChange": "      public void execute()         throws TaskException", "signatureAfterChange": "      public void execute()         throws TaskException", "diff": ["-", "-        ArrayList files = getFileList();", "+        final ArrayList files = getFileList();", "+        {", "+        }", "-        getLogger().info( \"Building \" + archiveType + \": \" + cabFile.getAbsolutePath() );", "+        getLogger().info( \"Building cab: \" + m_cabFile.getAbsolutePath() );", "-            StringBuffer sb = new StringBuffer();", "+            final StringBuffer sb = new StringBuffer();", "-            Iterator fileEnum = files.iterator();", "-", "-            while( fileEnum.hasNext() )", "+            final Iterator e = files.iterator();", "+            while( e.hasNext() )", "-                sb.append( fileEnum.next() ).append( \"\\n\" );", "+                sb.append( e.next() ).append( \"\\n\" );", "-            sb.append( \"\\n\" ).append( cabFile.getAbsolutePath() ).append( \"\\n\" );", "+            sb.append( \"\\n\" ).append( m_cabFile.getAbsolutePath() ).append( \"\\n\" );", "-                String msg = \"Problem creating \" + cabFile + \" \" + ex.getMessage();", "+                String msg = \"Problem creating \" + m_cabFile + \" \" + ex.getMessage();", "-                ExecTask exec = createExec();", "-                File outFile = null;", "-", "-                // die if cabarc fails", "-                exec.setDir( baseDir );", "-", "-                if( !doVerbose )", "-                {", "-                    outFile = File.createTempFile( \"ant\", \"\", getBaseDirectory() );", "-                    exec.setOutput( outFile );", "-                }", "-", "-                setupCommand( listFile, exec );", "-                exec.execute();", "-", "-                if( outFile != null )", "-                {", "-                    outFile.delete();", "-                }", "+                Execute2 exe = new Execute2();", "+                setupLogger( exe );", "+                exe.setWorkingDirectory( m_baseDir );", "+                final Commandline cmd = createCommand( listFile );", "+                exe.setCommandline( cmd.getCommandline() );", "+                exe.execute();", "-            catch( IOException ioe )", "+            catch( final IOException ioe )", "-                String msg = \"Problem creating \" + cabFile + \" \" + ioe.getMessage();", "-                throw new TaskException( msg );", "+                final String message =", "+                    \"Problem creating \" + m_cabFile + \" \" + ioe.getMessage();", "+                throw new TaskException( message );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "85c0b70e85fc4be5f00e2520c4fdb4e4", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/todo/org/apache/tools/ant/taskdefs/optional/Cab.java", "commitBeforeChange": "c145ffcaa4f9c194fc325559c7856f0421f11086", "commitAfterChange": "30655bbece94a2cdc2fbd519f1d4f7bb767304ef", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 5, "signatureBeforeChange": "      public void execute()         throws TaskException", "signatureAfterChange": "      public void execute()         throws TaskException", "diff": ["-", "-        ArrayList files = getFileList();", "+        final ArrayList files = getFileList();", "+        {", "+        }", "-        getLogger().info( \"Building \" + archiveType + \": \" + cabFile.getAbsolutePath() );", "+        getLogger().info( \"Building cab: \" + m_cabFile.getAbsolutePath() );", "-            StringBuffer sb = new StringBuffer();", "+            final StringBuffer sb = new StringBuffer();", "-            Iterator fileEnum = files.iterator();", "-", "-            while( fileEnum.hasNext() )", "+            final Iterator e = files.iterator();", "+            while( e.hasNext() )", "-                sb.append( fileEnum.next() ).append( \"\\n\" );", "+                sb.append( e.next() ).append( \"\\n\" );", "-            sb.append( \"\\n\" ).append( cabFile.getAbsolutePath() ).append( \"\\n\" );", "+            sb.append( \"\\n\" ).append( m_cabFile.getAbsolutePath() ).append( \"\\n\" );", "-                String msg = \"Problem creating \" + cabFile + \" \" + ex.getMessage();", "+                String msg = \"Problem creating \" + m_cabFile + \" \" + ex.getMessage();", "-                ExecTask exec = createExec();", "-                File outFile = null;", "-", "-                // die if cabarc fails", "-                exec.setDir( baseDir );", "-", "-                if( !doVerbose )", "-                {", "-                    outFile = File.createTempFile( \"ant\", \"\", getBaseDirectory() );", "-                    exec.setOutput( outFile );", "-                }", "-", "-                setupCommand( listFile, exec );", "-                exec.execute();", "-", "-                if( outFile != null )", "-                {", "-                    outFile.delete();", "-                }", "+                Execute2 exe = new Execute2();", "+                setupLogger( exe );", "+                exe.setWorkingDirectory( m_baseDir );", "+                final Commandline cmd = createCommand( listFile );", "+                exe.setCommandline( cmd.getCommandline() );", "+                exe.execute();", "-            catch( IOException ioe )", "+            catch( final IOException ioe )", "-                String msg = \"Problem creating \" + cabFile + \" \" + ioe.getMessage();", "-                throw new TaskException( msg );", "+                final String message =", "+                    \"Problem creating \" + m_cabFile + \" \" + ioe.getMessage();", "+                throw new TaskException( message );"]}]}