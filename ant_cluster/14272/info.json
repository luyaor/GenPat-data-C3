{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2474bcd3c4e0f4ca2b4159994fff35e6", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8ba65bbda46b8dfe31b44838af021456", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Zip.java", "commitBeforeChange": "f0ffaff10c7cd449806b6040a8c8220bcf92c3f7", "commitAfterChange": "54b84962a5cf180a8c3cd20236acea0a790619a8", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 18, "signatureBeforeChange": "     protected void addFiles(Vector filesets, ZipOutputStream zOut)         throws IOException", "signatureAfterChange": "     protected void addFiles(Vector filesets, ZipOutputStream zOut)         throws IOException", "diff": ["-            FileSet fs = (FileSet) filesets.elementAt(i);", "+            ZipFileSet fs = (ZipFileSet) filesets.elementAt(i);", "-            String prefix = \"\";", "-            String fullpath = \"\";", "-            if (fs instanceof PrefixedFileSet) {", "-                PrefixedFileSet pfs = (PrefixedFileSet) fs;", "-                prefix = pfs.getPrefix();", "-                fullpath = pfs.getFullpath();", "-            }", "-            ", "+            String prefix = fs.getPrefix();", "+            String fullpath = fs.getFullpath();", "-            // Add the fileset.", "-            addFiles(ds, zOut, prefix, fullpath);", "+", "+            if (fs.getSrc() != null) {", "+              addZipEntries(fs, ds, zOut, prefix);", "+             } else {", "+               // Add the fileset.", "+                 addFiles(ds, zOut, prefix, fullpath);", "+             }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fcc2bc7fbd93d5c6bdb3b81a42db438f", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/util/DOMElementWriter.java", "commitBeforeChange": "a0bdebda494efdd0587b9e619774ccfd30b74be8", "commitAfterChange": "cc6786e6a60a3432bd3e5db472939b21879251ce", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "     public void openElement(Element element, Writer out, int indent,                             String indentWith, boolean hasChildren)         throws IOException", "signatureAfterChange": "     public void openElement(Element element, Writer out, int indent,                             String indentWith, boolean hasChildren)         throws IOException", "diff": ["-            String prefix = (String) nsPrefixMap.get(element.getNamespaceURI());", "+            String uri = getNamespaceURI(element);", "+            String prefix = (String) nsPrefixMap.get(uri);", "-                nsPrefixMap.put(element.getNamespaceURI(), prefix);", "-                addNSDefinition(element, element.getNamespaceURI());", "+                nsPrefixMap.put(uri, prefix);", "+                addNSDefinition(element, uri);", "-                String prefix =", "-                    (String) nsPrefixMap.get(attr.getNamespaceURI());", "+                String uri = getNamespaceURI(attr);", "+                String prefix = (String) nsPrefixMap.get(uri);", "-                    nsPrefixMap.put(attr.getNamespaceURI(), prefix);", "-                    addNSDefinition(element, attr.getNamespaceURI());", "+                    nsPrefixMap.put(uri, prefix);", "+                    addNSDefinition(element, uri);"]}]}