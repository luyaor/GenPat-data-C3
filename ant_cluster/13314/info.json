{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5194afe93541ba0a13aa2d8646f1e1a7", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "832af564bfcd3dd2cd2f9c9d2f94b60f", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/script/ScriptDef.java", "commitBeforeChange": "8585763d2022bbdda30bb6a7e2d523fbea25542a", "commitAfterChange": "02e16487243acbf6815bc357d7e2dd9e702bdf97", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 10, "signatureBeforeChange": "     public void executeScript(Map attributes, Map elements)", "signatureAfterChange": "     public void executeScript(Map attributes, Map elements)", "diff": ["-        try {", "-            BSFManager manager = new BSFManager();", "-            // execute the script", "-            manager.declareBean(\"attributes\", attributes,", "-                attributes.getClass());", "-            manager.declareBean(\"elements\", elements,", "-                elements.getClass());", "-            manager.declareBean(\"project\", getProject(), Project.class);", "-            manager.exec(language, \"scriptdef <\" + name + \">\", 0, 0, script);", "-        } catch (BSFException e) {", "-            Throwable t = e;", "-            Throwable te = e.getTargetException();", "-            if (te != null) {", "-                if (te instanceof BuildException) {", "-                    throw (BuildException) te;", "-                } else {", "-                    t = te;", "-                }", "-            }", "-            throw new BuildException(t);", "-        }", "+        runner.addBean(\"attributes\", attributes);", "+        runner.addBean(\"elements\", elements);", "+        runner.addBean(\"project\", getProject());", "+        runner.executeScript(\"scriptdef <\" + name + \">\");", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f15d16ae2ced6cd1405defcef21487f1", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/Script.java", "commitBeforeChange": "e525cc224a3053d08b6aaa6c1953f7507aede854", "commitAfterChange": "945b6d36d1eec5f3ce4df1f71c041564ce01f5e8", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 1, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": "     public void execute() throws BuildException", "diff": ["-        BSFManager manager = new BSFManager ();", "-            // add id references (<task id=\"foo\">)", "-            Hashtable references = project.getReferences();", "-            for (Enumeration e = references.keys() ; e.hasMoreElements() ;) {", "-                String key = (String)e.nextElement();", "-                Object value = references.get(key);", "-                manager.declareBean(key, value, value.getClass());", "-            }", "+            addBeans(project.getProperties());", "+            addBeans(project.getUserProperties());", "+            addBeans(project.getTargets());", "+            addBeans(project.getReferences());", "-            // add properties (<property name=\"foo\">)", "-            Hashtable properties = project.getProperties();", "-            for (Enumeration e = properties.keys() ; e.hasMoreElements() ;) {", "+            BSFManager manager = new BSFManager ();", "+", "+            for (Enumeration e = beans.keys() ; e.hasMoreElements() ;) {", "-                if (!references.contains(key)) {", "-                    Object value = properties.get(key);", "-                    manager.declareBean(key, value, value.getClass());", "-                }", "+                Object value = beans.get(key);", "+                manager.declareBean(key, value, value.getClass());"]}]}