{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "c6786d9afb3f21be3c43de18f0e26f69", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2544820a8e2d29587e5a21beb283e064", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Execute.java", "commitBeforeChange": "8d4985ca744bd0925d812835615bb991b16e1db2", "commitAfterChange": "f62d563414e6848898008af84073651eb83a7959", "methodNumberBeforeChange": 50, "methodNumberAfterChange": 50, "signatureBeforeChange": "         private File createCommandFile(String[] cmd, String[] env)             throws IOException", "signatureAfterChange": "         private File createCommandFile(String[] cmd, String[] env)             throws IOException", "diff": ["-            PrintWriter out = null;", "+            BufferedWriter out = null;", "-                out = new PrintWriter(new FileWriter(script));", "+                out = new BufferedWriter(new FileWriter(script));", "-                            out.print(\"$ DEFINE/NOLOG \");", "-                            out.print(env[i].substring(0, eqIndex));", "-                            out.print(\" \\\"\");", "-                            out.print(env[i].substring(eqIndex + 1));", "-                            out.println('\\\"');", "+                            out.write(\"$ DEFINE/NOLOG \");", "+                            out.write(env[i].substring(0, eqIndex));", "+                            out.write(\" \\\"\");", "+                            out.write(env[i].substring(eqIndex + 1));", "+                            out.write('\\\"');", "+                            out.newLine();", "-                out.print(\"$ \" + cmd[0]);", "+                out.write(\"$ \" + cmd[0]);", "-                    out.println(\" -\");", "-                    out.print(cmd[i]);", "+                    out.write(\" -\");", "+                    out.newLine();", "+                    out.write(cmd[i]);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4f3892a0e4dbf16f42c31711619883b9", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Execute.java", "commitBeforeChange": "d3122c568192c3da62eb74174d96674a679999a8", "commitAfterChange": "655ad8f525f6d55fe32cbecdd3ef437b0f5d5fa5", "methodNumberBeforeChange": 47, "methodNumberAfterChange": 47, "signatureBeforeChange": "         private File createCommandFile(String[] cmd) throws IOException", "signatureAfterChange": "         private File createCommandFile(String[] cmd, String[] env)             throws IOException", "diff": ["-        private File createCommandFile(String[] cmd) throws IOException {", "+        private File createCommandFile(String[] cmd, String[] env)", "+            throws IOException {", "-                StringBuffer dclCmd = new StringBuffer(\"$\");", "-                for (int i = 0; i < cmd.length; i++) {", "-                    dclCmd.append(' ').append(cmd[i]);", "+", "+                // add the environment as logicals to the DCL script", "+                if (env != null) {", "+                    int eqIndex;", "+                    for (int i = 1; i < env.length ; i++) {", "+                        eqIndex = env[i].indexOf('=');", "+                        if (eqIndex != -1) {", "+                            out.print(\"$ DEFINE/NOLOG \");", "+                            out.print(env[i].substring(0, eqIndex));", "+                            out.print(\" \\\"\");", "+                            out.print(env[i].substring(eqIndex + 1));", "+                            out.println('\\\"');", "+                        }", "+                    }", "-                out.println(dclCmd.toString());", "+", "+                out.print(\"$ \" + cmd[0]);", "+                for (int i = 1; i < cmd.length ; i++) {", "+                    out.println(\" -\");", "+                    out.print(cmd[i]);", "+                }"]}]}