{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "fb6730173222cfeaabae7cf245890627", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "029cf700dfe100775f54d114b9e6989b", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/cvslib/ChangeLogWriter.java", "commitBeforeChange": "87ca5fc8872e1548ba521658193c08802b3bc609", "commitAfterChange": "46632032bc02d6e0c4e016769243767e8239cd92", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "     private void printEntry(final PrintWriter output, final CVSEntry entry)", "signatureAfterChange": "     private void printEntry(Document doc, final PrintWriter output,                             final CVSEntry entry) throws IOException", "diff": ["-    private void printEntry(final PrintWriter output, final CVSEntry entry) {", "-        output.println(\"\\t<entry>\");", "-        output.println(\"\\t\\t<date>\" + OUTPUT_DATE.format(entry.getDate())", "-            + \"</date>\");", "-        output.println(\"\\t\\t<time>\" + OUTPUT_TIME.format(entry.getDate())", "-            + \"</time>\");", "-        output.println(\"\\t\\t<author><![CDATA[\" + entry.getAuthor()", "-            + \"]]></author>\");", "+    private void printEntry(Document doc, final PrintWriter output,", "+                            final CVSEntry entry) throws IOException {", "+        Element ent = doc.createElement(\"entry\");", "+        DOMUtils.appendTextElement(ent, \"date\",", "+                                   OUTPUT_DATE.format(entry.getDate()));", "+        DOMUtils.appendTextElement(ent, \"time\",", "+                                   OUTPUT_TIME.format(entry.getDate()));", "+        DOMUtils.appendCDATAElement(ent, \"author\", entry.getAuthor());", "-            output.println(\"\\t\\t<file>\");", "-            output.println(\"\\t\\t\\t<name><![CDATA[\" + file.getName() + \"]]></name>\");", "-            output.println(\"\\t\\t\\t<revision>\" + file.getRevision()", "-                + \"</revision>\");", "+            Element f = DOMUtils.createChildElement(ent, \"file\");", "+            DOMUtils.appendCDATAElement(f, \"name\", file.getName());", "+            DOMUtils.appendTextElement(f, \"revision\", file.getRevision());", "-", "-                output.println(\"\\t\\t\\t<prevrevision>\" + previousRevision", "-                    + \"</prevrevision>\");", "+                DOMUtils.appendTextElement(f, \"prevrevision\",", "+                                           previousRevision);", "-", "-            output.println(\"\\t\\t</file>\");", "-        output.println(\"\\t\\t<msg><![CDATA[\" + entry.getComment() + \"]]></msg>\");", "-        output.println(\"\\t</entry>\");", "+        DOMUtils.appendCDATAElement(ent, \"msg\", entry.getComment());", "+        DOM_WRITER.write(ent, output, 1, \"\\t\");"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2b0a78f9fcbb6b84d4805dd6126b2ae6", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/cvslib/CvsTagDiff.java", "commitBeforeChange": "87ca5fc8872e1548ba521658193c08802b3bc609", "commitAfterChange": "46632032bc02d6e0c4e016769243767e8239cd92", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "     private void writeTagEntry(PrintWriter writer, CvsTagEntry entry)", "signatureAfterChange": "     private void writeTagEntry(Document doc, PrintWriter writer,                                CvsTagEntry entry)         throws IOException", "diff": ["-    private void writeTagEntry(PrintWriter writer, CvsTagEntry entry) {", "-        writer.println(\"\\t<entry>\");", "-        writer.println(\"\\t\\t<file>\");", "-        writer.println(\"\\t\\t\\t<name>\" + entry.getFile() + \"</name>\");", "-        if (entry.getRevision() != null) {", "-            writer.println(\"\\t\\t\\t<revision>\" + entry.getRevision()", "-                           + \"</revision>\");", "-        }", "+    private void writeTagEntry(Document doc, PrintWriter writer,", "+                               CvsTagEntry entry)", "+        throws IOException {", "+        Element ent = doc.createElement(\"entry\");", "+        Element f = DOMUtils.createChildElement(ent, \"file\");", "+        DOMUtils.appendCDATAElement(f, \"name\", entry.getFile());", "+        DOMUtils.appendTextElement(f, \"revision\", entry.getRevision());", "-            writer.println(\"\\t\\t\\t<prevrevision>\"", "-                           + entry.getPreviousRevision() + \"</prevrevision>\");", "+            DOMUtils.appendTextElement(f, \"prevrevision\",", "+                                       entry.getPreviousRevision());", "-        writer.println(\"\\t\\t</file>\");", "-        writer.println(\"\\t</entry>\");", "+        DOM_WRITER.write(ent, writer, 1, \"\\t\");"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ea0857e91d33eb8cd16386dd50a2edc5", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/sandbox/svn/src/main/org/apache/tools/ant/taskdefs/svn/SvnChangeLogWriter.java", "commitBeforeChange": "a7900921c30f730f0fda304913f867dee4dcebc5", "commitAfterChange": "8e1526690c36888c17997c5730c897819117fe70", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "     private void printEntry(final PrintWriter output, final SvnEntry entry)", "signatureAfterChange": "     private void printEntry(final PrintWriter output, final SvnEntry entry,                             final Element element) throws IOException", "diff": ["-    private void printEntry(final PrintWriter output, final SvnEntry entry) {", "-        output.println(\"\\t<entry>\");", "-        output.println(\"\\t\\t<date>\" + OUTPUT_DATE.format(entry.getDate())", "-            + \"</date>\");", "-        output.println(\"\\t\\t<time>\" + OUTPUT_TIME.format(entry.getDate())", "-            + \"</time>\");", "-        output.println(\"\\t\\t<author><![CDATA[\" + entry.getAuthor()", "-            + \"]]></author>\");", "-        output.println(\"\\t\\t<revision>\" + entry.getRevision()", "-            + \"</revision>\");", "+    private void printEntry(final PrintWriter output, final SvnEntry entry,", "+                            final Element element) throws IOException {", "+        Document doc = element.getOwnerDocument();", "+", "+        Element ent = doc.createElement(\"entry\");", "+        appendTextElement(ent, \"date\", OUTPUT_DATE.format(entry.getDate()));", "+        appendTextElement(ent, \"time\", OUTPUT_TIME.format(entry.getDate()));", "+        appendCDATAElement(ent, \"author\", entry.getAuthor());", "+        appendTextElement(ent, \"revision\", entry.getRevision());", "-            output.println(\"\\t\\t<path>\");", "-            output.println(\"\\t\\t\\t<name><![CDATA[\" + paths[i].getName() ", "-                           + \"]]></name>\");", "-            output.println(\"\\t\\t\\t<action>\" + paths[i].getActionDescription() ", "-                           + \"</action>\");", "-            output.println(\"\\t\\t</path>\");", "+            Element path = doc.createElement(\"path\");", "+            ent.appendChild(path);", "+            appendCDATAElement(path, \"name\", paths[i].getName());", "+            appendTextElement(path, \"action\", paths[i].getActionDescription());", "-        output.println(\"\\t\\t<message><![CDATA[\" + entry.getMessage() + \"]]></message>\");", "-        output.println(\"\\t</entry>\");", "+        appendCDATAElement(ent, \"message\", entry.getMessage());", "+        DOM_WRITER.write(ent, output, 1, \"\\t\");", "+    }"]}]}