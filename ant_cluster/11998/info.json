{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "14ba1e87f8ba983fb69868de0a3834d7", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "095626d35f1516849b0a4df2767c027c", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/launch/Launcher.java", "commitBeforeChange": "037cb17def902e44bd57ea63e9f1e7f1d33d0e00", "commitAfterChange": "1ba91e4855745fe4ca97ba003289e11d2ffe4c88", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "     private void run(String[] args) throws LaunchException, MalformedURLException", "signatureAfterChange": "     private void run(String[] args) throws LaunchException, MalformedURLException", "diff": ["-        URL[] systemJars = Locator.getLocationURLs(jarDir);", "+        // determine ant library directory for system jars: use property", "+        // or default using location of ant-launcher.jar", "+        File antLibDir = null;", "+        String antLibDirProperty = System.getProperty(ANTLIBDIR_PROPERTY);", "+        if (antLibDirProperty != null) {", "+            antLibDir = new File(antLibDirProperty);", "+        }", "+        if ((antLibDir == null) || ! antLibDir.exists()) {", "+            antLibDir = jarDir;", "+            System.setProperty(ANTLIBDIR_PROPERTY, antLibDir.getAbsolutePath());", "+        }", "+        URL[] systemJars = Locator.getLocationURLs(antLibDir);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "31e8fd8fd9d74592e796362c531c9045", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/SQLExec.java", "commitBeforeChange": "596d7e465f62f4783ed3ac41870098d56d018322", "commitAfterChange": "f4fc4080573cc5711f0e2b888fe9d0af6720eaca", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 17, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": "     public void execute() throws BuildException", "diff": ["-            // Process all transactions", "-            for (Enumeration e = transactions.elements(); ", "-                 e.hasMoreElements();) {", "-                ((Transaction) e.nextElement()).runTransaction();", "-                if (!autocommit) {", "-                    log(\"Commiting transaction\", Project.MSG_VERBOSE);", "-                    conn.commit();", "+            ", "+            PrintStream out = System.out;", "+            try {", "+                if (output != null) {", "+        \t    log(\"Opening PrintStream to output file \" + output, Project.MSG_VERBOSE);", "+                    out = new PrintStream(new BufferedOutputStream(new FileOutputStream(output)));", "+                }", "+                        ", "+                // Process all transactions", "+                for (Enumeration e = transactions.elements(); ", "+                     e.hasMoreElements();) {", "+                       ", "+                    ((Transaction) e.nextElement()).runTransaction(out);", "+                    if (!autocommit) {", "+                        log(\"Commiting transaction\", Project.MSG_VERBOSE);", "+                        conn.commit();", "+                    }", "-            ", "+            finally {", "+                if (out != null && out != System.out) {", "+                    out.close();", "+                }", "+            }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "aa6978608b97081646a680770b2c73af", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/javah/SunJavah.java", "commitBeforeChange": "90c28ffdf98130bfe0c147e5485b60a77dfac02b", "commitAfterChange": "45655beb8963d4baaa2c9a521623cc3ec7fef0bb", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "     public boolean compile(Javah javah) throws BuildException", "signatureAfterChange": "     public boolean compile(Javah javah) throws BuildException", "diff": ["-", "+        Class c = null;", "-                Class.forName(\"com.sun.tools.javah.oldjavah.Main\");", "-                cmd.setExecutable(\"com.sun.tools.javah.oldjavah.Main\");", "+                c = Class.forName(\"com.sun.tools.javah.oldjavah.Main\");", "-                Class.forName(\"com.sun.tools.javah.Main\");", "-                cmd.setExecutable(\"com.sun.tools.javah.Main\");", "+                c = Class.forName(\"com.sun.tools.javah.Main\");", "+        cmd.setExecutable(c.getName());", "+        File f = Locator.getClassSource(c);", "+        if (f != null) {", "+            ej.setClasspath(new Path(javah.getProject(), f.getPath()));", "+        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f574062f8e6296f79b45339483f89dd1", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Concat.java", "commitBeforeChange": "ec980be7345681968c93f0609e9a3fecb39b9753", "commitAfterChange": "fbb9886634198d8377104bef9ec697fadeb134df", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 20, "signatureBeforeChange": "     public void execute()", "signatureAfterChange": "     public void execute()", "diff": ["+     */", "+    public void execute() {", "+        ResourceCollection c = validate();", "+        if (c == null) {", "+            return;", "+        }", "+        // Do nothing if no resources (including nested text)", "+        if (c.size() < 1 && header == null && footer == null) {", "+            log(\"No existing resources and no nested text, doing nothing\",", "+            binaryCat(c);", "-     */", "-    public void execute() {", "-        try {", "-            checkAndExecute();", "-        } finally {", "-            resetTask();", "-        }", "-    }", "+            cat(c);"]}]}