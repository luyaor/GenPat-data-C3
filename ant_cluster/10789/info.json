{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b1d8f2c12e8419d4d34d910a8eac9a40", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "04ffa3152dfb59b38e861bb3be5ff992", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/launch/Launcher.java", "commitBeforeChange": "36d84a61dc70dd6bbc8ee25d5261de5f2874e837", "commitAfterChange": "f3939727d9e11188d266beed7e9dfa8e2fd0bc9a", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "     private void run(String[] args) throws MalformedURLException", "signatureAfterChange": "     private void run(String[] args) throws MalformedURLException", "diff": ["-        URL launchJarURL = Locator.getClassLocationURL(getClass());", "-        File jarDir = new File(launchJarURL.getFile()).getParentFile();", "+        File sourceJar = Locator.getClassSource(getClass());", "+        File jarDir = sourceJar.getParentFile();", "-            URL antHomeURL = new URL(launchJarURL, \"..\");", "-            antHome = new File(antHomeURL.getFile());", "+            antHome = jarDir.getParentFile();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1839ac162aaf9f2732cdea6232ca2e53", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Tar.java", "commitBeforeChange": "b22e573ad2a2459a047bf740b141a6ebf727039d", "commitAfterChange": "56d0c2f91a32a2067a6810bede57cbd0187c4190", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "      protected boolean archiveIsUpToDate(String[] files)", "signatureAfterChange": "     protected boolean archiveIsUpToDate(String[] files)", "diff": ["+     */", "+        return archiveIsUpToDate(files, baseDir);", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "39479791756dbc3a4760e25ccffd2c9d", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/ExecTask.java", "commitBeforeChange": "a28f64f5cf1b63d9342683d77d79a5cdf9e67f85", "commitAfterChange": "ff41336fc19f549bc995898f4543da6d7e9d9bf9", "methodNumberBeforeChange": 31, "methodNumberAfterChange": 31, "signatureBeforeChange": "     protected String resolveExecutable(String exec, boolean mustSearchPath)", "signatureAfterChange": "     protected String resolveExecutable(String exec, boolean mustSearchPath)", "diff": ["-                Vector envVars = Execute.getProcEnvironment();", "-                Enumeration e = envVars.elements();", "-                while (e.hasMoreElements()) {", "-                    String line = (String) e.nextElement();", "-                    if (isPath(line)) {", "-                        p = new Path(getProject(), getPath(line));", "-                        break;", "-                    }", "+                String path = getPath(Execute.getEnvironmentVariables());", "+                if (path != null) {", "+                    p = new Path(getProject(), path);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "395e1e298f49d1323b6f38add679dc5b", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/UpToDate.java", "commitBeforeChange": "36e5ac64fd1e76c49877ce8bb5596589a2c55ddf", "commitAfterChange": "d99445bb67a0feecbc78238c54ff468fc72d2315", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 11, "signatureBeforeChange": "     protected boolean scanDir(File srcDir, String[] files)", "signatureAfterChange": "     protected boolean scanDir(File srcDir, String[] files)", "diff": ["-        FileNameMapper mapper = null;", "+        FileNameMapper mapper = getMapper();", "+        if (mapperElement == null) {", "+            dir = null;", "+        }", "+        return sfs.restrict(files, srcDir, dir, mapper).length == 0;", "+    }", "-            dir = null;", "-        return sfs.restrict(files, srcDir, dir, mapper).length == 0;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "468d2bec9a37142767e3dc12f1bcf856", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/XmlLogger.java", "commitBeforeChange": "c375195b522bdf90a8c560e56749320b7a861162", "commitAfterChange": "67e2ff36a93e90ff403e72e0035aef86962ecce8", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "      public void buildFinished(BuildEvent event)", "signatureAfterChange": "      public void buildFinished(BuildEvent event)", "diff": ["-            ByteArrayOutputStream baos = new ByteArrayOutputStream();", "-            PrintStream ps = new PrintStream(baos,true);", "-            t.printStackTrace(ps);", "-            ps.flush();", "-            ps.close();", "-            Text errText =  doc.createCDATASection(baos.toString());", "+            Text errText =  doc.createCDATASection(StringUtils.getStackTrace(t));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4d39702621c05430fc821a8cadcab0c5", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/types/XMLCatalog.java", "commitBeforeChange": "7829faf36a6f4bc565e0e8b92aa85cc948718176", "commitAfterChange": "9caeed5081071d6a2de28844d0a724918f8c6d86", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "     public void addConfiguredXMLCatalog(XMLCatalog catalog)", "signatureAfterChange": "     public void addConfiguredXMLCatalog(XMLCatalog catalog)", "diff": ["-        Vector newElements = catalog.getElements();", "-        Vector ourElements = getElements();", "-        Enumeration e = newElements.elements();", "-        while (e.hasMoreElements()) {", "-            ourElements.addElement(e.nextElement());", "-        }", "+        getElements().addAll(catalog.getElements());"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5427d3838fac428dbaf709340c9fd53d", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/junit/JUnitTask.java", "commitBeforeChange": "7b496796a17f0f7260141b2bbeb8681785788664", "commitAfterChange": "c524f9ba2269aab3e0126cedba791854d797c592", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "     public void setFailureProperty(String propertyName)", "signatureAfterChange": "     public void setFailureProperty(String propertyName)", "diff": ["-        Enumeration e = allTests();", "-        while (e.hasMoreElements()) {", "-            BaseTest test = (BaseTest) e.nextElement();", "-            test.setFailureProperty(propertyName);", "-        }", "+        this.failureProperty = propertyName;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6113af7d6dedf3d0ef8f3e8c03e7e7d6", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/IntrospectionHelper.java", "commitBeforeChange": "e563725d1b274806aa89b7e36fd8f73985254e25", "commitAfterChange": "7d8402eb2340f92ce04b61c3d55d3ba9eb743a1f", "methodNumberBeforeChange": 57, "methodNumberAfterChange": 57, "signatureBeforeChange": "     public void buildFinished(BuildEvent event)", "signatureAfterChange": " static void clearCache()", "diff": ["-    public void buildFinished(BuildEvent event) {", "-        attributeTypes.clear();", "-        attributeSetters.clear();", "-        nestedTypes.clear();", "-        nestedCreators.clear();", "-        addText = null;", "+    /*package private*/ static void clearCache() {", "-    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "65abd5cc5477dbcd79f9ef59c0c5aa40", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/sandbox/input/src/main/org/apache/tools/ant/taskdefs/Input.java", "commitBeforeChange": "7820c64af8cfa6122b1afe00622c3118ce935a36", "commitAfterChange": "88557a131bd0b0700462a61a7f3bd108dc15cf31", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "     public void execute () throws BuildException", "signatureAfterChange": "     public void execute () throws BuildException", "diff": ["-            Vector accept = new Vector();", "-            StringTokenizer stok = new StringTokenizer(validargs, \",\", false);", "-            while (stok.hasMoreTokens()) {", "-                accept.addElement(stok.nextToken());", "-            }", "+            Vector accept = StringUtils.split(validargs, ',');", "-                project.setProperty(addproperty, request.getInput());", "+                project.setNewProperty(addproperty, request.getInput());"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "90e79fc5e865d1dfb085afbe3fd13550", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/types/selectors/SelectorUtils.java", "commitBeforeChange": "33b7e4299233528015cc4b40713098fb6342b05e", "commitAfterChange": "787728897a6052af385456788bc4e578ba170ba5", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "     public static Vector tokenizePath(String path)", "signatureAfterChange": "    public static Vector tokenizePath (String path)", "diff": ["-     */", "-    public static Vector tokenizePath(String path) {", "-        Vector ret = new Vector();", "-        StringTokenizer st = new StringTokenizer(path, File.separator);", "-        while (st.hasMoreTokens()) {", "-            ret.addElement(st.nextToken());", "-        }", "-        return ret;", "-    }", "+    */", "+   public static Vector tokenizePath (String path) {", "+     return tokenizePath(path, File.separator);", "+   }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a6b7f2f4484ac8bbdcca60931a820e87", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/Main.java", "commitBeforeChange": "4985cd891399ea1f84e0634ccae2035145f6d9ab", "commitAfterChange": "531e66cb1e7a5c8c495d724a0dc52ab65a77faf7", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "     private File getParentFile(File file)", "signatureAfterChange": "     private File getParentFile(File file)", "diff": ["-        String filename = file.getAbsolutePath();", "-        file = new File(filename);", "-        filename = file.getParent();", "+        File parent = file.getParentFile();", "-        if (filename != null && msgOutputLevel >= Project.MSG_VERBOSE) {", "-            System.out.println(\"Searching in \" + filename);", "+        if (parent != null && msgOutputLevel >= Project.MSG_VERBOSE) {", "+            System.out.println(\"Searching in \" + parent.getAbsolutePath());", "-        return (filename == null) ? null : new File(filename);", "+        return parent;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d0c6d1cdfe75bd443da64ccd3137e51c", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/DirectoryScanner.java", "commitBeforeChange": "ed1abbaa01fd034c3d4d9a61f8a2bfc268ea74e6", "commitAfterChange": "f61c1bcd3a4a540bac7ae97559f37c49bfee75d8", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "     private static Vector tokenizePath (String path)", "signatureAfterChange": "     private static Vector tokenizePath (String path)", "diff": ["-        Vector ret = new Vector();", "-        StringTokenizer st = new StringTokenizer(path, File.separator);", "-        while (st.hasMoreTokens()) {", "-            ret.addElement(st.nextToken());", "-        }", "-        return ret;", "+        return SelectorUtils.tokenizePath(path);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e4855c5865c1413f37d560bcbb291e52", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/util/CompositeMapper.java", "commitBeforeChange": "01ca57a3170fe917f71d809eedfb4c3c059d38aa", "commitAfterChange": "d58f4d380b325e8802b1fdf22bd87ead365d1397", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "     public String[] mapFileName(String sourceFileName)", "signatureAfterChange": "     public String[] mapFileName(String sourceFileName)", "diff": ["-        HashSet results = new HashSet();", "-        LinkedList sortedResults = new LinkedList();", "+        LinkedHashSet results = new LinkedHashSet();", "-                        if (!results.contains(mapped[i])) {", "-                            results.add(mapped[i]);", "-                            sortedResults.addLast(mapped[i]);", "-                        }", "+                        results.add(mapped[i]);", "-            : (String[]) sortedResults.toArray(new String[results.size()]);", "+            : (String[]) results.toArray(new String[results.size()]);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f857adf6ce02c9d8b1300ea14ebbc445", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/junit/JUnitTask.java", "commitBeforeChange": "7b496796a17f0f7260141b2bbeb8681785788664", "commitAfterChange": "c524f9ba2269aab3e0126cedba791854d797c592", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "     public void setErrorProperty(String propertyName)", "signatureAfterChange": "     public void setErrorProperty(String propertyName)", "diff": ["-        Enumeration e = allTests();", "-        while (e.hasMoreElements()) {", "-            BaseTest test = (BaseTest) e.nextElement();", "-            test.setErrorProperty(propertyName);", "-        }", "+        this.errorProperty = propertyName;"]}]}