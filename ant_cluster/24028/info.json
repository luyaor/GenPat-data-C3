{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "98540e850a04abeeef018d56cc2d1c10", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "26830a6f4d37acfa8221621998e2ac05", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Tar.java", "commitBeforeChange": "8bad90e21d3773187cf7923150160965e2393d7a", "commitAfterChange": "8fa296bb51a8598af096eddbae69d1886c7b1ea7", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "      protected void tarFile(File file, TarOutputStream tOut, String vPath,                            TarFileSet tarFileSet)         throws IOException", "signatureAfterChange": "      protected void tarFile(File file, TarOutputStream tOut, String vPath,                            TarFileSet tarFileSet)         throws IOException", "diff": ["-        // don't add \"\" to the archive", "-        if (vPath.length() <= 0) {", "-            return;", "+        String fullpath = tarFileSet.getFullpath();", "+        if (fullpath.length() > 0) {", "+            vPath = fullpath;", "+        } else {", "+            // don't add \"\" to the archive", "+            if (vPath.length() <= 0) {", "+                return;", "+            }", "+        ", "+            if (file.isDirectory() && !vPath.endsWith(\"/\")) {", "+                vPath += \"/\";", "+            }", "+        ", "+            String prefix = tarFileSet.getPrefix();", "+            // '/' is appended for compatibility with the zip task.", "+            if (prefix.length() > 0 && !prefix.endsWith(\"/\")) {", "+                prefix = prefix + \"/\";", "+            }", "+            vPath = prefix + vPath;", "-        if (file.isDirectory() && !vPath.endsWith(\"/\")) {", "-            vPath += \"/\";", "+        if (vPath.startsWith(\"/\") && !tarFileSet.getPreserveLeadingSlashes()) {", "+            int l = vPath.length();", "+            if (l <= 1) {", "+                // we would end up adding \"\" to the archive", "+                return;", "+            } ", "+            vPath = vPath.substring(1, l);", "-            String prefix = tarFileSet.getPrefix();", "-            // '/' is appended for compatibility with the zip task.", "-            if(prefix.length() > 0 && !prefix.endsWith(\"/\")) {", "-                prefix = prefix + \"/\";", "-            }", "-", "-            TarEntry te = new TarEntry(prefix + vPath);", "+            TarEntry te = new TarEntry(vPath);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7ed3b46fafe3c2c8eea9ad26e42b7c28", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/Main.java", "commitBeforeChange": "bc60284c4113a11be40a67932557b1f9f178a015", "commitAfterChange": "94da71c7641a9cdccc8e4b5f0bd814fb75a70b7c", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "     private void processArgs(String[] args)", "signatureAfterChange": "     private void processArgs(String[] args)", "diff": ["+        boolean justPrintUsage = false;", "+        boolean justPrintVersion = false;", "+        boolean justPrintDiagnostics = false;", "+", "-                printUsage();", "-                return;", "+                justPrintUsage = true;", "-                printVersion();", "-                return;", "+                justPrintVersion = true;", "-                Diagnostics.doReport(System.out);", "-                return;", "+                justPrintDiagnostics = true;", "-                printVersion();", "-                printVersion();", "+        }", "+", "+        if (msgOutputLevel >= Project.MSG_VERBOSE || justPrintVersion) {", "+            printVersion(msgOutputLevel);", "+        }", "+", "+        if (justPrintUsage || justPrintVersion || justPrintDiagnostics) {", "+            if (justPrintUsage) {", "+                printUsage();", "+            }", "+            if (justPrintDiagnostics) {", "+                Diagnostics.doReport(System.out, msgOutputLevel);", "+            }", "+            return;"]}]}