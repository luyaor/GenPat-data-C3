{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "35046ec8de208770244d374d213e7c6f", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "50e71686b8a46013b3ab5b2f7fa02de7", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/todo/org/apache/tools/ant/taskdefs/file/Copy.java", "commitBeforeChange": "3bdfc1df4a3f1c9a8b034c24343517a2af4bc362", "commitAfterChange": "a6d997380d162ef16df244217c35992826886778", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "      protected void buildMap( File fromDir, File toDir, String[] names,                              FileNameMapper mapper, Hashtable map )         throws TaskException", "signatureAfterChange": "      protected void buildMap( final File fromDir,                              final File toDir,                              final String[] names,                              final FileNameMapper mapper,                              final Hashtable map )         throws TaskException", "diff": ["-    protected void buildMap( File fromDir, File toDir, String[] names,", "-                             FileNameMapper mapper, Hashtable map )", "+    protected void buildMap( final File fromDir,", "+                             final File toDir,", "+                             final String[] names,", "+                             final FileNameMapper mapper,", "+                             final Hashtable map )", "-", "-        String[] toCopy = null;", "-        if( forceOverwrite )", "+        final String[] toCopy = buildFilenameList( names, mapper, fromDir, toDir );", "+        for( int i = 0; i < toCopy.length; i++ )", "-            Vector v = new Vector();", "+            final String destFilename = mapper.mapFileName( toCopy[ i ] )[ 0 ];", "+", "+            final File src = new File( fromDir, toCopy[ i ] );", "+            final File dest = new File( toDir, destFilename );", "+            map.put( src.getAbsolutePath(), dest.getAbsolutePath() );", "+        }", "+    }", "-                if( mapper.mapFileName( names[ i ] ) != null )", "-                    v.addElement( names[ i ] );", "-            toCopy = new String[ v.size() ];", "-            v.copyInto( toCopy );", "-            SourceFileScanner ds = new SourceFileScanner( this );", "-            toCopy = ds.restrict( names, fromDir, toDir, mapper );", "-        }", "-", "-        for( int i = 0; i < toCopy.length; i++ )", "-        {", "-            File src = new File( fromDir, toCopy[ i ] );", "-            File dest = new File( toDir, mapper.mapFileName( toCopy[ i ] )[ 0 ] );", "-            map.put( src.getAbsolutePath(), dest.getAbsolutePath() );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8771a2d0c7209247fecf7ed6d16e09e0", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/main/org/apache/tools/ant/taskdefs/file/Copy.java", "commitBeforeChange": "3bdfc1df4a3f1c9a8b034c24343517a2af4bc362", "commitAfterChange": "a6d997380d162ef16df244217c35992826886778", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "      protected void buildMap( File fromDir, File toDir, String[] names,                              FileNameMapper mapper, Hashtable map )         throws TaskException", "signatureAfterChange": "      protected void buildMap( final File fromDir,                              final File toDir,                              final String[] names,                              final FileNameMapper mapper,                              final Hashtable map )         throws TaskException", "diff": ["-    protected void buildMap( File fromDir, File toDir, String[] names,", "-                             FileNameMapper mapper, Hashtable map )", "+    protected void buildMap( final File fromDir,", "+                             final File toDir,", "+                             final String[] names,", "+                             final FileNameMapper mapper,", "+                             final Hashtable map )", "-", "-        String[] toCopy = null;", "-        if( forceOverwrite )", "+        final String[] toCopy = buildFilenameList( names, mapper, fromDir, toDir );", "+        for( int i = 0; i < toCopy.length; i++ )", "-            Vector v = new Vector();", "+            final String destFilename = mapper.mapFileName( toCopy[ i ] )[ 0 ];", "+", "+            final File src = new File( fromDir, toCopy[ i ] );", "+            final File dest = new File( toDir, destFilename );", "+            map.put( src.getAbsolutePath(), dest.getAbsolutePath() );", "+        }", "+    }", "-                if( mapper.mapFileName( names[ i ] ) != null )", "-                    v.addElement( names[ i ] );", "-            toCopy = new String[ v.size() ];", "-            v.copyInto( toCopy );", "-            SourceFileScanner ds = new SourceFileScanner( this );", "-            toCopy = ds.restrict( names, fromDir, toDir, mapper );", "-        }", "-", "-        for( int i = 0; i < toCopy.length; i++ )", "-        {", "-            File src = new File( fromDir, toCopy[ i ] );", "-            File dest = new File( toDir, mapper.mapFileName( toCopy[ i ] )[ 0 ] );", "-            map.put( src.getAbsolutePath(), dest.getAbsolutePath() );"]}]}