{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a4e70934eab8eb4dc3d4015c1a9f15f5", "detectedBy": ["DIFF_HIERARCHICAL", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3ea8b64e0d8d1294d4930ad9291e71fb", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/main/org/apache/tools/ant/taskdefs/optional/perforce/P4Counter.java", "commitBeforeChange": "0380eac20a5d2f2fef36091bc8a51135eb916c27", "commitAfterChange": "0db510656aabc378951525537403492f9b684e81", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "      public void execute()         throws TaskException", "signatureAfterChange": "      public void execute()         throws TaskException", "diff": ["+        validate();", "-        if( ( counter == null ) || counter.length() == 0 )", "-        {", "-            throw new TaskException( \"No counter specified to retrieve\" );", "-        }", "-", "-        if( shouldSetValue && shouldSetProperty )", "-        {", "-            throw new TaskException( \"Cannot both set the value of the property and retrieve the value of the property.\" );", "-        }", "-", "-        String command = \"counter \" + P4CmdOpts + \" \" + counter;", "-        if( !shouldSetProperty )", "+        String command = \"counter \" + m_p4CmdOpts + \" \" + m_counter;", "+        if( !shouldSetProperty() )", "-        if( shouldSetValue )", "+        if( m_shouldSetValue )", "-            command += \" \" + value;", "+            command += \" \" + m_value;", "-        if( shouldSetProperty )", "+        execP4Command( command, null );", "+    }", "-            final Project myProj = getProject();", "-", "-            P4Handler handler =", "-                new P4HandlerAdapter()", "-                {", "-                    public void process( String line )", "-                    {", "-                        getLogger().debug( \"P4Counter retrieved line \\\"\" + line + \"\\\"\" );", "-                        try", "-                        {", "-                            value = Integer.parseInt( line );", "-                            setProperty( property, \"\" + value );", "-                        }", "-                        catch( NumberFormatException nfe )", "-                        {", "-                            throw new TaskException( \"Perforce error. Could not retrieve counter value.\" );", "-                        }", "-                    }", "-                };", "-", "-            execP4Command( command, handler );", "-            execP4Command( command, new SimpleP4OutputHandler( this ) );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c3cbe5e97b504977a475648c0179ff87", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/todo/org/apache/tools/ant/taskdefs/optional/perforce/P4Counter.java", "commitBeforeChange": "0380eac20a5d2f2fef36091bc8a51135eb916c27", "commitAfterChange": "0db510656aabc378951525537403492f9b684e81", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "      public void execute()         throws TaskException", "signatureAfterChange": "      public void execute()         throws TaskException", "diff": ["+        validate();", "-        if( ( counter == null ) || counter.length() == 0 )", "-        {", "-            throw new TaskException( \"No counter specified to retrieve\" );", "-        }", "-", "-        if( shouldSetValue && shouldSetProperty )", "-        {", "-            throw new TaskException( \"Cannot both set the value of the property and retrieve the value of the property.\" );", "-        }", "-", "-        String command = \"counter \" + P4CmdOpts + \" \" + counter;", "-        if( !shouldSetProperty )", "+        String command = \"counter \" + m_p4CmdOpts + \" \" + m_counter;", "+        if( !shouldSetProperty() )", "-        if( shouldSetValue )", "+        if( m_shouldSetValue )", "-            command += \" \" + value;", "+            command += \" \" + m_value;", "-        if( shouldSetProperty )", "+        execP4Command( command, null );", "+    }", "-            final Project myProj = getProject();", "-", "-            P4Handler handler =", "-                new P4HandlerAdapter()", "-                {", "-                    public void process( String line )", "-                    {", "-                        getLogger().debug( \"P4Counter retrieved line \\\"\" + line + \"\\\"\" );", "-                        try", "-                        {", "-                            value = Integer.parseInt( line );", "-                            setProperty( property, \"\" + value );", "-                        }", "-                        catch( NumberFormatException nfe )", "-                        {", "-                            throw new TaskException( \"Perforce error. Could not retrieve counter value.\" );", "-                        }", "-                    }", "-                };", "-", "-            execP4Command( command, handler );", "-            execP4Command( command, new SimpleP4OutputHandler( this ) );"]}]}