{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6b35eb8115823dc4f20f3fa7f76a3ade", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1dfbc6b19474cf2f0fb47428db90d4f4", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/ExecuteJava.java", "commitBeforeChange": "1308dd4c013bc3df42d1a0f72d85ab0b7a20327d", "commitAfterChange": "45fd3ec75d69aa0ad90db60192d16272f61b8ef4", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "      public void execute(Project project) throws BuildException", "signatureAfterChange": "      public void execute(Project project) throws BuildException", "diff": ["-                project.registerThreadLikeCurrent(thread);", "+                Task currentThreadTask ", "+                    = project.getThreadTask(Thread.currentThread());", "+                project.registerThreadTask(thread, currentThreadTask);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "22f9f161e8e68118467e86c37edc3058", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Jar.java", "commitBeforeChange": "eb2fdfacb52fcb36a21bea800834899133bf0858", "commitAfterChange": "9969e4d608937721c2c14287ac42e665c964a91d", "methodNumberBeforeChange": 38, "methodNumberAfterChange": 38, "signatureBeforeChange": "      private Resource[][] grabManifests(ResourceCollection[] rcs)", "signatureAfterChange": "      private Resource[][] grabManifests(ResourceCollection[] rcs)", "diff": ["-                if (resources[0][j].getName().equalsIgnoreCase(MANIFEST_NAME)) {", "+                String name = resources[0][j].getName().replace('\\\\', '/');", "+                if (name.equalsIgnoreCase(MANIFEST_NAME)) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4a6ca0ebc270829ec9937dcebe8afe51", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/make/org/apache/myrmidon/build/AntDocSubTask.java", "commitBeforeChange": "5b65dc1da0b5a60b883d4ef3ee5f8f78deb0dc18", "commitAfterChange": "79944e317a4a650421f67b3d03cfa929b28febf2", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "      public AntDocSubTask()", "signatureAfterChange": "      public AntDocSubTask()", "diff": ["-        setTemplateFile( new File( DEFAULT_TEMPLATE_FILE ) );", "+        final String templateFile =", "+            getClass().getResource( DEFAULT_TEMPLATE_FILE ).getFile();", "+        setTemplateFile( new File( templateFile ) );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4e1a08c905e358c08b163e69c5a5593f", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/testcases/org/apache/tools/ant/taskdefs/ConcatTest.java", "commitBeforeChange": "972b069addd68282d43028428b87ace236d8dc62", "commitAfterChange": "0619a250bf5e29d4f3c405852dbf1e437f0dde9f", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "      public void test6()", "signatureAfterChange": "      public void test6()", "diff": ["-        expectLogContaining(\"test6\", ", "-                            \"src/etc/testcases/taskdefs/thisfiledoesnotexist does not exist.\");", "+        String filename = \"src/etc/testcases/taskdefs/thisfiledoesnotexist\"", "+            .replace('/', File.separatorChar);", "+        expectLogContaining(\"test6\", filename +\" does not exist.\");"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5260a6fffc17d971edd81f3d5d7cd9f2", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Javadoc.java", "commitBeforeChange": "7d9af02a7e9f3181e9f2df0430aa6a1f803f0bbc", "commitAfterChange": "4b119ee9226b31baf1f56de58cdb284f54189a4b", "methodNumberBeforeChange": 123, "methodNumberAfterChange": 123, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": "     public void execute() throws BuildException", "diff": ["-                        srcListWriter.println(\"\\\"\" + sourceFileName + \"\\\"\");", "+                        String name = ", "+                            sourceFileName.replace(File.separatorChar, '/');", "+                        srcListWriter.println(\"\\\"\" + name + \"\\\"\");"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5514781d9dd172908a3fbe44afa50c8e", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/ProjectHelper.java", "commitBeforeChange": "3c26912e56e06ac64c392444cb19e3587f1bbb11", "commitAfterChange": "ba22b3de5a2c195cc893e6455dbd88940f7547ac", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "      private static void configureTargets(Project project, Element root) \tthrows BuildException", "signatureAfterChange": "      private static void configureTargets(Project project, Element root)         throws BuildException", "diff": ["-\tthrows BuildException", "+        throws BuildException", "-\t// configure targets", "-\tNodeList list = root.getElementsByTagName(\"target\");", "-\tfor (int i = 0; i < list.getLength(); i++) {", "-\t    Element element = (Element)list.item(i);", "-\t    String targetName = element.getAttribute(\"name\");", "-\t    String targetDep = element.getAttribute(\"depends\");", "+        // configure targets", "+        NodeList list = root.getElementsByTagName(\"target\");", "+        for (int i = 0; i < list.getLength(); i++) {", "+            Element element = (Element)list.item(i);", "+            String targetName = element.getAttribute(\"name\");", "+            String targetDep = element.getAttribute(\"depends\");", "+            String targetCond = element.getAttribute(\"if\");", "-\t    // all targets must have a name", "-\t    if (targetName.equals(\"\")) {", "-\t\tString msg = \"target element appears without a name attribute\";", "-\t\tthrow new BuildException(msg);", "-\t    }", "+            // all targets must have a name", "+            if (targetName.equals(\"\")) {", "+                String msg = \"target element appears without a name attribute\";", "+                throw new BuildException(msg);", "+            }", "-\t    // init is done already", "-\t    if( targetName.equals(\"init\") ) ", "-\t\tcontinue;", "-\t    ", "-\t    Target target = new Target();", "-\t    target.setName(targetName);", "-\t    project.addTarget(targetName, target);", "-\t    ", "-\t    // take care of dependencies", "-\t    ", "-\t    if (targetDep.length() > 0) {", "-\t\tStringTokenizer tok =", "-\t\t    new StringTokenizer(targetDep, \",\", false);", "-\t\twhile (tok.hasMoreTokens()) {", "-\t\t    target.addDependency(tok.nextToken().trim());", "-\t\t}", "-\t    }", "+            // init is done already", "+            if( targetName.equals(\"init\") )", "+                continue;", "-\t    // populate target with tasks", "+            Target target = new Target();", "+            target.setName(targetName);", "+            target.setCondition(targetCond);", "+            project.addTarget(targetName, target);", "-\t    configureTasks(project, target, element);", "-\t}", "+            // take care of dependencies", "+", "+            if (targetDep.length() > 0) {", "+                StringTokenizer tok =", "+                    new StringTokenizer(targetDep, \",\", false);", "+                while (tok.hasMoreTokens()) {", "+                    target.addDependency(tok.nextToken().trim());", "+                }", "+            }", "+", "+            // populate target with tasks", "+", "+            configureTasks(project, target, element);", "+        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6701e7a3b78ea091344bf1b3d4ca6da6", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/listener/MailLogger.java", "commitBeforeChange": "f43a1d0628c81df67d38a14c8c74162b187eccea", "commitAfterChange": "0b3cd9d4fe4d689c6d71ab504414d6ac12b1cbca", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "     public void buildFinished(BuildEvent event)", "signatureAfterChange": "     public void buildFinished(BuildEvent event)", "diff": ["-            properties.put(key, fileProperties.getProperty(key));", "+            String value = fileProperties.getProperty(key);", "+            properties.put(key, project.replaceProperties(value));", "-            e.printStackTrace();", "+            e.printStackTrace(System.err);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "83168fe0652b34cff26cd6b0f48a4a90", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Execute.java", "commitBeforeChange": "91daac5ad7cb1b28ec72ca13d11253648f2e4ddd", "commitAfterChange": "abec7e48efa22a34d81b78adbfbf44627de85ccd", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 18, "signatureBeforeChange": "     public static Process launch(Project project, String[] command,                                  String[] env, File dir, boolean useVM)         throws IOException", "signatureAfterChange": "     public static Process launch(Project project, String[] command,                                  String[] env, File dir, boolean useVM)         throws IOException", "diff": ["-        CommandLauncher launcher", "-            = ((useVM && vmLauncher != null) ? vmLauncher : shellLauncher);", "+", "+        CommandLauncher vmLauncher = CommandLauncher.getVMLauncher(project);", "+        CommandLauncher launcher = (useVM && vmLauncher != null)", "+            ? vmLauncher : CommandLauncher.getShellLauncher(project);"]}]}