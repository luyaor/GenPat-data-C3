{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ba4fa2a5a8baad22b7ef184dff8d1a62", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "58071b7cf89e843a58373ff5583e86f2", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/Target.java", "commitBeforeChange": "aa5f97f7072daf1b5e7c28a839ae8c12f96955ff", "commitAfterChange": "18681d7fc981b944ed3768a168ddd44898692175", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 22, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": "     public void execute() throws BuildException", "diff": ["-        if (testIfCondition() && testUnlessCondition()) {", "-            LocalProperties localProperties", "-                = LocalProperties.get(getProject());", "-            localProperties.enterScope();", "-            try {", "-                for (int taskPosition = 0; taskPosition < children.size();", "-                     ++taskPosition) {", "-                    Object o = children.get(taskPosition);", "-                    if (o instanceof Task) {", "-                        Task task = (Task) o;", "-                        task.perform();", "-                    } else {", "-                        ((RuntimeConfigurable) o).maybeConfigure(project);", "-                    }", "-                }", "-            } finally {", "-                localProperties.exitScope();", "-            }", "-        } else if (!testIfCondition()) {", "+        if (!testIfAllows()) {", "-        } else {", "+            return;", "+        }", "+        if (!testUnlessAllows()) {", "+            return;", "+        }", "+        LocalProperties localProperties = LocalProperties.get(getProject());", "+        localProperties.enterScope();", "+        try {", "+            // use index-based approach to avoid ConcurrentModificationExceptions;", "+            // also account for growing target children", "+            for (int i = 0; i < children.size(); i++) {", "+                Object o = children.get(i);", "+                if (o instanceof Task) {", "+                    Task task = (Task) o;", "+                    task.perform();", "+                } else {", "+                    ((RuntimeConfigurable) o).maybeConfigure(project);", "+                }", "+            }", "+        } finally {", "+            localProperties.exitScope();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a46c004c6bf89db4bcd8be96e3dba435", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/Target.java", "commitBeforeChange": "df2f921cdce7f4dde834b9315278dce5f000bb03", "commitAfterChange": "93af3c50df860c6b3c71283d5813811e653cc0a4", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 22, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": "     public void execute() throws BuildException", "diff": ["-            for (int taskPosition = 0; taskPosition < children.size(); ++taskPosition) {", "-                Object o = children.get(taskPosition);", "-                if (o instanceof Task) {", "-                    Task task = (Task) o;", "-                    task.perform();", "-                } else {", "-                    ((RuntimeConfigurable) o).maybeConfigure(project);", "+            LocalProperties localProperties", "+                = LocalProperties.get(getProject());", "+            localProperties.enterScope();", "+            try {", "+                for (int taskPosition = 0; taskPosition < children.size();", "+                     ++taskPosition) {", "+                    Object o = children.get(taskPosition);", "+                    if (o instanceof Task) {", "+                        Task task = (Task) o;", "+                        task.perform();", "+                    } else {", "+                        ((RuntimeConfigurable) o).maybeConfigure(project);", "+                    }", "+            } finally {", "+                localProperties.exitScope();"]}]}