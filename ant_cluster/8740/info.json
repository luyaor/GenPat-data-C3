{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "bf70c9a9fc62624f896ea93323de5182", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "05d2de9cbac8bee32b47c6696467d039", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/bzip2/CBZip2OutputStream.java", "commitBeforeChange": "3477bbf6474cdd2b70b12eb638e64415a4f1c2ec", "commitAfterChange": "134d95afef9b42cf08f2eccb077b97525ac38034", "methodNumberBeforeChange": 28, "methodNumberAfterChange": 38, "signatureBeforeChange": "      private void randomiseBlock()", "signatureAfterChange": "      private void randomiseBlock()", "diff": ["-        int i;", "+        final boolean[] inUse = this.data.inUse;", "+        final byte[] block    = this.data.block;", "+        final int last        = this.last;", "+", "+        for (int i = 256; --i >= 0;)", "+            inUse[i] = false;", "+", "-        for (i = 0; i < 256; i++) {", "-            inUse[i] = false;", "-        }", "-", "-        for (i = 0; i <= last; i++) {", "+        for (int i = 0, j = 1; i <= last; i = j, j++) {", "-                rNToGo = (char) rNums[rTPos];", "-                rTPos++;", "-                if (rTPos == 512) {", "+                rNToGo = (char) BZip2Constants.rNums[rTPos];", "+                if (++rTPos == 512) {", "+", "-            block[i + 1] ^= ((rNToGo == 1) ? 1 : 0);", "+            block[j] ^= ((rNToGo == 1) ? 1 : 0);", "+", "-            block[i + 1] &= 0xFF;", "-", "-            inUse[block[i + 1]] = true;", "-        }", "-    }", "+            inUse[block[j] & 0xff] = true;", "+        this.blockRandomised = true;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "41f277b2103439d6fed4266b05e7b7e6", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/bzip2/CBZip2OutputStream.java", "commitBeforeChange": "380870c2b26a9f3289569dc2451178df3f05613e", "commitAfterChange": "ad9edf5f5ea4a8f2a974726eeb8e656c177357df", "methodNumberBeforeChange": 38, "methodNumberAfterChange": 28, "signatureBeforeChange": "      private void randomiseBlock()", "signatureAfterChange": "      private void randomiseBlock()", "diff": ["-        final boolean[] inUse = this.data.inUse;", "-        final byte[] block    = this.data.block;", "-        final int lastShadow        = this.last;", "-", "-        for (int i = 256; --i >= 0;)", "-            inUse[i] = false;", "-", "+        int i;", "-        for (int i = 0, j = 1; i <= lastShadow; i = j, j++) {", "+        for (i = 0; i < 256; i++) {", "+            inUse[i] = false;", "+        }", "+", "+        for (i = 0; i <= last; i++) {", "-                rNToGo = (char) BZip2Constants.rNums[rTPos];", "-                if (++rTPos == 512) {", "+                rNToGo = (char) rNums[rTPos];", "+                rTPos++;", "+                if (rTPos == 512) {", "-", "-            block[j] ^= ((rNToGo == 1) ? 1 : 0);", "-", "+            block[i + 1] ^= ((rNToGo == 1) ? 1 : 0);", "-            inUse[block[j] & 0xff] = true;", "+            block[i + 1] &= 0xFF;", "+", "+            inUse[block[i + 1]] = true;", "+        }", "+    }", "-        this.blockRandomised = true;"]}]}