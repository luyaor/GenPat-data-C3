{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9d88340c91734a3a4b1c1521e8e945ef", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "484bc5655ddb325409dafeaed037dca1", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/javacc/JavaCC.java", "commitBeforeChange": "e47b4d5aca65c519f01afabb9479b8443abd2ccf", "commitAfterChange": "63a3e9609b4913d540ead325004f919e9a87c4b9", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": "      public void execute() throws BuildException", "signatureAfterChange": "      public void execute() throws BuildException", "diff": ["-        // load command line with required attributes", "-        if (outputDirectory != null) {", "-            if (!outputDirectory.isDirectory()) {", "-                throw new BuildException(\"Outputdir not a directory.\");", "-            }", "-            cmdl.createArgument().setValue(", "-                \"-OUTPUT_DIRECTORY:\"+outputDirectory.getAbsolutePath());", "-        }", "-", "+        // check the target is a file", "+        // use the directory containing the target as the output directory", "+        if (outputDirectory == null) {", "+            outputDirectory = new File(target.getParent());", "+        }", "+        else if (!outputDirectory.isDirectory()) {", "+            throw new BuildException(\"Outputdir not a directory.\");", "+        }", "+        cmdl.createArgument().setValue(", "+            \"-OUTPUT_DIRECTORY:\"+outputDirectory.getAbsolutePath());", "+", "-            project.log(\"Target is already built - skipping (\" + target + \")\");", "+            log(\"Target is already built - skipping (\" + target + \")\", Project.MSG_VERBOSE);", "-        final Execute process =", "-            new Execute(new LogStreamHandler(this,", "-                                             Project.MSG_INFO,", "-                                             Project.MSG_INFO),", "-                        null);", "-        log(cmdl.toString(), Project.MSG_VERBOSE);", "-        process.setCommandline(cmdl.getCommandline());", "-", "-        try {", "-            if (process.execute() != 0) {", "-                throw new BuildException(\"JavaCC failed.\");", "-            }", "-        }", "-        catch (IOException e) {", "-            throw new BuildException(\"Failed to launch JavaCC: \" + e);", "-        }", "+        Execute.runCommand(this, cmdl.getCommandline());"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d03d160b8e8f5a61941177bb97ebb868", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/javacc/JJTree.java", "commitBeforeChange": "7a06ef0e04703753fb1ff2134c4cd8323e8dc3b8", "commitAfterChange": "068f7348847e10c8deca027f67e7142c559cdfa0", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": "      public void execute() throws BuildException", "signatureAfterChange": "      public void execute() throws BuildException", "diff": ["-        // load command line with required attributes", "-        if (outputDirectory != null) {", "-            if (!outputDirectory.isDirectory()) {", "-                throw new BuildException(\"Outputdir not a directory.\");", "-            }", "-            cmdl.createArgument().setValue(", "-                \"-OUTPUT_DIRECTORY:\"+outputDirectory.getAbsolutePath());", "-        }", "-", "+        ", "+        // use the directory containing the target as the output directory", "+        if (outputDirectory == null) {", "+            outputDirectory = new File(target.getParent());", "+        }        ", "+        if (!outputDirectory.isDirectory() ) {", "+            throw new BuildException(\"'outputdirectory' \" + outputDirectory + \" is not a directory.\");", "+        }", "+        // convert backslashes to slashes, otherwise jjtree will put this as", "+        // comments and this seems to confuse javacc", "+        cmdl.createArgument().setValue(", "+            \"-OUTPUT_DIRECTORY:\"+outputDirectory.getAbsolutePath().replace('\\\\', '/'));", "+        "]}]}