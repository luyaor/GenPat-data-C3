{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "01481a97ad7bf0894f0d3efc26ecc800", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6fd5573362841a6f183e04ce4a9374f9", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/cvslib/ChangeLogParser.java", "commitBeforeChange": "6c310a371f0d7bfd4dbf4eee70693689164e9b74", "commitAfterChange": "a0ba302efe9a84e4735f08c631e01209496fe522", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "     private void processComment(final String line)", "signatureAfterChange": "     private void processComment(final String line)", "diff": ["-        if (line.equals(\"=============================================================================\")) {", "+        if (line.equals(", "+                \"=============================================================================\")) {", "-                = m_comment.length() - lineSeparator.length(); //was -1", "-            m_comment = m_comment.substring(0, end);", "+                = comment.length() - lineSeparator.length(); //was -1", "+            comment = comment.substring(0, end);", "-            m_status = GET_FILE;", "+            status = GET_FILE;", "-                = m_comment.length() - lineSeparator.length(); //was -1", "-            m_comment = m_comment.substring(0, end);", "-            m_status = GET_PREVIOUS_REV;", "+                = comment.length() - lineSeparator.length(); //was -1", "+            comment = comment.substring(0, end);", "+            status = GET_PREVIOUS_REV;", "-            m_comment += line + lineSeparator;", "+            comment += line + lineSeparator;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c3c794c5411292700b90917be84b27c5", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/ExecuteWatchdog.java", "commitBeforeChange": "58d96d54fb9bfabc28e6daf9a4bc138dfbddd81b", "commitAfterChange": "a6c64aa1669d5158395cc1f2f4954e91307e316f", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "     public synchronized void run()", "signatureAfterChange": "     public synchronized void run()", "diff": ["-            // if we are here, either someone stopped the watchdog or we are on timeout", "-            // if watch is true, it means its a timeout", "-            if (watch) {", "-                killedProcess = true;", "-                process.destroy();", "+", "+            // if we are here, either someone stopped the watchdog,", "+            // we are on timeout and the process must be killed, or", "+            // we are on timeout and the process has already stopped.", "+            try {", "+                // We must check if the process was not stopped", "+                // before being here", "+                process.exitValue();", "+            } catch (IllegalThreadStateException e){", "+                // the process is not terminated, if this is really", "+                // a timeout and not a manual stop then kill it.", "+                if (watch){", "+                    killedProcess = true;", "+                    process.destroy();", "+                }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cb263fbacf890b6febd9411f2d32d8de", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/sandbox/filterreaders/src/main/org/apache/tools/ant/filters/ReplaceTokens.java", "commitBeforeChange": "439fe1882bb11a5c318bac07451ab5325755876f", "commitAfterChange": "3ca907710e149dcb83209271754ce53266f7de21", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "     public final int read() throws IOException", "signatureAfterChange": "     public final int read() throws IOException", "diff": ["-        if (storedData != null && storedData.length() > 0) {", "-            int ch = storedData.charAt(0);", "-            if (storedData.length() > 1) {", "-                storedData = storedData.substring(1);", "+        if (queuedData != null && queuedData.length() > 0) {", "+            final int ch = queuedData.charAt(0);", "+            if (queuedData.length() > 1) {", "+                queuedData = queuedData.substring(1);", "-                storedData = null;", "+                queuedData = null;", "-            StringBuffer key = new StringBuffer(\"\");", "+            final StringBuffer key = new StringBuffer(\"\");", "-                storedData = beginToken + key.toString();", "+                queuedData = beginToken + key.toString();", "-                    storedData = replaceWith;", "+                    queuedData = replaceWith;", "-                    storedData = beginToken + key.toString() + endToken;", "+                    queuedData = beginToken + key.toString() + endToken;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "da3295f0429bcaa1729e20aeba5c9a0c", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/ExecuteWatchdog.java", "commitBeforeChange": "6258074cd0faeb8fdcb91aeb55e7229f2ecce650", "commitAfterChange": "0d7515e6c3a1a1e3b78946c2b60f2d8963e44700", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "     public synchronized void run()", "signatureAfterChange": "     public void timeoutOccured(Watchdog w)", "diff": ["-    public synchronized void run() {", "+    public void timeoutOccured(Watchdog w) {", "-            // This isn't a Task, don't have a Project object to log.", "-            // project.log(\"ExecuteWatchdog: timeout = \"+timeout+\" msec\",  Project.MSG_VERBOSE);", "-            final long until = System.currentTimeMillis() + timeout;", "-            long now;", "-            while (watch && until > (now = System.currentTimeMillis())) {", "-                try {", "-                    wait(until - now);", "-                } catch (InterruptedException e) {}", "-            }", "-", "-            // if we are here, either someone stopped the watchdog,", "-            // we are on timeout and the process must be killed, or", "-            // we are on timeout and the process has already stopped.", "-            } catch (IllegalThreadStateException e){", "+            } catch (IllegalThreadStateException itse){", "-        } catch(Exception e) {", "+        } catch (Exception e) {"]}]}