{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "84644e40d3193b260a49e335c2eb8e34", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3ff5552226b1f100dd95c5e8bcf20551", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/perforce/P4Label.java", "commitBeforeChange": "98dab91716a8b04de88022107ddf740215154c71", "commitAfterChange": "df3ce6106dd8870ddbbb29b89426526409c97556", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "          public void execute() throws BuildException", "signatureAfterChange": "          public void execute() throws BuildException", "diff": ["-        execP4Command(\"label -i\", newLabel, new P4OutputHandler() {", "-                public void process(String line) {", "-                    log(line, Project.MSG_VERBOSE);", "-                }", "-            });", "+        P4Handler handler = new P4HandlerAdapter() {", "+            public void process(String line) {", "+                log(line, Project.MSG_VERBOSE);", "+            }", "+        };", "+", "+        handler.setOutput(newLabel);", "+", "+        execP4Command(\"label -i\", handler);", "-        execP4Command(\"labelsync -l \"+name, null, new P4OutputHandler() {", "-                public void process(String line) {", "-                    log(line, Project.MSG_VERBOSE);", "-                }", "-            });", "+        execP4Command(\"labelsync -l \"+name, new P4HandlerAdapter() {", "+            public void process(String line) {", "+                log(line, Project.MSG_VERBOSE);", "+            }", "+        });"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d464e8ded865f10c197db5d3204309d2", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/perforce/P4Change.java", "commitBeforeChange": "98dab91716a8b04de88022107ddf740215154c71", "commitAfterChange": "df3ce6106dd8870ddbbb29b89426526409c97556", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "      public void execute() throws BuildException", "signatureAfterChange": "      public void execute() throws BuildException", "diff": ["-        execP4Command(\"change -i\", emptyChangeList, new P4OutputHandler() {", "-                public void process(String line) {", "-                    if (util.match(\"/Change/\", line)) {", "-                    ", "-                        //Remove any non-numerical chars - should leave the change number", "-                        line = util.substitute(\"s/[^0-9]//g\", line);", "-                                ", "-                        int changenumber = Integer.parseInt(line);", "-                        log(\"Change Number is \"+changenumber, Project.MSG_INFO);", "-                        myProj.setProperty(\"p4.change\", \"\"+changenumber);", "-                    } else if(util.match(\"/error/\", line)) {", "-                        throw new BuildException(\"Perforce Error, check client settings and/or server\");", "-                    }", "-                                ", "-                }});", "+        P4Handler handler = new P4HandlerAdapter() {", "+            public void process(String line) {", "+                if (util.match(\"/Change/\", line)) {", "+                    ", "+                    //Remove any non-numerical chars - should leave the change number", "+   \t        \t\tline = util.substitute(\"s/[^0-9]//g\", line);", "+   \t        \t\t", "+   \t\t\t       \tint changenumber = Integer.parseInt(line);", "+   \t\t\t        log(\"Change Number is \"+changenumber, Project.MSG_INFO);", "+\t\t\t\t    myProj.setProperty(\"p4.change\", \"\"+changenumber);", "+", "+       \t\t\t} else if(util.match(\"/error/\", line)) {", "+   \t    \t\t    throw new BuildException(\"Perforce Error, check client settings and/or server\");", "+       \t\t\t}", "+   \t\t\t        ", "+   \t        }};", "+", "+        handler.setOutput(emptyChangeList);", "+", "+        execP4Command(\"change -i\", handler);"]}]}