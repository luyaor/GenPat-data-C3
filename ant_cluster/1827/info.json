{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0052b621db7f928e02236486926bfcd3", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "02ea922e187e2d2fb152b3d8502a251d", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/tar/TarInputStream.java", "commitBeforeChange": "23bbf085727756cfbad92aaa345e10c7370d3486", "commitAfterChange": "75110026aa35fe98da6c696598361977c3c46c48", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "     public int read(byte[] buf, int offset, int numToRead) throws IOException", "signatureAfterChange": "     public int read(byte[] buf, int offset, int numToRead) throws IOException", "diff": ["-        if (this.entryOffset >= this.entrySize) {", "+        if (entryOffset >= entrySize) {", "-        if ((numToRead + this.entryOffset) > this.entrySize) {", "-            numToRead = (int) (this.entrySize - this.entryOffset);", "+        if ((numToRead + entryOffset) > entrySize) {", "+            numToRead = (int) (entrySize - entryOffset);", "-        if (this.readBuf != null) {", "-            int sz = (numToRead > this.readBuf.length) ? this.readBuf.length", "+        if (readBuf != null) {", "+            int sz = (numToRead > readBuf.length) ? readBuf.length", "-            System.arraycopy(this.readBuf, 0, buf, offset, sz);", "+            System.arraycopy(readBuf, 0, buf, offset, sz);", "-            if (sz >= this.readBuf.length) {", "-                this.readBuf = null;", "+            if (sz >= readBuf.length) {", "+                readBuf = null;", "-                int newLen = this.readBuf.length - sz;", "+                int newLen = readBuf.length - sz;", "-                System.arraycopy(this.readBuf, sz, newBuf, 0, newLen);", "+                System.arraycopy(readBuf, sz, newBuf, 0, newLen);", "-                this.readBuf = newBuf;", "+                readBuf = newBuf;", "-            byte[] rec = this.buffer.readRecord();", "+            byte[] rec = buffer.readRecord();", "-                this.readBuf = new byte[recLen - sz];", "+                readBuf = new byte[recLen - sz];", "-                System.arraycopy(rec, sz, this.readBuf, 0, recLen - sz);", "+                System.arraycopy(rec, sz, readBuf, 0, recLen - sz);", "-        this.entryOffset += totalRead;", "+        entryOffset += totalRead;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "60859e7026b9cd1f436375bfe1af3ed0", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/java/org/apache/aut/tar/TarEntry.java", "commitBeforeChange": "0b93bdd7cdfe6a7a48f02cf125014e5d538d5381", "commitAfterChange": "1447e596aa13ca3441f24a8e163f4a255c5a7e23", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "     public TarEntry( File file )", "signatureAfterChange": "     public TarEntry( final File file )", "diff": ["-    public TarEntry( File file )", "+    public TarEntry( final File file )", "-        this.file = file;", "+        m_file = file;", "-        String osname = System.getProperty( \"os.name\" );", "+        final String osname = System.getProperty( \"os.name\" );", "-", "-            String win32Prefix = \"Windows\";", "-            String prefix = osname.substring( 0, win32Prefix.length() );", "+            final String win32Prefix = \"Windows\";", "+            final String prefix = osname.substring( 0, win32Prefix.length() );", "-                    char ch1 = name.charAt( 0 );", "-                    char ch2 = name.charAt( 1 );", "+                    final char ch1 = name.charAt( 0 );", "+                    final char ch2 = name.charAt( 1 );", "-                    if( ch2 == ':'", "-                        && ( ( ch1 >= 'a' && ch1 <= 'z' )", "-                        || ( ch1 >= 'A' && ch1 <= 'Z' ) ) )", "+                    if( ch2 == ':' &&", "+                        ( ( ch1 >= 'a' && ch1 <= 'z' ) ||", "+                        ( ch1 >= 'A' && ch1 <= 'Z' ) ) )", "-                int colon = name.indexOf( ':' );", "+                final int colon = name.indexOf( ':' );", "-        this.linkName = new StringBuffer( \"\" );", "-        this.name = new StringBuffer( name );", "+        m_linkName = new StringBuffer( \"\" );", "+        m_name = new StringBuffer( name );", "-            this.mode = 040755;", "-            this.linkFlag = LF_DIR;", "+            m_mode = 040755;", "+            m_linkFlag = TarConstants.LF_DIR;", "-            if( this.name.charAt( this.name.length() - 1 ) != '/' )", "+            if( m_name.charAt( m_name.length() - 1 ) != '/' )", "-                this.name.append( \"/\" );", "+                m_name.append( \"/\" );", "-            this.mode = 0100644;", "-            this.linkFlag = LF_NORMAL;", "+            m_mode = 0100644;", "+            m_linkFlag = TarConstants.LF_NORMAL;", "-        this.size = file.length();", "-        this.modTime = file.lastModified() / 1000;", "-        this.checkSum = 0;", "-        this.devMajor = 0;", "-        this.devMinor = 0;", "+        m_size = file.length();", "+        m_modTime = file.lastModified() / 1000;", "+        m_checkSum = 0;", "+        m_devMajor = 0;", "+        m_devMinor = 0;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b123505c9e419d03fbdda1e0c63ff516", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/java/org/apache/aut/tar/TarEntry.java", "commitBeforeChange": "0b93bdd7cdfe6a7a48f02cf125014e5d538d5381", "commitAfterChange": "1447e596aa13ca3441f24a8e163f4a255c5a7e23", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "     public TarEntry( String name )", "signatureAfterChange": "     public TarEntry( final String name )", "diff": ["-    public TarEntry( String name )", "+    public TarEntry( final String name )", "-        boolean isDir = name.endsWith( \"/\" );", "+        final boolean isDir = name.endsWith( \"/\" );", "-        this.checkSum = 0;", "-        this.devMajor = 0;", "-        this.devMinor = 0;", "-        this.name = new StringBuffer( name );", "-        this.mode = isDir ? 040755 : 0100644;", "-        this.linkFlag = isDir ? LF_DIR : LF_NORMAL;", "-        this.userId = 0;", "-        this.groupId = 0;", "-        this.size = 0;", "-        this.checkSum = 0;", "-        this.modTime = ( new Date() ).getTime() / 1000;", "-        this.linkName = new StringBuffer( \"\" );", "-        this.userName = new StringBuffer( \"\" );", "-        this.groupName = new StringBuffer( \"\" );", "-        this.devMajor = 0;", "-        this.devMinor = 0;", "-", "+        m_name = new StringBuffer( name );", "+        m_mode = isDir ? 040755 : 0100644;", "+        m_linkFlag = isDir ? TarConstants.LF_DIR : TarConstants.LF_NORMAL;", "+        m_modTime = ( new Date() ).getTime() / 1000;", "+        m_linkName = new StringBuffer( \"\" );", "+        m_userName = new StringBuffer( \"\" );", "+        m_groupName = new StringBuffer( \"\" );"]}]}