{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4bebe58f4aa5375f7cb9883ccc707b77", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "11e275cd62cdab55117bd8a9ec45e72c", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/SignJar.java", "commitBeforeChange": "7229e5923e3cdbc8bed4d88c96eb90d1134cb379", "commitAfterChange": "450c0f1f2f827f00b7b03bedbede099ae0b3dc43", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 13, "signatureBeforeChange": "     private void signOneJar(File jarSource, File jarTarget)             throws BuildException", "signatureAfterChange": "     private void signOneJar(File jarSource, File jarTarget)             throws BuildException", "diff": ["-        final ExecTask cmd = new ExecTask(this);", "-        cmd.setExecutable(JavaEnvUtils.getJdkExecutable(JARSIGNER_COMMAND));", "-        cmd.setTaskType(JARSIGNER_COMMAND);", "+        final ExecTask cmd = createJarSigner();", "-        if (maxMemory != null) {", "-            cmd.createArg().setValue(\"-J-Xmx\" + maxMemory);", "-        }", "+        setCommonOptions(cmd);", "-        if (null != keystore) {", "-            // is the keystore a file", "-            cmd.createArg().setValue(\"-keystore\");", "-            String location;", "-            File keystoreFile = getProject().resolveFile(keystore);", "-            if (keystoreFile.exists()) {", "-                location = keystoreFile.getPath();", "-            } else {", "-                // must be a URL - just pass as is", "-                location = keystore;", "-            }", "-            cmd.createArg().setValue(location);", "-        }", "-        if (null != storetype) {", "-            cmd.createArg().setValue(\"-storetype\");", "-            cmd.createArg().setValue(storetype);", "-        }", "+        bindToKeystore(cmd);", "-            cmd.createArg().setValue(\"-sigfile\");", "-            cmd.createArg().setValue(sigfile);", "+            addValue(cmd, \"-sigfile\");", "+            String value = this.sigfile;", "+            addValue(cmd, value);", "-            cmd.createArg().setValue(\"-signedjar\");", "-            cmd.createArg().setValue(target.getPath());", "-        }", "-", "-        if (verbose) {", "-            cmd.createArg().setValue(\"-verbose\");", "+            addValue(cmd, \"-signedjar\");", "+            addValue(cmd, target.getPath());", "-            cmd.createArg().setValue(\"-internalsf\");", "+            addValue(cmd, \"-internalsf\");", "-            cmd.createArg().setValue(\"-sectionsonly\");", "+            addValue(cmd, \"-sectionsonly\");", "-        cmd.createArg().setValue(jarSource.getPath());", "+        addValue(cmd, jarSource.getPath());", "-        cmd.createArg().setValue(alias);", "+        addValue(cmd, alias);", "-        cmd.setFailonerror(true);", "-        cmd.addConfiguredRedirector(redirector);", "+"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "81b7e266e5afb2983a681cfc8b00512d", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/SignJar.java", "commitBeforeChange": "e876237361b02eb8cc5af2cc733ed6e0c9b15cd0", "commitAfterChange": "1375c85ac2718db69e07fc8535ba0d71cb0fa691", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "       public void execute() throws BuildException", "signatureAfterChange": "       public void execute() throws BuildException", "diff": ["-        sb.append(\"jarsigner \");", "-", "+        final ExecTask cmd = (ExecTask) project.createTask(\"exec\");", "+        cmd.setExecutable(\"jarsigner\");", "+        ", "-            sb.append(\"-keystore \\\"\");", "-            sb.append(keystore);", "-            sb.append(\"\\\" \");", "+            cmd.createArg().setValue(\"-keystore\");", "+            cmd.createArg().setValue(keystore);", "-            sb.append(\"-storepass \\\"\");", "-            sb.append(storepass);", "-            sb.append(\"\\\" \");", "+            cmd.createArg().setValue(\"-storepass\");", "+            cmd.createArg().setValue(storepass);", "-            sb.append(\"-storetype \\\"\");", "-            sb.append(storetype);", "-            sb.append(\"\\\" \");", "+            cmd.createArg().setValue(\"-storetype\");", "+            cmd.createArg().setValue(storetype);", "-            sb.append(\"-keypass \\\"\");", "-            sb.append(keypass);", "-            sb.append(\"\\\" \");", "+            cmd.createArg().setValue(\"-keypass\");", "+            cmd.createArg().setValue(keypass);", "-            sb.append(\"-sigfile \\\"\");", "-            sb.append(sigfile);", "-            sb.append(\"\\\" \");", "+            cmd.createArg().setValue(\"-sigfile\");", "+            cmd.createArg().setValue(sigfile);", "-            sb.append(\"-signedjar \\\"\");", "-            sb.append(signedjar);", "-            sb.append(\"\\\" \");", "+            cmd.createArg().setValue(\"-signedjar\");", "+            cmd.createArg().setValue(signedjar);", "-            sb.append(\"-verbose \");", "+            cmd.createArg().setValue(\"-verbose\");", "-            sb.append(\"-internalsf \");", "+            cmd.createArg().setValue(\"-internalsf\");", "-            sb.append(\"-sectionsonly \");", "+            cmd.createArg().setValue(\"-sectionsonly\");", "-        sb.append('\\\"');", "-        sb.append(jar);", "-        sb.append(\"\\\" \");", "+        cmd.createArg().setValue(jar);", "-        sb.append('\\\"');", "-        sb.append(alias);", "-        sb.append(\"\\\" \");", "+", "+        cmd.createArg().setValue(alias);", "-        final ExecTask cmd = (ExecTask) project.createTask(\"exec\");", "-        cmd.setCommand(new Commandline(sb.toString()));"]}]}