{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e418e629e92995f2209fdb938e898e6b", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c55065dc4a886caf9207dd683961adae", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/junit/XMLResultAggregator.java", "commitBeforeChange": "0dbe0a8b0c5ce8ec9fbe5e3fb122cf73674308f3", "commitAfterChange": "07680bb2e3534cad36a726dba2f4cb06fd9ec683", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "     protected Element createDocument()", "signatureAfterChange": "     protected Element createDocument()", "diff": ["+            File file = files[i];", "-                log(\"Parsing file: '\" + files[i] + \"'\", Project.MSG_VERBOSE);", "-                //XXX there seems to be a bug in xerces 1.3.0 that doesn't like file object", "-                // will investigate later. It does not use the given directory but", "-                // the vm dir instead ? Works fine with crimson.", "-                Document testsuiteDoc", "-                    = builder.parse(\"file:///\" + files[i].getAbsolutePath());", "-                Element elem = testsuiteDoc.getDocumentElement();", "-                // make sure that this is REALLY a testsuite.", "-                if (TESTSUITE.equals(elem.getNodeName())) {", "-                    addTestSuite(rootElement, elem);", "-                    generatedId++;", "+                log(\"Parsing file: '\" + file + \"'\", Project.MSG_VERBOSE);", "+                if(file.length()>0) {", "+                    Document testsuiteDoc", "+                            = builder.parse(\"file:///\" + file.getAbsolutePath());", "+                    Element elem = testsuiteDoc.getDocumentElement();", "+                    // make sure that this is REALLY a testsuite.", "+                    if (TESTSUITE.equals(elem.getNodeName())) {", "+                        addTestSuite(rootElement, elem);", "+                        generatedId++;", "+                    } else {", "+                        //wrong root element name", "+                        // issue a warning.", "+                        log(\"the file \" + file", "+                                + WARNING_INVALID_ROOT_ELEMENT,", "+                                Project.MSG_WARN);", "+                    }", "-                    // issue a warning.", "-                    log(\"the file \" + files[i]", "-                        + \" is not a valid testsuite XML document\",", "-                        Project.MSG_WARN);", "+                    log(\"the file \" + file", "+                            + WARNING_EMPTY_FILE,", "+                            Project.MSG_WARN);", "-                log(\"The file \" + files[i] + \" is not a valid XML document. \"", "-                    + \"It is possibly corrupted.\", Project.MSG_WARN);", "+                log(\"The file \" + file + WARNING_IS_POSSIBLY_CORRUPTED, Project.MSG_WARN);", "-                log(\"Error while accessing file \" + files[i] + \": \"", "+                log(\"Error while accessing file \" + file + \": \""]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f7401ccf8606cd41ec21c820a6faa992", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Move.java", "commitBeforeChange": "9fb2961443b0e15a6fd0be0aceed9d78e8c9cad7", "commitAfterChange": "f613801836c18d2ed1d7da7deab40f0867b99620", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "      protected void doFileOperations()", "signatureAfterChange": "      protected void doFileOperations()", "diff": ["-        filterSets = getFilterSets();", "-        filterChains = getFilterChains();", "-", "-                            log(\"Moving \" + fromFile + \" to \" + toFile, verbosity);", "+                            log(\"Moving \" + fromFile + \" to \" + toFile, ", "+                                verbosity);", "-                            FilterSetCollection executionFilters = new FilterSetCollection();", "+                            FilterSetCollection executionFilters = ", "+                                new FilterSetCollection();", "-                                executionFilters.addFilterSet(project.getGlobalFilterSet());", "+                                executionFilters", "+                                    .addFilterSet(project.getGlobalFilterSet());", "-                            for (Enumeration filterEnum = getFilterSets().elements(); filterEnum.hasMoreElements();) {", "-                                executionFilters.addFilterSet((FilterSet)filterEnum.nextElement());", "+                            for (Enumeration filterEnum = ", "+                                     getFilterSets().elements(); ", "+                                 filterEnum.hasMoreElements();) {", "+                                executionFilters", "+                                    .addFilterSet((FilterSet)filterEnum", "+                                                  .nextElement());", "-                            getFileUtils().copyFile(f, d, executionFilters, filterChains,", "+                            getFileUtils().copyFile(f, d, executionFilters, ", "+                                                    getFilterChains(), ", "-                                throw new BuildException(\"Unable to delete file \"", "+                                throw new BuildException(\"Unable to delete \"", "+                                                         + \"file \"", "-                        log(\"Unable to create directory \" + d.getAbsolutePath(), Project.MSG_ERR);", "+                        log(\"Unable to create directory \" ", "+                            + d.getAbsolutePath(), Project.MSG_ERR);", "-                log(\"Moved \" + count + \" empty directories to \" + destDir.getAbsolutePath());", "+                log(\"Moved \" + count + \" empty directories to \" ", "+                    + destDir.getAbsolutePath());"]}]}