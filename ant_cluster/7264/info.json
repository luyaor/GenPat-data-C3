{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a1c04e0237c222348c8afe45c79b9029", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4f2e6bfa9c018d2d010a76500efc7ea6", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/ejb/Ejbc.java", "commitBeforeChange": "205151486acb02a98f17a73c8367302d53fb56b8", "commitAfterChange": "34b083983d52d1bc7eaf31b312924fdf83a76b07", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 0, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": "     public void execute() throws BuildException", "diff": ["-        Path execClassPath = new Path(project, classpath + \":\" + generatedFilesDirectory + \":\" + systemClassPath);", "-        ", "+        String execClassPath = project.translatePath(systemClassPath + \":\" + classpath +", "+                                                         \":\" + generatedFilesDirectory);", "-        String[] descriptorNames = ds.getIncludedFiles();", "-        ", "+        String[] files = ds.getIncludedFiles();", "-        // create an class loader", "-        AntClassLoader loader = new AntClassLoader(project, execClassPath, false);", "-        loader.addSystemPackageRoot(\"org.apache.tools.ant\");", "-        loader.addSystemPackageRoot(\"javax\");", "-        try {", "-            Helper helper = (Helper)(loader.forceLoadClass(\"org.apache.tools.ant.taskdefs.optional.ejb.EjbcHelper\").newInstance());", "-            helper.initialize(this);", "-            helper.setDescriptorDir(descriptorDirectory);", "-            helper.setDest(generatedFilesDirectory);", "-            helper.setManifest(generatedManifestFile);", "-            helper.setSrc(sourceDirectory);", "-            helper.setDescriptors(descriptorNames);", "-            helper.setClasspath(execClassPath);", "-            helper.execute();", "-            helper = null;", "+        Java helperTask = (Java)project.createTask(\"java\");", "+        helperTask.setFork(true);", "+        helperTask.setClassname(\"org.apache.tools.ant.taskdefs.optional.ejb.EjbcHelper\");", "+        String args = \"\";", "+        args += \" \" + descriptorDirectory;", "+        args += \" \" + generatedFilesDirectory;", "+        args += \" \" + sourceDirectory;", "+        args += \" \" + generatedManifestFile;", "+        for (int i = 0; i < files.length; ++i) {", "+            args += \" \" + files[i];", "-        catch (Exception e) {", "-            throw new BuildException(e);", "+                                    ", "+        helperTask.setArgs(args);", "+        helperTask.setClasspath(new Path(project, execClassPath));", "+        if (helperTask.executeJava() != 0) {                         ", "+            throw new BuildException(\"Execution of ejbc helper failed\");", "-        loader = null;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f798458e2b341ac878667e0d4b0178d9", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/ejb/Ejbc.java", "commitBeforeChange": "403c32e5c5322f65e184f6d21496d0295d74f6e1", "commitAfterChange": "655df7f9e198a141defc9dcfb45f7f14cd7749f8", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 8, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": "     public void execute() throws BuildException", "diff": ["-        String execClassPath = project.translatePath(systemClassPath + \":\" + classpath +", "-                                                         \":\" + generatedFilesDirectory);", "+        Path execClassPath = new Path(project, classpath + \":\" + generatedFilesDirectory + \":\" + systemClassPath);", "+        ", "-        String[] files = ds.getIncludedFiles();", "+        String[] descriptorNames = ds.getIncludedFiles();", "+        ", "-        Java helperTask = (Java)project.createTask(\"java\");", "-        helperTask.setFork(true);", "-        helperTask.setClassname(\"org.apache.tools.ant.taskdefs.optional.ejb.EjbcHelper\");", "-        String args = \"\";", "-        args += \" \" + descriptorDirectory;", "-        args += \" \" + generatedFilesDirectory;", "-        args += \" \" + sourceDirectory;", "-        args += \" \" + generatedManifestFile;", "-        for (int i = 0; i < files.length; ++i) {", "-            args += \" \" + files[i];", "+        // create an class loader", "+        AntClassLoader loader = new AntClassLoader(project, execClassPath, false);", "+        loader.addSystemPackageRoot(\"org.apache.tools.ant\");", "+        loader.addSystemPackageRoot(\"javax\");", "+        try {", "+            Helper helper = (Helper)(loader.forceLoadClass(\"org.apache.tools.ant.taskdefs.optional.ejb.EjbcHelper\").newInstance());", "+            helper.initialize(this);", "+            helper.setDescriptorDir(descriptorDirectory);", "+            helper.setDest(generatedFilesDirectory);", "+            helper.setManifest(generatedManifestFile);", "+            helper.setSrc(sourceDirectory);", "+            helper.setDescriptors(descriptorNames);", "+            helper.setClasspath(execClassPath);", "+            helper.execute();", "+            helper = null;", "-                                    ", "-        helperTask.setArgs(args);", "-        helperTask.setClasspath(new Path(project, execClassPath));", "-        if (helperTask.executeJava() != 0) {                         ", "-            throw new BuildException(\"Execution of ejbc helper failed\");", "+        catch (Exception e) {", "+            throw new BuildException(e);", "+        loader = null;"]}]}