{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d1052e91db843724cea57c49ec314ec2", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "db1f7b9d7cbbe33590bb79675341999c", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/sandbox/filterreaders/src/main/org/apache/tools/ant/taskdefs/LoadFile.java", "commitBeforeChange": "2eb375f62cb6a5cd4b22cd648403472312e82a4f", "commitAfterChange": "ef148d08a2b147b6c22cdcff74d0fa0c69915eed", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "     private final String processStream(final Reader inputReader, final int size)         throws BuildException, IOException", "signatureAfterChange": "     private final String processStream(final Reader inputReader, final int size)         throws BuildException, IOException", "diff": ["-        final int bufferLength = instream.read(buffer);", "-        final String text = new String(buffer, 0, bufferLength);", "+        int bufferLength = 0;", "+        String text = null;", "+        while (bufferLength != -1) {", "+            bufferLength = instream.read(buffer);", "+            if (bufferLength != -1) {", "+                if (text == null) {", "+                    text = new String(buffer, 0, bufferLength);", "+                } else {", "+                    text += new String(buffer, 0, bufferLength);", "+                }", "+            }", "+        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f91ffc7256ca3bab9266d252f89781a4", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/sandbox/filterreaders/src/main/org/apache/tools/ant/filters/util/ChainReaderHelper.java", "commitBeforeChange": "4a5b5fd1eab32cc1cd411ce8adbe76292040b039", "commitAfterChange": "dfd61de939a76d885ce3b23041239537dcafc292", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "     public final String readFully(Reader rdr)         throws IOException", "signatureAfterChange": "     public final String readFully(Reader rdr)         throws IOException", "diff": ["+        StringBuffer textBuffer = null;", "-                if (text == null) {", "-                    text = new String(buffer, 0, bufferLength);", "+                if (textBuffer == null) {", "+                    textBuffer = new StringBuffer(", "+                                    new String(buffer, 0, bufferLength));", "-                    text += new String(buffer, 0, bufferLength);", "+                    textBuffer.append(new String(buffer, 0, bufferLength));", "+        if (textBuffer != null) {", "+            text = textBuffer.toString();", "+        }"]}]}