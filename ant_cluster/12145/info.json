{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "167b639db07956d53f8e2fdb057ef27c", "detectedBy": ["DIFF_HIERARCHICAL", "AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "89f38e2afa27bffe862aab7295a96226", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/AntClassLoader.java", "commitBeforeChange": "3e2cbab6ba443daf0abf6e02535fb6cc1df72e04", "commitAfterChange": "b33d33d754378862953b0243500d94eaaf983923", "methodNumberBeforeChange": 37, "methodNumberAfterChange": 37, "signatureBeforeChange": "     protected URL getResourceURL(File file, String resourceName)", "signatureAfterChange": "     protected URL getResourceURL(File file, String resourceName)", "diff": ["-            ZipFile zipFile = (ZipFile) zipFiles.get(file);", "-            if (zipFile == null && file.isDirectory()) {", "+            JarFile jarFile = (JarFile) jarFiles.get(file);", "+            if (jarFile == null && file.isDirectory()) {", "-                if (zipFile == null) {", "+                if (jarFile == null) {", "-                        zipFile = new ZipFile(file);", "-                        zipFiles.put(file, zipFile);", "+                        jarFile = new JarFile(file);", "+                        jarFiles.put(file, jarFile);", "+                    // potential race-condition", "+                    jarFile = (JarFile) jarFiles.get(file);", "-                ZipEntry entry = zipFile.getEntry(resourceName);", "+                JarEntry entry = jarFile.getJarEntry(resourceName);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f93e05babac5773bd1f141504d124833", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/AntClassLoader.java", "commitBeforeChange": "3e2cbab6ba443daf0abf6e02535fb6cc1df72e04", "commitAfterChange": "b33d33d754378862953b0243500d94eaaf983923", "methodNumberBeforeChange": 30, "methodNumberAfterChange": 30, "signatureBeforeChange": "     private InputStream getResourceStream(File file, String resourceName)", "signatureAfterChange": "     private InputStream getResourceStream(File file, String resourceName)", "diff": ["-            ZipFile zipFile = (ZipFile) zipFiles.get(file);", "-            if (zipFile == null && file.isDirectory()) {", "+            JarFile jarFile = (JarFile) jarFiles.get(file);", "+            if (jarFile == null && file.isDirectory()) {", "-                if (zipFile == null) {", "+                if (jarFile == null) {", "-                        zipFile = new ZipFile(file);", "-                        zipFiles.put(file, zipFile);", "+                        jarFile = new JarFile(file);", "+                        jarFiles.put(file, jarFile);", "-                    zipFile = (ZipFile) zipFiles.get(file);", "+                    jarFile = (JarFile) jarFiles.get(file);", "-                ZipEntry entry = zipFile.getEntry(resourceName);", "+                JarEntry entry = jarFile.getJarEntry(resourceName);", "-                    return zipFile.getInputStream(entry);", "+                    return jarFile.getInputStream(entry);"]}]}