{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8e9e4fa3274662df05b0730ff8a1e315", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0bfa0667c6c6bdb294f3e1a476b0de0f", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/helper/ProjectHelper2.java", "commitBeforeChange": "aeee70243a354c5951ec655556f8a1530e7713eb", "commitAfterChange": "ca5799fd8c1780abcc25f63745faf95bd2cdb06a", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 19, "signatureBeforeChange": "         public void onStartElement(String uri, String tag, String qname,                                    Attributes attrs,                                    AntXMLContext context)             throws SAXParseException", "signatureAfterChange": "         public void onStartElement(String uri, String tag, String qname,                                    Attributes attrs,                                    AntXMLContext context)             throws SAXParseException", "diff": ["-                String key = attrs.getQName(i);", "+                String key = attrs.getLocalName(i);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "577a895b5bc252c0c2e5b5ef2ef24fd2", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/helper/ProjectHelper2.java", "commitBeforeChange": "aeee70243a354c5951ec655556f8a1530e7713eb", "commitAfterChange": "ca5799fd8c1780abcc25f63745faf95bd2cdb06a", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 25, "signatureBeforeChange": "         public void onStartElement(String uri, String tag, String qname,                                    Attributes attrs,                                    AntXMLContext context)             throws SAXParseException", "signatureAfterChange": "         public void onStartElement(String uri, String tag, String qname,                                    Attributes attrs,                                    AntXMLContext context)             throws SAXParseException", "diff": ["-", "+            task.setQName(qname);", "-                wrapper.setAttribute(attrs.getQName(i),", "-                        attrs.getValue(i));", "+                String name = attrs.getLocalName(i);", "+                String value = attrs.getValue(i);", "+                // PR: Hack for ant-type value", "+                //  an ant-type is a component name which can", "+                // be namespaced, need to extract the name", "+                // and convert from qualifed name to uri/name", "+                if (name.equals(\"ant-type\")) {", "+                    int index = value.indexOf(\":\");", "+                    if (index != -1) {", "+                        String prefix = value.substring(0, index);", "+                        String mappedUri = context.getPrefixMapping(prefix);", "+                        if (mappedUri == null) {", "+                            throw new BuildException(", "+                                \"Unable to find XML NS prefix \" + prefix);", "+                        }", "+                        value = ProjectHelper.genComponentName(", "+                            mappedUri, value.substring(index + 1));", "+                    }", "+                }", "+                wrapper.setAttribute(name, value);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e131cccd1ce7d7d2371254aa553a2e75", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/helper/ProjectHelper2.java", "commitBeforeChange": "aeee70243a354c5951ec655556f8a1530e7713eb", "commitAfterChange": "ca5799fd8c1780abcc25f63745faf95bd2cdb06a", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 21, "signatureBeforeChange": "         public void onStartElement(String uri, String tag, String qname,                                    Attributes attrs,                                    AntXMLContext context)             throws SAXParseException", "signatureAfterChange": "         public void onStartElement(String uri, String tag, String qname,                                    Attributes attrs,                                    AntXMLContext context)             throws SAXParseException", "diff": ["-                String key = attrs.getQName(i);", "+                String key = attrs.getLocalName(i);"]}]}