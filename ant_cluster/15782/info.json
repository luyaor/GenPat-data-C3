{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "45c5d4f0f8debdab44e2172e7feed463", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "42ec4225e8ae52ba935483022db7cdfe", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/bzip2/CBZip2InputStream.java", "commitBeforeChange": "3477bbf6474cdd2b70b12eb638e64415a4f1c2ec", "commitAfterChange": "134d95afef9b42cf08f2eccb077b97525ac38034", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 7, "signatureBeforeChange": "      private void initBlock()", "signatureAfterChange": "      private void initBlock() throws IOException", "diff": ["+    private void initBlock() throws IOException {", "+        char magic0 = bsGetUByte();", "+        char magic1 = bsGetUByte();", "+        char magic2 = bsGetUByte();", "+        char magic3 = bsGetUByte();", "+        char magic4 = bsGetUByte();", "+        char magic5 = bsGetUByte();", "+", "+        if (magic0 == 0x17 &&", "+            magic1 == 0x72 &&", "+            magic2 == 0x45 &&", "+            magic3 == 0x38 &&", "+            magic4 == 0x50 &&", "+            magic5 == 0x90) {", "+            complete(); // end of file", "+        } else if (magic0 != 0x31 || // '1'", "+                   magic1 != 0x41 || // ')'", "+                   magic2 != 0x59 || // 'Y'", "+                   magic3 != 0x26 || // '&'", "+                   magic4 != 0x53 || // 'S'", "+                   magic5 != 0x59   // 'Y'", "+                   ) {", "+            this.currentState = EOF;", "+            throw new IOException(\"bad block header\");", "+            this.storedBlockCRC = bsGetInt();", "+            this.blockRandomised = bsR(1) == 1;", "+", "+            /**", "+             * Allocate data here instead in constructor, so we do not", "+             * allocate it if the input file is empty.", "+             */", "+            if (this.data == null) {", "+                this.data = new Data(this.blockSize100k);", "+", "+            // currBlockNo++;", "+            getAndMoveToFrontDecode();", "+", "+            this.crc.initialiseCRC();", "+            this.currentState = START_BLOCK_STATE;", "-    private void initBlock() {", "-        char magic1, magic2, magic3, magic4;", "-        char magic5, magic6;", "-        magic1 = bsGetUChar();", "-        magic2 = bsGetUChar();", "-        magic3 = bsGetUChar();", "-        magic4 = bsGetUChar();", "-        magic5 = bsGetUChar();", "-        magic6 = bsGetUChar();", "-        if (magic1 == 0x17 && magic2 == 0x72 && magic3 == 0x45", "-            && magic4 == 0x38 && magic5 == 0x50 && magic6 == 0x90) {", "-            complete();", "-            return;", "-        }", "-        if (magic1 != 0x31 || magic2 != 0x41 || magic3 != 0x59", "-            || magic4 != 0x26 || magic5 != 0x53 || magic6 != 0x59) {", "-            badBlockHeader();", "-            streamEnd = true;", "-            return;", "-        }", "-", "-        storedBlockCRC = bsGetInt32();", "-", "-        if (bsR(1) == 1) {", "-            blockRandomised = true;", "-        } else {", "-            blockRandomised = false;", "-        }", "-", "-        //        currBlockNo++;", "-        getAndMoveToFrontDecode();", "-", "-        mCrc.initialiseCRC();", "-        currentState = START_BLOCK_STATE;", "-    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c2d6b62d69bd030e430c0428a54107e5", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/bzip2/CBZip2InputStream.java", "commitBeforeChange": "2e5b53fa106b848646493cb6f6ea74616973aca0", "commitAfterChange": "a67cf020bd250a1fb2acecf7cfd0159f25200dc2", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "      private void initBlock() throws IOException", "signatureAfterChange": "      private void initBlock() throws IOException", "diff": ["-        char magic0 = bsGetUByte();", "-        char magic1 = bsGetUByte();", "-        char magic2 = bsGetUByte();", "-        char magic3 = bsGetUByte();", "-        char magic4 = bsGetUByte();", "-        char magic5 = bsGetUByte();", "+        char magic0;", "+        char magic1;", "+        char magic2;", "+        char magic3;", "+        char magic4;", "+        char magic5;", "-        if (magic0 == 0x17 &&", "-            magic1 == 0x72 &&", "-            magic2 == 0x45 &&", "-            magic3 == 0x38 &&", "-            magic4 == 0x50 &&", "-            magic5 == 0x90) {", "-            complete(); // end of file", "-        } else if (magic0 != 0x31 || // '1'", "-                   magic1 != 0x41 || // ')'", "-                   magic2 != 0x59 || // 'Y'", "-                   magic3 != 0x26 || // '&'", "-                   magic4 != 0x53 || // 'S'", "-                   magic5 != 0x59   // 'Y'", "-                   ) {", "+        while (true) {", "+            // Get the block magic bytes.", "+            magic0 = bsGetUByte();", "+            magic1 = bsGetUByte();", "+            magic2 = bsGetUByte();", "+            magic3 = bsGetUByte();", "+            magic4 = bsGetUByte();", "+            magic5 = bsGetUByte();", "+", "+            // If isn't end of stream magic, break out of the loop.", "+            if (magic0 != 0x17 || magic1 != 0x72 || magic2 != 0x45", "+                    || magic3 != 0x38 || magic4 != 0x50 || magic5 != 0x90) {", "+                break;", "+            }", "+", "+            // End of stream was reached. Check the combined CRC and", "+            // advance to the next .bz2 stream if decoding concatenated", "+            // streams.", "+            if (complete()) {", "+                return;", "+            }", "+        }", "+", "+        if (magic0 != 0x31 || // '1'", "+            magic1 != 0x41 || // ')'", "+            magic2 != 0x59 || // 'Y'", "+            magic3 != 0x26 || // '&'", "+            magic4 != 0x53 || // 'S'", "+            magic5 != 0x59 // 'Y'", "+            ) {"]}]}