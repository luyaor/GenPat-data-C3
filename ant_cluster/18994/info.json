{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9465f7f1e0ee84632b36d94dacadad94", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bfa8ccf1549ea854e0782ca2f1ee3af2", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Definer.java", "commitBeforeChange": "359855b65f028b1f5939264810934e7d09f65648", "commitAfterChange": "e8a83719cd6439a1ac94f5d495f6889be8b81238", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 14, "signatureBeforeChange": "     private AntClassLoader createLoader()", "signatureAfterChange": "     private ClassLoader createLoader()", "diff": ["-    private AntClassLoader createLoader() {", "+    private ClassLoader createLoader() {", "-                if (reusedLoader instanceof AntClassLoader) {", "-                    return (AntClassLoader)reusedLoader;", "-                }", "+                return (ClassLoader)reusedLoader;", "+                //if (reusedLoader instanceof AntClassLoader) {", "+                //    return (AntClassLoader)reusedLoader;", "+                //}", "-        AntClassLoader al = null;", "+        ClassLoader al = null;", "+", "+        if( classpath ==null ) {", "+            // do we need to create another loader ?", "+            al=project.getCoreLoader();", "+            if( al != null ) {", "+                return al;", "+            }", "+        }", "+", "+            project.log( \"Creating new loader for taskdef using \" + classpath +", "+                    \" reverse=\" + reverseLoader, Project.MSG_DEBUG );", "+            // XXX Probably it would be better to reuse getClass().getClassLoader()", "+            // I don't think we need a new ( identical ) loader for each task", "-                                    !reverseLoader);", "+                    !reverseLoader);", "-        al.addSystemPackageRoot(\"org.apache.tools.ant\");", "+        ((AntClassLoader)al).addSystemPackageRoot(\"org.apache.tools.ant\");"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d38010bb25cbdcd1ab1af599460fc1cc", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/util/ClasspathUtils.java", "commitBeforeChange": "052d19e952abee3ced0456b7412ec51fe8baa51b", "commitAfterChange": "b404a282b25f5b01eeb1646495eb2f36f675ebe9", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "     public static ClassLoader getClassLoaderForPath(Path path, String pathId,                                                      boolean reverseLoader)", "signatureAfterChange": "     public static ClassLoader getClassLoaderForPath(         Project p, Path path, String loaderId, boolean reverseLoader)", "diff": ["+     */", "+    public static ClassLoader getClassLoaderForPath(", "+        Project p, Path path, String loaderId, boolean reverseLoader) {", "+        return getClassLoaderForPath(p, path, loaderId, reverseLoader,", "+                                     isMagicPropertySet(p));", "+    }", "-    public static ClassLoader getClassLoaderForPath(Path path, String pathId, ", "-                                                    boolean reverseLoader) {", "-        Project p = path.getProject();", "-        String loaderId = LOADER_ID_PREFIX + pathId;", "-        // code stolen from o.a.t.a.taskdefs.Definer, might be a todo", "-        // to remove it there didn't look at the reverse loader stuff", "-        // however (todo that first)", "-        if (p.getProperty(REUSE_LOADER_REF) != null) {", "-            //chose not to do the extra instanceof checking here, consider it ", "-            // a programming error and not a config error if this fails", "-            // so I assume the RuntimeException is OK ", "-            cl = (ClassLoader)p.getReference(loaderId);", "-        if (cl == null){", "-            cl = getUniqueClassLoaderForPath(path, reverseLoader);", "-            p.addReference(loaderId, cl);            ", "-        } ", "-        ", "-        return cl;        "]}]}