{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4dbe5a74d08a28c5a800136c16dd29ae", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "32308e7828ad48965dc0646312d331b3", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/ejb/JonasDeploymentTool.java", "commitBeforeChange": "d60b6ca1eea0a3372c99965f3c15466328659908", "commitAfterChange": "c6c232893c39257745a8f7a618bcdb5c59791cae", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "     protected void addVendorFiles(final Hashtable someEjbFiles,final String aDdPrefix)", "signatureAfterChange": "     protected void addVendorFiles(final Hashtable someEjbFiles,                                         final String aDdPrefix)", "diff": ["-     **/", "-    protected void addVendorFiles(final Hashtable someEjbFiles,final String aDdPrefix) {", "+     */", "+    protected void addVendorFiles(final Hashtable someEjbFiles,", "+                                        final String aDdPrefix) {", "-        File aJonasDD = new File(getConfig().descriptorDir,aDdPrefix + JONAS_DD);", "-        if ( aJonasDD.exists() ) {", "+        File aJonasDD", "+             = new File(getConfig().descriptorDir, aDdPrefix + JONAS_DD);", "+", "+        if (aJonasDD.exists()) {", "-            if( ! addJonasVendorFiles(someEjbFiles,aDdPrefix) ) {            ", "-               log(\"Unable to locate JOnAS deployment descriptor. It was expected to be in \"", "-                  + aJonasDD.getPath() + \". Or please use JOnAS naming convention.\",", "-                  Project.MSG_WARN);", "+            if (!addJonasVendorFiles(someEjbFiles, aDdPrefix)) {", "+                log(\"Unable to locate JOnAS deployment descriptor. It was \"", "+                     + \"expected to be in \" + aJonasDD.getPath()", "+                     + \". Alternatively, please use JOnAS naming convention.\",", "+                    Project.MSG_WARN);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e75573c5ba7800189806937e6b06cf92", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/ejb/JonasDeploymentTool.java", "commitBeforeChange": "270394a09fddda0ea9ffa2330956c5f399ab840f", "commitAfterChange": "6bd8d6e938a45868902ecd1092858e8372933c7c", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 16, "signatureBeforeChange": "     protected void addVendorFiles(final Hashtable someEjbFiles,                                         final String aDdPrefix)", "signatureAfterChange": "      protected void addVendorFiles(Hashtable ejbFiles, String ddPrefix)", "diff": ["-    protected void addVendorFiles(final Hashtable someEjbFiles,", "-                                        final String aDdPrefix) {", "-        // Use Ant Naming convention", "-        File aJonasDD", "-             = new File(getConfig().descriptorDir, aDdPrefix + JONAS_DD);", "-", "-        if (aJonasDD.exists()) {", "-            someEjbFiles.put(META_DIR + JONAS_DD, aJonasDD);", "-        } else {", "-            // try with JOnAS Naming convention", "-            if (!addJonasVendorFiles(someEjbFiles, aDdPrefix)) {", "-                log(\"Unable to locate JOnAS deployment descriptor. It was \"", "-                     + \"expected to be in \" + aJonasDD.getPath()", "-                     + \". Alternatively, please use JOnAS naming convention.\",", "-                    Project.MSG_WARN);", "-            }", "-        }", "+", "+    protected void addVendorFiles(Hashtable ejbFiles, String ddPrefix) {", "+", "+\t// JOnAS-specific descriptor deployment", "+\tjonasDescriptorName = getJonasDescriptorName();", "+        File jonasDD = new File(getConfig().descriptorDir, jonasDescriptorName);", "+ ", "+        if ( jonasDD.exists() ) {", "+            ejbFiles.put(META_DIR + JONAS_DD, jonasDD);", "+            log(\"Unable to locate the JOnAS deployment descriptor. It was expected to be in: \"", "+                + jonasDD.getPath() + \".\", Project.MSG_WARN);"]}]}