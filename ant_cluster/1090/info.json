{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "145c61939f1a2ef2d1c1e3db13736395", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "032ca64b16e2078e78739b56f4a90dc8", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Ant.java", "commitBeforeChange": "d5bfb5609dde48b93877185c1f61067e009e8499", "commitAfterChange": "1ba5087df429abe38dd22fe5c9ddbc343280f0ae", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": "     public void execute() throws BuildException", "diff": ["-\t", "-\tif( output != null ) {", "-\t    try {", "-\t\tPrintStream out=new PrintStream(new FileOutputStream(output));", "-\t\tp1.setOutput( out );", "-\t    } catch( IOException ex ) {", "-\t\tproject.log( \"Ant: Can't set output to \" + output );", "-\t    }", "-\t}", "-\tp1.setBasedir(dir);", "+        p1.setBasedir(dir);", "-\t// Override with local-defined properties", "-\tEnumeration e = properties.elements();", "+        // Override with local-defined properties", "+        Enumeration e = properties.elements();", "-\t    //\t    System.out.println(\"Setting \" + p.getName()+ \" \" + p.getValue());", "-\t    p.init();", "+            //\t    System.out.println(\"Setting \" + p.getName()+ \" \" + p.getValue());", "+            p.init();", "-\tif (antFile == null) antFile = dir + \"/build.xml\";", "+        if (antFile == null) antFile = dir + \"/build.xml\";", "-\tp1.setUserProperty( \"ant.file\" , antFile );", "+        p1.setUserProperty( \"ant.file\" , antFile );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "275d1b1e16659b28b0e1e8609b411811", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/java/org/apache/myrmidon/components/workspace/DefaultWorkspace.java", "commitBeforeChange": "46330b41c1a0cd642c895b8ff39ab295a3519ca4", "commitAfterChange": "f42a96f3046b6a665f9755123c9f7939e53737ba", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "     private ExecutionFrame createExecutionFrame( final Project project )         throws TaskException, ServiceException", "signatureAfterChange": "     private ExecutionFrame createExecutionFrame( final Project project )         throws TaskException, ServiceException", "diff": ["-        // Create a service manager that aggregates the contents of the context's", "-        // component manager, and service manager", "-        final MultiSourceServiceManager msServiceManager = new MultiSourceServiceManager();", "-        msServiceManager.add( (AntServiceManager)serviceManager.lookup( AntServiceManager.ROLE ) );", "-        msServiceManager.add( new ServiceManagerAdaptor( serviceManager ) );", "-", "-            new DefaultTaskContext( m_baseContext, msServiceManager );", "+            new DefaultTaskContext( m_baseContext, serviceManager );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "423f0e29c948525ecaefe84a0392c85b", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/AntClassLoader.java", "commitBeforeChange": "a4e5c13b86391f9b7ad23e326fe3d2bb66a16cc7", "commitAfterChange": "430b0251e54d02957b2636927d04a79a02c83ddb", "methodNumberBeforeChange": 44, "methodNumberAfterChange": 44, "signatureBeforeChange": "     protected boolean isInPath(File component)", "signatureAfterChange": "     protected boolean isInPath(File component)", "diff": ["-        for (Enumeration e = pathComponents.elements(); e.hasMoreElements();) {", "-            File pathComponent = (File) e.nextElement();", "-            if (pathComponent.equals(component)) {", "-                return true;", "-            }", "-        }", "-        return false;", "+        return pathComponents.contains(component);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4b9e2abb57f8c4be09cb9b9356b9ffb4", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/java/org/apache/myrmidon/components/builder/DefaultProjectBuilder.java", "commitBeforeChange": "50fb7f5643cba98640e7d4ce2b00736e9d42cbab", "commitAfterChange": "6ff9bf50ad2e4fcda69911d207c8dfe93e7b4e0b", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "     private void buildTarget( final DefaultProject project, final Configuration target )         throws ProjectException", "signatureAfterChange": "     private void buildTarget( final DefaultProject project, final Configuration target )         throws ProjectException", "diff": ["-        final String ifCondition = target.getAttribute( \"if\", null );", "-        final String unlessCondition = target.getAttribute( \"unless\", null );", "-        final String[] dependencies = buildDependsList( depends, target );", "-        final Condition condition = buildCondition( ifCondition, unlessCondition );", "-        final Target defaultTarget =", "-            new Target( condition, target.getChildren(), dependencies );", "+        final Dependency[] dependencies = buildDependsList( depends, target );", "+        final Target defaultTarget = new Target( target.getChildren(), dependencies );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "73edd17ec2e86bcf68e3e13a49b2080c", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/java/org/apache/ant/project/DefaultProjectEngine.java", "commitBeforeChange": "66c74a2fceee359d38138fb601c1b639e99fb17d", "commitAfterChange": "19600e6d005c8bebbf6697bd00516e843f0a34f4", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "      protected void setupTaskletEngine()         throws Exception", "signatureAfterChange": "      protected void setupTaskletEngine()         throws Exception", "diff": ["-        ", "-        if( m_taskletEngine instanceof Composer )", "-        {", "-            final DefaultComponentManager componentManager = new DefaultComponentManager();", "-            componentManager.put( \"org.apache.ant.tasklet.engine.TaskletRegistry\", ", "-                                  m_taskletRegistry );", "-            componentManager.put( \"org.apache.ant.convert.ConverterRegistry\",", "-                                  m_converterRegistry );", "-            ", "-            ((Composer)m_taskletEngine).compose( componentManager );", "-        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7900cbe81e953b89bc1e64098fe0fd35", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/AntClassLoader.java", "commitBeforeChange": "b839a3ed0f3a0ad050579c33f2ede3e8b8542fea", "commitAfterChange": "f1bfa329163db7a4992c25741e2d2db243a69fa0", "methodNumberBeforeChange": 32, "methodNumberAfterChange": 33, "signatureBeforeChange": "      public void buildFinished(BuildEvent event)", "signatureAfterChange": "      public void buildFinished(BuildEvent event)", "diff": ["-", "-    public void buildFinished(BuildEvent event) {", "+", "+    public void buildFinished(BuildEvent event) {", "+        cleanup();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "920cd33366634ac7317e473ed7e9c987", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/ide/VAJImport.java", "commitBeforeChange": "6cf09d26ffb60c6d9c780b92203ceb6b98b4182c", "commitAfterChange": "fcd6548344aa3f590435beff55530cfdb6983588", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 6, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": " \tpublic void execute() throws BuildException", "diff": ["-     */", "-    public void execute() throws BuildException {", "-        if (filesets.size() == 0) {", "-            throw new BuildException(\"At least one fileset is required!\");", "-        }", "-        if (importProject == null || \"\".equals(importProject)) {", "-            throw new BuildException(\"The VisualAge for Java Project name is required!\");", "-        }", "-        vajproject = getVAJProject();", "-        if (vajproject == null) {", "-            try {", "-                vajproject = VAJUtil.getWorkspace().createProject(this.importProject, true);", "-            } catch (IvjException e) {", "-                throw VAJUtil.createBuildException( \"Error while creating Project \" + ", "-                                                    importProject + \": \", ", "-                                                    e ); ", "-            }", "-        }", "+\t */", "+\tpublic void execute() throws BuildException {", "+\t\tif (filesets.size() == 0) {", "+\t\t\tthrow new BuildException(\"At least one fileset is required!\");", "+\t\t}", "-        for (Enumeration e = filesets.elements(); e.hasMoreElements();) {", "-            importFileset((FileSet) e.nextElement());", "-        }", "-    }", "+\t\tif (importProject == null || \"\".equals(importProject)) {", "+\t\t\tthrow new BuildException(\"The VisualAge for Java Project name is required!\");", "+\t\t}", "+\t\tfor (Enumeration e = filesets.elements(); e.hasMoreElements();) {", "+\t\t\timportFileset((FileSet) e.nextElement());", "+\t\t}", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e31fb8ddb180821f61cd2754acf4153c", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Ant.java", "commitBeforeChange": "52bb31a08117db04ed29044f8472b4b3b7b24a92", "commitAfterChange": "05b5cb8f3d92ae5b438a0c03a5c2daa5e264270b", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": "     public void execute() throws BuildException", "diff": ["-            // Override with local-defined properties", "-            Enumeration e = properties.elements();", "-            while (e.hasMoreElements()) {", "-                Property p=(Property) e.nextElement();", "-                p.setProject(newProject);", "-                p.execute();", "-            }", "-            ", "+            overrideProperties();", "+", "+            addReferences();", "+", "+        }", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e3910334cf7588164a3716df1f6142d0", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/java/org/apache/aut/nativelib/impl/launchers/ExecUtil.java", "commitBeforeChange": "0fb624e936ea10bcdbbe1e29e69761a87489fdbb", "commitAfterChange": "6679566ccaa583f1868dbd7b08c17bdf580c0ec5", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "     protected static String[] getEnvironmentSpec( final ExecMetaData metaData )         throws ExecException, IOException", "signatureAfterChange": "     protected static String[] getEnvironmentSpec( final ExecMetaData metaData )         throws ExecException, IOException", "diff": ["-        if( 0 == environment.size() )", "+        if( null == environment || 0 == environment.size() )", "-            if( metaData.isEnvironmentAdditive() )", "-            {", "-                final Properties newEnvironment = new Properties();", "-                newEnvironment.putAll( Environment.getNativeEnvironment() );", "-                newEnvironment.putAll( environment );", "-                return toNativeEnvironment( newEnvironment );", "-            }", "-            else", "-            {", "-                return toNativeEnvironment( environment );", "-            }", "+            return toNativeEnvironment( environment );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e7c30fb7d001a5badba61f75cc560bfc", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Copy.java", "commitBeforeChange": "a063472791e9b3d14f36b6e4471c77f7b9831bb5", "commitAfterChange": "9f766c7fa0d49087dcb5fa50dce049f275f3db54", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 8, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": "     public void execute() throws BuildException", "diff": ["-        // deal with the directory", "-        if (dir != null) {", "-            DirectoryScanner ds = new DirectoryScanner();", "-            ds.setBasedir(dir);", "-            ds.scan();          // include EVERYTHING", "-", "-            String[] srcFiles = ds.getIncludedFiles();", "-            scan(dir, destDir, srcFiles);                   // add to fileCopyMap", "-        }", "-"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ff4c3deaf753367be10f85efb9f623e5", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/testcases/org/apache/tools/ant/taskdefs/optional/ANTLRTest.java", "commitBeforeChange": "48a79031a655c3ce2597b7518f41f5b175bf2e0a", "commitAfterChange": "fa78f1b3b09f395ad0b32c87e25829f669c91643", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "      public void test3()", "signatureAfterChange": "      public void test3()", "diff": ["-        File outputDirectory = new File(System.getProperty(\"root\"), TASKDEFS_DIR + \"antlr.tmp\");", "-        String[] calcFiles = outputDirectory.list(new CalcFileFilter());", "-        assertEquals(5, calcFiles.length);"]}]}