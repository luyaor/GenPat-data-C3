{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "331040c7d2450a0bb136f1fc1568ac14", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "074db4fec80c31ba50291f56f9fd7783", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/PropertyFile.java", "commitBeforeChange": "8c8d8c5f27e49e1fc7a40cc29a1293b7e9344107", "commitAfterChange": "9ec1930ae7761d9f977d737ea678282f0d1b06e7", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "      private void readFile() throws BuildException", "signatureAfterChange": "      private void readFile() throws BuildException", "diff": ["-                FileInputStream fis = new FileInputStream(m_propertyfile);", "-                BufferedInputStream bis = new BufferedInputStream(fis);", "-                m_properties.load(bis);", "-                if (fis != null) {", "-                    fis.close();", "+                FileInputStream fis = null;", "+                try {", "+                    fis = new FileInputStream(m_propertyfile);", "+                    BufferedInputStream bis = new BufferedInputStream(fis);", "+                    m_properties.load(bis);", "+                } finally {", "+                    if (fis != null) {", "+                        fis.close();", "+                    }", "-                FileOutputStream out = new FileOutputStream(m_propertyfile.getAbsolutePath());", "-                out.flush();", "-                out.close();", "+                FileOutputStream out = null;", "+                try {", "+                    out = new FileOutputStream(m_propertyfile.getAbsolutePath());", "+                    out.flush();", "+                } finally {", "+                    if (out != null) {", "+                        out.close();", "+                    }", "+                }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bf68e9e5fd08ecfcce62f7882cd96482", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/types/AbstractFileSet.java", "commitBeforeChange": "f701a45a76f305a53e96ffebf49b7000005303c8", "commitAfterChange": "4732c52135bf174383b10ed11b0ba86a33e12044", "methodNumberBeforeChange": 26, "methodNumberAfterChange": 26, "signatureBeforeChange": "     public DirectoryScanner getDirectoryScanner(Project p)", "signatureAfterChange": "     public DirectoryScanner getDirectoryScanner(Project p)", "diff": ["-        if (dir == null) {", "-            throw new BuildException(\"No directory specified for \"", "-                                     + getDataTypeName() + \".\");", "+        DirectoryScanner ds = null;", "+        synchronized (this) {", "+            if (directoryScanner != null && p == getProject()) {", "+                ds = directoryScanner;", "+            } else {", "+                if (dir == null) {", "+                    throw new BuildException(\"No directory specified for \"", "+                                             + getDataTypeName() + \".\");", "+                }", "+                if (!dir.exists()) {", "+                    throw new BuildException(dir.getAbsolutePath()", "+                                             + \" not found.\");", "+                }", "+                if (!dir.isDirectory()) {", "+                    throw new BuildException(dir.getAbsolutePath()", "+                                             + \" is not a directory.\");", "+                }", "+                ds = new DirectoryScanner();", "+                setupDirectoryScanner(ds, p);", "+                ds.setFollowSymlinks(followSymlinks);", "+                directoryScanner = (p == getProject()) ? ds : directoryScanner;", "+            }", "-        if (!dir.exists()) {", "-            throw new BuildException(dir.getAbsolutePath() + \" not found.\");", "-        }", "-        if (!dir.isDirectory()) {", "-            throw new BuildException(dir.getAbsolutePath()", "-                                     + \" is not a directory.\");", "-        }", "-        DirectoryScanner ds = new DirectoryScanner();", "-        setupDirectoryScanner(ds, p);", "-        ds.setFollowSymlinks(followSymlinks);"]}]}