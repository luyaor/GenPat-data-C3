{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ccbeeb455025893d7583818a041c9e5b", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0afba19811a370c7e28c6abcb464ef8f", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/ejb/GenericDeploymentTool.java", "commitBeforeChange": "1cd764447cbd26e40fb0b78aaa4b4cf3398d2a9a", "commitAfterChange": "a50b60cdd9337ee2978a7f1522cf4963785f7aa9", "methodNumberBeforeChange": 26, "methodNumberAfterChange": 26, "signatureBeforeChange": "     protected void writeJar(String baseName, File jarfile, Hashtable files,                              String publicId) throws BuildException", "signatureAfterChange": "     protected void writeJar(String baseName, File jarfile, Hashtable files,                              String publicId) throws BuildException", "diff": ["-            String defaultManifest = \"/org/apache/tools/ant/defaultManifest.mf\";", "-            InputStream in = this.getClass().getResourceAsStream(defaultManifest);", "-            if ( in == null ) {", "-                throw new BuildException ( \"Could not find: \" + defaultManifest );", "+            InputStream in = null;", "+            Manifest manifest = null;", "+            try {", "+                if (config.manifest != null) {", "+                    in = new FileInputStream(config.manifest);", "+                    if ( in == null ) {", "+                        throw new BuildException(\"Could not find manifest file: \" + config.manifest, ", "+                                                  getLocation());", "+                    }", "+                }", "+                else {", "+                    String defaultManifest = \"/org/apache/tools/ant/defaultManifest.mf\";", "+                    in = this.getClass().getResourceAsStream(defaultManifest);", "+                    if ( in == null ) {", "+                        throw new BuildException(\"Could not find default manifest: \" + defaultManifest,", "+                                                  getLocation());", "+                    }", "+                }", "+                            ", "+                manifest = new Manifest(in);", "+            }", "+            catch (IOException e) {", "+                throw new BuildException (\"Unable to read manifest\", e, getLocation());", "+            }", "+            finally {", "+                if (in != null) {", "+                    in.close();", "+                }", "-            Manifest manifest = new Manifest(in);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b9e4f68a6e93080f19d43224e7495744", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/sandbox/dotnet/src/main/org/apache/tools/ant/taskdefs/optional/dotnet/AbstractBuildTask.java", "commitBeforeChange": "49d7dffbd158195b4815679366e563cc0a76a384", "commitAfterChange": "ed70f738d46319e6440ef4d53745ca97a46a4589", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 16, "signatureBeforeChange": "     public void execute()", "signatureAfterChange": "     public void execute()", "diff": ["+        if (buildFile != null && buildSnippet != null) {", "+            throw new BuildException(\"You must not specify the build file\"", "+                                     + \" attribute and a nested build at the\"", "+                                     + \" same time\");", "+        }", "+", "-        args = getBuildfileArguments(buildFile);", "+", "+        File generatedFile = null;", "+        if (buildSnippet != null) {", "+            try {", "+                generatedFile = getBuildFile();", "+            } catch (IOException e) {", "+                throw new BuildException(e);", "+            }", "+            args = getBuildfileArguments(generatedFile);", "+        } else {", "+            args = getBuildfileArguments(buildFile);", "+        }        ", "+", "-        exec.execute();", "+", "+        try {", "+            exec.execute();", "+        } finally {", "+            if (generatedFile != null) {", "+                generatedFile.delete();", "+            }", "+        }", "+    }"]}]}