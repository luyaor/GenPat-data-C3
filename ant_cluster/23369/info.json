{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2f27b73a6631d65ec94215a81e16d43d", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "125d5b47dfa81342795c14c9ba1b45c0", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Tar.java", "commitBeforeChange": "1400dc3c1b536c70697f83be990b0725121cba90", "commitAfterChange": "b5fcf10604f56a8061d10f332570342b34cc7a9d", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 20, "signatureBeforeChange": "         public String getGroup()", "signatureAfterChange": "     protected TarFileSet asTarFileSet(ArchiveFileSet archiveFileSet)", "diff": ["+     */", "+    protected TarFileSet asTarFileSet(ArchiveFileSet archiveFileSet) {", "+        TarFileSet tfs = null;", "+        if (archiveFileSet != null && archiveFileSet instanceof TarFileSet) {", "+            tfs = (TarFileSet) archiveFileSet;", "+        } else {", "+            tfs = new TarFileSet();", "+            tfs.setProject(getProject());", "+            if (archiveFileSet != null) {", "+                tfs.setPrefix(archiveFileSet.getPrefix(getProject()));", "+                tfs.setFullpath(archiveFileSet.getFullpath(getProject()));", "+                if (archiveFileSet.hasFileModeBeenSet()) {", "+                    tfs.integerSetFileMode(archiveFileSet", "+                                           .getFileMode(getProject()));", "+                }", "+                if (archiveFileSet.hasDirModeBeenSet()) {", "+                    tfs.integerSetDirMode(archiveFileSet", "+                                          .getDirMode(getProject()));", "+                }", "+                ", "+                if (archiveFileSet instanceof", "+                    org.apache.tools.ant.types.TarFileSet) {", "+                    org.apache.tools.ant.types.TarFileSet t =", "+                        (org.apache.tools.ant.types.TarFileSet) archiveFileSet;", "+                    if (t.hasUserNameBeenSet()) {", "+                        tfs.setUserName(t.getUserName());", "+                    }", "+                    if (t.hasGroupBeenSet()) {", "+                        tfs.setGroup(t.getGroup());", "+                    }", "+                    if (t.hasUserIdBeenSet()) {", "+                        tfs.setUid(t.getUid());", "+                    }", "+                    if (t.hasGroupIdBeenSet()) {", "+                        tfs.setGid(t.getGid());", "+                    }", "+                }", "+            }", "+        }", "+        return tfs;", "+    }", "-         */", "-        public String getGroup() {", "-            return groupName;", "-        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b32c32acec1dd771b6f6cbf6f2a2f771", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/FTP.java", "commitBeforeChange": "26067ee1d30e96a7345a20a29bb538ed314d4c70", "commitAfterChange": "54057d742bcffec3013ff101b9f0e8db5ce65009", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 18, "signatureBeforeChange": "     protected int sendFiles(FTPClient ftp, DirectoryScanner ds)         throws IOException, BuildException", "signatureAfterChange": "     protected int transferFiles(FTPClient ftp, FileSet fs)         throws IOException, BuildException", "diff": ["-    protected int sendFiles(FTPClient ftp, DirectoryScanner ds)", "+    protected int transferFiles(FTPClient ftp, FileSet fs)", "+        FileScanner ds;", "+", "+        if (action == SEND_FILES) {", "+            ds = fs.getDirectoryScanner(project);", "+        } else {", "+            ds = new FTPDirectoryScanner(ftp);", "+            fs.setupDirectoryScanner(ds, project);", "+            ds.scan();", "+        }\t\t\t", "+\t\t\t\t", "-        String dir = ds.getBasedir().getAbsolutePath();", "+        String dir = null;", "+        if ((ds.getBasedir() == null) && ((action == SEND_FILES) || (action == GET_FILES))) {", "+            throw new BuildException( \"the dir attribute must be set for send and get actions\" );", "+        } else {", "+            if ((action == SEND_FILES) || (action == GET_FILES)) {", "+                dir = ds.getBasedir().getAbsolutePath();", "+            }", "+        }", "+", "+        // If we are doing a listing, we need the output stream created now.", "+        BufferedWriter bw = null;", "+        if (action == LIST_FILES) {", "+            File pd = new File(listing.getParent());", "+            if (!pd.exists()) {", "+                pd.mkdirs();", "+            }", "+            bw = new BufferedWriter(new FileWriter(listing));", "+        }", "-            sendFile(ftp, dir, dsfiles[i]);", "+            switch (action) {", "+                case SEND_FILES: {", "+                    sendFile(ftp, dir, dsfiles[i]);", "+                    break;", "+                }", "+", "+                case GET_FILES: {", "+                    getFile(ftp, dir, dsfiles[i]);", "+                    break;", "+                }", "+", "+                case DEL_FILES: {", "+                    delFile(ftp, dsfiles[i]);", "+                    break;", "+                }", "+", "+                case LIST_FILES: {", "+                    listFile(ftp, bw, dsfiles[i]);", "+                    break;", "+                }", "+", "+                default: {", "+                    throw new BuildException(\"unknown ftp action \" + action );", "+                }", "+            }", "+        }", "+", "+        if (action == LIST_FILES) {", "+            bw.close();"]}]}