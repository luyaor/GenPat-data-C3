{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f869a9b261be7fb4b1f99761e1a8594d", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1aabd1c5ce88dc16e77dcbe7c0a18a1e", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/tar/TarUtils.java", "commitBeforeChange": "b43f4224d8fe9d1e7d628e88df394a7dfed46d1b", "commitAfterChange": "2e5b53fa106b848646493cb6f6ea74616973aca0", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 10, "signatureBeforeChange": "     public static StringBuffer parseName(byte[] header, int offset, int length)", "signatureAfterChange": "     public static String parseName(byte[] buffer, final int offset, final int length)", "diff": ["-    public static StringBuffer parseName(byte[] header, int offset, int length) {", "-        StringBuffer result = new StringBuffer(length);", "-        int          end = offset + length;", "-        for (int i = offset; i < end; ++i) {", "-            if (header[i] == 0) {", "-                break;", "-            }", "-", "-            result.append((char) header[i]);", "-        return result;", "+     */", "+    public static String parseName(byte[] buffer, final int offset, final int length) {", "+        try {", "+            return parseName(buffer, offset, length, DEFAULT_ENCODING);", "+        } catch (IOException ex) {", "+            try {", "+                return parseName(buffer, offset, length, FALLBACK_ENCODING);", "+            } catch (IOException ex2) {", "+                // impossible", "+                throw new RuntimeException(ex2);", "+            }", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8ed775643b17ad77d615777dc0f839c9", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/tar/TarUtils.java", "commitBeforeChange": "b43f4224d8fe9d1e7d628e88df394a7dfed46d1b", "commitAfterChange": "2e5b53fa106b848646493cb6f6ea74616973aca0", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 12, "signatureBeforeChange": "     public static int getNameBytes(StringBuffer name, byte[] buf, int offset, int length)", "signatureAfterChange": "     public static int formatNameBytes(String name, byte[] buf, final int offset, final int length)", "diff": ["-    public static int getNameBytes(StringBuffer name, byte[] buf, int offset, int length) {", "-        int i;", "-        for (i = 0; i < length && i < name.length(); ++i) {", "-            buf[offset + i] = (byte) name.charAt(i);", "-        for (; i < length; ++i) {", "+     */", "+    public static int formatNameBytes(String name, byte[] buf, final int offset, final int length) {", "+        try {", "+            return formatNameBytes(name, buf, offset, length, DEFAULT_ENCODING);", "+        } catch (IOException ex) {", "+            try {", "+                return formatNameBytes(name, buf, offset, length,", "+                                       FALLBACK_ENCODING);", "+            } catch (IOException ex2) {", "+                // impossible", "+                throw new RuntimeException(ex2);", "+            }", "+        }", "+    }"]}]}