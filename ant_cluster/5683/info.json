{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ff3feffd771a13cc4159e84d8fadc7cd", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "89f38e2afa27bffe862aab7295a96226", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/AntClassLoader.java", "commitBeforeChange": "3e2cbab6ba443daf0abf6e02535fb6cc1df72e04", "commitAfterChange": "b33d33d754378862953b0243500d94eaaf983923", "methodNumberBeforeChange": 37, "methodNumberAfterChange": 37, "signatureBeforeChange": "     protected URL getResourceURL(File file, String resourceName)", "signatureAfterChange": "     protected URL getResourceURL(File file, String resourceName)", "diff": ["-            ZipFile zipFile = (ZipFile) zipFiles.get(file);", "-            if (zipFile == null && file.isDirectory()) {", "+            JarFile jarFile = (JarFile) jarFiles.get(file);", "+            if (jarFile == null && file.isDirectory()) {", "-                if (zipFile == null) {", "+                if (jarFile == null) {", "-                        zipFile = new ZipFile(file);", "-                        zipFiles.put(file, zipFile);", "+                        jarFile = new JarFile(file);", "+                        jarFiles.put(file, jarFile);", "+                    // potential race-condition", "+                    jarFile = (JarFile) jarFiles.get(file);", "-                ZipEntry entry = zipFile.getEntry(resourceName);", "+                JarEntry entry = jarFile.getJarEntry(resourceName);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f723a1287553a238a5e87559198b34c8", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/AntClassLoader.java", "commitBeforeChange": "3e2cbab6ba443daf0abf6e02535fb6cc1df72e04", "commitAfterChange": "b33d33d754378862953b0243500d94eaaf983923", "methodNumberBeforeChange": 50, "methodNumberAfterChange": 50, "signatureBeforeChange": "     public synchronized void cleanup()", "signatureAfterChange": "     public synchronized void cleanup()", "diff": ["-        for (Enumeration e = zipFiles.elements(); e.hasMoreElements();) {", "-            ZipFile zipFile = (ZipFile) e.nextElement();", "+        for (Enumeration e = jarFiles.elements(); e.hasMoreElements();) {", "+            JarFile jarFile = (JarFile) e.nextElement();", "-                zipFile.close();", "+                jarFile.close();", "-        zipFiles = new Hashtable();", "+        jarFiles = new Hashtable();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f93e05babac5773bd1f141504d124833", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/AntClassLoader.java", "commitBeforeChange": "3e2cbab6ba443daf0abf6e02535fb6cc1df72e04", "commitAfterChange": "b33d33d754378862953b0243500d94eaaf983923", "methodNumberBeforeChange": 30, "methodNumberAfterChange": 30, "signatureBeforeChange": "     private InputStream getResourceStream(File file, String resourceName)", "signatureAfterChange": "     private InputStream getResourceStream(File file, String resourceName)", "diff": ["-            ZipFile zipFile = (ZipFile) zipFiles.get(file);", "-            if (zipFile == null && file.isDirectory()) {", "+            JarFile jarFile = (JarFile) jarFiles.get(file);", "+            if (jarFile == null && file.isDirectory()) {", "-                if (zipFile == null) {", "+                if (jarFile == null) {", "-                        zipFile = new ZipFile(file);", "-                        zipFiles.put(file, zipFile);", "+                        jarFile = new JarFile(file);", "+                        jarFiles.put(file, jarFile);", "-                    zipFile = (ZipFile) zipFiles.get(file);", "+                    jarFile = (JarFile) jarFiles.get(file);", "-                ZipEntry entry = zipFile.getEntry(resourceName);", "+                JarEntry entry = jarFile.getJarEntry(resourceName);", "-                    return zipFile.getInputStream(entry);", "+                    return jarFile.getInputStream(entry);"]}]}