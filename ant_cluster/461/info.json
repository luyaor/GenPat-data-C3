{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "caa43a242007de432e498f2c8b07c8e5", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "11cb5db29e047d5ced011a6363dcb7b2", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/util/FileUtils.java", "commitBeforeChange": "4f509c65b02916132edfc67763f19656e841b06b", "commitAfterChange": "c84425e271b6fec1221fd7d742cfe4699b941e98", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 16, "signatureBeforeChange": "     public void copyFile(File sourceFile, File destFile,                          FilterSetCollection filters, Vector filterChains,                          boolean overwrite, boolean preserveLastModified,                          String encoding, Project project)         throws IOException", "signatureAfterChange": "     public void copyFile(File sourceFile, File destFile,                          FilterSetCollection filters, Vector filterChains,                          boolean overwrite, boolean preserveLastModified,                          String inputEncoding, String outputEncoding,                          Project project)         throws IOException", "diff": ["+     */", "+    public void copyFile(File sourceFile, File destFile,", "+                         FilterSetCollection filters, Vector filterChains,", "+                         boolean overwrite, boolean preserveLastModified,", "+                         String inputEncoding, String outputEncoding,", "+                         Project project)", "+        throws IOException {", "-            if (filterSetsAvailable || filterChainsAvailable) {", "+            if (filterSetsAvailable || filterChainsAvailable", "+                || (inputEncoding != null ", "+                    && !inputEncoding.equals(outputEncoding))", "+                || (inputEncoding == null && outputEncoding != null)) {", "-                    if (encoding == null) {", "+                    if (inputEncoding == null) {", "-                        out = new BufferedWriter(new FileWriter(destFile));", "-                                                                     encoding));", "+                                                                     inputEncoding));", "+                    }", "+", "+                    if (outputEncoding == null) {", "+                        out = new BufferedWriter(new FileWriter(destFile));", "+                    } else {", "-                                                                      encoding));", "+                                                                      outputEncoding));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8233b7510f1a4a1c9e2ce3ea85167a36", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Basename.java", "commitBeforeChange": "5fa2b3cd6484967339e8bd85e3b180117cf4cff3", "commitAfterChange": "4ce5b624e12892157d668fecdcd7ee51b229b7c9", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "   public void execute() throws BuildException", "signatureAfterChange": "   public void execute() throws BuildException", "diff": ["-      String value;", "-      } else {", "-        value = file.getName();", "-        if (suffix != null && value.endsWith(suffix)) {", "-            int pos = value.indexOf('.');", "-            value = value.substring(0, pos);", "-        }", "-        getProject().setNewProperty(property, value);", "+      String value = file.getName();", "+      if (suffix != null && value.endsWith(suffix)) {", "+          // if the suffix does not starts with a '.' and the", "+          // char preceding the suffix is a '.', we assume the user", "+          // wants to remove the '.' as well (see docs)", "+          int pos = value.length() - suffix.length();", "+          if (pos > 0 && suffix.charAt(0) != '.' ", "+              && value.charAt(pos - 1) == '.') {", "+              pos--;", "+          }", "+          value = value.substring(0, pos);", "+      }", "+      getProject().setNewProperty(property, value);"]}]}