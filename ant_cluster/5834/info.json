{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2a75629579c89c4f5faa212aeffdcbdf", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2456967445de68965a3b19c476b22f3f", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Zip.java", "commitBeforeChange": "effcb7ade9843fece34e9c5546f913fc3f13ac1a", "commitAfterChange": "7a132746ebc4838b84a555d60d7945228d83cc8d", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "      protected void addZipEntries(ZipFileSet fs, DirectoryScanner ds,       ZipOutputStream zOut, String prefix)         throws IOException", "signatureAfterChange": "      protected void addZipEntries(ZipFileSet fs, DirectoryScanner ds,                                  ZipOutputStream zOut, String prefix, String fullpath)         throws IOException", "diff": ["-      ZipOutputStream zOut, String prefix)", "+                                 ZipOutputStream zOut, String prefix, String fullpath)", "+        if (prefix.length() > 0 && fullpath.length() > 0)", "+            throw new BuildException(\"Both prefix and fullpath attributes may not be set on the same fileset.\");", "+", "-                    addParentDirs(null, vPath, zOut, prefix);", "-                    if (! entry.isDirectory()) {", "-                        zipFile(in, zOut, prefix+vPath, entry.getTime());", "+                    if (prefix.length() > 0) {", "+                        addParentDirs(null, vPath, zOut, prefix);", "+                        if (! entry.isDirectory()) {", "+                            zipFile(in, zOut, prefix+vPath, entry.getTime());", "+                        }", "+                    }", "+                    else if (fullpath.length() > 0) {", "+                        zipFile(in, zOut, fullpath, entry.getTime());"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "837a9ceddc4d00f4ab3ab291caf97265", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Zip.java", "commitBeforeChange": "51e2cc543512d445e415bc5b7c2a42f98ddf8446", "commitAfterChange": "8e955e3a2e84e093d19f8053f610c479a3f27478", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "     protected void addFiles(FileScanner scanner, ZipOutputStream zOut,                              String prefix) throws IOException", "signatureAfterChange": "     protected void addFiles(FileScanner scanner, ZipOutputStream zOut,                              String prefix, String fullpath) throws IOException", "diff": ["-                            String prefix) throws IOException {", "+                            String prefix, String fullpath) throws IOException {", "+        if (prefix.length() > 0 && fullpath.length() > 0)", "+             throw new BuildException(\"Both prefix and fullpath attributes may not be set on the same fileset.\");", "+", "+        if (dirs.length > 0 && fullpath.length() > 0)", "+            throw new BuildException(\"fullpath attribute may only be specified for filesets that specify a single file.\");", "+         if (files.length > 1 && fullpath.length() > 0)", "+            throw new BuildException(\"fullpath attribute may only be specified for filesets that specify a single file.\");", "-            String name = files[i].replace(File.separatorChar,'/');", "-            addParentDirs(thisBaseDir, name, zOut, prefix);", "-            zipFile(f, zOut, prefix+name);", "+            if (fullpath.length() > 0)", "+            {", "+                // Add this file at the specified location.", "+                addParentDirs(null, fullpath, zOut, \"\");", "+                zipFile(f, zOut, fullpath);", "+            }", "+            else", "+            {", "+                // Add this file with the specified prefix.", "+                String name = files[i].replace(File.separatorChar,'/');", "+                addParentDirs(thisBaseDir, name, zOut, prefix);", "+                zipFile(f, zOut, prefix+name);", "+            }"]}]}