{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d2c3651e2aa739f681f956c5c92a80ae", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "721cb47223800ada2ff086adcc75431e", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Jar.java", "commitBeforeChange": "fffe72edb5a6a6deb6222d79841a42c1663ccd36", "commitAfterChange": "b74b9067510ce1fd1ce68b465f74c38c81fb7d01", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 8, "signatureBeforeChange": "      protected void zipFile(File file, ZipOutputStream zOut, String vPath)         throws IOException", "signatureAfterChange": "          protected void zipFile(File file, ZipOutputStream zOut, String vPath)         throws IOException", "diff": ["+    ", "-        // If the file being added is META-INF/MANIFEST.MF, we warn if it's not the", "-        // one specified in the \"manifest\" attribute - or if it's being added twice, ", "-        // meaning the same file is specified by the \"manifeset\" attribute and in", "-        // a <fileset> element.", "+        // If the file being added is META-INF/MANIFEST.MF, we merge it with the", "+        // current manifest ", "-            if (manifest == null || !manifest.equals(file) || manifestAdded) {", "-                log(\"Warning: selected \"+archiveType+\" files include a META-INF/MANIFEST.MF which will be ignored \" +", "-                    \"(please use manifest attribute to \"+archiveType+\" task)\", Project.MSG_WARN);", "-            } else {", "-                super.zipFile(file, zOut, vPath);", "-                manifestAdded = true;", "+            InputStream is = null;", "+            try {", "+                is = new FileInputStream(file);", "+                zipManifestEntry(is);", "+            }", "+            catch (IOException e) {", "+                throw new BuildException(\"Unable to read manifest file: \" + file, e);", "+            }", "+            finally {", "+                if (is != null) {", "+                    try {", "+                        is.close();", "+                    }", "+                    catch (IOException e) {", "+                        // do nothing", "+                    }", "+                }", "+        }", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bf0d2806d21b4a14a72a09b3b1c51526", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Jar.java", "commitBeforeChange": "51e2cc543512d445e415bc5b7c2a42f98ddf8446", "commitAfterChange": "8e955e3a2e84e093d19f8053f610c479a3f27478", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 5, "signatureBeforeChange": "      protected void zipFile(File file, ZipOutputStream zOut, String vPath)         throws IOException", "signatureAfterChange": "      protected void zipFile(File file, ZipOutputStream zOut, String vPath)         throws IOException", "diff": ["-        // We already added a META-INF/MANIFEST.MF", "-        if (!vPath.equalsIgnoreCase(\"META-INF/MANIFEST.MF\")) {", "-            super.zipFile(file, zOut, vPath);", "+        // If the file being added is META-INF/MANIFEST.MF, we warn if it's not the", "+        // one specified in the \"manifest\" attribute - or if it's being added twice, ", "+        // meaning the same file is specified by the \"manifeset\" attribute and in", "+        // a <fileset> element.", "+        if (vPath.equalsIgnoreCase(\"META-INF/MANIFEST.MF\"))  {", "+            if (manifest == null || !manifest.equals(file) || manifestAdded) {", "+                log(\"Warning: selected \"+archiveType+\" files include a META-INF/MANIFEST.MF which will be ignored \" +", "+                    \"(please use manifest attribute to \"+archiveType+\" task)\", Project.MSG_WARN);", "+            } else {", "+                super.zipFile(file, zOut, vPath);", "+                manifestAdded = true;", "+            }", "-            log(\"Warning: selected \"+archiveType+\" files include a META-INF/MANIFEST.MF which will be ignored \" +", "-                \"(please use manifest attribute to \"+archiveType+\" task)\", Project.MSG_WARN);", "+            super.zipFile(file, zOut, vPath);"]}]}