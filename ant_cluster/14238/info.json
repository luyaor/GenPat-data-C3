{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "c042eb9b168ec3de80be3c1988d3fae4", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "50ed702d8089122ae738df2c149764af", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Exec.java", "commitBeforeChange": "0218e3ecae8397a700aae864601f963e5771a9a5", "commitAfterChange": "a037ae329b9fa9d94dde3fc7c4346ab77dddfdb9", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "      protected void run(String command) throws BuildException", "signatureAfterChange": "      protected void run(String command) throws BuildException", "diff": ["-            pipeOutput(proc.getInputStream(), \"exec\", fos);", "-            pipeOutput(proc.getErrorStream(), \"error\", fos);", "-            if (null != fos)", "-        \tfos.close();", "+            // copy input and error to the output stream", "+            StreamPumper inputPumper = ", "+                new StreamPumper(proc.getInputStream(), \"exec\", project, fos);", "+            StreamPumper errorPumper = ", "+                new StreamPumper(proc.getErrorStream(), \"error\", project, fos);", "+", "+            inputPumper.start();", "+            errorPumper.start();", "+", "+            // Wait for everything to finish", "-            ", "+            inputPumper.join();", "+            errorPumper.join();", "+            proc.destroy();", "+"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b8f183b51b5af536ee73ba2b0fea739d", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/main/org/apache/tools/ant/taskdefs/Copy.java", "commitBeforeChange": "bb1068db8673784e303f691472174946a004c811", "commitAfterChange": "cbeb4704a086bebb4de6c524d16bdc2d087953fd", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 15, "signatureBeforeChange": "     protected void doFileOperations()         throws TaskException", "signatureAfterChange": "     protected void doFileOperations()         throws TaskException", "diff": ["-                 \" file\" + ( fileCopyMap.size() == 1 ? \"\" : \"s\" ) +", "-                 \" to \" + destDir.getAbsolutePath() );", "+                              \" file\" + ( fileCopyMap.size() == 1 ? \"\" : \"s\" ) +", "+                              \" to \" + destDir.getAbsolutePath() );", "-                    fileUtils.copyFile( fromFile, toFile, executionFilters,", "-                                        forceOverwrite, preserveLastModified );", "+                    final File src = new File( fromFile );", "+                    final File dest = new File( toFile );", "+                    if( forceOverwrite )", "+                    {", "+                        FileUtil.forceDelete( dest );", "+                    }", "+                    FileUtils.newFileUtils().copyFile( src, dest, executionFilters );", "+                    if( preserveLastModified )", "+                    {", "+                        dest.setLastModified( src.lastModified() );", "+                    }", "-                     \" empty director\" +", "-                     ( count == 1 ? \"y\" : \"ies\" ) +", "-                     \" to \" + destDir.getAbsolutePath() );", "+                                  \" empty director\" +", "+                                  ( count == 1 ? \"y\" : \"ies\" ) +", "+                                  \" to \" + destDir.getAbsolutePath() );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cde16af94c7ff5b688bb1ecd8cf94997", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/todo/org/apache/tools/ant/taskdefs/Copy.java", "commitBeforeChange": "bb1068db8673784e303f691472174946a004c811", "commitAfterChange": "cbeb4704a086bebb4de6c524d16bdc2d087953fd", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 15, "signatureBeforeChange": "     protected void doFileOperations()         throws TaskException", "signatureAfterChange": "     protected void doFileOperations()         throws TaskException", "diff": ["-                 \" file\" + ( fileCopyMap.size() == 1 ? \"\" : \"s\" ) +", "-                 \" to \" + destDir.getAbsolutePath() );", "+                              \" file\" + ( fileCopyMap.size() == 1 ? \"\" : \"s\" ) +", "+                              \" to \" + destDir.getAbsolutePath() );", "-                    fileUtils.copyFile( fromFile, toFile, executionFilters,", "-                                        forceOverwrite, preserveLastModified );", "+                    final File src = new File( fromFile );", "+                    final File dest = new File( toFile );", "+                    if( forceOverwrite )", "+                    {", "+                        FileUtil.forceDelete( dest );", "+                    }", "+                    FileUtils.newFileUtils().copyFile( src, dest, executionFilters );", "+                    if( preserveLastModified )", "+                    {", "+                        dest.setLastModified( src.lastModified() );", "+                    }", "-                     \" empty director\" +", "-                     ( count == 1 ? \"y\" : \"ies\" ) +", "-                     \" to \" + destDir.getAbsolutePath() );", "+                                  \" empty director\" +", "+                                  ( count == 1 ? \"y\" : \"ies\" ) +", "+                                  \" to \" + destDir.getAbsolutePath() );"]}]}