{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ddbff42fb2b147c812cb21241dc4a1b4", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7475a6c1ed16935ca297b8999af050bb", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Move.java", "commitBeforeChange": "7627a966ee4283bebb43ff4f0b6eeb84236a6019", "commitAfterChange": "c0649769e0063616ae46a2e58a57203bb42a7f8e", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "     protected boolean renameFile(File sourceFile, File destFile, boolean filtering,                                  boolean overwrite) throws IOException, BuildException", "signatureAfterChange": "     protected boolean renameFile(File sourceFile, File destFile, boolean filtering,                                  boolean overwrite) throws IOException, BuildException", "diff": ["-        // ensure that parent dir of dest file exists!", "+        // identical logic lives in FileUtils.rename():", "-        } else if (destFile.isFile() && !getFileUtils().fileNameEquals(sourceFile, destFile)", "-                && !destFile.delete()) {", "-            throw new BuildException(\"Unable to remove existing file \" + destFile);", "+        } else if (destFile.isFile()) {", "+            sourceFile = getFileUtils().normalize(sourceFile.getAbsolutePath()).getCanonicalFile();", "+            destFile = getFileUtils().normalize(destFile.getAbsolutePath());", "+            if (destFile.equals(sourceFile)) {", "+                //no point in renaming a file to its own canonical version...", "+                return true;", "+            }", "+            if (!(sourceFile.equals(destFile.getCanonicalFile()) || destFile.delete())) {", "+                throw new BuildException(\"Unable to remove existing file \" + destFile);", "+            }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e45514151955c8287f82d9de013e7f53", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/UnknownElement.java", "commitBeforeChange": "9fcf7abdcc187fd67014d5c19258794e052c6943", "commitAfterChange": "8daa46c4f1b36e29ef663608791aa29cb44e6323", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 25, "signatureBeforeChange": "     public boolean similar(Object obj)", "signatureAfterChange": "     public boolean similar(Object obj)", "diff": ["+        // Are the names the same ?", "+        // Are attributes the same ?", "-        if (children == null) {", "-            return other.children == null;", "+        // Is the text the same?", "+        //   Need to use equals on the string and not", "+        //   on the stringbuffer as equals on the string buffer", "+        //   does not compare the contents.", "+        if (!getWrapper().getText().toString().equals(", "+                other.getWrapper().getText().toString())) {", "+            return false;", "+        }", "+        // Are the sub elements the same ?", "+        if (children == null || children.size() == 0) {", "+            return other.children == null || other.children.size() == 0;", "+        }", "+        if (other.children == null) {", "+            return false;"]}]}