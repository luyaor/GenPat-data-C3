{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0975b89ffc729956cbc209955d4030b9", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7f5312b44bcfd13acf6f2d316362a721", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/loader/AntClassLoader2.java", "commitBeforeChange": "eb5088c22612cc2565d9f723f333bf4ae90e304e", "commitAfterChange": "00727cc999e07f967431a7faf1cb13f545e705a3", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "     protected void addPathFile(File pathComponent) throws IOException", "signatureAfterChange": "     protected void addPathFile(File pathComponent) throws IOException", "diff": ["-        String classpath = null;", "-        ZipFile jarFile = null;", "-        InputStream manifestStream = null;", "-        try {", "-            jarFile = new ZipFile(pathComponent);", "-            manifestStream", "-                = jarFile.getInputStream(new ZipEntry(\"META-INF/MANIFEST.MF\"));", "+        String absPathPlusTimeAndLength =", "+            pathComponent.getAbsolutePath() + pathComponent.lastModified() + \"-\"", "+            + pathComponent.length();", "+        String classpath = (String) pathMap.get(absPathPlusTimeAndLength);", "+        if (classpath == null) {", "+            ZipFile jarFile = null;", "+            InputStream manifestStream = null;", "+            try {", "+                jarFile = new ZipFile(pathComponent);", "+                manifestStream", "+                    = jarFile.getInputStream(new ZipEntry(\"META-INF/MANIFEST.MF\"));", "-            if (manifestStream == null) {", "-                return;", "-            }", "-            Reader manifestReader", "-                = new InputStreamReader(manifestStream, \"UTF-8\");", "-            org.apache.tools.ant.taskdefs.Manifest manifest", "-                = new org.apache.tools.ant.taskdefs.Manifest(manifestReader);", "-            classpath", "-                = manifest.getMainSection().getAttributeValue(\"Class-Path\");", "+                if (manifestStream == null) {", "+                    return;", "+                }", "+                Reader manifestReader", "+                    = new InputStreamReader(manifestStream, \"UTF-8\");", "+                org.apache.tools.ant.taskdefs.Manifest manifest", "+                    = new org.apache.tools.ant.taskdefs.Manifest(manifestReader);", "+                classpath", "+                    = manifest.getMainSection().getAttributeValue(\"Class-Path\");", "-        } catch (org.apache.tools.ant.taskdefs.ManifestException e) {", "-            // ignore", "-        } finally {", "-            if (manifestStream != null) {", "-                manifestStream.close();", "+            } catch (org.apache.tools.ant.taskdefs.ManifestException e) {", "+                // ignore", "+            } finally {", "+                if (manifestStream != null) {", "+                    manifestStream.close();", "+                }", "+                if (jarFile != null) {", "+                    jarFile.close();", "+                }", "-            if (jarFile != null) {", "-                jarFile.close();", "+            if (classpath == null) {", "+                classpath = \"\";", "+            pathMap.put(absPathPlusTimeAndLength, classpath);", "-        if (classpath != null) {", "+        if (!\"\".equals(classpath)) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9a86a033f7690505f6b9aa84888fb72b", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Ant.java", "commitBeforeChange": "ee9dbf0892915b13d25ad8c8f14d8a3a6be30ea1", "commitAfterChange": "5fbf26cd07df79abdbd42b24fd2407cf34edf602", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "      public void init()", "signatureAfterChange": "      public void init()", "diff": ["+        Hashtable taskdefs = project.getTaskDefinitions();", "+        Enumeration et = taskdefs.keys();", "+        while (et.hasMoreElements()) {", "+            String taskName = (String) et.nextElement();", "+            Class taskClass = (Class) taskdefs.get(taskName);", "+            p1.addTaskDefinition(taskName, taskClass);", "+        }", "+"]}]}