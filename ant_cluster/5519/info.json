{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "302e54223611c89fc7785b9787a19ac9", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2a239cc5f52b85d9b5e7ccd7b8ba82ce", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/util/DOMElementWriter.java", "commitBeforeChange": "2ce3f173860dbc3d3838855d25bd5be0ab6962eb", "commitAfterChange": "7b8097afa8f7b95a8d6bd098884ae873e8ca25de", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "     public String encodedata(final String value)", "signatureAfterChange": "     public String encodedata(final String value)", "diff": ["-        return sb.toString();", "+", "+        String result = sb.toString();", "+        int cdEnd = result.indexOf(\"]]>\");", "+        while (cdEnd != -1) {", "+            sb.setLength(cdEnd);", "+            sb.append(\"&x5d;&x5d;&gt;\")", "+                .append(result.substring(cdEnd+3));", "+            result = sb.toString();", "+            cdEnd = result.indexOf(\"]]>\");", "+        }", "+        ", "+        return result;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "64b7105f96db807c4d97259ee0059416", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/launch/Locator.java", "commitBeforeChange": "831857b1f342e3cf0f3917e6000ee796fe242cac", "commitAfterChange": "8195ed0fa714966dcfb8ad81fcd6114fa5b85076", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "     public static String fromURI(String uri)", "signatureAfterChange": "     public static String fromURI(String uri)", "diff": ["+        URL url = null;", "-            URL url = new URL(uri);", "-            if (!(\"file\".equals(url.getProtocol()))) {", "-                throw new IllegalArgumentException(\"Can only handle file: URIs\");", "-            }", "-            StringBuffer buf = new StringBuffer(url.getHost());", "-            if (buf.length() > 0) {", "-                buf.insert(0, \"//\");", "-            }", "-            buf.append(url.getPath());", "-            uri = buf.toString();", "+            url = new URL(uri);", "+        if (url == null || !(\"file\".equals(url.getProtocol()))) {", "+            throw new IllegalArgumentException(\"Can only handle valid file: URIs\");", "+        }", "+        StringBuffer buf = new StringBuffer(url.getHost());", "+        if (buf.length() > 0) {", "+            buf.insert(0, File.separatorChar).insert(0, File.separatorChar);", "+        }", "-        uri = uri.replace('/', File.separatorChar);", "+        String file = url.getFile();", "+        int queryPos = file.indexOf('?');", "+        buf.append((queryPos < 0) ? file : file.substring(0, queryPos));", "+", "+        uri = buf.toString().replace('/', File.separatorChar);", "+"]}]}