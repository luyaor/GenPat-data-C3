{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8f66ff5ada4cb94ba2bfc8efad817e29", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4ee6e1133bc0af2d3e6fa3ee36a16253", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/todo/org/apache/tools/ant/taskdefs/BUnzip2.java", "commitBeforeChange": "5dde044f67e2c4237e8ef0a20ad7481204193337", "commitAfterChange": "e094f083b680f93fd54c41f38216b20022b6dffa", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "      protected void extract()         throws TaskException", "signatureAfterChange": "      protected InputStream getUnpackingStream( final InputStream input )         throws TaskException, IOException", "diff": ["-    protected void extract()", "-        throws TaskException", "+    protected InputStream getUnpackingStream( final InputStream input )", "+        throws TaskException, IOException", "-        if( source.lastModified() > dest.lastModified() )", "+        final int b1 = input.read();", "+        final int b2 = input.read();", "+        if( b1 != 'B' || b2 != 'Z' )", "-            getLogger().info( \"Expanding \" + source.getAbsolutePath() + \" to \"", "-                              + dest.getAbsolutePath() );", "-", "-            FileOutputStream out = null;", "-            CBZip2InputStream zIn = null;", "-            FileInputStream fis = null;", "-            BufferedInputStream bis = null;", "-            try", "-            {", "-                out = new FileOutputStream( dest );", "-                fis = new FileInputStream( source );", "-                bis = new BufferedInputStream( fis );", "-                int b = bis.read();", "-                if( b != 'B' )", "-                {", "-                    throw new TaskException( \"Invalid bz2 file.\" );", "-                }", "-                b = bis.read();", "-                if( b != 'Z' )", "-                {", "-                    throw new TaskException( \"Invalid bz2 file.\" );", "-                }", "-                zIn = new CBZip2InputStream( bis );", "-                byte[] buffer = new byte[ 8 * 1024 ];", "-                int count = 0;", "-                do", "-                {", "-                    out.write( buffer, 0, count );", "-                    count = zIn.read( buffer, 0, buffer.length );", "-                } while( count != -1 );", "-            }", "-            catch( IOException ioe )", "-            {", "-                String msg = \"Problem expanding bzip2 \" + ioe.getMessage();", "-                throw new TaskException( msg, ioe );", "-            }", "-            finally", "-            {", "-                if( bis != null )", "-                {", "-                    try", "-                    {", "-                        bis.close();", "-                    }", "-                    catch( IOException ioex )", "-                    {", "-                    }", "-                }", "-                if( fis != null )", "-                {", "-                    try", "-                    {", "-                        fis.close();", "-                    }", "-                    catch( IOException ioex )", "-                    {", "-                    }", "-                }", "-                if( out != null )", "-                {", "-                    try", "-                    {", "-                        out.close();", "-                    }", "-                    catch( IOException ioex )", "-                    {", "-                    }", "-                }", "-                if( zIn != null )", "-                {", "-                    try", "-                    {", "-                        zIn.close();", "-                    }", "-                    catch( IOException ioex )", "-                    {", "-                    }", "-                }", "-            }", "+            final String message = \"Invalid bz2 file.\";", "+            throw new TaskException( message );", "+", "+        return new CBZip2InputStream( input );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a7a55cbc29cac02ef2b756e31eb5d2f8", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/main/org/apache/tools/ant/taskdefs/BUnzip2.java", "commitBeforeChange": "5dde044f67e2c4237e8ef0a20ad7481204193337", "commitAfterChange": "e094f083b680f93fd54c41f38216b20022b6dffa", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "      protected void extract()         throws TaskException", "signatureAfterChange": "      protected InputStream getUnpackingStream( final InputStream input )         throws TaskException, IOException", "diff": ["-    protected void extract()", "-        throws TaskException", "+    protected InputStream getUnpackingStream( final InputStream input )", "+        throws TaskException, IOException", "-        if( source.lastModified() > dest.lastModified() )", "+        final int b1 = input.read();", "+        final int b2 = input.read();", "+        if( b1 != 'B' || b2 != 'Z' )", "-            getLogger().info( \"Expanding \" + source.getAbsolutePath() + \" to \"", "-                              + dest.getAbsolutePath() );", "-", "-            FileOutputStream out = null;", "-            CBZip2InputStream zIn = null;", "-            FileInputStream fis = null;", "-            BufferedInputStream bis = null;", "-            try", "-            {", "-                out = new FileOutputStream( dest );", "-                fis = new FileInputStream( source );", "-                bis = new BufferedInputStream( fis );", "-                int b = bis.read();", "-                if( b != 'B' )", "-                {", "-                    throw new TaskException( \"Invalid bz2 file.\" );", "-                }", "-                b = bis.read();", "-                if( b != 'Z' )", "-                {", "-                    throw new TaskException( \"Invalid bz2 file.\" );", "-                }", "-                zIn = new CBZip2InputStream( bis );", "-                byte[] buffer = new byte[ 8 * 1024 ];", "-                int count = 0;", "-                do", "-                {", "-                    out.write( buffer, 0, count );", "-                    count = zIn.read( buffer, 0, buffer.length );", "-                } while( count != -1 );", "-            }", "-            catch( IOException ioe )", "-            {", "-                String msg = \"Problem expanding bzip2 \" + ioe.getMessage();", "-                throw new TaskException( msg, ioe );", "-            }", "-            finally", "-            {", "-                if( bis != null )", "-                {", "-                    try", "-                    {", "-                        bis.close();", "-                    }", "-                    catch( IOException ioex )", "-                    {", "-                    }", "-                }", "-                if( fis != null )", "-                {", "-                    try", "-                    {", "-                        fis.close();", "-                    }", "-                    catch( IOException ioex )", "-                    {", "-                    }", "-                }", "-                if( out != null )", "-                {", "-                    try", "-                    {", "-                        out.close();", "-                    }", "-                    catch( IOException ioex )", "-                    {", "-                    }", "-                }", "-                if( zIn != null )", "-                {", "-                    try", "-                    {", "-                        zIn.close();", "-                    }", "-                    catch( IOException ioex )", "-                    {", "-                    }", "-                }", "-            }", "+            final String message = \"Invalid bz2 file.\";", "+            throw new TaskException( message );", "+", "+        return new CBZip2InputStream( input );"]}]}