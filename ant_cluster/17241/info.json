{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2026739bcd144f072eed7d37eb1d5b56", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e8082391881f3f163af29b5cd6b6673e", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/junit/JUnitTestRunner.java", "commitBeforeChange": "8c1e2b5d55d4e3ffdbedb99bc40c10ab70adadac", "commitAfterChange": "41387c3188e193586634b6eb33df541301098b05", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "          public void run()", "signatureAfterChange": "          public void run()", "diff": ["+                Class testClass = null;", "+                if (loader == null) {", "+                    testClass = Class.forName(junitTest.getName());", "+                } else {", "+                    testClass = Class.forName(junitTest.getName(), true,", "+                                              loader);", "+                }", "+", "+                // check for a static suite method first, even when using", "+                // JUnit 4", "+                Method suiteMethod = null;", "+                try {", "+                    // check if there is a suite method", "+                    suiteMethod = testClass.getMethod(\"suite\", new Class[0]);", "+                } catch (NoSuchMethodException e) {", "+                    // no appropriate suite method found. We don't report any", "+                    // error here since it might be perfectly normal.", "+                }", "+                if (suiteMethod != null) {", "+                    // if there is a suite method available, then try", "+                    // to extract the suite from it. If there is an error", "+                    // here it will be caught below and reported.", "+                    suite = (Test) suiteMethod.invoke(null, new Class[0]);", "+                } else {", "-                Class testClass = null;", "-                if (loader == null) {", "-                    testClass = Class.forName(junitTest.getName());", "-                } else {", "-                    testClass = Class.forName(junitTest.getName(), true,", "-                                              loader);", "-                }", "-", "-                    Method suiteMethod = null;", "-                    try {", "-                        // check if there is a suite method", "-                        suiteMethod = testClass.getMethod(\"suite\", new Class[0]);", "-                    } catch (NoSuchMethodException e) {", "-                        // no appropriate suite method found. We don't report any", "-                        // error here since it might be perfectly normal.", "-                    }", "-                    if (suiteMethod != null) {", "-                        // if there is a suite method available, then try", "-                        // to extract the suite from it. If there is an error", "-                        // here it will be caught below and reported.", "-                        suite = (Test) suiteMethod.invoke(null, new Class[0]);", "-                    } else {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fc56e3d428832e71d62aa9371ac196a3", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/XmlLogger.java", "commitBeforeChange": "2fe8b860c0001d234880e9b27e8f8c7fef14de5c", "commitAfterChange": "64886360cf0d83287454a0b04a6613c3f47c0e7d", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "     public void taskFinished(BuildEvent event)", "signatureAfterChange": "     public void taskFinished(BuildEvent event)", "diff": ["-        if (taskElement != null) {", "-            long totalTime = System.currentTimeMillis() - taskElement.startTime;", "-            taskElement.element.setAttribute(TIME_ATTR,", "-                    DefaultLogger.formatTime(totalTime));", "-            Target target = task.getOwningTarget();", "-            TimedElement targetElement = null;", "-            if (target != null) {", "-                targetElement = (TimedElement) targets.get(target);", "-            }", "-            if (targetElement == null) {", "-                buildElement.element.appendChild(taskElement.element);", "-            } else {", "-                targetElement.element.appendChild(taskElement.element);", "-            }", "-            Stack threadStack = getStack();", "-            if (!threadStack.empty()) {", "-                TimedElement poppedStack = (TimedElement) threadStack.pop();", "-                if (poppedStack != taskElement) {", "-                    throw new RuntimeException(\"Mismatch - popped element = \"", "-                            + poppedStack + \" finished task element = \"", "-                            + taskElement);", "-                }", "-            }", "-            tasks.remove(task);", "-        } else {", "+        if (taskElement == null) {", "+        long totalTime = System.currentTimeMillis() - taskElement.startTime;", "+        taskElement.element.setAttribute(TIME_ATTR, DefaultLogger.formatTime(totalTime));", "+        Target target = task.getOwningTarget();", "+        TimedElement targetElement = null;", "+        if (target != null) {", "+            targetElement = (TimedElement) targets.get(target);", "+        }", "+        if (targetElement == null) {", "+            buildElement.element.appendChild(taskElement.element);", "+        } else {", "+            targetElement.element.appendChild(taskElement.element);", "+        }", "+        Stack threadStack = getStack();", "+        if (!threadStack.empty()) {", "+            TimedElement poppedStack = (TimedElement) threadStack.pop();", "+            if (poppedStack != taskElement) {", "+                throw new RuntimeException(\"Mismatch - popped element = \" + poppedStack", "+                        + \" finished task element = \" + taskElement);", "+            }", "+        }", "+        tasks.remove(task);"]}]}