{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2e6976227b679304a77583df299e622e", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2125e6762e339496996fa6d9703a87b7", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/tar/TarEntry.java", "commitBeforeChange": "b43f4224d8fe9d1e7d628e88df394a7dfed46d1b", "commitAfterChange": "2e5b53fa106b848646493cb6f6ea74616973aca0", "methodNumberBeforeChange": 34, "methodNumberAfterChange": 53, "signatureBeforeChange": "     public void writeEntryHeader(byte[] outbuf)", "signatureAfterChange": "     public void writeEntryHeader(byte[] outbuf, ZipEncoding encoding,                                  boolean starMode) throws IOException", "diff": ["+     */", "+    public void writeEntryHeader(byte[] outbuf, ZipEncoding encoding,", "+                                 boolean starMode) throws IOException {", "-        offset = TarUtils.getNameBytes(name, outbuf, offset, NAMELEN);", "-        offset = TarUtils.getOctalBytes(mode, outbuf, offset, MODELEN);", "-        offset = TarUtils.getOctalBytes(userId, outbuf, offset, UIDLEN);", "-        offset = TarUtils.getOctalBytes(groupId, outbuf, offset, GIDLEN);", "-        offset = TarUtils.getLongOctalBytes(size, outbuf, offset, SIZELEN);", "-        offset = TarUtils.getLongOctalBytes(modTime, outbuf, offset, MODTIMELEN);", "+        offset = TarUtils.formatNameBytes(name, outbuf, offset, NAMELEN,", "+                                          encoding);", "+        offset = writeEntryHeaderField(mode, outbuf, offset, MODELEN, starMode);", "+        offset = writeEntryHeaderField(userId, outbuf, offset, UIDLEN,", "+                                       starMode);", "+        offset = writeEntryHeaderField(groupId, outbuf, offset, GIDLEN,", "+                                       starMode);", "+        offset = writeEntryHeaderField(size, outbuf, offset, SIZELEN, starMode);", "+        offset = writeEntryHeaderField(modTime, outbuf, offset, MODTIMELEN,", "+                                       starMode);", "-        offset = TarUtils.getNameBytes(linkName, outbuf, offset, NAMELEN);", "-        offset = TarUtils.getNameBytes(magic, outbuf, offset, MAGICLEN);", "-        offset = TarUtils.getNameBytes(userName, outbuf, offset, UNAMELEN);", "-        offset = TarUtils.getNameBytes(groupName, outbuf, offset, GNAMELEN);", "-        offset = TarUtils.getOctalBytes(devMajor, outbuf, offset, DEVLEN);", "-        offset = TarUtils.getOctalBytes(devMinor, outbuf, offset, DEVLEN);", "+        offset = TarUtils.formatNameBytes(linkName, outbuf, offset, NAMELEN,", "+                                          encoding);", "+        offset = TarUtils.formatNameBytes(magic, outbuf, offset, PURE_MAGICLEN);", "+        offset = TarUtils.formatNameBytes(version, outbuf, offset, VERSIONLEN);", "+        offset = TarUtils.formatNameBytes(userName, outbuf, offset, UNAMELEN,", "+                                          encoding);", "+        offset = TarUtils.formatNameBytes(groupName, outbuf, offset, GNAMELEN,", "+                                          encoding);", "+        offset = writeEntryHeaderField(devMajor, outbuf, offset, DEVLEN,", "+                                       starMode);", "+        offset = writeEntryHeaderField(devMinor, outbuf, offset, DEVLEN,", "+                                       starMode);", "-        TarUtils.getCheckSumOctalBytes(chk, outbuf, csOffset, CHKSUMLEN);", "+        TarUtils.formatCheckSumOctalBytes(chk, outbuf, csOffset, CHKSUMLEN);", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "565d7b6cf2d79fc9dea5b7d6ddb156c3", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/java/org/apache/aut/tar/TarEntry.java", "commitBeforeChange": "0b93bdd7cdfe6a7a48f02cf125014e5d538d5381", "commitAfterChange": "1447e596aa13ca3441f24a8e163f4a255c5a7e23", "methodNumberBeforeChange": 31, "methodNumberAfterChange": 29, "signatureBeforeChange": "     public void writeEntryHeader( byte[] outbuf )", "signatureAfterChange": "     public void writeEntryHeader( final byte[] buffer )", "diff": ["-    public void writeEntryHeader( byte[] outbuf )", "+    public void writeEntryHeader( final byte[] buffer )", "-        offset = TarUtils.getNameBytes( this.name, outbuf, offset, NAMELEN );", "-        offset = TarUtils.getOctalBytes( this.mode, outbuf, offset, MODELEN );", "-        offset = TarUtils.getOctalBytes( this.userId, outbuf, offset, UIDLEN );", "-        offset = TarUtils.getOctalBytes( this.groupId, outbuf, offset, GIDLEN );", "-        offset = TarUtils.getLongOctalBytes( this.size, outbuf, offset, SIZELEN );", "-        offset = TarUtils.getLongOctalBytes( this.modTime, outbuf, offset, MODTIMELEN );", "+        offset = TarUtils.getNameBytes( m_name, buffer, offset, NAMELEN );", "+        offset = TarUtils.getOctalBytes( m_mode, buffer, offset, TarConstants.MODELEN );", "+        offset = TarUtils.getOctalBytes( m_userID, buffer, offset, TarConstants.UIDLEN );", "+        offset = TarUtils.getOctalBytes( m_groupId, buffer, offset, TarConstants.GIDLEN );", "+        offset = TarUtils.getLongOctalBytes( m_size, buffer, offset, TarConstants.SIZELEN );", "+        offset = TarUtils.getLongOctalBytes( m_modTime, buffer, offset, TarConstants.MODTIMELEN );", "-        int csOffset = offset;", "-", "-        for( int c = 0; c < CHKSUMLEN; ++c )", "+        final int checkSumOffset = offset;", "+        for( int i = 0; i < TarConstants.CHKSUMLEN; ++i )", "-            outbuf[ offset++ ] = (byte)' ';", "+            buffer[ offset++ ] = (byte)' ';", "-        outbuf[ offset++ ] = this.linkFlag;", "-        offset = TarUtils.getNameBytes( this.linkName, outbuf, offset, NAMELEN );", "-        offset = TarUtils.getNameBytes( this.magic, outbuf, offset, MAGICLEN );", "-        offset = TarUtils.getNameBytes( this.userName, outbuf, offset, UNAMELEN );", "-        offset = TarUtils.getNameBytes( this.groupName, outbuf, offset, GNAMELEN );", "-        offset = TarUtils.getOctalBytes( this.devMajor, outbuf, offset, DEVLEN );", "-        offset = TarUtils.getOctalBytes( this.devMinor, outbuf, offset, DEVLEN );", "+        buffer[ offset++ ] = m_linkFlag;", "+        offset = TarUtils.getNameBytes( m_linkName, buffer, offset, NAMELEN );", "+        offset = TarUtils.getNameBytes( m_magic, buffer, offset, TarConstants.MAGICLEN );", "+        offset = TarUtils.getNameBytes( m_userName, buffer, offset, TarConstants.UNAMELEN );", "+        offset = TarUtils.getNameBytes( m_groupName, buffer, offset, TarConstants.GNAMELEN );", "+        offset = TarUtils.getOctalBytes( m_devMajor, buffer, offset, TarConstants.DEVLEN );", "+        offset = TarUtils.getOctalBytes( m_devMinor, buffer, offset, TarConstants.DEVLEN );", "-        while( offset < outbuf.length )", "+        while( offset < buffer.length )", "-            outbuf[ offset++ ] = 0;", "+            buffer[ offset++ ] = 0;", "-        long checkSum = TarUtils.computeCheckSum( outbuf );", "-", "-        TarUtils.getCheckSumOctalBytes( checkSum, outbuf, csOffset, CHKSUMLEN );", "+        final long checkSum = TarUtils.computeCheckSum( buffer );", "+        TarUtils.getCheckSumOctalBytes( checkSum, buffer, checkSumOffset, TarConstants.CHKSUMLEN );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6c36476b697b19ac26eaca59c7f1569c", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/tar/TarEntry.java", "commitBeforeChange": "0bde74aa3647adabb6ab7ffdf25dcf5ac438b971", "commitAfterChange": "23bbf085727756cfbad92aaa345e10c7370d3486", "methodNumberBeforeChange": 33, "methodNumberAfterChange": 33, "signatureBeforeChange": "     public void writeEntryHeader(byte[] outbuf)", "signatureAfterChange": "     public void writeEntryHeader(byte[] outbuf)", "diff": ["-        offset = TarUtils.getNameBytes(this.name, outbuf, offset, NAMELEN);", "-        offset = TarUtils.getOctalBytes(this.mode, outbuf, offset, MODELEN);", "-        offset = TarUtils.getOctalBytes(this.userId, outbuf, offset, UIDLEN);", "-        offset = TarUtils.getOctalBytes(this.groupId, outbuf, offset, GIDLEN);", "-        offset = TarUtils.getLongOctalBytes(this.size, outbuf, offset, SIZELEN);", "-        offset = TarUtils.getLongOctalBytes(this.modTime, outbuf, offset, MODTIMELEN);", "+        offset = TarUtils.getNameBytes(name, outbuf, offset, NAMELEN);", "+        offset = TarUtils.getOctalBytes(mode, outbuf, offset, MODELEN);", "+        offset = TarUtils.getOctalBytes(userId, outbuf, offset, UIDLEN);", "+        offset = TarUtils.getOctalBytes(groupId, outbuf, offset, GIDLEN);", "+        offset = TarUtils.getLongOctalBytes(size, outbuf, offset, SIZELEN);", "+        offset = TarUtils.getLongOctalBytes(modTime, outbuf, offset, MODTIMELEN);", "-        outbuf[offset++] = this.linkFlag;", "-        offset = TarUtils.getNameBytes(this.linkName, outbuf, offset, NAMELEN);", "-        offset = TarUtils.getNameBytes(this.magic, outbuf, offset, MAGICLEN);", "-        offset = TarUtils.getNameBytes(this.userName, outbuf, offset, UNAMELEN);", "-        offset = TarUtils.getNameBytes(this.groupName, outbuf, offset, GNAMELEN);", "-        offset = TarUtils.getOctalBytes(this.devMajor, outbuf, offset, DEVLEN);", "-        offset = TarUtils.getOctalBytes(this.devMinor, outbuf, offset, DEVLEN);", "+        outbuf[offset++] = linkFlag;", "+        offset = TarUtils.getNameBytes(linkName, outbuf, offset, NAMELEN);", "+        offset = TarUtils.getNameBytes(magic, outbuf, offset, MAGICLEN);", "+        offset = TarUtils.getNameBytes(userName, outbuf, offset, UNAMELEN);", "+        offset = TarUtils.getNameBytes(groupName, outbuf, offset, GNAMELEN);", "+        offset = TarUtils.getOctalBytes(devMajor, outbuf, offset, DEVLEN);", "+        offset = TarUtils.getOctalBytes(devMinor, outbuf, offset, DEVLEN);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "90f107d4c44268783ab37b4e49ddafde", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/java/org/apache/aut/tar/TarEntry.java", "commitBeforeChange": "0b93bdd7cdfe6a7a48f02cf125014e5d538d5381", "commitAfterChange": "1447e596aa13ca3441f24a8e163f4a255c5a7e23", "methodNumberBeforeChange": 30, "methodNumberAfterChange": 28, "signatureBeforeChange": "     public void parseTarHeader( byte[] header )", "signatureAfterChange": "     private void parseTarHeader( final byte[] header )", "diff": ["-    public void parseTarHeader( byte[] header )", "+    private void parseTarHeader( final byte[] header )", "-        this.name = TarUtils.parseName( header, offset, NAMELEN );", "+        m_name = TarUtils.parseName( header, offset, NAMELEN );", "-        this.mode = (int)TarUtils.parseOctal( header, offset, MODELEN );", "-        offset += MODELEN;", "-        this.userId = (int)TarUtils.parseOctal( header, offset, UIDLEN );", "-        offset += UIDLEN;", "-        this.groupId = (int)TarUtils.parseOctal( header, offset, GIDLEN );", "-        offset += GIDLEN;", "-        this.size = TarUtils.parseOctal( header, offset, SIZELEN );", "-        offset += SIZELEN;", "-        this.modTime = TarUtils.parseOctal( header, offset, MODTIMELEN );", "-        offset += MODTIMELEN;", "-        this.checkSum = (int)TarUtils.parseOctal( header, offset, CHKSUMLEN );", "-        offset += CHKSUMLEN;", "-        this.linkFlag = header[ offset++ ];", "-        this.linkName = TarUtils.parseName( header, offset, NAMELEN );", "+        m_mode = (int)TarUtils.parseOctal( header, offset, TarConstants.MODELEN );", "+        offset += TarConstants.MODELEN;", "+        m_userID = (int)TarUtils.parseOctal( header, offset, TarConstants.UIDLEN );", "+        offset += TarConstants.UIDLEN;", "+        m_groupId = (int)TarUtils.parseOctal( header, offset, TarConstants.GIDLEN );", "+        offset += TarConstants.GIDLEN;", "+        m_size = TarUtils.parseOctal( header, offset, TarConstants.SIZELEN );", "+        offset += TarConstants.SIZELEN;", "+        m_modTime = TarUtils.parseOctal( header, offset, TarConstants.MODTIMELEN );", "+        offset += TarConstants.MODTIMELEN;", "+        m_checkSum = (int)TarUtils.parseOctal( header, offset, TarConstants.CHKSUMLEN );", "+        offset += TarConstants.CHKSUMLEN;", "+        m_linkFlag = header[ offset++ ];", "+        m_linkName = TarUtils.parseName( header, offset, NAMELEN );", "-        this.magic = TarUtils.parseName( header, offset, MAGICLEN );", "-        offset += MAGICLEN;", "-        this.userName = TarUtils.parseName( header, offset, UNAMELEN );", "-        offset += UNAMELEN;", "-        this.groupName = TarUtils.parseName( header, offset, GNAMELEN );", "-        offset += GNAMELEN;", "-        this.devMajor = (int)TarUtils.parseOctal( header, offset, DEVLEN );", "-        offset += DEVLEN;", "-        this.devMinor = (int)TarUtils.parseOctal( header, offset, DEVLEN );", "+        m_magic = TarUtils.parseName( header, offset, TarConstants.MAGICLEN );", "+        offset += TarConstants.MAGICLEN;", "+        m_userName = TarUtils.parseName( header, offset, TarConstants.UNAMELEN );", "+        offset += TarConstants.UNAMELEN;", "+        m_groupName = TarUtils.parseName( header, offset, TarConstants.GNAMELEN );", "+        offset += TarConstants.GNAMELEN;", "+        m_devMajor = (int)TarUtils.parseOctal( header, offset, TarConstants.DEVLEN );", "+        offset += TarConstants.DEVLEN;", "+        m_devMinor = (int)TarUtils.parseOctal( header, offset, TarConstants.DEVLEN );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c7c898bf22052c17a7cfa68e1f7617ab", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/tar/TarEntry.java", "commitBeforeChange": "0bde74aa3647adabb6ab7ffdf25dcf5ac438b971", "commitAfterChange": "23bbf085727756cfbad92aaa345e10c7370d3486", "methodNumberBeforeChange": 34, "methodNumberAfterChange": 34, "signatureBeforeChange": "     public void parseTarHeader(byte[] header)", "signatureAfterChange": "     public void parseTarHeader(byte[] header)", "diff": ["-        this.name = TarUtils.parseName(header, offset, NAMELEN);", "+        name = TarUtils.parseName(header, offset, NAMELEN);", "-        this.mode = (int) TarUtils.parseOctal(header, offset, MODELEN);", "+        mode = (int) TarUtils.parseOctal(header, offset, MODELEN);", "-        this.userId = (int) TarUtils.parseOctal(header, offset, UIDLEN);", "+        userId = (int) TarUtils.parseOctal(header, offset, UIDLEN);", "-        this.groupId = (int) TarUtils.parseOctal(header, offset, GIDLEN);", "+        groupId = (int) TarUtils.parseOctal(header, offset, GIDLEN);", "-        this.size = TarUtils.parseOctal(header, offset, SIZELEN);", "+        size = TarUtils.parseOctal(header, offset, SIZELEN);", "-        this.modTime = TarUtils.parseOctal(header, offset, MODTIMELEN);", "+        modTime = TarUtils.parseOctal(header, offset, MODTIMELEN);", "-        this.linkFlag = header[offset++];", "-        this.linkName = TarUtils.parseName(header, offset, NAMELEN);", "+        linkFlag = header[offset++];", "+        linkName = TarUtils.parseName(header, offset, NAMELEN);", "-        this.magic = TarUtils.parseName(header, offset, MAGICLEN);", "+        magic = TarUtils.parseName(header, offset, MAGICLEN);", "-        this.userName = TarUtils.parseName(header, offset, UNAMELEN);", "+        userName = TarUtils.parseName(header, offset, UNAMELEN);", "-        this.groupName = TarUtils.parseName(header, offset, GNAMELEN);", "+        groupName = TarUtils.parseName(header, offset, GNAMELEN);", "-        this.devMajor = (int) TarUtils.parseOctal(header, offset, DEVLEN);", "+        devMajor = (int) TarUtils.parseOctal(header, offset, DEVLEN);", "-        this.devMinor = (int) TarUtils.parseOctal(header, offset, DEVLEN);", "+        devMinor = (int) TarUtils.parseOctal(header, offset, DEVLEN);"]}]}