{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b79df765294c0bab8eba87bada4a1cfb", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1b54bccf8e9e1c335120770b279b6c39", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/metamata/MAuditStreamHandler.java", "commitBeforeChange": "7a5c30f33c46dec3fb201dac6878a09c4cfcaf2c", "commitAfterChange": "3b349325f1e1f10b3c4616a1c7a3e9b4ec24c40b", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "     public void stop()", "signatureAfterChange": "     public void stop()", "diff": ["-                MAudit.Violation violation = (MAudit.Violation) v.elementAt(i);", "+                MAuditParser.Violation violation = (MAuditParser.Violation) v.elementAt(i);", "-        Writer wri = null;", "+        DOMElementWriter domWriter = new DOMElementWriter();", "-            wri = new OutputStreamWriter(xmlOut, \"UTF-8\");", "-            wri.write(\"<?xml version=\\\"1.0\\\"?>\\n\");", "-            (new DOMElementWriter()).write(rootElement, wri, 0, \"  \");", "-            wri.flush();", "-        } catch (IOException exc) {", "-            task.log(\"Unable to write log file\", Project.MSG_ERR);", "-        } finally {", "-            if (wri != null) {", "-                try {", "-                    wri.close();", "-                } catch (IOException e) {", "-                }", "-            }", "+            domWriter.write(rootElement, xmlOut);", "+        } catch (IOException e){", "+            throw new BuildException(e);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a738d08aff800247c4894dd864864ede", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Java.java", "commitBeforeChange": "0022fa2365dff486750da547135c9339b7a67526", "commitAfterChange": "984ad3c0217344ebdeb3b55fe2ba4018384fcfa3", "methodNumberBeforeChange": 27, "methodNumberAfterChange": 33, "signatureBeforeChange": "     private void run(CommandlineJava command) throws BuildException", "signatureAfterChange": "     private void run(CommandlineJava command) throws BuildException", "diff": ["-        ExecuteJava exe = new ExecuteJava();", "-        exe.setJavaCommand(command.getJavaCommand());", "-        exe.setClasspath(command.getClasspath());", "-        exe.setSystemProperties(command.getSystemProperties());", "-        exe.setTimeout(timeout);", "-        if (out != null) {", "-            try {", "-                outStream = ", "-                    new PrintStream(new FileOutputStream(out.getAbsolutePath(),", "-                                                         append));", "-                exe.execute(getProject());", "-                System.out.flush();", "-                System.err.flush();", "-            } catch (IOException io) {", "-                throw new BuildException(io, getLocation());", "-            } finally {", "-                if (outStream != null) {", "-                    outStream.close();", "-                }", "-            }", "-        } else {", "+        try {", "+            ExecuteJava exe = new ExecuteJava();", "+            exe.setJavaCommand(command.getJavaCommand());", "+            exe.setClasspath(command.getClasspath());", "+            exe.setSystemProperties(command.getSystemProperties());", "+            exe.setTimeout(timeout);", "+            redirector.createStreams();", "+            redirector.complete();", "+        } catch (IOException e) {", "+            throw new BuildException(e);"]}]}