{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "db24b1094d8c6b066a92b5d1cb13be56", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "125d5b47dfa81342795c14c9ba1b45c0", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Tar.java", "commitBeforeChange": "1400dc3c1b536c70697f83be990b0725121cba90", "commitAfterChange": "b5fcf10604f56a8061d10f332570342b34cc7a9d", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 20, "signatureBeforeChange": "         public String getGroup()", "signatureAfterChange": "     protected TarFileSet asTarFileSet(ArchiveFileSet archiveFileSet)", "diff": ["+     */", "+    protected TarFileSet asTarFileSet(ArchiveFileSet archiveFileSet) {", "+        TarFileSet tfs = null;", "+        if (archiveFileSet != null && archiveFileSet instanceof TarFileSet) {", "+            tfs = (TarFileSet) archiveFileSet;", "+        } else {", "+            tfs = new TarFileSet();", "+            tfs.setProject(getProject());", "+            if (archiveFileSet != null) {", "+                tfs.setPrefix(archiveFileSet.getPrefix(getProject()));", "+                tfs.setFullpath(archiveFileSet.getFullpath(getProject()));", "+                if (archiveFileSet.hasFileModeBeenSet()) {", "+                    tfs.integerSetFileMode(archiveFileSet", "+                                           .getFileMode(getProject()));", "+                }", "+                if (archiveFileSet.hasDirModeBeenSet()) {", "+                    tfs.integerSetDirMode(archiveFileSet", "+                                          .getDirMode(getProject()));", "+                }", "+                ", "+                if (archiveFileSet instanceof", "+                    org.apache.tools.ant.types.TarFileSet) {", "+                    org.apache.tools.ant.types.TarFileSet t =", "+                        (org.apache.tools.ant.types.TarFileSet) archiveFileSet;", "+                    if (t.hasUserNameBeenSet()) {", "+                        tfs.setUserName(t.getUserName());", "+                    }", "+                    if (t.hasGroupBeenSet()) {", "+                        tfs.setGroup(t.getGroup());", "+                    }", "+                    if (t.hasUserIdBeenSet()) {", "+                        tfs.setUid(t.getUid());", "+                    }", "+                    if (t.hasGroupIdBeenSet()) {", "+                        tfs.setGid(t.getGid());", "+                    }", "+                }", "+            }", "+        }", "+        return tfs;", "+    }", "-         */", "-        public String getGroup() {", "-            return groupName;", "-        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "af29c094d70d830c25381f14319f05d4", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Zip.java", "commitBeforeChange": "4cf9ef09a97e2c53eacb9e629d8470ab856acc2c", "commitAfterChange": "ef830de68e452f5673aefdcd49f7de071a12e11a", "methodNumberBeforeChange": 27, "methodNumberAfterChange": 28, "signatureBeforeChange": "     protected final void addResources(FileSet fileset, Resource[] resources,                                       ZipOutputStream zOut)         throws IOException", "signatureAfterChange": "     protected final void addResources(FileSet fileset, Resource[] resources,                                       ZipOutputStream zOut)         throws IOException", "diff": ["-        int dirMode = ZipFileSet.DEFAULT_DIR_MODE;", "-        int fileMode = ZipFileSet.DEFAULT_FILE_MODE;", "+        int dirMode = ArchiveFileSet.DEFAULT_DIR_MODE;", "+        int fileMode = ArchiveFileSet.DEFAULT_FILE_MODE;", "-        ZipFileSet zfs = null;", "-        if (fileset instanceof ZipFileSet) {", "-            zfs = (ZipFileSet) fileset;", "+        ArchiveFileSet zfs = null;", "+        if (fileset instanceof ArchiveFileSet) {", "+            zfs = (ArchiveFileSet) fileset;", "-            } else {", "+            } else if (zfs instanceof ZipFileSet) {", "-                    ZipEntry ze = zf.getEntry(resources[i].getName());", "-                    addParentDirs(base, name, zOut, prefix, ze.getUnixMode());", "+                    if (zf != null) {", "+                        ZipEntry ze = zf.getEntry(resources[i].getName());", "+                        addParentDirs(base, name, zOut, prefix,", "+                                      ze.getUnixMode());", "+                    } else {", "+                        ArchiveResource tr = (ArchiveResource) resources[i];", "+                        addParentDirs(base, name, zOut, prefix,", "+                                      tr.getMode());", "+                    }", "+                    if (zf != null) {", "+                    } else {", "+                        ArchiveResource tr = (ArchiveResource) resources[i];", "+                        InputStream is = null;", "+                        try {", "+                            is = tr.getInputStream();", "+                            zipFile(is, zOut, prefix + name,", "+                                    resources[i].getLastModified(),", "+                                    zfs.getSrc(getProject()),", "+                                    zfs.hasFileModeBeenSet() ? fileMode", "+                                    : tr.getMode());", "+                        } finally {", "+                            FileUtils.close(is);", "+                        }", "+                    }", "+            }", "+        }", "+    }"]}]}