{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5a2360f246f33c8041cf8a615f090d9e", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2030f6d52abb03e1b2802eb5d8d45969", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/todo/org/apache/tools/ant/taskdefs/archive/Untar.java", "commitBeforeChange": "6584b1cf3e65148be573d992b00b2f4b1ca46c45", "commitAfterChange": "fa273bcbb416d9048ccbf038eb05379d540f5727", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "      protected void expandFile( File srcF, File dir )         throws TaskException", "signatureAfterChange": "     protected void expandFile( final File src, final File dir )         throws TaskException", "diff": ["-", "-    protected void expandFile( File srcF, File dir )", "+    protected void expandFile( final File src, final File dir )", "-        TarInputStream tis = null;", "+        if( getLogger().isInfoEnabled() )", "+        {", "+            final String message = \"Expanding: \" + src + \" into \" + dir;", "+            getLogger().info( message );", "+        }", "+", "+        TarInputStream input = null;", "+        FileInputStream fileInput = null;", "-            getLogger().info( \"Expanding: \" + srcF + \" into \" + dir );", "+            fileInput = new FileInputStream( src );", "+            input = new TarInputStream( fileInput );", "-            tis = new TarInputStream( new FileInputStream( srcF ) );", "-            TarEntry te = null;", "-", "-            while( ( te = tis.getNextEntry() ) != null )", "+            TarEntry entry = null;", "+            while( ( entry = input.getNextEntry() ) != null )", "-                extractFile( srcF, dir, tis,", "-                             te.getName(),", "-                             te.getModTime(), te.isDirectory() );", "+                extractFile( dir,", "+                             input,", "+                             entry.getName(),", "+                             entry.getModTime(),", "+                             entry.isDirectory() );", "-            getLogger().debug( \"expand complete\" );", "-", "-        catch( IOException ioe )", "+        catch( final IOException ioe )", "-            throw new TaskException( \"Error while expanding \" + srcF.getPath(), ioe );", "+            final String message = \"Error while expanding \" + src.getPath();", "+            throw new TaskException( message, ioe );", "-            if( tis != null )", "-            {", "-                try", "-                {", "-                    tis.close();", "-                }", "-                catch( IOException e )", "-                {", "-                }", "-            }", "+            IOUtil.shutdownStream( fileInput );", "+            IOUtil.shutdownStream( input );", "+", "+        final String message = \"expand complete\";", "+        getLogger().debug( message );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5314dded3c2e031f7df99246674e6473", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/main/org/apache/tools/ant/taskdefs/archive/Untar.java", "commitBeforeChange": "6584b1cf3e65148be573d992b00b2f4b1ca46c45", "commitAfterChange": "fa273bcbb416d9048ccbf038eb05379d540f5727", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "      protected void expandFile( File srcF, File dir )         throws TaskException", "signatureAfterChange": "     protected void expandFile( final File src, final File dir )         throws TaskException", "diff": ["-", "-    protected void expandFile( File srcF, File dir )", "+    protected void expandFile( final File src, final File dir )", "-        TarInputStream tis = null;", "+        if( getLogger().isInfoEnabled() )", "+        {", "+            final String message = \"Expanding: \" + src + \" into \" + dir;", "+            getLogger().info( message );", "+        }", "+", "+        TarInputStream input = null;", "+        FileInputStream fileInput = null;", "-            getLogger().info( \"Expanding: \" + srcF + \" into \" + dir );", "+            fileInput = new FileInputStream( src );", "+            input = new TarInputStream( fileInput );", "-            tis = new TarInputStream( new FileInputStream( srcF ) );", "-            TarEntry te = null;", "-", "-            while( ( te = tis.getNextEntry() ) != null )", "+            TarEntry entry = null;", "+            while( ( entry = input.getNextEntry() ) != null )", "-                extractFile( srcF, dir, tis,", "-                             te.getName(),", "-                             te.getModTime(), te.isDirectory() );", "+                extractFile( dir,", "+                             input,", "+                             entry.getName(),", "+                             entry.getModTime(),", "+                             entry.isDirectory() );", "-            getLogger().debug( \"expand complete\" );", "-", "-        catch( IOException ioe )", "+        catch( final IOException ioe )", "-            throw new TaskException( \"Error while expanding \" + srcF.getPath(), ioe );", "+            final String message = \"Error while expanding \" + src.getPath();", "+            throw new TaskException( message, ioe );", "-            if( tis != null )", "-            {", "-                try", "-                {", "-                    tis.close();", "-                }", "-                catch( IOException e )", "-                {", "-                }", "-            }", "+            IOUtil.shutdownStream( fileInput );", "+            IOUtil.shutdownStream( input );", "+", "+        final String message = \"expand complete\";", "+        getLogger().debug( message );"]}]}