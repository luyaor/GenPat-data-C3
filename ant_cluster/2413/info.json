{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e99d2d7f6998124433da3802e104adfa", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2ffc3f6074edda1f22273a35c00d0d6d", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/i18n/Translate.java", "commitBeforeChange": "bc4909539a07b63a41e4031c696d9b251e529c23", "commitAfterChange": "9b3933e4e259e909052ff372e3e9465b450170eb", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": "     private void translate() throws BuildException", "signatureAfterChange": "     private void translate() throws BuildException", "diff": ["-                    if (forceOverwrite", "-                        || destLastModified < srcLastModified", "-                        || destLastModified < bundleLastModified[0]", "-                        || destLastModified < bundleLastModified[1]", "-                        || destLastModified < bundleLastModified[2]", "-                        || destLastModified < bundleLastModified[3]", "-                        || destLastModified < bundleLastModified[4]", "-                        || destLastModified < bundleLastModified[5]", "-                        || destLastModified < bundleLastModified[6]) {", "+                    boolean needsWork = forceOverwrite", "+                        || destLastModified < srcLastModified;", "+                    if (!needsWork) {", "+                        for (int icounter = 0; icounter < BUNDLE_MAX_ALTERNATIVES; icounter++) {", "+                            needsWork = (destLastModified < bundleLastModified[icounter]);", "+                            if (needsWork) {", "+                                break;", "+                            }", "+                        }", "+                    }", "+                    if (needsWork) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "340161989ff3d34a333cd2de2ded654c", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/cvslib/CvsTagDiff.java", "commitBeforeChange": "5d664133a5877068d1c15dec1d5c1e9143f90d98", "commitAfterChange": "fd6087beada84581d77aec9a94991cc2dfc4bb13", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": "     private CvsTagEntry[] parseRDiff(File tmpFile) throws BuildException", "signatureAfterChange": "     private CvsTagEntry[] parseRDiff(File tmpFile) throws BuildException", "diff": ["-            // File module/filename is removed; not included in release tag SKINLF_12", "-            int headerLength = 5 + m_package.length() + 1;  // get rid of 'File module/\"", "+            // File module/filename is removed; not included in", "+            // release tag SKINLF_12", "+", "+            // get rid of 'File module/\"", "+            int headerLength = 5 + m_package.length() + 1;  ", "-                    entries.add(entry = new CvsTagEntry(filename, rev));", "+                    entries.addElement(entry = new CvsTagEntry(filename, rev));", "-                    String prevRevision = line.substring(index + FILE_HAS_CHANGED.length(), revSeparator);", "-                    String revision = line.substring(revSeparator + 4); // 4 is \" to \" length", "+                    String prevRevision = ", "+                        line.substring(index + FILE_HAS_CHANGED.length(), ", "+                                       revSeparator);", "+                     // 4 is \" to \" length", "+                    String revision = line.substring(revSeparator + 4);", "-                    entries.add(entry = new CvsTagEntry(filename, revision, prevRevision));", "+                    entries.addElement(entry = new CvsTagEntry(filename, ", "+                                                               revision, ", "+                                                               prevRevision));", "-                    entries.add(entry = new CvsTagEntry(filename));", "+                    entries.addElement(entry = new CvsTagEntry(filename));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "40a97bc56e3d63b9ad79f9c5b0bf1355", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/Project.java", "commitBeforeChange": "538af2f04d343f3e90893c666d47e1b7446a134d", "commitAfterChange": "e03db74846d20974a3aae9cd7054948e5cd502cf", "methodNumberBeforeChange": 96, "methodNumberAfterChange": 96, "signatureBeforeChange": "     public void addReference(String referenceName, Object value)", "signatureAfterChange": "     public void addReference(String referenceName, Object value)", "diff": ["-        synchronized (references) {", "-            Object old = ((AntRefTable) references).getReal(referenceName);", "-            if (old == value) {", "-                // no warning, this is not changing anything", "-                return;", "-            }", "-            if (old != null && !(old instanceof UnknownElement)) {", "-                log(\"Overriding previous definition of reference to \" + referenceName,", "-                    MSG_VERBOSE);", "-            }", "-            log(\"Adding reference: \" + referenceName, MSG_DEBUG);", "-            references.put(referenceName, value);", "+        Object old = ((AntRefTable) references).getReal(referenceName);", "+        if (old == value) {", "+            // no warning, this is not changing anything", "+            return;", "+        if (old != null && !(old instanceof UnknownElement)) {", "+            log(\"Overriding previous definition of reference to \" + referenceName,", "+                MSG_VERBOSE);", "+        }", "+        log(\"Adding reference: \" + referenceName, MSG_DEBUG);", "+        references.put(referenceName, value);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "545368c04a7f73f8a3cd2cde29c3f9af", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/cvslib/CvsTagDiff.java", "commitBeforeChange": "9a9f726dc3634a7a80adefee62dffecfa5e0d6a9", "commitAfterChange": "ff0739c9ea16f764f011c95caa199d0772416e87", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "     private CvsTagEntry[] parseRDiff(File tmpFile) throws BuildException", "signatureAfterChange": "     private CvsTagEntry[] parseRDiff(File tmpFile) throws BuildException", "diff": ["-            int headerLength = 5 + m_package.length() + 1;", "+            int headerLength = FILE_STRING.length() + mypackage.length() + 1;", "-", "-                        entries.addElement(entry = new CvsTagEntry(filename, rev));", "+                        entry = new CvsTagEntry(filename, rev);", "+                        entries.addElement(entry);", "-                        // 4 is \" to \" length", "-                        String revision = line.substring(revSeparator + 4);", "-", "-                        entries.addElement(entry = new CvsTagEntry(filename,", "+                        String revision = line.substring(revSeparator + TO_STRING.length());", "+                        entry = new CvsTagEntry(filename,", "-                            prevRevision));", "+                            prevRevision);", "+                        entries.addElement(entry);", "-", "-                        entries.addElement(entry = new CvsTagEntry(filename));", "+                        entry = new CvsTagEntry(filename);", "+                        entries.addElement(entry);", "+                    log(e.toString(), Project.MSG_ERR);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "69acce661bb6c1502f8387e7a6cb782a", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/dotnet/WsdlToDotnet.java", "commitBeforeChange": "a8814a50b17bf53d80ecae3e5e58d56979d9366f", "commitAfterChange": "72252a914825c9fb084ea32f3b59f32442ee47ba", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 13, "signatureBeforeChange": "     public void execute()              throws BuildException", "signatureAfterChange": "     public void execute()              throws BuildException", "diff": ["+        if(protocol!=null) {", "+            command.addArgument(\"/protocol:\"+protocol);", "+        }", "+        if(parseableErrors) {", "+            command.addArgument(\"/parseableErrors\");", "+        }", "+        long destLastModified = -1;", "-            if (srcFile.exists() && destFile.exists()", "-                && srcFile.lastModified() <= destFile.lastModified()) {", "+            if ( destFile.exists() ) {", "+                destLastModified = destFile.lastModified();", "+            }", "+            if (srcFile.exists()", "+                && srcFile.lastModified() <= destLastModified) {", "+        //add in any extra files.", "+        //this is an error in mono, but we do not warn on it as they may fix that outside", "+        //the ant build cycle.", "+        Iterator it=schemas.iterator();", "+        while ( it.hasNext() ) {", "+            Schema schema = (Schema) it.next();", "+            //get date, mark for a rebuild if we are newer", "+            long schemaTimestamp;", "+            schemaTimestamp=schema.getTimestamp();", "+            if(schemaTimestamp>destLastModified) {", "+                rebuild=true;", "+            }", "+            command.addArgument(schema.evaluate());", "+        }", "+        //conditionally compile"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "937442f310d35fa9123dcf986f91c3ca", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/DirectoryScanner.java", "commitBeforeChange": "0c132498a8026db624c2fcf7026538c52e47b312", "commitAfterChange": "4004834c04e0eec8f0f698435b0c5983751fb593", "methodNumberBeforeChange": 29, "methodNumberAfterChange": 29, "signatureBeforeChange": "     private void accountForIncludedFile(String name, File file)", "signatureAfterChange": "     private void accountForIncludedFile(String name, File file)", "diff": ["-        if (!filesIncluded.contains(name)", "-            && !filesExcluded.contains(name)", "-            && !filesDeselected.contains(name)) {", "-", "-            if (!isExcluded(name)) {", "-                if (isSelected(name, file)) {", "-                    filesIncluded.addElement(name);", "-                } else {", "-                    everythingIncluded = false;", "-                    filesDeselected.addElement(name);", "-                }", "-            } else {", "-                everythingIncluded = false;", "-                filesExcluded.addElement(name);", "-            }", "+        if (filesIncluded.contains(name)", "+            || filesExcluded.contains(name)", "+            || filesDeselected.contains(name)) {", "+            return;", "+        boolean included = false;", "+        if (isExcluded(name)) {", "+            filesExcluded.addElement(name);", "+        } else if (isSelected(name, file)) {", "+            included = true;", "+            filesIncluded.addElement(name);", "+        } else {", "+            filesDeselected.addElement(name);", "+        }", "+        everythingIncluded &= included;"]}]}