{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a3aff073e9f745a43f22a553566b36a4", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "363da6db73e8a470ee41d360d72d3d5c", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Touch.java", "commitBeforeChange": "861a4490644853d4b9bff9b0d0b871d7e88b0784", "commitAfterChange": "3af551b1bbd21e0ff6d8bb1453dac216ce89e9da", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 20, "signatureBeforeChange": "     protected void touch() throws BuildException", "signatureAfterChange": "     protected void touch() throws BuildException", "diff": ["-            touch(file.getParentFile(), file.getName(), defaultTimestamp);", "+            touch(new FileResource(file.getParentFile(), file.getName()),", "+                  defaultTimestamp);", "-        // deal with the filesets", "+        // deal with the resource collections", "+        Iterator iter = resources.iterator();", "+        while (iter.hasNext()) {", "+            Resource r = (Resource) iter.next();", "+            if (!(r instanceof Touchable)) {", "+                throw new BuildException(\"Can't touch \" + r);", "+            }", "+            touch(r, defaultTimestamp);", "+        }", "+", "+        // deal with filesets in a special way since the task", "+        // originally also used the directories and Union won't return", "+        // them.", "-            String[] srcFiles = ds.getIncludedFiles();", "-            for (int j = 0; j < srcFiles.length; j++) {", "-                touch(fromDir, srcFiles[j], defaultTimestamp);", "-            }", "-                touch(fromDir, srcDirs[j], defaultTimestamp);", "-            }", "-        }", "-        // deal with the filelists", "-        for (int i = 0; i < filelists.size(); i++) {", "-            FileList fl = (FileList) filelists.elementAt(i);", "-            File fromDir = fl.getDir(getProject());", "-", "-            String[] srcFiles = fl.getFiles(getProject());", "-", "-            for (int j = 0; j < srcFiles.length; j++) {", "-                touch(fromDir, srcFiles[j], defaultTimestamp);", "+                touch(new FileResource(fromDir, srcDirs[j]), defaultTimestamp);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a1c9f100f554d6e46af971317e332bd2", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/SQLExec.java", "commitBeforeChange": "c51cce56b802399a1712e67544a3224da62b7c49", "commitAfterChange": "36e5ac64fd1e76c49877ce8bb5596589a2c55ddf", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 16, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": "     public void execute() throws BuildException", "diff": ["-                && filesets.isEmpty()) {", "+                && resources.size() == 0) {", "-                    throw new BuildException(\"Source file or fileset, \"", "+                    throw new BuildException(\"Source file or resource \"", "+                                             + \"collection, \"", "-            // deal with the filesets", "-            for (int i = 0; i < filesets.size(); i++) {", "-                FileSet fs = (FileSet) filesets.elementAt(i);", "-                DirectoryScanner ds = fs.getDirectoryScanner(getProject());", "-                File srcDir = fs.getDir(getProject());", "-", "-                String[] srcFiles = ds.getIncludedFiles();", "-", "-                // Make a transaction for each file", "-                for (int j = 0; j < srcFiles.length; j++) {", "-                    Transaction t = createTransaction();", "-                    t.setSrc(new File(srcDir, srcFiles[j]));", "-                }", "+            // deal with the resources", "+            Iterator iter = resources.iterator();", "+            while (iter.hasNext()) {", "+                Resource r = (Resource) iter.next();", "+                // Make a transaction for each resource", "+                Transaction t = createTransaction();", "+                t.setSrcResource(r);"]}]}