{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "837ef47d1ee8e86bc5c29a1332837877", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1785fd51bd98c7e89379aa2c696cccbd", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/todo/org/apache/tools/ant/taskdefs/exec/Execute.java", "commitBeforeChange": "4c36f7cb5aca402d90ea046454939860ba5457e8", "commitAfterChange": "4a9c6d79bc91a3a35d222c8f037830feb7de0cfe", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "     public int execute()         throws IOException, TaskException", "signatureAfterChange": "     public int execute()         throws IOException, TaskException", "diff": ["-        final ExecMetaData metaData =", "-            new ExecMetaData( m_command, getNativeEnvironment(),", "-                              m_workingDirectory, false );", "-", "-        final CommandLauncher launcher = getLauncher();", "-        final Process process = launcher.exec( metaData );", "-", "-            m_streamHandler.setProcessInputStream( process.getOutputStream() );", "-            m_streamHandler.setProcessOutputStream( process.getInputStream() );", "-            m_streamHandler.setProcessErrorStream( process.getErrorStream() );", "-        }", "-        catch( final IOException ioe )", "-        {", "-            process.destroy();", "-            throw ioe;", "-        }", "+            final ExecMetaData metaData =", "+                new ExecMetaData( m_command, getNativeEnvironment(),", "+                                  m_workingDirectory, false );", "-        m_streamHandler.start();", "+            final CommandLauncher launcher = getLauncher();", "+            final Process process = launcher.exec( metaData );", "-        // add the process to the list of those to destroy if the VM exits", "-        //", "-        c_processDestroyer.add( process );", "+            try", "+            {", "+                m_streamHandler.setProcessInputStream( process.getOutputStream() );", "+                m_streamHandler.setProcessOutputStream( process.getInputStream() );", "+                m_streamHandler.setProcessErrorStream( process.getErrorStream() );", "+            }", "+            catch( final IOException ioe )", "+            {", "+                process.destroy();", "+                throw ioe;", "+            }", "-        if( m_watchdog != null )", "-        {", "-            m_watchdog.start( process );", "-        }", "-        try", "-        {", "-            process.waitFor();", "-        }", "-        catch( final InterruptedException ie )", "-        {", "-            //shu\\ould never happen", "-        }", "+            m_streamHandler.start();", "-        // remove the process to the list of those to destroy if the VM exits", "-        //", "-        c_processDestroyer.remove( process );", "+            // add the process to the list of those to destroy if the VM exits", "+            //", "+            c_processDestroyer.add( process );", "-        if( m_watchdog != null )", "-        {", "-            m_watchdog.stop();", "+            if( m_watchdog != null )", "+            {", "+                m_watchdog.start( process );", "+            }", "+            try", "+            {", "+                process.waitFor();", "+            }", "+            catch( final InterruptedException ie )", "+            {", "+                //shu\\ould never happen", "+            }", "+", "+            // remove the process to the list of those to destroy if the VM exits", "+            //", "+            c_processDestroyer.remove( process );", "+", "+            if( m_watchdog != null )", "+            {", "+                m_watchdog.stop();", "+            }", "+            m_streamHandler.stop();", "+            if( m_watchdog != null )", "+            {", "+                m_watchdog.checkException();", "+            }", "+            return process.exitValue();", "-        m_streamHandler.stop();", "-        if( m_watchdog != null )", "+        catch( final ExecException ee )", "-            m_watchdog.checkException();", "+            throw new TaskException( ee.getMessage(), ee );", "-        return process.exitValue();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9969a0be5e132657a3dcdc07f2df6b1b", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/main/org/apache/tools/ant/taskdefs/exec/Execute.java", "commitBeforeChange": "4c36f7cb5aca402d90ea046454939860ba5457e8", "commitAfterChange": "4a9c6d79bc91a3a35d222c8f037830feb7de0cfe", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "     public int execute()         throws IOException, TaskException", "signatureAfterChange": "     public int execute()         throws IOException, TaskException", "diff": ["-        final ExecMetaData metaData =", "-            new ExecMetaData( m_command, getNativeEnvironment(),", "-                              m_workingDirectory, false );", "-", "-        final CommandLauncher launcher = getLauncher();", "-        final Process process = launcher.exec( metaData );", "-", "-            m_streamHandler.setProcessInputStream( process.getOutputStream() );", "-            m_streamHandler.setProcessOutputStream( process.getInputStream() );", "-            m_streamHandler.setProcessErrorStream( process.getErrorStream() );", "-        }", "-        catch( final IOException ioe )", "-        {", "-            process.destroy();", "-            throw ioe;", "-        }", "+            final ExecMetaData metaData =", "+                new ExecMetaData( m_command, getNativeEnvironment(),", "+                                  m_workingDirectory, false );", "-        m_streamHandler.start();", "+            final CommandLauncher launcher = getLauncher();", "+            final Process process = launcher.exec( metaData );", "-        // add the process to the list of those to destroy if the VM exits", "-        //", "-        c_processDestroyer.add( process );", "+            try", "+            {", "+                m_streamHandler.setProcessInputStream( process.getOutputStream() );", "+                m_streamHandler.setProcessOutputStream( process.getInputStream() );", "+                m_streamHandler.setProcessErrorStream( process.getErrorStream() );", "+            }", "+            catch( final IOException ioe )", "+            {", "+                process.destroy();", "+                throw ioe;", "+            }", "-        if( m_watchdog != null )", "-        {", "-            m_watchdog.start( process );", "-        }", "-        try", "-        {", "-            process.waitFor();", "-        }", "-        catch( final InterruptedException ie )", "-        {", "-            //shu\\ould never happen", "-        }", "+            m_streamHandler.start();", "-        // remove the process to the list of those to destroy if the VM exits", "-        //", "-        c_processDestroyer.remove( process );", "+            // add the process to the list of those to destroy if the VM exits", "+            //", "+            c_processDestroyer.add( process );", "-        if( m_watchdog != null )", "-        {", "-            m_watchdog.stop();", "+            if( m_watchdog != null )", "+            {", "+                m_watchdog.start( process );", "+            }", "+            try", "+            {", "+                process.waitFor();", "+            }", "+            catch( final InterruptedException ie )", "+            {", "+                //shu\\ould never happen", "+            }", "+", "+            // remove the process to the list of those to destroy if the VM exits", "+            //", "+            c_processDestroyer.remove( process );", "+", "+            if( m_watchdog != null )", "+            {", "+                m_watchdog.stop();", "+            }", "+            m_streamHandler.stop();", "+            if( m_watchdog != null )", "+            {", "+                m_watchdog.checkException();", "+            }", "+            return process.exitValue();", "-        m_streamHandler.stop();", "-        if( m_watchdog != null )", "+        catch( final ExecException ee )", "-            m_watchdog.checkException();", "+            throw new TaskException( ee.getMessage(), ee );", "-        return process.exitValue();"]}]}