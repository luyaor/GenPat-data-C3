{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b1933e8363ce06d93d39c0a70675713f", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0434c569e6691d2b51a5223c0afea5e2", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/java/org/apache/aut/vfs/provider/UriParser.java", "commitBeforeChange": "b6ed0b49348d6e8f820f4e5590bd71782c111976", "commitAfterChange": "5b48abc10df6339a4114a4135fdab2b38b9252bd", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "     public void normalisePath( StringBuffer path ) throws FileSystemException", "signatureAfterChange": "     public void normalisePath( final StringBuffer path ) throws FileSystemException", "diff": ["-    public void normalisePath( StringBuffer path ) throws FileSystemException", "+    public void normalisePath( final StringBuffer path ) throws FileSystemException", "-            int elemLen = endElem - startElem;", "+            final int elemLen = endElem - startElem;", "-                    char ch = path.charAt( pos );", "-                    while( ch != m_separatorChar )", "+                    for( ; pos >= 0 && path.charAt( pos ) != m_separatorChar; pos -- )", "-                        pos--;", "-                        ch = path.charAt( pos );", "-        if( path.charAt( maxlen - 1 ) == m_separatorChar && maxlen > 1 )", "+        if( maxlen > 0 && path.charAt( maxlen - 1 ) == m_separatorChar && maxlen > 1 )"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cd10d706c2f0e298642ad893a5af6f6b", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/repository/GetLibraries.java", "commitBeforeChange": "fdc903238f666ea1f4f60385d40463c8ca3494d2", "commitAfterChange": "844ca96965c1cf8ec9bd6d28fdbf483400d4b1fc", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 15, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": "     public void execute() throws BuildException", "diff": ["-        int toFetch = libraries.size();", "-        if (toFetch == 0) {", "+        if (libraries.size() == 0) {", "-        int fetched = 0;", "+        int failures = 0;", "+            //when offline, we just make sure everything is in place", "-            Iterator it = libraries.iterator();", "+            Iterator it = filteredIterator();", "-                library.bind(destDir);", "+                    //fetch it", "-                        fetched++;", "+                    //add failures", "+                    failures++;", "-        if ((fetched < toFetch && forceDownload)) {", "+        if ((failures>0 && forceDownload)) {", "+        //validate the download", "+", "+        //create the path", "+        if(pathid!=null) {", "+            createPath();", "+        }"]}]}