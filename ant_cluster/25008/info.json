{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6bbdca2bf51d2ef7e1ad924d3da7e45b", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "81bd4ce1ddae1dd564f98b91e440994f", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/sandbox/embed/ProjectHelperImpl2.java", "commitBeforeChange": "af97c64cb1b6bea8dd0d7aa333a51c7613cbe5e9", "commitAfterChange": "3256156dcc13ead3eba8a9ea02b23ce7f7be8eb2", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 29, "signatureBeforeChange": "         public void onStartElement(String uri, String tag, String qname,                                    Attributes attrs,                                    AntXmlContext context)             throws SAXParseException", "signatureAfterChange": "         public void onStartElement(String uri, String tag, String qname,                                    Attributes attrs,                                    AntXmlContext context)             throws SAXParseException", "diff": ["-            if (context.project.getDataTypeDefinitions().get(qname) != null) {", "+            RuntimeConfigurable2 parentWrapper=context.currentWrapper();", "+            RuntimeConfigurable2 wrapper=null;", "+            ", "+            if (context.getProject().getDataTypeDefinitions().get(qname) != null) {", "-                    element = context.project.createDataType(qname);", "+                    Object element = context.getProject().createDataType(qname);", "+                        // can it happen ? We just checked that the type exists", "-                    target.addDataType(wrapper);", "+                    context.currentTarget.addDataType(wrapper);", "-                    task = context.project.createTask(qname);", "+                    task = context.getProject().createTask(qname);", "-                    task.setProject(context.project);", "+                    task.setProject(context.getProject());", "-                element=task;", "-                task.setOwningTarget(target);", "-                container.addTask(task);", "+                task.setOwningTarget(context.currentTarget);", "+", "+                Object parent=null;", "+                if( parentWrapper!=null ) {", "+                    parent=parentWrapper.getProxy();", "+                }", "+", "+                if( parent instanceof TaskContainer ) {", "+                    // Task included in a TaskContainer", "+                    ((TaskContainer)parent).addTask( task );", "+                } else {", "+                    // Task included in a target ( including the default one ).", "+                    context.currentTarget.addTask( task );", "+                }", "+                // container.addTask(task);", "-                ", "+", "+", "+            context.pushWrapper( wrapper );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9651591b22199758a40103f4d6e7b43b", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/sandbox/embed/ProjectHelperImpl2.java", "commitBeforeChange": "af97c64cb1b6bea8dd0d7aa333a51c7613cbe5e9", "commitAfterChange": "3256156dcc13ead3eba8a9ea02b23ce7f7be8eb2", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 25, "signatureBeforeChange": "         public void onStartElement(String uri, String tag, String qname,                                    Attributes attrs,                                    AntXmlContext context)             throws SAXParseException", "signatureAfterChange": "         public void onStartElement(String uri, String tag, String qname,                                    Attributes attrs,                                    AntXmlContext context)             throws SAXParseException", "diff": ["-            Project project=context.project;", "+            Project project=context.getProject();", "-                        context.project.addReference(value, target);", "+                        context.getProject().addReference(value, target);"]}]}