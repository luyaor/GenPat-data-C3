{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8180ee60b1ce3020abdd9f79a94f121c", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "18585b3611a807f4ec2e8518a43b03fa", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/java/org/apache/ant/project/DefaultProjectBuilder.java", "commitBeforeChange": "32dc44001f1d8348ce37d9b551feab8158e7b35f", "commitAfterChange": "ce225a0e46c3cb76bd99b45b24c5da3b7f126ed0", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "     protected Project build( final File file, final Configuration configuration )         throws IOException, AntException, ConfigurationException", "signatureAfterChange": "     protected Project build( final File file, final Configuration configuration )         throws IOException, AntException, ConfigurationException", "diff": ["-        final String projectName = configuration.getAttribute( \"name\" );", "+", "+        //Ignore Project name in the future ok??", "+        //final String projectName = configuration.getAttribute( \"name\" );", "-        getLogger().debug( \"Project \" + projectName + \" base directory: \" + baseDirectory );", "+        getLogger().debug( \"Project \" + file + \" base directory: \" + baseDirectory );", "-", "-        //setup basic context of project", "-        final TaskContext context = project.getContext();", "-        context.setProperty( TaskContext.BASE_DIRECTORY, baseDirectory );", "-        context.setProperty( Project.PROJECT_FILE, file );", "-        context.setProperty( Project.PROJECT, projectName );", "+        project.setBaseDirectory( baseDirectory );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "851112f4425b8c9cc013d9e7969a9753", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/java/org/apache/myrmidon/components/builder/DefaultProjectBuilder.java", "commitBeforeChange": "167787a0a4901acaf09ed146c92d08b43a191b1f", "commitAfterChange": "2cc1a6a0f7c85eb8fd1a47cfd2e1825ab3eb6436", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "     private DefaultProject buildProject( final File file,                                          final Configuration configuration )         throws Exception", "signatureAfterChange": "     private DefaultProject buildProject( final File file,                                          final Configuration configuration )         throws Exception", "diff": ["-        final String baseDirectoryName = configuration.getAttribute( \"basedir\" );", "+        final String baseDirectoryName = configuration.getAttribute( \"basedir\", null );", "-        //determine base directory for project", "-        final File baseDirectory =", "-            ( new File( file.getParentFile(), baseDirectoryName ) ).getAbsoluteFile();", "+        //determine base directory for project.  Use the directory containing", "+        //the build file as the default.", "+        File baseDirectory = file.getParentFile();", "+        if( baseDirectoryName != null )", "+        {", "+            baseDirectory = new File( baseDirectory, baseDirectoryName );", "+        }", "+        baseDirectory = baseDirectory.getAbsoluteFile();"]}]}