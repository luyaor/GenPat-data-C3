{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6b91fa28510b32060e4d5e3a6a69090b", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b89840511ac690be6f745f9b2bbc9170", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/ExecTask.java", "commitBeforeChange": "0022fa2365dff486750da547135c9339b7a67526", "commitAfterChange": "984ad3c0217344ebdeb3b55fe2ba4018384fcfa3", "methodNumberBeforeChange": 27, "methodNumberAfterChange": 8, "signatureBeforeChange": "      private void setPropertyFromBAOS(ByteArrayOutputStream baos,                                       String propertyName) throws IOException", "signatureAfterChange": "      public void setInputString(String inputString)", "diff": ["+", "+    public void setInputString(String inputString) {", "+        redirector.setInputString(inputString);", "+    }", "-    private void setPropertyFromBAOS(ByteArrayOutputStream baos, ", "-                                     String propertyName) throws IOException {", "-    ", "-        BufferedReader in =", "-            new BufferedReader(new StringReader(Execute.toString(baos)));", "-        String line = null;", "-        StringBuffer val = new StringBuffer();", "-        while ((line = in.readLine()) != null) {", "-            if (val.length() != 0) {", "-                val.append(StringUtils.LINE_SEP);", "-            }", "-            val.append(line);", "-        }", "-        getProject().setNewProperty(propertyName, val.toString());", "-    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c085e553746bb4f9391dddc4c4b4d5aa", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/main/org/apache/tools/ant/taskdefs/exec/ExecTask.java", "commitBeforeChange": "e9c239163f7e4e2f121dd86b51c075976181b3c9", "commitAfterChange": "5b93763d5174da45c49c795fb52205f946585139", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 13, "signatureBeforeChange": "     protected final void runExecute( Execute exe )         throws IOException, TaskException", "signatureAfterChange": "     protected final void runExecute( final Execute exe )         throws IOException, TaskException", "diff": ["-    protected final void runExecute( Execute exe )", "+    protected final void runExecute( final Execute exe )", "-        int err = -1;// assume the worst", "+        final int err = exe.execute();", "-        err = exe.execute();", "-            log( \"Timeout: killed the sub-process\", Project.MSG_WARN );", "+            getLogger().warn( \"Timeout: killed the sub-process\" );", "-        if( err != 0 )", "+        if( 0 != err )", "-            if( failOnError )", "-            {", "-                throw new TaskException( getName() + \" returned: \" + err );", "-            }", "-            else", "-            {", "-                log( \"Result: \" + err, Project.MSG_ERR );", "-            }", "+            throw new TaskException( getName() + \" returned: \" + err );", "-        if( baos != null )", "+", "+        if( null != m_byteArrayOutput )", "-            BufferedReader in =", "-                new BufferedReader( new StringReader( baos.toString() ) );", "-            String line = null;", "-            StringBuffer val = new StringBuffer();", "-            while( ( line = in.readLine() ) != null )", "-            {", "-                if( val.length() != 0 )", "-                {", "-                    val.append( lSep );", "-                }", "-                val.append( line );", "-            }", "-            setProperty( outputprop, val.toString() );", "+            writeResultToProperty();", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cafdba5412d42598623990edce9ed168", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/todo/org/apache/tools/ant/taskdefs/exec/ExecTask.java", "commitBeforeChange": "e9c239163f7e4e2f121dd86b51c075976181b3c9", "commitAfterChange": "5b93763d5174da45c49c795fb52205f946585139", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 13, "signatureBeforeChange": "     protected final void runExecute( Execute exe )         throws IOException, TaskException", "signatureAfterChange": "     protected final void runExecute( final Execute exe )         throws IOException, TaskException", "diff": ["-    protected final void runExecute( Execute exe )", "+    protected final void runExecute( final Execute exe )", "-        int err = -1;// assume the worst", "+        final int err = exe.execute();", "-        err = exe.execute();", "-            log( \"Timeout: killed the sub-process\", Project.MSG_WARN );", "+            getLogger().warn( \"Timeout: killed the sub-process\" );", "-        if( err != 0 )", "+        if( 0 != err )", "-            if( failOnError )", "-            {", "-                throw new TaskException( getName() + \" returned: \" + err );", "-            }", "-            else", "-            {", "-                log( \"Result: \" + err, Project.MSG_ERR );", "-            }", "+            throw new TaskException( getName() + \" returned: \" + err );", "-        if( baos != null )", "+", "+        if( null != m_byteArrayOutput )", "-            BufferedReader in =", "-                new BufferedReader( new StringReader( baos.toString() ) );", "-            String line = null;", "-            StringBuffer val = new StringBuffer();", "-            while( ( line = in.readLine() ) != null )", "-            {", "-                if( val.length() != 0 )", "-                {", "-                    val.append( lSep );", "-                }", "-                val.append( line );", "-            }", "-            setProperty( outputprop, val.toString() );", "+            writeResultToProperty();", "+    }"]}]}