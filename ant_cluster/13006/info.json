{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f342c2c7e3d6b46ca73ccd8145e991bc", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a0c8acf91b19355ea039742c2e0687ed", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/DirectoryScanner.java", "commitBeforeChange": "33b7e4299233528015cc4b40713098fb6342b05e", "commitAfterChange": "787728897a6052af385456788bc4e578ba170ba5", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 22, "signatureBeforeChange": "     protected void scandir(File dir, String vpath, boolean fast)", "signatureAfterChange": "     protected void scandir(File dir, String vpath, boolean fast)", "diff": ["-                    if (!isExcluded(name)) {", "-                        if (isSelected(name, file)) {", "-                            dirsIncluded.addElement(name);", "-                            if (fast) {", "-                                scandir(file, name + File.separator, fast);", "-                            }", "-                        } else {", "-                            everythingIncluded = false;", "-                            dirsDeselected.addElement(name);", "-                            if (fast && couldHoldIncluded(name)) {", "-                                scandir(file, name + File.separator, fast);", "-                            }", "-                        }", "-", "-                    } else {", "-                        everythingIncluded = false;", "-                        dirsExcluded.addElement(name);", "-                        if (fast && couldHoldIncluded(name)) {", "-                            scandir(file, name + File.separator, fast);", "-                        }", "-                    }", "+                  accountForIncludedDir(name, file, fast);", "-                    if (!isExcluded(name)) {", "-                        if (isSelected(name, file)) {", "-                            filesIncluded.addElement(name);", "-                        } else {", "-                            everythingIncluded = false;", "-                            filesDeselected.addElement(name);", "-                        }", "-                    } else {", "-                        everythingIncluded = false;", "-                        filesExcluded.addElement(name);", "-                    }", "+                    accountForIncludedFile(name, file);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d20e9bf8687af65ab575eed3791a0630", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/DirectoryScanner.java", "commitBeforeChange": "0c132498a8026db624c2fcf7026538c52e47b312", "commitAfterChange": "4004834c04e0eec8f0f698435b0c5983751fb593", "methodNumberBeforeChange": 30, "methodNumberAfterChange": 30, "signatureBeforeChange": "     private void accountForIncludedDir(String name, File file, boolean fast)", "signatureAfterChange": "     private void accountForIncludedDir(String name, File file, boolean fast)", "diff": ["-        if (!dirsIncluded.contains(name)", "-            && !dirsExcluded.contains(name)", "-            && !dirsDeselected.contains(name)) {", "-", "-            if (!isExcluded(name)) {", "-                if (isSelected(name, file)) {", "-                    dirsIncluded.addElement(name);", "-                    if (fast) {", "-                        scandir(file, name + File.separator, fast);", "-                    }", "-                } else {", "-                    everythingIncluded = false;", "-                    dirsDeselected.addElement(name);", "-                    if (fast && couldHoldIncluded(name)) {", "-                        scandir(file, name + File.separator, fast);", "-                    }", "-                }", "-", "-            } else {", "-                everythingIncluded = false;", "-                dirsExcluded.addElement(name);", "-                if (fast && couldHoldIncluded(name)) {", "-                    scandir(file, name + File.separator, fast);", "-                }", "-            }", "+        if (dirsIncluded.contains(name)", "+            || dirsExcluded.contains(name)", "+            || dirsDeselected.contains(name)) {", "+            return;", "+        }", "+        boolean included = false;", "+        if (isExcluded(name)) {", "+            dirsExcluded.addElement(name);", "+        } else if (isSelected(name, file)) {", "+            included = true;", "+            dirsIncluded.addElement(name);", "+        } else {", "+            dirsDeselected.addElement(name);", "+        }", "+        everythingIncluded &= included;", "+        if (fast && (included || couldHoldIncluded(name))) {", "+            scandir(file, name + File.separator, fast);"]}]}