{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "913ef07ce340f090b8c5ea21be2c575f", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "69540978831264c5c30a9f19fb3be8fa", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/mutant/src/java/start/org/apache/ant/start/Main.java", "commitBeforeChange": "242af536519aef1a43fdce2fdb383762fb5b6ccc", "commitAfterChange": "e16a4c7b1db880e29d37406177e983142302af57", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "     public void start(String frontend, String[] args)", "signatureAfterChange": "     public void start(String frontend, String defaultClass, String[] args)          throws InitException", "diff": ["-     */", "-    public void start(String frontend, String[] args) {", "-        try {", "-            InitConfig config = new InitConfig();", "-            URL frontendJar = new URL(config.getLibraryURL(), ", "+     */", "+    public void start(String frontend, String defaultClass, String[] args)", "+         throws InitException {", "+        try {             ", "+            InitConfig config = new InitConfig();", "+    ", "+            URL frontendJar = new URL(config.getLibraryURL(),", "-            ClassLoader frontEndLoader ", "-                = new URLClassLoader(frontendJars, config.getCoreLoader());", "-", "+            ClassLoader frontEndLoader", "+                 = new URLClassLoader(frontendJars, config.getCoreLoader());", "+    ", "-            String mainClass = getMainClass(frontendJar);", "-            System.out.println(\"Front end main class = \" + mainClass);", "-            if (mainClass == null) {", "-                mainClass = DEFAULT_COMMANDLINE_CLASS;", "+            if (frontendJar.getProtocol().equals(\"file\")) {", "+                File jarFile = new File(frontendJar.getFile());", "+                if (!jarFile.exists()) {", "+                    throw new InitException(\"Could not jar for frontend \\\"\" ", "+                        + frontend + \"\\\"\");", "+                }", "-            ", "+            String mainClass = getMainClass(frontendJar);", "+    ", "+            if (mainClass == null) {", "+                mainClass = defaultClass;", "+            }", "+    ", "+            if (mainClass == null) {", "+                throw new InitException(\"Unable to determine main class \"", "+                     + \" for \\\"\" + frontend + \"\\\" frontend\");", "+            }", "+    ", "-            Class commandLineClass = Class.forName(mainClass, true,", "+            Class frontendClass = Class.forName(mainClass, true,", "-", "+    ", "-                 = commandLineClass.getMethod(\"start\", param);", "+                 = frontendClass.getMethod(\"start\", param);", "+    ", "-            e.printStackTrace();", "+            throw new InitException(e);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9cccbe71fc773727032f9badc53c682a", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/mutant/src/java/start/org/apache/ant/start/Main.java", "commitBeforeChange": "752f49d5b18f9743f8e4a6dbdc8065d240d9c97a", "commitAfterChange": "da4e1a3aa99899d6aecc6d14c2a7498fa51647aa", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "     public void start(String frontend, String defaultClass, String[] args)          throws InitException", "signatureAfterChange": "     public void start(String frontendName, String[] args)          throws InitException", "diff": ["-    public void start(String frontend, String defaultClass, String[] args)", "+    public void start(String frontendName, String[] args)", "-            AntEnvironment config = new AntEnvironment(getClass());", "+            AntEnvironment antEnv = new AntEnvironment(getClass());", "-            URL frontendJar = new URL(config.getLibraryURL(),", "-                \"frontend/\" + frontend + \".jar\");", "+            URL frontendJar = new URL(antEnv.getLibraryURL(),", "+                \"frontend/\" + frontendName + \".jar\");", "-                 = new URLClassLoader(frontendJars, config.getCoreLoader());", "+                 = new URLClassLoader(frontendJars, antEnv.getCoreLoader());", "-                        + frontend + \"\\\" - expected at \" + frontendJar);", "+                        + frontendName + \"\\\" - expected at \" + frontendJar);", "-                mainClass = defaultClass;", "-            }", "-", "-            if (mainClass == null) {", "-                     + \" for \\\"\" + frontend + \"\\\" frontend\");", "+                     + \" for \\\"\" + frontendName + \"\\\" frontend\");", "-            final Class[] param = {Class.forName(\"[Ljava.lang.String;\"),", "-                AntEnvironment.class};", "-            final Method startMethod", "-                 = frontendClass.getMethod(\"start\", param);", "-            final Object[] argument = {args, config};", "-", "-            startMethod.invoke(null, argument);", "+            Frontend frontend = (Frontend) frontendClass.newInstance();", "+            frontend.start(args, antEnv);"]}]}