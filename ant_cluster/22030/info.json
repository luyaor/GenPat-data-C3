{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "94591e962aa9bf0245e791ea799be24b", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "92055a4fa553703aae9830cd9b6bb283", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Replace.java", "commitBeforeChange": "4b56e099f28c2e7d47cf2408b07f97e6ede696fa", "commitAfterChange": "f8f5fb01a4adbd7eabedad2c9e06fc5ce6c4525f", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "     private void processFile(File src) throws BuildException", "signatureAfterChange": "     private void processFile(File src) throws BuildException", "diff": ["-            int fileLength = (int)(src.length());", "-            char[] tmpBuf = new char[fileLength];", "-            int numread = 0;", "+            //   size of work buffer may be bigger than needed", "+            //   when multibyte characters exist in the source file", "+            int fileLengthInBytes = (int)(src.length());", "+            char[] tmpBuf = new char[fileLengthInBytes];", "+            int readChar = 0;", "-            while (numread != -1 && totread < fileLength) {", "-                numread = br.read(tmpBuf,totread,fileLength);", "-                totread += numread;", "+            while (true) {", "+                readChar = br.read();", "+                if (readChar < 0) { break; }", "+                tmpBuf[totread] = (char)readChar;", "+                totread++;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b911b985d47676cfeb157d4010634d6a", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/java/org/apache/aut/bzip2/CBZip2OutputStream.java", "commitBeforeChange": "93db46be115205107729104e728d45687d885295", "commitAfterChange": "20ab59bff57796a67e1cdfefbc29826c7d55edba", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 8, "signatureBeforeChange": "     public void write( int bv )         throws IOException", "signatureAfterChange": "     public void write( int bv )         throws IOException", "diff": ["-        if( currentChar != -1 )", "+        if( m_currentChar != -1 )", "-            if( currentChar == b )", "+            if( m_currentChar == b )", "-                runLength++;", "-                if( runLength > 254 )", "+                m_runLength++;", "+                if( m_runLength > 254 )", "-                    currentChar = -1;", "-                    runLength = 0;", "+                    m_currentChar = -1;", "+                    m_runLength = 0;", "-                runLength = 1;", "-                currentChar = b;", "+                m_runLength = 1;", "+                m_currentChar = b;", "-            currentChar = b;", "-            runLength++;", "+            m_currentChar = b;", "+            m_runLength++;"]}]}