{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0094d1508ecbf120e77acf9782e66aec", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1ee8ff282dd02c299da3011a4aae69ee", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/junit/AggregateTransformer.java", "commitBeforeChange": "37e1a669340af86ea163020ac3cec13cbd881b29", "commitAfterChange": "ce8272e144b8168b864015d2dd304410ebb236fc", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 13, "signatureBeforeChange": "     protected void createPackageOverview(Node root) throws SAXException", "signatureAfterChange": "     abstract void execute() throws Exception;", "diff": ["-     */", "-    protected void createPackageOverview(Node root) throws SAXException {", "-        transform(root,  OVERVIEW_PACKAGES + \".xsl\", OVERVIEW_PACKAGES + getExtension());", "-    }", "+    /** override to perform transformation */", "+    abstract void execute() throws Exception;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ad8edce3766b136840af01ee3afe7685", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/junit/AggregateTransformer.java", "commitBeforeChange": "37e1a669340af86ea163020ac3cec13cbd881b29", "commitAfterChange": "ce8272e144b8168b864015d2dd304410ebb236fc", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 16, "signatureBeforeChange": "     protected void createPackageDetails(Node root, String pkgname) throws SAXException", "signatureAfterChange": "     void execute() throws Exception", "diff": ["-     */", "-    protected void createPackageDetails(Node root, String pkgname) throws SAXException {", "-        String path = packageToPath(pkgname);", "-", "-        // apply style to get the list of the classes of this package and", "-        // display it in the classListFrame.", "-        transform(root, CLASSES_LIST + \".xsl\", path + CLASSES_LIST + getExtension());", "-", "-        // apply style to get a summary on this package.", "-        transform(root, PACKAGE_SUMMARY + \".xsl\", path + PACKAGE_SUMMARY + getExtension());", "-    }", "+class Xalan2Executor extends XalanExecutor {", "+    void execute() throws Exception {", "+        TransformerFactory tfactory = TransformerFactory.newInstance();", "+        String system_id = caller.getStylesheetSystemId();", "+        Source xsl_src = new StreamSource(system_id);", "+        Transformer tformer = tfactory.newTransformer(xsl_src);", "+        Source xml_src = new DOMSource(caller.document);", "+        OutputStream os = getOutputStream();", "+        tformer.setParameter(\"output.dir\", caller.toDir.getAbsolutePath());", "+        Result result = new StreamResult(os);", "+        tformer.transform(xml_src, result);", "+    }"]}]}