{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d188ad5b3c9068ce0ac64de2ea7f0a07", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "39a50813cc808a9f90f2a27f08f4349c", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/util/ResourceUtils.java", "commitBeforeChange": "50558dd274c428071d86fbc78ce5431ebb88935c", "commitAfterChange": "a4c986354481641bc4b9811854fefaf2fec7f86a", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 5, "signatureBeforeChange": "     public static ResourceCollection selectOutOfDateSources(ProjectComponent logTo,                                                             ResourceCollection source,                                                             FileNameMapper mapper,                                                             ResourceFactory targets,                                                             final long granularity)", "signatureAfterChange": "     public static ResourceCollection selectSources(ProjectComponent logTo,                                                    ResourceCollection source,                                                    FileNameMapper mapper,                                                    ResourceFactory targets,                                                    ResourceSelectorProvider selector)", "diff": ["+     */", "+    public static ResourceCollection selectSources(ProjectComponent logTo,", "+                                                   ResourceCollection source,", "+                                                   FileNameMapper mapper,", "+                                                   ResourceFactory targets,", "+                                                   ResourceSelectorProvider selector) {", "-        logFuture(logTo, source, granularity);", "-            r.add(new ResourceSelector() {", "-                public boolean isSelected(Resource target) {", "-                    /* Extra I/O, probably wasted:", "-                    if (target.isDirectory()) {", "-                        return false;", "-                    }", "-                     */", "-                    return SelectorUtils.isOutOfDate(sr, target, granularity);", "-                }", "-            });", "+            r.add(selector.getTargetSelectorForSource(sr));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3dae20ce7ffed8f37ce52f52ea8a9acb", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/util/ResourceUtils.java", "commitBeforeChange": "48c3492303350febdfc637a4c4a2e681f15f1867", "commitAfterChange": "cafa34ca0878175f8c8ab1bf7fcfaba70c2b1368", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 2, "signatureBeforeChange": "     public static ResourceCollection selectOutOfDateSources(ProjectComponent logTo,                                                             ResourceCollection source,                                                             FileNameMapper mapper,                                                             ResourceFactory targets,                                                             long granularity)", "signatureAfterChange": "     public static ResourceCollection selectOutOfDateSources(ProjectComponent logTo,                                                             ResourceCollection source,                                                             FileNameMapper mapper,                                                             ResourceFactory targets,                                                             final long granularity)", "diff": ["-                                                            long granularity) {", "+                                                            final long granularity) {", "-            Resource sr = (Resource) iter.next();", "+            final Resource sr = (Resource) iter.next();", "-            r.add(new And(new ResourceSelector[] {Type.FILE, new Or(", "-                new ResourceSelector[] {NOT_EXISTS, new Outdated(sr, granularity)})}));", "+            r.add(new ResourceSelector() {", "+                public boolean isSelected(Resource target) {", "+                    /* Extra I/O, probably wasted:", "+                    if (target.isDirectory()) {", "+                        return false;", "+                    }", "+                     */", "+                    return SelectorUtils.isOutOfDate(sr, target, granularity);", "+                }", "+            });"]}]}