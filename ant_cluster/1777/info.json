{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "90e696466e31a8c05b29356b828d14f2", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "50ed702d8089122ae738df2c149764af", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Exec.java", "commitBeforeChange": "0218e3ecae8397a700aae864601f963e5771a9a5", "commitAfterChange": "a037ae329b9fa9d94dde3fc7c4346ab77dddfdb9", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "      protected void run(String command) throws BuildException", "signatureAfterChange": "      protected void run(String command) throws BuildException", "diff": ["-            pipeOutput(proc.getInputStream(), \"exec\", fos);", "-            pipeOutput(proc.getErrorStream(), \"error\", fos);", "-            if (null != fos)", "-        \tfos.close();", "+            // copy input and error to the output stream", "+            StreamPumper inputPumper = ", "+                new StreamPumper(proc.getInputStream(), \"exec\", project, fos);", "+            StreamPumper errorPumper = ", "+                new StreamPumper(proc.getErrorStream(), \"error\", project, fos);", "+", "+            inputPumper.start();", "+            errorPumper.start();", "+", "+            // Wait for everything to finish", "-            ", "+            inputPumper.join();", "+            errorPumper.join();", "+            proc.destroy();", "+"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e652c5076aa57ea23179c45302ea3613", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Echo.java", "commitBeforeChange": "4716be40f9d7f028f626f7838f4c126d4e926998", "commitAfterChange": "f587706860d8dbeea5521a18041a7b7acdf4c1f7", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": "     public void execute() throws BuildException", "diff": ["-        if (file == null) {", "+        if (output == null) {", "-                String filename = file.getAbsolutePath();", "-                if (encoding == null || encoding.length() == 0) {", "-                    out = new FileWriter(filename, append);", "-                } else {", "-                    out = new BufferedWriter(", "-                            new OutputStreamWriter(", "-                                new FileOutputStream(filename, append), encoding));", "-                }", "+                OutputStream os = output instanceof FileProvider ? os = new FileOutputStream(", "+                        ((FileProvider) output).getFile(), append) : output.getOutputStream();", "+                OutputStreamWriter osw = (encoding == null || \"\".equals(encoding)) ? new OutputStreamWriter(", "+                        os)", "+                        : new OutputStreamWriter(os, encoding);", "+                out = new BufferedWriter(osw);"]}]}