{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "397c17f5862cde6b2ba6c4197279f6e1", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "00ccef39790011e2f5d494f5a654023c", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/testcases/org/apache/tools/ant/taskdefs/optional/sos/SOSTest.java", "commitBeforeChange": "d928ea97f2a6d49a8ceb9d130d2ef1a8e1440e79", "commitAfterChange": "04408cb596d6a5a0bc1261a75adaf46ebf9d644a", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "     public void testCheckinFileFlags()", "signatureAfterChange": "     public void testCheckinFileFlags()", "diff": ["-     */", "+    /**  Test CheckInFile option flags  */", "-        String[] sTestCmdLine = { \"soscmd\", \"-command\", \"CheckInFile\", \"-file\",", "-            SRC_FILE, \"-server\", SOS_SERVER_PATH, \"-name\", SOS_USERNAME,", "-            \"-password\", SOS_PASSWORD, \"-database\", VSS_SERVER_PATH, \"-project\",", "-            \"$\"+VSS_PROJECT_PATH, \"-verbose\", \"-nocompress\", \"-nocache\",", "-            \"-workdir\", project.getBaseDir().getAbsolutePath() + File.separator", "-\t\t\t+ LOCAL_PATH, \"-log\", SRC_COMMENT };", "-", "-        Path path = new Path(project, LOCAL_PATH);", "+        String[] sTestCmdLine = {\"soscmd\", \"-command\", \"CheckInFile\", \"-file\",", "+                SRC_FILE, \"-server\", SOS_SERVER_PATH, \"-name\", SOS_USERNAME,", "+                \"-password\", SOS_PASSWORD, \"-database\", VSS_SERVER_PATH, \"-project\",", "+                DS_VSS_PROJECT_PATH, \"-verbose\", \"-nocompress\", \"-nocache\",", "+                \"-workdir\", project.getBaseDir().getAbsolutePath() + File.separator", "+                 + LOCAL_PATH, \"-log\", SRC_COMMENT};", "+        SOSCheckin sosCheckin = new SOSCheckin();", "-        sosCheckin.setLocalPath(path);", "+        sosCheckin.setLocalPath(new Path(project, LOCAL_PATH));", "-        String[] sGeneratedCmdLine = commandline.getCommandline();", "-        int i = 0;", "-        while (i < sTestCmdLine.length) {", "-            try {", "-                assertEquals(\"CheckInFile arg # \" + String.valueOf(i),", "-                                sTestCmdLine[i],", "-                                sGeneratedCmdLine[i]);", "-                i++;", "-            } catch (ArrayIndexOutOfBoundsException aioob) {", "-                fail(\"CheckInFile missing arg\");", "-            }", "-", "-        }", "-        if (sGeneratedCmdLine.length > sTestCmdLine.length) {", "-            // We have extra elements", "-            fail(\"CheckInFile extra args\");", "-        }", "+        checkCommandLines(sTestCmdLine, commandline.getCommandline());"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d26834a20d910cb46b0d33d58d90592a", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/testcases/org/apache/tools/ant/taskdefs/optional/sos/SOSTest.java", "commitBeforeChange": "d928ea97f2a6d49a8ceb9d130d2ef1a8e1440e79", "commitAfterChange": "04408cb596d6a5a0bc1261a75adaf46ebf9d644a", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "     public void testGetFileFlags()", "signatureAfterChange": "     public void testGetFileFlags()", "diff": ["-     */", "+    /**  Test SOSGetFile flags & commandline generation  */", "-        String[] sTestCmdLine = { \"soscmd\", \"-command\", \"GetFile\", \"-file\",", "-            SRC_FILE, \"-revision\", \"007\", \"-server\", SOS_SERVER_PATH, \"-name\",", "-            SOS_USERNAME, \"-password\", SOS_PASSWORD, \"-database\", VSS_SERVER_PATH,", "-            \"-project\", \"$\"+VSS_PROJECT_PATH, \"-verbose\", \"-nocompress\",", "-            \"-nocache\", \"-workdir\", project.getBaseDir().getAbsolutePath()", "-\t\t\t+ File.separator + LOCAL_PATH };", "-", "-        Path path = new Path(project, LOCAL_PATH);", "+        String[] sTestCmdLine = {\"soscmd\", \"-command\", \"GetFile\", \"-file\",", "+                SRC_FILE, \"-revision\", \"007\", \"-server\", SOS_SERVER_PATH, \"-name\",", "+                SOS_USERNAME, \"-password\", SOS_PASSWORD, \"-database\", VSS_SERVER_PATH,", "+                \"-project\", DS_VSS_PROJECT_PATH, \"-verbose\", \"-nocompress\",", "+                \"-nocache\", \"-workdir\", project.getBaseDir().getAbsolutePath()", "+                 + File.separator + LOCAL_PATH};", "+        SOSGet sosGet = new SOSGet();", "-        sosGet.setLocalPath(path);", "+        sosGet.setLocalPath(new Path(project, LOCAL_PATH));", "-        String[] sGeneratedCmdLine = commandline.getCommandline();", "-        int i = 0;", "-        while (i < sTestCmdLine.length) {", "-            try {", "-                assertEquals(\"GetFile arg # \" + String.valueOf(i),", "-                                sTestCmdLine[i],", "-                                sGeneratedCmdLine[i]);", "-                i++;", "-            } catch (ArrayIndexOutOfBoundsException aioob) {", "-               fail(\"GetFile missing arg\");", "-            }", "-        }", "-        if (sGeneratedCmdLine.length > sTestCmdLine.length) {", "-            // We have extra elements", "-            fail(\"GetFile extra args\");", "-        }", "+        checkCommandLines(sTestCmdLine, commandline.getCommandline());"]}]}