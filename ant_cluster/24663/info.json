{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9a4f5972ba373906db139d95583fb8d6", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1460b49472d7bfe95116366d4a0284ca", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Expand.java", "commitBeforeChange": "df7dfba9d33a5a7e5615b3c2dc391026f36dc947", "commitAfterChange": "a7cf25e509e0ed7f69661e3fc7b3becf4a185c0b", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "     protected void expandFile(FileUtils fileUtils, File srcF, File dir)", "signatureAfterChange": "     protected void expandFile(FileUtils fileUtils, File srcF, File dir)", "diff": ["-                extractFile(fileUtils, srcF, dir, zf.getInputStream(ze),", "-                            ze.getName(), new Date(ze.getTime()),", "-                            ze.isDirectory(), mapper);", "+                InputStream is = null;", "+                try {", "+                    extractFile(fileUtils, srcF, dir,", "+                                is = zf.getInputStream(ze),", "+                                ze.getName(), new Date(ze.getTime()),", "+                                ze.isDirectory(), mapper);", "+                } finally {", "+                    FileUtils.close(is);", "+                }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dbed6476c71f2bbf77d49bccec2913fe", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Zip.java", "commitBeforeChange": "7259f731ecfcdffcf20fdffe8b933b26347150a2", "commitAfterChange": "7627a966ee4283bebb43ff4f0b6eeb84236a6019", "methodNumberBeforeChange": 28, "methodNumberAfterChange": 28, "signatureBeforeChange": "     protected final void addResources(FileSet fileset, Resource[] resources,                                       ZipOutputStream zOut)         throws IOException", "signatureAfterChange": "     protected final void addResources(FileSet fileset, Resource[] resources,                                       ZipOutputStream zOut)         throws IOException", "diff": ["+                        InputStream is = null;", "-                            zipFile(zf.getInputStream(ze), zOut, prefix + name,", "+                            is = zf.getInputStream(ze);", "+                            zipFile(is, zOut, prefix + name,", "+                            FileUtils.close(is);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "eaaef7f9fa55116620a223fa4229354a", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Jar.java", "commitBeforeChange": "6a67c09afc7a13e47b43334358e7287abe2af2b3", "commitAfterChange": "8aaa005834f2ab61dd187115ca3c922517f2b850", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 17, "signatureBeforeChange": "     private void writeServices(ZipOutputStream zOut) throws IOException", "signatureAfterChange": "     private void writeServices(ZipOutputStream zOut) throws IOException", "diff": ["-           //stolen from writeManifest", "-           super.zipFile(service.getAsStream(), zOut,", "-                         \"META-INF/services/\" + service.getType(),", "-                         System.currentTimeMillis(), null,", "-                         ZipFileSet.DEFAULT_FILE_MODE);", "+", "+           InputStream is = null;", "+           try {", "+               is = service.getAsStream();", "+               //stolen from writeManifest", "+               super.zipFile(is, zOut,", "+                             \"META-INF/services/\" + service.getType(),", "+                             System.currentTimeMillis(), null,", "+                             ZipFileSet.DEFAULT_FILE_MODE);", "+           } finally {", "+               // technically this is unnecessary since", "+               // Service.getAsStream returns a ByteArrayInputStream", "+               // and not closing it wouldn't do any harm.", "+               FileUtils.close(is);", "+           }"]}]}