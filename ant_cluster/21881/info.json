{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "033b667e44eb80501601159db51887ec", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0237c8fed85c93e29a92bcec310060fd", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/Main.java", "commitBeforeChange": "4673e840dc3e0165a26bab65641bdd96a80a8a39", "commitAfterChange": "b02f11df78369665a4b7f0d47ba7851fce6b9a36", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 1, "signatureBeforeChange": "     public static void main(String[] args)", "signatureAfterChange": "     public static void main(String[] args)", "diff": ["+        Main m = null;", "+", "-            new Main(args).runBuild();", "-            System.exit(0);", "+            m = new Main(args);", "+        } catch(Throwable exc) {", "+            printMessage(exc);", "+            System.exit(1);", "-        catch(Throwable exc) {", "-            String message = exc.getMessage();", "-            if (message != null) {", "-                System.err.println(message);", "+", "+        try {", "+            m.runBuild();", "+            System.exit(0);", "+        } catch (BuildException be) {", "+            if (m.err != System.err) {", "+                printMessage(be);", "+        } catch(Throwable exc) {", "+            printMessage(exc);", "+            System.exit(1);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "159da8c6267f6651bf4599eefa8331e0", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/Main.java", "commitBeforeChange": "3742a036cb052bd971bd117738230ecfbdcbf7bb", "commitAfterChange": "41893fdb3052f79a2d09d7f8a86711912fc429e6", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "     private void runBuild(ClassLoader coreLoader) throws BuildException", "signatureAfterChange": "     private void runBuild(ClassLoader coreLoader) throws BuildException", "diff": ["-            SecurityManager oldsm = System.getSecurityManager();", "+            // use a system manager that prevents from System.exit()", "+            // only in JDK > 1.1", "+            SecurityManager oldsm = null;", "+            if ( !Project.JAVA_1_0.equals(Project.getJavaVersion()) &&", "+                !Project.JAVA_1_1.equals(Project.getJavaVersion()) ){", "+                oldsm = System.getSecurityManager();", "+                System.setSecurityManager(new NoExitSecurityManager());", "+            }", "+                // put back the original security manager", "+                if (oldsm != null){", "+                    System.setSecurityManager(oldsm);", "+                }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dcf3bc0233fad330ff14ec3dbe753945", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/Main.java", "commitBeforeChange": "782bc2133231a9aa7556b334d33215e3d2b73230", "commitAfterChange": "cbeaa439d90c72eca250cebb5ceefb80ce499c49", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "     private void runBuild(ClassLoader coreLoader) throws BuildException", "signatureAfterChange": "     private void runBuild(ClassLoader coreLoader) throws BuildException", "diff": ["-            PrintStream err = System.err;", "-            PrintStream out = System.out;", "-            InputStream in = System.in;", "+            PrintStream savedErr = System.err;", "+            PrintStream savedOut = System.out;", "+            InputStream savedIn = System.in;", "-                System.setOut(out);", "-                System.setErr(err);", "-                System.setIn(in);", "+                System.setOut(savedOut);", "+                System.setErr(savedErr);", "+                System.setIn(savedIn);", "-        } catch (Error err) {", "-            error = err;", "-            throw err;", "+        } catch (Error e) {", "+            error = e;", "+            throw e;"]}]}