{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0fafd4c96f8991fa42c85cca1a8eea9d", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "357a7207b7ab7b138af35f22a357422c", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/zip/ZipOutputStream.java", "commitBeforeChange": "6cd0de1022faed419783119405f458e44a1ac663", "commitAfterChange": "f21a51dfd3ecb9fa8813f5612a5f87d437de2450", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 21, "signatureBeforeChange": "     protected void writeCentralFileHeader(ZipEntry ze) throws IOException", "signatureAfterChange": "     protected void writeCentralFileHeader(ZipEntry ze) throws IOException", "diff": ["-        writeVersionNeededToExtractAndGeneralPurposeBits(zipMethod);", "+        final boolean encodable = zipEncoding.canEncode(ze.getName());", "+        writeVersionNeededToExtractAndGeneralPurposeBits(zipMethod,", "+                                                         !encodable", "+                                                         && fallbackToUTF8);", "-        ByteBuffer name = this.zipEncoding.encode(ze.getName());", "+        ByteBuffer name;", "+        if (!encodable && fallbackToUTF8) {", "+            name = ZipEncodingHelper.UTF8_ZIP_ENCODING.encode(ze.getName());", "+        } else {", "+            name = zipEncoding.encode(ze.getName());", "+        }", "-        ByteBuffer commentB = this.zipEncoding.encode(comm);", "+        ByteBuffer commentB;", "+        if (!encodable && fallbackToUTF8) {", "+            commentB = ZipEncodingHelper.UTF8_ZIP_ENCODING.encode(comm);", "+        } else {", "+            commentB = zipEncoding.encode(comm);", "+        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9ecc45571aa5c7856f5342cc70619b14", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/zip/ZipFile.java", "commitBeforeChange": "cbd20a77eba224b21654251583971e054729f006", "commitAfterChange": "752d64fa43db2172327771ba4d36bee3f2d3b49a", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "     private Map populateFromCentralDirectory()         throws IOException", "signatureAfterChange": "     private Map populateFromCentralDirectory()         throws IOException", "diff": ["-            final String entryEncoding =", "-                hasEFS ? ZipOutputStream.UTF8 : encoding;", "+            final ZipEncoding entryEncoding =", "+                hasEFS ? ZipEncodingHelper.UTF8_ZIP_ENCODING : zipEncoding;", "-            ze.setName(getString(fileName, entryEncoding));", "+            ze.setName(entryEncoding.decode(fileName));", "-            ze.setComment(getString(comment, entryEncoding));", "+            ze.setComment(entryEncoding.decode(comment));"]}]}