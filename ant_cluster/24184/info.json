{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b93c192f0b27174a25d779858aac3c30", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "13d09ee883b56d7841cf1cf8022fa48d", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/java/org/apache/myrmidon/framework/Os.java", "commitBeforeChange": "cd665638abaaeff880039ff2731200955f821263", "commitAfterChange": "3d047699404c1932b6190dc6318d951a497f4aa7", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "     private static boolean isOs( final String family,                                  final String name,                                  final String arch,                                  final String version )", "signatureAfterChange": "     private static boolean isOs( final String family,                                  final String name,                                  final String arch,                                  final String version )", "diff": ["-        boolean retValue = false;", "-", "-            boolean isFamily = true;", "-            boolean isName = true;", "-            boolean isArch = true;", "-            boolean isVersion = true;", "+            final boolean isFamily = familyMatches( family );", "+            final boolean isName = nameMatches( name );", "+            final boolean isArch = archMatches( arch );", "+            final boolean isVersion = versionMatches( version );", "-            if( family != null )", "-            {", "-                if( family.equals( \"windows\" ) )", "-                {", "-                    isFamily = m_osName.indexOf( \"windows\" ) > -1;", "-                }", "-                else if( family.equals( \"os/2\" ) )", "-                {", "-                    isFamily = m_osName.indexOf( \"os/2\" ) > -1;", "-                }", "-                else if( family.equals( \"netware\" ) )", "-                {", "-                    isFamily = m_osName.indexOf( \"netware\" ) > -1;", "-                }", "-                else if( family.equals( \"dos\" ) )", "-                {", "-                    isFamily = m_pathSep.equals( \";\" ) && !isFamily( \"netware\" );", "-                }", "-                else if( family.equals( \"mac\" ) )", "-                {", "-                    isFamily = m_osName.indexOf( \"mac\" ) > -1;", "-                }", "-                else if( family.equals( \"unix\" ) )", "-                {", "-                    isFamily = m_pathSep.equals( \":\" ) &&", "-                        ( !isFamily( \"mac\" ) || m_osName.endsWith( \"x\" ) );", "-                }", "-                else", "-                {", "-                    final String message = REZ.getString( \"unknown-os-family\", family );", "-                    throw new IllegalArgumentException( message );", "-                }", "-            }", "-", "-            if( name != null )", "-            {", "-                isName = name.equals( m_osName );", "-            }", "-", "-            if( arch != null )", "-            {", "-                isArch = arch.equals( m_osArch );", "-            }", "-", "-            if( version != null )", "-            {", "-                isVersion = version.equals( m_osVersion );", "-            }", "-", "-            retValue = isFamily && isName && isArch && isVersion;", "+            return isFamily && isName && isArch && isVersion;", "-        return retValue;", "+        else", "+        {", "+            return false;", "+        }", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ebae0328e6233a06c961b30cd4faaf3a", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/condition/Os.java", "commitBeforeChange": "89847cdf7d0bfd13dc1431e1e7128ea587550c4b", "commitAfterChange": "a643eaf19bd0fdb7640e07ae1c1e44e537ae2e66", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "     public static boolean isOs(String family, String name, String arch,                                String version)", "signatureAfterChange": "     public static boolean isOs(String family, String name, String arch,                                String version)", "diff": ["-                    isFamily = osName.indexOf(\"windows\") > -1;", "+                    isFamily = OS_NAME.indexOf(\"windows\") > -1;", "-                    isFamily = osName.indexOf(\"os/2\") > -1;", "+                    isFamily = OS_NAME.indexOf(\"os/2\") > -1;", "-                    isFamily = osName.indexOf(\"netware\") > -1;", "+                    isFamily = OS_NAME.indexOf(\"netware\") > -1;", "-                    isFamily = pathSep.equals(\";\") && !isFamily(\"netware\");", "+                    isFamily = PATH_SEP.equals(\";\") && !isFamily(\"netware\");", "-                    isFamily = osName.indexOf(\"mac\") > -1;", "+                    isFamily = OS_NAME.indexOf(\"mac\") > -1;", "-                    isFamily = osName.indexOf(\"nonstop_kernel\") > -1;", "+                    isFamily = OS_NAME.indexOf(\"nonstop_kernel\") > -1;", "-                    isFamily = pathSep.equals(\":\")", "+                    isFamily = PATH_SEP.equals(\":\")", "-                        && (!isFamily(\"mac\") || osName.endsWith(\"x\"));", "+                        && (!isFamily(\"mac\") || OS_NAME.endsWith(\"x\"));", "-                        && (osName.indexOf(\"95\") >= 0", "-                            || osName.indexOf(\"98\") >= 0", "-                            || osName.indexOf(\"me\") >= 0", "-                            || osName.indexOf(\"ce\") >= 0);", "+                        && (OS_NAME.indexOf(\"95\") >= 0", "+                            || OS_NAME.indexOf(\"98\") >= 0", "+                            || OS_NAME.indexOf(\"me\") >= 0", "+                            || OS_NAME.indexOf(\"ce\") >= 0);", "-                    isFamily = osName.indexOf(\"z/os\") > -1", "-                        || osName.indexOf(\"os/390\") > -1;", "+                    isFamily = OS_NAME.indexOf(\"z/os\") > -1", "+                        || OS_NAME.indexOf(\"os/390\") > -1;", "-                    isFamily = osName.indexOf(\"os/400\") > -1;", "+                    isFamily = OS_NAME.indexOf(\"os/400\") > -1;", "-                    isFamily = osName.indexOf(\"openvms\") > -1;", "+                    isFamily = OS_NAME.indexOf(\"openvms\") > -1;", "-                isName = name.equals(osName);", "+                isName = name.equals(OS_NAME);", "-                isArch = arch.equals(osArch);", "+                isArch = arch.equals(OS_ARCH);", "-                isVersion = version.equals(osVersion);", "+                isVersion = version.equals(OS_VERSION);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f712fc7e9bac49115da2f018294293e8", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/java/org/apache/aut/nativelib/Os.java", "commitBeforeChange": "d03eda1c3aaa0eacdacd83236bf21a9b9d81cd62", "commitAfterChange": "b6ed0b49348d6e8f820f4e5590bd71782c111976", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 12, "signatureBeforeChange": "      private static boolean familyMatches( final String family )", "signatureAfterChange": "      private static boolean familyMatches( final OsFamily family )", "diff": ["-    private static boolean familyMatches( final String family )", "+    private static boolean familyMatches( final OsFamily family )", "-        boolean isFamily = true;", "-        if( family != null )", "+        if( family == null )", "-            if( family.equals( \"windows\" ) )", "+            return false;", "+        }", "+        for( int i = 0; i < OS_ALL_FAMILIES.length; i++ )", "+        {", "+            final OsFamily osFamily = OS_ALL_FAMILIES[ i ];", "+            if( family == osFamily )", "-                isFamily = OS_NAME.indexOf( \"windows\" ) > -1;", "-            }", "-            else if( family.equals( \"os/2\" ) )", "-            {", "-                isFamily = OS_NAME.indexOf( \"os/2\" ) > -1;", "-            }", "-            else if( family.equals( \"netware\" ) )", "-            {", "-                isFamily = OS_NAME.indexOf( \"netware\" ) > -1;", "-            }", "-            else if( family.equals( \"dos\" ) )", "-            {", "-                isFamily = PATH_SEP.equals( \";\" ) && !isFamily( \"netware\" );", "-            }", "-            else if( family.equals( \"mac\" ) )", "-            {", "-                isFamily = OS_NAME.indexOf( \"mac\" ) > -1;", "-            }", "-            else if( family.equals( \"unix\" ) )", "-            {", "-                isFamily = PATH_SEP.equals( \":\" ) &&", "-                    ( !isFamily( \"mac\" ) || OS_NAME.endsWith( \"x\" ) );", "-            }", "-            else", "-            {", "-                final String message = REZ.getString( \"unknown-os-family\", family );", "-                throw new IllegalArgumentException( message );", "+                return true;", "-        return isFamily;", "+        return false;"]}]}