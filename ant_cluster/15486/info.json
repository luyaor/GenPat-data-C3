{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "625da7a7bdce5d008bab5ecfde3159ea", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "139d9b835229441fe80bd322a3304e11", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Move.java", "commitBeforeChange": "c717727548e7807ced7eeff05871f414a6f57413", "commitAfterChange": "3a896be7fdf1beb063702928ae89b4f7cbe106c2", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "     protected void doFileOperations()", "signatureAfterChange": "     protected void doFileOperations()", "diff": ["-            Enumeration e = completeDirMap.keys();", "-            while (e.hasMoreElements()) {", "-                File fromDir = (File) e.nextElement();", "+            for (Iterator fromDirs = completeDirMap.keySet().iterator(); fromDirs.hasNext();) {", "+                File fromDir = (File) fromDirs.next();", "-                    log(\"Attempting to rename dir: \" + fromDir", "-                        + \" to \" + toDir, verbosity);", "-                    renamed =", "-                        renameFile(fromDir, toDir, filtering, forceOverwrite);", "+                    log(\"Attempting to rename dir: \" + fromDir + \" to \" + toDir, verbosity);", "+                    renamed = renameFile(fromDir, toDir, filtering, forceOverwrite);", "-                        + \" to \" + toDir", "-                        + \" due to \" + ioe.getMessage();", "+                            + \" to \" + toDir + \" due to \" + ioe.getMessage();", "-            log(\"Moving \" + moveCount + \" file\"", "-                + ((moveCount == 1) ? \"\" : \"s\")", "-                + \" to \" + destDir.getAbsolutePath());", "+            log(\"Moving \" + moveCount + \" file\" + ((moveCount == 1) ? \"\" : \"s\")", "+                    + \" to \" + destDir.getAbsolutePath());", "-            Enumeration e = fileCopyMap.keys();", "-            while (e.hasMoreElements()) {", "-                String fromFile = (String) e.nextElement();", "-", "+            for (Iterator fromFiles = fileCopyMap.keySet().iterator(); fromFiles.hasNext();) {", "+                String fromFile = (String) fromFiles.next();", "-            Enumeration e = dirCopyMap.keys();", "-            while (e.hasMoreElements()) {", "-                String fromDirName = (String) e.nextElement();", "+            for (Iterator fromDirNames = dirCopyMap.keySet().iterator(); fromDirNames.hasNext();) {", "+                String fromDirName = (String) fromDirNames.next();", "-", "-", "-                                + d.getAbsolutePath(), Project.MSG_ERR);", "+                                    + d.getAbsolutePath(), Project.MSG_ERR);", "-", "-", "-", "-                    + \" empty director\"", "-                    + (dirCopyMap.size() == 1 ? \"y\" : \"ies\")", "-                    + \" to \" + createCount", "-                    + \" empty director\"", "-                    + (createCount == 1 ? \"y\" : \"ies\") + \" under \"", "-                    + destDir.getAbsolutePath());", "+                        + \" empty director\"", "+                        + (dirCopyMap.size() == 1 ? \"y\" : \"ies\")", "+                        + \" to \" + createCount", "+                        + \" empty director\"", "+                        + (createCount == 1 ? \"y\" : \"ies\") + \" under \"", "+                        + destDir.getAbsolutePath());"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2a236910a75e380ab9d52c559c54385c", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Property.java", "commitBeforeChange": "c6753edecbdf78d519c1265040a581c6417d6210", "commitAfterChange": "910c937723c4710cb1309c939dbcd4b8c3e8b6ce", "methodNumberBeforeChange": 31, "methodNumberAfterChange": 36, "signatureBeforeChange": "     protected void addProperties(Properties props)", "signatureAfterChange": "     protected void addProperties(Properties props)", "diff": ["-        resolveAllProperties(props);", "-        Enumeration e = props.keys();", "-        while (e.hasMoreElements()) {", "-            String propertyName = (String) e.nextElement();", "-            String propertyValue = props.getProperty(propertyName);", "-", "-            String v = getProject().replaceProperties(propertyValue);", "-", "-            if (prefix != null) {", "-                propertyName = prefix + propertyName;", "+        HashMap m = new HashMap(props);", "+        resolveAllProperties(m);", "+        for (Iterator it = m.keySet().iterator(); it.hasNext();) {", "+            Object k = it.next();", "+            if (k instanceof String) {", "+                String propertyName = (String) k;", "+                if (prefix != null) {", "+                    propertyName = prefix + propertyName;", "+                }", "+                addProperty(propertyName, m.get(k));", "-", "-            addProperty(propertyName, v);"]}]}