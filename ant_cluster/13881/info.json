{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "98935fb3170881cd203fe40fe5ae08ea", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "35c88076e09c72b373c74953ef124f43", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/zip/ZipEntry.java", "commitBeforeChange": "4cbbf3629a15a78615a3ce63ffe6f3fc028b172d", "commitAfterChange": "2c04d7e833b4e5dab1a3c5ddfe14b572aea8c112", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 26, "signatureBeforeChange": "     public void addExtraField(final ZipExtraField ze)", "signatureAfterChange": "     public void addExtraField(final ZipExtraField ze)", "diff": ["-                extraFields = new LinkedHashMap<ZipShort, ZipExtraField>();", "+                extraFields = new ZipExtraField[] {ze};", "+            } else {", "+                if (getExtraField(ze.getHeaderId()) !=  null){", "+                    removeExtraField(ze.getHeaderId());", "+                }", "+                final ZipExtraField[] zipExtraFields =", "+                    Arrays.copyOf(extraFields, extraFields.length + 1);", "+                zipExtraFields[extraFields.length] = ze;", "+                extraFields = zipExtraFields;", "-            extraFields.put(ze.getHeaderId(), ze);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6a17499580cc2800bca72a88fd3364f4", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/zip/ZipEntry.java", "commitBeforeChange": "4cbbf3629a15a78615a3ce63ffe6f3fc028b172d", "commitAfterChange": "2c04d7e833b4e5dab1a3c5ddfe14b572aea8c112", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 27, "signatureBeforeChange": "     public void addAsFirstExtraField(final ZipExtraField ze)", "signatureAfterChange": "     public void addAsFirstExtraField(final ZipExtraField ze)", "diff": ["-            final LinkedHashMap<ZipShort, ZipExtraField> copy = extraFields;", "-            extraFields = new LinkedHashMap<ZipShort, ZipExtraField>();", "-            extraFields.put(ze.getHeaderId(), ze);", "-            if (copy != null) {", "-                copy.remove(ze.getHeaderId());", "-                extraFields.putAll(copy);", "+            if (getExtraField(ze.getHeaderId()) != null){", "+                removeExtraField(ze.getHeaderId());", "+            }", "+            ZipExtraField[] copy = extraFields;", "+            int newLen = extraFields != null ? extraFields.length + 1: 1;", "+            extraFields = new ZipExtraField[newLen];", "+            extraFields[0] = ze;", "+            if (copy != null){", "+                System.arraycopy(copy, 0, extraFields, 1, extraFields.length - 1);"]}]}