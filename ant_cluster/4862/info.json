{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "7770316f945f0f13cfce053df584039e", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3a77f9f15c55776debd8db6772394db0", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Manifest.java", "commitBeforeChange": "8ceff1b470d117265bbe4dd7d982e448c213bb4f", "commitAfterChange": "c35619ac8a554bebec2008a08b8084993b3837f1", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "         public void merge(Section section) throws ManifestException", "signatureAfterChange": "         public void merge(Section section) throws ManifestException", "diff": ["-                // the merge file always wins", "-                attributes.put(attributeName, section.attributes.get(attributeName));", "+                if (attributeName.equals(ATTRIBUTE_CLASSPATH) && ", "+                        attributes.containsKey(attributeName)) {", "+                    // classpath entries are vetors which are merged", "+                    Vector classpathAttrs = (Vector)section.attributes.get(attributeName);", "+                    Vector ourClasspathAttrs = (Vector)attributes.get(attributeName);", "+                    for (Enumeration e2 = classpathAttrs.elements(); e2.hasMoreElements();) {", "+                        ourClasspathAttrs.addElement(e2.nextElement());", "+                    }", "+                }", "+                else {        ", "+                    // the merge file always wins", "+                    attributes.put(attributeName, section.attributes.get(attributeName));", "+                }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6559f4326c6d6f1b04eda942421d6060", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Manifest.java", "commitBeforeChange": "bb05312e66a2403d2405988dbaf0830cde65df7c", "commitAfterChange": "da5f3bfd256e383926c6ece58dba15a7d4bd5761", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 21, "signatureBeforeChange": "         public void merge(Section section, boolean mergeClassPaths)             throws ManifestException", "signatureAfterChange": "         public void merge(Section section, boolean mergeClassPaths)             throws ManifestException", "diff": ["-            Enumeration e = section.getAttributeKeys();", "+            Enumeration<String> e = section.getAttributeKeys();", "-                String attributeName = (String) e.nextElement();", "+                String attributeName = e.nextElement();", "-                    Enumeration cpe = attribute.getValues();", "+                    Enumeration<String> cpe = attribute.getValues();", "-                        String value = (String) cpe.nextElement();", "+                        String value = cpe.nextElement();", "-                        for (Enumeration attribEnum = currentCp.getValues();", "+                        for (Enumeration<String> attribEnum = currentCp.getValues();", "-                            String value = (String) attribEnum.nextElement();", "+                            String value = attribEnum.nextElement();", "-            Enumeration warnEnum = section.warnings.elements();", "+            Enumeration<String> warnEnum = section.warnings.elements();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6a9b21ada0c5da2f023eb515520c8265", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Manifest.java", "commitBeforeChange": "299ea801bc1031e308bfe07a22e51edd1b972872", "commitAfterChange": "eca5133693881d72fbd157619b03647e7e255789", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 20, "signatureBeforeChange": "         public void write(PrintWriter writer) throws IOException", "signatureAfterChange": "         public void write(PrintWriter writer) throws IOException", "diff": ["-            for (Enumeration e = attributes.elements(); e.hasMoreElements();) {", "-                Object object = e.nextElement();", "-                if (object instanceof Attribute) {", "-                    Attribute attribute = (Attribute)object;", "-                    attribute.write(writer);", "-                }", "-                else {", "-                    Vector attrList = (Vector)object;", "-                    for (Enumeration e2 = attrList.elements(); e2.hasMoreElements();) {", "-                        Attribute attribute = (Attribute)e2.nextElement();", "-                        attribute.write(writer);", "-                    }", "-                }", "+            Enumeration e = getAttributeKeys();", "+            while (e.hasMoreElements()) {", "+                String key = (String)e.nextElement();", "+                Attribute attribute = getAttribute(key);", "+                attribute.write(writer);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "be5d4a9439d5c25933f740b35afbdf00", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Manifest.java", "commitBeforeChange": "b3daf333da19cbbea2de9fafefdc14c1f4c8e886", "commitAfterChange": "3341571e8e6ebbcd9a5e89f78f15eb01da9936ab", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 19, "signatureBeforeChange": "         public void merge(Section section) throws ManifestException", "signatureAfterChange": "         public void merge(Section section) throws ManifestException", "diff": ["+            Attribute classpathAttribute = null;", "-                if (attributeName.equals(ATTRIBUTE_CLASSPATH) &&", "-                        attributes.containsKey(attributeName)) {", "-                    Attribute ourClassPath = getAttribute(attributeName);", "+                if (attributeName.equals(ATTRIBUTE_CLASSPATH)) {", "+                    if (classpathAttribute == null) {", "+                        classpathAttribute = new Attribute();", "+                        classpathAttribute.setName(ATTRIBUTE_CLASSPATH);", "+                    }", "-                        ourClassPath.addValue(value);", "+                        classpathAttribute.addValue(value);", "+            if (classpathAttribute != null) {", "+                // the merge file *always* wins, even for Class-Path", "+                storeAttribute(classpathAttribute);", "+            }", "+"]}]}