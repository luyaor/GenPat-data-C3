{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0f45e734884f5f376f909c0b0dedeb0b", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2125e6762e339496996fa6d9703a87b7", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/tar/TarEntry.java", "commitBeforeChange": "b43f4224d8fe9d1e7d628e88df394a7dfed46d1b", "commitAfterChange": "2e5b53fa106b848646493cb6f6ea74616973aca0", "methodNumberBeforeChange": 34, "methodNumberAfterChange": 53, "signatureBeforeChange": "     public void writeEntryHeader(byte[] outbuf)", "signatureAfterChange": "     public void writeEntryHeader(byte[] outbuf, ZipEncoding encoding,                                  boolean starMode) throws IOException", "diff": ["+     */", "+    public void writeEntryHeader(byte[] outbuf, ZipEncoding encoding,", "+                                 boolean starMode) throws IOException {", "-        offset = TarUtils.getNameBytes(name, outbuf, offset, NAMELEN);", "-        offset = TarUtils.getOctalBytes(mode, outbuf, offset, MODELEN);", "-        offset = TarUtils.getOctalBytes(userId, outbuf, offset, UIDLEN);", "-        offset = TarUtils.getOctalBytes(groupId, outbuf, offset, GIDLEN);", "-        offset = TarUtils.getLongOctalBytes(size, outbuf, offset, SIZELEN);", "-        offset = TarUtils.getLongOctalBytes(modTime, outbuf, offset, MODTIMELEN);", "+        offset = TarUtils.formatNameBytes(name, outbuf, offset, NAMELEN,", "+                                          encoding);", "+        offset = writeEntryHeaderField(mode, outbuf, offset, MODELEN, starMode);", "+        offset = writeEntryHeaderField(userId, outbuf, offset, UIDLEN,", "+                                       starMode);", "+        offset = writeEntryHeaderField(groupId, outbuf, offset, GIDLEN,", "+                                       starMode);", "+        offset = writeEntryHeaderField(size, outbuf, offset, SIZELEN, starMode);", "+        offset = writeEntryHeaderField(modTime, outbuf, offset, MODTIMELEN,", "+                                       starMode);", "-        offset = TarUtils.getNameBytes(linkName, outbuf, offset, NAMELEN);", "-        offset = TarUtils.getNameBytes(magic, outbuf, offset, MAGICLEN);", "-        offset = TarUtils.getNameBytes(userName, outbuf, offset, UNAMELEN);", "-        offset = TarUtils.getNameBytes(groupName, outbuf, offset, GNAMELEN);", "-        offset = TarUtils.getOctalBytes(devMajor, outbuf, offset, DEVLEN);", "-        offset = TarUtils.getOctalBytes(devMinor, outbuf, offset, DEVLEN);", "+        offset = TarUtils.formatNameBytes(linkName, outbuf, offset, NAMELEN,", "+                                          encoding);", "+        offset = TarUtils.formatNameBytes(magic, outbuf, offset, PURE_MAGICLEN);", "+        offset = TarUtils.formatNameBytes(version, outbuf, offset, VERSIONLEN);", "+        offset = TarUtils.formatNameBytes(userName, outbuf, offset, UNAMELEN,", "+                                          encoding);", "+        offset = TarUtils.formatNameBytes(groupName, outbuf, offset, GNAMELEN,", "+                                          encoding);", "+        offset = writeEntryHeaderField(devMajor, outbuf, offset, DEVLEN,", "+                                       starMode);", "+        offset = writeEntryHeaderField(devMinor, outbuf, offset, DEVLEN,", "+                                       starMode);", "-        TarUtils.getCheckSumOctalBytes(chk, outbuf, csOffset, CHKSUMLEN);", "+        TarUtils.formatCheckSumOctalBytes(chk, outbuf, csOffset, CHKSUMLEN);", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6c36476b697b19ac26eaca59c7f1569c", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/tar/TarEntry.java", "commitBeforeChange": "0bde74aa3647adabb6ab7ffdf25dcf5ac438b971", "commitAfterChange": "23bbf085727756cfbad92aaa345e10c7370d3486", "methodNumberBeforeChange": 33, "methodNumberAfterChange": 33, "signatureBeforeChange": "     public void writeEntryHeader(byte[] outbuf)", "signatureAfterChange": "     public void writeEntryHeader(byte[] outbuf)", "diff": ["-        offset = TarUtils.getNameBytes(this.name, outbuf, offset, NAMELEN);", "-        offset = TarUtils.getOctalBytes(this.mode, outbuf, offset, MODELEN);", "-        offset = TarUtils.getOctalBytes(this.userId, outbuf, offset, UIDLEN);", "-        offset = TarUtils.getOctalBytes(this.groupId, outbuf, offset, GIDLEN);", "-        offset = TarUtils.getLongOctalBytes(this.size, outbuf, offset, SIZELEN);", "-        offset = TarUtils.getLongOctalBytes(this.modTime, outbuf, offset, MODTIMELEN);", "+        offset = TarUtils.getNameBytes(name, outbuf, offset, NAMELEN);", "+        offset = TarUtils.getOctalBytes(mode, outbuf, offset, MODELEN);", "+        offset = TarUtils.getOctalBytes(userId, outbuf, offset, UIDLEN);", "+        offset = TarUtils.getOctalBytes(groupId, outbuf, offset, GIDLEN);", "+        offset = TarUtils.getLongOctalBytes(size, outbuf, offset, SIZELEN);", "+        offset = TarUtils.getLongOctalBytes(modTime, outbuf, offset, MODTIMELEN);", "-        outbuf[offset++] = this.linkFlag;", "-        offset = TarUtils.getNameBytes(this.linkName, outbuf, offset, NAMELEN);", "-        offset = TarUtils.getNameBytes(this.magic, outbuf, offset, MAGICLEN);", "-        offset = TarUtils.getNameBytes(this.userName, outbuf, offset, UNAMELEN);", "-        offset = TarUtils.getNameBytes(this.groupName, outbuf, offset, GNAMELEN);", "-        offset = TarUtils.getOctalBytes(this.devMajor, outbuf, offset, DEVLEN);", "-        offset = TarUtils.getOctalBytes(this.devMinor, outbuf, offset, DEVLEN);", "+        outbuf[offset++] = linkFlag;", "+        offset = TarUtils.getNameBytes(linkName, outbuf, offset, NAMELEN);", "+        offset = TarUtils.getNameBytes(magic, outbuf, offset, MAGICLEN);", "+        offset = TarUtils.getNameBytes(userName, outbuf, offset, UNAMELEN);", "+        offset = TarUtils.getNameBytes(groupName, outbuf, offset, GNAMELEN);", "+        offset = TarUtils.getOctalBytes(devMajor, outbuf, offset, DEVLEN);", "+        offset = TarUtils.getOctalBytes(devMinor, outbuf, offset, DEVLEN);"]}]}