{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a718abb962e9da87c975c1824683a4a2", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0150788af9340b0c74488b0b472ea8ef", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/email/PlainMailer.java", "commitBeforeChange": "af9118ba77f73f8f10ef54a73e8294c8d39014bc", "commitAfterChange": "1c4c6da22620b4aa3ec84a3acc9d6c1f3eeda54d", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "     public void send()", "signatureAfterChange": "     public void send()", "diff": ["-            mailMessage.setHeader(\"Content-Type\", message.getMimeType());", "+            if (message.getCharset() != null) {", "+                mailMessage.setHeader(\"Content-Type\", message.getMimeType()", "+                    + \"; charset=\\\"\" + message.getCharset() + \"\\\"\");", "+            } else {", "+                mailMessage.setHeader(\"Content-Type\", message.getMimeType());", "+            }", "-"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6b5269fc79a169522ae3906814f462ee", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/util/ConcatFileInputStream.java", "commitBeforeChange": "ca239f6cd9f27fa1a1b3383df7c0a2f77ddb4260", "commitAfterChange": "00fda119478c715878e724d0de3cda557d01de02", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "      private void openFile(int index) throws IOException", "signatureAfterChange": "      private void openFile(int index) throws IOException", "diff": ["-            currentStream = new BufferedInputStream(", "-                new FileInputStream(file[index]));", "+            try {", "+                currentStream = new BufferedInputStream(", "+                    new FileInputStream(file[index]));", "+            } catch (IOException eyeOhEx) {", "+                log(\"Failed to open \" + file[index], Project.MSG_ERR);", "+                throw eyeOhEx;", "+            }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "797f29d72727163ec2b96dc6fab7b508", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/IContract.java", "commitBeforeChange": "7f76769aba1d44cd44eb56ebadbbbe9068859c68", "commitAfterChange": "0ae47a0947c94f5e56a518702e90355fe23bf1ff", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 15, "signatureBeforeChange": "     private void scan() throws BuildException", "signatureAfterChange": "     private void scan() throws BuildException", "diff": ["-        if( controlFile != null ) {", "-            if( controlFile.exists() ) {", "-                controlFileTime = controlFile.lastModified();", "-                fileset.setDir( instrumentDir );", "-                ds = fileset.getDirectoryScanner( project );", "-                files = ds.getIncludedFiles();", "-                for( int i = 0; i < files.length; i++ ) {", "-                    File srcFile = new File(srcDir, files[i]);", "-                    if( files[i].endsWith( \".class\" ) ) {", "-                        if( controlFileTime > srcFile.lastModified() ) {", "-                            if( !dirty ) {", "-                                log( \"Control file \" + controlFile.getAbsolutePath() + \" has been updated. Instrumenting all files...\" );", "+        try {", "+            if( controlFile != null ) {", "+                if( controlFile.exists() && instrumentDir.exists() ) {", "+                    controlFileTime = controlFile.lastModified();", "+                    fileset.setDir( instrumentDir );", "+                    ds = fileset.getDirectoryScanner( project );", "+                    files = ds.getIncludedFiles();", "+                    for( int i = 0; i < files.length; i++ ) {", "+                        File srcFile = new File(srcDir, files[i]);", "+                        if( files[i].endsWith( \".class\" ) ) {", "+                            if( controlFileTime > srcFile.lastModified() ) {", "+                                if( !dirty ) {", "+                                    log( \"Control file \" + controlFile.getAbsolutePath() + \" has been updated. Instrumenting all files...\" );", "+                                }", "+                                dirty = true;", "+                                instrumentall = true;", "-                            dirty = true;", "-                            instrumentall = true;", "+        } catch( Throwable t ) {", "+            System.out.println( \"FATAL\" );", "+            t.printStackTrace();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "921c7b1af92c352411fa54daa63bc8a4", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/UnknownElement.java", "commitBeforeChange": "1beb540cd6584dc7246fecda16a0d10bd6ff6f3a", "commitAfterChange": "d4ebf04094c0866a1d3608f45a3ca80d46ad2702", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 17, "signatureBeforeChange": "     protected void handleChildren(         Object parent,         RuntimeConfigurable parentWrapper)         throws BuildException", "signatureAfterChange": "     protected void handleChildren(         Object parent,         RuntimeConfigurable parentWrapper)         throws BuildException", "diff": ["-                if (!handleChild(", "-                        parentUri, ih, parent, child, childWrapper)) {", "-                    if (!(parent instanceof TaskContainer)) {", "-                        ih.throwNotSupported(getProject(), parent,", "-                                             child.getTag());", "-                    } else {", "-                        // a task container - anything could happen - just add the", "-                        // child to the container", "-                        TaskContainer container = (TaskContainer) parent;", "-                        container.addTask(child);", "+                try {", "+                    if (!handleChild(", "+                            parentUri, ih, parent, child, childWrapper)) {", "+                        if (!(parent instanceof TaskContainer)) {", "+                            ih.throwNotSupported(getProject(), parent,", "+                                                 child.getTag());", "+                        } else {", "+                            // a task container - anything could happen - just add the", "+                            // child to the container", "+                            TaskContainer container = (TaskContainer) parent;", "+                            container.addTask(child);", "+                        }", "+                } catch (UnsupportedElementException ex) {", "+                    ex.setMessage(", "+                        parentWrapper.getElementTag()", "+                        + \" doesn't support the nested \\\"\" + ex.getElement()", "+                        + \"\\\" element.\");", "+                    throw ex;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "97f1c7e1fd2aa9bc9e015c6e98e61be7", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Copy.java", "commitBeforeChange": "f24b9340dd85400d0bbe3d4bfda9f2fbb85e3a09", "commitAfterChange": "194f9cafed2b7c71664756a14fa71cc6307c0a39", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": "     public void execute() throws BuildException", "diff": ["-            doFileOperations();", "+            try {", "+                doFileOperations();", "+            } catch (BuildException e) {", "+                if (!failonerror) {", "+                    log(\"Warning: \" + e.getMessage(), Project.MSG_ERR);", "+                } else {", "+                    throw e;", "+                }", "+            }"]}]}