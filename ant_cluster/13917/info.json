{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "615e190d305484ab958fced78a221362", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0d2806b9dca839487b10c1842e22e9e9", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/sandbox/embed/ProjectHelperImpl2.java", "commitBeforeChange": "f2d8ae34069b455a64a46431bd44a3b2a208e9d7", "commitAfterChange": "86334974455a492f4b76331b6002a45289874ddf", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 19, "signatureBeforeChange": "         public void startElement(String uri, String name, String qname, AttributeList attrs)             throws SAXParseException", "signatureAfterChange": "         public void onStartElement(String uri, String tag, String qname,                                    Attributes attrs,                                    AntXmlContext context)             throws SAXParseException", "diff": ["-        public void startElement(String uri, String name, String qname, AttributeList attrs)", "-            if (project.getDataTypeDefinitions().get(name) != null) {", "-                new DataTypeHandler(this, target).init(name, attrs);", "-                new TaskHandler(this, target, null, target).init(name, attrs);", "+        public void onStartElement(String uri, String tag, String qname,", "+                                   Attributes attrs,", "+                                   AntXmlContext context)", "+            throws SAXParseException", "+        {", "+                task = context.project.createTask(qname);", "+                task = new UnknownElement(qname);", "+                task.setProject(context.project);", "+                //XXX task.setTaskType(qname);", "+                task.setTaskName(qname);", "+            task.setLocation(new Location(context.buildFile.toString(),", "+                                          context.locator.getLineNumber(),", "+                                          context.locator.getColumnNumber()));", "+            context.configureId(task, attrs);", "+                wrapper.setAttributes(sax1Attributes(attrs));", "+                ProjectHelper.configure(task, sax1Attributes(attrs), context.project);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "30f5b9b3172b504021ff417a42948929", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/sandbox/embed/ProjectHelperImpl2.java", "commitBeforeChange": "f2d8ae34069b455a64a46431bd44a3b2a208e9d7", "commitAfterChange": "86334974455a492f4b76331b6002a45289874ddf", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 16, "signatureBeforeChange": "         public void init(String tag, AttributeList attrs) throws SAXParseException", "signatureAfterChange": "         public void onStartElement(String uri, String tag, String qname,                                    Attributes attrs,                                    AntXmlContext context)             throws SAXParseException", "diff": ["-        public void init(String tag, AttributeList attrs) throws SAXParseException {", "+        public void onStartElement(String uri, String tag, String qname,", "+                                   Attributes attrs,", "+                                   AntXmlContext context)", "+            throws SAXParseException", "+        {", "-                String key = attrs.getName(i);", "+                String key = attrs.getQName(i);", "-                    throw new SAXParseException(\"Unexpected attribute \\\"\" + key + \"\\\"\", locator);", "+                    throw new SAXParseException(\"Unexpected attribute \\\"\" + key + \"\\\"\", context.locator);", "-                throw new SAXParseException(\"target element appears without a name attribute\", locator);", "+                throw new SAXParseException(\"target element appears without a name attribute\",", "+                                            context.locator);", "-            project.addTarget(name, target);", "+            context.project.addTarget(name, target);", "-                project.addReference(id, target);", "+                context.project.addReference(id, target);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e6156a344f0b29635a1404deb0fc0bff", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/sandbox/embed/ProjectHelperImpl2.java", "commitBeforeChange": "f2d8ae34069b455a64a46431bd44a3b2a208e9d7", "commitAfterChange": "86334974455a492f4b76331b6002a45289874ddf", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 28, "signatureBeforeChange": "         private void handleTaskdef(String name, AttributeList attrs) throws SAXParseException", "signatureAfterChange": "         public void onStartElement(String uri, String propType, String qname,                                    Attributes attrs,                                    AntXmlContext context)             throws SAXParseException", "diff": ["-         */", "-        private void handleTaskdef(String name, AttributeList attrs) throws SAXParseException {", "-            (new TaskHandler(this, null, null, null)).init(name, attrs);", "-        }", "+        public void onStartElement(String uri, String propType, String qname,", "+                                   Attributes attrs,", "+                                   AntXmlContext context)", "+            throws SAXParseException", "+        {", "+                element = context.project.createDataType(qname);", "+                    throw new BuildException(\"Unknown data type \"+qname);", "+                    wrapper = new RuntimeConfigurable(element, qname);", "+                    wrapper.setAttributes(sax1Attributes(attrs));", "+                    ProjectHelper.configure(element, sax1Attributes(attrs), context.project);", "+                    context.configureId(element, attrs);", "+                throw new SAXParseException(exc.getMessage(), context.locator, exc);"]}]}