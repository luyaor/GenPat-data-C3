{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "efee274a7dfb1c9dbe23b495b91aed6a", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2456967445de68965a3b19c476b22f3f", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Zip.java", "commitBeforeChange": "effcb7ade9843fece34e9c5546f913fc3f13ac1a", "commitAfterChange": "7a132746ebc4838b84a555d60d7945228d83cc8d", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "      protected void addZipEntries(ZipFileSet fs, DirectoryScanner ds,       ZipOutputStream zOut, String prefix)         throws IOException", "signatureAfterChange": "      protected void addZipEntries(ZipFileSet fs, DirectoryScanner ds,                                  ZipOutputStream zOut, String prefix, String fullpath)         throws IOException", "diff": ["-      ZipOutputStream zOut, String prefix)", "+                                 ZipOutputStream zOut, String prefix, String fullpath)", "+        if (prefix.length() > 0 && fullpath.length() > 0)", "+            throw new BuildException(\"Both prefix and fullpath attributes may not be set on the same fileset.\");", "+", "-                    addParentDirs(null, vPath, zOut, prefix);", "-                    if (! entry.isDirectory()) {", "-                        zipFile(in, zOut, prefix+vPath, entry.getTime());", "+                    if (prefix.length() > 0) {", "+                        addParentDirs(null, vPath, zOut, prefix);", "+                        if (! entry.isDirectory()) {", "+                            zipFile(in, zOut, prefix+vPath, entry.getTime());", "+                        }", "+                    }", "+                    else if (fullpath.length() > 0) {", "+                        zipFile(in, zOut, fullpath, entry.getTime());"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f3f2008e55d53816c31a208959afec2f", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Zip.java", "commitBeforeChange": "be3dc4f25a969b51b9ef09f41bbc9d8c714f0c79", "commitAfterChange": "832fe98aea5459c708d6b255d190efdfb60ae07e", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "      protected void addZipEntries(ZipFileSet fs, DirectoryScanner ds,       ZipOutputStream zOut, String prefix)         throws IOException", "signatureAfterChange": "      protected void addZipEntries(ZipFileSet fs, DirectoryScanner ds,       ZipOutputStream zOut, String prefix)         throws IOException", "diff": ["-        ZipInputStream in = new ZipInputStream(new FileInputStream(zipSrc));", "-        while ((entry = in.getNextEntry()) != null) {", "-            String vPath = entry.getName();", "-            if (zipScanner.match(vPath)) {", "-                addParentDirs(null, vPath, zOut, prefix);", "-                if (! entry.isDirectory()) {", "-                  zipFile(in, zOut, prefix+vPath, entry.getTime());", "+        ZipInputStream in = null;", "+        try {", "+            in = new ZipInputStream(new FileInputStream(zipSrc));", "+", "+            while ((entry = in.getNextEntry()) != null) {", "+                String vPath = entry.getName();", "+                if (zipScanner.match(vPath)) {", "+                    addParentDirs(null, vPath, zOut, prefix);", "+                    if (! entry.isDirectory()) {", "+                        zipFile(in, zOut, prefix+vPath, entry.getTime());", "+                    }", "+        } finally {", "+            if (in != null) {", "+                in.close();", "+            }"]}]}