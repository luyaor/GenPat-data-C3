{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "22a172e045db563ccc8f32a4973a0425", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "573ab1af936029868151d1b22b2cef22", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Replace.java", "commitBeforeChange": "79ab8ae1d59ed007337a3657ac5c6c78107cc0d8", "commitAfterChange": "c8c751af8ea4cb0607690327d79a0b56d6054925", "methodNumberBeforeChange": 27, "methodNumberAfterChange": 28, "signatureBeforeChange": "     private String stringReplace(String str, String str1, String str2,                                  boolean countReplaces)", "signatureAfterChange": "     private void stringReplace(StringBuffer str, String str1, String str2,                                  boolean countReplaces)", "diff": ["-    private String stringReplace(String str, String str1, String str2,", "+     */", "+    private void stringReplace(StringBuffer str, String str1, String str2,", "-        StringBuffer ret = new StringBuffer();", "-        int start = 0;", "-            // write everything up to the found str1", "-            if (found > start) {", "-                ret.append(str.substring(start, found));", "-            }", "-", "-            // write the replacement str2", "-            if (str2 != null) {", "-                ret.append(str2);", "-            }", "-", "-            // search again", "-            start = found + str1.length();", "-            found = str.indexOf(str1, start);", "+            str.replace(found, found + str1.length(), str2);", "+            found = str.indexOf(str1, found + str2.length());", "-", "-        // write the remaining characters", "-        if (str.length() > start) {", "-            ret.append(str.substring(start, str.length()));", "-        }", "-", "-        return ret.toString();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "94fbeedf2002983b27ca993d11407049", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Replace.java", "commitBeforeChange": "c32873b51961cb99f47b4ae6da2922b7b46a6f89", "commitAfterChange": "c437e0d2a0833a49114fa69e746b5f5ee9ed7d8d", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 10, "signatureBeforeChange": "         private String replace (String orig)", "signatureAfterChange": "         private String stringReplace(String str, String str1, String str2)", "diff": ["-     */    ", "-    private String replace (String orig) {", "-        StringBuffer buffer = new StringBuffer();", "-        int start = 0, end = 0;", "-        ", "-        while ((end = orig.indexOf(token, start)) > -1) {", "-            buffer.append(orig.substring(start, end));", "-            buffer.append(value);", "-            start = end + token.length();", "-        ", "-        buffer.append(orig.substring(start));", "-        ", "-        return buffer.toString();            ", "+     */    ", "+    private String stringReplace(String str, String str1, String str2) {", "+        StringBuffer ret = new StringBuffer();", "+        int start = 0;", "+        int found = str.indexOf(str1);", "+        while (found >= 0) {", "+            // write everything up to the found str1", "+            if (found > start) {", "+                ret.append(str.substring(start, found));", "+            }", "+", "+            // write the replacement str2", "+            if (str2 != null) {", "+                ret.append(str2);", "+            }", "+", "+            // search again", "+            start = found + str1.length();", "+            found = str.indexOf(str1,start);", "+        }", "+", "+        // write the remaining characters", "+        if (str.length() > start) {", "+            ret.append(str.substring(start, str.length()));", "+        }", "+", "+        return ret.toString();", "+    }"]}]}