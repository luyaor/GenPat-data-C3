{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9c74219278c921af37c5ac969b56504e", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0b646756083a06217579b47ddfcf84e4", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/launch/Launcher.java", "commitBeforeChange": "d03b7eb618e965d7a13be6c9fbbf6d9e2f1fefe1", "commitAfterChange": "1f6418427b280f5e56f33a8e21da6b9cc58ff9b0", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "     private void run(String[] args) throws MalformedURLException", "signatureAfterChange": "     private void run(String[] args) throws MalformedURLException", "diff": ["-        if (libPath.equals(\"\")) {", "+        if (args.length > 0 && args[args.length -1].equals(\"-lib\")) {", "+            // if the last argument is -lib", "+            // remove it from the arguments passed to Launcher", "+            //", "+            newargs = new String[args.length - 1];", "+            System.arraycopy(args, 0, newargs, 0, args.length -1);", "+        } else if (libPath.equals(\"\")) {", "-        } else {", "+        }  else {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2ff8f52ae504f8a0c271b87c7f529620", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/perforce/P4Base.java", "commitBeforeChange": "2136cff1737759ffc7eb94e6c077f34d0d1e6b97", "commitAfterChange": "b0edc6575b50bea5280d3faefa1eca34519be076", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "     protected void execP4Command(String command, P4Handler handler) throws BuildException", "signatureAfterChange": "     protected void execP4Command(String command, P4Handler handler) throws BuildException", "diff": ["-            commandline.createArgument().setValue(P4Port);", "-            commandline.createArgument().setValue(P4User);", "-            commandline.createArgument().setValue(P4Client);", "+            if (P4Port != null && P4Port.length() != 0) {", "+                commandline.createArgument().setValue(P4Port);", "+            }", "+            if (P4User != null && P4User.length() != 0) {", "+                commandline.createArgument().setValue(P4User);", "+            }", "+            if (P4Client != null && P4Client.length() != 0) {", "+                commandline.createArgument().setValue(P4Client);", "+            }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4897e319100cc73954d652714617bcf7", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/ejb/WeblogicDeploymentTool.java", "commitBeforeChange": "559fe1af187c27c6253ef3a1b639783f0a372f50", "commitAfterChange": "247d843943f4e031517945c2cf828dff6ffc1a78", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 19, "signatureBeforeChange": "     protected boolean isRebuildRequired(File genericJarFile, File weblogicJarFile)", "signatureAfterChange": "     protected boolean isRebuildRequired(File genericJarFile, File weblogicJarFile)", "diff": ["-                        ", "+                        if (je.getCompressedSize() == -1 ||", "+                                je.getCompressedSize() == je.getSize()) {", "+                            newJarStream.setLevel(0);", "+                        }", "+                        else {", "+                            newJarStream.setLevel(9);", "+                        }", "+                            "]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4d1cf23bd3abdc8179d8327ded8fa09f", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Ant.java", "commitBeforeChange": "da7ebd07b866580dae3c60cd4c7e3aefd0f335f0", "commitAfterChange": "7b90e493e8f5388bf88f0d951880d6667f9a8016", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": "     public void execute() throws BuildException", "diff": ["-                String owningTargetName = getOwningTarget().getName();", "-", "-                if (owningTargetName.equals(\"\")) {", "+                if (getOwningTarget().getName().equals(\"\")) {", "-                } else if (owningTargetName.equals(target)) {", "+                }", "+            }", "+", "+            ProjectHelper.configureProject(newProject, new File(antFile));", "+", "+            if (target == null) {", "+                target = newProject.getDefaultTarget();", "+            }", "+", "+            if (newProject.getProperty(\"ant.file\")", "+                .equals(getProject().getProperty(\"ant.file\"))", "+                && getOwningTarget() != null) {", "+", "+                String owningTargetName = getOwningTarget().getName();", "+", "+                if (owningTargetName.equals(target)) {", "-            }", "-", "-            ProjectHelper.configureProject(newProject, new File(antFile));", "-", "-            if (target == null) {", "-                target = newProject.getDefaultTarget();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5b3c9ad4ed27427ec227b303e615a17f", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/junit/JUnitTask.java", "commitBeforeChange": "fa9ec13f40ff7e2e8e2eeeb2b7a4b1466fd03051", "commitAfterChange": "60059dafe8f65bbc53657aaee25af3f823762743", "methodNumberBeforeChange": 58, "methodNumberAfterChange": 58, "signatureBeforeChange": "     private void createClassLoader()", "signatureAfterChange": "     private void createClassLoader()", "diff": ["+                if (getClass().getClassLoader() != null", "+                    && getClass().getClassLoader() != Project.class.getClassLoader()) {", "+                    classLoader.setParent(getClass().getClassLoader());", "+                }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "78405bbc179a576d4393e04de7c6f526", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/types/ArchiveScanner.java", "commitBeforeChange": "9bd753321ae84d06e3115d0549c2d7dda7972428", "commitAfterChange": "bfa0ded769f1a10b04868adb7930ae8d0fe5a610", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "     public boolean match(String path)", "signatureAfterChange": "     public boolean match(String path)", "diff": ["-        String vpath = path.replace('/', File.separatorChar).", "-            replace('\\\\', File.separatorChar);", "+        String vpath = path;", "+        if (path.length() > 0) {", "+            vpath = path.replace('/', File.separatorChar).", "+                replace('\\\\', File.separatorChar);", "+            if (vpath.charAt(0) == File.separatorChar) {", "+                vpath = vpath.substring(1);", "+            }", "+        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8233b7510f1a4a1c9e2ce3ea85167a36", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Basename.java", "commitBeforeChange": "5fa2b3cd6484967339e8bd85e3b180117cf4cff3", "commitAfterChange": "4ce5b624e12892157d668fecdcd7ee51b229b7c9", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "   public void execute() throws BuildException", "signatureAfterChange": "   public void execute() throws BuildException", "diff": ["-      String value;", "-      } else {", "-        value = file.getName();", "-        if (suffix != null && value.endsWith(suffix)) {", "-            int pos = value.indexOf('.');", "-            value = value.substring(0, pos);", "-        }", "-        getProject().setNewProperty(property, value);", "+      String value = file.getName();", "+      if (suffix != null && value.endsWith(suffix)) {", "+          // if the suffix does not starts with a '.' and the", "+          // char preceding the suffix is a '.', we assume the user", "+          // wants to remove the '.' as well (see docs)", "+          int pos = value.length() - suffix.length();", "+          if (pos > 0 && suffix.charAt(0) != '.' ", "+              && value.charAt(pos - 1) == '.') {", "+              pos--;", "+          }", "+          value = value.substring(0, pos);", "+      }", "+      getProject().setNewProperty(property, value);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8a4fac549c589984aa2342da826e163b", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/tar/TarInputStream.java", "commitBeforeChange": "b2f050d8bc04eac028df67c1f587700356d41ef9", "commitAfterChange": "6e219fff933d865f5f66db1476506240c691cda1", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "     public TarEntry getNextEntry() throws IOException", "signatureAfterChange": "     public TarEntry getNextEntry() throws IOException", "diff": ["+", "+            // remove trailing null terminator", "+            if (longName.length() > 0", "+                && longName.charAt(longName.length() - 1) == 0) {", "+                longName.deleteCharAt(longName.length() - 1);", "+            }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "beac22a31ca820d41d308f6df7c3cc66", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/java/org/apache/myrmidon/components/configurer/DefaultObjectConfigurer.java", "commitBeforeChange": "c4dee0afafcc57ede3e3d1e81d2d4a1455c484a4", "commitAfterChange": "f52a170159f6dc5beebe07bfb945cb5b3fa5290b", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "     public void enableAdders()         throws ConfigurationException", "signatureAfterChange": "     public void enableAdders()         throws ConfigurationException", "diff": ["-                                       propName,", "-                                       m_class.getName() );", "+                                       m_class.getName(),", "+                                       propName );", "+            // Determine the max count for the property", "+            int maxCount = Integer.MAX_VALUE;", "+            if( addMethod != null && addMethod.getName().startsWith( \"set\" ) )", "+            {", "+                maxCount = 1;", "+            }", "+", "-                new DefaultPropertyConfigurer( type, createMethod, addMethod );", "+                new DefaultPropertyConfigurer( m_allProps.size(),", "+                                               type,", "+                                               createMethod,", "+                                               addMethod,", "+                                               maxCount );", "+            m_allProps.add( configurer );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f7c8e5aa599dbad6df8b4e39b07454b0", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/War.java", "commitBeforeChange": "6f18050729f77a61ff648cc7b9c102f61fd6c6b0", "commitAfterChange": "6103df477a1462aaa01639cec094e2b53172d711", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 10, "signatureBeforeChange": "      protected boolean isUpToDate(FileScanner[] scanners, File zipFile) throws BuildException", "signatureAfterChange": "      protected boolean isUpToDate(FileScanner[] scanners, File zipFile) throws BuildException", "diff": ["-                                                  + webInfFileSets.size()];", "+                                                  + webInfFileSets.size()", "+                                                  + locFileSets.size()];", "+        addScanners(myScanners, scanners.length + 1 + libFileSets.size()", "+                                +classesFileSets.size()+webInfFileSets.size(), ", "+                    locFileSets);"]}]}