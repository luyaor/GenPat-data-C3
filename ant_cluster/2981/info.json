{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "1197abb58d3fcd281f9e3e095ba53cab", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "758ffab357dc24f858d4d1b55829235e", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/SQLExec.java", "commitBeforeChange": "f587706860d8dbeea5521a18041a7b7acdf4c1f7", "commitAfterChange": "37820a501815a54bd1bb393d1cd1ea0bf2f6c273", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 26, "signatureBeforeChange": "     public void execute() throws BuildException", "signatureAfterChange": "     public void execute() throws BuildException", "diff": ["-                        log(\"Opening PrintStream to output file \" + output, Project.MSG_VERBOSE);", "-                        out = new PrintStream(new BufferedOutputStream(", "-                                new FileOutputStream(output.getAbsolutePath(), append)));", "+                        log(\"Opening PrintStream to output Resource \" + output, Project.MSG_VERBOSE);", "+                        OutputStream os;", "+                        if (output instanceof FileProvider) {", "+                            os = new FileOutputStream(((FileProvider) output).getFile(), append);", "+                        } else {", "+                            os = output.getOutputStream();", "+                            if (append) {", "+                                log(\"Ignoring append=true for non-file resource \" + output, Project.MSG_WARN);", "+                            }", "+                        }", "+                        out = new PrintStream(new BufferedOutputStream(os));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fd5897197a058886738e1b90a461d348", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/ejb/JbossDeploymentTool.java", "commitBeforeChange": "2bbb06868a89e9390959ec3dd4b3b8eca8a40b95", "commitAfterChange": "202be1f5e13eacc3600852b1b297e6183dda48bf", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "     protected void addVendorFiles(Hashtable ejbFiles, String ddPrefix)", "signatureAfterChange": "     protected void addVendorFiles(Hashtable ejbFiles, String ddPrefix)", "diff": ["-        ", "-        File jbossCMPD = new File(getConfig().descriptorDir, ddPrefix + JBOSS_CMPD);", "+        String descriptorFileName = JBOSS_CMP10D;", "+        if ( EjbJar.CMPVersion.CMP2_0.equals( getParent().getCmpversion() ) ) {", "+            descriptorFileName = JBOSS_CMP20D;", "+        }", "+        File jbossCMPD = new File(getConfig().descriptorDir, ddPrefix + descriptorFileName);", "+", "-            ejbFiles.put(META_DIR + JBOSS_CMPD, jbossCMPD);", "+            ejbFiles.put(META_DIR + descriptorFileName, jbossCMPD);", "+        } else {", "+            log(\"Unable to locate jboss cmp descriptor. It was expected to be in \" + jbossCMPD.getPath(), Project.MSG_WARN);", "+            return;"]}]}