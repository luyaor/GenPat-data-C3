{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "dc7463568caceab651a9643170b19d9a", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9ca97b36435d3aea25148a2ac1d9ccce", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/todo/org/apache/tools/ant/taskdefs/file/Delete.java", "commitBeforeChange": "5205e1bb542f995e3b209edf0cdfbb37374704ca", "commitAfterChange": "59526e7a6762a7fdbb6bf45b815ed1d5a4f4d635", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 4, "signatureBeforeChange": "      protected void removeDir( File d )         throws TaskException", "signatureAfterChange": "      protected void removeDir( final File baseDir )         throws TaskException", "diff": ["-    protected void removeDir( File d )", "+    protected void removeDir( final File baseDir )", "-        String[] list = d.list();", "-        if( list == null )", "-            list = new String[ 0 ];", "+        final File[] list = baseDir.listFiles();", "+        if( list != null )", "+        {", "+            deleteFiles( list );", "+        }", "+        getLogger().debug( \"Deleting directory \" + baseDir.getAbsolutePath() );", "+        if( !baseDir.delete() )", "+        {", "+            String message = \"Unable to delete directory \" + m_dir.getAbsolutePath();", "+            throw new TaskException( message );", "+        }", "+    }", "-            String s = list[ i ];", "-            File f = new File( d, s );", "-            if( f.isDirectory() )", "-                removeDir( f );", "-                log( \"Deleting \" + f.getAbsolutePath(), verbosity );", "-                if( !f.delete() )", "-                    String message = \"Unable to delete file \" + f.getAbsolutePath();", "-                    if( failonerror )", "-                        throw new TaskException( message );", "-                    else", "-                        log( message,", "-                             quiet ? Project.MSG_VERBOSE : Project.MSG_WARN );", "-        }", "-        log( \"Deleting directory \" + d.getAbsolutePath(), verbosity );", "-        if( !d.delete() )", "-        {", "-            String message = \"Unable to delete directory \" + dir.getAbsolutePath();", "-            if( failonerror )", "-                throw new TaskException( message );", "-            else", "-                log( message,", "-                     quiet ? Project.MSG_VERBOSE : Project.MSG_WARN );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e5c31c08ee1982e7570481b0cd81b18d", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "proposal/myrmidon/src/main/org/apache/tools/ant/taskdefs/file/Delete.java", "commitBeforeChange": "5205e1bb542f995e3b209edf0cdfbb37374704ca", "commitAfterChange": "59526e7a6762a7fdbb6bf45b815ed1d5a4f4d635", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 4, "signatureBeforeChange": "      protected void removeDir( File d )         throws TaskException", "signatureAfterChange": "      protected void removeDir( final File baseDir )         throws TaskException", "diff": ["-    protected void removeDir( File d )", "+    protected void removeDir( final File baseDir )", "-        String[] list = d.list();", "-        if( list == null )", "-            list = new String[ 0 ];", "+        final File[] list = baseDir.listFiles();", "+        if( list != null )", "+        {", "+            deleteFiles( list );", "+        }", "+        getLogger().debug( \"Deleting directory \" + baseDir.getAbsolutePath() );", "+        if( !baseDir.delete() )", "+        {", "+            String message = \"Unable to delete directory \" + m_dir.getAbsolutePath();", "+            throw new TaskException( message );", "+        }", "+    }", "-            String s = list[ i ];", "-            File f = new File( d, s );", "-            if( f.isDirectory() )", "-                removeDir( f );", "-                log( \"Deleting \" + f.getAbsolutePath(), verbosity );", "-                if( !f.delete() )", "-                    String message = \"Unable to delete file \" + f.getAbsolutePath();", "-                    if( failonerror )", "-                        throw new TaskException( message );", "-                    else", "-                        log( message,", "-                             quiet ? Project.MSG_VERBOSE : Project.MSG_WARN );", "-        }", "-        log( \"Deleting directory \" + d.getAbsolutePath(), verbosity );", "-        if( !d.delete() )", "-        {", "-            String message = \"Unable to delete directory \" + dir.getAbsolutePath();", "-            if( failonerror )", "-                throw new TaskException( message );", "-            else", "-                log( message,", "-                     quiet ? Project.MSG_VERBOSE : Project.MSG_WARN );"]}]}