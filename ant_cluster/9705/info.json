{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "fb50fe707e65b56b71ad83bd62dbe279", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f28aa4b9b05ed2962fce8fcb38dfdf31", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/Project.java", "commitBeforeChange": "e03db74846d20974a3aae9cd7054948e5cd502cf", "commitAfterChange": "ea41c72f7adfce4ad48caded93962140650f2746", "methodNumberBeforeChange": 116, "methodNumberAfterChange": 116, "signatureBeforeChange": "     public Task getThreadTask(Thread thread)", "signatureAfterChange": "     public Task getThreadTask(Thread thread)", "diff": ["-        Task task = (Task) threadTasks.get(thread);", "-        if (task == null) {", "-            ThreadGroup group = thread.getThreadGroup();", "-            while (task == null && group != null) {", "-                task = (Task) threadGroupTasks.get(group);", "-                group = group.getParent();", "+        synchronized(threadTasks) {", "+            Task task = (Task) threadTasks.get(thread);", "+            if (task == null) {", "+                ThreadGroup group = thread.getThreadGroup();", "+                while (task == null && group != null) {", "+                    task = (Task) threadGroupTasks.get(group);", "+                    group = group.getParent();", "+                }", "+            return task;", "-        return task;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f4eb02bfa61e36d11a29c8cda8322658", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/Project.java", "commitBeforeChange": "e03db74846d20974a3aae9cd7054948e5cd502cf", "commitAfterChange": "ea41c72f7adfce4ad48caded93962140650f2746", "methodNumberBeforeChange": 115, "methodNumberAfterChange": 115, "signatureBeforeChange": "     public synchronized void registerThreadTask(Thread thread, Task task)", "signatureAfterChange": "     public void registerThreadTask(Thread thread, Task task)", "diff": ["-    public synchronized void registerThreadTask(Thread thread, Task task) {", "-        if (task != null) {", "-            threadTasks.put(thread, task);", "-            threadGroupTasks.put(thread.getThreadGroup(), task);", "-        } else {", "-            threadTasks.remove(thread);", "-            threadGroupTasks.remove(thread.getThreadGroup());", "+    public void registerThreadTask(Thread thread, Task task) {", "+        synchronized(threadTasks) {", "+            if (task != null) {", "+                threadTasks.put(thread, task);", "+                threadGroupTasks.put(thread.getThreadGroup(), task);", "+            } else {", "+                threadTasks.remove(thread);", "+                threadGroupTasks.remove(thread.getThreadGroup());", "+            }"]}]}