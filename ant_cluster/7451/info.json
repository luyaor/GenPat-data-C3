{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3cf02f69e1a1b3a652253aca1cb442d8", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9a6703c7c2eb1a3bc41dc3c50a33dd25", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/ProcessDestroyer.java", "commitBeforeChange": "a3eef60027b7a7142377c38988529bb152540c0f", "commitAfterChange": "198cca7aa68c3d73f41cea3d673fc07e0009c7b2", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 8, "signatureBeforeChange": "     public boolean remove(Process process)", "signatureAfterChange": "     public boolean remove(Process process)", "diff": ["-        return processes.removeElement(process);", "+        synchronized(processes){", "+            boolean processRemoved = processes.removeElement(process);", "+            if(processes.size() == 0){", "+                removeShutdownHook();", "+            }", "+            return processRemoved;", "+        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dfc374b5baedb8bd60c4f5e60c89192b", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/ProcessDestroyer.java", "commitBeforeChange": "a3eef60027b7a7142377c38988529bb152540c0f", "commitAfterChange": "198cca7aa68c3d73f41cea3d673fc07e0009c7b2", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 7, "signatureBeforeChange": "     public boolean add(Process process)", "signatureAfterChange": "     public boolean add(Process process)", "diff": ["-        processes.addElement(process);", "-        return processes.contains(process);", "+        synchronized(processes){", "+            // if this list is empty, register the shutdown hook ", "+            if(processes.size() == 0){", "+                addShutdownHook();", "+            }", "+            processes.addElement(process);", "+            return processes.contains(process);", "+        }"]}]}