{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "baf1d9d1013f9e5f27ae450ad450f026", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "64e3b6032098f6fb2771d3454cd02328", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/optional/junit/FailureRecorder.java", "commitBeforeChange": "5026f31269c0cf1f709aa6ee9dc775f0e7b74747", "commitAfterChange": "4369f6482672e451edd830277d0f64fcc9c7d10b", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "\r     private String getLocationName()", "signatureAfterChange": "\r     private String getLocationName()", "diff": ["-    //      via Ant properties. But how to access these?\r", "+     */\r", "-            String propValue = System.getProperty(MAGIC_PROPERTY_CLASS_LOCATION);\r", "-            locationName = (propValue != null) ? propValue : DEFAULT_CLASS_LOCATION;\r", "+            String syspropValue = System.getProperty(MAGIC_PROPERTY_CLASS_LOCATION);\r", "+            String antpropValue = getProject().getProperty(MAGIC_PROPERTY_CLASS_LOCATION);\r", "+\r", "+            if (syspropValue != null) {\r", "+                locationName = syspropValue;\r", "+                verbose(\"System property '\" + MAGIC_PROPERTY_CLASS_LOCATION + \"' set, so use \"\r", "+                        + \"its value '\" + syspropValue + \"' as location for collector class.\");\r", "+            } else if (antpropValue != null) {\r", "+                locationName = antpropValue;\r", "+                verbose(\"Ant property '\" + MAGIC_PROPERTY_CLASS_LOCATION + \"' set, so use \"\r", "+                        + \"its value '\" + antpropValue + \"' as location for collector class.\");\r", "+            } else {\r", "+                locationName = DEFAULT_CLASS_LOCATION;\r", "+                verbose(\"System property '\" + MAGIC_PROPERTY_CLASS_LOCATION + \"' not set, so use \"\r", "+                        + \"value as location for collector class: '\" + DEFAULT_CLASS_LOCATION + \"'\");\r", "+            }\r", "+\r", "+            File locationFile = new File(locationName);\r", "+            if (!locationFile.isAbsolute()) {\r", "+                File f = new File(getProject().getBaseDir(), locationName);\r", "+                locationName = f.getAbsolutePath();\r", "+                verbose(\"Location file is relative (\" + locationFile + \")\"\r", "+                        + \" use absolute path instead (\" + locationName + \")\");\r", "+            }\r", "+        \r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f4f3eb276315e1ffc3985e8b5e70e37c", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Jar.java", "commitBeforeChange": "9a8fc62287b5a8e2b0ca98ecd00974e4078fd527", "commitAfterChange": "2c44cef133b46cc3f6d3ea428f361d9f81fe8982", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 25, "signatureBeforeChange": "     protected void cleanUp()", "signatureAfterChange": "     protected void cleanUp()", "diff": ["+        ", "+        // check against packaging spec", "+        // http://java.sun.com/j2se/1.3/docs/guide/versioning/spec/VersioningSpecification.html#PackageVersioning", "+        Section mainSection = (configuredManifest==null) ? null : configuredManifest.getMainSection();", "+        if (mainSection==null) {", "+            log(\"No Implementation-Title set. (\" + getLocation() + \")\");", "+            log(\"No Implementation-Version set. (\" + getLocation() + \")\");", "+            log(\"No Implementation-Vendor set. (\" + getLocation() + \")\");", "+        } else {", "+            if (mainSection.getAttribute(\"Implementation-Title\") == null) {", "+                log(\"No Implementation-Title set. (\" + getLocation() + \")\");", "+            }", "+            if (mainSection.getAttribute(\"Implementation-Version\") == null) {", "+                log(\"No Implementation-Version set. (\" + getLocation() + \")\");", "+            }", "+            if (mainSection.getAttribute(\"Implementation-Vendor\") == null) {", "+                log(\"No Implementation-Vendor set. (\" + getLocation() + \")\");", "+            }", "+        }"]}]}