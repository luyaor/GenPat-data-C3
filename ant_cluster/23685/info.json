{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f219e78cd0cbab7c6120b4b7d7db5e6d", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "70231a17989ac22a179506b3c1b5c9ea", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/zip/ZipOutputStream.java", "commitBeforeChange": "c35a248ef870c9f98b7eda39ba9e3653775aea82", "commitAfterChange": "4653e638dd921ac96a2e8583851b121e46477ae9", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 17, "signatureBeforeChange": "     protected void writeCentralFileHeader(ZipEntry ze) throws IOException", "signatureAfterChange": "     protected void writeCentralFileHeader(ZipEntry ze) throws IOException", "diff": ["-        out.write(CFH_SIG.getBytes());", "+        writeOut(CFH_SIG.getBytes());", "-        out.write((new ZipShort((ze.getPlatform() << 8) | 20)).getBytes());", "+        writeOut((new ZipShort((ze.getPlatform() << 8) | 20)).getBytes());", "-        if (ze.getMethod() == DEFLATED) {", "+        if (ze.getMethod() == DEFLATED && raf == null) {", "-            out.write((new ZipShort(20)).getBytes());", "+            writeOut((new ZipShort(20)).getBytes());", "-            out.write((new ZipShort(8)).getBytes());", "+            writeOut((new ZipShort(8)).getBytes());", "-            out.write((new ZipShort(10)).getBytes());", "-            out.write(ZERO);", "+            writeOut((new ZipShort(10)).getBytes());", "+            writeOut(ZERO);", "-        out.write((new ZipShort(ze.getMethod())).getBytes());", "+        writeOut((new ZipShort(ze.getMethod())).getBytes());", "-        out.write(toDosTime(new Date(ze.getTime())).getBytes());", "+        writeOut(toDosTime(new Date(ze.getTime())).getBytes());", "-        out.write((new ZipLong(ze.getCrc())).getBytes());", "-        out.write((new ZipLong(ze.getCompressedSize())).getBytes());", "-        out.write((new ZipLong(ze.getSize())).getBytes());", "+        writeOut((new ZipLong(ze.getCrc())).getBytes());", "+        writeOut((new ZipLong(ze.getCompressedSize())).getBytes());", "+        writeOut((new ZipLong(ze.getSize())).getBytes());", "-        out.write((new ZipShort(name.length)).getBytes());", "+        writeOut((new ZipShort(name.length)).getBytes());", "-        out.write((new ZipShort(extra.length)).getBytes());", "+        writeOut((new ZipShort(extra.length)).getBytes());", "-        out.write((new ZipShort(comment.length)).getBytes());", "+        writeOut((new ZipShort(comment.length)).getBytes());", "-        out.write(ZERO);", "+        writeOut(ZERO);", "-        out.write((new ZipShort(ze.getInternalAttributes())).getBytes());", "+        writeOut((new ZipShort(ze.getInternalAttributes())).getBytes());", "-        out.write((new ZipLong(ze.getExternalAttributes())).getBytes());", "+        writeOut((new ZipLong(ze.getExternalAttributes())).getBytes());", "-        out.write(((ZipLong) offsets.get(ze)).getBytes());", "+        writeOut(((ZipLong) offsets.get(ze)).getBytes());", "-        out.write(name);", "+        writeOut(name);", "-        out.write(extra);", "+        writeOut(extra);", "-        out.write(comment);", "+        writeOut(comment);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bd48f4aa83a7a616095055334bba6138", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/zip/ZipOutputStream.java", "commitBeforeChange": "c35a248ef870c9f98b7eda39ba9e3653775aea82", "commitAfterChange": "4653e638dd921ac96a2e8583851b121e46477ae9", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 15, "signatureBeforeChange": "     protected void writeLocalFileHeader(ZipEntry ze) throws IOException", "signatureAfterChange": "     protected void writeLocalFileHeader(ZipEntry ze) throws IOException", "diff": ["-        out.write(LFH_SIG.getBytes());", "+        writeOut(LFH_SIG.getBytes());", "-        if (ze.getMethod() == DEFLATED) {", "+        if (ze.getMethod() == DEFLATED && raf == null) {", "-            out.write((new ZipShort(20)).getBytes());", "+            writeOut((new ZipShort(20)).getBytes());", "-            out.write((new ZipShort(8)).getBytes());", "+            writeOut((new ZipShort(8)).getBytes());", "-            out.write((new ZipShort(10)).getBytes());", "-            out.write(ZERO);", "+            writeOut((new ZipShort(10)).getBytes());", "+            writeOut(ZERO);", "-        out.write((new ZipShort(ze.getMethod())).getBytes());", "+        writeOut((new ZipShort(ze.getMethod())).getBytes());", "-        out.write(toDosTime(new Date(ze.getTime())).getBytes());", "+        writeOut(toDosTime(new Date(ze.getTime())).getBytes());", "-        if (ze.getMethod() == DEFLATED) {", "-            out.write(LZERO);", "-            out.write(LZERO);", "-            out.write(LZERO);", "+        localDataStart = written;", "+        if (ze.getMethod() == DEFLATED || raf != null) {", "+            writeOut(LZERO);", "+            writeOut(LZERO);", "+            writeOut(LZERO);", "-            out.write((new ZipLong(ze.getCrc())).getBytes());", "-            out.write((new ZipLong(ze.getSize())).getBytes());", "-            out.write((new ZipLong(ze.getSize())).getBytes());", "+            writeOut((new ZipLong(ze.getCrc())).getBytes());", "+            writeOut((new ZipLong(ze.getSize())).getBytes());", "+            writeOut((new ZipLong(ze.getSize())).getBytes());", "-        out.write((new ZipShort(name.length)).getBytes());", "+        writeOut((new ZipShort(name.length)).getBytes());", "-        out.write((new ZipShort(extra.length)).getBytes());", "+        writeOut((new ZipShort(extra.length)).getBytes());", "-        out.write(name);", "+        writeOut(name);", "-        out.write(extra);", "+        writeOut(extra);"]}]}