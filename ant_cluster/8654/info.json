{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ae5b50649b7cb9f6a5498a5a05becebf", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4095fa5b39aa4ac8a467254ce50248d1", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Antlib.java", "commitBeforeChange": "aeee70243a354c5951ec655556f8a1530e7713eb", "commitAfterChange": "ca5799fd8c1780abcc25f63745faf95bd2cdb06a", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 5, "signatureBeforeChange": "     public void execute()", "signatureAfterChange": "     public void execute()", "diff": ["-        for (Iterator i = tasks.iterator(); i.hasNext();) {", "-            UnknownElement ue = (UnknownElement) i.next();", "-            ue.maybeConfigure();", "-            setLocation(ue.getLocation());", "-            Task t = ue.getTask();", "-            if (t == null) {", "-                continue;", "+        ComponentHelper helper =", "+            ComponentHelper.getComponentHelper(getProject());", "+        helper.enterAntLib();", "+        try {", "+            for (Iterator i = tasks.iterator(); i.hasNext();) {", "+                UnknownElement ue = (UnknownElement) i.next();", "+                ue.maybeConfigure();", "+                setLocation(ue.getLocation());", "+                Task t = ue.getTask();", "+                if (t == null) {", "+                    continue;", "+                }", "+                if (t instanceof AntlibInterface) {", "+                    AntlibInterface d = (AntlibInterface) t;", "+                    d.setURI(uri);", "+                    d.setAntlibClassLoader(getClassLoader());", "+                }", "+                t.init();", "+                t.execute();", "-            if (t instanceof Definer) {", "-                Definer d = (Definer) t;", "-                d.setInternalClassLoader(getClassLoader());", "-            }", "-            t.init();", "-            t.execute();", "+        } finally {", "+            helper.exitAntLib();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4eb55def7f4df99c45262589ffe1f6a3", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Antlib.java", "commitBeforeChange": "443bf819ed21ca24bcdf71d48e0c2fbc8cd1be3d", "commitAfterChange": "84b6f69d71494069683bc7d041c31e471fc697cf", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "     public void execute()", "signatureAfterChange": "     public void execute()", "diff": ["-            Task t = ue.getTask();", "-            if (t == null) {", "+            Object configuredObject = ue.getRealThing();", "+            if (configuredObject == null) {", "-            if (!(t instanceof AntlibInterface)) {", "+            if (!(configuredObject instanceof AntlibDefinition)) {", "-                    \"Invalid element in antlib \" + ue.getTag());", "+                    \"Invalid task in antlib \" + ue.getTag()", "+                    + \" \" + configuredObject.getClass() + \" does not \"", "+                    + \"extend org.apache.tools.ant.taskdefs.AntlibDefinition\");", "-            if (t instanceof AntlibInterface) {", "-                AntlibInterface d = (AntlibInterface) t;", "-                d.setURI(uri);", "-                d.setAntlibClassLoader(getClassLoader());", "-            }", "-            t.init();", "-            t.execute();", "+            AntlibDefinition def = (AntlibDefinition) configuredObject;", "+            def.setURI(uri);", "+            def.setAntlibClassLoader(getClassLoader());", "+            def.init();", "+            def.execute();"]}]}