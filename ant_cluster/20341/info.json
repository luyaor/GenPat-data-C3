{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b3aac14b4575754ac34a4d62ba882fb4", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "94da575dab708fce0350fb393ca430ce", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/Main.java", "commitBeforeChange": "62ff30c775164f20e004fc217cccbc9a0f4453ec", "commitAfterChange": "b57651f539a20ca5b1e4bb50eb2737eac648d622", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "      protected Main(String[] args) throws BuildException", "signatureAfterChange": "      protected Main(String[] args) throws BuildException", "diff": ["+            } else if (arg.startsWith(\"-propertyfile\")) {", "+                try {", "+                    propertyFiles.addElement(args[i+1]);", "+                    i++;", "+                } catch (ArrayIndexOutOfBoundsException aioobe) {", "+                    String msg = \"You must specify a property filename when \" +", "+                        \"using the -propertyfile argument\";", "+                    System.out.println(msg);", "+                    return;", "+                }", "-", "-", "+        ", "+        }", "+", "+        // Load the property files specified by -propertyfile", "+        for (int propertyFileIndex=0;", "+             propertyFileIndex < propertyFiles.size();", "+             propertyFileIndex++) {", "+            String filename = (String) propertyFiles.elementAt(propertyFileIndex);", "+            Properties props = new Properties();", "+            try {", "+                FileInputStream fis = new FileInputStream(filename);", "+                props.load(fis);", "+            }", "+            catch (IOException e) {", "+                System.out.println(\"Could not load property file \"", "+                   + filename + \": \" + e.getMessage());", "+            }", "+            ", "+            // ensure that -D properties take precedence", "+            Enumeration propertyNames = props.propertyNames();", "+            while (propertyNames.hasMoreElements()) {", "+                String name = (String) propertyNames.nextElement();", "+                if (definedProps.getProperty(name) == null) {", "+                    definedProps.put(name, props.getProperty(name));", "+                }", "+            }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "953a93c5a2d746ca0f9c24afb5da610a", "repository": "https://git-wip-us.apache.org/repos/asf/ant.git", "fileName": "src/main/org/apache/tools/ant/taskdefs/Move.java", "commitBeforeChange": "e13d922745cda9a00544c2010e21cafce218e709", "commitAfterChange": "fd507cf2d23a705cb42d8870b483ee3f65d0bc8f", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 1, "signatureBeforeChange": "      protected void doFileOperations()", "signatureAfterChange": "      protected void doFileOperations()", "diff": ["-        if (fileCopyMap.size() > 0) {", "+        if (fileCopyMap.size() > 0) {   // files to move", "-                    project.copyFile(fromFile, ", "-                                     toFile, ", "-                                     filtering, ", "-                                     forceOverwrite);", "+                    project.copyFile(fromFile, toFile, filtering, forceOverwrite);", "+", "+        if (includeEmpty) {", "+            Enumeration e = dirCopyMap.elements();", "+            int count = 0;", "+            while (e.hasMoreElements()) {", "+                File d = new File((String)e.nextElement());", "+                if (!d.exists()) {", "+                    if (!d.mkdirs()) {", "+                        log(\"Unable to create directory \" + d.getAbsolutePath(), Project.MSG_ERR);", "+                    } else {", "+                        count++;", "+                    }", "+                }", "+            }", "+", "+            if (count > 0) {", "+                log(\"Moved \" + count + \" empty directories to \" + destDir.getAbsolutePath());", "+            }", "+        }", "+", "+        if (filesets.size() > 0) {", "+            Enumeration e = filesets.elements();", "+            while (e.hasMoreElements()) {", "+                FileSet fs = (FileSet)e.nextElement();", "+                File dir = fs.getDir(project);", "+", "+                if (okToDelete(dir)) {", "+                    deleteDir(dir);", "+                }", "+            }", "+        }"]}]}