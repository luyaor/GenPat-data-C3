{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "477eddd0dd75dc0530f0c0734fdec3e3", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "711af5ad903f582a952cfca4de23384e", "repository": "https://github.com/junit-team/junit.git", "fileName": "src/main/java/junit/runner/BaseTestRunner.java", "commitBeforeChange": "68cc61e2b6ae43f3ab6ef9a54e16b9318d3d038f", "commitAfterChange": "30f2b16525dabb477373be9ed3e76bb98b200806", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": " \tpublic Test getTest(String suiteClassName)", "signatureAfterChange": "     public Test getTest(String suiteClassName)", "diff": ["-\t */", "-\tpublic Test getTest(String suiteClassName) {", "-\t\tif (suiteClassName.length() <= 0) {", "-\t\t\tclearStatus();", "-\t\t\treturn null;", "-\t\t}", "-\t\tClass<?> testClass= null;", "-\t\ttry {", "-\t\t\ttestClass= loadSuiteClass(suiteClassName);", "-\t\t} catch (ClassNotFoundException e) {", "-\t\t\tString clazz= e.getMessage();", "-\t\t\tif (clazz == null)", "-\t\t\t\tclazz= suiteClassName;", "-\t\t\trunFailed(\"Class not found \\\"\"+clazz+\"\\\"\");", "-\t\t\treturn null;", "-\t\t} catch(Exception e) {", "-\t\t\trunFailed(\"Error: \"+e.toString());", "-\t\t\treturn null;", "-\t\t}", "-\t\tMethod suiteMethod= null;", "-\t\ttry {", "-\t\t\tsuiteMethod= testClass.getMethod(SUITE_METHODNAME, new Class[0]);", "-\t \t} catch(Exception e) {", "-\t \t\t// try to extract a test suite automatically", "-\t\t\tclearStatus();", "-\t\t\treturn new TestSuite(testClass);", "-\t\t}", "-\t\tif (! Modifier.isStatic(suiteMethod.getModifiers())) {", "-\t\t\trunFailed(\"Suite() method must be static\");", "-\t\t\treturn null;", "-\t\t}", "-\t\tTest test= null;", "-\t\ttry {", "-\t\t\ttest= (Test)suiteMethod.invoke(null, (Object[])new Class[0]); // static method", "-\t\t\tif (test == null)", "-\t\t\t\treturn test;", "-\t\t}", "-\t\tcatch (InvocationTargetException e) {", "-\t\t\trunFailed(\"Failed to invoke suite():\" + e.getTargetException().toString());", "-\t\t\treturn null;", "-\t\t}", "-\t\tcatch (IllegalAccessException e) {", "-\t\t\trunFailed(\"Failed to invoke suite():\" + e.toString());", "-\t\t\treturn null;", "-\t\t}", "+     */", "+    public Test getTest(String suiteClassName) {", "+        if (suiteClassName.length() <= 0) {", "+            clearStatus();", "+            return null;", "+        }", "+        Class<?> testClass = null;", "+        try {", "+            testClass = loadSuiteClass(suiteClassName);", "+        } catch (ClassNotFoundException e) {", "+            String clazz = e.getMessage();", "+            if (clazz == null) {", "+                clazz = suiteClassName;", "+            }", "+            runFailed(\"Class not found \\\"\" + clazz + \"\\\"\");", "+            return null;", "+        } catch (Exception e) {", "+            runFailed(\"Error: \" + e.toString());", "+            return null;", "+        }", "+        Method suiteMethod = null;", "+        try {", "+            suiteMethod = testClass.getMethod(SUITE_METHODNAME, new Class[0]);", "+        } catch (Exception e) {", "+            // try to extract a test suite automatically", "+            clearStatus();", "+            return new TestSuite(testClass);", "+        }", "+        if (!Modifier.isStatic(suiteMethod.getModifiers())) {", "+            runFailed(\"Suite() method must be static\");", "+            return null;", "+        }", "+        Test test = null;", "+        try {", "+            test = (Test) suiteMethod.invoke(null, (Object[]) new Class[0]); // static method", "+            if (test == null) {", "+                return test;", "+            }", "+        } catch (InvocationTargetException e) {", "+            runFailed(\"Failed to invoke suite():\" + e.getTargetException().toString());", "+            return null;", "+        } catch (IllegalAccessException e) {", "+            runFailed(\"Failed to invoke suite():\" + e.toString());", "+            return null;", "+        }", "-\t\tclearStatus();", "-\t\treturn test;", "-\t}", "+        clearStatus();", "+        return test;", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a5ccf2708c7f27e01c50ad0e921cff02", "repository": "https://github.com/junit-team/junit.git", "fileName": "src/main/java/org/junit/internal/runners/statements/FailOnTimeout.java", "commitBeforeChange": "68cc61e2b6ae43f3ab6ef9a54e16b9318d3d038f", "commitAfterChange": "30f2b16525dabb477373be9ed3e76bb98b200806", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "  \tprivate void throwExceptionForUnfinishedThread(StatementThread thread) \t\t\tthrows Throwable", "signatureAfterChange": "      private void throwExceptionForUnfinishedThread(StatementThread thread)             throws Throwable", "diff": ["-\tprivate void throwExceptionForUnfinishedThread(StatementThread thread)", "-\t\t\tthrows Throwable {", "-\t\tif (thread.fExceptionThrownByOriginalStatement != null)", "-\t\t\tthrow thread.fExceptionThrownByOriginalStatement;", "-\t\telse", "-\t\t\tthrowTimeoutException(thread);", "-\t}", "+    private void throwExceptionForUnfinishedThread(StatementThread thread)", "+            throws Throwable {", "+        if (thread.fExceptionThrownByOriginalStatement != null) {", "+            throw thread.fExceptionThrownByOriginalStatement;", "+        } else {", "+            throwTimeoutException(thread);", "+        }", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d291c1dd1a917a963c6af6f0f307e025", "repository": "https://github.com/junit-team/junit.git", "fileName": "src/main/java/junit/framework/TestSuite.java", "commitBeforeChange": "68cc61e2b6ae43f3ab6ef9a54e16b9318d3d038f", "commitAfterChange": "30f2b16525dabb477373be9ed3e76bb98b200806", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "  \tprivate Test testCaseForClass(Class<?> each)", "signatureAfterChange": "      private Test testCaseForClass(Class<?> each)", "diff": ["-\tprivate Test testCaseForClass(Class<?> each) {", "-\t\tif (TestCase.class.isAssignableFrom(each))", "-\t\t\treturn new TestSuite(each.asSubclass(TestCase.class));", "-\t\telse", "-\t\t\treturn warning(each.getCanonicalName() + \" does not extend TestCase\");", "-\t}", "+", "+    private Test testCaseForClass(Class<?> each) {", "+        if (TestCase.class.isAssignableFrom(each)) {", "+            return new TestSuite(each.asSubclass(TestCase.class));", "+        } else {", "+            return warning(each.getCanonicalName() + \" does not extend TestCase\");", "+        }", "+    }"]}]}