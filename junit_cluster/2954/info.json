{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "cafc5b25853cfce7e0b1f017907514ec", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "62cbec59e6bd6889995ba1a9ccb30000", "repository": "https://github.com/junit-team/junit.git", "fileName": "src/main/java/org/junit/runners/ParentRunner.java", "commitBeforeChange": "68cc61e2b6ae43f3ab6ef9a54e16b9318d3d038f", "commitAfterChange": "30f2b16525dabb477373be9ed3e76bb98b200806", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": "  \tpublic void filter(Filter filter) throws NoTestsRemainException", "signatureAfterChange": "      public void filter(Filter filter) throws NoTestsRemainException", "diff": ["-\tpublic void filter(Filter filter) throws NoTestsRemainException {", "-\t\tfor (Iterator<T> iter = getFilteredChildren().iterator(); iter.hasNext(); ) {", "-\t\t\tT each = iter.next();", "-\t\t\tif (shouldRun(filter, each))", "-\t\t\t\ttry {", "-\t\t\t\t\tfilter.apply(each);", "-\t\t\t\t} catch (NoTestsRemainException e) {", "-\t\t\t\t\titer.remove();", "-\t\t\t\t}", "-\t\t\telse", "-\t\t\t\titer.remove();", "-\t\t}", "-\t    if (getFilteredChildren().isEmpty()) {", "-\t        throw new NoTestsRemainException();", "-\t    }", "-\t}", "+    public void filter(Filter filter) throws NoTestsRemainException {", "+        for (Iterator<T> iter = getFilteredChildren().iterator(); iter.hasNext(); ) {", "+            T each = iter.next();", "+            if (shouldRun(filter, each)) {", "+                try {", "+                    filter.apply(each);", "+                } catch (NoTestsRemainException e) {", "+                    iter.remove();", "+                }", "+            } else {", "+                iter.remove();", "+            }", "+        }", "+        if (getFilteredChildren().isEmpty()) {", "+            throw new NoTestsRemainException();", "+        }", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d42fd660f2f6e8477ab60b2d3320f2c5", "repository": "https://github.com/junit-team/junit.git", "fileName": "src/main/java/org/junit/runners/ParentRunner.java", "commitBeforeChange": "83a25d440d118b7d10779a884d35f31045949e27", "commitAfterChange": "84d8eddd970e46894d471cd2dd17ae8d86fb05db", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": "      public void filter(Filter filter) throws NoTestsRemainException", "signatureAfterChange": "      public void filter(Filter filter) throws NoTestsRemainException", "diff": ["-        for (Iterator<T> iter = getFilteredChildren().iterator(); iter.hasNext(); ) {", "-            T each = iter.next();", "-            if (shouldRun(filter, each)) {", "-                try {", "-                    filter.apply(each);", "-                } catch (NoTestsRemainException e) {", "-                    iter.remove();", "+        synchronized (fLock) {", "+            List<T> sortedChildren = new ArrayList<T>(getFilteredChildren());", "+            try {", "+                for (Iterator<T> iter = sortedChildren.iterator(); iter.hasNext(); ) {", "+                    T each = iter.next();", "+                    if (shouldRun(filter, each)) {", "+                        try {", "+                            filter.apply(each);", "+                        } catch (NoTestsRemainException e) {", "+                            iter.remove();", "+                        }", "+                    } else {", "+                        iter.remove();", "+                    }", "-            } else {", "-                iter.remove();", "+            } finally {", "+                setFilteredChildren(sortedChildren);", "+"]}]}