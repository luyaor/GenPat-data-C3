{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d217bccb724fdae1c896a60b5669ac99", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "62655c3c20358eb2ea23755094c447c6", "repository": "https://github.com/checkstyle/checkstyle.git", "fileName": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/ModifiedControlVariableCheck.java", "commitBeforeChange": "3a20dbe8edafe0cca300b7b9dfa48effa9a36a06", "commitAfterChange": "5026b7228df4e3d9b79d13f27846987247f9e922", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 10, "signatureBeforeChange": "     private void leaveForIter(DetailAST ast)", "signatureAfterChange": "     private void leaveForIter(DetailAST ast)", "diff": ["-        final DetailAST forInitAST = ast.findFirstToken(TokenTypes.FOR_INIT);", "-        DetailAST parameterDefAST =", "-            forInitAST.findFirstToken(TokenTypes.VARIABLE_DEF);", "-", "-        for (; parameterDefAST != null;", "-             parameterDefAST = parameterDefAST.getNextSibling())", "-        {", "-            if (parameterDefAST.getType() == TokenTypes.VARIABLE_DEF) {", "-                final DetailAST param =", "-                    parameterDefAST.findFirstToken(TokenTypes.IDENT);", "-                currentVariables.push(param.getText());", "-            }", "+        final Set<String> variablesToPutInScope = getVariablesManagedByForLoop(ast);", "+        for (String variableName : variablesToPutInScope) {", "+            getCurrentVariables().push(variableName);", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c8ec727a5ba31c914d162622f8a052ef", "repository": "https://github.com/checkstyle/checkstyle.git", "fileName": "src/checkstyle/com/puppycrawl/tools/checkstyle/checks/coding/ModifiedControlVariableCheck.java", "commitBeforeChange": "f5efd9eb390e7ad95dfb2c7931101556de8a8253", "commitAfterChange": "0ac000841c1535baabe230787649013331289f3f", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 10, "signatureBeforeChange": "     private void leaveForDef(DetailAST aAST)", "signatureAfterChange": "     private void leaveForDef(DetailAST aAST)", "diff": ["-        DetailAST parameterDefAST =", "-            forInitAST.findFirstToken(TokenTypes.VARIABLE_DEF);", "+        if (forInitAST != null) {", "+            DetailAST parameterDefAST =", "+                forInitAST.findFirstToken(TokenTypes.VARIABLE_DEF);", "-        for (; parameterDefAST != null;", "-             parameterDefAST = (DetailAST) parameterDefAST.getNextSibling())", "-        {", "-            if (parameterDefAST.getType() == TokenTypes.VARIABLE_DEF) {", "-                mCurrentVariables.pop();", "+            for (; parameterDefAST != null;", "+                 parameterDefAST = (DetailAST) parameterDefAST.getNextSibling())", "+            {", "+                if (parameterDefAST.getType() == TokenTypes.VARIABLE_DEF) {", "+                    mCurrentVariables.pop();", "+                }", "+        else {", "+            // this is for-each loop, just pop veriables", "+            mCurrentVariables.pop();", "+        }"]}]}