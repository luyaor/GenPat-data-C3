{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0948f510e75bd1700fb5a3c87d0bf4a2", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6823d722709be0fdcf2093dcbab725d5", "repository": "https://github.com/checkstyle/checkstyle.git", "fileName": "src/checkstyle/com/puppycrawl/tools/checkstyle/Checker.java", "commitBeforeChange": "0e62f23a10fc00f43cd84d5e169336911fdf27aa", "commitAfterChange": "bbe51f6884ac0a961f55310e15ec90411709d970", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "     private int process(String aFileName)", "signatureAfterChange": "     private int process(String aFileName)", "diff": ["+        // check if already checked and passed the file", "+        // Create a stripped down version", "+        final String stripped;", "+        if ((mConfig.getBasedir() == null)", "+            || !aFileName.startsWith(mConfig.getBasedir()))", "+        {", "+            stripped = aFileName;", "+        }", "+        else {", "+            // making the assumption that there is text after basedir", "+            stripped = aFileName.substring(mConfig.getBasedir().length() + 1);", "+        }", "+", "-            fireFileStarted(aFileName);", "+            fireFileStarted(stripped);", "-            fireErrors(aFileName, errors);", "+            fireErrors(stripped, errors);", "-        fireFileFinished(aFileName);", "+        fireFileFinished(stripped);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e881368fae5996bcfbc26aade6cb1d36", "repository": "https://github.com/checkstyle/checkstyle.git", "fileName": "src/main/java/com/puppycrawl/tools/checkstyle/Utils.java", "commitBeforeChange": "aae2d7156dd98b3d5140002bed33ab5962bca85c", "commitAfterChange": "3a20dbe8edafe0cca300b7b9dfa48effa9a36a06", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "     public static String getStrippedFileName(             final String basedir, final String fileName)", "signatureAfterChange": "     public static String relativizeAndNormalizePath(final String baseDirectory, final String path)", "diff": ["-    public static String getStrippedFileName(", "-            final String basedir, final String fileName)", "+    public static String relativizeAndNormalizePath(final String baseDirectory, final String path)", "-        final String stripped;", "-        if (basedir == null || !fileName.startsWith(basedir)) {", "-            stripped = fileName;", "+        if (baseDirectory == null) {", "+            return path;", "-        else {", "-            // making the assumption that there is text after basedir", "-            final int skipSep = basedir.endsWith(File.separator) ? 0 : 1;", "-            stripped = fileName.substring(basedir.length() + skipSep);", "-        }", "-        return stripped;", "+        final Path pathAbsolute = Paths.get(path).normalize();", "+        final Path pathBase = Paths.get(baseDirectory).normalize();", "+        return pathBase.relativize(pathAbsolute).toString();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f962824f1de1f4e6c6001f03b5f34b08", "repository": "https://github.com/checkstyle/checkstyle.git", "fileName": "src/checkstyle/com/puppycrawl/tools/checkstyle/Checker.java", "commitBeforeChange": "b33ff29c69de2b8aca3b7f73315f4594bdce4c24", "commitAfterChange": "82b2ba526976588d550cac698e512f8de6c1ffc6", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "     private int process(File aFile)", "signatureAfterChange": "     private int process(File aFile)", "diff": ["-        // Create a stripped down version", "-        final String stripped;", "-        final String basedir = mConfig.getBasedir();", "-        if ((basedir == null) || !fileName.startsWith(basedir)) {", "-            stripped = fileName;", "-        }", "-        else {", "-            // making the assumption that there is text after basedir", "-            final int skipSep = basedir.endsWith(File.separator) ? 0 : 1;", "-            stripped = fileName.substring(basedir.length() + skipSep);", "-        }", "-", "-            fireFileStarted(stripped);", "+            fireFileStarted(fileName);", "-            fireErrors(stripped, mMessages.getMessages());", "+            fireErrors(fileName, mMessages.getMessages());", "-        fireFileFinished(stripped);", "+        fireFileFinished(fileName);", "+    }"]}]}