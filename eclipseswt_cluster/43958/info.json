{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2365ace042e475ba7e0d8c79dc901aab", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "12f610b0cdb2a70abab50887fe576ac5", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/TableItem.java", "commitBeforeChange": "2ea4b2ad4a6f2d1b2ba3fc42466b9d898c5a3d81", "commitAfterChange": "bd61e9373da7273cd410271556ae244e7083bc6f", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "  RECT getBounds (int row, int column, boolean getText, boolean getImage, boolean fullText, boolean fullImage, int hDC)", "signatureAfterChange": "  RECT getBounds (int row, int column, boolean getText, boolean getImage, boolean fullText, boolean fullImage, int hDC)", "diff": ["-\t\tif (OS.SendMessage (hwnd, OS. LVM_GETITEMRECT, row, rect) == 0) {", "-\t\t\treturn new RECT ();", "-\t\t}", "+\t\tparent.ignoreCustomDraw = true;", "+\t\tint code = OS.SendMessage (hwnd, OS. LVM_GETITEMRECT, row, rect);", "+\t\tparent.ignoreCustomDraw = false;", "+\t\tif (code == 0) return new RECT ();", "-\t\t\tif (OS.SendMessage (hwnd, OS. LVM_GETSUBITEMRECT, row, rect) == 0) {", "-\t\t\t\treturn new RECT ();", "-\t\t\t}", "+\t\t\tparent.ignoreCustomDraw = true;", "+\t\t\tint code = OS.SendMessage (hwnd, OS. LVM_GETSUBITEMRECT, row, rect);", "+\t\t\tparent.ignoreCustomDraw = false;", "+\t\t\tif (code == 0) return new RECT ();", "-\t\t\t\tif (OS.SendMessage (hwnd, OS. LVM_GETSUBITEMRECT, row, iconRect) != 0) {", "-\t\t\t\t\trect.left = iconRect.left;", "-\t\t\t\t}", "+\t\t\t\tparent.ignoreCustomDraw = true;", "+\t\t\t\tcode = OS.SendMessage (hwnd, OS. LVM_GETSUBITEMRECT, row, iconRect);", "+\t\t\t\tparent.ignoreCustomDraw = false;", "+\t\t\t\tif (code != 0) rect.left = iconRect.left;", "-\t\t\tif (OS.SendMessage (hwnd, OS. LVM_GETSUBITEMRECT, row, rect) == 0) {", "-\t\t\t\treturn new RECT ();", "-\t\t\t}", "+\t\t\tparent.ignoreCustomDraw = true;", "+\t\t\tint code = OS.SendMessage (hwnd, OS. LVM_GETSUBITEMRECT, row, rect);", "+\t\t\tparent.ignoreCustomDraw = false;", "+\t\t\tif (code == 0) return new RECT ();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1c02f27531da36d549a2af6627af08a6", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/TableItem.java", "commitBeforeChange": "d3d852fb4b2590731b3961d9cc84a7465bdc990c", "commitAfterChange": "696aea6756a0a7d46df771aafb6e94481b81ce87", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "  RECT getBounds (int row, int column, boolean getText, boolean getImage, boolean fullText, boolean fullImage, int hDC)", "signatureAfterChange": "  RECT getBounds (int row, int column, boolean getText, boolean getImage, boolean fullText, boolean fullImage, int hDC)", "diff": ["-\t\tif (getText && getImage) {", "-\t\t\trect.left = OS.LVIR_SELECTBOUNDS;", "+\t\tif (hDC != 0 && parent.explorerTheme) {", "+\t\t\trect.left = OS.LVIR_ICON;", "+\t\t\tparent.ignoreCustomDraw = true;", "+\t\t\tint code = OS.SendMessage (hwnd, OS. LVM_GETSUBITEMRECT, row, rect);", "+\t\t\tparent.ignoreCustomDraw = false;", "+\t\t\tif (code == 0) return new RECT ();", "+\t\t\tRECT textRect = new RECT ();", "+\t\t\tTCHAR buffer = new TCHAR (parent.getCodePage (), text, false);", "+\t\t\tint flags = OS.DT_NOPREFIX | OS.DT_SINGLELINE | OS.DT_CALCRECT;", "+\t\t\tOS.DrawText (hDC, buffer, buffer.length (), textRect, flags);", "+\t\t\trect.right += textRect.right - textRect.left + Table.INSET * 3 + 1;", "-\t\t\trect.left = getText ? OS.LVIR_LABEL : OS.LVIR_ICON;", "+\t\t\tif (getText && getImage) {", "+\t\t\t\trect.left = OS.LVIR_SELECTBOUNDS;", "+\t\t\t} else {", "+\t\t\t\trect.left = getText ? OS.LVIR_LABEL : OS.LVIR_ICON;", "+\t\t\t}", "+\t\t\tparent.ignoreCustomDraw = true;", "+\t\t\tint code = OS.SendMessage (hwnd, OS.LVM_GETITEMRECT, row, rect);", "+\t\t\tparent.ignoreCustomDraw = false;", "+\t\t\tif (code == 0) return new RECT ();", "-\t\tparent.ignoreCustomDraw = true;", "-\t\tint code = OS.SendMessage (hwnd, OS. LVM_GETITEMRECT, row, rect);", "-\t\tparent.ignoreCustomDraw = false;", "-\t\tif (code == 0) return new RECT ();", "+\t\t\tif (column == 0 && fullImage) {", "+\t\t\t\tRECT headerRect = new RECT ();", "+\t\t\t\tint hwndHeader = OS.SendMessage (hwnd, OS.LVM_GETHEADER, 0, 0);", "+\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, 0, headerRect);", "+\t\t\t\tOS.MapWindowPoints (hwndHeader, hwnd, headerRect, 2);", "+\t\t\t\trect.left = headerRect.left;", "+\t\t\t}"]}], "num": 43958}