{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "83d112efede0dddb35378602341c9809", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "796540c8c1d98f973ac097eaae5a6610", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/List.java", "commitBeforeChange": "3539392530d589ce910e4278acc811f43b907fc4", "commitAfterChange": "b4b61aff0cb1c1ac045f8af3c9d9b60914e3dc14", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 20, "signatureBeforeChange": " public int getSelectionCount ()", "signatureAfterChange": " public int getSelectionCount ()", "diff": ["-    /* AW", "-\tint [] argList = {OS.XmNselectedItemCount, 0};", "-\tOS.XtGetValues (handle, argList, argList.length / 2);", "-\treturn argList [1];", "-    */", "-\tSystem.out.println(\"List.getSelectionCount: nyi\");", "-    return 1;", "+\tint[] result= new int[1];", "+\tif (OS.GetDataBrowserItemCount(handle, OS.kDataBrowserNoItem, false, OS.kDataBrowserItemIsSelected, result) == OS.kNoErr)", "+\t\treturn result[0];", "+\tSystem.out.println(\"List.getSelectionCount: error in GetDataBrowserItemCount\");", "+    return 0;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ddc011028b37c2263c3be7af0ac18d03", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Tree2.java", "commitBeforeChange": "780deeed6b8d04c7f8256f57ee4b8ba670998a62", "commitAfterChange": "f6545bdd05853b79e0ef79ea07a3cd61ab49eba2", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 20, "signatureBeforeChange": "\r public int getSelectionCount ()", "signatureAfterChange": "\r public int getSelectionCount ()", "diff": ["-\t/* AW\r", "-\tif ((style & SWT.SINGLE) != 0) {\r", "-\t\tint hItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_CARET, 0);\r", "-\t\tif (hItem == 0) return 0;\r", "-\t\tTVITEM tvItem = new TVITEM ();\r", "-\t\ttvItem.mask = OS.TVIF_STATE;\r", "-\t\ttvItem.hItem = hItem;\r", "-\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);\r", "-\t\tif ((tvItem.state & OS.TVIS_SELECTED) == 0) return 0;\r", "-\t\treturn 1;\r", "-\t}\r", "-\tint count = 0;\r", "-\tTVITEM tvItem = new TVITEM ();\r", "-\ttvItem.mask = OS.TVIF_STATE;\r", "-\tint oldProc = OS.GetWindowLong (handle, OS.GWL_WNDPROC);\r", "-\tOS.SetWindowLong (handle, OS.GWL_WNDPROC, TreeProc);\r", "-\tfor (int i=0; i<items.length; i++) {\r", "-\t\tTreeItem2 item = items [i];\r", "-\t\tif (item != null) {\r", "-\t\t\ttvItem.hItem = item.handle;\r", "-\t\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);\r", "-\t\t\tif ((tvItem.state & OS.TVIS_SELECTED) != 0) count++;\r", "-\t\t}\r", "-\t}\r", "-\tOS.SetWindowLong (handle, OS.GWL_WNDPROC, oldProc);\r", "-\treturn count;\r", "-\t*/\r", "-\treturn 0;\r", "+\tint[] result= new int[1];\r", "+\tif (OS.GetDataBrowserItemCount(handle, OS.kDataBrowserNoItem, true, OS.kDataBrowserItemIsSelected, result) != OS.kNoErr)\r", "+\t\terror (SWT.ERROR_CANNOT_GET_COUNT);\r", "+\treturn result[0];\r"]}], "num": 8245}