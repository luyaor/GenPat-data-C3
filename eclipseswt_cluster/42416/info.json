{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "60b461a05759b59bc7df70c8ea6a2443", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d4d4ffe2c58544f85857c4ca7d69535a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/cocoa/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "4edc576de20a88abac088ae701d29ce3e54ede4f", "commitAfterChange": "c2ec875b36ecf39df432358c14d183b7d7f45fe0", "methodNumberBeforeChange": 30, "methodNumberAfterChange": 31, "signatureBeforeChange": "  int identifierForInitialRequest(int request, int dataSource)", "signatureAfterChange": "  int webView_identifierForInitialRequest_fromDataSource(int sender, int request, int dataSourceID)", "diff": ["-int identifierForInitialRequest(int request, int dataSource) {", "+int webView_identifierForInitialRequest_fromDataSource(int sender, int request, int dataSourceID) {", "-\t/*", "-\t* Note.  numberWithInt uses autorelease.  The resulting object", "-\t* does not need to be released.", "-\t* identifier = [NSNumber numberWithInt: resourceCount++]", "-\t*/\t", "-\tint identifier = Cocoa.objc_msgSend(Cocoa.C_NSNumber, Cocoa.S_numberWithInt, resourceCount++);", "-\t\t", "+\tNSNumber identifier = NSNumber.numberWithInt(resourceCount++);", "-\t\tint webView = Cocoa.HIWebViewGetWebView(webViewHandle);", "-\t\tint frame = Cocoa.objc_msgSend(dataSource, Cocoa.S_webFrame);", "-\t\tif (frame == Cocoa.objc_msgSend(webView, Cocoa.S_mainFrame)) this.identifier = identifier;", "+\t\tWebDataSource dataSource = new WebDataSource(dataSourceID);", "+\t\tWebFrame frame = dataSource.webFrame();", "+\t\tif (frame.id == webView.mainFrame().id) this.identifier = identifier.id;", "-\treturn identifier;", "+\treturn identifier.id;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0d72eb5c06a74f57e48cc3574f23627a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/cocoa/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "4edc576de20a88abac088ae701d29ce3e54ede4f", "commitAfterChange": "c2ec875b36ecf39df432358c14d183b7d7f45fe0", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 25, "signatureBeforeChange": "  void didReceiveTitle(int title, int frame)", "signatureAfterChange": "  void webView_didReceiveTitle_forFrame(int sender, int titleID, int frameID)", "diff": ["-void didReceiveTitle(int title, int frame) {", "-\tint webView = Cocoa.HIWebViewGetWebView(webViewHandle);", "-\tif (frame == Cocoa.objc_msgSend(webView, Cocoa.S_mainFrame)) {", "-\t\tint length = OS.CFStringGetLength(title);", "-\t\tchar[] buffer = new char[length];", "-\t\tCFRange range = new CFRange();", "-\t\trange.length = length;", "-\t\tOS.CFStringGetCharacters(title, range, buffer);", "+void webView_didReceiveTitle_forFrame(int sender, int titleID, int frameID) {", "+\tif (frameID == webView.mainFrame().id) {", "+\t\tNSString title = new NSString(titleID);", "+\t\tchar[] buffer = new char[title.length()];", "+\t\ttitle.getCharacters_(buffer);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "70dfc34e71648220d7794a49d2350f5c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/cocoa/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "4edc576de20a88abac088ae701d29ce3e54ede4f", "commitAfterChange": "c2ec875b36ecf39df432358c14d183b7d7f45fe0", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 22, "signatureBeforeChange": "  void didFinishLoadForFrame(int frame)", "signatureAfterChange": "  void webView_didFinishLoadForFrame(int sender, int frameID)", "diff": ["-void didFinishLoadForFrame(int frame) {", "-\tint webView = Cocoa.HIWebViewGetWebView(webViewHandle);", "-\tif (frame == Cocoa.objc_msgSend(webView, Cocoa.S_mainFrame)) {", "+void webView_didFinishLoadForFrame(int sender, int frameID) {", "+\tif (frameID == webView.mainFrame().id) {", "-\t\tint dataSource = Cocoa.objc_msgSend(frame, Cocoa.S_dataSource);", "-\t\tif (dataSource != 0) {", "-\t\t\tint title = Cocoa.objc_msgSend(dataSource, Cocoa.S_pageTitle);", "-\t\t\tif (title == 0) {\t/* page has no title */", "+\t\tWebFrame frame = new WebFrame(frameID);", "+\t\tWebDataSource dataSource = frame.dataSource();", "+\t\tif (dataSource != null) {", "+\t\t\tNSString title = dataSource.pageTitle();", "+\t\t\tif (title == null) {\t/* page has no title */"]}], "num": 42416}