{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0824b4b4814aed2eaf1f9d1d46e6f1e3", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "42ebcbb21245e34d5cfad5b9abdb24e5", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/List.java", "commitBeforeChange": "441698ecc1c76f73e590da9afb5676ceb4571947", "commitAfterChange": "7e69644e833915ee961adff3b1882f037d334978", "methodNumberBeforeChange": 48, "methodNumberAfterChange": 47, "signatureBeforeChange": " public void showSelection ()", "signatureAfterChange": " public void showSelection ()", "diff": ["-    /* AW", "-\tint [] buffer = new int [1], positions = new int [1];", "-\tif (!OS.XmListGetSelectedPos (handle, positions, buffer)) return;", "-\tif (buffer [0] == 0) return;", "-\tint address = positions [0];", "-\tint [] indices = new int [1];", "-\tOS.memmove (indices, address, 4);", "-\tOS.XtFree (address);", "-\tint index = indices [0];", "-\tint [] argList = {", "-\t\tOS.XmNtopItemPosition, 0,", "-\t\tOS.XmNvisibleItemCount, 0,", "-\t\tOS.XmNitemCount, 0,", "-\t};", "-\tOS.XtGetValues (handle, argList, argList.length / 2);", "-\tint topIndex = argList [1], visibleCount = argList [3], count = argList [5];", "-\tint bottomIndex = Math.min (topIndex + visibleCount - 1, count);", "-\tif ((topIndex <= index) && (index <= bottomIndex)) return;", "-\tint lastIndex = Math.max (1, count - visibleCount + 1);", "-\tint newTop = Math.min (Math.max (index - (visibleCount / 2), 1), lastIndex);", "-\tOS.XmListSetPos (handle, newTop);", "-    */", "-\tSystem.out.println(\"List.showSelection: nyi\");", "+\t   ", "+\tint resultHandle= OS.NewHandle(0);", "+\tif (OS.GetDataBrowserItems(handle, OS.kDataBrowserNoItem, false, OS.kDataBrowserItemIsSelected, resultHandle) != OS.kNoErr)", "+\t\terror (SWT.ERROR_CANNOT_GET_SELECTION);", "+\t", "+\tint itemCount= OS.GetHandleSize(resultHandle) / 4;\t// sizeof(int)", "+\tif (itemCount > 0) {\t", "+\t\tint resultIDs[]= new int[1];", "+\t\tOS.getHandleData(resultHandle, resultIDs);", "+\t\tif (resultIDs[0] != 0)", "+\t\t\tOS.RevealDataBrowserItem(handle, resultIDs[0], COL_ID, false);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "77005f1d0d1c94a22264653deeca4872", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/List.java", "commitBeforeChange": "3539392530d589ce910e4278acc811f43b907fc4", "commitAfterChange": "b4b61aff0cb1c1ac045f8af3c9d9b60914e3dc14", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 21, "signatureBeforeChange": " public int getSelectionIndex ()", "signatureAfterChange": " public int getSelectionIndex ()", "diff": ["-\tSystem.out.println(\"List.getSelectionIndex: nyi\");", "-    return 1;", "+    int resultHandle= OS.NewHandle(0);", "+\tif (OS.GetDataBrowserItems(handle, OS.kDataBrowserNoItem, false, OS.kDataBrowserItemIsSelected, resultHandle) != OS.kNoErr)", "+\t\terror (SWT.ERROR_CANNOT_GET_SELECTION);", "+\t", "+\tint itemCount= OS.GetHandleSize(resultHandle) / 4;\t// sizeof(int)", "+\tif (itemCount > 0) {\t", "+\t\tint resultIDs[]= new int[1];", "+\t\tOS.getHandleData(resultHandle, resultIDs);", "+\t\treturn getIndex(resultIDs[0]);", "+\t}", "+\treturn -1;"]}], "num": 36677}