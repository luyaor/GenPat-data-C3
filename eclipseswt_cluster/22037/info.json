{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ae5a5aa3218ec32af8e4b915c01f0603", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "456efdf3a40b6b67e5d84e33df5d22a8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/wpf/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "8f4a546302656f071aaae80c1cdabdf9312e2bf9", "commitAfterChange": "3bfcb7a837c685da281c2313b6f3e30acb61e727", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": " void computeRuns ()", "signatureAfterChange": " void computeRuns ()", "diff": ["-\t\t\t\t\tint strikeout = OS.TextDecorations_Strikethrough();", "+\t\t\t\t\tint pen = 0;", "+\t\t\t\t\tif (style.strikeoutColor != null) {", "+\t\t\t\t\t\tint color = style.strikeoutColor.handle;", "+\t\t\t\t\t\tint brush = OS.gcnew_SolidColorBrush(color);", "+\t\t\t\t\t\tpen = OS.gcnew_Pen(brush, 1);", "+\t\t\t\t\t\tOS.GCHandle_Free(brush);", "+\t\t\t\t\t}", "+\t\t\t\t\tint strikeout = OS.gcnew_TextDecoration(OS.TextDecorationLocation_Strikethrough, pen, 0, OS.TextDecorationUnit_FontRecommended, OS.TextDecorationUnit_FontRecommended);", "+\t\t\t\t\tif (pen != 0) OS.GCHandle_Free(pen);", "-\t\t\t\t\tint underline = OS.TextDecorations_Underline();", "+\t\t\t\t\tint pen = 0;", "+\t\t\t\t\tif (style.underlineColor != null) {", "+\t\t\t\t\t\tint color = style.underlineColor.handle;", "+\t\t\t\t\t\tint brush = OS.gcnew_SolidColorBrush(color);", "+\t\t\t\t\t\tpen = OS.gcnew_Pen(brush, 1);", "+\t\t\t\t\t\tOS.GCHandle_Free(brush);", "+\t\t\t\t\t}", "+\t\t\t\t\tint underline = OS.gcnew_TextDecoration(OS.TextDecorationLocation_Underline, pen, 0, OS.TextDecorationUnit_FontRecommended, OS.TextDecorationUnit_FontRecommended);", "+\t\t\t\t\tif (pen != 0) OS.GCHandle_Free(pen);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0aee4be8dbdab91ef7a74f64cd83e6e3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "d9f8deb8512ae7dd0174a38a745d39e41d44f779", "commitAfterChange": "229e8de56e006592bc1edc42a6b95c48eecf3cf8", "methodNumberBeforeChange": 236, "methodNumberAfterChange": 236, "signatureBeforeChange": " void modifyContent(Event event, boolean updateCaret)", "signatureAfterChange": " void modifyContent(Event event, boolean updateCaret)", "diff": ["+\t\tif (updateCaret) {", "+\t\t\t//Fix advancing flag for delete/backspace key on direction boundary", "+\t\t\tif (event.text.length() == 0) {", "+\t\t\t\tint lineIndex = content.getLineAtOffset(event.start);", "+\t\t\t\tint lineOffset = content.getOffsetAtLine(lineIndex);", "+\t\t\t\tString lineText = content.getLine(lineIndex);", "+\t\t\t\tTextLayout layout = renderer.getTextLayout(lineText, lineOffset);", "+\t\t\t\tint levelStart = layout.getLevel(event.start - lineOffset);", "+\t\t\t\tint lineIndexEnd = content.getLineAtOffset(event.end);", "+\t\t\t\tif (lineIndex != lineIndexEnd) {", "+\t\t\t\t\trenderer.disposeTextLayout(layout);", "+\t\t\t\t\tlineOffset = content.getOffsetAtLine(lineIndexEnd);", "+\t\t\t\t\tlineText = content.getLine(lineIndexEnd);", "+\t\t\t\t\tlayout = renderer.getTextLayout(lineText, lineOffset);", "+\t\t\t\t}", "+\t\t\t\tint levelEnd = layout.getLevel(event.end - lineOffset);", "+\t\t\t\trenderer.disposeTextLayout(layout);", "+\t\t\t\tadvancing = levelStart != levelEnd;", "+\t\t\t}", "+\t\t}", "-\t\t}\t", "-\t\tsendModifyEvent(event);\t\t", "+\t\t}", "+\t\tsendModifyEvent(event);"]}], "num": 22037}