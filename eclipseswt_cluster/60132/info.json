{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3e64cb2367733cb4a65e4ba4cdbb6070", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "011355d4a50f642bee16ef85c9e651ea", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Program/cocoa/org/eclipse/swt/program/Program.java", "commitBeforeChange": "663e25e789d61f045696acdf7ea667ed15ef8797", "commitAfterChange": "0bae8672d4451395af415551724cef204e01e25f", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": " public static boolean launch (String fileName)", "signatureAfterChange": " public static boolean launch (String fileName)", "diff": ["-\tif (fileName.indexOf(':') == -1) fileName = \"file://\" + fileName;", "+", "+\tNSString unescapedStr = NSString.stringWith(\"%\"); //$NON-NLS-1$", "+\tif (fileName.indexOf(':') == -1) {", "+\t\tfileName = PREFIX_FILE + fileName;", "+\t} else {", "+\t\tString lowercaseName = fileName.toLowerCase ();", "+\t\tif (lowercaseName.startsWith (PREFIX_HTTP) || lowercaseName.startsWith (PREFIX_HTTPS)) {", "+\t\t\tunescapedStr = NSString.stringWith(\"%#\"); //$NON-NLS-1$", "+\t\t}", "+\t}", "+", "+\tNSString fullPath = NSString.stringWith(fileName);", "+\tint /*long*/ ptr = OS.CFURLCreateStringByAddingPercentEscapes(0, fullPath.id, unescapedStr.id, 0, OS.kCFStringEncodingUTF8);", "+\tNSString escapedString = new NSString(ptr);", "-\t//TODO use CFURLCreateStringByAddingPercentEscapes instead", "-\tNSString str = NSString.stringWith(fileName).stringByAddingPercentEscapesUsingEncoding(OS.NSUTF8StringEncoding);", "-\treturn workspace.openURL(NSURL.URLWithString(str));", "+\tboolean result = workspace.openURL(NSURL.URLWithString(escapedString));", "+\tOS.CFRelease(ptr);", "+\treturn result;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e5de27d13256ae67a327864d389303bc", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/cocoa/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "3790ef431f43fd08c2daab6765420b86c4c7cbcc", "commitAfterChange": "d31d33a7e8a5efcdac33e04bb4b1007a6d1da96c", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 19, "signatureBeforeChange": "  public boolean setUrl(String url)", "signatureAfterChange": "  public boolean setUrl(String url)", "diff": ["-\tNSURL inURL;", "-\tif (url.startsWith(PROTOCOL_FILE)) {", "-\t\turl = url.substring(PROTOCOL_FILE.length());", "+\tif (url.indexOf('/') == 0) {", "+\t\turl = PROTOCOL_FILE + url;", "+\t} else if (url.indexOf(':') == -1) {", "+\t\turl = PROTOCOL_HTTP + url;", "-\tboolean isHttpURL = url.indexOf('/') != 0;", "-\tif (isHttpURL) {", "-\t\tif (url.indexOf(':') == -1) {", "-\t\t\turl = PROTOCOL_HTTP + \"//\" + url; //$NON-NLS-1$", "-\t\t}", "-\t\tinURL = NSURL.URLWithString(NSString.stringWith(url.toString()));", "-\t} else {", "-\t\tinURL = NSURL.fileURLWithPath(NSString.stringWith(url.toString()));", "-\t}", "-\tif (inURL == null) return false;", "+\tNSString str = NSString.stringWith(url);", "+\tNSString unescapedStr = NSString.stringWith(\"%#\"); //$NON-NLS-1$", "+\tint /*long*/ ptr = OS.CFURLCreateStringByAddingPercentEscapes(0, str.id, unescapedStr.id, 0, OS.kCFStringEncodingUTF8);", "+\tNSString escapedString = new NSString(ptr);", "+\tNSURL inURL = NSURL.URLWithString(escapedString);", "-\tWebFrame mainFrame= webView.mainFrame();", "+\tWebFrame mainFrame = webView.mainFrame();"]}], "num": 60132}