{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9ef15edd0d8853924b387c388f6a8d19", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fec06e39a5012a90169e402eac0a31b3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "9e9b22bcbb72aef5b3bb15c7ddbde8006ef6a7c8", "commitAfterChange": "2e3cc3f2343444e38d6648881ff7de0ee9aea010", "methodNumberBeforeChange": 53, "methodNumberAfterChange": 58, "signatureBeforeChange": " void shape (final int hdc, final StyleItem run)", "signatureAfterChange": " void shape (final int hdc, final StyleItem run)", "diff": ["-\trun.width = abc[0] + abc[1] + abc[2];", "-\tTEXTMETRIC lptm = OS.IsUnicode ? (TEXTMETRIC)new TEXTMETRICW() : new TEXTMETRICA();", "-\tOS.GetTextMetrics(hdc, lptm);", "-\trun.ascent = lptm.tmAscent;", "-\trun.descent = lptm.tmDescent;", "-\trun.leading = lptm.tmInternalLeading;", "+\tif (run.style != null && run.style.metrics != null) {", "+\t\tGlyphMetrics metrics = run.style.metrics;", "+\t\trun.width = metrics.width * run.glyphCount;", "+\t\trun.ascent = metrics.ascent;", "+\t\trun.descent = metrics.descent;", "+\t\trun.leading = 0;", "+\t} else {", "+\t\trun.width = abc[0] + abc[1] + abc[2];", "+\t\tTEXTMETRIC lptm = OS.IsUnicode ? (TEXTMETRIC)new TEXTMETRICW() : new TEXTMETRICA();", "+\t\tOS.GetTextMetrics(hdc, lptm);", "+\t\trun.ascent = lptm.tmAscent;", "+\t\trun.descent = lptm.tmDescent;", "+\t\trun.leading = lptm.tmInternalLeading;", "+\t}", "+\tif (run.style != null) {", "+\t\trun.ascent += run.style.rise;", "+\t\trun.descent -= +run.style.rise;", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a1e94680da0074bd38a849a15f325d84", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "0577307d31e48dc29b7c4e1d4dd5a260c1ff63d8", "commitAfterChange": "c589b83339477b9cd24d205bdab1caf2f61e909e", "methodNumberBeforeChange": 53, "methodNumberAfterChange": 58, "signatureBeforeChange": " void shape (final int hdc, final StyleItem run)", "signatureAfterChange": " void shape (final int hdc, final StyleItem run)", "diff": ["-\trun.width = abc[0] + abc[1] + abc[2];", "-\tTEXTMETRIC lptm = OS.IsUnicode ? (TEXTMETRIC)new TEXTMETRICW() : new TEXTMETRICA();", "-\tOS.GetTextMetrics(hdc, lptm);", "-\trun.ascent = lptm.tmAscent;", "-\trun.descent = lptm.tmDescent;", "-\trun.leading = lptm.tmInternalLeading;", "+\tif (run.style != null && run.style.metrics != null) {", "+\t\tGlyphMetrics metrics = run.style.metrics;", "+\t\trun.width = metrics.width * run.glyphCount;", "+\t\trun.ascent = metrics.ascent;", "+\t\trun.descent = metrics.descent;\t\t", "+\t} else {", "+\t\trun.width = abc[0] + abc[1] + abc[2];", "+\t\tTEXTMETRIC lptm = OS.IsUnicode ? (TEXTMETRIC)new TEXTMETRICW() : new TEXTMETRICA();", "+\t\tOS.GetTextMetrics(hdc, lptm);", "+\t\trun.ascent = lptm.tmAscent;", "+\t\trun.descent = lptm.tmDescent;", "+\t\trun.leading = lptm.tmInternalLeading;", "+\t}", "+\tif (run.style != null) {", "+\t\trun.ascent += run.style.rise;", "+\t\trun.descent -= +run.style.rise; ", "+\t}"]}], "num": 38339}