{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "27e9cd5617c562db640f8effa4f62b08", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "619f0a7f874d80db19ae286774669404", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "6d45410e136f807ef79f7ae29764cf531166798d", "commitAfterChange": "b1a0e6d11ab761abaa61e0af2a65911b134dc63e", "methodNumberBeforeChange": 207, "methodNumberAfterChange": 207, "signatureBeforeChange": "\r void performPaint(GC gc,int startLine,int startY, int renderHeight, boolean drawDirect)", "signatureAfterChange": "\r void performPaint(GC gc,int startLine,int startY, int renderHeight)", "diff": ["-void performPaint(GC gc,int startLine,int startY, int renderHeight, boolean drawDirect)\t{\r", "+void performPaint(GC gc,int startLine,int startY, int renderHeight)\t{\r", "-\t// Do double buffering on direct draw operations only\r", "-\tif (drawDirect || SWT.getPlatform().equals(\"win32\")) {\r", "-\t\tImage lineBuffer = new Image(getDisplay(), clientArea.width, renderHeight);\r", "-\t\tGC lineGC = new GC(lineBuffer);\t\r", "+\tImage lineBuffer = new Image(getDisplay(), clientArea.width, renderHeight);\r", "+\tGC lineGC = new GC(lineBuffer);\t\r", "-\t\tlineGC.setFont(font);\r", "-\t\tlineGC.setForeground(foreground);\r", "-\t\tlineGC.setBackground(background);\r", "-\t\tfor (int i = startLine; paintY < renderHeight && i < lineCount; i++, paintY += lineHeight) {\r", "-\t\t\tString line = content.getLine(i);\r", "-\t\t\trenderer.drawLine(line, i, paintY, lineGC, background, foreground, fontData, true);\r", "-\t\t}\r", "-\t\tif (paintY < renderHeight) {\r", "-\t\t\tlineGC.setBackground(background);\r", "-\t\t\tlineGC.setForeground(background);\r", "-\t\t\tlineGC.fillRectangle(0, paintY, clientArea.width, renderHeight - paintY);\r", "-\t\t}\r", "-\t\tgc.drawImage(lineBuffer, 0, startY);\r", "-\t\tlineGC.dispose();\r", "-\t\tlineBuffer.dispose();\r", "-\t} else {\r", "-\t\tfor (int i = startLine; paintY < renderHeight && i < lineCount; i++, paintY += lineHeight) {\r", "-\t\t\tString line = content.getLine(i);\r", "-\t\t\trenderer.drawLine(line, i, paintY + startY, gc, background, foreground, fontData, true);\r", "-\t\t}\r", "-\t\tif (paintY < renderHeight) {\r", "-\t\t\tgc.setBackground(background);\r", "-\t\t\tgc.setForeground(background);\r", "-\t\t\tgc.fillRectangle(0, paintY + startY, clientArea.width, renderHeight - paintY);\r", "-\t\t}\r", "+\tlineGC.setFont(font);\r", "+\tlineGC.setForeground(foreground);\r", "+\tlineGC.setBackground(background);\r", "+\tfor (int i = startLine; paintY < renderHeight && i < lineCount; i++, paintY += lineHeight) {\r", "+\t\tString line = content.getLine(i);\r", "+\t\trenderer.drawLine(line, i, paintY, lineGC, background, foreground, fontData, true);\r", "+\tif (paintY < renderHeight) {\r", "+\t\tlineGC.setBackground(background);\r", "+\t\tlineGC.setForeground(background);\r", "+\t\tlineGC.fillRectangle(0, paintY, clientArea.width, renderHeight - paintY);\r", "+\t}\r", "+\tgc.drawImage(lineBuffer, 0, startY);\r", "+\tlineGC.dispose();\r", "+\tlineBuffer.dispose();\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9b1e5a23dbe4e15c06f25ef272bd095b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "a2d20a77730197bc49ca44196a9d2b8d8f89d9ec", "commitAfterChange": "8f9792ad382231f4a069479e42cc7c4ed22ea444", "methodNumberBeforeChange": 214, "methodNumberAfterChange": 231, "signatureBeforeChange": "\r void performPaint(GC gc,int startLine,int startY, int renderHeight)", "signatureAfterChange": "\r void performPaint(GC gc,int startLine,int startY, int renderHeight)", "diff": ["- */\r", "-void performPaint(GC gc,int startLine,int startY, int renderHeight)\t{\r", "-\tint lineCount = content.getLineCount();\r", "-\tint paintY = topMargin;\t\r", "-\tRectangle clientArea = getClientArea();\r", "-\tColor background = getBackground();\r", "-\tColor foreground = getForeground();\r", "-\tFont font = gc.getFont();\r", "-\tFontData fontData = font.getFontData()[0];\r", "-\t\r", "-\t// Check if there is work to do. We never want to try and create \r", "-\t// an Image with 0 width or 0 height.\r", "-\tif (clientArea.width == 0 || renderHeight == 0) {\t\t\r", "-\t\treturn;\r", "-\t}\r", "-\tif (isSingleLine()) {\r", "-\t\tlineCount = 1;\r", "-\t\tif (startLine > 1) {\r", "-\t\t\tstartLine = 1;\r", "-\t\t}\r", "-\t}\r", "-\tImage lineBuffer = new Image(getDisplay(), clientArea.width, renderHeight);\r", "-\tGC lineGC = new GC(lineBuffer);\t\r", "-\r", "-\tlineGC.setFont(font);\r", "-\tlineGC.setForeground(foreground);\r", "-\tlineGC.setBackground(background);\r", "-\tfor (int i = startLine; paintY < renderHeight && i < lineCount; i++, paintY += lineHeight) {\r", "-\t\tString line = content.getLine(i);\r", "-\t\trenderer.drawLine(line, i, paintY, lineGC, background, foreground, fontData, true);\r", "-\t}\r", "-\tif (paintY < renderHeight) {\r", "-\t\tlineGC.setBackground(background);\r", "-\t\tlineGC.setForeground(background);\r", "-\t\tlineGC.fillRectangle(0, paintY, clientArea.width, renderHeight - paintY);\r", "-\t}\r", "-\tgc.drawImage(lineBuffer, 0, startY);\r", "-\tlineGC.dispose();\r", "-\tlineBuffer.dispose();\r", "-\tclearMargin(gc, background, clientArea, renderHeight);\r", "-}\r", "+ */\r", "+void performPaint(GC gc,int startLine,int startY, int renderHeight)\t{\r", "+\tRectangle clientArea = getClientArea();\r", "+\tColor background = getBackground();\r", "+\t\r", "+\t// Check if there is work to do. We never want to try and create \r", "+\t// an Image with 0 width or 0 height.\r", "+\tif (clientArea.width == 0) {\r", "+\t\treturn;\r", "+\t}\r", "+\tif (renderHeight > 0) {\r", "+\t\t// renderHeight will be negative when only top margin needs redrawing\r", "+\t\tFont font = gc.getFont();\r", "+\t\tFontData fontData = font.getFontData()[0];\r", "+\t\tColor foreground = getForeground();\r", "+\t\tint lineCount = content.getLineCount();\r", "+\t\tint paintY = 0;\r", "+\t\t\r", "+\t\tif (isSingleLine()) {\r", "+\t\t\tlineCount = 1;\r", "+\t\t\tif (startLine > 1) {\r", "+\t\t\t\tstartLine = 1;\r", "+\t\t\t}\r", "+\t\t}\r", "+\t\tImage lineBuffer = new Image(getDisplay(), clientArea.width, renderHeight);\r", "+\t\tGC lineGC = new GC(lineBuffer);\t\r", "+\t\r", "+\t\tlineGC.setFont(font);\r", "+\t\tlineGC.setForeground(foreground);\r", "+\t\tlineGC.setBackground(background);\r", "+\t\tfor (int i = startLine; paintY < renderHeight && i < lineCount; i++, paintY += lineHeight) {\r", "+\t\t\tString line = content.getLine(i);\r", "+\t\t\trenderer.drawLine(line, i, paintY, lineGC, background, foreground, fontData, true);\r", "+\t\t}\r", "+\t\tif (paintY < renderHeight) {\r", "+\t\t\tlineGC.setBackground(background);\r", "+\t\t\tlineGC.setForeground(background);\r", "+\t\t\tlineGC.fillRectangle(0, paintY, clientArea.width, renderHeight - paintY);\r", "+\t\t}\r", "+\t\tgc.drawImage(lineBuffer, 0, startY);\r", "+\t\tlineGC.dispose();\r", "+\t\tlineBuffer.dispose();\r", "+\t}\r", "+\tclearMargin(gc, background, clientArea, renderHeight);\r", "+}\r"]}], "num": 7985}