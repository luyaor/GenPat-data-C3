{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "72ec3c0068caab89337d6ce62c20fe52", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "30c7ae8367939464a77b50f57098c260", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "d69b4f13802cc1fd0d1c0b912ccbdc07c8718aed", "commitAfterChange": "0b8a14ca61887fa0eaf9dda50636719fe129f765", "methodNumberBeforeChange": 102, "methodNumberAfterChange": 102, "signatureBeforeChange": " \t LRESULT wmNotifyChild (int wParam, int lParam)", "signatureAfterChange": " \t LRESULT wmNotifyChild (int wParam, int lParam)", "diff": ["-\t\t\t\t\t* Bug in Windows.  When pszText points to a zero length NULL", "-\t\t\t\t\t* terminated string, Windows correctly draws the empty string", "-\t\t\t\t\t* but the cache of the bounds for the item is not reset.  This", "-\t\t\t\t\t* means that when the text for an item is set and then reset", "-\t\t\t\t\t* to an empty string, the selection draws using the bounds of", "-\t\t\t\t\t* the previous text.  The fix is to assign a NULL pointer to", "-\t\t\t\t\t* pszText rather than a pointer to a zero-length string.", "+\t\t\t\t\t* Bug in Windows.  When pszText points to a zero length", "+\t\t\t\t\t* NULL terminated string, Windows correctly draws the", "+\t\t\t\t\t* empty string but the cache of the bounds for the item", "+\t\t\t\t\t* is not reset.  This means that when the text for the", "+\t\t\t\t\t* item is set and then reset to an empty string, the", "+\t\t\t\t\t* selection draws using the bounds of the previous text.", "+\t\t\t\t\t* The fix is to assign a NULL pointer to pszText rather", "+\t\t\t\t\t* than a pointer to a zero length string.", "+\t\t\t\t\t* ", "+\t\t\t\t\t* NOTE: This is only a problem for items in the first", "+\t\t\t\t\t* column.  Assigning NULL to other columns stops Windows", "+\t\t\t\t\t* from drawing the selection when LVS_EX_FULLROWSELECT", "+\t\t\t\t\t* is set.", "-\t\t\t\t\tif (string.length () == 0) {", "+\t\t\t\t\tif (string.length () == 0 && plvfi.iSubItem == 0) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "02905994bf2ed5d9d90dcbd09acea709", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "4e541013d096af28302abcbca900276c0e545259", "commitAfterChange": "e126ad021104dbb3243e0172869102689e47d9ea", "methodNumberBeforeChange": 101, "methodNumberAfterChange": 101, "signatureBeforeChange": " \t LRESULT wmNotifyChild (int wParam, int lParam)", "signatureAfterChange": " \t LRESULT wmNotifyChild (int wParam, int lParam)", "diff": ["-\t\t\t\t\tTCHAR buffer = new TCHAR (getCodePage (), string, false);", "-\t\t\t\t\tint byteCount = Math.min (buffer.length (), plvfi.cchTextMax - 1) * TCHAR.sizeof;", "-\t\t\t\t\tOS.MoveMemory (plvfi.pszText, buffer, byteCount);", "-\t\t\t\t\tOS.MoveMemory (plvfi.pszText + byteCount, new byte [TCHAR.sizeof], TCHAR.sizeof);", "-\t\t\t\t\tplvfi.cchTextMax = Math.min (plvfi.cchTextMax, string.length () + 1);", "+\t\t\t\t\t/*", "+\t\t\t\t\t* Bug in Windows.  When pszText points to a zero length NULL", "+\t\t\t\t\t* terminated string, Windows correctly draws the empty string", "+\t\t\t\t\t* but the cache of the bounds for the item is not reset.  This", "+\t\t\t\t\t* means that when the text for an item is set and then reset", "+\t\t\t\t\t* to an empty string, the selection draws using the bounds of", "+\t\t\t\t\t* the previous text.  The fix is to assign a NULL pointer to", "+\t\t\t\t\t* pszText rather than a pointer to a zero-length string.", "+\t\t\t\t\t*/", "+\t\t\t\t\tif (string.length () == 0) {", "+\t\t\t\t\t\tplvfi.pszText = 0;", "+\t\t\t\t\t\tplvfi.cchTextMax = 0;", "+\t\t\t\t\t} else {", "+\t\t\t\t\t\tTCHAR buffer = new TCHAR (getCodePage (), string, false);", "+\t\t\t\t\t\tint byteCount = Math.min (buffer.length (), plvfi.cchTextMax - 1) * TCHAR.sizeof;", "+\t\t\t\t\t\tOS.MoveMemory (plvfi.pszText, buffer, byteCount);", "+\t\t\t\t\t\tOS.MoveMemory (plvfi.pszText + byteCount, new byte [TCHAR.sizeof], TCHAR.sizeof);", "+\t\t\t\t\t\tplvfi.cchTextMax = Math.min (plvfi.cchTextMax, string.length () + 1);", "+\t\t\t\t\t}"]}], "num": 46824}