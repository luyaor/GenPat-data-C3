{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b05b2b72f262fc8712c533a333b3aa7b", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "51aae680da7be17e840c9bae898b2ade", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "cf8dd9a11f6c4a7e1a26b384bfc22781e8911949", "commitAfterChange": "d7590f51051fffa0427e416ff9c2ddc1de2b8802", "methodNumberBeforeChange": 67, "methodNumberAfterChange": 67, "signatureBeforeChange": " public Point stringExtent(String string)", "signatureAfterChange": " public Point stringExtent(String string)", "diff": ["-\tif (string.length () == 0) return new Point(0, getFontHeight());", "-\tbyte[] buffer = Converter.wcsToMbcs(getCodePage (), string, true);", "-\tint xmString = OS.XmStringCreate(buffer, OS.XmFONTLIST_DEFAULT_TAG);", "+\tif (data.stringWidth != -1) return new Point(data.stringWidth, data.stringHeight);", "+\tif (string.length () == 0) return new Point(data.stringWidth = 0, data.stringHeight = getFontHeight());", "+\tif (string != data.string) {", "+\t\tif (data.xmString != 0) OS.XmStringFree(data.xmString);", "+\t\tbyte [] buffer = Converter.wcsToMbcs (getCodePage (), string, true);", "+\t\tint xmString = OS.XmStringCreate (buffer, OS.XmFONTLIST_DEFAULT_TAG);", "+\t\tdata.string = string;", "+\t\tdata.xmString = xmString;", "+\t\tdata.stringWidth = data.stringHeight = -1;", "+\t}", "+\tint xmString = data.xmString;", "-\tOS.XmStringFree(xmString);", "-\treturn new Point(width, height);", "+\treturn new Point(data.stringWidth = width, data.stringHeight = height);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d592c5848111a045984558474258c600", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "9cd26d5223bd03ea08324197722fd8b6203b707d", "commitAfterChange": "4b95c7f69273e725cd95810021784658917b8481", "methodNumberBeforeChange": 67, "methodNumberAfterChange": 70, "signatureBeforeChange": " public Point stringExtent(String string)", "signatureAfterChange": " public Point stringExtent(String string)", "diff": ["-\tif (string.length () == 0) return new Point(0, getFontHeight());", "-\tbyte[] buffer = Converter.wcsToMbcs(getCodePage (), string, true);", "-\tint xmString = OS.XmStringCreate(buffer, OS.XmFONTLIST_DEFAULT_TAG);", "-\tint fontList = data.fontList;", "-\tint width = OS.XmStringWidth(fontList, xmString);", "-\tint height = OS.XmStringHeight(fontList, xmString);", "-\tOS.XmStringFree(xmString);", "-\treturn new Point(width, height);", "-}", "+\tsetString(string);", "+\tif (data.stringWidth != -1) return new Point(data.stringWidth, data.stringHeight);", "+\tint width, height;", "+\tif (string.length() == 0) {", "+\t\twidth = 0;", "+\t\theight = getFontHeight();", "+\t} else {", "+\t\tint fontList = data.fontList;", "+\t\tint xmString = data.xmString;", "+\t\twidth = OS.XmStringWidth(fontList, xmString);", "+\t\theight = OS.XmStringHeight(fontList, xmString);", "+\treturn new Point(data.stringWidth = width, data.stringHeight = height);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6ca87927ee7d7d98d65d281b33d5c8da", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "d7590f51051fffa0427e416ff9c2ddc1de2b8802", "commitAfterChange": "8ee2d16d8d590e50629439d5e39cbcd951eeed6e", "methodNumberBeforeChange": 67, "methodNumberAfterChange": 67, "signatureBeforeChange": " public Point stringExtent(String string)", "signatureAfterChange": " public Point stringExtent(String string)", "diff": ["-\tif (data.stringWidth != -1) return new Point(data.stringWidth, data.stringHeight);", "-\tif (string.length () == 0) return new Point(data.stringWidth = 0, data.stringHeight = getFontHeight());", "-\tif (string != data.string) {", "-\t\tif (data.xmString != 0) OS.XmStringFree(data.xmString);", "-\t\tbyte [] buffer = Converter.wcsToMbcs (getCodePage (), string, true);", "-\t\tint xmString = OS.XmStringCreate (buffer, OS.XmFONTLIST_DEFAULT_TAG);", "-\t\tdata.string = string;", "-\t\tdata.xmString = xmString;", "-\t\tdata.stringWidth = data.stringHeight = -1;", "-\t}", "-\tint xmString = data.xmString;", "+\tif (string.length () == 0) return new Point(0, getFontHeight());", "+\tbyte[] buffer = Converter.wcsToMbcs(getCodePage (), string, true);", "+\tint xmString = OS.XmStringCreate(buffer, OS.XmFONTLIST_DEFAULT_TAG);", "-\treturn new Point(data.stringWidth = width, data.stringHeight = height);", "+\tOS.XmStringFree(xmString);", "+\treturn new Point(width, height);"]}], "num": 45345}