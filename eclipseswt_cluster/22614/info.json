{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "7d9254e531fd90b5b90b135f30b06455", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "20bf0fb62d957ef69320bbac97abb8ea", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "ce92898e77608bf804c80f5b62e889fe568db6fc", "commitAfterChange": "bc4d3581c33a4dad038becb29f77136e2bbc5f2e", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 3, "signatureBeforeChange": "  void _setBackgroundPixel (int pixel)", "signatureAfterChange": "  void _setBackgroundPixel (int newPixel)", "diff": ["-", "-void _setBackgroundPixel (int pixel) {", "-\t/*", "-\t* Bug in Windows.  When TVM_SETBKCOLOR is used more", "-\t* than once to set the background color of a tree,", "-\t* the background color of the lines and the plus/minus", "-\t* does not change to the new color.  The fix is to set", "-\t* the background color to the default before setting", "-\t* the new color.", "-\t*/", "+void _setBackgroundPixel (int newPixel) {", "-\tif (oldPixel != -1) OS.SendMessage (handle, OS.TVM_SETBKCOLOR, 0, -1);", "-\tOS.SendMessage (handle, OS.TVM_SETBKCOLOR, 0, pixel);", "-\tif ((style & SWT.CHECK) != 0) setCheckboxImageList ();", "+\tif (oldPixel != newPixel) {", "+\t\t/*", "+\t\t* Bug in Windows.  When TVM_SETBKCOLOR is used more", "+\t\t* than once to set the background color of a tree,", "+\t\t* the background color of the lines and the plus/minus", "+\t\t* does not change to the new color.  The fix is to set", "+\t\t* the background color to the default before setting", "+\t\t* the new color.", "+\t\t*/", "+\t\tif (oldPixel != -1) OS.SendMessage (handle, OS.TVM_SETBKCOLOR, 0, -1);", "+\t\tOS.SendMessage (handle, OS.TVM_SETBKCOLOR, 0, newPixel);", "+\t\tif ((style & SWT.CHECK) != 0) setCheckboxImageList ();", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d4999c8bb5db499c9ea7d02f902a2bfc", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "ce92898e77608bf804c80f5b62e889fe568db6fc", "commitAfterChange": "bc4d3581c33a4dad038becb29f77136e2bbc5f2e", "methodNumberBeforeChange": 72, "methodNumberAfterChange": 70, "signatureBeforeChange": "  void setBackgroundPixel (int pixel)", "signatureAfterChange": "  void setBackgroundPixel (int newPixel)", "diff": ["-void setBackgroundPixel (int pixel) {", "-\tif (background == pixel) return;", "-\tbackground = pixel;", "-\tif (backgroundImage != null) return;", "-\tif (pixel == -1) pixel = defaultBackground ();", "-\tOS.SendMessage (handle, OS.LVM_SETBKCOLOR, 0, pixel);", "-\tOS.SendMessage (handle, OS.LVM_SETTEXTBKCOLOR, 0, pixel);", "-\tif ((style & SWT.CHECK) != 0) fixCheckboxImageListColor (true);", "-\t/*", "-\t* Feature in Windows.  When the background color is", "-\t* changed, the table does not redraw until the next", "-\t* WM_PAINT.  The fix is to force a redraw.", "-\t*/", "-\tOS.InvalidateRect (handle, null, true);", "+", "+void setBackgroundPixel (int newPixel) {", "+\tif (findImageControl () != null) return;", "+\tint oldPixel = OS.SendMessage (handle, OS.LVM_GETBKCOLOR, 0, 0);", "+\tif (oldPixel != newPixel) {", "+\t\tif (newPixel == -1) newPixel = defaultBackground ();", "+\t\tOS.SendMessage (handle, OS.LVM_SETBKCOLOR, 0, newPixel);", "+\t\tOS.SendMessage (handle, OS.LVM_SETTEXTBKCOLOR, 0, newPixel);", "+\t\tif ((style & SWT.CHECK) != 0) fixCheckboxImageListColor (true);", "+\t\t/*", "+\t\t* Feature in Windows.  When the background color is", "+\t\t* changed, the table does not redraw until the next", "+\t\t* WM_PAINT.  The fix is to force a redraw.", "+\t\t*/", "+\t\tOS.InvalidateRect (handle, null, true);", "+\t}"]}], "num": 22614}