{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "69104f456122f6705dac79f16a8e2c11", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6c0ac2c1239c1436397c30b998edc66b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Widget.java", "commitBeforeChange": "98c6f69fa8161c32de538e355728bb324ae2b917", "commitAfterChange": "2e45d5416828f3b0bb52adac29f41e56427dcb88", "methodNumberBeforeChange": 36, "methodNumberAfterChange": 37, "signatureBeforeChange": "  int getVisibleRegion (int control, boolean clipChildren)", "signatureAfterChange": "  int getVisibleRegion (int control, boolean clipChildren)", "diff": ["-\tint childRgn = OS.NewRgn (), tempRgn = OS.NewRgn ();", "-\tint window = OS.GetControlOwner (control);", "-\tint port = OS.GetWindowPort (window);", "-\tOS.GetPortVisibleRegion (port, visibleRgn);", "-\tshort [] count = new short [1];", "-\tint [] outControl = new int [1];", "-\tint tempControl = control, lastControl = 0;", "-\twhile (tempControl != 0) {", "-\t\tOS.GetControlRegion (tempControl, (short) OS.kControlStructureMetaPart, tempRgn);", "-\t\tOS.SectRgn (tempRgn, visibleRgn, visibleRgn);", "-\t\tif (OS.EmptyRgn (visibleRgn)) break;", "-\t\tif (clipChildren || tempControl != control) {", "-\t\t\tOS.CountSubControls (tempControl, count);", "-\t\t\tfor (int i = 0; i < count [0]; i++) {", "-\t\t\t\tOS.GetIndexedSubControl (tempControl, (short)(i + 1), outControl);", "-\t\t\t\tint child = outControl [0];", "-\t\t\t\tif (child == lastControl) break;", "-\t\t\t\tif (!OS.IsControlVisible (child)) continue;", "-\t\t\t\tOS.GetControlRegion (child, (short) OS.kControlStructureMetaPart, tempRgn);", "-\t\t\t\tOS.UnionRgn (tempRgn, childRgn, childRgn);", "-\t\t\t}", "-\t\t}", "-\t\tlastControl = tempControl;", "-\t\tOS.GetSuperControl (tempControl, outControl);", "-\t\ttempControl = outControl [0];", "-\t}", "-\tOS.DiffRgn (visibleRgn, childRgn, visibleRgn);", "-\tOS.DisposeRgn (childRgn);", "-\tOS.DisposeRgn (tempRgn);", "+\tcalculateVisibleRegion (control, visibleRgn, clipChildren);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "41f7ae7415d8a7627ba10ebfabc5c9b2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "40cdf2a9aca64c3d5be03c7e511afd690ece84ea", "commitAfterChange": "a4b7aa3a6538ae186e20f13ca84baaf05474bec5", "methodNumberBeforeChange": 141, "methodNumberAfterChange": 141, "signatureBeforeChange": " int getOffsetAtPoint(int x, int y)", "signatureAfterChange": " int getOffsetAtPoint(int x, int y)", "diff": ["+int getOffsetAtPoint(int x, int y) {", "+\tint lineIndex = getLineIndex(y);", "+\ty -= getLinePixel(lineIndex);", "+\treturn getOffsetAtPoint(x, y, lineIndex);", "+}", "-int getOffsetAtPoint(int x, int y) {", "-\tint lineIndex = getLineIndex(y);", "-\tint lineOffset = content.getOffsetAtLine(lineIndex);", "-\ty -= getLinePixel(lineIndex);", "-\tint[] trailing = new int[1];", "-\tif (wordWrap) {", "-\t\t//TODO", "-\t}", "-\t", "-\tadvancing = false;", "-\t\tint lineInParagraph = layout.getLineIndex(offsetInLine);", "-\t\tint lineLength;", "-\t\tif (lineInParagraph + 1 == layout.getLineCount()) {", "-\t\t\tlineLength = layout.getLineOffsets()[lineInParagraph + 1];", "-\t\t} else {", "-\t\t\tlineLength = Math.max(0, layout.getLineOffsets()[lineInParagraph + 1] - 1);", "-\t\t}", "-\t\tif (offsetInLine + trailing[0] >= lineLength) {", "-\t\t\toffsetInLine = lineLength;", "-\t\t\tadvancing = true;", "-\t\t\tadvancing  = (level ^ trailingLevel) != 0;", "-\treturn offsetInLine + lineOffset;"]}], "num": 7814}