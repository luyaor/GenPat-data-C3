{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "81aa36dbc9eface4be03b539ff21b384", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "aba7a791893fe84aa70d7d58d6854549", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Button.java", "commitBeforeChange": "58ab6a3c00d065b9bd6a4cde0ca6baf8963a046c", "commitAfterChange": "f564bd037598f91bb0461e06e04daebaf1d4b1ae", "methodNumberBeforeChange": 38, "methodNumberAfterChange": 38, "signatureBeforeChange": " public void setImage (Image image)", "signatureAfterChange": " public void setImage (Image image)", "diff": ["+\t", "+\tif (image != null) {", "+\t\tif ((style & (SWT.PUSH | SWT.TOGGLE)) != 0 && (style & SWT.FLAT) == 0) {", "+\t\t\tNSSize size = ((NSButton)view).cell().cellSize ();", "+\t\t\tint height = (int)Math.ceil(size.height);", "+\t\t\tNSCell cell = ((NSControl)view).cell();", "+\t\t\tif (height > SMALL_BUTTON_HEIGHT) {", "+\t\t\t\tcell.setControlSize(OS.NSRegularControlSize);", "+\t\t\t} else if (display.smallFonts){", "+\t\t\t\tcell.setControlSize(OS.NSSmallControlSize);", "+\t\t\t}", "+\t\t\tsetFont(getFont());", "+\t\t}", "+\t}", "+"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d20c94a2b409e675e7fd8da596d41eeb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "6064bf54f9c02b013a6336de92e98261a6d27bb2", "commitAfterChange": "ab7a1436e4ef701e89dc80eaedb4dc69f6c11fec", "methodNumberBeforeChange": 91, "methodNumberAfterChange": 92, "signatureBeforeChange": "  void setItemHeight (Image image)", "signatureAfterChange": "  void setItemHeight (Image image, NSFont font)", "diff": ["-void setItemHeight (Image image) {", "-//\tRectangle bounds = image != null ? image.getBounds () : imageBounds;", "-//\tif (bounds == null) return;", "-//\timageBounds = bounds;", "-//\tshort [] height = new short [1];", "-//\tif (OS.GetDataBrowserTableViewRowHeight (handle, height) == OS.noErr) {", "-//\t\tif (height [0] < bounds.height) {", "-//\t\t\tOS.SetDataBrowserTableViewRowHeight (handle, (short) bounds.height);", "-//\t\t}", "-//\t}", "+void setItemHeight (Image image, NSFont font) {", "+\tif (font == null) font = getFont ().handle;", "+\tfloat /*double*/ ascent = font.ascender ();", "+\tfloat /*double*/ descent = -font.descender () + font.leading ();", "+\tint height = (int)Math.ceil (ascent + descent) + 1;", "+\tRectangle bounds = image != null ? image.getBounds () : imageBounds;", "+\tif (bounds != null) {", "+\t\timageBounds = bounds;", "+\t\theight = Math.max (height, bounds.height);", "+\t}", "+\tNSTableView widget = (NSTableView)view;", "+\tif (widget.rowHeight () < height) {", "+\t\twidget.setRowHeight (height);", "+\t}"]}], "num": 5876}