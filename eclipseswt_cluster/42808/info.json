{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8c76f1ffb07c5189ac14364d49471e81", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c50d07668efd70b5c2070ac94e639cbc", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledTextRenderer.java", "commitBeforeChange": "7a850966fcebc2510dcdae26a2185eb84e5caa97", "commitAfterChange": "ea4d187e18c5cb79cd146d623e9cb83cded32237", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": " int addMerge(StyleRange[] mergeStyles, int mergeCount, int modifyStart, int modifyEnd)", "signatureAfterChange": " int addMerge(StyleRange[] mergeStyles, int mergeCount, int modifyStart, int modifyEnd)", "diff": ["-\t", "-\tint j = modifyStart;", "-\tfor (int i = 0; i < mergeCount; i++) {", "-\t\tStyleRange newStyle = mergeStyles[i], style;", "-\t\tif (j > 0 && (style = styles[j - 1]).start + style.length == newStyle.start && newStyle.similarTo(style)) {", "-\t\t\tstyle.length += newStyle.length;", "-\t\t} else {", "-\t\t\tstyles[j++] = newStyle;", "+\tif (MERGE_STYLES) {", "+\t\tint j = modifyStart;", "+\t\tfor (int i = 0; i < mergeCount; i++) {", "+\t\t\tStyleRange newStyle = mergeStyles[i], style;", "+\t\t\tif (j > 0 && (style = styles[j - 1]).start + style.length == newStyle.start && newStyle.similarTo(style)) {", "+\t\t\t\tstyle.length += newStyle.length;", "+\t\t\t} else {", "+\t\t\t\tstyles[j++] = newStyle;", "+\t\t\t}", "+\t\tStyleRange style = styles[j - 1];", "+\t\tif (endStyle != null && style.start + style.length == endStyle.start && endStyle.similarTo(style)) {", "+\t\t\tstyle.length += endStyle.length;", "+\t\t\tmodifyEnd++;", "+\t\t\tmergeCount++;", "+\t\t}", "+\t\tif (styleCount > modifyEnd) {", "+\t\t\tSystem.arraycopy(styles, modifyStart + mergeCount, styles, j, styleCount - modifyEnd);", "+\t\t}", "+\t\tgrow = (j - modifyStart) - (modifyEnd - modifyStart);", "+\t} else {", "+\t\tSystem.arraycopy(mergeStyles, 0, styles, modifyStart, mergeCount);", "-\tStyleRange style = styles[j - 1];", "-\tif (endStyle != null && style.start + style.length == endStyle.start && endStyle.similarTo(style)) {", "-\t\tstyle.length += endStyle.length;", "-\t\tmodifyEnd++;", "-\t\tmergeCount++;", "-\t}", "-\tif (styleCount > modifyEnd) {", "-\t\tSystem.arraycopy(styles, modifyStart + mergeCount, styles, j, styleCount - modifyEnd);", "-\t}", "-\tgrow = (j - modifyStart) - (modifyEnd - modifyStart);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "320083fcb75eccda342e21c077d30f3e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "2e0dc0afe0ec1ec7156cec5df558d56a98e395ea", "commitAfterChange": "ad3279e1e064a068865866fdf7b8a276a42e196d", "methodNumberBeforeChange": 215, "methodNumberAfterChange": 215, "signatureBeforeChange": " void handleTextChanged(TextChangedEvent event)", "signatureAfterChange": " void handleTextChanged(TextChangedEvent event)", "diff": ["-\t\tGC gc = getGC();", "-\t\tCaret caret = getCaret();", "-\t\tboolean caretVisible = false;", "-\t\t", "-\t\tif (caret != null) {", "-\t\t\tcaretVisible = caret.getVisible();", "-\t\t\tcaret.setVisible(false);", "+\t\tif (DOUBLE_BUFFERED) {", "+\t\t\tGC gc = getGC();", "+\t\t\tCaret caret = getCaret();", "+\t\t\tboolean caretVisible = false;", "+\t\t\t", "+\t\t\tif (caret != null) {", "+\t\t\t\tcaretVisible = caret.getVisible();", "+\t\t\t\tcaret.setVisible(false);", "+\t\t\t}", "+\t\t\tperformPaint(gc, startLine, startY, lineHeight);", "+\t\t\tif (caret != null) {\t\t", "+\t\t\t\tcaret.setVisible(caretVisible);", "+\t\t\t}", "+\t\t\tgc.dispose();", "+\t\t} else {", "+\t\t\tredraw(startY, 0, getClientArea().width, lineHeight, false);", "+\t\t\tupdate();", "-\t\tperformPaint(gc, startLine, startY, lineHeight);", "-\t\tif (caret != null) {\t\t", "-\t\t\tcaret.setVisible(caretVisible);", "-\t\t}", "-\t\tgc.dispose();"]}], "num": 42808}