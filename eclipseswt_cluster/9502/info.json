{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "948d3c5d68cc9f95f39056fcc14929f0", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "68375729c67829d44c8af78dd5fb29bd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/internal/BidiUtil.java", "commitBeforeChange": "a252d41bf582d4f8fec892ac1579ebc4d02b287b", "commitAfterChange": "b46a91ab4982c2546746c581c7a4d8b7118f940b", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 8, "signatureBeforeChange": "\r public static boolean isBidiPlatform()", "signatureAfterChange": "\r public static boolean isBidiPlatform()", "diff": ["-\tint[] languages = getKeyboardLanguageList();\r", "-\tfor (int i=0; i<languages.length; i++) {\r", "-\t\tint language = languages[i] & 0x000000FF;;\r", "-\t\tif ((language == LANG_ARABIC) || (language == LANG_HEBREW)) {\r", "+\tif (isBidiPlatform == - 1) {\r", "+\t\tisBidiPlatform = 0;\r", "+\t\tCallback callback;\r", "+\t\ttry {\r", "+\t\t\tcallback = new Callback (Class.forName (CLASS_NAME), \"EnumCodePagesProc\", 1);\r", "+\t\t\tint lpEnumCodePagesProc = callback.getAddress ();\t\r", "+\t\t\tif (lpEnumCodePagesProc == 0) SWT.error(SWT.ERROR_NO_MORE_CALLBACKS);\r", "+\t\t\tOS.EnumSystemCodePages(lpEnumCodePagesProc, OS.CP_INSTALLED);\r", "+\t\t\tcallback.dispose ();\r", "+\t\t} catch (ClassNotFoundException e) {}\r", "+\t}\r", "+\treturn isBidiPlatform == 1;\r", "+}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "26290f9439de040df274807f3c6ad227", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/internal/BidiUtil.java", "commitBeforeChange": "15f4b6985d669ab2f137286d34b4076c147cdfeb", "commitAfterChange": "08c585db9f021144d2bc0a6d14fa6a69aa45d75d", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "\r public static boolean isBidiPlatform()", "signatureAfterChange": "\r public static boolean isBidiPlatform()", "diff": ["-\tint[] languages = getKeyboardLanguageList();\r", "-\tfor (int i=0; i<languages.length; i++) {\r", "-\t\tint language = languages[i] & 0x000000FF;;\r", "-\t\tif ((language == LANG_ARABIC) || (language == LANG_HEBREW)) {\r", "-\t\t\treturn true;\r", "-\t\t}\r", "+\tif (isBidiPlatform != -1) return isBidiPlatform == 1; // already set\r", "+\r", "+\tisBidiPlatform = 0;\r", "+\tCallback callback;\r", "+\ttry {\r", "+\t\tcallback = new Callback (Class.forName (CLASS_NAME), \"EnumSystemLanguageGroupsProc\", 5);\r", "+\t\tint lpEnumSystemLanguageGroupsProc = callback.getAddress ();\t\r", "+\t\tif (lpEnumSystemLanguageGroupsProc == 0) SWT.error(SWT.ERROR_NO_MORE_CALLBACKS);\r", "+\t\tOS.EnumSystemLanguageGroups(lpEnumSystemLanguageGroupsProc, OS.LGRPID_INSTALLED, 0);\r", "+\t\tcallback.dispose ();\r", "+\t} catch (ClassNotFoundException e) {}\r", "+\tif (isBidiPlatform == 1) return true;\r", "+\t// need to look at system code page for NT & 98 platforms since EnumSystemLanguageGroups is\r", "+\t// not supported for these platforms\r", "+\tString codePage = String.valueOf(OS.GetACP());\r", "+\tif (CD_PG_ARABIC.equals(codePage) || CD_PG_HEBREW.equals(codePage)) {\r", "+\t\tisBidiPlatform = 1;\r", "-\treturn false;\r", "-//\tif (isBidiPlatform == - 1) {\r", "-//\t\tisBidiPlatform = 0;\r", "-//\t\tCallback callback;\r", "-//\t\ttry {\r", "-//\t\t\tcallback = new Callback (Class.forName (CLASS_NAME), \"EnumCodePagesProc\", 1);\r", "-//\t\t\tint lpEnumCodePagesProc = callback.getAddress ();\t\r", "-//\t\t\tif (lpEnumCodePagesProc == 0) SWT.error(SWT.ERROR_NO_MORE_CALLBACKS);\r", "-//\t\t\tOS.EnumSystemCodePages(lpEnumCodePagesProc, OS.CP_INSTALLED);\r", "-//\t\t\tcallback.dispose ();\r", "-//\t\t} catch (ClassNotFoundException e) {}\r", "-//\t}\r", "-//\treturn isBidiPlatform == 1;\r", "+\treturn isBidiPlatform == 1;\r"]}], "num": 9502}