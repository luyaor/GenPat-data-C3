{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "dace1d4e4bf17fb25563323c4170f22f", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "282380dcaeebb5294f9f29b7dba69602", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/common/org/eclipse/swt/layout/FormLayout.java", "commitBeforeChange": "83ab711b130e32006517cec97ffac6c38f4a9d41", "commitAfterChange": "c325878aac5d164108064cebdebc6fde3975c5e8", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 6, "signatureBeforeChange": "  Point layout (Composite composite, boolean move, int x, int y, int width, int height, boolean flushCache)", "signatureAfterChange": "  Point layout (Composite composite, boolean move, int x, int y, int width, int height, boolean flushCache)", "diff": ["-\t\tPoint size = computeSize (child, flushCache);", "-\t\tdata.cacheWidth = size.x;", "-\t\tdata.cacheHeight = size.y;", "-\t\tdata.cacheLeft = data.cacheRight = data.cacheTop = data.cacheBottom = null;", "+\t\tif (data == null) child.setLayoutData (data = new FormData ());", "+\t\tdata.flushCache ();", "-\t\t\tint x1 = data.getLeftAttachment (spacing).solveX (width);", "-\t\t\tint y1 = data.getTopAttachment (spacing).solveX (height);", "-\t\t\tint x2 = data.getRightAttachment (spacing).solveX (width);", "-\t\t\tint y2 = data.getBottomAttachment (spacing).solveX (height);", "+\t\t\tFormAttachment left = data.getLeftAttachment (child, spacing, flushCache);", "+\t\t\tFormAttachment right = data.getRightAttachment (child, spacing, flushCache);", "+\t\t\tint x1 = left.solveX (width);", "+\t\t\tint x2 = right.solveX (width);", "+//\t\t\tif ((child.getStyle () & SWT.WRAP) != 0) {", "+//\t\t\t\tif (data.width == SWT.DEFAULT && data.cacheWidth == -1) {", "+//\t\t\t\t\t//width favoured over height (calling getLeftAttachment() does this)", "+//\t\t\t\t\t//this means that when y1 and y2 are computed, the cached height values", "+//\t\t\t\t\t//reflect the desired height wrt \"x2 - x1\" rather than \"width\".  This", "+//\t\t\t\t\t//means that the cache is wrong wrt \"width\" and should be cleared", "+//\t\t\t\t\t//bug (x2 - x1) needs to get rid of trim", "+//\t\t\t\t\tint border = child.getBorderWidth ();", "+//\t\t\t\t\tdata.computeCache (child, x2 - x1 - border * 2, data.height, flushCache);", "+//\t\t\t\t}", "+//\t\t\t}", "+\t\t\tint y1 = data.getTopAttachment (child, spacing, flushCache).solveX (height);", "+\t\t\tint y2 = data.getBottomAttachment (child, spacing, flushCache).solveX (height);", "-\t\t\twidth = Math.max (computeWidth (data), width);", "-\t\t\theight = Math.max (computeHeight (data), height);", "+\t\t\twidth = Math.max (computeWidth (child, data, flushCache), width);", "+\t\t\theight = Math.max (computeHeight (child, data, flushCache), height);", "-\t\tdata.cacheWidth = data.cacheHeight = 0;", "-\t\tdata.cacheLeft = data.cacheRight = data.cacheTop = data.cacheBottom = null;", "+\t\tdata.flushCache ();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "23d003a601d7c9a322ac5cb7240760af", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/common/org/eclipse/swt/layout/GridLayout.java", "commitBeforeChange": "5f5d70af2a2b7b08f493fb21c45bc02a6deecc9c", "commitAfterChange": "b66e99f0077850b229d3c59791f0ef126c9c8660", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "  Point layout (Composite composite, boolean move, int x, int y, int width, int height, boolean flushCache)", "signatureAfterChange": "  Point layout (Composite composite, boolean move, int x, int y, int width, int height, boolean flushCache)", "diff": ["+\t\tif (data.grabExcessHorizontalSpace && data.minimumWidth > 0) {", "+\t\t\tif (data.cacheWidth < data.minimumWidth) {", "+\t\t\t\tint trim = 0;", "+\t\t\t\tif (child instanceof Group) {", "+\t\t\t\t\tGroup g = (Group)child;", "+\t\t\t\t\ttrim = g.getSize ().x - g.getClientArea ().width;", "+\t\t\t\t} else if (child instanceof Scrollable) {", "+\t\t\t\t\tRectangle rect = ((Scrollable) child).computeTrim (0, 0, 0, 0);", "+\t\t\t\t\ttrim = rect.width;", "+\t\t\t\t} else {", "+\t\t\t\t\ttrim = child.getBorderWidth () * 2;", "+\t\t\t\t}", "+\t\t\t\tdata.cacheWidth = data.cacheHeight = SWT.DEFAULT;", "+\t\t\t\tdata.computeSize(child, Math.max (0, data.minimumWidth - trim), data.heightHint, false);", "+\t\t\t}", "+\t\t}", "+\t\tif (data.grabExcessVerticalSpace && data.minimumHeight > 0) {", "+\t\t\tdata.cacheHeight = Math.max(data.cacheHeight, data.minimumHeight);", "+\t\t}", "+\t\t\t\t\t\t\tif (data.grabExcessVerticalSpace && data.minimumHeight > 0) {", "+\t\t\t\t\t\t\t\tdata.cacheHeight = Math.max(data.cacheHeight, data.minimumHeight);", "+\t\t\t\t\t\t\t}"]}], "num": 28560}