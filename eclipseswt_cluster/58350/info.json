{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "988c7fe18eeb8346d5050505385159ea", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0ede4855574e41c9fa6007b03f00329c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/TrayItem.java", "commitBeforeChange": "7867f4333df3401f2d9ceb7dab2dbc0c4b8c2343", "commitAfterChange": "d2e5dcd7efd5667e08cacd2f0a4973952e5a602f", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "  void createHandle (int index)", "signatureAfterChange": "  void createHandle (int index)", "diff": ["-\thandle = OS.gtk_plug_new (0);", "-\tif (handle == 0) error (SWT.ERROR_NO_HANDLES);", "-\timageHandle = OS.gtk_image_new ();", "-\tif (imageHandle == 0) error (SWT.ERROR_NO_HANDLES);", "-\tOS.gtk_container_add (handle, imageHandle);", "-\tOS.gtk_widget_show (handle);", "-\tOS.gtk_widget_show (imageHandle);", "-\tint /*long*/ id = OS.gtk_plug_get_id (handle);", "-\tint monitor = 0;", "-\tint /*long*/ screen = OS.gdk_screen_get_default ();", "-\tif (screen != 0) {", "-\t\tmonitor = OS.gdk_screen_get_number (screen);", "+\tif (OS.GTK_VERSION >= OS.VERSION (2, 10, 0)) {", "+\t\thandle = OS.gtk_status_icon_new ();", "+\t\tif (handle == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\timageHandle = OS.gtk_image_new ();", "+\t\tOS.gtk_status_icon_set_visible (handle,true);", "+\t} else {", "+\t\thandle = OS.gtk_plug_new (0);", "+\t\tif (handle == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\timageHandle = OS.gtk_image_new ();", "+\t\tif (imageHandle == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\tOS.gtk_container_add (handle, imageHandle);", "+\t\tOS.gtk_widget_show (handle);", "+\t\tOS.gtk_widget_show (imageHandle);", "+\t\tint /*long*/ id = OS.gtk_plug_get_id (handle);", "+\t\tint monitor = 0;", "+\t\tint /*long*/ screen = OS.gdk_screen_get_default ();", "+\t\tif (screen != 0) {", "+\t\t\tmonitor = OS.gdk_screen_get_number (screen);", "+\t\t}", "+\t\tbyte [] trayBuffer = Converter.wcsToMbcs (null, \"_NET_SYSTEM_TRAY_S\" + monitor, true);", "+\t\tint /*long*/ trayAtom = OS.gdk_atom_intern (trayBuffer, true);", "+\t\tint /*long*/ xTrayAtom = OS.gdk_x11_atom_to_xatom (trayAtom);", "+\t\tint /*long*/ xDisplay = OS.GDK_DISPLAY ();", "+\t\tint /*long*/ trayWindow = OS.XGetSelectionOwner (xDisplay, xTrayAtom);", "+\t\tbyte [] messageBuffer = Converter.wcsToMbcs (null, \"_NET_SYSTEM_TRAY_OPCODE\", true);", "+\t\tint /*long*/ messageAtom = OS.gdk_atom_intern (messageBuffer, true);", "+\t\tint /*long*/ xMessageAtom = OS.gdk_x11_atom_to_xatom (messageAtom);", "+\t\tXClientMessageEvent event = new XClientMessageEvent ();", "+\t\tevent.type = OS.ClientMessage;", "+\t\tevent.window = trayWindow;", "+\t\tevent.message_type = xMessageAtom;", "+\t\tevent.format = 32;", "+\t\tevent.data [0] = OS.GDK_CURRENT_TIME;", "+\t\tevent.data [1] = OS.SYSTEM_TRAY_REQUEST_DOCK;", "+\t\tevent.data [2] = id;", "+\t\tint /*long*/ clientEvent = OS.g_malloc (XClientMessageEvent.sizeof);", "+\t\tOS.memmove (clientEvent, event, XClientMessageEvent.sizeof);", "+\t\tOS.XSendEvent (xDisplay, trayWindow, false, OS.NoEventMask, clientEvent);", "+\t\tOS.g_free (clientEvent);", "-\tbyte [] trayBuffer = Converter.wcsToMbcs (null, \"_NET_SYSTEM_TRAY_S\" + monitor, true);", "-\tint /*long*/ trayAtom = OS.gdk_atom_intern (trayBuffer, true);", "-\tint /*long*/ xTrayAtom = OS.gdk_x11_atom_to_xatom (trayAtom);", "-\tint /*long*/ xDisplay = OS.GDK_DISPLAY ();", "-\tint /*long*/ trayWindow = OS.XGetSelectionOwner (xDisplay, xTrayAtom);", "-\tbyte [] messageBuffer = Converter.wcsToMbcs (null, \"_NET_SYSTEM_TRAY_OPCODE\", true);", "-\tint /*long*/ messageAtom = OS.gdk_atom_intern (messageBuffer, true);", "-\tint /*long*/ xMessageAtom = OS.gdk_x11_atom_to_xatom (messageAtom);", "-\tXClientMessageEvent event = new XClientMessageEvent ();", "-\tevent.type = OS.ClientMessage;", "-\tevent.window = trayWindow;", "-\tevent.message_type = xMessageAtom;", "-\tevent.format = 32;", "-\tevent.data [0] = OS.GDK_CURRENT_TIME;", "-\tevent.data [1] = OS.SYSTEM_TRAY_REQUEST_DOCK;", "-\tevent.data [2] = id;", "-\tint /*long*/ clientEvent = OS.g_malloc (XClientMessageEvent.sizeof);", "-\tOS.memmove (clientEvent, event, XClientMessageEvent.sizeof);", "-\tOS.XSendEvent (xDisplay, trayWindow, false, OS.NoEventMask, clientEvent);", "-\tOS.g_free (clientEvent);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "88016d5bfe7cf367a9a143203723b91c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT OpenGL/gtk/org/eclipse/swt/opengl/GLCanvas.java", "commitBeforeChange": "2c810dc09ebe584d949d1446e7fe61dd64fa3e80", "commitAfterChange": "31b7a613958123368d896ee9b0a636412f2a598b", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": " public GLCanvas (Composite parent, int style, GLData data)", "signatureAfterChange": " public GLCanvas (Composite parent, int style, GLData data)", "diff": ["-\tint /*long*/ window = OS.GTK_WIDGET_WINDOW (handle);", "+\tint /*long*/ window;", "+\tif (OS.GTK_VERSION >= OS.VERSION(2, 14, 0)){", "+\t\twindow = OS.gtk_widget_get_window (handle);", "+\t} else {", "+\t\twindow = OS.GTK_WIDGET_WINDOW (handle);", "+\t}", "-\t\t\t\tint /*long*/ window = OS.GTK_WIDGET_WINDOW (handle);", "+\t\t\t\tint /*long*/ window;", "+\t\t\t\tif (OS.GTK_VERSION >= OS.VERSION(2, 14, 0)){", "+\t\t\t\t\twindow = OS.gtk_widget_get_window (handle);", "+\t\t\t\t} else {", "+\t\t\t\t\twindow = OS.GTK_WIDGET_WINDOW (handle);", "+\t\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0ce92ae7838efc5f07557691f5540fa3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Label.java", "commitBeforeChange": "165a14baa4f28638048d0b616f73e1b86413e4a2", "commitAfterChange": "195c35fb4aaf6777b97d64fa53ba79208d6d54ee", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": "  int setBounds (int x, int y, int width, int height, boolean move, boolean resize)", "signatureAfterChange": "  int setBounds (int x, int y, int width, int height, boolean move, boolean resize)", "diff": ["-\t\tint labelWidth = OS.GTK_WIDGET_WIDTH (handle);", "-\t\tint labelHeight = OS.GTK_WIDGET_HEIGHT (handle);", "+\t\tint labelWidth = 0;", "+\t\tint labelHeight = 0;", "+\t\tGtkAllocation allocation = new GtkAllocation();", "+\t\tif (OS.GTK_VERSION >= OS.VERSION (2, 18, 0)) {", "+\t\t\tOS.gtk_widget_get_allocation(handle, allocation);", "+\t\t\tlabelWidth = allocation.width;", "+\t\t\tlabelHeight = allocation.height;", "+\t\t} else {", "+\t\t\tlabelWidth = OS.GTK_WIDGET_WIDTH (handle);", "+\t\t\tlabelHeight = OS.GTK_WIDGET_HEIGHT (handle);", "+\t\t}", "-\t\tGtkAllocation allocation = new GtkAllocation ();", "-\t\tallocation.x = OS.GTK_WIDGET_X (labelHandle);", "-\t\tallocation.y = OS.GTK_WIDGET_Y (labelHandle);", "+\t\tif (OS.GTK_VERSION >= OS.VERSION (2, 18, 0)) {", "+\t\t\tOS.gtk_widget_get_allocation(labelHandle, allocation);", "+\t\t} else {", "+\t\t\tallocation.x = OS.GTK_WIDGET_X (labelHandle);", "+\t\t\tallocation.y = OS.GTK_WIDGET_Y (labelHandle);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "35e8ece07b4493a5939e6ef4731ad3ee", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/TrayItem.java", "commitBeforeChange": "7867f4333df3401f2d9ceb7dab2dbc0c4b8c2343", "commitAfterChange": "d2e5dcd7efd5667e08cacd2f0a4973952e5a602f", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 22, "signatureBeforeChange": " public void setImage (Image image)", "signatureAfterChange": " public void setImage (Image image)", "diff": ["-\t\tRectangle rect = image.getBounds ();", "-\t\tOS.gtk_widget_set_size_request (handle, rect.width, rect.height);", "-\t\tOS.gtk_image_set_from_pixbuf (imageHandle, pixbuf);", "-\t\tOS.gtk_widget_show (imageHandle);", "+\t\tif (OS.GTK_VERSION >= OS.VERSION (2, 10, 0)) {", "+\t\t\tOS.gtk_status_icon_set_from_pixbuf (handle, pixbuf);", "+\t\t\tOS.gtk_status_icon_set_visible (handle, true);", "+\t\t} else {", "+\t\t\tRectangle rect = image.getBounds ();", "+\t\t\tOS.gtk_widget_set_size_request (handle, rect.width, rect.height);", "+\t\t\tOS.gtk_image_set_from_pixbuf (imageHandle, pixbuf);", "+\t\t\tOS.gtk_widget_show (imageHandle);", "+\t\t}", "-\t\tOS.gtk_image_set_from_pixbuf (imageHandle, 0);", "-\t\tOS.gtk_widget_hide (imageHandle);", "+\t\tif (OS.GTK_VERSION >= OS.VERSION (2, 10, 0)) {", "+\t\t\tOS.gtk_status_icon_set_from_pixbuf (handle, 0);", "+\t\t\tOS.gtk_status_icon_set_visible (handle, false);", "+\t\t} else {", "+\t\t\tOS.gtk_image_set_from_pixbuf (imageHandle, 0);", "+\t\t\tOS.gtk_widget_hide (imageHandle);", "+\t\t}"]}], "num": 58350}