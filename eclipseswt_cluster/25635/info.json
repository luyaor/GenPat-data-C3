{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "580c3dc8d0c16f39d405c172fc289d03", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "66541512fe46f793a133733e9cfbac1d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "d5a4ededf2481056ea93e92d58ed0317fbe18940", "commitAfterChange": "f6ebb3048a103916c33ccf5fea60ac90efeac776", "methodNumberBeforeChange": 47, "methodNumberAfterChange": 47, "signatureBeforeChange": " public void setRegion (Region region)", "signatureAfterChange": " public void setRegion (Region region)", "diff": ["-\tImage image = null;", "-\tif (region != null) {", "-\t\tColor black = display.getSystemColor (SWT.COLOR_BLACK);", "-\t\tColor white = display.getSystemColor (SWT.COLOR_WHITE);", "-\t\tPaletteData palette = new PaletteData (new RGB[] {white.getRGB(), black.getRGB()});", "-\t\tRectangle rect = region.getBounds ();", "-\t\tif (rect.width == 0 || rect.height == 0) {", "-\t\t\tImageData data = new ImageData (1, 1, 1, palette);", "-\t\t\tdata.transparentPixel = 0;", "-\t\t\timage = new Image (display, data);", "-\t\t} else {", "-\t\tImageData data = new ImageData (rect.x + rect.width, rect.y + rect.height, 1, palette);", "-\t\t\tdata.transparentPixel = 0;", "-\t\t\timage = new Image (display, data);", "-\t\t\tGC gc = new GC (image);", "-\t\t\tgc.setClipping (region);", "-\t\t\tgc.setForeground (black);", "-\t\t\tgc.fillRectangle (0, 0, rect.x + rect.width, rect.y + rect.height);", "-\t\t\tgc.dispose ();", "-\t\t}", "-\t}", "-\tOS.gtk_widget_shape_combine_mask (shellHandle, image == null ? 0 : image.mask, 0, 0);", "-\tif (image != null) image.dispose ();", "+\tint window = OS.GTK_WIDGET_WINDOW (shellHandle);", "+\tint shape_region = (region == null) ? 0 : region.handle;", "+\tOS.gdk_window_shape_combine_region (window, shape_region, 0, 0);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c595f422dc4f80eeabbedb6cbfcb7d91", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "4ef3c07f5071f903f4c09213733f2e49cb794c78", "commitAfterChange": "616f6f8a360d60ab5ff4b385de28173c3efc9a0f", "methodNumberBeforeChange": 47, "methodNumberAfterChange": 47, "signatureBeforeChange": " public void setRegion (Region region)", "signatureAfterChange": " public void setRegion (Region region)", "diff": ["-\t\tRectangle rect = region.getBounds ();", "+\t\tRectangle rect = region.getBounds ();", "+\t\tif (rect.width == 0 || rect.height == 0) {", "+\t\t\tImageData data = new ImageData (1, 1, 1, palette);", "+\t\t\tdata.transparentPixel = 0;", "+\t\t\timage = new Image (display, data);", "+\t\t} else {", "-\t\tdata.transparentPixel = 0;", "-\t\timage = new Image (display, data);", "-\t\tGC gc = new GC (image);", "-\t\tgc.setClipping (region);", "-\t\tgc.setForeground (black);", "-\t\tgc.fillRectangle (0, 0, rect.x + rect.width, rect.y + rect.height);", "-\t\tgc.dispose ();", "+\t\t\tdata.transparentPixel = 0;", "+\t\t\timage = new Image (display, data);", "+\t\t\tGC gc = new GC (image);", "+\t\t\tgc.setClipping (region);", "+\t\t\tgc.setForeground (black);", "+\t\t\tgc.fillRectangle (0, 0, rect.x + rect.width, rect.y + rect.height);", "+\t\t\tgc.dispose ();", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "57eafa275d8e177315f469d4aa8407ab", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/treetable/org/eclipse/swt/widgets/TreeItem.java", "commitBeforeChange": "a8a0a2bc4242d1bafe4f0129d1da26ea2f2eac96", "commitAfterChange": "37686216d752d050189be228ee856b8238323257", "methodNumberBeforeChange": 61, "methodNumberAfterChange": 61, "signatureBeforeChange": " public void setExpanded (boolean value)", "signatureAfterChange": " public void setExpanded (boolean value)", "diff": ["+\t\tRectangle clientArea = parent.getClientArea ();", "+\t\tint itemY = parent.getItemY (this);", "+\t\tint startY = itemY + descendents.length * parent.itemHeight;", "+\t\tint imageHeight = Math.max (0, clientArea.height - startY);", "+\t\tImage image = null;", "+\t\tGC gc = null;", "+\t\tif (imageHeight > 0) {", "+\t\t\timage = new Image (display, clientArea.width, imageHeight);", "+\t\t\tgc = new GC (parent);", "+\t\t\tgc.copyArea (image, 0, startY);", "+\t\t}", "-\t\tparent.redrawItems (availableIndex + 1, oldAvailableLength - 1, false);", "+\t\titemY = parent.getItemY (this);", "+\t\tif (image != null) {", "+\t\t\tgc.drawImage (image, 0, itemY + parent.itemHeight);", "+\t\t\timage.dispose ();", "+\t\t\tgc.dispose ();", "+\t\t}", "+\t\tint drawY = itemY + parent.itemHeight;", "+\t\tparent.redraw (0, drawY, clientArea.width, clientArea.height - drawY, false);"]}], "num": 25635}