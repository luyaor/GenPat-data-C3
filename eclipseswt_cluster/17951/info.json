{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0a3675bf8c397584bc62e7e05e4be553", "detectedBy": ["DIFF_DBSCAN", "AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b6492f5463255b7b244c15eda94af010", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Accessibility/win32/org/eclipse/swt/accessibility/Accessible.java", "commitBeforeChange": "b2a57ac5aeda1a37b1c7d7c906ff837c3c7313d8", "commitAfterChange": "f3828846066629968a44d377ba246bddf80a917b", "methodNumberBeforeChange": 48, "methodNumberAfterChange": 58, "signatureBeforeChange": "\r \t\r \tint get_accSelection(int pvarChildren)", "signatureAfterChange": "\r \t\r \tint get_accSelection(int pvarChildren)", "diff": ["-\t\tif (accessibleControlListeners.size() == 0) {\r", "-\t\t\treturn iaccessible.get_accSelection(pvarChildren);\r", "+\t\tif (iaccessible == null) return COM.CO_E_OBJNOTCONNECTED;\r", "+\r", "+\t\t/* Get the default selection from the OS. */\r", "+\t\tint osChild = ACC.CHILDID_NONE;\r", "+\t\tint code = iaccessible.get_accSelection(pvarChildren);\r", "+\t\tif (accessibleControlListeners.size() == 0) return code;\r", "+\t\tif (code == COM.S_OK) {\r", "+\t\t\tshort[] pvt = new short[1];\r", "+\t\t\tCOM.MoveMemory(pvt, pvarChildren, 2);\r", "+\t\t\tif (pvt[0] == COM.VT_I4) {\r", "+\t\t\t\tint[] pChild = new int[1];\r", "+\t\t\t\tCOM.MoveMemory(pChild, pvarChildren + 8, 4);\r", "+\t\t\t\tosChild = (pChild[0] == COM.CHILDID_SELF) ? ACC.CHILDID_SELF : pChild[0] - 1;\r", "+\t\t\t} else if (pvt[0] == COM.VT_UNKNOWN) {\r", "+\t\t\t\tosChild = ACC.CHILDID_MULTIPLE;\r", "+\t\t\t\t/* Should get IEnumVARIANT from punkVal field... need better API here... */\r", "+\t\t\t}\r", "-\t\tevent.childID = ACC.CHILDID_NONE;\r", "+\t\tevent.childID = osChild;\r", "-\t\t\t/* Supposed to return an IEnumVARIANT for this... so the next line is wrong... need a better API here... */\r", "+\t\t\t/* Should return an IEnumVARIANT for this... so the next line is wrong... need better API here... */\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "463c6633b4a298a8eef000ca80f1215e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Accessibility/win32/org/eclipse/swt/accessibility/Accessible.java", "commitBeforeChange": "b2a57ac5aeda1a37b1c7d7c906ff837c3c7313d8", "commitAfterChange": "f3828846066629968a44d377ba246bddf80a917b", "methodNumberBeforeChange": 42, "methodNumberAfterChange": 51, "signatureBeforeChange": "\r \t\r \tint get_accFocus(int pvarChild)", "signatureAfterChange": "\r \t\r \tint get_accFocus(int pvarChild)", "diff": ["-\t\tif (accessibleControlListeners.size() == 0) {\r", "-\t\t\treturn iaccessible.get_accFocus(pvarChild);\r", "+\t\tif (iaccessible == null) return COM.CO_E_OBJNOTCONNECTED;\r", "+\r", "+\t\t/* Get the default focus child from the OS. */\r", "+\t\tint osChild = ACC.CHILDID_NONE;\r", "+\t\tint code = iaccessible.get_accFocus(pvarChild);\r", "+\t\tif (accessibleControlListeners.size() == 0) return code;\r", "+\t\tif (code == COM.S_OK) {\r", "+\t\t\tshort[] pvt = new short[1];\r", "+\t\t\tCOM.MoveMemory(pvt, pvarChild, 2);\r", "+\t\t\tif (pvt[0] == COM.VT_I4) {\r", "+\t\t\t\tint[] pChild = new int[1];\r", "+\t\t\t\tCOM.MoveMemory(pChild, pvarChild + 8, 4);\r", "+\t\t\t\tosChild = (pChild[0] == COM.CHILDID_SELF) ? ACC.CHILDID_SELF : pChild[0] - 1;\r", "+\t\t\t}\r", "-\t\tevent.childID = ACC.CHILDID_NONE;\r", "+\t\tevent.childID = osChild;\r"]}], "num": 17951}