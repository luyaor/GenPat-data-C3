{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a741bb4078d52c536abc432a7a1f6601", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "14eb439f8d77925baf87896dc36f33c7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/photon/org/eclipse/swt/dnd/FileTransfer.java", "commitBeforeChange": "1c11fbfcf03cb194b949ee2f545cb614e4dccbc5", "commitAfterChange": "96800434b1856a3053cd6adb63cc4f40bb90cd9d", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " public void javaToNative(Object object, TransferData transferData)", "signatureAfterChange": "\r public void javaToNative(Object object, TransferData transferData)", "diff": ["- */", "+ */\r", "-\tbyte [] data = new byte[0];\r", "-\tString[] filenames = (String[])object;\r", "-\tfor (int i = 0; i < filenames.length; i++) {\r", "-\t\tbyte [] buffer = Converter.wcsToMbcs (null, filenames[i], true);\t\t\r", "-\t\tbyte [] temp = data;\r", "-\t\tdata = new byte[ data.length + buffer.length];\r", "-\t\tSystem.arraycopy(temp, 0, data, 0, temp.length);\r", "-\t\tSystem.arraycopy(buffer, 0, data, data.length - buffer.length, buffer.length);\r", "+\t// build a byte array from data\r", "+\tString[] files = (String[])object;\r", "+\t\r", "+\t// create a string separated by \"new lines\" to represent list of files\r", "+\tString nativeFormat = \"\";\r", "+\tfor (int i = 0, length = files.length; i < length; i++){\r", "+\t\tnativeFormat += \"file:\"+files[i]+\"\\r\";\r", "-\tsuper.javaToNative(data, transferData);\r", "+\tbyte[] buffer = Converter.wcsToMbcs(null, nativeFormat, true);\r", "+\t// pass byte array on to super to convert to native\r", "+\tsuper.javaToNative(buffer, transferData);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "077edd7e493fc64a1f6f1f0ac48177de", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/photon/org/eclipse/swt/dnd/FileTransfer.java", "commitBeforeChange": "da5b2096f70170c1ee5967072f15746afe644075", "commitAfterChange": "e1a1a9a2764b9fd42d3fd4db27d8d960a32582f7", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "\r public void javaToNative(Object object, TransferData transferData)", "signatureAfterChange": "\r public void javaToNative(Object object, TransferData transferData)", "diff": ["-\r", "-\tif (object == null || !(object instanceof String[])) return;\r", "-\t\t\r", "-\t// build a byte array from data\r", "-\tString[] files = (String[])object;\r", "-\t\r", "-\t// create a string separated by \"new lines\" to represent list of files\r", "-\tString nativeFormat = \"file:\";\r", "-\tfor (int i = 0, length = files.length; i < length; i++){\r", "-\t\tnativeFormat += files[i]+\"\\r\";\r", "-\t}\r", "-\tnativeFormat += \"\\0\";\r", "-\t// pass byte array on to super to convert to native\r", "-\tsuper.javaToNative(nativeFormat.getBytes(), transferData);\r", "+\tDND.error(org.eclipse.swt.SWT.ERROR_NOT_IMPLEMENTED);\r"]}], "num": 3115}