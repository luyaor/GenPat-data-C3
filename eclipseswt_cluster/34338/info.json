{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6f1109995bc2c9234d5385211457d90b", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bebc29f2c25c48b83056826929ada625", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "62c32f10f7bbf9398df19b0e066439d5edf4f386", "commitAfterChange": "7cd005e45a7f6d29a760b4c409a19844013e99cf", "methodNumberBeforeChange": 34, "methodNumberAfterChange": 34, "signatureBeforeChange": " public int getOffset (int x, int y, int[] trailing)", "signatureAfterChange": " public int getOffset (int x, int y, int[] trailing)", "diff": ["-\tx -= getLineIndent(line);", "-\tif (x >= lineWidth[line]) x = lineWidth[line] - 1;", "-\tif (x < 0) x = 0;", "-\tint width = 0;", "-\tfor (int i = 0; i < lineRuns.length; i++) {", "-\t\tStyleItem run = lineRuns[i];", "-\t\tif (run.lineBreak && !run.softBreak) return untranslateOffset(run.start);", "-\t\tif (width + run.width > x) {", "-\t\t\tint xRun = x - width;", "+\tint lineIndent = getLineIndent(line);", "+\tif (x >= lineIndent + lineWidth[line]) x = lineIndent + lineWidth[line] - 1;", "+\tif (x < lineIndent) x = lineIndent;", "+\tint low = -1;", "+\tint high = lineRuns.length;", "+\twhile (high - low > 1) {", "+\t\tint index = ((high + low) / 2);", "+\t\tStyleItem run = lineRuns[index];", "+\t\tif (run.x > x) {", "+\t\t\thigh = index;", "+\t\t} else if (run.x + run.width < x) {", "+\t\t\tlow = index;", "+\t\t} else {", "+\t\t\tif (run.lineBreak && !run.softBreak) return untranslateOffset(run.start);", "+\t\t\tint xRun = x - run.x;", "-\t\t\t\tif (trailing != null) trailing[0] = x < (width + run.width / 2) ? 0 : 1;", "+\t\t\t\tif (trailing != null) trailing[0] = x < (run.x + run.width / 2) ? 0 : 1;", "-\t\twidth += run.width;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d5759cce30d0150ca44b81f750179b16", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "c420da5cf118e1d31483bddb27f4ae761bc50622", "commitAfterChange": "46028f74aa93a4e2ad670b1ef1ee4791bd1bd728", "methodNumberBeforeChange": 88, "methodNumberAfterChange": 88, "signatureBeforeChange": " boolean setItemLocation()", "signatureAfterChange": " boolean setItemLocation()", "diff": ["-\t\t\t\titem.closeRect.x = item.x + item.width - BUTTON_SIZE - CTabItem.RIGHT_MARGIN;", "-\t\t\t\tif (!simple) item.closeRect.x -= CURVE_INDENT;", "+\t\t\t\tint extra = simple ? 0 : CURVE_INDENT;", "+\t\t\t\tint rightEdge = Math.min(item.x + item.width - extra, getRightItemEdge() - extra);", "+\t\t\t\titem.closeRect.x = rightEdge - BUTTON_SIZE - CTabItem.RIGHT_MARGIN;", "-\t\t\titem.closeRect.x = item.x + item.width - BUTTON_SIZE - CTabItem.RIGHT_MARGIN;", "-\t\t\tif (!simple && i == selectedIndex) item.closeRect.x -= CURVE_INDENT;", "+\t\t\tif (i == selectedIndex) {", "+\t\t\t\tint extra = simple ? 0 : CURVE_INDENT;", "+\t\t\t\tint rightEdge = Math.min(item.x + item.width - extra, getRightItemEdge() - extra);", "+\t\t\t\titem.closeRect.x = rightEdge - BUTTON_SIZE - CTabItem.RIGHT_MARGIN;", "+\t\t\t} else {", "+\t\t\t\titem.closeRect.x = item.x + item.width - BUTTON_SIZE - CTabItem.RIGHT_MARGIN;", "+\t\t\t}"]}], "num": 34338}