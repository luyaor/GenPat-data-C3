{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2c603bf1d987d57b8d8bcf89874f3733", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bd2b3f339fb88b4398369eadb637c9e6", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "bc0159e1f232b2994f90bfab06507bbdbd612bc8", "commitAfterChange": "4bf0b224a9caf7edd2d827277068ffb2c6e7bf23", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 19, "signatureBeforeChange": " void init(Device device, ImageData image)", "signatureAfterChange": " void init(Device device, ImageData image)", "diff": ["-\t/* AW", "-\tint xDisplay = device.xDisplay;", "-\tint drawable = OS.XDefaultRootWindow(xDisplay);", "-\tint screenDepth = OS.XDefaultDepthOfScreen(OS.XDefaultScreenOfDisplay(xDisplay));", "-\t*/", "-\tint screenDepth = 32;", "-\t/* AW", "-\tint visual = OS.XDefaultVisual(xDisplay, OS.XDefaultScreen(xDisplay));", "-\tint pixmap = OS.XCreatePixmap(xDisplay, drawable, image.width, image.height, screenDepth);", "-\t*/", "-\tint pixmap = createPixMap(image.width, image.height, screenDepth, null, null, null, null);", "-\t/* AW", "-\tint gc = OS.XCreateGC(xDisplay, pixmap, 0, null);", "-\t*/", "+", "+\tint screenDepth = device.fScreenDepth;", "+\tint pixmap = createPixMap(image.width, image.height, screenDepth);", "+", "-\tint error = putImage(image, 0, 0, image.width, image.height, 0, 0, image.width, image.height, screenDepth, null /* AW device.xcolors */, transPixel, false, pixmap);", "+\tint error= putImage(image, 0, 0, image.width, image.height,", "+\t\t\t\t\t\t\t    0, 0, image.width, image.height, screenDepth, transPixel, pixmap);", "-\t\tOS.DisposePixMap(pixmap);", "+\t\tDispose(pixmap);", "-\t\tImageData maskImage = image.getTransparencyMask();", "-\t\t/* AW", "-\t\tint mask = OS.XCreatePixmap(xDisplay, drawable, image.width, image.height, 1);", "-\t\t*/", "-\t\tint mask = createBitMap(image.width, image.height, null);", "-\t\t/* AW", "-\t\tgc = OS.XCreateGC(xDisplay, mask, 0, null);", "-\t\t*/", "-\t\terror = putImage(maskImage, 0, 0, maskImage.width, maskImage.height, 0, 0, maskImage.width, maskImage.height, screenDepth, null /* AW device.xcolors */, null, true, mask);", "-\t\t/* AW", "-\t\tOS.XFreeGC(xDisplay, gc);", "-\t\t*/", "-\t\tif (error != 0) {", "-\t\t\tOS.DisposePixMap(pixmap);", "-\t\t\tDisposeBitMap(mask);", "+\t\tint mask= createMaskImage(image.getTransparencyMask());", "+\t\tif (mask == 0) {", "+\t\t\tDispose(pixmap);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9ab034aa6d291495abf129d182bad6ec", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "bc0159e1f232b2994f90bfab06507bbdbd612bc8", "commitAfterChange": "4bf0b224a9caf7edd2d827277068ffb2c6e7bf23", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 8, "signatureBeforeChange": " void createMask()", "signatureAfterChange": " void createMask()", "diff": ["-    /* AW", "-\tint xDisplay = device.xDisplay;", "-\tint drawable = OS.XDefaultRootWindow(xDisplay);", "-\tint screenDepth = OS.XDefaultDepthOfScreen(OS.XDefaultScreenOfDisplay(xDisplay));", "-\t*/", "-\tint screenDepth = 32;", "-\t/* AW", "-\tint visual = OS.XDefaultVisual(xDisplay, OS.XDefaultScreen(xDisplay));", "-\t*/", "-\tImageData maskImage = getImageData().getTransparencyMask();", "-\t/* AW", "-\tint maskPixmap = OS.XCreatePixmap(xDisplay, drawable, maskImage.width, maskImage.height, 1);", "-\t*/", "-\tint maskPixmap = createBitMap(maskImage.width, maskImage.height, null);", "-\t/* AW", "-\tXColor[] xcolors = device.xcolors;", "-\t*/", "-\tXColor[] xcolors = null;", "-\tImage.putImage(maskImage, 0, 0, maskImage.width, maskImage.height, 0, 0, maskImage.width, maskImage.height, screenDepth, xcolors, null, true, maskPixmap);", "-\tthis.mask = maskPixmap;", "+\tmask = createMaskImage(getImageData().getTransparencyMask());", "+}"]}], "num": 23968}