{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f02ac42268498871af25416f59ccf03d", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "484be2fbf3197e6b03b0b4d328c6b98d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "b055badbc52eef874ac04ced06c796aebe178c51", "commitAfterChange": "efd2b19e6f0f74c27009a05b4ddce186552ea417", "methodNumberBeforeChange": 75, "methodNumberAfterChange": 76, "signatureBeforeChange": "  boolean dragDetect (int x, int y)", "signatureAfterChange": "  boolean dragDetect (int x, int y, boolean filter, boolean [] consume)", "diff": ["-boolean dragDetect (int x, int y) {", "-\treturn hooks (SWT.DragDetect);", "+boolean dragDetect (int x, int y, boolean filter, boolean [] consume) {", "+\tboolean quit = false, dragging = false;", "+\twhile (!quit) {", "+\t\tint /*long*/ eventPtr = 0;", "+\t\twhile (true) {", "+\t\t\teventPtr = OS.gdk_event_get ();", "+\t\t\tif (eventPtr != 0) {", "+\t\t\t\tbreak;", "+\t\t\t} else {", "+\t\t\t\ttry {Thread.sleep(50);} catch (Exception ex) {}", "+\t\t\t}", "+\t\t}", "+\t\tswitch (OS.GDK_EVENT_TYPE (eventPtr)) {", "+\t\t\tcase OS.GDK_MOTION_NOTIFY: {", "+\t\t\t\tGdkEventMotion gdkMotionEvent = new GdkEventMotion ();", "+\t\t\t\tOS.memmove (gdkMotionEvent, eventPtr, GdkEventMotion.sizeof);", "+\t\t\t\tif ((gdkMotionEvent.state & OS.GDK_BUTTON1_MASK) != 0) {", "+\t\t\t\t\tif (OS.gtk_drag_check_threshold (handle, x, y, (int) gdkMotionEvent.x, (int) gdkMotionEvent.y)) {", "+\t\t\t\t\t\tdragging = true;", "+\t\t\t\t\t\tquit = true;", "+\t\t\t\t\t}", "+\t\t\t\t} else {", "+\t\t\t\t\tquit = true;", "+\t\t\t\t}", "+\t\t\t\tint [] newX = new int [1], newY = new int [1];", "+\t\t\t\tOS.gdk_window_get_pointer (gdkMotionEvent.window, newX, newY, null);", "+\t\t\t\tbreak;", "+\t\t\t}", "+\t\t\tcase OS.GDK_BUTTON_RELEASE: {", "+\t\t\t\tOS.gdk_event_put (eventPtr);", "+\t\t\t\tquit = true;", "+\t\t\t\tbreak;", "+\t\t\t}", "+\t\t\tcase OS.GDK_KEY_PRESS:", "+\t\t\tcase OS.GDK_KEY_RELEASE: {", "+\t\t\t\tGdkEventKey gdkEvent = new GdkEventKey ();", "+\t\t\t\tOS.memmove (gdkEvent, eventPtr, GdkEventKey.sizeof);", "+\t\t\t\tif (gdkEvent.keyval == OS.GDK_Escape) quit = true;", "+\t\t\t\tbreak;", "+\t\t\t}", "+\t\t\tcase OS.GDK_BUTTON_PRESS:", "+\t\t\tcase OS.GDK_2BUTTON_PRESS:", "+\t\t\tcase OS.GDK_3BUTTON_PRESS:", "+\t\t\t\tquit = true;", "+\t\t\t\tbreak;", "+\t\t\tdefault:", "+\t\t\t\tOS.gtk_main_do_event (eventPtr);", "+\t\t}", "+\t\tOS.gdk_event_free (eventPtr);", "+\t}", "+\treturn dragging;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6bafe3af667b4ae31a04ac7189785a3e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Tracker.java", "commitBeforeChange": "f7b153025fbd1be774bd7619f229534002ebbc09", "commitAfterChange": "0cc8c838a5d8ad43e8d58bfbb6cf1a753cdcc947", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "\r public boolean open ()", "signatureAfterChange": "\r public boolean open ()", "diff": ["-\t\tint eventType = waitEvent();\r", "+\t\t// wait for an event\t\t\r", "+\t\tint eventPtr;\r", "+\t\twhile (true) {\r", "+\t\t\teventPtr = OS.gdk_event_get();\r", "+\t\t\tif (eventPtr != 0) {\r", "+\t\t\t\tbreak;\r", "+\t\t\t} \r", "+\t\t\telse {\r", "+\t\t\t\ttry { Thread.sleep(50); } catch (Exception ex) {}\r", "+\t\t\t}\r", "+\t\t}\r", "+\r", "+\t\tGdkEvent osEvent = new GdkEvent();\r", "+\t\tOS.memmove(osEvent, eventPtr, GdkEvent.sizeof);\r", "+\t\tint eventType = osEvent.type;\r", "-//\t\t\t\terror(SWT.ERROR_NOT_IMPLEMENTED);\r", "-\t\t\t\t/*\r", "-\t\t\t\tXKeyEvent keyEvent = new XKeyEvent ();\r", "-\t\t\t\tOS.memmove (keyEvent, xEvent, XKeyEvent.sizeof);\r", "-\t\t\t\tif (keyEvent.keycode != 0) {\r", "-\t\t\t\t\tint [] keysym = new int [1];\r", "-\t\t\t\t\tOS.XLookupString (keyEvent, null, 0, keysym, null);\r", "-\t\t\t\t\tkeysym [0] &= 0xFFFF;\r", "-\t\t\t\t\ttracking = keysym [0] != OS.XK_Escape && keysym [0] != OS.XK_Cancel;\r", "-\t\t\t\t\tcancelled = !tracking;\r", "-\t\t\t\t}*/\r", "+\t\t\t\tGdkEventKey gdkEvent = new GdkEventKey ();\r", "+\t\t\t\tOS.memmove (gdkEvent, eventPtr, GdkEventKey.sizeof);\r", "+\t\t\t\tswitch (gdkEvent.keyval) {\r", "+\t\t\t\t\tcase OS.GDK_Escape: \r", "+\t\t\t\t\t\tcancelled = true;\r", "+\t\t\t\t\t\t// fallthrough\r", "+\t\t\t\t\tcase OS.GDK_Return:\r", "+\t\t\t\t\t\ttracking = false;\r", "+\t\t\t\t\t\tbreak;\r", "+\t\t\t\t}\r", "+\t\t\tOS.gdk_event_free(eventPtr);\r", "-\ttracking = false;\r"]}], "num": 42307}