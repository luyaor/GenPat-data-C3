{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a067b89d232b34a4f0f61d8324850e19", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8100c88a1a406e8878f22d2bcb84d461", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/carbon/org/eclipse/swt/browser/Browser.java", "commitBeforeChange": "57937b21d07adc9c287bcb6ea4bf3b6ff494c451", "commitAfterChange": "5bef07298da6b2cda126b9fc5a376e87dac8b100", "methodNumberBeforeChange": 39, "methodNumberAfterChange": 39, "signatureBeforeChange": "  void didCommitLoadForFrame(int frame)", "signatureAfterChange": "  void didCommitLoadForFrame(int frame)", "diff": ["-\tint webView = WebKit.HIWebViewGetWebView(webViewHandle);", "+\tint webView = Cocoa.HIWebViewGetWebView(webViewHandle);", "-\tint dataSource = WebKit.objc_msgSend(frame, WebKit.S_dataSource);", "-\tint request = WebKit.objc_msgSend(dataSource, WebKit.S_request);", "-\tint url = WebKit.objc_msgSend(request, WebKit.S_URL);", "-\tint s = WebKit.objc_msgSend(url, WebKit.S_absoluteString);\t", "+\tint dataSource = Cocoa.objc_msgSend(frame, Cocoa.S_dataSource);", "+\tint request = Cocoa.objc_msgSend(dataSource, Cocoa.S_request);", "+\tint url = Cocoa.objc_msgSend(request, Cocoa.S_URL);", "+\tint s = Cocoa.objc_msgSend(url, Cocoa.S_absoluteString);\t", "-\tboolean top = frame == WebKit.objc_msgSend(webView, WebKit.S_mainFrame);", "+\tboolean top = frame == Cocoa.objc_msgSend(webView, Cocoa.S_mainFrame);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1f8ec1a6d495abdeac95663fcf232b5a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/carbon/org/eclipse/swt/browser/Browser.java", "commitBeforeChange": "57937b21d07adc9c287bcb6ea4bf3b6ff494c451", "commitAfterChange": "5bef07298da6b2cda126b9fc5a376e87dac8b100", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": " public static void clearSessions ()", "signatureAfterChange": " public static void clearSessions ()", "diff": ["-\tint storage = WebKit.objc_msgSend (WebKit.C_NSHTTPCookieStorage, WebKit.S_sharedHTTPCookieStorage);", "-\tint cookies = WebKit.objc_msgSend (storage, WebKit.S_cookies);", "-\tint count = WebKit.objc_msgSend (cookies, WebKit.S_count);", "+\tint storage = Cocoa.objc_msgSend (Cocoa.C_NSHTTPCookieStorage, Cocoa.S_sharedHTTPCookieStorage);", "+\tint cookies = Cocoa.objc_msgSend (storage, Cocoa.S_cookies);", "+\tint count = Cocoa.objc_msgSend (cookies, Cocoa.S_count);", "-\t\tint cookie = WebKit.objc_msgSend (cookies, WebKit.S_objectAtIndex, i);", "-\t\tboolean isSession = WebKit.objc_msgSend (cookie, WebKit.S_isSessionOnly) != 0;", "+\t\tint cookie = Cocoa.objc_msgSend (cookies, Cocoa.S_objectAtIndex, i);", "+\t\tboolean isSession = Cocoa.objc_msgSend (cookie, Cocoa.S_isSessionOnly) != 0;", "-\t\t\tWebKit.objc_msgSend (storage, WebKit.S_deleteCookie, cookie);", "+\t\t\tCocoa.objc_msgSend (storage, Cocoa.S_deleteCookie, cookie);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ef5acb02ebee886cee9412cd50125afb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/cocoa/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "4edc576de20a88abac088ae701d29ce3e54ede4f", "commitAfterChange": "c2ec875b36ecf39df432358c14d183b7d7f45fe0", "methodNumberBeforeChange": 50, "methodNumberAfterChange": 51, "signatureBeforeChange": "  void decidePolicyForNavigationAction(int actionInformation, int request, int frame, int listener)", "signatureAfterChange": "  void webView_decidePolicyForNavigationAction_request_frame_decisionListener(int sender, int actionInformation, int request, int frame, int listenerID)", "diff": ["-void decidePolicyForNavigationAction(int actionInformation, int request, int frame, int listener) {", "-\tint url = Cocoa.objc_msgSend(request, Cocoa.S_URL);", "-\tif (url == 0) {", "+void webView_decidePolicyForNavigationAction_request_frame_decisionListener(int sender, int actionInformation, int request, int frame, int listenerID) {", "+\tNSURL url = new NSURLRequest(request).URL();", "+\tWebPolicyDecisionListener listener = new WebPolicyDecisionListener(listenerID);", "+\tif (url == null) {", "-\t\tCocoa.objc_msgSend(listener, Cocoa.S_ignore);", "+\t\tlistener.ignore();", "-\tint s = Cocoa.objc_msgSend(url, Cocoa.S_absoluteString);", "-\tint length = OS.CFStringGetLength(s);", "-\tchar[] buffer = new char[length];", "-\tCFRange range = new CFRange();", "-\trange.length = length;", "-\tOS.CFStringGetCharacters(s, range, buffer);", "+\tNSString s = url.absoluteString();", "+\tchar[] buffer = new char[s.length()];", "+\ts.getCharacters_(buffer);", "-", "-\tCocoa.objc_msgSend(listener, newEvent.doit ? Cocoa.S_use : Cocoa.S_ignore);", "-", "+\tif (newEvent.doit) {", "+\t\tlistener.use();", "+\t} else {", "+\t\tlistener.ignore();", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7ce48a98fd1e574bffede9578b9f9813", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/cocoa/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "4edc576de20a88abac088ae701d29ce3e54ede4f", "commitAfterChange": "c2ec875b36ecf39df432358c14d183b7d7f45fe0", "methodNumberBeforeChange": 26, "methodNumberAfterChange": 27, "signatureBeforeChange": "  void didCommitLoadForFrame(int frame)", "signatureAfterChange": "  void webView_didCommitLoadForFrame(int sender, int frameID)", "diff": ["-void didCommitLoadForFrame(int frame) {", "-\tint webView = Cocoa.HIWebViewGetWebView(webViewHandle);", "-\t//id url= [[[[frame provisionalDataSource] request] URL] absoluteString];", "-\tint dataSource = Cocoa.objc_msgSend(frame, Cocoa.S_dataSource);", "-\tint request = Cocoa.objc_msgSend(dataSource, Cocoa.S_request);", "-\tint url = Cocoa.objc_msgSend(request, Cocoa.S_URL);", "-\tint s = Cocoa.objc_msgSend(url, Cocoa.S_absoluteString);\t", "-\tint length = OS.CFStringGetLength(s);", "+void webView_didCommitLoadForFrame(int sender, int frameID) {", "+\tWebFrame frame = new WebFrame(frameID);", "+\tWebDataSource dataSource = frame.dataSource();", "+\tNSURLRequest request = dataSource.request();", "+\tNSURL url = request.URL();", "+\tNSString s = url.absoluteString();", "+\tint length = s.length();", "-\tCFRange range = new CFRange();", "-\trange.length = length;", "-\tOS.CFStringGetCharacters(s, range, buffer);", "+\ts.getCharacters_(buffer);", "-\tboolean top = frame == Cocoa.objc_msgSend(webView, Cocoa.S_mainFrame);", "+\tboolean top = frameID == webView.mainFrame().id;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dd176f90af9b3ad13ba7e7016c2ded72", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/cocoa/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "4edc576de20a88abac088ae701d29ce3e54ede4f", "commitAfterChange": "c2ec875b36ecf39df432358c14d183b7d7f45fe0", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 12, "signatureBeforeChange": "  public String getText()", "signatureAfterChange": "  public String getText()", "diff": ["-\tint webView = Cocoa.HIWebViewGetWebView(webViewHandle);", "-\tint mainFrame = Cocoa.objc_msgSend(webView, Cocoa.S_mainFrame);", "-\tint dataSource = Cocoa.objc_msgSend(mainFrame, Cocoa.S_dataSource);", "-\tif (dataSource == 0) return \"\";\t//$NON-NLS-1$", "-\tint representation = Cocoa.objc_msgSend(dataSource, Cocoa.S_representation);", "-\tif (representation == 0) return \"\";\t//$NON-NLS-1$", "-\tint source = Cocoa.objc_msgSend(representation, Cocoa.S_documentSource);", "-\tif (source == 0) return \"\";\t//$NON-NLS-1$", "-\tint length = OS.CFStringGetLength(source);", "-\tchar[] buffer = new char[length];", "-\tCFRange range = new CFRange();", "-\trange.length = length;", "-\tOS.CFStringGetCharacters(source, range, buffer);", "+\tWebFrame mainFrame = webView.mainFrame();", "+\tWebDataSource dataSource = mainFrame.dataSource();", "+\tif (dataSource == null) return \"\";\t//$NON-NLS-1$", "+\tWebDocumentRepresentation representation = dataSource.representation();", "+\tif (representation == null) return \"\";\t//$NON-NLS-1$", "+\tNSString source = representation.documentSource();", "+\tif (source == null) return \"\";\t//$NON-NLS-1$", "+\tchar[] buffer = new char[source.length()];", "+\tsource.getCharacters_(buffer);"]}], "num": 5902}