{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "67959edb656296ca587742608345bd65", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c7f499e2daddafa42139d43549df935e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "a2121a3b36fd9f479b5853f961011d3d772dea1a", "commitAfterChange": "180b63adf3a86ec0ec05574f5a95cc8803880a19", "methodNumberBeforeChange": 47, "methodNumberAfterChange": 47, "signatureBeforeChange": " void sendIMKeyEvent (int type, XKeyEvent xEvent, byte [] mbcs, char [] chars)", "signatureAfterChange": " boolean sendIMKeyEvent (int type, XKeyEvent xEvent)", "diff": ["-void sendIMKeyEvent (int type, XKeyEvent xEvent, byte [] mbcs, char [] chars) {", "-\t/*", "-\t* Bug in Motif. On Solaris and Linux, XmImMbLookupString() clears", "-\t* the characters from the IME. This causes the characters to be", "-\t* stolen from the text widget. The fix is to detect that the IME", "-\t* has been cleared and use XmTextInsert() to insert the stolen", "-\t* characters. This problem does not happen on AIX.", "-\t*/", "-\tsuper.sendIMKeyEvent (type, xEvent, mbcs, chars);", "-\tif (mbcs == null || xEvent.keycode != 0) return;", "-\tint [] unused = new int [1];", "-\tbyte [] buffer = new byte [2];", "-\tint length = OS.XmImMbLookupString (handle, xEvent, buffer, buffer.length, unused, unused);", "-\tif (length != 0) return;", "-\tint [] start = new int [1], end = new int [1];", "-\tOS.XmTextGetSelectionPosition (handle, start, end);", "-\tif (start [0] == end [0]) {", "-\t\tstart [0] = end [0] = OS.XmTextGetInsertionPosition (handle);", "-\t}", "-\tboolean warnings = display.getWarnings ();", "-\tdisplay.setWarnings (false);", "-\tOS.XmTextReplace (handle, start [0], end [0], mbcs);", "-\tint index = 0;", "-\twhile (index < chars.length) {", "-\t\tif (chars [index] == 0) break;", "-\t\tindex++;", "-\t}", "-\tint position = start [0] + index;", "-\tOS.XmTextSetInsertionPosition (handle, position);", "-\tdisplay.setWarnings (warnings);", "+boolean sendIMKeyEvent (int type, XKeyEvent xEvent) {", "+\treturn super.sendIMKeyEvent (type, xEvent, handle);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "66270cf8a8f0dbb2935189dd20c1127f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "a2121a3b36fd9f479b5853f961011d3d772dea1a", "commitAfterChange": "180b63adf3a86ec0ec05574f5a95cc8803880a19", "methodNumberBeforeChange": 36, "methodNumberAfterChange": 36, "signatureBeforeChange": " void sendIMKeyEvent (int type, XKeyEvent xEvent, byte [] mbcs, char [] chars)", "signatureAfterChange": " boolean sendIMKeyEvent (int type, XKeyEvent xEvent)", "diff": ["-void sendIMKeyEvent (int type, XKeyEvent xEvent, byte [] mbcs, char [] chars) {", "-\t/*", "-\t* Bug in Motif. On Solaris and Linux, XmImMbLookupString() clears", "-\t* the characters from the IME. This causes the characters to be", "-\t* stolen from the text widget. The fix is to detect that the IME", "-\t* has been cleared and use XmTextInsert() to insert the stolen", "-\t* characters. This problem does not happen on AIX.", "-\t*/", "-\tsuper.sendIMKeyEvent (type, xEvent, mbcs, chars);", "-\tif (mbcs == null || xEvent.keycode != 0) return;", "+boolean sendIMKeyEvent (int type, XKeyEvent xEvent) {", "-\tint [] unused = new int [1];", "-\tbyte [] buffer = new byte [2];", "-\tint length = OS.XmImMbLookupString (argList [1], xEvent, buffer, buffer.length, unused, unused);", "-\tif (length != 0) return;", "-\tint [] start = new int [1], end = new int [1];", "-\tOS.XmTextGetSelectionPosition (argList [1], start, end);", "-\tif (start [0] == end [0]) {", "-\t\tstart [0] = end [0] = OS.XmTextGetInsertionPosition (argList [1]);", "-\t}", "-\tboolean warnings = display.getWarnings ();", "-\tdisplay.setWarnings (false);", "-\tOS.XmTextReplace (argList [1], start [0], end [0], mbcs);", "-\tint index = 0;", "-\twhile (index < chars.length) {", "-\t\tif (chars [index] == 0) break;", "-\t\tindex++;", "-\t}", "-\tint position = start [0] + index;", "-\tOS.XmTextSetInsertionPosition (argList [1], position);", "-\tdisplay.setWarnings (warnings);", "+\treturn super.sendIMKeyEvent (type, xEvent, argList [1]);"]}], "num": 15735}