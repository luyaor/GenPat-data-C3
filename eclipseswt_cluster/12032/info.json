{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9d03d6b7a7ac0aeb9484f9f511205eb3", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "915fbd949116b25c9bc38258c48eedd4", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "fe1f90bb71a54192e176dca2c0b018c380ace5dc", "commitAfterChange": "989e736512e6158f042289ac897031dd8db4b674", "methodNumberBeforeChange": 42, "methodNumberAfterChange": 96, "signatureBeforeChange": "  Control getControl ()", "signatureAfterChange": "  boolean sendFocusEvent (int type)", "diff": ["-Control getControl () {", "-\treturn this;", "-}", "+boolean sendFocusEvent (int type) {", "+\tShell shell = getShell ();", "+\t", "+\t/*", "+\t* Feature in Windows.  During the processing of WM_KILLFOCUS,", "+\t* when the focus window is queried using GetFocus(), it has", "+\t* already been assigned to the new window.  The fix is to", "+\t* remember the control that is losing or gaining focus and", "+\t* answer it during WM_KILLFOCUS.  If a WM_SETFOCUS occurs", "+\t* during WM_KILLFOCUS, the focus control needs to be updated", "+\t* to the current control.  At any other time, the focus", "+\t* control matches Windows.", "+\t*/", "+\tDisplay display = this.display;", "+\tdisplay.focusEvent = type;", "+\tdisplay.focusControl = this;", "+\tsendEvent (type);", "+\t// widget could be disposed at this point", "+\tdisplay.focusEvent = SWT.None;", "+\tdisplay.focusControl = null;", "+", "+\t/*", "+\t* It is possible that the shell may be", "+\t* disposed at this point.  If this happens", "+\t* don't send the activate and deactivate", "+\t* events.", "+\t*/\t", "+\tif (!shell.isDisposed ()) {", "+\t\tswitch (type) {", "+\t\t\tcase SWT.FocusIn:", "+\t\t\t\tshell.setActiveControl (this);", "+\t\t\t\tbreak;", "+\t\t\tcase SWT.FocusOut:", "+\t\t\t\tif (shell != display.getActiveShell ()) {", "+\t\t\t\t\tshell.setActiveControl (null);", "+\t\t\t\t}", "+\t\t\t\tbreak;", "+\t\t}", "+\t}", "+\treturn true;", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "261178bde53f05981fffd00186ed6ae7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Widget.java", "commitBeforeChange": "df18f6c76e1c63f3858dc94fb10d9c5c530eb389", "commitAfterChange": "bf6713c8185938d0615b2b3128066f9c7a79e05c", "methodNumberBeforeChange": 49, "methodNumberAfterChange": 50, "signatureBeforeChange": "  boolean sendFocusEvent (int type)", "signatureAfterChange": "  boolean sendFocusEvent (int type)", "diff": ["+\tControl control = getControl ();", "+\tif (control == null) {", "+\t\tsendEvent (type);", "+\t\t// widget could be disposed at this point", "+\t\treturn true;", "+\t}", "+\tShell shell = control.getShell ();", "+\t", "+\t/*", "+\t* Feature in Windows.  During the processing of WM_KILLFOCUS,", "+\t* when the focus window is queried using GetFocus(), it has", "+\t* already been assigned to the new window.  The fix is to", "+\t* remember the control that is losing or gaining focus and", "+\t* answer it during WM_KILLFOCUS.  If a WM_SETFOCUS occurs", "+\t* during WM_KILLFOCUS, the focus control needs to be updated", "+\t* to the current control.  At any other time, the focus", "+\t* control matches Windows.", "+\t*/", "+\tDisplay display = this.display;", "+\tdisplay.focusEvent = type;", "+\tdisplay.focusControl = control;", "+\tdisplay.focusEvent = SWT.None;", "+\tdisplay.focusControl = null;", "+", "+\t/*", "+\t* It is possible that the shell may be", "+\t* disposed at this point.  If this happens", "+\t* don't send the activate and deactivate", "+\t* events.", "+\t*/\t", "+\tif (!shell.isDisposed ()) {", "+\t\tswitch (type) {", "+\t\t\tcase SWT.FocusIn:", "+\t\t\t\tshell.setActiveControl (control);", "+\t\t\t\tbreak;", "+\t\t\tcase SWT.FocusOut:", "+\t\t\t\tif (shell != display.getActiveShell ()) {", "+\t\t\t\t\tshell.setActiveControl (null);", "+\t\t\t\t}", "+\t\t\t\tbreak;", "+\t\t}", "+\t}"]}], "num": 12032}