{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "36993cb29625502ff9f10ff44d72e7f5", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a1f7b03da7cc676f7b7c7f7fb6c707f6", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CLabel.java", "commitBeforeChange": "ac5f577ed3d76a063b5c9dfd6cf56e9df031b4bc", "commitAfterChange": "ec11b1e99b3dd5a45b6257429fe326259f31bfea", "methodNumberBeforeChange": 36, "methodNumberAfterChange": 36, "signatureBeforeChange": " protected String shortenText(GC gc, String t, int width)", "signatureAfterChange": " protected String shortenText(GC gc, String t, int width)", "diff": ["+\tif (width<=w) return t;", "-\tint pivot = l/2;", "-\tint s = pivot;", "-\tint e = pivot+1;", "-\twhile (s >= 0 && e < l) {", "-\t\tString s1 = t.substring(0, s);", "-\t\tString s2 = t.substring(e, l);", "+\tint max = l/2;", "+\tint min = 0;", "+\tint mid = (max+min)/2 - 1;", "+\tif (mid <= 0) return t;", "+\twhile (min < mid && mid < max) {", "+\t\tString s1 = t.substring(0, mid);", "+\t\tString s2 = t.substring(l-mid, l);", "-\t\tif (l1+w+l2 < width) {", "-\t\t\tt = s1 + ELLIPSIS + s2;", "-\t\t\tbreak;", "+\t\tif (l1+w+l2 > width) {", "+\t\t\tmax = mid;\t\t\t", "+\t\t\tmid = (max+min)/2;", "+\t\t} else if (l1+w+l2 < width) {", "+\t\t\tmin = mid;", "+\t\t\tmid = (max+min)/2;", "+\t\t} else {", "+\t\t\tmin = max;", "-\t\ts--;", "-\t\te++;", "-\treturn t;", "+\tif (mid == 0) return t;", "+ \treturn t.substring(0, mid)+ELLIPSIS+t.substring(l-mid, l);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d02fa50dd7494a3f937dfadf12dcbbb2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CLabel.java", "commitBeforeChange": "437b26428f10a35a326ef6b319e71308ad9cdb90", "commitAfterChange": "1fb12053b80b263df45cd22a53291eee547e711e", "methodNumberBeforeChange": 36, "methodNumberAfterChange": 36, "signatureBeforeChange": " protected String shortenText(GC gc, String t, int width)", "signatureAfterChange": " protected String shortenText(GC gc, String t, int width)", "diff": ["+\tTextLayout layout = new TextLayout (getDisplay());", "+\tlayout.setText(t);", "+\tmid = validateOffset(layout, mid);", "-\t\tString s2 = t.substring(l-mid, l);", "+\t\tString s2 = t.substring(validateOffset(layout, l-mid), l);", "-\t\t\tmid = (max+min)/2;", "+\t\t\tmid = validateOffset(layout, (max+min)/2);", "-\t\t\tmid = (max+min)/2;", "+\t\t\tmid = validateOffset(layout, (max+min)/2);", "-\tif (mid == 0) return t;", "- \treturn t.substring(0, mid)+ELLIPSIS+t.substring(l-mid, l);", "+\tString result = mid == 0 ? t : t.substring(0, mid) + ELLIPSIS + t.substring(validateOffset(layout, l-mid), l);", "+\tlayout.dispose();", "+ \treturn result;"]}], "num": 42850}