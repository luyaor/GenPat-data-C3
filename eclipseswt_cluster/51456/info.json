{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "cbc2756f580ab06675d735a58d6d4efe", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c7d7f45713211088670c8aa1e6f46d34", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Widget.java", "commitBeforeChange": "c22f380f4d6ba162caa0465e4ecbec7c222d05f5", "commitAfterChange": "1eac86ed2f2f9e03ad22a87e2beeaeb993a03feb", "methodNumberBeforeChange": 66, "methodNumberAfterChange": 66, "signatureBeforeChange": "\r void setKeyState (Event event, XKeyEvent xEvent)", "signatureAfterChange": "\r void setKeyState (Event event, XKeyEvent xEvent)", "diff": ["-\t\tif (OS.XLookupString (xEvent, buffer, buffer.length, keysym, null) == 0) {\r", "-\t\t\t/*\r", "-\t\t\t* Bug in MOTIF.  On Solaris only, XK_F11 and XK_F12 are not\r", "-\t\t\t* translated correctly by XLookupString().  They are mapped\r", "-\t\t\t* to 0x1005FF10 and 0x1005FF11 respectively.  The fix is to\r", "-\t\t\t* look for these values explicitly and correct them.\r", "-\t\t\t*/\r", "-\t\t\tif (OS.IsSunOS) {\r", "-\t\t\t\tif (keysym [0] == 0x1005FF10) keysym [0] = OS.XK_F11;\r", "-\t\t\t\tif (keysym [0] == 0x1005FF11) keysym [0] = OS.XK_F12;\r", "-\t\t\t\t/*\r", "-\t\t\t\t* Bug in MOTIF.  On Solaris only, there is garbage in the\r", "-\t\t\t\t* high 16-bits for Keysyms such as XK_Down.  Since Keysyms\r", "-\t\t\t\t* must be 16-bits to fit into a Character, mask away the\r", "-\t\t\t\t* high 16-bits on all platforms.\r", "-\t\t\t\t*/\r", "-\t\t\t\tkeysym [0] &= 0xFFFF;\r", "+\t\tint lookupLength = OS.XLookupString (xEvent, buffer, buffer.length, keysym, null);\r", "+\t\t/*\r", "+\t\t* Bug in MOTIF.  On Solaris only, XK_F11 and XK_F12 are not\r", "+\t\t* translated correctly by XLookupString().  They are mapped\r", "+\t\t* to 0x1005FF10 and 0x1005FF11 respectively.  The fix is to\r", "+\t\t* look for these values explicitly and correct them.\r", "+\t\t*/\r", "+\t\tif (OS.IsSunOS && keysym [0] != 0) {\r", "+\t\t\tswitch (keysym [0]) {\r", "+\t\t\t\tcase 0x1005FF10: \r", "+\t\t\t\t\tkeysym [0] = OS.XK_F11;\r", "+\t\t\t\t\tlookupLength = 0;\r", "+\t\t\t\t\tbreak;\r", "+\t\t\t\tcase 0x1005FF11:\r", "+\t\t\t\t\tkeysym [0] = OS.XK_F12;\r", "+\t\t\t\t\tlookupLength = 0;\r", "+\t\t\t\t\tbreak;\r", "+\t\t\t/*\r", "+\t\t\t* Bug in MOTIF.  On Solaris only, there is garbage in the\r", "+\t\t\t* high 16-bits for Keysyms such as XK_Down.  Since Keysyms\r", "+\t\t\t* must be 16-bits to fit into a Character, mask away the\r", "+\t\t\t* high 16-bits on all platforms.\r", "+\t\t\t*/\r", "+\t\t\tkeysym [0] &= 0xFFFF;\r", "+\t\t}\r", "+\t\tif (lookupLength == 0) {\r", "-\t\t\t* Handle known cases for which XLookupString fails.\r", "+\t\t\t* If translateKey () could not find a translation for the keysym\r", "+\t\t\t* then attempt some known keysyms for which we can provide the\r", "+\t\t\t* appropriate character.\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "06a5a04b141be4ac231c28acd5856397", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "c09d153d4e84f3067588ab3896a9f93b794e9aab", "commitAfterChange": "c57bbbc354e79f4476be13ddb59b564f33f991b8", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": " public void copyArea(Image image, int x, int y)", "signatureAfterChange": " public void copyArea(Image image, int x, int y)", "diff": ["-\t\t\t\tint srcImage = OS.CGImageCreate(width, height, bps, bpp, bpr, data.device.colorspace, OS.kCGImageAlphaNoneSkipFirst, provider, null, true, 0);", "+\t\t\t\tint bitmapInfo = OS.kCGImageAlphaNoneSkipFirst;", "+\t\t\t\tswitch (bpp) {", "+\t\t\t\t\tcase 16: bitmapInfo |= OS.kCGBitmapByteOrder16Host; break;", "+\t\t\t\t\tcase 32: bitmapInfo |= OS.kCGBitmapByteOrder32Host; break;", "+\t\t\t\t}", "+\t\t\t\tint srcImage = OS.CGImageCreate(width, height, bps, bpp, bpr, data.device.colorspace, bitmapInfo, provider, null, true, 0);"]}], "num": 51456}