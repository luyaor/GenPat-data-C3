{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0dbca4fb430d42d11dde9ed85bcd78bd", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e28e11c6569808c94cedad0ae914f80e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "10946719389470f65e13f1be11fcaf6eb8e0708e", "commitAfterChange": "e42c019f2a285ee0693f813be28788620d9b1560", "methodNumberBeforeChange": 64, "methodNumberAfterChange": 64, "signatureBeforeChange": "  boolean shape (int hdc, StyleItem run, char[] chars, int[] glyphCount, int maxGlyphs, SCRIPT_PROPERTIES sp)", "signatureAfterChange": "  boolean shape (int hdc, StyleItem run, char[] chars, int[] glyphCount, int maxGlyphs, SCRIPT_PROPERTIES sp)", "diff": ["-\tboolean useCMAPcheck = !sp.fComplex && !sp.fPrivateUseArea; ", "-\tSCRIPT_FONTPROPERTIES fp = new SCRIPT_FONTPROPERTIES ();", "-\tfp.cBytes = SCRIPT_FONTPROPERTIES.sizeof;", "-\tOS.ScriptGetFontProperties(hdc, run.psc, fp);", "+\tboolean useCMAPcheck = !sp.fComplex && !run.analysis.fNoGlyphIndex;", "+\t\tif (run.analysis.fNoGlyphIndex) return true;", "+\t\tSCRIPT_FONTPROPERTIES fp = new SCRIPT_FONTPROPERTIES ();", "+\t\tfp.cBytes = SCRIPT_FONTPROPERTIES.sizeof;", "+\t\tOS.ScriptGetFontProperties(hdc, run.psc, fp);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "df8412687859b1a7fc946c16ff8bac84", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "a49f2cbc4da47f935eb3107bc9632b88888ad41f", "commitAfterChange": "8f88e2ea9dda5fd31ba5034707b2295762e68f5c", "methodNumberBeforeChange": 64, "methodNumberAfterChange": 64, "signatureBeforeChange": "  boolean shape (int hdc, StyleItem run, char[] chars, int[] glyphCount, int maxGlyphs)", "signatureAfterChange": "  boolean shape (int hdc, StyleItem run, char[] chars, int[] glyphCount, int maxGlyphs, SCRIPT_PROPERTIES sp)", "diff": ["-boolean shape (int /*long*/ hdc, StyleItem run, char[] chars, int[] glyphCount, int maxGlyphs) {", "+boolean shape (int /*long*/ hdc, StyleItem run, char[] chars, int[] glyphCount, int maxGlyphs, SCRIPT_PROPERTIES sp) {", "+\tboolean useCMAPcheck = !sp.fComplex && !sp.fPrivateUseArea; ", "+\tSCRIPT_FONTPROPERTIES fp = new SCRIPT_FONTPROPERTIES ();", "+\tfp.cBytes = SCRIPT_FONTPROPERTIES.sizeof;", "+\tOS.ScriptGetFontProperties(hdc, run.psc, fp);", "+\tif (useCMAPcheck) {", "+\t\tshort[] glyphs = new short[chars.length];", "+\t\tif (OS.ScriptGetCMap(hdc, run.psc, chars, chars.length, 0, glyphs) != OS.S_OK) {", "+\t\t\tif (run.psc != 0) {", "+\t\t\t\tOS.ScriptFreeCache(run.psc);", "+\t\t\t\tglyphCount[0] = 0;", "+\t\t\t\tOS.MoveMemory(run.psc, new int /*long*/ [1], OS.PTR_SIZEOF);", "+\t\t\t}", "+\t\t\treturn false;", "+\t\t}", "+\t}", "+\tif (useCMAPcheck) return true;", "+\t", "-\t\tSCRIPT_FONTPROPERTIES fp = new SCRIPT_FONTPROPERTIES ();", "-\t\tfp.cBytes = SCRIPT_FONTPROPERTIES.sizeof;", "-\t\tOS.ScriptGetFontProperties(hdc, run.psc, fp);"]}], "num": 19697}