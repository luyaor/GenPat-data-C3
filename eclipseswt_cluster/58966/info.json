{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4c3592027d19746545fd3d311d8cee8a", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "499341ae6f701ed1a3dc672a08d364ff", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/treetable/org/eclipse/swt/widgets/TableItem.java", "commitBeforeChange": "ed6471c0ec0d0ee0c1436d2bdeadc8ba513ab4fd", "commitAfterChange": "034d8fba7f4ca7576ddaeee539a2fb56ee664327", "methodNumberBeforeChange": 54, "methodNumberAfterChange": 42, "signatureBeforeChange": " void removeColumn(TableColumn column)", "signatureAfterChange": " void removeColumn (TableColumn column, int index)", "diff": ["-void removeColumn(TableColumn column) {", "-\tVector data = getDataLabels();", "-\tVector images = getImages();", "-\tString stringData[];", "-\tImage imageData[];", "-\tint index = column.getIndex();", "-", "-\tif (index < data.size()) {", "-\t\tdata.removeElementAt(index);", "-\t\tstringData = new String[data.size()];", "-\t\tdata.copyInto(stringData);", "-\t\tsetText(stringData);", "-\t}", "-\tif (index < images.size()) {", "-\t\timages.removeElementAt(index);", "-\t\timageData = new Image[images.size()];", "-\t\timages.copyInto(imageData);", "-\t\tsetImage(imageData);", "-\t}", "-\t", "-\tif (trimmedLabels.length == 1) {", "-\t\ttrimmedLabels = new String[0];", "-\t} else {", "-\t\tString[] tempTrimmed = new String[trimmedLabels.length - 1];", "-\t\tSystem.arraycopy(trimmedLabels, 0, tempTrimmed, 0, index);\t", "-\t\tSystem.arraycopy(trimmedLabels, index +1, tempTrimmed, index, trimmedLabels.length - index -1);", "-\t\ttrimmedLabels = tempTrimmed; ", "-\t}", "-", "-}", "+void removeColumn (TableColumn column, int index) {", "+\tint columnCount = parent.columns.length;", "+\tif (columnCount == 0) {", "+\t\t/* reverts to normal table when last column disposed */", "+\t\tcellBackgrounds = cellForegrounds = null;", "+\t\tdisplayTexts = null;", "+\t\tcellFonts = null;", "+\t\tfontHeights = null;", "+\t\tGC gc = new GC (parent);", "+\t\tgc.setFont (getFont ());", "+\t\trecomputeTextWidths (gc);", "+\t\tgc.dispose ();", "+\t\treturn;", "+\t}", "+", "+\tString[] newTexts = new String [columnCount];", "+\tSystem.arraycopy (texts, 0, newTexts, 0, index);", "+\tSystem.arraycopy (texts, index + 1, newTexts, index, columnCount - index);", "+\ttexts = newTexts;", "+\t", "+\tImage[] newImages = new Image [columnCount];", "+\tSystem.arraycopy (images, 0, newImages, 0, index);", "+\tSystem.arraycopy (images, index + 1, newImages, index, columnCount - index);", "+\timages = newImages;", "+", "+\tint[] newTextWidths = new int [columnCount];", "+\tSystem.arraycopy (textWidths, 0, newTextWidths, 0, index);", "+\tSystem.arraycopy (textWidths, index + 1, newTextWidths, index, columnCount - index);", "+\ttextWidths = newTextWidths;", "+", "+\tString[] newDisplayTexts = new String [columnCount];", "+\tSystem.arraycopy (displayTexts, 0, newDisplayTexts, 0, index);", "+\tSystem.arraycopy (displayTexts, index + 1, newDisplayTexts, index, columnCount - index);", "+\tdisplayTexts = newDisplayTexts;", "+", "+\tif (cellBackgrounds != null) {", "+\t\tColor[] newCellBackgrounds = new Color [columnCount];", "+\t\tSystem.arraycopy (cellBackgrounds, 0, newCellBackgrounds, 0, index);", "+\t\tSystem.arraycopy (cellBackgrounds, index + 1, newCellBackgrounds, index, columnCount - index);", "+\t\tcellBackgrounds = newCellBackgrounds;", "+\t}", "+\tif (cellForegrounds != null) {", "+\t\tColor[] newCellForegrounds = new Color [columnCount];", "+\t\tSystem.arraycopy (cellForegrounds, 0, newCellForegrounds, 0, index);", "+\t\tSystem.arraycopy (cellForegrounds, index + 1, newCellForegrounds, index, columnCount - index);", "+\t\tcellForegrounds = newCellForegrounds;", "+\t}", "+\tif (cellFonts != null) {", "+\t\tFont[] newCellFonts = new Font [columnCount];", "+\t\tSystem.arraycopy (cellFonts, 0, newCellFonts, 0, index);", "+\t\tSystem.arraycopy (cellFonts, index + 1, newCellFonts, index, columnCount - index);", "+\t\tcellFonts = newCellFonts;", "+", "+\t\tint[] newFontHeights = new int [columnCount];", "+\t\tSystem.arraycopy (fontHeights, 0, newFontHeights, 0, index);", "+\t\tSystem.arraycopy (fontHeights, index + 1, newFontHeights, index, columnCount - index);", "+\t\tfontHeights = newFontHeights;", "+\t}", "+", "+\tif (index == 0) {", "+\t\ttext = texts [0] != null ? texts [0] : \"\";\t//$NON-NLS-1$", "+\t\ttexts [0] = null;", "+\t\timage = images [0];", "+\t\timages [0] = null;", "+\t\t/* ", "+\t\t * The new first column will not have as much width available to it as it did when it was", "+\t\t * the second column since it now has to show hierarchy decorations as well, so recompute", "+\t\t * its displayText. ", "+\t\t */", "+\t\tGC gc = new GC (parent);", "+\t\tgc.setFont (getFont (0));", "+\t\tcomputeDisplayText (0, gc);", "+\t\tgc.dispose ();", "+\t}", "+\tif (columnCount < 2) {", "+\t\ttexts = null;", "+\t\timages = null;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f2fa1c714bf6964a6f4d4f7d1830a7db", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/common/org/eclipse/swt/browser/Mozilla.java", "commitBeforeChange": "33a44d8f9cd8fb97f47f03bd3dfd0a34047d5e0b", "commitAfterChange": "eb5fa7d6608bbc21cdb8c7606a37ce0601413346", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "  public void create (Composite parent, int style)", "signatureAfterChange": "  public void create (Composite parent, int style)", "diff": ["+\t\t* Check for proxy values set as documented java properties and update mozilla's", "+\t\t* preferences with these values if needed.", "+\t\t*/", "+\t\tString proxyHost = System.getProperty (PROPERTY_PROXYHOST);", "+\t\tString proxyPortString = System.getProperty (PROPERTY_PROXYPORT);", "+", "+\t\tint port = -1;", "+\t\tif (proxyPortString != null) {", "+\t\t\ttry {", "+\t\t\t\tint value = Integer.valueOf (proxyPortString).intValue ();", "+\t\t\t\tif (0 <= value && value <= MAX_PORT) port = value;", "+\t\t\t} catch (NumberFormatException e) {", "+\t\t\t\t/* do nothing, java property has non-integer value */", "+\t\t\t}", "+\t\t}", "+", "+\t\tif (proxyHost != null) {", "+\t\t\tbyte[] contractID = MozillaDelegate.wcsToMbcs (null, XPCOM.NS_PREFLOCALIZEDSTRING_CONTRACTID, true);", "+\t\t\trc = componentManager.CreateInstanceByContractID (contractID, 0, nsIPrefLocalizedString.NS_IPREFLOCALIZEDSTRING_IID, result);", "+\t\t\tif (rc != XPCOM.NS_OK) error (rc);", "+\t\t\tif (result[0] == 0) error (XPCOM.NS_NOINTERFACE);", "+", "+\t\t\tlocalizedString = new nsIPrefLocalizedString (result[0]);", "+\t\t\tresult[0] = 0;", "+\t\t\tint length = proxyHost.length ();", "+\t\t\tchar[] charBuffer = new char[length + 1];", "+\t\t\tproxyHost.getChars (0, length, charBuffer, 0);", "+\t\t\trc = localizedString.SetDataWithLength (length, charBuffer);", "+\t\t\tif (rc != XPCOM.NS_OK) error (rc);", "+\t\t\tbuffer = MozillaDelegate.wcsToMbcs (null, PREFERENCE_PROXYHOST_FTP, true);", "+\t\t\trc = prefBranch.SetComplexValue (buffer, nsIPrefLocalizedString.NS_IPREFLOCALIZEDSTRING_IID, localizedString.getAddress ());", "+\t\t\tif (rc != XPCOM.NS_OK) error (rc);", "+\t\t\tbuffer = MozillaDelegate.wcsToMbcs (null, PREFERENCE_PROXYHOST_HTTP, true);", "+\t\t\trc = prefBranch.SetComplexValue (buffer, nsIPrefLocalizedString.NS_IPREFLOCALIZEDSTRING_IID, localizedString.getAddress ());", "+\t\t\tif (rc != XPCOM.NS_OK) error (rc);", "+\t\t\tbuffer = MozillaDelegate.wcsToMbcs (null, PREFERENCE_PROXYHOST_SSL, true);", "+\t\t\trc = prefBranch.SetComplexValue (buffer, nsIPrefLocalizedString.NS_IPREFLOCALIZEDSTRING_IID, localizedString.getAddress ());", "+\t\t\tif (rc != XPCOM.NS_OK) error (rc);", "+\t\t\tlocalizedString.Release ();", "+\t\t}", "+", "+\t\tif (port != -1) {", "+\t\t\tbuffer = MozillaDelegate.wcsToMbcs (null, PREFERENCE_PROXYPORT_FTP, true);", "+\t\t\trc = prefBranch.SetIntPref (buffer, port);", "+\t\t\tif (rc != XPCOM.NS_OK) error (rc);", "+\t\t\tbuffer = MozillaDelegate.wcsToMbcs (null, PREFERENCE_PROXYPORT_HTTP, true);", "+\t\t\trc = prefBranch.SetIntPref (buffer, port);", "+\t\t\tif (rc != XPCOM.NS_OK) error (rc);", "+\t\t\tbuffer = MozillaDelegate.wcsToMbcs (null, PREFERENCE_PROXYPORT_SSL, true);", "+\t\t\trc = prefBranch.SetIntPref (buffer, port);", "+\t\t\tif (rc != XPCOM.NS_OK) error (rc);", "+\t\t}", "+", "+\t\tif (proxyHost != null || port != -1) {", "+\t\t\tbuffer = MozillaDelegate.wcsToMbcs (null, PREFERENCE_PROXYTYPE, true);", "+\t\t\trc = prefBranch.SetIntPref (buffer, 1);", "+\t\t\tif (rc != XPCOM.NS_OK) error (rc);", "+\t\t}", "+", "+\t\t/*", "+", "-\tupdateProxy ();"]}], "num": 58966}