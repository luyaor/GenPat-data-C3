{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e0ccfb36b5ea272c769e451b6cdd8d01", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "71409623928743e797187cabfa5aca43", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/motif/org/eclipse/swt/dnd/TreeDragUnderEffect.java", "commitBeforeChange": "1c37647de5534f8029867b682ff6e27fa9349dcf", "commitAfterChange": "96591e42a75d692597f71a4a0cadb654241fef4e", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 4, "signatureBeforeChange": "\r private void setDragUnderEffect(int effect, TreeItem item)", "signatureAfterChange": "\r private void setDragUnderEffect(int effect, TreeItem item)", "diff": ["-\tswitch (effect) {\t\t\t\t\r", "-\t\tcase DND.FEEDBACK_SELECT:\r", "-\t\t\tif (currentEffect == DND.FEEDBACK_INSERT_AFTER ||\r", "-\t\t\t    currentEffect == DND.FEEDBACK_INSERT_BEFORE) {\r", "-\t\t\t\ttree.setInsertMark(null, false);\r", "-\t\t\t}\r", "-\t\t\tsetDropSelection(item); \r", "-\t\t\tcurrentEffect = DND.FEEDBACK_SELECT;\r", "-\t\t\tbreak;\r", "-\t\tcase DND.FEEDBACK_INSERT_AFTER:\r", "-\t\tcase DND.FEEDBACK_INSERT_BEFORE:\r", "-\t\t\tif (currentEffect == DND.FEEDBACK_SELECT) {\r", "-\t\t\t\tsetDropSelection(null);\r", "-\t\t\t}\r", "-\t\t\ttree.setInsertMark(item, effect == DND.FEEDBACK_INSERT_BEFORE);\r", "-\t\t\tcurrentEffect = effect;\r", "-\t\t\tbreak;\t\t\t\r", "-\t\tdefault :\r", "-\t\t\tif (currentEffect == DND.FEEDBACK_INSERT_AFTER ||\r", "-\t\t\t    currentEffect == DND.FEEDBACK_INSERT_BEFORE) {\r", "-\t\t\t\ttree.setInsertMark(null, false);\r", "-\t\t\t}\r", "-\t\t\tif (currentEffect == DND.FEEDBACK_SELECT) {\r", "-\t\t\t\tsetDropSelection(null);\r", "-\t\t\t}\r", "-\t\t\tcurrentEffect = DND.FEEDBACK_NONE;\r", "-\t\t\tbreak;\r", "+\tif ((effect & DND.FEEDBACK_SELECT) != 0) {\r", "+\t\tif ((currentEffect & DND.FEEDBACK_INSERT_AFTER) != 0 ||\r", "+\t\t    (currentEffect & DND.FEEDBACK_INSERT_BEFORE) != 0) {\r", "+\t\t\ttree.setInsertMark(null, false);\r", "+\t\t}\r", "+\t\tsetDropSelection(item); \r", "+\t\treturn;\r", "+\tif ((effect & DND.FEEDBACK_INSERT_AFTER) != 0 ||\r", "+\t\t(effect & DND.FEEDBACK_INSERT_BEFORE) != 0) {\r", "+\t\tif ((currentEffect & DND.FEEDBACK_SELECT) != 0) {\r", "+\t\t\tsetDropSelection(null);\r", "+\t\t}\r", "+\t\tsetInsertMark(item, (effect & DND.FEEDBACK_INSERT_BEFORE) != 0);\r", "+\t\treturn;\r", "+\t}\r", "+\t\r", "+\tsetInsertMark(null, false);\r", "+\tsetDropSelection(null);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4ad79ce1f208cef088acf12f5a20fa31", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/carbon/org/eclipse/swt/dnd/TreeDragUnderEffect.java", "commitBeforeChange": "c032f21c78e17ec55f9e5b212dab97d2ca79c2ad", "commitAfterChange": "3c6d1eb9aff796264943680b66543f0d6a97ff25", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 7, "signatureBeforeChange": " void show(int effect, int x, int y)", "signatureAfterChange": " void show(int effect, int x, int y)", "diff": ["-\t\texpandIndex = null;", "+\t\texpandItem = null;", "-\t\tif (item != null && item.equals(expandIndex) && expandBeginTime != 0) {", "+\t\tif (item != null && item.equals(expandItem) && expandBeginTime != 0) {", "-\t\t\t\texpandIndex = null;", "+\t\t\t\texpandItem = null;", "-\t\t\texpandIndex = item;", "+\t\t\texpandItem = item;", "-\t\tif ((currentEffect & DND.FEEDBACK_INSERT_AFTER) != 0 ||", "-\t\t    (currentEffect & DND.FEEDBACK_INSERT_BEFORE) != 0) {", "-\t\t\tsetInsertMark(null, false);", "-\t\t\tcurrentEffect = DND.FEEDBACK_NONE;", "-\t\t\tcurrentItem = null;", "-\t\t}", "-\t\tif (currentEffect != effect || currentItem != item) { ", "+\t\tif (currentItem != item || (currentEffect & DND.FEEDBACK_SELECT) == 0) { ", "-\t\t\tcurrentEffect = DND.FEEDBACK_SELECT;", "+\t\t\tcurrentEffect = effect;", "+\t} else {", "+\t\tsetDropSelection(null);", "-\t\tif (currentEffect == DND.FEEDBACK_SELECT) {", "-\t\t\tsetDropSelection(null);", "-\t\t\tcurrentEffect = DND.FEEDBACK_NONE;", "-\t\t\tcurrentItem = null;", "-\t\t}", "-\t\tif (currentEffect != effect || currentItem != item) { ", "-\t\t\tsetInsertMark(item, effect == DND.FEEDBACK_INSERT_AFTER);", "+\t\tif (currentItem != item || ", "+\t\t\t ((effect & DND.FEEDBACK_INSERT_AFTER) != (currentEffect & DND.FEEDBACK_INSERT_AFTER)) ||", "+\t\t\t ((effect & DND.FEEDBACK_INSERT_BEFORE) != (currentEffect & DND.FEEDBACK_INSERT_BEFORE))) { ", "+\t\t\tsetInsertMark(item, (effect & DND.FEEDBACK_INSERT_BEFORE) != 0);", "-\t}", "-}", "+\t\tsetInsertMark(null, false);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "aa74a9dcd34f2c7cb3dfb44c9fa2702f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "1cafb9b13b36075eb1d31bd71ad3febbf37de5b5", "commitAfterChange": "4b7ac62e4c7abc2bdb8c97e1ee5fae6064a184d8", "methodNumberBeforeChange": 196, "methodNumberAfterChange": 197, "signatureBeforeChange": " void handleCompositionChanged(Event event)", "signatureAfterChange": " void handleCompositionChanged(Event event)", "diff": ["+\tint start = event.start;", "-\tif (compositionStart == -1) {", "-\t\tcompositionStart = caretOffset;", "-\t\tcompositionLength = 0;", "-\t}", "-\tint oldLength = compositionLength;", "-\tcompositionLength = 0;", "-\trenderer.imeRanges = null;", "-\trenderer.imeStyles = null;", "-\tif (length == event.count) {", "-\t\tcontent.replaceTextRange(compositionStart, oldLength, \"\");", "-\t\tcaretOffset = compositionStart;", "-\t\tcompositionStart = -1;", "+\tif (length == ime.getCommitCount()) {", "+\t\tcontent.replaceTextRange(start, event.end - start, \"\");", "+\t\tcaretOffset = start;", "-\t\tcontent.replaceTextRange(compositionStart, oldLength, text);", "-\t\tcompositionLength = length;", "-\t\tcaretOffset = compositionStart + event.index;", "-\t\tint lineIndex = getCaretLine();", "-\t\trenderer.imeRanges = event.ranges;", "-\t\trenderer.imeStyles = event.styles;", "-\t\tresetCache(lineIndex, 1);", "-\t\tif (event.wideCaret) {", "+\t\tcontent.replaceTextRange(start, event.end - start, text);", "+\t\tcaretOffset = ime.getCaretOffset();", "+\t\tif (ime.getWideCaret()) {", "+\t\t\tint lineIndex = getCaretLine();", "-\t\t\tcaretWidth = layout.getBounds(compositionStart - lineOffset, compositionStart + compositionLength - 1 - lineOffset).width;", "+\t\t\tcaretWidth = layout.getBounds(start - lineOffset, start + length - 1 - lineOffset).width;"]}], "num": 14911}