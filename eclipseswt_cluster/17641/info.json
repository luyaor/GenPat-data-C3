{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a141b8429f48c693c6c1d5ad8b498208", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d4bb94e920480084990b0982313030e2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "5b2c3a06efe9f03e6d0b95d1830abbd80f01c4a5", "commitAfterChange": "7265e03acce403fc13fb49544db1e7781932cd4c", "methodNumberBeforeChange": 120, "methodNumberAfterChange": 120, "signatureBeforeChange": "  LRESULT WM_LBUTTONDOWN (int wParam, int lParam)", "signatureAfterChange": "  LRESULT WM_LBUTTONDOWN (int wParam, int lParam)", "diff": ["+\tint hNewItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_CARET, 0);", "+\t/*", "+\t* Feature in Windows.  When the tree has the style", "+\t* TVS_FULLROWSELECT, the background color for the", "+\t* entire row is filled when an item is painted,", "+\t* drawing on top of any custom drawing.  The fix", "+\t* is to emulate TVS_FULLROWSELECT.", "+\t*/", "+\tif ((style & SWT.FULL_SELECTION) != 0) {", "+\t\tint bits = OS.GetWindowLong (handle, OS.GWL_STYLE);", "+\t\tif ((bits & OS.TVS_FULLROWSELECT) == 0) {", "+\t\t\tif (hNewItem == hOldItem) {", "+\t\t\t\tOS.SendMessage (handle, OS.TVM_SELECTITEM, OS.TVGN_CARET, lpht.hItem);", "+\t\t\t\thNewItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_CARET, 0);", "+\t\t\t}", "+\t\t}", "+\t}", "-\tint hNewItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_CARET, 0);", "-\t\t\t\tint bits = OS.GetWindowLong (handle, OS.GWL_STYLE);", "-\t\t\t\tint fItemRect = (bits & OS.TVS_FULLROWSELECT) != 0 ? 0 : 1;", "+\t\t\t\tint fItemRect = (style & SWT.FULL_SELECTION) != 0 ? 0 : 1;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7da2b4e59fb500066655ee04d9dfdc7c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "5f4ad00ced8eb9534f0b8d4be4710ee4f2d95ae3", "commitAfterChange": "ace3941e268d50c983abbe2bd09ea37e6b7bf23a", "methodNumberBeforeChange": 88, "methodNumberAfterChange": 88, "signatureBeforeChange": "  void setBackgroundImage (int hBitmap)", "signatureAfterChange": "  void setBackgroundImage (int hBitmap)", "diff": ["+\t\t/*", "+\t\t* Feature in Windows.  When the tree has the style", "+\t\t* TVS_FULLROWSELECT, the background color for the", "+\t\t* entire row is filled when an item is painted,", "+\t\t* drawing on top of the background image.  The fix", "+\t\t* is to clear TVS_FULLROWSELECT when a background", "+\t\t* image is set.", "+\t\t*/", "+\t\tif ((style & SWT.FULL_SELECTION) != 0) {", "+\t\t\tint bits = OS.GetWindowLong (handle, OS.GWL_STYLE);", "+\t\t\tif ((bits & OS.TVS_FULLROWSELECT) != 0) {", "+\t\t\t\tbits &= ~OS.TVS_FULLROWSELECT;", "+\t\t\t\tOS.SetWindowLong (handle, OS.GWL_STYLE, bits);", "+\t\t\t\tOS.InvalidateRect (handle, null, true);", "+\t\t\t}", "+\t\t}", "+}", "-\t* is to clear TVS_FULLROWSELECT.", "-\t\tif (hBitmap != 0) {", "-\t\t\tbits &= ~OS.TVS_FULLROWSELECT;", "-\t\t} else {", "-\t\t\tif (!hooks (SWT.EraseItem) && !hooks (SWT.PaintItem)) {", "-\t\t\t\tbits |= OS.TVS_FULLROWSELECT;", "-\t\t\t}", "-\t\tOS.SetWindowLong (handle, OS.GWL_STYLE, bits);", "-\t\tOS.InvalidateRect (handle, null, true);", "-}"]}], "num": 17641}