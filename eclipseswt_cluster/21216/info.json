{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "bc25544126872650a29d73e5e8a9ff54", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ba2afdd8e9222a8b9e84d6439520c763", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT OpenGL/cocoa/org/eclipse/swt/opengl/GLCanvas.java", "commitBeforeChange": "45a6d0022c44f47ecde663b4004cb5c0d76ba9e5", "commitAfterChange": "e3ea64aec4badff611aa689783dfd6c5dae273bc", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": " public GLCanvas (Composite parent, int style, GLData data)", "signatureAfterChange": " public GLCanvas (Composite parent, int style, GLData data)", "diff": ["-\t", "-\tglView = (SWTOpenGLView)new SWTOpenGLView().alloc();", "-\tif (glView == null) {\t\t", "+\tNSOpenGLContext ctx = data.shareContext != null ? data.shareContext.context : null;", "+\tcontext = (NSOpenGLContext) new NSOpenGLContext().alloc();", "+\tif (context == null) {\t\t", "-\tglView.initWithFrame(view.bounds(), pixelFormat);", "-\t", "-\tif (data.shareContext != null) {", "-\t\tNSOpenGLContext ctx = data.shareContext.glView.openGLContext();", "-\t\tNSOpenGLContext newContext = (NSOpenGLContext) new NSOpenGLContext().alloc();", "-\t\tnewContext.initWithFormat(pixelFormat, ctx);", "-\t\tglView.setOpenGLContext(newContext);", "-\t\tnewContext.release();", "-\t}", "-\tglView.setAutoresizingMask(OS.NSViewWidthSizable | OS.NSViewHeightSizable);", "-\tview.addSubview(glView);", "-\tDisplay display = getDisplay();", "-\tdisplay.setData(ADD_WIDGET_KEY, new Object[] {glView, this});", "-\tdisplay.setData(EVENT_VIEW_KEY, glView);", "-\tdisplay.setData(PAINT_VIEW_KEY, view);", "+\tcontext = context.initWithFormat(pixelFormat, ctx);", "+\tsetData(GLCONTEXT_KEY, context);", "+\tNSNotificationCenter.defaultCenter().addObserver(view,  OS.sel_updateOpenGLContext_, OS.NSViewGlobalFrameDidChangeNotification, view);", "+\t\t\t", "-\t\t\t\t\tevent.display.setData(ADD_WIDGET_KEY, new Object[] {glView, null});", "-\t\t\t\t\tevent.display.setData(EVENT_VIEW_KEY, null);", "-\t\t\t\t\tevent.display.setData(PAINT_VIEW_KEY, null);", "-", "-\t\t\t\t\tif (glView != null) {", "-\t\t\t\t\t\tglView.clearGLContext();", "-\t\t\t\t\t\tglView.release();", "+\t\t\t\t\tsetData(GLCONTEXT_KEY, null);", "+\t\t\t\t\tNSNotificationCenter.defaultCenter().removeObserver(view);", "+\t\t\t\t\t", "+\t\t\t\t\tif (context != null) {", "+\t\t\t\t\t\tcontext.clearDrawable();", "+\t\t\t\t\t\tcontext.release();", "-\t\t\t\t\tglView = null;", "+\t\t\t\t\tcontext = null;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "50ad537caeb08d159b1da769025a255a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt.tools/NativeStats/org/eclipse/swt/tools/internal/NativeStats.java", "commitBeforeChange": "d8111d49068e0c69981fd6312d5492437b2bc52a", "commitAfterChange": "2c5baaf6ba7fb16f147dfc7502d0b488e8812574", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 6, "signatureBeforeChange": "  public void dump(String className, PrintStream ps)", "signatureAfterChange": " \t void dump(String className, NativeFunction[] funcs, PrintStream ps)", "diff": ["-public void dump(String className, PrintStream ps) {", "+\t", "+void dump(String className, NativeFunction[] funcs, PrintStream ps) {", "+\tif (funcs == null) return;", "+\tps.println(className);", "+\tfor (int i = 0; i < funcs.length; i++) {", "+\t\tNativeFunction func = funcs[i];", "+\t\tif (func.getCallCount() > 0) {", "+\t\t\tps.print(\"\\t\");", "+\t\t\tps.print(func.getName());", "+\t\t\tps.print(\"=\");", "+\t\t\tps.print(func.getCallCount());", "+\t\t\tps.println();", "+\t\t}", "+\t}", "+}", "-\t\tps.println(className);", "-\t\t\tif (ncalls > 0) {", "-\t\t\t\tps.print(\"\\t\");", "-\t\t\t\tps.print(functionName.invoke(clazz, arg));", "-\t\t\t\tps.print(\"=\");", "-\t\t\t\tps.print(ncalls);", "-\t\t\t\tps.println();", "-\t\t\t}", "-\t\t}\t\t"]}], "num": 21216}