{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e6f2c1e964a8f8e1807876a24cbc43d9", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "462794ae2bb1bd6e1f0205a2f654a889", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "2353899a24ebfcb319f8565185c51f1eb7d4d7d0", "commitAfterChange": "9de15cee635b8b62090b1701f3da6136926121d9", "methodNumberBeforeChange": 35, "methodNumberAfterChange": 35, "signatureBeforeChange": " public String getText (int start, int end)", "signatureAfterChange": " public String getText (int start, int end)", "diff": ["-\tint numChars = end - start + 1;", "-\tif (numChars < 0 || start < 0) return \"\";", "+\tif (!(0 <= start && start <= end)) error (SWT.ERROR_INVALID_RANGE);", "-\t\treturn hiddenText.substring (start, Math.min (hiddenText.length (), end));", "+\t\tif (hiddenText.length () <= end) error (SWT.ERROR_INVALID_RANGE);", "+\t\treturn hiddenText.substring (start, end);", "-\tint length = (numChars * 4 /* MB_CUR_MAX */) + 1;", "+\tint ptr = OS.XmTextGetString (handle);", "+\tif (ptr == 0) return \"\";", "+\tint length = OS.strlen (ptr);", "-\tint code = OS.XmTextGetSubstring (handle, start, numChars, length, buffer);", "-\tif (code == OS.XmCOPY_FAILED) return \"\";", "-\tchar [] unicode = Converter.mbcsToWcs (getCodePage (), buffer);", "-\tif (code == OS.XmCOPY_TRUNCATED) {", "-\t\tnumChars = OS.XmTextGetLastPosition (handle) - start;", "-\t}", "-\treturn new String (unicode, 0, numChars);", "+\tOS.memmove (buffer, ptr, length);", "+\tOS.XtFree (ptr);", "+\tif (length <= end) error (SWT.ERROR_INVALID_RANGE);", "+\treturn new String (Converter.mbcsToWcs (getCodePage (), buffer));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b8d19fb5dce2dbab293392f579966bd1", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "5a5c80423a8a0485f497b21dd7056a072e6cef77", "commitAfterChange": "5a60031b60caec6e6733262c8f1d0f382baa10b4", "methodNumberBeforeChange": 35, "methodNumberAfterChange": 35, "signatureBeforeChange": " public String getText (int start, int end)", "signatureAfterChange": " public String getText (int start, int end)", "diff": ["-\tint ptr = OS.XmTextGetString (handle);", "-\tif (ptr == 0) return \"\";", "-\tint length = OS.strlen (ptr);", "+\tint numChars = end - start + 1;", "+\tint length = (numChars * 4 /* MB_CUR_MAX */) + 1;", "-\tOS.memmove (buffer, ptr, length);", "-\tOS.XtFree (ptr);", "-\treturn new String (Converter.mbcsToWcs (getCodePage (), buffer));", "+\tint code = OS.XmTextGetSubstring (handle, start, numChars, length, buffer);", "+\tif (code == OS.XmCOPY_FAILED) return \"\";", "+\tchar [] unicode = Converter.mbcsToWcs (getCodePage (), buffer);", "+\tif (code == OS.XmCOPY_TRUNCATED) {", "+\t\tnumChars = OS.XmTextGetLastPosition (handle) - start;", "+\t}", "+\treturn new String (unicode, 0, numChars);"]}], "num": 59185}