{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4d93a662f69c4bb5bd041b49314a12c1", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8594adf55018d8068cb43ebb66f28618", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "202915b4e0c2a8401f55d01a3e78d0175ca8da7d", "commitAfterChange": "13ebfa89685ccb1ab9de65777106d331f0eac856", "methodNumberBeforeChange": 58, "methodNumberAfterChange": 59, "signatureBeforeChange": " int menuForEvent(int id, int sel, int theEvent)", "signatureAfterChange": "  int menuForEvent(int id, int sel, int theEvent)", "diff": ["- */", "-\tNSEvent event = new NSEvent(theEvent);", "-\tNSOutlineView tree = (NSOutlineView)view;", "-\t", "-\t// get the current selections for the outline view. ", "-\tNSIndexSet selectedRowIndexes = tree.selectedRowIndexes();", "-\t", "-\t// select the row that was clicked before showing the menu for the event", "-\tNSPoint mousePoint = view.convertPoint_fromView_(event.locationInWindow(), null);", "-\tint /*long*/ row = tree.rowAtPoint(mousePoint);", "-\t", "-\t// figure out if the row that was just clicked on is currently selected", "-\tif (selectedRowIndexes.containsIndex(row) == false) {", "-\t\tNSIndexSet indexes = new NSIndexSet (NSIndexSet.indexSetWithIndex (row));", "-\t\ttree.selectRowIndexes (indexes, false);", "+\tif (id != headerView.id) {", "+\t\t/*", "+\t\t * Feature in Cocoa: Table views do not change the selection when the user", "+\t\t * right-clicks or control-clicks on an NSTableView or its subclasses. Fix is to select the ", "+\t\t * clicked-on row ourselves.", "+\t\t */", "+\t\tNSEvent event = new NSEvent(theEvent);", "+\t\tNSOutlineView tree = (NSOutlineView)view;", "+\t\t", "+\t\t// get the current selections for the outline view. ", "+\t\tNSIndexSet selectedRowIndexes = tree.selectedRowIndexes();", "+\t\t", "+\t\t// select the row that was clicked before showing the menu for the event", "+\t\tNSPoint mousePoint = view.convertPoint_fromView_(event.locationInWindow(), null);", "+\t\tint /*long*/ row = tree.rowAtPoint(mousePoint);", "+\t\t", "+\t\t// figure out if the row that was just clicked on is currently selected", "+\t\tif (selectedRowIndexes.containsIndex(row) == false) {", "+\t\t\tNSIndexSet indexes = new NSIndexSet (NSIndexSet.indexSetWithIndex (row));", "+\t\t\ttree.selectRowIndexes (indexes, false);", "+\t\t}", "+\t\t// else that row is currently selected, so don't change anything.", "-\t// else that row is currently selected, so don't change anything."]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "64755b3799443fdede9edb90edffc966", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "202915b4e0c2a8401f55d01a3e78d0175ca8da7d", "commitAfterChange": "13ebfa89685ccb1ab9de65777106d331f0eac856", "methodNumberBeforeChange": 62, "methodNumberAfterChange": 63, "signatureBeforeChange": " int menuForEvent(int id, int sel, int theEvent)", "signatureAfterChange": "  int menuForEvent(int id, int sel, int theEvent)", "diff": ["- */", "-\tNSEvent event = new NSEvent(theEvent);", "-\tNSTableView table = (NSTableView)view;", "-\t", "-\t// get the current selections for the table view. ", "-\tNSIndexSet selectedRowIndexes = table.selectedRowIndexes();", "-\t", "-\t// select the row that was clicked before showing the menu for the event", "-\tNSPoint mousePoint = view.convertPoint_fromView_(event.locationInWindow(), null);", "-\tint /*long*/ row = table.rowAtPoint(mousePoint);", "-\t", "-\t// figure out if the row that was just clicked on is currently selected", "-\tif (selectedRowIndexes.containsIndex(row) == false) {", "-\t\tNSIndexSet indexes = new NSIndexSet (NSIndexSet.indexSetWithIndex (row));", "-\t\ttable.selectRowIndexes (indexes, false);", "+\tif (id != headerView.id) {", "+\t\t/*", "+\t\t * Feature in Cocoa: Table views do not change the selection when the user", "+\t\t * right-clicks or control-clicks on an NSTableView or its subclasses. Fix is to select the ", "+\t\t * clicked-on row ourselves.", "+\t\t */", "+\t\tNSEvent event = new NSEvent(theEvent);", "+\t\tNSTableView table = (NSTableView)view;", "+\t\t", "+\t\t// get the current selections for the table view. ", "+\t\tNSIndexSet selectedRowIndexes = table.selectedRowIndexes();", "+\t\t", "+\t\t// select the row that was clicked before showing the menu for the event", "+\t\tNSPoint mousePoint = view.convertPoint_fromView_(event.locationInWindow(), null);", "+\t\tint /*long*/ row = table.rowAtPoint(mousePoint);", "+\t\t", "+\t\t// figure out if the row that was just clicked on is currently selected", "+\t\tif (selectedRowIndexes.containsIndex(row) == false) {", "+\t\t\tNSIndexSet indexes = new NSIndexSet (NSIndexSet.indexSetWithIndex (row));", "+\t\t\ttable.selectRowIndexes (indexes, false);", "+\t\t}", "+\t\t// else that row is currently selected, so don't change anything.", "-\t// else that row is currently selected, so don't change anything.", "-\t"]}], "num": 35814}