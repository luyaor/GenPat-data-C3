{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "03080635835411c77a1b9af1511f9651", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3c423e6d4e7be1ceba9a1f07da16e72e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText2.java", "commitBeforeChange": "0fa861dfc810fa95fef91d1138bd1d6fa87ebd2c", "commitAfterChange": "0600cb7b16b085c0042ea9cb2d61d7f2d118abff", "methodNumberBeforeChange": 59, "methodNumberAfterChange": 59, "signatureBeforeChange": " void calculateTopIndex()", "signatureAfterChange": " void calculateTopIndex(int delta)", "diff": ["-void calculateTopIndex() {", "+void calculateTopIndex(int delta) {", "-\t\tRectangle clientArea = getClientArea();", "-\t\ttopIndex = getLineIndex(clientArea.y);", "-\t\tint linePixel = getLinePixel(topIndex);", "-\t\tif (linePixel < 0) {", "-\t\t\tint lineCount = content.getLineCount();", "-\t\t\tif (topIndex < lineCount - 1) {", "-\t\t\t\tint bottom = getLinePixel(topIndex + 1);", "-\t\t\t\tbottom = lineCache.getLineHeight(topIndex + 1);", "-\t\t\t\tif (clientArea.height >= bottom) {", "-\t\t\t\t\ttopIndex++;", "-\t\t\t\t}", "+//\t\tRectangle clientArea = getClientArea();", "+//\t\ttopIndex = getLineIndex(clientArea.y);", "+//\t\tint linePixel = getLinePixel(topIndex);", "+//\t\tif (linePixel < 0) {", "+//\t\t\tint lineCount = content.getLineCount();", "+//\t\t\tif (topIndex < lineCount - 1) {", "+//\t\t\t\tint bottom = getLinePixel(topIndex + 1);", "+//\t\t\t\tbottom = lineCache.getLineHeight(topIndex + 1);", "+//\t\t\t\tif (clientArea.height >= bottom) {", "+//\t\t\t\t\ttopIndex++;", "+//\t\t\t\t}", "+//\t\t\t}", "+//\t\t}", "+\t\tif (delta > 0) {", "+\t\t\tif (partialHeight > delta) {", "+\t\t\t\tpartialHeight -= delta;", "+\t\t\t\treturn;", "-\t\t} ", "-\t}\t", "+\t\t\tdelta -= partialHeight;", "+\t\t\tpartialHeight = 0;", "+\t\t\t", "+\t\t\tint lineCount = content.getLineCount();", "+\t\t\twhile (delta > 0 && topIndex < lineCount -1) {", "+\t\t\t\tint lineHeight = lineCache.getLineHeight(topIndex);", "+\t\t\t\ttopIndex++;", "+\t\t\t\tif (lineHeight > delta) {", "+\t\t\t\t\tpartialHeight = lineHeight - delta;", "+\t\t\t\t\tbreak;", "+\t\t\t\t}", "+\t\t\t\tdelta -= lineHeight;", "+\t\t\t}", "+\t\t} else {", "+\t\t\tif (topIndex > 0) {", "+\t\t\t\tint height = lineCache.getLineHeight(topIndex - 1) - partialHeight;", "+\t\t\t\tif (height > -delta) {", "+\t\t\t\t\tpartialHeight -= delta;", "+\t\t\t\t\treturn;", "+\t\t\t\t}", "+\t\t\t\tdelta += height;", "+\t\t\t\tpartialHeight = 0;", "+\t\t\t\ttopIndex--;", "+\t\t\t}", "+\t\t\t//delta == zero, topIndex--, end", "+\t\t\twhile (-delta > 0 && topIndex > 0) {", "+\t\t\t\tint lineHeight = lineCache.getLineHeight(topIndex - 1);", "+\t\t\t\tif (lineHeight > -delta) {", "+\t\t\t\t\tpartialHeight = -delta;", "+\t\t\t\t\tbreak;", "+\t\t\t\t}", "+\t\t\t\ttopIndex--;", "+\t\t\t\tdelta += lineHeight;", "+\t\t\t}", "+\t\t}", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "feaf683118ee1399acc0ef09e843b031", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "d5cdaaacff35a0f8569cc4dc02842b8272aef14d", "commitAfterChange": "9a13fc3eb8f53f7bf3d95751e59b8402c0170256", "methodNumberBeforeChange": 56, "methodNumberAfterChange": 56, "signatureBeforeChange": "  public Image getSystemImage (int id)", "signatureAfterChange": "  public Image getSystemImage (int id)", "diff": ["-\tint /*long*/ image = 0;", "+\tint /*long*/ imagePixmap = 0, imageMask = 0;", "-\t\tcase SWT.ICON_ERROR: {", "-\t\t\tif (errorImage == 0) {", "-\t\t\t\terrorImage = createImage (\"gtk-dialog-error\");", "+\t\tcase SWT.ICON_ERROR:", "+\t\t\tif (errorPixmap == 0) {", "+\t\t\t\tint /*long*/[] image = createImage (\"gtk-dialog-error\");", "+\t\t\t\tif (image != null) {", "+\t\t\t\t\terrorPixmap = image [0];", "+\t\t\t\t\terrorMask = image [1];", "+\t\t\t\t}", "-\t\t\timage = errorImage;", "+\t\t\timagePixmap = errorPixmap;", "+\t\t\timageMask = errorMask;", "-\t\t}", "-\t\tcase SWT.ICON_WORKING: {", "-\t\t\tif (infoImage == 0) {", "-\t\t\t\tinfoImage = createImage (\"gtk-dialog-info\");", "+\t\tcase SWT.ICON_WORKING:", "+\t\t\tif (infoPixmap == 0) {", "+\t\t\t\tint /*long*/[] image = createImage (\"gtk-dialog-info\");", "+\t\t\t\tif (image != null) {", "+\t\t\t\t\tinfoPixmap = image [0];", "+\t\t\t\t\tinfoMask = image [1];", "+\t\t\t\t}", "-\t\t\timage = infoImage;", "+\t\t\timagePixmap = infoPixmap;", "+\t\t\timageMask = infoMask;", "-\t\t}", "-\t\tcase SWT.ICON_QUESTION: {", "-\t\t\tif (questionImage == 0) {", "-\t\t\t\tquestionImage = createImage (\"gtk-dialog-question\");", "+\t\tcase SWT.ICON_QUESTION:", "+\t\t\tif (questionPixmap == 0) {", "+\t\t\t\tint /*long*/[] image = createImage (\"gtk-dialog-question\");", "+\t\t\t\tif (image != null) {", "+\t\t\t\t\tquestionPixmap = image [0];", "+\t\t\t\t\tquestionMask = image [1];", "+\t\t\t\t}", "-\t\t\timage = questionImage;", "+\t\t\timagePixmap = questionPixmap;", "+\t\t\timageMask = questionMask;", "-\t\t}", "-\t\tcase SWT.ICON_WARNING: {", "-\t\t\tif (warningImage == 0) {", "-\t\t\t\twarningImage = createImage (\"gtk-dialog-warning\");", "+\t\tcase SWT.ICON_WARNING:", "+\t\t\tif (warningPixmap == 0) {", "+\t\t\t\tint /*long*/[] image = createImage (\"gtk-dialog-warning\");", "+\t\t\t\tif (image != null) {", "+\t\t\t\t\twarningPixmap = image [0];", "+\t\t\t\t\twarningMask = image [1];", "+\t\t\t\t}", "-\t\t\timage = warningImage;", "+\t\t\timagePixmap = warningPixmap;", "+\t\t\timageMask = warningMask;", "-\t\t}", "-\tif (image == 0) return null;", "-\tint /*long*/[] pixmap_return = new int /*long*/[1];", "-\tint /*long*/[] mask_return = new int /*long*/[1];", "-\tOS.gdk_pixbuf_render_pixmap_and_mask (image, pixmap_return, mask_return, 128);", "-\treturn Image.gtk_new (this, SWT.ICON, pixmap_return [0], mask_return [0]);", "+\tif (imagePixmap == 0) return null;", "+\treturn Image.gtk_new (this, SWT.ICON, imagePixmap, imageMask);"]}], "num": 16218}