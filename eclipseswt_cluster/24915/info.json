{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "34f932285cffb8b6f30d6e279dfe7468", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0d0d41e09069ed671ca47a80134e2415", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "15597faf73f25871c352ea319d81d75639619b56", "commitAfterChange": "3e073b9871efe7c2196de8b30afc17b6de158c3c", "methodNumberBeforeChange": 84, "methodNumberAfterChange": 85, "signatureBeforeChange": "  int windowProc (int hwnd, int msg, int wParam, int lParam)", "signatureAfterChange": "  int windowProc (int hwnd, int msg, int wParam, int lParam)", "diff": ["-\t\t\tcase OS.WM_KEYDOWN: {", "-\t\t\t\tswitch (wParam) {", "-\t\t\t\t\tcase OS.VK_DELETE: {", "-\t\t\t\t\t\tprocessSegments = true;", "-\t\t\t\t\t\tbreak;", "-\t\t\t\t\t}", "-\t\t\t\t\tcase OS.VK_LEFT:", "-\t\t\t\t\tcase OS.VK_RIGHT: {", "-\t\t\t\t\t\tif (segments != null && OS.GetKeyState (OS.VK_MENU) >= 0) {", "-\t\t\t\t\t\t\tint [] start = new int [1], end = new int [1], newStart = new int [1], newEnd = new int [1];", "-\t\t\t\t\t\t\tOS.SendMessage (handle, OS.EM_GETSEL, start, end);", "-\t\t\t\t\t\t\tfor (;; start [0] = newStart [0], end [0] = newEnd [0]) {", "-\t\t\t\t\t\t\t\tcode = super.windowProc (hwnd, msg, wParam, lParam);", "-\t\t\t\t\t\t\t\tif (code != 1) return code;", "-\t\t\t\t\t\t\t\tOS.SendMessage (handle, OS.EM_GETSEL, newStart, newEnd);", "-\t\t\t\t\t\t\t\tif (newStart [0] != start [0]) {", "-\t\t\t\t\t\t\t\t\tif (untranslateOffset (newStart [0]) != untranslateOffset (start [0])) return code;", "-\t\t\t\t\t\t\t\t} else if (newEnd [0] == end [0]) {", "-\t\t\t\t\t\t\t\t\treturn code;", "-\t\t\t\t\t\t\t\t} else if (untranslateOffset (newEnd [0]) != untranslateOffset (end [0])) {", "-\t\t\t\t\t\t\t\t\treturn code;", "-\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t}", "-\t\t\t\t\t\tbreak;", "-\t\t\t\t\t}", "-\t\t\t\t}", "+\t\t\tcase OS.WM_KEYDOWN: ", "+\t\t\t\tprocessSegments = wParam == OS.VK_DELETE;", "-\t\t\t}", "-\t\t\tcase OS.WM_COPY: {", "+\t\t\tcase OS.WM_COPY:", "-\t\t\t}", "-\t\t\tcase OS.WM_CHAR: {", "+\t\t\tcase OS.WM_CHAR: ", "-\t\t\t}", "-\t\t\tcase OS.WM_CLEAR: {", "+\t\t\tcase OS.WM_CLEAR:", "-\t\t\t}", "-\t\t\tif (OS.IsWinCE) {", "-\t\t\t\tOS.InvalidateRect (handle, null, true);", "-\t\t\t} else {", "-\t\t\t\tOS.RedrawWindow (handle, null, 0, OS.RDW_ERASE | OS.RDW_FRAME | OS.RDW_INVALIDATE); ", "-\t\t\t}", "+\t\t\tOS.InvalidateRect (handle, null, true);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "511b2bab8e00083587149e5931b234c0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "86e590387fc98740eb431ea80c5942750b2c6d0c", "commitAfterChange": "b9e679d47d2b65f7ad52dcb0b148e03cb3e9caf3", "methodNumberBeforeChange": 77, "methodNumberAfterChange": 84, "signatureBeforeChange": "  int windowProc (int hwnd, int msg, int wParam, int lParam)", "signatureAfterChange": "  int windowProc (int hwnd, int msg, int wParam, int lParam)", "diff": ["+\tboolean processSegments = false, redraw = false;", "+\tint code;", "+\tif (hooks (SWT.GetSegments) || filters (SWT.GetSegments)) {", "+\t\tswitch (msg) {", "+\t\t\tcase OS.WM_KEYDOWN: {", "+\t\t\t\tswitch (wParam) {", "+\t\t\t\t\tcase OS.VK_DELETE: {", "+\t\t\t\t\t\tprocessSegments = segments != null;", "+\t\t\t\t\t\tbreak;", "+\t\t\t\t\t}", "+\t\t\t\t\tcase OS.VK_LEFT:", "+\t\t\t\t\tcase OS.VK_RIGHT: {", "+\t\t\t\t\t\tif (segments != null && OS.GetKeyState (OS.VK_MENU) >= 0) {", "+\t\t\t\t\t\t\tint [] start = new int [1], newStart = new int [1], end = new int [1], newEnd = new int [1];", "+\t\t\t\t\t\t\tOS.SendMessage (handle, OS.EM_GETSEL, start, end);", "+\t\t\t\t\t\t\tfor (;;) {", "+\t\t\t\t\t\t\t\tcode = super.windowProc (hwnd, msg, wParam, lParam);", "+\t\t\t\t\t\t\t\tif (code != 1) return code;", "+\t\t\t\t\t\t\t\tOS.SendMessage (handle, OS.EM_GETSEL, newStart, newEnd);", "+\t\t\t\t\t\t\t\tif (newStart [0] != start [0] && untranslateOffset (newStart [0]) == untranslateOffset (start [0])) {", "+\t\t\t\t\t\t\t\t\tcontinue;", "+\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\tif (newEnd [0] != end [0] && untranslateOffset (newEnd [0]) == untranslateOffset (end [0])) {", "+\t\t\t\t\t\t\t\t\tcontinue;", "+\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\treturn code;", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t}", "+\t\t\t\t\t\tbreak;", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t\tbreak;", "+\t\t\t}", "+\t\t\tcase OS.WM_COPY: {", "+\t\t\t\tprocessSegments = segments != null;", "+\t\t\t\tbreak;", "+\t\t\t}", "+\t\t\tcase OS.WM_CHAR: {", "+\t\t\t\tprocessSegments = !ignoreCharacter && OS.GetKeyState (OS.VK_CONTROL) >= 0 && OS.GetKeyState (OS.VK_MENU) >= 0;", "+\t\t\t\tbreak;", "+\t\t\t}", "+\t\t\tcase OS.WM_PASTE:", "+\t\t\tcase OS.WM_CUT:", "+\t\t\tcase OS.WM_CLEAR: {", "+\t\t\t\tprocessSegments = true;", "+\t\t\t\tbreak;", "+\t\t\t}", "+\t\t}", "+\t}", "+\tif (processSegments) {", "+\t\tif (getDrawing () && OS.IsWindowVisible (handle)) {", "+\t\t\tredraw = true;", "+\t\t\tOS.DefWindowProc (handle, OS.WM_SETREDRAW, 0, 0);", "+\t\t}", "+\t\tclearSegments (true);", "+\t}", "-\treturn super.windowProc (hwnd, msg, wParam, lParam);", "+\tcode = super.windowProc (hwnd, msg, wParam, lParam);", "+\tif (processSegments) {", "+\t\tapplySegments ();", "+\t\tif (redraw) {", "+\t\t\tOS.DefWindowProc (handle, OS.WM_SETREDRAW, 1, 0);", "+\t\t\tif (OS.IsWinCE) {", "+\t\t\t\tOS.InvalidateRect (handle, null, true);", "+\t\t\t} else {", "+\t\t\t\tOS.RedrawWindow (handle, null, 0, OS.RDW_ERASE | OS.RDW_FRAME | OS.RDW_INVALIDATE); ", "+\t\t\t}", "+\t\t}", "+\t\tOS.SendMessage (handle, OS.EM_SCROLLCARET, 0, 0);", "+\t}", "+\treturn code;"]}], "num": 24915}