{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ec287d231f0c65248e9c7f912e47558b", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "81c9eeb083b048562beade709d9a536b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "9deefd18be8de01a672cfca15620a560b1ae5f22", "commitAfterChange": "d67b8caceb3f10df6a8e238427498db262144133", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 17, "signatureBeforeChange": "  void init(Device display, int width, int height)", "signatureAfterChange": "  void init(Device device, int width, int height)", "diff": ["+", "+void init(Device device, int width, int height) {", "+\tif (width <= 0 || height <= 0) {", "+\t\tSWT.error (SWT.ERROR_INVALID_ARGUMENT);", "+\t}", "+\tthis.device = device;", "+\tthis.type = SWT.BITMAP;", "+", "+\t/* Create the pixmap */", "+\tthis.pixmap = OS.gdk_pixmap_new(OS.GDK_ROOT_PARENT(), width, height, -1);", "+\tif (pixmap == 0) SWT.error(SWT.ERROR_NO_HANDLES);", "+\t/* Fill the bitmap with white */", "+\tGdkColor white = new GdkColor();", "+\twhite.red = (short)0xFFFF;", "+\twhite.green = (short)0xFFFF;", "+\twhite.blue = (short)0xFFFF;", "+\tint colormap = OS.gdk_colormap_get_system();", "+\tOS.gdk_colormap_alloc_color(colormap, white, true, true);", "+\tint gdkGC = OS.gdk_gc_new(pixmap);", "+\tOS.gdk_gc_set_foreground(gdkGC, white);", "+\tOS.gdk_draw_rectangle(pixmap, gdkGC, 1, 0, 0, width, height);", "+\tOS.g_object_unref(gdkGC);", "+\tOS.gdk_colormap_free_colors(colormap, white, 1);", "+}", "-", "-void init(Device display, int width, int height) {", "-\tdevice = display;", "-\tGdkVisual visual = new GdkVisual (OS.gdk_visual_get_system());", "-\tthis.pixmap = OS.gdk_pixmap_new(0, width, height, visual.depth);", "-\tif (pixmap == 0) SWT.error(SWT.ERROR_NO_HANDLES);", "-\t/* Fill the bitmap with white */", "-\tGdkColor white = new GdkColor();", "-\tint colormap = OS.gdk_colormap_get_system();", "-\tOS.gdk_color_white(colormap, white);", "-\tint gc = OS.gdk_gc_new(pixmap);", "-\tOS.gdk_gc_set_foreground(gc, white);", "-\tOS.gdk_draw_rectangle(pixmap, gc, 1, 0, 0, width, height);", "-\tOS.gdk_gc_destroy(gc);", "-\tOS.gdk_colors_free(colormap, new int[] { white.pixel }, 1, 0);", "-\tthis.type = SWT.BITMAP;", "-}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "877db66bb86d443ac397a552666152f2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "1c0f99ac4ab3a3d5dd8f55df0f983104a42785cf", "commitAfterChange": "b22c0307923b3a1da6067a73136ac6ae32b7c55b", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "  \t\tvoid createStyle(Device device, Font defaultFont)", "signatureAfterChange": "  \t\tvoid createStyle(Device device, Font defaultFont)", "diff": ["-\t\t\tColor foreground = null;", "+\t\t\tRGBColor foreground = null;", "-\t\t\t\tforeground = style.foreground;", "+\t\t\t\tif (style.foreground != null) {", "+\t\t\t\t\tfloat[] color = style.foreground.handle;", "+\t\t\t\t\tforeground = new RGBColor ();", "+\t\t\t\t\tforeground.red = (short) (color [0] * 0xffff);", "+\t\t\t\t\tforeground.green = (short) (color [1] * 0xffff);", "+\t\t\t\t\tforeground.blue = (short) (color [2] * 0xffff);", "+\t\t\t\t} else {", "+\t\t\t\t\tif (style.underline && style.underlineStyle == SWT.UNDERLINE_LINK) {", "+\t\t\t\t\t\tforeground = new RGBColor ();", "+\t\t\t\t\t\tforeground.red = (short) 0;", "+\t\t\t\t\t\tforeground.green = (short) 0x3333;", "+\t\t\t\t\t\tforeground.blue = (short) 0x9999;", "+\t\t\t\t\t}", "+\t\t\t\t}", "-\t\t\t\tif (style.underline && (style.underlineStyle == SWT.UNDERLINE_SINGLE || style.underlineStyle == SWT.UNDERLINE_DOUBLE)) {", "+\t\t\t\tif (isUnderlineSupported(style)) {", "-\t\t\tif (style != null && style.underline && (style.underlineStyle == SWT.UNDERLINE_SINGLE || style.underlineStyle == SWT.UNDERLINE_DOUBLE)) {\t\t\t\t", "+\t\t\tif (isUnderlineSupported(style)) {", "-\t\t\t\tRGBColor rgb = new RGBColor ();", "-\t\t\t\tfloat[] color = foreground.handle;", "-\t\t\t\trgb.red = (short) (color [0] * 0xffff);", "-\t\t\t\trgb.green = (short) (color [1] * 0xffff);", "-\t\t\t\trgb.blue = (short) (color [2] * 0xffff);\t\t", "-\t\t\t\tOS.memmove(values[index], rgb, sizes[index]);", "+\t\t\t\tOS.memmove(values[index], foreground, sizes[index]);"]}], "num": 35569}