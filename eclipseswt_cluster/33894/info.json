{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "eafdcf380e7cb3529924974e72cdbc4d", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "da152daadbee4d56ba3a82de51438601", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "264f8a8e662a8a77e2ad003ff8a3e5a9627fa71c", "commitAfterChange": "26ce37bc8e07696b6fe1ba5ea3dfc2a5775f93fe", "methodNumberBeforeChange": 79, "methodNumberAfterChange": 79, "signatureBeforeChange": "  void initCairo()", "signatureAfterChange": "  void initCairo()", "diff": ["-\tint /*long*/ xDisplay = OS.GDK_DISPLAY();", "-\tint /*long*/ xVisual = OS.gdk_x11_visual_get_xvisual(OS.gdk_visual_get_system());", "-\tint /*long*/ xDrawable = 0;", "-\tint translateX = 0, translateY = 0;", "-\tint /*long*/ drawable = data.drawable;", "-\tif (data.image != null) {", "-\t\txDrawable = OS.GDK_PIXMAP_XID(drawable);", "-\t} else {", "-\t\tif (!data.realDrawable) {", "-\t\t\tint[] x = new int[1], y = new int[1];", "-\t\t\tint /*long*/ [] real_drawable = new int /*long*/ [1];", "-\t\t\tOS.gdk_window_get_internal_paint_info(drawable, real_drawable, x, y);", "-\t\t\txDrawable = OS.gdk_x11_drawable_get_xid(real_drawable[0]);", "-\t\t\ttranslateX = -x[0];", "-\t\t\ttranslateY = -y[0];", "+\tif (OS.GTK_VERSION < OS.VERSION(2, 17, 0)) {", "+\t\tint /*long*/ xDisplay = OS.GDK_DISPLAY();", "+\t\tint /*long*/ xVisual = OS.gdk_x11_visual_get_xvisual(OS.gdk_visual_get_system());", "+\t\tint /*long*/ xDrawable = 0;", "+\t\tint translateX = 0, translateY = 0;", "+\t\tint /*long*/ drawable = data.drawable;", "+\t\tif (data.image != null) {", "+\t\t\txDrawable = OS.GDK_PIXMAP_XID(drawable);", "+\t\t} else {", "+\t\t\tif (!data.realDrawable) {", "+\t\t\t\tint[] x = new int[1], y = new int[1];", "+\t\t\t\tint /*long*/ [] real_drawable = new int /*long*/ [1];", "+\t\t\t\tOS.gdk_window_get_internal_paint_info(drawable, real_drawable, x, y);", "+\t\t\t\txDrawable = OS.gdk_x11_drawable_get_xid(real_drawable[0]);", "+\t\t\t\ttranslateX = -x[0];", "+\t\t\t\ttranslateY = -y[0];", "+\t\t\t}", "+\t\tint[] w = new int[1], h = new int[1];", "+\t\tOS.gdk_drawable_get_size(drawable, w, h);", "+\t\tint width = w[0], height = h[0];", "+\t\tint /*long*/ surface = Cairo.cairo_xlib_surface_create(xDisplay, xDrawable, xVisual, width, height);", "+\t\tif (surface == 0) SWT.error(SWT.ERROR_NO_HANDLES);", "+\t\tCairo.cairo_surface_set_device_offset(surface, translateX, translateY);", "+\t\tdata.cairo = cairo = Cairo.cairo_create(surface);", "+\t\tCairo.cairo_surface_destroy(surface);", "+\t} else {", "+\t\tdata.cairo = cairo = OS.gdk_cairo_create(data.drawable);", "-\tint[] w = new int[1], h = new int[1];", "-\tOS.gdk_drawable_get_size(drawable, w, h);", "-\tint width = w[0], height = h[0];", "-\tint /*long*/ surface = Cairo.cairo_xlib_surface_create(xDisplay, xDrawable, xVisual, width, height);", "-\tif (surface == 0) SWT.error(SWT.ERROR_NO_HANDLES);", "-\tCairo.cairo_surface_set_device_offset(surface, translateX, translateY);", "-\tdata.cairo = cairo = Cairo.cairo_create(surface);", "-\tCairo.cairo_surface_destroy(surface);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e52c28a3a0f8faaa0cd3e417be6d5cab", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "c903253271c1cee79998b8482d477bab6399a627", "commitAfterChange": "2666a72decba4f694d1ccebe2f8b920f7e88f95b", "methodNumberBeforeChange": 105, "methodNumberAfterChange": 105, "signatureBeforeChange": " public void setTextAntialias(int antialias)", "signatureAfterChange": " public void setTextAntialias(int antialias)", "diff": ["-    Cairo.cairo_set_font_options(data.cairo, options);", "+    if (OS.GTK_VERSION < OS.VERSION(2, 8, 0)) {", "+    \tCairo.cairo_set_font_options(data.cairo, options);", "+    } else {", "+    \tif (data.context == 0) createLayout();", "+    \tOS.pango_cairo_context_set_font_options(data.context, options);", "+    }"]}], "num": 33894}