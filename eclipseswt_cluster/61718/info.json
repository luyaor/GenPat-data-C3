{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2c5856c12f5f4fd33a52a5e78fec4b03", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c5565b9fcbecfd6bbc4449699c6ee808", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "c0f7cd5a3331b06c07beb8b47174d17ca6239ec9", "commitAfterChange": "84155e3f41254bf1c5b250af7265d83e6bbb286f", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "  int calculateWidth (int column, int iter)", "signatureAfterChange": "  int calculateWidth (int column, int iter)", "diff": ["-\tint [] width = new int [1];", "-\tOS.gtk_tree_view_column_cell_get_size (column, null, null, null, width, null);", "-\treturn width [0];", "+\t/*", "+\t * Bug in GTK.  The width calculated by gtk_tree_view_column_cell_get_size ", "+\t * always grows in size regardless of the text or images in the table.", "+\t * The fix is to determine the column width from the cell renderers.", "+\t */", "+\t// Code intentionally commented", "+\t//int [] width = new int [1];", "+\t//OS.gtk_tree_view_column_cell_get_size (column, null, null, null, width, null);", "+\t//return width [0];", "+\t", "+\tint width = 0;", "+\tint [] w = new int [1];", "+\tif (OS.gtk_tree_view_get_expander_column (handle) == column) {\t\t", "+\t\t\tOS.gtk_widget_style_get (handle, OS.expander_size, w, 0);", "+\t\t\twidth += w [0] + TreeItem.EXPANDER_EXTRA_PADDING;", "+\t}", "+\tOS.gtk_widget_style_get(handle, OS.focus_line_width, w, 0);", "+\twidth += 2 * w [0];", "+\tint /*long*/ list = OS.gtk_tree_view_column_get_cell_renderers (column);", "+\tif (list == 0) return 0;", "+\tint /*long*/ temp = list;", "+\twhile (temp != 0) {", "+\t\tint /*long*/ renderer = OS.g_list_data (temp);", "+\t\tif (renderer != 0) {", "+\t\t\tOS.gtk_cell_renderer_get_size (renderer, handle, null, null, null, w, null);", "+\t\t\twidth += w [0];", "+\t\t}", "+\t\ttemp = OS.g_list_next (temp);", "+\t}", "+\tOS.g_list_free (list);", "+\treturn width;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "edd363b4a39f49d405e6b7184a07b510", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "c0f7cd5a3331b06c07beb8b47174d17ca6239ec9", "commitAfterChange": "84155e3f41254bf1c5b250af7265d83e6bbb286f", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "  int calculateWidth (int column, int iter)", "signatureAfterChange": "  int calculateWidth (int column, int iter)", "diff": ["-\tint [] width = new int [1];", "-\tOS.gtk_tree_view_column_cell_get_size (column, null, null, null, width, null);", "-\treturn width [0];", "+\t/*", "+\t * Bug in GTK.  The width calculated by gtk_tree_view_column_cell_get_size()", "+\t * always grows in size regardless of the text or images in the table.", "+\t * The fix is to determine the column width from the cell renderers.", "+\t */", "+\t// Code intentionally commented", "+\t//int [] width = new int [1];", "+\t//OS.gtk_tree_view_column_cell_get_size (column, null, null, null, width, null);", "+\t//return width [0];", "+\t", "+\tint width = 0;", "+\tint [] w = new int [1];", "+\tOS.gtk_widget_style_get(handle, OS.focus_line_width, w, 0);", "+\twidth += 2 * w [0];", "+\tint /*long*/ list = OS.gtk_tree_view_column_get_cell_renderers (column);", "+\tif (list == 0) return 0;", "+\tint /*long*/ temp = list;", "+\twhile (temp != 0) {", "+\t\tint /*long*/ renderer = OS.g_list_data (temp);", "+\t\tif (renderer != 0) {", "+\t\t\tOS.gtk_cell_renderer_get_size (renderer, handle, null, null, null, w, null);", "+\t\t\twidth += w [0];", "+\t\t}", "+\t\ttemp = OS.g_list_next (temp);", "+\t}", "+\tOS.g_list_free (list);", "+\treturn width;"]}], "num": 61718}