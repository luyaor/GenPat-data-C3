{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "84e11cfdf833ff784ddea1cdbe400f0d", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3292e9c8bc251bf06816ca626d346226", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "aa903ad0abe7ac2343ec135719d929ff23dede0d", "commitAfterChange": "9db59a080b088ba69bf84dec74537f5f0bce5b03", "methodNumberBeforeChange": 102, "methodNumberAfterChange": 102, "signatureBeforeChange": " public boolean post (Event event)", "signatureAfterChange": " public boolean post (Event event)", "diff": ["-\tsynchronized (Device.class) {", "-\t\tif (isDisposed ()) error (SWT.ERROR_DEVICE_DISPOSED);", "-\t\tif (event == null) error (SWT.ERROR_NULL_ARGUMENT);", "-\t\tif (!OS.GDK_WINDOWING_X11()) return false;", "-\t\tint /*long*/ xDisplay = OS.GDK_DISPLAY ();", "-\t\tint type = event.type;", "-\t\tswitch (type) {", "-\t\t\tcase SWT.KeyDown:", "-\t\t\tcase SWT.KeyUp: {", "-\t\t\t\tint keyCode = 0;", "-\t\t\t\tint /*long*/ keysym = untranslateKey (event.keyCode);", "-\t\t\t\tif (keysym != 0) keyCode = OS.XKeysymToKeycode (xDisplay, keysym);", "-\t\t\t\tif (keyCode == 0) {", "-\t\t\t\t\tchar key = event.character;", "-\t\t\t\t\tswitch (key) {", "-\t\t\t\t\t\tcase SWT.BS: keysym = OS.GDK_BackSpace; break;", "-\t\t\t\t\t\tcase SWT.CR: keysym = OS.GDK_Return; break;", "-\t\t\t\t\t\tcase SWT.DEL: keysym = OS.GDK_Delete; break;", "-\t\t\t\t\t\tcase SWT.ESC: keysym = OS.GDK_Escape; break;", "-\t\t\t\t\t\tcase SWT.TAB: keysym = OS.GDK_Tab; break;", "-\t\t\t\t\t\tcase SWT.LF: keysym = OS.GDK_Linefeed; break;", "-\t\t\t\t\t\tdefault:", "-\t\t\t\t\t\t\tkeysym = key;", "+\t/*", "+\t* Get the operating system lock before synchronizing on the device", "+\t* lock so that the device lock will not be held should another", "+\t* thread already be in the operating system.  This avoids deadlock", "+\t* should the other thread need the device lock.", "+\t*/", "+\tLock lock = OS.lock;", "+\tlock.lock();", "+\ttry {", "+\t\tsynchronized (Device.class) {", "+\t\t\tif (isDisposed ()) error (SWT.ERROR_DEVICE_DISPOSED);", "+\t\t\tif (event == null) error (SWT.ERROR_NULL_ARGUMENT);", "+\t\t\tif (!OS.GDK_WINDOWING_X11()) return false;", "+\t\t\tint /*long*/ xDisplay = OS.GDK_DISPLAY ();", "+\t\t\tint type = event.type;", "+\t\t\tswitch (type) {", "+\t\t\t\tcase SWT.KeyDown:", "+\t\t\t\tcase SWT.KeyUp: {", "+\t\t\t\t\tint keyCode = 0;", "+\t\t\t\t\tint /*long*/ keysym = untranslateKey (event.keyCode);", "+\t\t\t\t\tif (keysym != 0) keyCode = OS.XKeysymToKeycode (xDisplay, keysym);", "+\t\t\t\t\tif (keyCode == 0) {", "+\t\t\t\t\t\tchar key = event.character;", "+\t\t\t\t\t\tswitch (key) {", "+\t\t\t\t\t\t\tcase SWT.BS: keysym = OS.GDK_BackSpace; break;", "+\t\t\t\t\t\t\tcase SWT.CR: keysym = OS.GDK_Return; break;", "+\t\t\t\t\t\t\tcase SWT.DEL: keysym = OS.GDK_Delete; break;", "+\t\t\t\t\t\t\tcase SWT.ESC: keysym = OS.GDK_Escape; break;", "+\t\t\t\t\t\t\tcase SWT.TAB: keysym = OS.GDK_Tab; break;", "+\t\t\t\t\t\t\tcase SWT.LF: keysym = OS.GDK_Linefeed; break;", "+\t\t\t\t\t\t\tdefault:", "+\t\t\t\t\t\t\t\tkeysym = key;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t\tkeyCode = OS.XKeysymToKeycode (xDisplay, keysym);", "+\t\t\t\t\t\tif (keyCode == 0) return false;", "-\t\t\t\t\tkeyCode = OS.XKeysymToKeycode (xDisplay, keysym);", "-\t\t\t\t\tif (keyCode == 0) return false;", "+\t\t\t\t\tOS.XTestFakeKeyEvent (xDisplay, keyCode, type == SWT.KeyDown, 0);", "+\t\t\t\t\treturn true;", "-\t\t\t\tOS.XTestFakeKeyEvent (xDisplay, keyCode, type == SWT.KeyDown, 0);", "-\t\t\t\treturn true;", "-\t\t\t}", "-\t\t\tcase SWT.MouseDown:", "-\t\t\tcase SWT.MouseMove: ", "-\t\t\tcase SWT.MouseUp: {", "-\t\t\t\tif (type == SWT.MouseMove) {", "-\t\t\t\t\tOS.XTestFakeMotionEvent (xDisplay, -1, event.x, event.y, 0);", "-\t\t\t\t} else {", "-\t\t\t\t\tint button = event.button;", "-\t\t\t\t\tswitch (button) {", "-\t\t\t\t\t\tcase 1:", "-\t\t\t\t\t\tcase 2:", "-\t\t\t\t\t\tcase 3:\tbreak;", "-\t\t\t\t\t\tcase 4: button = 6;\tbreak;", "-\t\t\t\t\t\tcase 5: button = 7;\tbreak;", "-\t\t\t\t\t\tdefault: return false;", "+\t\t\t\tcase SWT.MouseDown:", "+\t\t\t\tcase SWT.MouseMove: ", "+\t\t\t\tcase SWT.MouseUp: {", "+\t\t\t\t\tif (type == SWT.MouseMove) {", "+\t\t\t\t\t\tOS.XTestFakeMotionEvent (xDisplay, -1, event.x, event.y, 0);", "+\t\t\t\t\t} else {", "+\t\t\t\t\t\tint button = event.button;", "+\t\t\t\t\t\tswitch (button) {", "+\t\t\t\t\t\t\tcase 1:", "+\t\t\t\t\t\t\tcase 2:", "+\t\t\t\t\t\t\tcase 3:\tbreak;", "+\t\t\t\t\t\t\tcase 4: button = 6;\tbreak;", "+\t\t\t\t\t\t\tcase 5: button = 7;\tbreak;", "+\t\t\t\t\t\t\tdefault: return false;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t\tOS.XTestFakeButtonEvent (xDisplay, button, type == SWT.MouseDown, 0);", "-\t\t\t\t\tOS.XTestFakeButtonEvent (xDisplay, button, type == SWT.MouseDown, 0);", "+\t\t\t\t\treturn true;", "-\t\t\t\treturn true;", "+\t\t\t\t/*", "+\t\t\t\t* This code is intentionally commented. After posting a", "+\t\t\t\t* mouse wheel event the system may respond unpredictably", "+\t\t\t\t* to subsequent mouse actions.", "+\t\t\t\t*/", "+//\t\t\t\tcase SWT.MouseWheel: {", "+//\t\t\t\t\tif (event.count == 0) return false;", "+//\t\t\t\t\tint button = event.count < 0 ? 5 : 4;", "+//\t\t\t\t\tOS.XTestFakeButtonEvent (xDisplay, button, type == SWT.MouseWheel, 0);\t\t\t", "+//\t\t\t\t}", "-\t\t\t/*", "-\t\t\t* This code is intentionally commented. After posting a", "-\t\t\t* mouse wheel event the system may respond unpredictably", "-\t\t\t* to subsequent mouse actions.", "-\t\t\t*/", "-//\t\t\tcase SWT.MouseWheel: {", "-//\t\t\t\tif (event.count == 0) return false;", "-//\t\t\t\tint button = event.count < 0 ? 5 : 4;", "-//\t\t\t\tOS.XTestFakeButtonEvent (xDisplay, button, type == SWT.MouseWheel, 0);\t\t\t", "-//\t\t\t}", "+\t\t\treturn false;", "-\t\treturn false;", "+\t} finally {", "+\t\tlock.unlock();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "539d8fac025de40ce06390d3fec805e5", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "aa903ad0abe7ac2343ec135719d929ff23dede0d", "commitAfterChange": "9db59a080b088ba69bf84dec74537f5f0bce5b03", "methodNumberBeforeChange": 92, "methodNumberAfterChange": 92, "signatureBeforeChange": " public boolean post (Event event)", "signatureAfterChange": " public boolean post (Event event)", "diff": ["-\tsynchronized (Device.class) {", "-\t\tif (isDisposed ()) error (SWT.ERROR_DEVICE_DISPOSED);", "-\t\tif (event == null) error (SWT.ERROR_NULL_ARGUMENT);", "-\t\tint type = event.type;", "-\t\tswitch (type) {", "-\t\t\tcase SWT.KeyDown :", "-\t\t\tcase SWT.KeyUp : {", "-\t\t\t\tint keyCode = 0;", "-\t\t\t\tint keysym = untranslateKey (event.keyCode);", "-\t\t\t\tif (keysym != 0) keyCode = OS.XKeysymToKeycode (xDisplay, keysym);", "-\t\t\t\tif (keyCode == 0) {", "-\t\t\t\t\tchar key = event.character;", "-\t\t\t\t\tswitch (key) {", "-\t\t\t\t\t\tcase SWT.BS: keysym = OS.XK_BackSpace; break;", "-\t\t\t\t\t\tcase SWT.CR: keysym = OS.XK_Return; break;", "-\t\t\t\t\t\tcase SWT.DEL: keysym = OS.XK_Delete; break;", "-\t\t\t\t\t\tcase SWT.ESC: keysym = OS.XK_Escape; break;", "-\t\t\t\t\t\tcase SWT.TAB: keysym = OS.XK_Tab; break;", "-\t\t\t\t\t\tcase SWT.LF: keysym = OS.XK_Linefeed; break;", "-\t\t\t\t\t\tdefault:", "-\t\t\t\t\t\t\tkeysym = key;", "+\t/*", "+\t* Get the operating system lock before synchronizing on the device", "+\t* lock so that the device lock will not be held should another", "+\t* thread already be in the operating system.  This avoids deadlock", "+\t* should the other thread need the device lock.", "+\t*/", "+\tLock lock = OS.lock;", "+\tlock.lock();", "+\ttry {", "+\t\tsynchronized (Device.class) {", "+\t\t\tif (isDisposed ()) error (SWT.ERROR_DEVICE_DISPOSED);", "+\t\t\tif (event == null) error (SWT.ERROR_NULL_ARGUMENT);", "+\t\t\tint type = event.type;", "+\t\t\tswitch (type) {", "+\t\t\t\tcase SWT.KeyDown :", "+\t\t\t\tcase SWT.KeyUp : {", "+\t\t\t\t\tint keyCode = 0;", "+\t\t\t\t\tint keysym = untranslateKey (event.keyCode);", "+\t\t\t\t\tif (keysym != 0) keyCode = OS.XKeysymToKeycode (xDisplay, keysym);", "+\t\t\t\t\tif (keyCode == 0) {", "+\t\t\t\t\t\tchar key = event.character;", "+\t\t\t\t\t\tswitch (key) {", "+\t\t\t\t\t\t\tcase SWT.BS: keysym = OS.XK_BackSpace; break;", "+\t\t\t\t\t\t\tcase SWT.CR: keysym = OS.XK_Return; break;", "+\t\t\t\t\t\t\tcase SWT.DEL: keysym = OS.XK_Delete; break;", "+\t\t\t\t\t\t\tcase SWT.ESC: keysym = OS.XK_Escape; break;", "+\t\t\t\t\t\t\tcase SWT.TAB: keysym = OS.XK_Tab; break;", "+\t\t\t\t\t\t\tcase SWT.LF: keysym = OS.XK_Linefeed; break;", "+\t\t\t\t\t\t\tdefault:", "+\t\t\t\t\t\t\t\tkeysym = key;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t\tkeyCode = OS.XKeysymToKeycode (xDisplay, keysym);", "+\t\t\t\t\t\tif (keyCode == 0) return false;", "-\t\t\t\t\tkeyCode = OS.XKeysymToKeycode (xDisplay, keysym);", "-\t\t\t\t\tif (keyCode == 0) return false;", "-\t\t\t\t}", "-\t\t\t\tOS.XTestFakeKeyEvent (xDisplay, keyCode, type == SWT.KeyDown, 0);", "-\t\t\t\treturn true;", "-\t\t\t}", "-\t\t\tcase SWT.MouseDown :", "-\t\t\tcase SWT.MouseMove : ", "-\t\t\tcase SWT.MouseUp : {", "-\t\t\t\tif (type == SWT.MouseMove) {", "-\t\t\t\t\tOS.XTestFakeMotionEvent (xDisplay, -1, event.x, event.y, 0);", "+\t\t\t\t\tOS.XTestFakeKeyEvent (xDisplay, keyCode, type == SWT.KeyDown, 0);", "-\t\t\t\t} else {", "-\t\t\t\t\tint button = event.button;", "-\t\t\t\t\tif (button < 1 || button > 3) return false;", "-\t\t\t\t\tOS.XTestFakeButtonEvent (xDisplay, button, type == SWT.MouseDown, 0);", "-\t\t\t\t    return true;", "+\t\t\t\t}", "+\t\t\t\tcase SWT.MouseDown :", "+\t\t\t\tcase SWT.MouseMove : ", "+\t\t\t\tcase SWT.MouseUp : {", "+\t\t\t\t\tif (type == SWT.MouseMove) {", "+\t\t\t\t\t\tOS.XTestFakeMotionEvent (xDisplay, -1, event.x, event.y, 0);", "+\t\t\t\t\t\treturn true;", "+\t\t\t\t\t} else {", "+\t\t\t\t\t\tint button = event.button;", "+\t\t\t\t\t\tif (button < 1 || button > 3) return false;", "+\t\t\t\t\t\tOS.XTestFakeButtonEvent (xDisplay, button, type == SWT.MouseDown, 0);", "+\t\t\t\t\t    return true;", "+\t\t\t\t\t}", "+\t\t\treturn false;", "-\t\treturn false;", "+\t} finally {", "+\t\tlock.unlock();"]}], "num": 29466}