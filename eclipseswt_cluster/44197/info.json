{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4c7b824a8936085cb5cf08c435677a5e", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f9c153723aa1e50493be9004cff530e3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "f0e42825523d2b1027f60ed8177aefac28317a8c", "commitAfterChange": "a7d5fd3d9c6e5068ddcdfcd54f78631d29228ff7", "methodNumberBeforeChange": 195, "methodNumberAfterChange": 195, "signatureBeforeChange": " void handleCompositionHittest (Event event)", "signatureAfterChange": " void handleCompositionHittest (Event event)", "diff": ["-\tif (event.y < topMargin || event.x < leftMargin || event.y > clientAreaHeight  - bottomMargin || event.x > clientAreaWidth - rightMargin) {", "-\t\tevent.hitTest = SWT.HITTEST_OUTSIDE_TEXT;", "-\t\treturn;", "-\t}", "-\tint bottomIndex = getPartialBottomIndex();", "-\tint height = getLinePixel(bottomIndex + 1);", "-\tif (event.y > height) {", "-\t\tevent.hitTest = SWT.HITTEST_OUTSIDE_TEXT;", "-\t\treturn;", "-\t}", "-\tint lineIndex = getLineIndex(event.y);", "-\tint lineOffset = content.getOffsetAtLine(lineIndex);", "-\tTextLayout layout = renderer.getTextLayout(lineIndex);\t", "-\tint[] trailing = new int[1];", "-\tint x = event.x + horizontalScrollOffset - leftMargin ;", "-\tint y = event.y - getLinePixel(lineIndex);", "-\tint offset = layout.getOffset(x, y, trailing);", "-\tRectangle rect = layout.getLineBounds(layout.getLineIndex(offset));", "-\toffset += lineOffset;", "-\trenderer.disposeTextLayout(layout);", "-\tif (x > rect.x + rect.width || x < rect.x) {", "-\t\tevent.hitTest = SWT.HITTEST_OUTSIDE_TEXT;", "-\t} else {", "+\tint[] trailing = new int [1];", "+\tint offset = getOffsetAtPoint(event.x, event.y, trailing);", "+\tif (offset != -1) {", "+\t} else {", "+\t\tevent.hitTest = SWT.HITTEST_OUTSIDE_TEXT;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "597660f4e34fc82a6b82694c5cd5001f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "f0e42825523d2b1027f60ed8177aefac28317a8c", "commitAfterChange": "a7d5fd3d9c6e5068ddcdfcd54f78631d29228ff7", "methodNumberBeforeChange": 143, "methodNumberAfterChange": 143, "signatureBeforeChange": " public int getOffsetAtLocation(Point point)", "signatureAfterChange": " public int getOffsetAtLocation(Point point)", "diff": ["-\t// is y above first line or is x before first column?", "-\tif (point.y + getVerticalScrollOffset() < 0 || point.x + horizontalScrollOffset < 0) {", "+\tint[] trailing = new int[1];", "+\tint offset = getOffsetAtPoint(point.x, point.y, trailing);", "+\tif (offset == -1) {", "-\tint bottomIndex = getLineIndex(clientAreaHeight);", "-\tint height = getLinePixel(bottomIndex) + renderer.getLineHeight(bottomIndex);", "-\tif (point.y > height) {", "-\t\tSWT.error(SWT.ERROR_INVALID_ARGUMENT);\t\t", "-\t}", "-\tint lineIndex = getLineIndex(point.y);", "+\tint lineIndex = content.getLineAtOffset(offset);", "-\tTextLayout layout = renderer.getTextLayout(lineIndex);\t", "-\tint[] trailing = new int[1];", "-\tint x = point.x + horizontalScrollOffset - leftMargin ;", "-\tint y = point.y - getLinePixel(lineIndex);", "-\tint offsetInLine = layout.getOffset(x, y, trailing);", "+\tint offsetInLine = offset - lineOffset;", "-\t}", "-\tRectangle rect = layout.getLineBounds(layout.getLineIndex(offsetInLine));", "-\trenderer.disposeTextLayout(layout);", "-\tif (x > rect.x + rect.width) {", "-\t\tSWT.error(SWT.ERROR_INVALID_ARGUMENT);"]}], "num": 44197}