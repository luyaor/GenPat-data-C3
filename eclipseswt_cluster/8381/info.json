{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3774d4b525454ac51625597a1ee714c0", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4fbe1f95c1e8411b59aaff40895096bd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "e2c2a7a74542ff409e980bc4b2fbaa161b141be9", "commitAfterChange": "06b0b6bb52d1fd2fb63bfd651ac4ecf3e0f11d0d", "methodNumberBeforeChange": 38, "methodNumberAfterChange": 38, "signatureBeforeChange": " public void remove (int start, int end)", "signatureAfterChange": " public void remove (int start, int end)", "diff": ["-\tint length = OS.GetWindowTextLength (handle);", "+\tint textLength = OS.GetWindowTextLength (handle);", "+\tRECT rect = null;", "+\tint hDC = 0, oldFont = 0, newFont = 0, newWidth = 0;", "+\tif ((style & SWT.H_SCROLL) != 0) {", "+\t\trect = new RECT ();", "+\t\thDC = OS.GetDC (handle);", "+\t\tnewFont = OS.SendMessage (handle, OS.WM_GETFONT, 0, 0);", "+\t\tif (newFont != 0) oldFont = OS.SelectObject (hDC, newFont);", "+\t}", "+\tint cp = getCodePage ();", "+\tint flags = OS.DT_CALCRECT | OS.DT_SINGLELINE | OS.DT_NOPREFIX;", "+\t\tTCHAR buffer = null;", "+\t\tif ((style & SWT.H_SCROLL) != 0) {", "+\t\t\tint length = OS.SendMessage (handle, OS.CB_GETLBTEXTLEN, start, 0);", "+\t\t\tif (length == OS.CB_ERR) break;", "+\t\t\tbuffer = new TCHAR (cp, length + 1);", "+\t\t\tint result = OS.SendMessage (handle, OS.CB_GETLBTEXT, start, buffer);", "+\t\t\tif (result == OS.CB_ERR) break;", "+\t\t}", "+\t\tif ((style & SWT.H_SCROLL) != 0) {", "+\t\t\tOS.DrawText (hDC, buffer, -1, rect, flags);", "+\t\t\tnewWidth = Math.max (newWidth, rect.right - rect.left);", "+\t\t}", "-\tif (length != OS.GetWindowTextLength (handle)) {", "-\t\t/*", "-\t\t* It is possible (but unlikely), that application", "-\t\t* code could have disposed the widget in the modify", "-\t\t* event.  If this happens, just return.", "-\t\t*/", "+\tif ((style & SWT.H_SCROLL) != 0) {", "+\t\tif (newFont != 0) OS.SelectObject (hDC, oldFont);", "+\t\tOS.ReleaseDC (handle, hDC);", "+\t\tsetScrollWidth (newWidth, false);", "+\t}", "+\tif (textLength != OS.GetWindowTextLength (handle)) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "41a67eedb11f53b6f653f98e34a5b414", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/List.java", "commitBeforeChange": "1dbced596fa99e8438e287af8d6415e01019d350", "commitAfterChange": "7e7c23207b059dd8f2f569032a4266c17d005c2c", "methodNumberBeforeChange": 51, "methodNumberAfterChange": 51, "signatureBeforeChange": "  void updateMenuLocation (Event event)", "signatureAfterChange": "  void updateMenuLocation (Event event)", "diff": ["-\t\tOS.SendMessage (handle, OS.LB_GETITEMRECT, focusIndex, rect);", "+\t\tint /*long*/ newFont, oldFont = 0;", "+\t\tint /*long*/ hDC = OS.GetDC (handle);", "+\t\tnewFont = OS.SendMessage (handle, OS.WM_GETFONT, 0, 0);", "+\t\tif (newFont != 0) oldFont = OS.SelectObject (hDC, newFont);", "+\t\tint flags = OS.DT_CALCRECT | OS.DT_SINGLELINE | OS.DT_NOPREFIX;", "+\t\tint cp = getCodePage ();", "+\t\tTCHAR buffer = new TCHAR (cp, 64 + 1);", "+\t\tint length = (int)/*64*/OS.SendMessage (handle, OS.LB_GETTEXTLEN, focusIndex, 0);", "+\t\tif (length != OS.LB_ERR) {", "+\t\t\tif (length + 1 > buffer.length ()) {", "+\t\t\t\tbuffer = new TCHAR (cp, length + 1);", "+\t\t\t}", "+\t\t\tint result = (int)/*64*/OS.SendMessage (handle, OS.LB_GETTEXT, focusIndex, buffer);", "+\t\t\tif (result != OS.LB_ERR) {", "+\t\t\t\tOS.DrawText (hDC, buffer, length, rect, flags);", "+\t\t\t}", "+\t\t}", "+\t\tif (newFont != 0) OS.SelectObject (hDC, oldFont);", "+\t\tOS.ReleaseDC (handle, hDC);", "+\t\t", "+\t\tOS.SendMessage (handle, OS.LB_GETITEMRECT, focusIndex, rect);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "32d666d1d42c1234f74028042a431018", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/List.java", "commitBeforeChange": "ef390566d4164ae7a1f970e53f45de12a5265cf6", "commitAfterChange": "ee543bcb83fee603dbf808a397bfdb1dd9d1075a", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "diff": ["-\t\t\twidth = OS.SendMessage (handle, OS.LB_GETHORIZONTALEXTENT, 0, 0);", "+\t\t\twidth = (int)/*64*/OS.SendMessage (handle, OS.LB_GETHORIZONTALEXTENT, 0, 0);", "-\t\t\tint count = OS.SendMessage (handle, OS.LB_GETCOUNT, 0, 0);", "-\t\t\tint newFont, oldFont = 0;", "-\t\t\tint hDC = OS.GetDC (handle);", "+\t\t\tint count = (int)/*64*/OS.SendMessage (handle, OS.LB_GETCOUNT, 0, 0);", "+\t\t\tint /*long*/ newFont, oldFont = 0;", "+\t\t\tint /*long*/ hDC = OS.GetDC (handle);", "-\t\t\t\tint length = OS.SendMessage (handle, OS.LB_GETTEXTLEN, i, 0);", "+\t\t\t\tint length = (int)/*64*/OS.SendMessage (handle, OS.LB_GETTEXTLEN, i, 0);", "-\t\t\t\t\tint result = OS.SendMessage (handle, OS.LB_GETTEXT, i, buffer);", "+\t\t\t\t\tint result = (int)/*64*/OS.SendMessage (handle, OS.LB_GETTEXT, i, buffer);", "-\t\tint count = OS.SendMessage (handle, OS.LB_GETCOUNT, 0, 0);", "-\t\tint itemHeight = OS.SendMessage (handle, OS.LB_GETITEMHEIGHT, 0, 0);", "+\t\tint count = (int)/*64*/OS.SendMessage (handle, OS.LB_GETCOUNT, 0, 0);", "+\t\tint itemHeight = (int)/*64*/OS.SendMessage (handle, OS.LB_GETITEMHEIGHT, 0, 0);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "eca424691a35d856f48614be2aaa177f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "e2c2a7a74542ff409e980bc4b2fbaa161b141be9", "commitAfterChange": "06b0b6bb52d1fd2fb63bfd651ac4ecf3e0f11d0d", "methodNumberBeforeChange": 51, "methodNumberAfterChange": 52, "signatureBeforeChange": " public void setItems (String [] items)", "signatureAfterChange": " public void setItems (String [] items)", "diff": ["+\tRECT rect = null;", "+\tint hDC = 0, oldFont = 0, newFont = 0, newWidth = 0;", "+\tif ((style & SWT.H_SCROLL) != 0) {", "+\t\trect = new RECT ();", "+\t\thDC = OS.GetDC (handle);", "+\t\tnewFont = OS.SendMessage (handle, OS.WM_GETFONT, 0, 0);", "+\t\tif (newFont != 0) oldFont = OS.SelectObject (hDC, newFont);", "+\t\tOS.SendMessage (handle, OS.CB_SETHORIZONTALEXTENT, 0, 0);", "+\t}", "+\t\tif ((style & SWT.H_SCROLL) != 0) {", "+\t\t\tint flags = OS.DT_CALCRECT | OS.DT_SINGLELINE | OS.DT_NOPREFIX;", "+\t\t\tOS.DrawText (hDC, buffer, buffer.length (), rect, flags);", "+\t\t\tnewWidth = Math.max (newWidth, rect.right - rect.left);", "+\t\t}", "-\t// widget could be disposed at this point", "+\tif ((style & SWT.H_SCROLL) != 0) {", "+\t\tif (newFont != 0) OS.SelectObject (hDC, oldFont);", "+\t\tOS.ReleaseDC (handle, hDC);", "+\t\tOS.SendMessage (handle, OS.CB_SETHORIZONTALEXTENT, newWidth + 3, 0);", "+\t}", "+\t// widget could be disposed at this point"]}], "num": 8381}