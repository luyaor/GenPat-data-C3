{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d38e3d4d0b84e56dec8c31e0a84bd93b", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "acd152896ea84209d34daac61c05903b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "25e0b9cefcf6aad913e775e22fb19b1e3de2a216", "commitAfterChange": "abdb7df6c5ef7f31dd770f626e22ad0d039e1629", "methodNumberBeforeChange": 88, "methodNumberAfterChange": 88, "signatureBeforeChange": "  void setCGFont()", "signatureAfterChange": "  void setCGFont()", "diff": ["-\tFontInfo info = new FontInfo();", "-\tOS.FetchFontInfo(font.id, font.size, font.style, info);", "-\tdata.fontAscent = info.ascent;", "-\tdata.fontDescent = info.descent + info.leading;", "+\tATSFontMetrics metrics = new ATSFontMetrics();", "+\tOS.ATSFontGetVerticalMetrics(font.handle, OS.kATSOptionFlagsDefault, metrics);", "+\tOS.ATSFontGetHorizontalMetrics(font.handle, OS.kATSOptionFlagsDefault, metrics);", "+\tdata.fontAscent = (int)(0.5f + metrics.ascent * font.size);", "+\tdata.fontDescent = (int)(0.5f + (-metrics.descent + metrics.leading) * font.size);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3db79479308c35ecc87aa96405964072", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "25e0b9cefcf6aad913e775e22fb19b1e3de2a216", "commitAfterChange": "abdb7df6c5ef7f31dd770f626e22ad0d039e1629", "methodNumberBeforeChange": 57, "methodNumberAfterChange": 57, "signatureBeforeChange": " public FontMetrics getFontMetrics()", "signatureAfterChange": " public FontMetrics getFontMetrics()", "diff": ["-\tFontInfo info = new FontInfo();", "-\tOS.FetchFontInfo(font.id, font.size, font.style, info);", "-\tint ascent = info.ascent;", "-\tint descent = info.descent + info.leading;", "-\t/* This code is intentionaly comment. Not right for fixed width fonts. */", "-\t//fm.averageCharWidth = info.widMax / 3;", "+\tATSFontMetrics metrics = new ATSFontMetrics();", "+\tOS.ATSFontGetVerticalMetrics(font.handle, OS.kATSOptionFlagsDefault, metrics);", "+\tOS.ATSFontGetHorizontalMetrics(font.handle, OS.kATSOptionFlagsDefault, metrics);", "+\tint ascent = (int)(0.5f + metrics.ascent * font.size);", "+\tint descent = (int)(0.5f + (-metrics.descent + metrics.leading) * font.size);\t"]}], "num": 47135}