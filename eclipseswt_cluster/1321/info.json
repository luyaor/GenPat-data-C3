{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ddc0a215061a3f8945a2561e410d7129", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6575998f53ee68635a06584568f39d56", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/win32/org/eclipse/swt/browser/IE.java", "commitBeforeChange": "2c8a13d0df1694740c0af6220e23682b3ddd10de", "commitAfterChange": "056762a1d7c74e75bfac132d1e756819b6f3b39e", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 22, "signatureBeforeChange": "  boolean navigate(String url, boolean silent)", "signatureAfterChange": "  boolean navigate(String url, String postData, String headers[], boolean silent)", "diff": ["+", "+boolean navigate(String url, String postData, String headers[], boolean silent) {", "+\tnavigate = true;", "+\tint count = 1;", "+\tif (postData != null) count++;", "+\tif (headers != null) count++;", "+\tVariant[] rgvarg = new Variant[count];", "+\tint[] rgdispidNamedArgs = new int[count];", "+\tint[] rgdispid = auto.getIDsOfNames(new String[] { \"Navigate\", \"URL\", \"PostData\", \"Headers\" }); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$ //$NON-NLS-4$", "+\tint index = 0;", "+\trgvarg[index] = new Variant(url);", "+\trgdispidNamedArgs[index++] = rgdispid[1];", "+\tif (postData != null) {", "+\t\trgvarg[index] = createSafeArray(postData);", "+\t\trgdispidNamedArgs[index++] = rgdispid[2];", "+\t}", "+\tif (headers != null) {", "+\t\tStringBuffer buffer = new StringBuffer();", "+\t\tfor (int i = 0; i < headers.length; i++) {", "+\t\t\tString current = headers[i];", "+\t\t\tint sep = current.indexOf(':');", "+\t\t\tif (sep != -1) {", "+\t\t\t\tString key = current.substring(0, sep).trim();", "+\t\t\t\tString value = current.substring(sep + 1).trim();", "+\t\t\t\tif (key.length() > 0 && value.length() > 0) {", "+\t\t\t\t\tbuffer.append(key);", "+\t\t\t\t\tbuffer.append(':');", "+\t\t\t\t\tbuffer.append(value);", "+\t\t\t\t\tbuffer.append(\"\\r\\n\");", "+\t\t\t\t}", "+\t\t\t}", "+\t\t}", "+\t\trgvarg[index] = new Variant(buffer.toString());", "+\t\trgdispidNamedArgs[index++] = rgdispid[3];", "+\t}", "+\tboolean oldValue = false;", "+\tif (silent && !OS.IsWinCE && IsIE7) {", "+\t\tint hResult = OS.CoInternetIsFeatureEnabled(OS.FEATURE_DISABLE_NAVIGATION_SOUNDS, OS.GET_FEATURE_FROM_PROCESS);", "+\t\toldValue = hResult == COM.S_OK;", "+\t\tOS.CoInternetSetFeatureEnabled(OS.FEATURE_DISABLE_NAVIGATION_SOUNDS, OS.SET_FEATURE_ON_PROCESS, true);", "+\t}", "+\tVariant pVarResult = auto.invoke(rgdispid[0], rgvarg, rgdispidNamedArgs);", "+\tif (silent && !OS.IsWinCE && IsIE7) {", "+\t\tOS.CoInternetSetFeatureEnabled(OS.FEATURE_DISABLE_NAVIGATION_SOUNDS, OS.SET_FEATURE_ON_PROCESS, oldValue);", "+\t}", "+\tfor (int i = 0; i < count; i++) {", "+\t\trgvarg[i].dispose();", "+\t}", "+\tif (pVarResult == null) return false;", "+\tboolean result = pVarResult.getType() == OLE.VT_EMPTY;", "+\tpVarResult.dispose();", "+\treturn result;", "-boolean navigate(String url, boolean silent) {", "-\tnavigate = true;", "-\tint[] rgdispid = auto.getIDsOfNames(new String[] { \"Navigate\", \"URL\" }); //$NON-NLS-1$ //$NON-NLS-2$", "-\tVariant[] rgvarg = new Variant[1];", "-\trgvarg[0] = new Variant(url);", "-\tint[] rgdispidNamedArgs = new int[1];", "-\trgdispidNamedArgs[0] = rgdispid[1];", "-\tboolean oldValue = false;", "-\tif (silent && !OS.IsWinCE && IsIE7) {", "-\t\tint hResult = OS.CoInternetIsFeatureEnabled(OS.FEATURE_DISABLE_NAVIGATION_SOUNDS, OS.GET_FEATURE_FROM_PROCESS);", "-\t\toldValue = hResult == COM.S_OK;", "-\t\tOS.CoInternetSetFeatureEnabled(OS.FEATURE_DISABLE_NAVIGATION_SOUNDS, OS.SET_FEATURE_ON_PROCESS, true);", "-\t}", "-\tVariant pVarResult = auto.invoke(rgdispid[0], rgvarg, rgdispidNamedArgs);", "-\tif (silent && !OS.IsWinCE && IsIE7) {", "-\t\tOS.CoInternetSetFeatureEnabled(OS.FEATURE_DISABLE_NAVIGATION_SOUNDS, OS.SET_FEATURE_ON_PROCESS, oldValue);", "-\t}", "-\trgvarg[0].dispose();", "-\tif (pVarResult == null) return false;", "-\tboolean result = pVarResult.getType() == OLE.VT_EMPTY;", "-\tpVarResult.dispose();", "-\treturn result;", "-}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "72c2c93700c117961e187177b21fa916", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/win32/org/eclipse/swt/browser/Browser.java", "commitBeforeChange": "e21499d8e0ce99464817c01247ac2cfe606f7af1", "commitAfterChange": "24ee51cda626767793aae59eaf8489a458a84622", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 12, "signatureBeforeChange": " public boolean execute(String script)", "signatureAfterChange": " public boolean execute(String script)", "diff": ["-\t", "-\t/* get IHTMLDocument2 */", "-\tint[] rgdispid = auto.getIDsOfNames(new String[]{\"Document\"}); //$NON-NLS-1$", "-\tint dispIdMember = rgdispid[0];", "-\tVariant pVarResult = auto.getProperty(dispIdMember);", "-\tif (pVarResult == null || pVarResult.getType() == COM.VT_EMPTY) return false;", "-\tOleAutomation document = pVarResult.getAutomation();", "-\tpVarResult.dispose();", "-", "-\t/* get IHTMLWindow2 */", "-\trgdispid = document.getIDsOfNames(new String[]{\"parentWindow\"}); //$NON-NLS-1$", "-\tif (rgdispid == null) {", "-\t\t/* implies that browser's content is not a IHTMLDocument2 (eg.- acrobat reader) */", "-\t\tdocument.dispose();", "-\t\treturn false;", "-\t}", "-\tdispIdMember = rgdispid[0];", "-\tpVarResult = document.getProperty(dispIdMember);", "-\tOleAutomation ihtmlWindow2 = pVarResult.getAutomation();", "-\tpVarResult.dispose();", "-\tdocument.dispose();", "-\t", "-\trgdispid = ihtmlWindow2.getIDsOfNames(new String[] { \"execScript\", \"code\" }); //$NON-NLS-1$  //$NON-NLS-2$", "-\tVariant[] rgvarg = new Variant[1];", "-\trgvarg[0] = new Variant(script);", "-\tint[] rgdispidNamedArgs = new int[1];", "-\trgdispidNamedArgs[0] = rgdispid[1];", "-\tpVarResult = ihtmlWindow2.invoke(rgdispid[0], rgvarg, rgdispidNamedArgs);", "-\trgvarg[0].dispose();", "-\tihtmlWindow2.dispose();", "-\tif (pVarResult == null) return false;", "-\tpVarResult.dispose();", "-\treturn true;", "+\treturn webBrowser.execute(script);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a76ec31d9e66a6c372cce99742c249d5", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/win32/org/eclipse/swt/browser/IE.java", "commitBeforeChange": "2ef2e709c4c31aa7b46fb0d933d3fc8c2c2d5682", "commitAfterChange": "1558841b1896e9e706af6006087cd106ba6d2af3", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 26, "signatureBeforeChange": "  public boolean setUrl(String url)", "signatureAfterChange": "  public boolean setUrl(String url)", "diff": ["+", "-\thtml = null;", "+\thtml = uncRedirect = null;", "-\t\t\tint[] rgdispid = auto.getIDsOfNames(new String[] { \"Navigate\", \"URL\" }); //$NON-NLS-1$ //$NON-NLS-2$", "-\t\t\tVariant[] rgvarg = new Variant[1];", "-\t\t\trgvarg[0] = new Variant(ABOUT_BLANK);", "-\t\t\tint[] rgdispidNamedArgs = new int[1];", "-\t\t\trgdispidNamedArgs[0] = rgdispid[1];", "-\t\t\tboolean oldValue = false;", "-\t\t\tif (!OS.IsWinCE && IsIE7) {", "-\t\t\t\tint hResult = OS.CoInternetIsFeatureEnabled(OS.FEATURE_DISABLE_NAVIGATION_SOUNDS, OS.GET_FEATURE_FROM_PROCESS);", "-\t\t\t\toldValue = hResult == COM.S_OK;", "-\t\t\t\tOS.CoInternetSetFeatureEnabled(OS.FEATURE_DISABLE_NAVIGATION_SOUNDS, OS.SET_FEATURE_ON_PROCESS, true);", "-\t\t\t}", "-\t\t\tauto.invoke(rgdispid[0], rgvarg, rgdispidNamedArgs);", "-\t\t\tif (!OS.IsWinCE && IsIE7) {", "-\t\t\t\tOS.CoInternetSetFeatureEnabled(OS.FEATURE_DISABLE_NAVIGATION_SOUNDS, OS.SET_FEATURE_ON_PROCESS, oldValue);", "-\t\t\t}", "-\t\t\trgvarg[0].dispose();", "+\t\t\tnavigate (ABOUT_BLANK, true);", "-", "-\tint[] rgdispid = auto.getIDsOfNames(new String[] { \"Navigate\", \"URL\" }); //$NON-NLS-1$ //$NON-NLS-2$", "-\tnavigate = true;", "-\tVariant[] rgvarg = new Variant[1];", "-\trgvarg[0] = new Variant(url);", "-\tint[] rgdispidNamedArgs = new int[1];", "-\trgdispidNamedArgs[0] = rgdispid[1];", "-\tVariant pVarResult = auto.invoke(rgdispid[0], rgvarg, rgdispidNamedArgs);", "-\trgvarg[0].dispose();", "-\tif (pVarResult == null) return false;", "-\tboolean result = pVarResult.getType() == OLE.VT_EMPTY;", "-\tpVarResult.dispose();", "-\treturn result;", "+\treturn navigate(url, false);"]}], "num": 1321}