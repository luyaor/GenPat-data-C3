{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6541d6ee30d6e0f0cc9833281611ea1a", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "930205c45561e73dc698b3b105651da0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "230e8f81908de6014195879647987df8a8397c51", "commitAfterChange": "9ac8c0e88f5229b03595c61718c99be09abe7fd3", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 19, "signatureBeforeChange": "\r public TreeItem [] getSelection ()", "signatureAfterChange": "\r public TreeItem [] getSelection ()", "diff": ["+\tTreeItem [] guess = new TreeItem [8];\r", "-\t\t\tif ((tvItem.state & OS.TVIS_SELECTED) != 0) count++;\r", "+\t\t\tif ((tvItem.state & OS.TVIS_SELECTED) != 0) {\r", "+\t\t\t\tif (count < guess.length) guess [count] = item;\r", "+\t\t\t\tcount++;\r", "+\t\t\t}\r", "+\tOS.SetWindowLong (handle, OS.GWL_WNDPROC, oldProc);\r", "+\tif (count == 0) return new TreeItem [0];\r", "+\tif (count == guess.length) return guess;\r", "-\tif (count != 0) {\r", "-\t\tint index = 0;\r", "-\t\tfor (int i=0; i<items.length; i++) {\r", "-\t\t\tTreeItem item = items [i];\r", "-\t\t\tif (item != null) {\r", "-\t\t\t\ttvItem.hItem = item.handle;\r", "-\t\t\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);\r", "-\t\t\t\tif ((tvItem.state & OS.TVIS_SELECTED) != 0) {\r", "-\t\t\t\t\tresult [index++] = item;\r", "-\t\t\t\t}\r", "+\tif (count < guess.length) {\r", "+\t\tSystem.arraycopy (guess, 0, result, 0, count);\r", "+\t\treturn result;\r", "+\t}\r", "+\tOS.SetWindowLong (handle, OS.GWL_WNDPROC, TreeProc);\r", "+\tint index = 0;\r", "+\tfor (int i=0; i<items.length; i++) {\r", "+\t\tTreeItem item = items [i];\r", "+\t\tif (item != null) {\r", "+\t\t\ttvItem.hItem = item.handle;\r", "+\t\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);\r", "+\t\t\tif ((tvItem.state & OS.TVIS_SELECTED) != 0) {\r", "+\t\t\t\tresult [index++] = item;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "563aec70f2a7cd41c7123055015300fb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "17dca6877d3252823ef9769610c3a735be00a027", "commitAfterChange": "8ed0ca574b7d9dc725b56511af8febe1e07d6ab9", "methodNumberBeforeChange": 36, "methodNumberAfterChange": 36, "signatureBeforeChange": "\r public void showSelection ()", "signatureAfterChange": "\r public void showSelection ()", "diff": ["-\tint hItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_CARET, 0);\r", "+\tint hItem = 0;\r", "+\tif ((style & SWT.SINGLE) != 0) {\t\r", "+\t\thItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_CARET, 0);\r", "+\t\tif (hItem == 0) return;\r", "+\t\tTVITEM tvItem = new TVITEM ();\r", "+\t\ttvItem.mask = OS.TVIF_STATE;\r", "+\t\ttvItem.hItem = hItem;\r", "+\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);\r", "+\t\tif ((tvItem.state & OS.TVIS_SELECTED) == 0) return;\r", "+\t} else {\r", "+\t\tTVITEM tvItem = new TVITEM ();\r", "+\t\ttvItem.mask = OS.TVIF_STATE;\r", "+\t\tint oldProc = OS.GetWindowLong (handle, OS.GWL_WNDPROC);\r", "+\t\tOS.SetWindowLong (handle, OS.GWL_WNDPROC, TreeProc);\r", "+\t\tint index = 0;\r", "+\t\twhile (index <items.length) {\r", "+\t\t\tTreeItem item = items [index];\r", "+\t\t\tif (item != null) {\r", "+\t\t\t\ttvItem.hItem = item.handle;\r", "+\t\t\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);\r", "+\t\t\t\tif ((tvItem.state & OS.TVIS_SELECTED) != 0) {\r", "+\t\t\t\t\thItem = tvItem.hItem;\r", "+\t\t\t\t\tbreak;\r", "+\t\t\t\t}\r", "+\t\t\t}\r", "+\t\t\tindex++;\r", "+\t\t}\r", "+\t\tOS.SetWindowLong (handle, OS.GWL_WNDPROC, oldProc);\r", "+\t}\r"]}], "num": 3271}