{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "087e577cd2f2570a4905a8f12058ddc3", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cc48184a05d4b719077770fc036db081", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/photon/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "3fb799dcaa7d449679ed92f9829fbed85aa6fd1d", "commitAfterChange": "6c0e3d76ce668620fd159ac504e2b5d9a48852be", "methodNumberBeforeChange": 48, "methodNumberAfterChange": 50, "signatureBeforeChange": "\r \r int processMouse (int info)", "signatureAfterChange": "\r \r int processMouse (int info)", "diff": ["+\tif ((ev.processing_flags & OS.Ph_FAKE_EVENT) != 0) {\r", "+\t\treturn OS.Pt_CONTINUE;\r", "+\t}\r", "-\tint type = ev.type;\r", "-\tint buttons = pe.buttons;\r", "-\tint key_mods = pe.key_mods;\r", "-\tint button_state = pe.button_state;\r", "-\tint click_count = pe.click_count;\r", "-\tswitch (buttons) {\r", "+\tswitch (pe.buttons) {\r", "-\tif ((key_mods & OS.Pk_KM_Alt) != 0) event.stateMask |= SWT.ALT;\r", "-\tif ((key_mods & OS.Pk_KM_Shift) != 0) event.stateMask |= SWT.SHIFT;\r", "-\tif ((key_mods & OS.Pk_KM_Ctrl) != 0) event.stateMask |= SWT.CONTROL;\r", "-\tif ((button_state & OS.Ph_BUTTON_SELECT) != 0) event.stateMask |= SWT.BUTTON1;\r", "-\tif ((button_state & OS.Ph_BUTTON_ADJUST) != 0) event.stateMask |= SWT.BUTTON2;\r", "-\tif ((button_state & OS.Ph_BUTTON_MENU) != 0) event.stateMask |= SWT.BUTTON3;\r", "-\tif (type == OS.Ph_EV_BUT_PRESS) {\r", "-\t\tif (buttons == OS.Ph_BUTTON_SELECT && (button_state & OS.Ph_BUTTON_SELECT) != 0) {\r", "-\t\t\tevent.stateMask &= ~SWT.BUTTON1;\r", "-\t\t}\r", "-\t\tif (buttons == OS.Ph_BUTTON_ADJUST && (button_state & OS.Ph_BUTTON_ADJUST) != 0) {\r", "-\t\t\tevent.stateMask &= ~SWT.BUTTON2;\r", "-\t\t}\r", "-\t\tif (buttons == OS.Ph_BUTTON_MENU && (button_state & OS.Ph_BUTTON_MENU) != 0) {\r", "-\t\t\tevent.stateMask &= ~SWT.BUTTON3;\r", "-\t\t}\r", "-\t}\r", "-\tif (type == OS.Ph_EV_BUT_RELEASE) {\r", "-\t\tif (buttons == OS.Ph_BUTTON_SELECT) event.stateMask |= SWT.BUTTON1;\r", "-\t\tif (buttons == OS.Ph_BUTTON_ADJUST) event.stateMask |= SWT.BUTTON2;\r", "-\t\tif (buttons == OS.Ph_BUTTON_MENU) event.stateMask |= SWT.BUTTON3;\r", "-\t}\r", "+\tsetMouseState (event, pe);\r", "-\tif (type == OS.Ph_EV_BUT_PRESS && click_count == 2) {\r", "-\t\tpostEvent (SWT.MouseDoubleClick, event);\r", "+\tif (ev.type == OS.Ph_EV_BUT_PRESS && pe.click_count == 2) {\r", "+\t\tEvent clickEvent = new Event ();\r", "+\t\tclickEvent.time = event.time;\r", "+\t\tclickEvent.x = event.x;\r", "+\t\tclickEvent.y = event.y;\r", "+\t\tclickEvent.button = event.button;\r", "+\t\tclickEvent.stateMask = event.stateMask;\r", "+\t\tpostEvent (SWT.MouseDoubleClick, clickEvent);\r", "-\treturn OS.Pt_END;\r", "+\tev.processing_flags |= OS.Ph_CONSUMED;\r", "+\tOS.memmove (cbinfo.event, ev, PhEvent_t.sizeof);\r", "+\treturn OS.Pt_CONTINUE;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c32cb6b768c2aca80c46438aabbdd2d9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/photon/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "eb0dd46e7194a9f7d813095a5dca290fae54babc", "commitAfterChange": "8174cf2444655210718c9dde4ae430f251492a85", "methodNumberBeforeChange": 60, "methodNumberAfterChange": 60, "signatureBeforeChange": "\r \r int processMouse (int info)", "signatureAfterChange": "\r \r int processMouse (int info)", "diff": ["-\tEvent event = new Event ();\r", "+\tint type = 0;\r", "-\t\t\tevent.type = SWT.MouseDown;\r", "+\t\t\ttype = SWT.MouseDown;\r", "-\t\t\t//TEMPORARY CODE\r", "-//\t\t\tif ((state & CANVAS) != 0) return OS.Pt_CONTINUE;\r", "-\t\t\tevent.type = SWT.MouseUp;\r", "+\t\t\ttype = SWT.MouseUp;\r", "-\t\t\tevent.type = SWT.MouseMove;\r", "+\t\t\ttype = SWT.MouseMove;\r", "-\t\t\tswitch (ev.subtype) {\r", "-\t\t\t\tcase OS.Ph_EV_DRAG_MOTION_EVENT:\r", "-\t\t\t\t\tevent.type = SWT.MouseMove;\r", "-\t\t\t\t\tbreak;\r", "-\t\t\t\tcase OS.Ph_EV_DRAG_COMPLETE:\r", "-\t\t\t\t\tevent.type = SWT.MouseUp;\r", "-\t\t\t\t\tbreak;\r", "-\t\t\t\tdefault:\r", "-\t\t\t\t\treturn OS.Pt_CONTINUE;\r", "+\t\t\tif (ev.subtype != OS.Ph_EV_DRAG_MOTION_EVENT) {\r", "+\t\t\t\treturn OS.Pt_CONTINUE;\r", "+\t\t\ttype = SWT.MouseMove;\r", "-\tevent.time = ev.timestamp;\r", "-\tevent.x = pe.pos_x + ev.translation_x;\r", "-\tevent.y = pe.pos_y + ev.translation_y;\r", "-\tif (event.type == SWT.MouseDown || event.type == SWT.MouseUp) {\r", "-\t\tswitch (pe.buttons) {\r", "-\t\t\tcase OS.Ph_BUTTON_SELECT:\tevent.button = 1; break;\r", "-\t\t\tcase OS.Ph_BUTTON_ADJUST:\tevent.button = 2; break;\r", "-\t\t\tcase OS.Ph_BUTTON_MENU:\t\tevent.button = 3; break;\r", "+\tEvent event = new Event ();\r", "+\tevent.time = ev.timestamp;\r", "+\tsetMouseState (event, pe, ev);\r", "+\tpostEvent (type, event);\r", "+\tif (type == SWT.MouseDown) {\r", "+\t\tif (event.button == 3) {\r", "+\t\t\tif (menu != null && !menu.isDisposed ()) {\r", "+\t\t\t\tDisplay display = getDisplay ();\r", "+\t\t\t\tdisplay.runDeferredEvents ();\r", "+\t\t\t\tmenu.setVisible (true);\r", "+\t\t\t}\r", "-\t}\r", "-\tsetMouseState (ev.type, event, pe);\r", "-\tpostEvent (event.type, event);\r", "-\tif (ev.type == OS.Ph_EV_BUT_PRESS && pe.click_count == 2) {\r", "-\t\tEvent clickEvent = new Event ();\r", "-\t\tclickEvent.time = event.time;\r", "-\t\tclickEvent.x = event.x;\r", "-\t\tclickEvent.y = event.y;\r", "-\t\tclickEvent.button = event.button;\r", "-\t\tclickEvent.stateMask = event.stateMask;\r", "-\t\tpostEvent (SWT.MouseDoubleClick, clickEvent);\r", "-\t}\r", "-\tif (event.type == SWT.MouseDown) {\r", "+\t\tif (pe.click_count == 2) {\r", "+\t\t\tEvent clickEvent = new Event ();\r", "+\t\t\tclickEvent.time = event.time;\r", "+\t\t\tclickEvent.x = event.x;\r", "+\t\t\tclickEvent.y = event.y;\r", "+\t\t\tclickEvent.button = event.button;\r", "+\t\t\tclickEvent.stateMask = event.stateMask;\r", "+\t\t\tpostEvent (SWT.MouseDoubleClick, clickEvent);\r", "+\t\t}\r"]}], "num": 46316}