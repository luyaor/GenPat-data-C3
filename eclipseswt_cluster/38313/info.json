{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3698ea63408b57921531acceba24188b", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2fb53aa5cab31928b14131c6420d96e9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/photon/org/eclipse/swt/graphics/Device.java", "commitBeforeChange": "803e3e31d1057d7b2c9a4ca2fd094f15c4fdab0a", "commitAfterChange": "98b59845e52006919cc7fbceba0837163033848c", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": " public void dispose ()", "signatureAfterChange": " public void dispose ()", "diff": ["-\tif (isDisposed()) return;", "-\tcheckDevice ();", "-\trelease ();", "-\tdestroy ();", "-\tdisposed = true;", "-\tif (tracking) {", "-\t\tsynchronized (trackingLock) {", "-\t\t\tobjects = null;", "-\t\t\terrors = null;", "-\t\t\ttrackingLock = null;", "+\tsynchronized (Device.class) {", "+\t\tif (isDisposed()) return;", "+\t\tcheckDevice ();", "+\t\trelease ();", "+\t\tdestroy ();", "+\t\tdisposed = true;", "+\t\tif (tracking) {", "+\t\t\tsynchronized (trackingLock) {", "+\t\t\t\tobjects = null;", "+\t\t\t\terrors = null;", "+\t\t\t\ttrackingLock = null;", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "958f8db87eed977c8530278a0533de70", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "569a6be8b4a2d40deac242e9c6a1ed602188d119", "commitAfterChange": "803e3e31d1057d7b2c9a4ca2fd094f15c4fdab0a", "methodNumberBeforeChange": 64, "methodNumberAfterChange": 64, "signatureBeforeChange": " public Thread getThread ()", "signatureAfterChange": " public Thread getThread ()", "diff": ["-\tif (isDisposed ()) error (SWT.ERROR_DEVICE_DISPOSED);", "-\treturn thread;", "+\tsynchronized (Device.class) {", "+\t\tif (isDisposed ()) error (SWT.ERROR_DEVICE_DISPOSED);", "+\t\treturn thread;", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "11502423f2a0f1fd0635b30d4b7c35e6", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/photon/org/eclipse/swt/graphics/Device.java", "commitBeforeChange": "803e3e31d1057d7b2c9a4ca2fd094f15c4fdab0a", "commitAfterChange": "98b59845e52006919cc7fbceba0837163033848c", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 20, "signatureBeforeChange": " public boolean isDisposed ()", "signatureAfterChange": " public boolean isDisposed ()", "diff": ["-\treturn disposed;", "+\tsynchronized (Device.class) {", "+\t\treturn disposed;", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a0d3230ddc5e441e43e6988a311d7429", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "569a6be8b4a2d40deac242e9c6a1ed602188d119", "commitAfterChange": "803e3e31d1057d7b2c9a4ca2fd094f15c4fdab0a", "methodNumberBeforeChange": 126, "methodNumberAfterChange": 126, "signatureBeforeChange": " public void wake ()", "signatureAfterChange": " public void wake ()", "diff": ["-\tif (isDisposed ()) error (SWT.ERROR_DEVICE_DISPOSED);", "-\tif (thread == Thread.currentThread ()) return;", "-\twakeThread ();", "+\tsynchronized (Device.class) {", "+\t\tif (isDisposed ()) error (SWT.ERROR_DEVICE_DISPOSED);", "+\t\tif (thread == Thread.currentThread ()) return;", "+\t\twakeThread ();", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2facefe66a71bc51b3d3577c20fd0724", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "569a6be8b4a2d40deac242e9c6a1ed602188d119", "commitAfterChange": "803e3e31d1057d7b2c9a4ca2fd094f15c4fdab0a", "methodNumberBeforeChange": 94, "methodNumberAfterChange": 94, "signatureBeforeChange": " static synchronized void register (Display display)", "signatureAfterChange": " static void register (Display display)", "diff": ["-static synchronized void register (Display display) {", "-\tfor (int i=0; i<Displays.length; i++) {", "-\t\tif (Displays [i] == null) {", "-\t\t\tDisplays [i] = display;", "-\t\t\treturn;", "+static void register (Display display) {", "+\tsynchronized (Device.class) {", "+\t\tfor (int i=0; i<Displays.length; i++) {", "+\t\t\tif (Displays [i] == null) {", "+\t\t\t\tDisplays [i] = display;", "+\t\t\t\treturn;", "+\t\t\t}", "+\t\tDisplay [] newDisplays = new Display [Displays.length + 4];", "+\t\tSystem.arraycopy (Displays, 0, newDisplays, 0, Displays.length);", "+\t\tnewDisplays [Displays.length] = display;", "+\t\tDisplays = newDisplays;", "-\tDisplay [] newDisplays = new Display [Displays.length + 4];", "-\tSystem.arraycopy (Displays, 0, newDisplays, 0, Displays.length);", "-\tnewDisplays [Displays.length] = display;", "-\tDisplays = newDisplays;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ded23a3e82420ed6d4ddca8538154641", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "569a6be8b4a2d40deac242e9c6a1ed602188d119", "commitAfterChange": "803e3e31d1057d7b2c9a4ca2fd094f15c4fdab0a", "methodNumberBeforeChange": 91, "methodNumberAfterChange": 91, "signatureBeforeChange": " public boolean post (Event event)", "signatureAfterChange": " public boolean post (Event event)", "diff": ["-\tif (isDisposed ()) error (SWT.ERROR_DEVICE_DISPOSED);", "-\tif (event == null) error (SWT.ERROR_NULL_ARGUMENT);", "-\tint type = event.type;", "-\tswitch (type) {", "-\t\tcase SWT.KeyDown :", "-\t\tcase SWT.KeyUp : {", "-\t\t\tint keyCode = 0;", "-\t\t\tint keysym = untranslateKey (event.keyCode);", "-\t\t\tif (keysym != 0) keyCode = OS.XKeysymToKeycode (xDisplay, keysym);", "-\t\t\tif (keyCode == 0) {", "-\t\t\t\tchar key = event.character;", "-\t\t\t\tswitch (key) {", "-\t\t\t\t\tcase SWT.BS: keysym = OS.XK_BackSpace; break;", "-\t\t\t\t\tcase SWT.CR: keysym = OS.XK_Return; break;", "-\t\t\t\t\tcase SWT.DEL: keysym = OS.XK_Delete; break;", "-\t\t\t\t\tcase SWT.ESC: keysym = OS.XK_Escape; break;", "-\t\t\t\t\tcase SWT.TAB: keysym = OS.XK_Tab; break;", "-\t\t\t\t\tcase SWT.LF: keysym = OS.XK_Linefeed; break;", "-\t\t\t\t\tdefault:", "-\t\t\t\t\t\tkeysym = wcsToMbcs (key);", "+\tsynchronized (Device.class) {", "+\t\tif (isDisposed ()) error (SWT.ERROR_DEVICE_DISPOSED);", "+\t\tif (event == null) error (SWT.ERROR_NULL_ARGUMENT);", "+\t\tint type = event.type;", "+\t\tswitch (type) {", "+\t\t\tcase SWT.KeyDown :", "+\t\t\tcase SWT.KeyUp : {", "+\t\t\t\tint keyCode = 0;", "+\t\t\t\tint keysym = untranslateKey (event.keyCode);", "+\t\t\t\tif (keysym != 0) keyCode = OS.XKeysymToKeycode (xDisplay, keysym);", "+\t\t\t\tif (keyCode == 0) {", "+\t\t\t\t\tchar key = event.character;", "+\t\t\t\t\tswitch (key) {", "+\t\t\t\t\t\tcase SWT.BS: keysym = OS.XK_BackSpace; break;", "+\t\t\t\t\t\tcase SWT.CR: keysym = OS.XK_Return; break;", "+\t\t\t\t\t\tcase SWT.DEL: keysym = OS.XK_Delete; break;", "+\t\t\t\t\t\tcase SWT.ESC: keysym = OS.XK_Escape; break;", "+\t\t\t\t\t\tcase SWT.TAB: keysym = OS.XK_Tab; break;", "+\t\t\t\t\t\tcase SWT.LF: keysym = OS.XK_Linefeed; break;", "+\t\t\t\t\t\tdefault:", "+\t\t\t\t\t\t\tkeysym = wcsToMbcs (key);", "+\t\t\t\t\t}", "+\t\t\t\t\tkeyCode = OS.XKeysymToKeycode (xDisplay, keysym);", "+\t\t\t\t\tif (keyCode == 0) return false;", "-\t\t\t\tkeyCode = OS.XKeysymToKeycode (xDisplay, keysym);", "-\t\t\t\tif (keyCode == 0) return false;", "-\t\t\t}", "-\t\t\tOS.XTestFakeKeyEvent (xDisplay, keyCode, type == SWT.KeyDown, 0);", "-\t\t\treturn true;", "-\t\t}", "-\t\tcase SWT.MouseDown :", "-\t\tcase SWT.MouseMove : ", "-\t\tcase SWT.MouseUp : {", "-\t\t\tif (type == SWT.MouseMove) {", "-\t\t\t\tOS.XTestFakeMotionEvent (xDisplay, -1, event.x, event.y, 0);", "+\t\t\t\tOS.XTestFakeKeyEvent (xDisplay, keyCode, type == SWT.KeyDown, 0);", "-\t\t\t} else {", "-\t\t\t\tint button = event.button;", "-\t\t\t\tif (button < 1 || button > 3) return false;", "-\t\t\t\tOS.XTestFakeButtonEvent (xDisplay, button, type == SWT.MouseDown, 0);", "-\t\t\t    return true;", "+\t\t\t}", "+\t\t\tcase SWT.MouseDown :", "+\t\t\tcase SWT.MouseMove : ", "+\t\t\tcase SWT.MouseUp : {", "+\t\t\t\tif (type == SWT.MouseMove) {", "+\t\t\t\t\tOS.XTestFakeMotionEvent (xDisplay, -1, event.x, event.y, 0);", "+\t\t\t\t\treturn true;", "+\t\t\t\t} else {", "+\t\t\t\t\tint button = event.button;", "+\t\t\t\t\tif (button < 1 || button > 3) return false;", "+\t\t\t\t\tOS.XTestFakeButtonEvent (xDisplay, button, type == SWT.MouseDown, 0);", "+\t\t\t\t    return true;", "+\t\t\t\t}", "+\t\treturn false;", "-\treturn false;"]}], "num": 38313}