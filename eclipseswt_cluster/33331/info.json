{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "685058ad618961b7416a0928a27f5f0b", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a53a1c29547d593e5d687d23d626106e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/DateTime.java", "commitBeforeChange": "de1ef9e5dd8e2f657b19ac5e5eaa6cbf2017d8bb", "commitAfterChange": "bcac6ad70ee319247deb043444a858ffd48b487d", "methodNumberBeforeChange": 73, "methodNumberAfterChange": 91, "signatureBeforeChange": "  void setTextField(int fieldName, int value, boolean commit, boolean adjust)", "signatureAfterChange": "  void setTextField(int fieldName, int value, boolean commit, boolean adjust)", "diff": ["-", "-void setTextField(int fieldName, int value, boolean commit, boolean adjust) {", "-\tif (commit) {", "-\t\tint max = calendar.getActualMaximum(fieldName);", "-\t\tint min = calendar.getActualMinimum(fieldName);", "-\t\tif (fieldName == Calendar.YEAR) {", "-\t\t\tmax = MAX_YEAR;", "-\t\t\tmin = MIN_YEAR;", "-\t\t\t/* Special case: convert 1 or 2-digit years into reasonable 4-digit years. */", "-\t\t\tint currentYear = Calendar.getInstance().get(Calendar.YEAR);", "-\t\t\tint currentCentury = (currentYear / 100) * 100;", "-\t\t\tif (value < (currentYear + 30) % 100) value += currentCentury;", "-\t\t\telse if (value < 100) value += currentCentury - 100;", "-\t\t}", "-\t\tif (value > max) value = min; // wrap", "-\t\tif (value < min) value = max; // wrap", "-\t}", "-\tint start = fieldIndices[currentField].x;", "-\tint end = fieldIndices[currentField].y;", "-\ttext.setSelection(start, end);", "-\tString newValue = formattedStringValue(fieldName, value, adjust);", "-\tStringBuffer buffer = new StringBuffer(newValue);", "-\t/* Convert leading 0's into spaces. */", "-\tint prependCount = end - start - buffer.length();", "-\tfor (int i = 0; i < prependCount; i++) {", "-\t\tswitch (fieldName) {", "-\t\t\tcase Calendar.MINUTE:", "-\t\t\tcase Calendar.SECOND:", "-\t\t\t\tbuffer.insert(0, 0);", "-\t\t\t\tbreak;", "-\t\t\tdefault:", "-\t\t\t\tbuffer.insert(0, ' ');", "-\t\t\t\tbreak;", "-\t\t}", "-\t}\t\t", "-\tnewValue = buffer.toString();", "-\tignoreVerify = true;", "-\ttext.insert(newValue);", "-\tignoreVerify = false;", "-\tselectField(currentField);", "-\tif (commit) setField(fieldName, value);", "+", "+void setTextField(int fieldName, int value, boolean commit, boolean adjust) {", "+\tif (commit) {", "+\t\tint max = calendar.getActualMaximum(fieldName);", "+\t\tint min = calendar.getActualMinimum(fieldName);", "+\t\tif (fieldName == Calendar.YEAR) {", "+\t\t\tmax = MAX_YEAR;", "+\t\t\tmin = MIN_YEAR;", "+\t\t\t/* Special case: convert 1 or 2-digit years into reasonable 4-digit years. */", "+\t\t\tint currentYear = Calendar.getInstance().get(Calendar.YEAR);", "+\t\t\tint currentCentury = (currentYear / 100) * 100;", "+\t\t\tif (value < (currentYear + 30) % 100) value += currentCentury;", "+\t\t\telse if (value < 100) value += currentCentury - 100;", "+\t\t}", "+\t\tif (value > max) value = min; // wrap", "+\t\tif (value < min) value = max; // wrap", "+\t}", "+\tint start = fieldIndices[currentField].x;", "+\tint end = fieldIndices[currentField].y;", "+\tsetSelection(start, end);", "+\tString newValue = formattedStringValue(fieldName, value, adjust);", "+\tStringBuffer buffer = new StringBuffer(newValue);", "+\t/* Convert leading 0's into spaces. */", "+\tint prependCount = end - start - buffer.length();", "+\tfor (int i = 0; i < prependCount; i++) {", "+\t\tswitch (fieldName) {", "+\t\t\tcase Calendar.MINUTE:", "+\t\t\tcase Calendar.SECOND:", "+\t\t\t\tbuffer.insert(0, 0);", "+\t\t\t\tbreak;", "+\t\t\tdefault:", "+\t\t\t\tbuffer.insert(0, ' ');", "+\t\t\t\tbreak;", "+\t\t}", "+\t}\t\t", "+\tnewValue = buffer.toString();", "+\tignoreVerify = true;", "+\tinsert(newValue);", "+\tignoreVerify = false;", "+\tselectField(currentField);", "+\tif (commit) setField(fieldName, value);", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "255ee94b535f0f3fd5e3b0d2c6e2cb19", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/DateTime.java", "commitBeforeChange": "aa3c6d8a75ecd3aa62e9b9ee7768d59f601718ad", "commitAfterChange": "45241a274b1b6b5d05ce82d64b05685046285bb0", "methodNumberBeforeChange": 91, "methodNumberAfterChange": 73, "signatureBeforeChange": "  void setTextField(int fieldName, int value, boolean commit, boolean adjust)", "signatureAfterChange": "  void setTextField(int fieldName, int value, boolean commit, boolean adjust)", "diff": ["+", "+void setTextField(int fieldName, int value, boolean commit, boolean adjust) {", "+\tif (commit) {", "+\t\tint max = calendar.getActualMaximum(fieldName);", "+\t\tint min = calendar.getActualMinimum(fieldName);", "+\t\tif (fieldName == Calendar.YEAR) {", "+\t\t\tmax = MAX_YEAR;", "+\t\t\tmin = MIN_YEAR;", "+\t\t\t/* Special case: convert 1 or 2-digit years into reasonable 4-digit years. */", "+\t\t\tint currentYear = Calendar.getInstance().get(Calendar.YEAR);", "+\t\t\tint currentCentury = (currentYear / 100) * 100;", "+\t\t\tif (value < (currentYear + 30) % 100) value += currentCentury;", "+\t\t\telse if (value < 100) value += currentCentury - 100;", "+\t\t}", "+\t\tif (value > max) value = min; // wrap", "+\t\tif (value < min) value = max; // wrap", "+\t}", "+\tint start = fieldIndices[currentField].x;", "+\tint end = fieldIndices[currentField].y;", "+\ttext.setSelection(start, end);", "+\tString newValue = formattedStringValue(fieldName, value, adjust);", "+\tStringBuffer buffer = new StringBuffer(newValue);", "+\t/* Convert leading 0's into spaces. */", "+\tint prependCount = end - start - buffer.length();", "+\tfor (int i = 0; i < prependCount; i++) {", "+\t\tswitch (fieldName) {", "+\t\t\tcase Calendar.MINUTE:", "+\t\t\tcase Calendar.SECOND:", "+\t\t\t\tbuffer.insert(0, 0);", "+\t\t\t\tbreak;", "+\t\t\tdefault:", "+\t\t\t\tbuffer.insert(0, ' ');", "+\t\t\t\tbreak;", "+\t\t}", "+\t}\t\t", "+\tnewValue = buffer.toString();", "+\tignoreVerify = true;", "+\ttext.insert(newValue);", "+\tignoreVerify = false;", "+\tselectField(currentField);", "+\tif (commit) setField(fieldName, value);", "-", "-void setTextField(int fieldName, int value, boolean commit, boolean adjust) {", "-\tif (commit) {", "-\t\tint max = calendar.getActualMaximum(fieldName);", "-\t\tint min = calendar.getActualMinimum(fieldName);", "-\t\tif (fieldName == Calendar.YEAR) {", "-\t\t\tmax = MAX_YEAR;", "-\t\t\tmin = MIN_YEAR;", "-\t\t\t/* Special case: convert 1 or 2-digit years into reasonable 4-digit years. */", "-\t\t\tint currentYear = Calendar.getInstance().get(Calendar.YEAR);", "-\t\t\tint currentCentury = (currentYear / 100) * 100;", "-\t\t\tif (value < (currentYear + 30) % 100) value += currentCentury;", "-\t\t\telse if (value < 100) value += currentCentury - 100;", "-\t\t}", "-\t\tif (value > max) value = min; // wrap", "-\t\tif (value < min) value = max; // wrap", "-\t}", "-\tint start = fieldIndices[currentField].x;", "-\tint end = fieldIndices[currentField].y;", "-\tsetSelection(start, end);", "-\tString newValue = formattedStringValue(fieldName, value, adjust);", "-\tStringBuffer buffer = new StringBuffer(newValue);", "-\t/* Convert leading 0's into spaces. */", "-\tint prependCount = end - start - buffer.length();", "-\tfor (int i = 0; i < prependCount; i++) {", "-\t\tswitch (fieldName) {", "-\t\t\tcase Calendar.MINUTE:", "-\t\t\tcase Calendar.SECOND:", "-\t\t\t\tbuffer.insert(0, 0);", "-\t\t\t\tbreak;", "-\t\t\tdefault:", "-\t\t\t\tbuffer.insert(0, ' ');", "-\t\t\t\tbreak;", "-\t\t}", "-\t}\t\t", "-\tnewValue = buffer.toString();", "-\tignoreVerify = true;", "-\tinsert(newValue);", "-\tignoreVerify = false;", "-\tselectField(currentField);", "-\tif (commit) setField(fieldName, value);", "-}"]}], "num": 33331}