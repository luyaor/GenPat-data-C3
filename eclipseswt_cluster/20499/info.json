{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4d57ff45d16a61e7467feb9b0070fbe7", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "68a4d869b1aff48710b57423a44fbc8c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/carbon/org/eclipse/swt/dnd/DropTarget.java", "commitBeforeChange": "0ef9617c1012a47a6d1ff1554f6abcb04cfa36ad", "commitAfterChange": "26cde76ce3c88c1f3b47c43e3bb62261f679e704", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": " private int getOperationFromKeyState(int modifiers)", "signatureAfterChange": "  private int getOperationFromKeyState(int theDrag)", "diff": ["-}", "-private int getOperationFromKeyState(int modifiers) {", "-\tif (modifiers == 0) {", "-\t\treturn DND.DROP_DEFAULT;", "-\t}", "-\tif ((modifiers & OS.optionKey) != 0 && (modifiers & OS.cmdKey) != 0) {", "-\t\treturn DND.DROP_LINK;", "-\t}", "-\tif ((modifiers & OS.optionKey) != 0) {", "-\t\treturn DND.DROP_COPY;", "-\t}", "-\treturn DND.DROP_MOVE;", "-}", "+", "+private int getOperationFromKeyState(int theDrag) {", "+\tshort[] modifiers = new short[1];", "+\tOS.GetDragModifiers(theDrag, modifiers, null, null);", "+\tboolean option = (modifiers[0] & OS.optionKey) == OS.optionKey;", "+\tboolean command = (modifiers[0] & OS.cmdKey) == OS.cmdKey;", "+\tif (option && command) return DND.DROP_LINK;", "+\tif (option) return DND.DROP_COPY;", "+\tif (command) return DND.DROP_MOVE;", "+\treturn DND.DROP_DEFAULT; "]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a2c044be27559cd5e7aab66151399bd1", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Widget.java", "commitBeforeChange": "70ad0effe5f094be7c9f0fc126e3f2ba49252b61", "commitAfterChange": "d04fb3f614d054ed3cf2600f4c59c394b9406469", "methodNumberBeforeChange": 65, "methodNumberAfterChange": 65, "signatureBeforeChange": " void setInputState (Event event, MacEvent mEvent)", "signatureAfterChange": " void setInputState (Event event, MacEvent mEvent)", "diff": ["-\tint modifiers= mEvent.getModifiers();", "-\tif ((modifiers & OS.optionKey) != 0) event.stateMask |= SWT.ALT;", "-\tif ((modifiers & OS.shiftKey) != 0) event.stateMask |= SWT.SHIFT;", "-\tswitch (mEvent.getWhat()) {", "-\tcase OS.mouseDown:", "-\tcase OS.mouseUp:", "-\tcase 12345:", "-\t\tif ((modifiers & OS.controlKey) != 0) {", "-\t\t\tevent.stateMask |= SWT.CONTROL;", "-\t\t\tif ((modifiers & OS.btnState) == 0) event.stateMask |= SWT.BUTTON3;", "-\t\t} else {", "-\t\t\tif ((modifiers & OS.btnState) == 0) event.stateMask |= SWT.BUTTON1;", "-\t\t}", "-\t\tbreak;", "+\tevent.stateMask= getDisplay().fMouseButtonState;", "+\t", "+\tint modifiers= mEvent.getModifiers();", "+\t", "+\tif ((modifiers & OS.shiftKey) != 0)", "+\t\tevent.stateMask |= SWT.SHIFT;", "+\t", "+\tif (false) {", "+\t\t// map option modifier to ALT modifier", "+\t\tif ((modifiers & OS.optionKey) != 0)", "+\t\t\tevent.stateMask |= SWT.ALT;", "+\t} else {", "+\t\t// map control modifier to ALT modifier", "+\t\tif ((modifiers & OS.controlKey) != 0)", "+\t\t\tevent.stateMask |= SWT.ALT;", "-\t/*", "-\tif ((modifiers & 2) != 0) event.stateMask |= SWT.BUTTON2;", "-\t*/"]}], "num": 20499}