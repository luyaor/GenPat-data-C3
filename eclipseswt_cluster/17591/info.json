{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8a2765fd0ddff8cbfed4ff7f5cb3337b", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "613854c01a600115ddfb277a06b05685", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/internal/Converter.java", "commitBeforeChange": "5f80bb3b53d7e26adb3e7ce4f4f973204cc40174", "commitAfterChange": "5fbe5d6518706b4f002ddbbebf7e1f63d1877af8", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "\r \r public static byte [] wcsToMbcs (String codePage, String string, boolean terminate)", "signatureAfterChange": "\r \r public static byte [] wcsToMbcs (String codePage, String string, boolean terminate)", "diff": ["-\t//SLOW AND BOGUS\r", "-\tint count = string.length ();\r", "-\tif (terminate) count++;\r", "-\tchar [] buffer = new char [count];\r", "-\tstring.getChars (0, string.length (), buffer, 0);\r", "-\treturn wcsToMbcs (codePage, buffer, false);\r", "+\tint length = string.length ();\r", "+\tchar [] buffer = new char [length];\r", "+\tstring.getChars (0, length, buffer, 0);\r", "+\treturn wcsToMbcs (codePage, buffer, terminate);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dca7c6ac9d9445e3e282ddb2e8a37bbd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/photon/org/eclipse/swt/internal/Converter.java", "commitBeforeChange": "7f53a19a8ca78d6c8f1f3c2e394b3cec56a28171", "commitAfterChange": "f1331a11098658ad6c3161dd120f5f98a3b5a1b5", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "\r public static byte [] wcsToMbcs (String codePage, String string, boolean terminate)", "signatureAfterChange": "\r public static byte [] wcsToMbcs (String codePage, String string, boolean terminate)", "diff": ["-\tint count = string.length ();\r", "-\tif (terminate) count++;\r", "-\tchar [] buffer = new char [count];\r", "-\tstring.getChars (0, string.length (), buffer, 0);\r", "-\treturn wcsToMbcs (codePage, buffer, false);\r", "+\tif (!terminate) return string.getBytes ();\r", "+\tbyte [] buffer1 = string.getBytes ();\r", "+\tbyte [] buffer2 = new byte [buffer1.length + 1];\r", "+\tSystem.arraycopy (buffer1, 0, buffer2, 0, buffer1.length);\r", "+\treturn buffer2;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "96c9bc9757f04c3da319bc375e1ac995", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/Device.java", "commitBeforeChange": "3d9c2cb2520654c5b26b0b0cfee3576c14bbb71b", "commitAfterChange": "a2be781b6dd32de4e7e15ba616b1cc49fdc50683", "methodNumberBeforeChange": 27, "methodNumberAfterChange": 27, "signatureBeforeChange": " public boolean loadFont (String path)", "signatureAfterChange": " public boolean loadFont (String path)", "diff": ["-\tint length = path.length ();", "-\tchar[] buffer = new char [length + 1];", "-\tpath.getChars (0, length, buffer, 0);", "-\treturn OS.AddFontResourceExW (buffer, OS.FR_PRIVATE, 0) != 0;", "+\tif (OS.IsWinNT && OS.WIN32_VERSION >= OS.VERSION (4, 10)) {", "+\t\tTCHAR lpszFilename = new TCHAR (0, path, true);", "+\t\treturn OS.AddFontResourceEx (lpszFilename, OS.FR_PRIVATE, 0) != 0;", "+\t}", "+\treturn false;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "371d59cfdd291fe494af39e45c3b5bbc", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT PI/win32/org/eclipse/swt/internal/ole/win32/COM.java", "commitBeforeChange": "74284d2a285369eacfa106ac7a40bccd4dea49cb", "commitAfterChange": "892a7994107068a8903be793398c8b4e9d56cbd7", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 0, "signatureBeforeChange": " private static GUID IIDFromString(String lpsz)", "signatureAfterChange": "  private static GUID IIDFromString(String lpsz)", "diff": ["-public static final native int IIDFromString(char[] lpsz, GUID lpiid);", "-\t// create a null terminated array of char", "-\tchar[] buffer = (lpsz +\"\\0\").toCharArray();", "-", "-\t// invoke system method", "+\tint length = lpsz.length();", "+\tchar[] buffer = new char[length + 1];", "+\tlpsz.getChars(0, length, buffer, 0);", "-\tif (COM.IIDFromString(buffer, lpiid) == COM.S_OK)", "-\t\treturn lpiid;", "+\tif (COM.IIDFromString(buffer, lpiid) == COM.S_OK) return lpiid;"]}], "num": 17591}