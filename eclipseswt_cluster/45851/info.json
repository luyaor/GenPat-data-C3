{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "674f854bc05e41555b4ba649a6721d86", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c2a15babd8263c259480c709eb574512", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "e739305d229b1bdea1e3d55da262041d08c0193c", "commitAfterChange": "d490923a7006d6548b42bedc706ce6ce5ba16433", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 114, "signatureBeforeChange": "\r void fixParentTraversal ()", "signatureAfterChange": "\r void setParentTraversal ()", "diff": ["-}\r", "-void fixParentTraversal () {\r", "-\t/*\r", "-\t* When the parent was created with NO_FOCUS, XmNtraversalOn was\r", "-\t* set to false disallowing focus in the parent and all children.\r", "-\t* In order to allow the new child to take focus like other platforms,\r", "-\t* set XmNtraversalOn to true in the parent.\r", "-\t*/\r", "-\tif ((parent.style & SWT.NO_FOCUS) != 0) {\r", "-\t\tint parentHandle = parent.handle;\r", "-\t\tint [] argList = {OS.XmNtraversalOn, 0};\r", "-\t\tOS.XtGetValues (parentHandle, argList, argList.length / 2);\r", "-\t\tif (argList [1] == 0) {\r", "-\t\t\targList [1] = 1;\r", "-\t\t\tOS.XtSetValues (parentHandle, argList, argList.length / 2);\r", "-\t\t\tparent.overrideTranslations ();\r", "-\t\t}\r", "+void setParentTraversal () {\r", "+\t/*\r", "+\t* When the parent was created with NO_FOCUS, XmNtraversalOn was\r", "+\t* set to false disallowing focus in the parent and all children.\r", "+\t* In order to allow the new child to take focus like other platforms,\r", "+\t* set XmNtraversalOn to true in the parent.\r", "+\t*/\r", "+\tif ((parent.style & SWT.NO_FOCUS) != 0) {\r", "+\t\tint parentHandle = parent.handle;\r", "+\t\tint [] argList = {OS.XmNtraversalOn, 0};\r", "+\t\tOS.XtGetValues (parentHandle, argList, argList.length / 2);\r", "+\t\tif (argList [1] == 0) {\r", "+\t\t\targList [1] = 1;\r", "+\t\t\tOS.XtSetValues (parentHandle, argList, argList.length / 2);\r", "+\t\t\tparent.overrideTranslations ();\r", "+\t\t}\r", "+\t}\r", "+}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b4291c5ea88e87e2fd12a9a24e088d30", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "3fb799dcaa7d449679ed92f9829fbed85aa6fd1d", "commitAfterChange": "6c0e3d76ce668620fd159ac504e2b5d9a48852be", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "\r \r void createWidget (int index)", "signatureAfterChange": "\r \r void createWidget (int index)", "diff": ["-\tsetZOrder ();\r", "-\trealizeChildren ();\r", "+\t\r", "+\t/*", "+\t* Feature in MOTIF.  When a widget is created before the", "+\t* parent has been realized, the widget is created behind", "+\t* all siblings in the Z-order.  When a widget is created", "+\t* after the parent has been realized, it is created in", "+\t* front of all siblings.  This is not incorrect but is", "+\t* unexpected.  The fix is to force all widgets to always", "+\t* be created behind their siblings.", "+\t*/", "+\tint topHandle = topHandle ();", "+\tif (OS.XtIsRealized (topHandle)) {", "+\t\tint window = OS.XtWindow (topHandle);", "+\t\tif (window != 0) {", "+\t\t\tint display = OS.XtDisplay (topHandle);", "+\t\t\tif (display != 0) OS.XLowerWindow (display, window);", "+\t\t}", "+\t\t/*", "+\t\t* Make that the widget has been properly realized", "+\t\t* because the widget was created after the parent", "+\t\t* has been realized.  This is not part of the fix", "+\t\t* for Z-order in the code above. ", "+\t\t*/", "+\t\trealizeChildren ();", "+\t}\r", "+\t\r", "+\t/*\r", "+\t* Bug in Motif.  Under certain circumstances, when a\r", "+\t* text widget is created as a child of another control\r", "+\t* that has drag and drop, starting a drag in the text\r", "+\t* widget causes a protection fault.  The fix is to\r", "+\t* disable the built in drag and drop for all widgets\r", "+\t* by overriding the drag start traslation.\r", "+\t*/\r", "+\tDisplay display = getDisplay ();\r", "+\tOS.XtOverrideTranslations (handle, display.dragTranslations);\r"]}], "num": 45851}