{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "45fef5f9eb31abb4fb7b75decb443ae7", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "db5947daa27148e3e5f23e6c7a2a0acd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "d86ccf7311b1b26cf1d62a483694e7a1700908ba", "commitAfterChange": "aecaa6269b337935ec99f9a6d9b790e4662ca557", "methodNumberBeforeChange": 214, "methodNumberAfterChange": 214, "signatureBeforeChange": " void handleMouseDown(Event event)", "signatureAfterChange": " void handleMouseDown(Event event)", "diff": ["-\tif (clickCount == 1 || blockSelection) {", "-\t\tboolean select = (event.stateMask & SWT.MOD2) != 0 && !blockSelection;", "+\tif (clickCount == 1) {", "+\t\tboolean select = (event.stateMask & SWT.MOD2) != 0;", "+\t\t\tboolean wordSelect = (clickCount & 1) == 0;", "-\t\t\tint lineEnd = content.getCharCount();", "-\t\t\tif (lineIndex + 1 < content.getLineCount()) {", "-\t\t\t\tlineEnd = content.getOffsetAtLine(lineIndex + 1);", "-\t\t\t}", "-\t\t\tint start, end;", "-\t\t\tif ((clickCount & 1) == 0) {", "-\t\t\t\tstart = Math.max(0, getWordPrevious(offset, SWT.MOVEMENT_WORD_START));", "-\t\t\t\tend = Math.min(content.getCharCount(), getWordNext(start, SWT.MOVEMENT_WORD_END));", "+\t\t\tif (wordSelect) {", "+\t\t\t\tint min = blockSelection ? lineOffset : 0;", "+\t\t\t\tint max = blockSelection ? lineOffset + content.getLine(lineIndex).length() : content.getCharCount();", "+\t\t\t\tint start = Math.max(min, getWordPrevious(offset, SWT.MOVEMENT_WORD_START));", "+\t\t\t\tint end = Math.min(max, getWordNext(start, SWT.MOVEMENT_WORD_END));", "+\t\t\t\tsetSelection(start, end - start, true, true);", "-\t\t\t\tstart = lineOffset;", "-\t\t\t\tend = lineEnd;", "+\t\t\t\tif (blockSelection) {", "+\t\t\t\t\tsetBlockSelectionLocation(leftMargin, event.y, clientAreaWidth - rightMargin, event.y);", "+\t\t\t\t} else {", "+\t\t\t\t\tint lineEnd = content.getCharCount();", "+\t\t\t\t\tif (lineIndex + 1 < content.getLineCount()) {", "+\t\t\t\t\t\tlineEnd = content.getOffsetAtLine(lineIndex + 1);", "+\t\t\t\t\t}", "+\t\t\t\t\tsetSelection(lineOffset, lineEnd - lineOffset, true, false);", "+\t\t\t\t}", "-\t\t\tsetSelection(start, end - start, true, false);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "88cbde5f9fe90a068d7cd22809be08a4", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "7073a0a47a73222495a410b225421aa38f711a00", "commitAfterChange": "1d48732bc06b4c27938dee1b4a5c8ffe2c7eaeda", "methodNumberBeforeChange": 60, "methodNumberAfterChange": 60, "signatureBeforeChange": " public void setSelection (int start, int end)", "signatureAfterChange": " public void setSelection (int start, int end)", "diff": ["-\tif (start < 0 || start > end) return;", "-\tOS.TXNSetSelection (txnObject, start, end);", "+\tint length = OS.TXNDataSize (txnObject) / 2;", "+\tint nStart = Math.min (Math.max (Math.min (start, end), 0), length);", "+\tint nEnd = Math.min (Math.max (Math.max (start, end), 0), length);", "+\tOS.TXNSetSelection (txnObject, nStart, nEnd);"]}], "num": 32026}