{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "1076dcb29376a7e32c61aea76857340d", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6a5e44d73f6a2e68e3936ea76120783e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "8ab2694b079d42238f2e3bb9154c6203d29b475b", "commitAfterChange": "bb20cc27247c1f1ac9a884571825af6f240e652e", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 21, "signatureBeforeChange": " public int getNextOffset (int offset, int movement)", "signatureAfterChange": " public int getNextOffset (int offset, int movement)", "diff": ["+\tlength = segmentsText.length();", "+\toffset = translateOffset(offset);", "-\t\t\tif (run.lineBreak && !run.softBreak) return run.start + run.length;", "+\t\t\tif (run.lineBreak && !run.softBreak) return untranslateOffset(run.start + run.length);", "+\tif (segments != null) {", "+\t\tfor (int j = 0; j < segments.length; j++) {", "+\t\t\tif (translateOffset(segments[j]) - 1 == offset) {", "+\t\t\t\toffset++;", "+\t\t\t\tbreak;", "+\t\t\t}", "+\t\t}", "+\t}", "-\t\t\tif (run.lineBreak && !run.softBreak) return offset;", "+\t\t\tif (run.lineBreak && !run.softBreak) return untranslateOffset(offset);", "-\t\t\t\treturn offset;", "+\t\t\t\treturn untranslateOffset(offset);", "-\t\t\t\t\tif (!logAttr.fWhiteSpace) return offset;", "+\t\t\t\t\tif (!logAttr.fWhiteSpace) return untranslateOffset(offset);", "-\t\t\t\t\tif ((movement & MOVEMENT_CLUSTER) != 0 && logAttr.fCharStop) return offset;", "+\t\t\t\t\tif ((movement & MOVEMENT_CLUSTER) != 0 && logAttr.fCharStop) return untranslateOffset(offset);", "-\t\t\t\t\t\t\tif (logAttr.fWordStop) return offset;", "+\t\t\t\t\t\t\tif (logAttr.fWordStop) return untranslateOffset(offset);", "-\t\t\t\t\t\t\tif (!logAttr.fWhiteSpace && previousWhitespace) return offset;", "+\t\t\t\t\t\t\tif (!logAttr.fWhiteSpace && previousWhitespace) return untranslateOffset(offset);", "+\t\t\t\tif (segments != null) {", "+\t\t\t\t\tfor (int j = 0; j < segments.length; j++) {", "+\t\t\t\t\t\tif (translateOffset(segments[j]) - 1 == offset) {", "+\t\t\t\t\t\t\toffset++;", "+\t\t\t\t\t\t\tbreak;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t}", "-\treturn length;", "+\treturn text.length();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "614ca85f4b085b6fa23c1be16d5fb86f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "8ab2694b079d42238f2e3bb9154c6203d29b475b", "commitAfterChange": "bb20cc27247c1f1ac9a884571825af6f240e652e", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 25, "signatureBeforeChange": " public int getPreviousOffset (int offset, int movement)", "signatureAfterChange": " public int getPreviousOffset (int offset, int movement)", "diff": ["+\tlength = segmentsText.length();", "+\toffset = translateOffset(offset);", "+\tif (segments != null) {", "+\t\tfor (int j = 0; j < segments.length; j++) {", "+\t\t\tif (translateOffset(segments[j]) - 1 == offset) {", "+\t\t\t\toffset--;", "+\t\t\t\tbreak;", "+\t\t\t}", "+\t\t}", "+\t}", "-\t\t\tif (run.lineBreak && !run.softBreak) return run.start;", "+\t\t\tif (run.lineBreak && !run.softBreak) return untranslateOffset(run.start);", "-\t\t\tif (run.lineBreak && !run.softBreak) return run.start + run.length;", "+\t\t\tif (run.lineBreak && !run.softBreak) return untranslateOffset(run.start + run.length);", "-\t\t\t\treturn offset;", "+\t\t\t\treturn untranslateOffset(offset);", "-\t\t\t\t\tif (!previousWhitespace) return offset + 1;", "+\t\t\t\t\tif (!previousWhitespace) return untranslateOffset(offset + 1);", "-\t\t\t\t\tif ((movement & MOVEMENT_CLUSTER) != 0 && logAttr.fCharStop) return offset;", "+\t\t\t\t\tif ((movement & MOVEMENT_CLUSTER) != 0 && logAttr.fCharStop) return untranslateOffset(offset);", "-\t\t\t\t\t\t\tif (logAttr.fWordStop) return offset;", "+\t\t\t\t\t\t\tif (logAttr.fWordStop) return untranslateOffset(offset);", "-\t\t\t\t\t\t\tif (logAttr.fWhiteSpace && !previousWhitespace) return offset + 1;", "+\t\t\t\t\t\t\tif (logAttr.fWhiteSpace && !previousWhitespace) return untranslateOffset(offset + 1);", "+\t\t\t\tif (segments != null) {", "+\t\t\t\t\tfor (int j = 0; j < segments.length; j++) {", "+\t\t\t\t\t\tif (translateOffset(segments[j]) - 1 == offset) {", "+\t\t\t\t\t\t\toffset--;", "+\t\t\t\t\t\t\tbreak;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t}", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c581dd3c675bc78b53fa55cd0d8ef561", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "8ab2694b079d42238f2e3bb9154c6203d29b475b", "commitAfterChange": "bb20cc27247c1f1ac9a884571825af6f240e652e", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 19, "signatureBeforeChange": "  int _getOffset (int offset, int movement, boolean forward)", "signatureAfterChange": "  int _getOffset (int offset, int movement, boolean forward)", "diff": ["+\tlength = OS.g_utf8_strlen(OS.pango_layout_get_text(layout), -1);", "+\toffset = translateOffset(offset);", "+\tif (segments != null) {", "+\t\tfor (int j = 0; j < segments.length; j++) {", "+\t\t\tif (translateOffset(segments[j]) - 1 == offset) {", "+\t\t\t\toffset += step;", "+\t\t\t\tbreak;", "+\t\t\t}", "+\t\t}", "+\t}", "+\t\tif (segments != null) {", "+\t\t\tfor (int j = 0; j < segments.length; j++) {", "+\t\t\t\tif (translateOffset(segments[j]) - 1 == offset) {", "+\t\t\t\t\toffset += step;", "+\t\t\t\t\tbreak;", "+\t\t\t\t}", "+\t\t\t}", "+\t\t}", "-\treturn offset;", "+\treturn Math.min(Math.max(0, untranslateOffset(offset)), text.length());"]}], "num": 49883}