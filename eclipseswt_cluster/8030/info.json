{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "58df090e4cd8b508ccf8d475d4fad68e", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3e1756576c89d838fa3f4551ff9840bc", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "c87aae6d3c31d8056505e084eb4ffdab48e95621", "commitAfterChange": "b332e1ecb6421f664a18c1bcf96e2b94c24f1610", "methodNumberBeforeChange": 79, "methodNumberAfterChange": 79, "signatureBeforeChange": "  int identity()", "signatureAfterChange": "  int identity()", "diff": ["-\t\tImage image = data.image;", "-\t\tif (image != null) {", "-\t\t\tBITMAP bm = new BITMAP();", "-\t\t\tOS.GetObject(image.handle, BITMAP.sizeof, bm);", "-\t\t\twidth = bm.bmWidth;", "-\t\t} else if (data.hwnd != 0) {", "-\t\t\tRECT rect = new RECT();", "-\t\t\tOS.GetClientRect(data.hwnd, rect);", "-\t\t\twidth = rect.right - rect.left;", "+\t\tint technology = OS.GetDeviceCaps(handle, OS.TECHNOLOGY);", "+\t\tif (technology == OS.DT_RASPRINTER) {", "+\t\t\twidth = OS.GetDeviceCaps(handle, OS.PHYSICALWIDTH);", "+\t\t} else {", "+\t\t\tImage image = data.image;", "+\t\t\tif (image != null) {", "+\t\t\t\tBITMAP bm = new BITMAP();", "+\t\t\t\tOS.GetObject(image.handle, BITMAP.sizeof, bm);", "+\t\t\t\twidth = bm.bmWidth;", "+\t\t\t} else {", "+\t\t\t\tint /*long*/ hwnd = OS.IsWinCE ? data.hwnd : OS.WindowFromDC(handle);", "+\t\t\t\tif (hwnd != 0) {", "+\t\t\t\t\tRECT rect = new RECT();", "+\t\t\t\t\tOS.GetClientRect(hwnd, rect);", "+\t\t\t\t\twidth = rect.right - rect.left;", "+\t\t\t\t} else {", "+\t\t\t\t\tint /*long*/ hBitmap = OS.GetCurrentObject(handle, OS.OBJ_BITMAP);", "+\t\t\t\t\tBITMAP bm = new BITMAP();", "+\t\t\t\t\tOS.GetObject(hBitmap, BITMAP.sizeof, bm);", "+\t\t\t\t\twidth = bm.bmWidth;", "+\t\t\t\t}", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "47ce6296e180e881a7360a44d027604a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "e2c2a7a74542ff409e980bc4b2fbaa161b141be9", "commitAfterChange": "06b0b6bb52d1fd2fb63bfd651ac4ecf3e0f11d0d", "methodNumberBeforeChange": 37, "methodNumberAfterChange": 37, "signatureBeforeChange": " public void remove (int index)", "signatureAfterChange": " public void remove (int index)", "diff": ["+\tTCHAR buffer = null;", "+\tif ((style & SWT.H_SCROLL) != 0) {", "+\t\tint length = OS.SendMessage (handle, OS.CB_GETLBTEXTLEN, index, 0);", "+\t\tif (length == OS.CB_ERR) error (SWT.ERROR_ITEM_NOT_REMOVED);", "+\t\tbuffer = new TCHAR (getCodePage (), length + 1);", "+\t\tint result = OS.SendMessage (handle, OS.CB_GETLBTEXT, index, buffer);", "+\t\tif (result == OS.CB_ERR) error (SWT.ERROR_ITEM_NOT_REMOVED);", "+\t}", "+\tif ((style & SWT.H_SCROLL) != 0) setScrollWidth (buffer, true);", "-\t\t/*", "-\t\t* It is possible (but unlikely), that application", "-\t\t* code could have disposed the widget in the modify", "-\t\t* event.  If this happens, just return.", "-\t\t*/"]}], "num": 8030}