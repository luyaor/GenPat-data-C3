{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "54ae7da1a89d6a58925f1f3b94d1d0b3", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b5dba114fe6820752a3205d62935f804", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/MenuItem.java", "commitBeforeChange": "b0693a12063ab35c44f34d89fd60d2e89368a94f", "commitAfterChange": "e9fff9da841962ff350a910fb52f584e5996a4f4", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": "\r public void setMenu (Menu menu)", "signatureAfterChange": "\r public void setMenu (Menu menu)", "diff": ["-\tinfo.fMask = OS.MIIM_ID;\r", "+\tinfo.fMask = OS.MIIM_DATA;\r", "-\t\tif (info.wID == id) break;\r", "+\t\tif (info.dwItemData == id) break;\r", "-\tif (info.wID != id) return;\r", "+\tif (info.dwItemData != id) return;\r", "-\tinfo.fMask = OS.MIIM_STATE | OS.MIIM_ID | OS.MIIM_TYPE;\r", "+\tinfo.fMask = OS.MIIM_STATE | OS.MIIM_ID | OS.MIIM_TYPE | OS.MIIM_DATA;\r", "-\t\tsuccess = OS.InsertMenu (hMenu, index, OS.MF_BYPOSITION, id, null); \r", "-\t\tif (success) success = OS.SetMenuItemInfo (hMenu, index, true, info);\r", "+\t\t/*\r", "+\t\t* Feature in WinCE.  InsertMenuItem is not available. SetMenuItemInfo\r", "+\t\t* cannot set the menu item state and submenu. The fix is to use InsertMenu\r", "+\t\t* to set those, and SetMenuItemInfo to set the application data field.\r", "+\t\t*/\r", "+\t\tint uIDNewItem = id;\r", "+\t\tint uFlags = OS.MF_BYPOSITION;\r", "+\t\tif (menu != null) {\r", "+\t\t\tuFlags |= OS.MF_POPUP;\r", "+\t\t\tuIDNewItem = menu.handle;\r", "+\t\t}\r", "+\t\tTCHAR lpNewItem = new TCHAR (0, \"\", true);\r", "+\t\tsuccess = OS.InsertMenu (hMenu, index, uFlags, uIDNewItem, lpNewItem);\r", "+\t\tif (success) {\r", "+\t\t\tinfo.fMask = OS.MIIM_DATA | OS.MIIM_TYPE;\r", "+\t\t\tsuccess = OS.SetMenuItemInfo (hMenu, index, true, info);\r", "+\t\t\tif ((info.fState & (OS.MFS_DISABLED | OS.MFS_GRAYED)) != 0) {\r", "+\t\t\t\tOS.EnableMenuItem (hMenu, index, OS.MF_BYPOSITION | OS.MF_GRAYED);\r", "+\t\t\t}\r", "+\t\t\tif ((info.fState & OS.MFS_CHECKED) != 0) {\r", "+\t\t\t\tOS.CheckMenuItem (hMenu, index, OS.MF_BYPOSITION | OS.MF_CHECKED);\r", "+\t\t\t}\r", "+\t\t}\r", "+\t\t\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "741ae4d622cad46797b326469e36f187", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "c8522e2d7e30f6771de8dc5e9fca4b9c082b5e96", "commitAfterChange": "af56e93a85692eb8e00ee0df13af289c24a66ffe", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "\r public ImageData getImageData()", "signatureAfterChange": "\r public ImageData getImageData()", "diff": ["-\t\t\tif (isDib) {\r", "-\t\t\t\tif (depth <= 8) {\r", "-\t\t\t\t\tRGB[] rgbs = new RGB[numColors];\r", "+\t\t\tif (depth <= 8) {\r", "+\t\t\t\tRGB[] rgbs = new RGB[numColors];\r", "+\t\t\t\tif (isDib) {\r", "-\t\t\t\t\tpalette = new PaletteData(rgbs);\r", "-\t\t\t\t} else if (depth == 16) {\r", "-\t\t\t\t\tpalette = new PaletteData(0x7C00, 0x3E0, 0x1F);\r", "-\t\t\t\t} else if (depth == 24) {\r", "-\t\t\t\t\tpalette = new PaletteData(0xFF, 0xFF00, 0xFF0000);\r", "-\t\t\t\t} else if (depth == 32) {\r", "-\t\t\t\t\tpalette = new PaletteData(0xFF00, 0xFF0000, 0xFF000000);\r", "-\t\t\t\t\tSWT.error(SWT.ERROR_UNSUPPORTED_DEPTH);\r", "-\t\t\t\t}\r", "-\t\t\t} else {\r", "-\t\t\t\tif (depth <= 8) {\r", "-\t\t\t\t\tRGB[] rgbs = new RGB[numColors];\r", "-\t\t\t\t\tpalette = new PaletteData(rgbs);\r", "-\t\t\t\t} else if (depth == 16) {\r", "-\t\t\t\t\tpalette = new PaletteData(0x7C00, 0x3E0, 0x1F);\r", "-\t\t\t\t} else if (depth == 24) {\r", "-\t\t\t\t\tpalette = new PaletteData(0xFF, 0xFF00, 0xFF0000);\r", "-\t\t\t\t} else if (depth == 32) {\r", "-\t\t\t\t\tpalette = new PaletteData(0xFF00, 0xFF0000, 0xFF000000);\r", "-\t\t\t\t} else {\r", "-\t\t\t\t\tSWT.error(SWT.ERROR_UNSUPPORTED_DEPTH);\r", "+\t\t\t\tpalette = new PaletteData(rgbs);\r", "+\t\t\t} else if (depth == 16) {\r", "+\t\t\t\tpalette = new PaletteData(0x7C00, 0x3E0, 0x1F);\r", "+\t\t\t} else if (depth == 24) {\r", "+\t\t\t\tpalette = new PaletteData(0xFF, 0xFF00, 0xFF0000);\r", "+\t\t\t} else if (depth == 32) {\r", "+\t\t\t\tpalette = new PaletteData(0xFF00, 0xFF0000, 0xFF000000);\r", "+\t\t\t} else {\r", "+\t\t\t\tSWT.error(SWT.ERROR_UNSUPPORTED_DEPTH);\r"]}], "num": 11705}