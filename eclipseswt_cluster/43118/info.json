{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "402f71e502d0c122ef1f914ec37cfd18", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "28fa3399539057ff03e641a226751b7c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/ImageList.java", "commitBeforeChange": "bda40c2136397091c0c6b06cbdfc4de3549df904", "commitAfterChange": "fd30b29ee0463456ac143e05fc57036f9d927816", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "\r \r public int add (Image image)", "signatureAfterChange": "\r \r public int add (Image image)", "diff": ["-\tint hImage = image.handle;\r", "+\tif (count == 0) {\r", "+\t\tRectangle rect = image.getBounds();\r", "+\t\tcx [0] = rect.width;\r", "+\t\tcy [0] = rect.height;\r", "+\t\tOS.ImageList_SetIconSize (handle, cx [0], cy [0]);\r", "+\t}\r", "+\tint hImage = image.handle;\r", "-\t\t\tif (count == 0) {\r", "-\t\t\t\tBITMAP bm = new BITMAP ();\r", "-\t\t\t\tOS.GetObject (hImage, BITMAP.sizeof, bm);\r", "-\t\t\t\tcx [0] = bm.bmWidth; cy [0] = bm.bmHeight;\r", "-\t\t\t\tOS.ImageList_SetIconSize (handle, cx [0], cy [0]);\r", "-\t\t\t}\r", "-\t\t\tif (count == 0) {\r", "-\t\t\t\tBITMAP bm = new BITMAP ();\r", "-\t\t\t\tICONINFO info = new ICONINFO ();\r", "-\t\t\t\tif (OS.IsWinCE) SWT.error (SWT.ERROR_NOT_IMPLEMENTED);\r", "-\t\t\t\tOS.GetIconInfo (hImage, info);\r", "-\t\t\t\tint hBitmap = info.hbmColor;\r", "-\t\t\t\tif (hBitmap == 0) hBitmap = info.hbmMask;\r", "-\t\t\t\tOS.GetObject (hBitmap, BITMAP.sizeof, bm);\r", "-\t\t\t\tif (hBitmap == info.hbmMask) bm.bmHeight /= 2;\r", "-\t\t\t\tif (info.hbmColor != 0) OS.DeleteObject (info.hbmColor);\r", "-\t\t\t\tif (info.hbmMask != 0) OS.DeleteObject (info.hbmMask);\r", "-\t\t\t\tcx [0] = bm.bmWidth;  cy [0] = bm.bmHeight;\r", "-\t\t\t\tOS.ImageList_SetIconSize (handle, cx [0], cy [0]);\r", "-\t\t\t}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d2532e82492672a9ba19ec846fa0116a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT AWT/win32/org/eclipse/swt/awt/SWT_AWT.java", "commitBeforeChange": "e55f2630725c3df62f871346bb3afb6a3b687b35", "commitAfterChange": "d684687af0848c9d552fe81b9a22e85d41d4d8d3", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": " public static Frame new_Frame (final Composite parent)", "signatureAfterChange": " public static Frame new_Frame (final Composite parent)", "diff": ["-\tfinal int handle = parent.handle;\t", "-\tfinal Frame[] result = new Frame[1];", "-\tfinal Throwable[] exception = new Throwable[1];", "-\tRunnable runnable = new Runnable () {", "-\t\tpublic void run () {", "-\t\t\ttry {", "-\t\t\t\t/*", "-\t\t\t\t * Some JREs have implemented the embedded frame constructor to take an integer", "-\t\t\t\t * and other JREs take a long.  To handle this binary incompatability, use", "-\t\t\t\t * reflection to create the embedded frame.", "-\t\t\t\t */", "-\t\t\t\tClass clazz = null;", "-\t\t\t\ttry {", "-\t\t\t\t\tString className = embeddedFrameClass != null ? embeddedFrameClass : \"sun.awt.windows.WEmbeddedFrame\";", "-\t\t\t\t\tclazz = Class.forName(className);", "-\t\t\t\t} catch (Throwable e) {", "-\t\t\t\t\texception[0] = e;", "-\t\t\t\t\treturn;", "-\t\t\t\t}", "-\t\t\t\tConstructor constructor = null;", "-\t\t\t\ttry {", "-\t\t\t\t\tconstructor = clazz.getConstructor (new Class [] {int.class});", "-\t\t\t\t} catch (Throwable e1) {", "-\t\t\t\t\ttry {", "-\t\t\t\t\t\tconstructor = clazz.getConstructor (new Class [] {long.class});", "-\t\t\t\t\t} catch (Throwable e2) {", "-\t\t\t\t\t\texception[0] = e2;", "-\t\t\t\t\t\treturn;", "-\t\t\t\t\t}", "-\t\t\t\t}", "-\t\t\t\tinitializeSwing ();", "-\t\t\t\tObject value = null;", "-\t\t\t\ttry {", "-\t\t\t\t\tvalue = constructor.newInstance (new Object [] {new Integer (handle)});", "-\t\t\t\t} catch (Throwable e) {", "-\t\t\t\t\texception[0] = e;", "-\t\t\t\t\treturn;", "-\t\t\t\t}", "-\t\t\t\tfinal Frame frame = (Frame) value;", "-\t\t\t\t/*", "-\t\t\t\t * This is necessary to make lightweight components", "-\t\t\t\t * directly added to the frame receive mouse events", "-\t\t\t\t * properly.", "-\t\t\t\t */", "-\t\t\t\tframe.addNotify();", "-\t\t\t\tresult[0] = frame;", "-\t\t\t} finally {", "-\t\t\t\tsynchronized(result) {", "-\t\t\t\t\tresult.notify();", "-\t\t\t\t}", "-\t\t\t}", "-\t\t}", "-\t};", "-\tif (EventQueue.isDispatchThread()) {", "-\t\trunnable.run();", "-\t} else {", "-\t\tEventQueue.invokeLater(runnable);", "-\t\tboolean interrupted = false;", "-\t\tMSG msg = new MSG ();", "-\t\tint flags = OS.PM_NOREMOVE | OS.PM_NOYIELD | OS.PM_QS_SENDMESSAGE;", "-\t\twhile (result[0] == null && exception[0] == null) {", "-\t\t\tOS.PeekMessage (msg, 0, 0, 0, flags);", "-\t\t\ttry {", "-\t\t\t\tsynchronized (result) {", "-\t\t\t\t\tresult.wait(50);", "-\t\t\t\t}", "-\t\t\t} catch (InterruptedException e) {", "-\t\t\t\tinterrupted = true;", "-\t\t\t}", "-\t\t}", "-\t\tif (interrupted) {", "-\t\t\tCompatibility.interrupt();", "+\tint handle = parent.handle;\t", "+\t/*", "+\t * Some JREs have implemented the embedded frame constructor to take an integer", "+\t * and other JREs take a long.  To handle this binary incompatability, use", "+\t * reflection to create the embedded frame.", "+\t */", "+\tClass clazz = null;", "+\ttry {", "+\t\tString className = embeddedFrameClass != null ? embeddedFrameClass : \"sun.awt.windows.WEmbeddedFrame\";", "+\t\tclazz = Class.forName(className);", "+\t} catch (Throwable e) {", "+\t\tSWT.error (SWT.ERROR_NOT_IMPLEMENTED, e);", "+\t}", "+\tConstructor constructor = null;", "+\ttry {", "+\t\tconstructor = clazz.getConstructor (new Class [] {int.class});", "+\t} catch (Throwable e1) {", "+\t\ttry {", "+\t\t\tconstructor = clazz.getConstructor (new Class [] {long.class});", "+\t\t} catch (Throwable e2) {", "+\t\t\tSWT.error (SWT.ERROR_NOT_IMPLEMENTED, e2);", "-\tif (exception[0] != null) {", "-\t\tSWT.error (SWT.ERROR_NOT_IMPLEMENTED, exception[0]);\t", "+\tinitializeSwing ();", "+\tObject value = null;", "+\ttry {", "+\t\tvalue = constructor.newInstance (new Object [] {new Integer (handle)});", "+\t} catch (Throwable e) {", "+\t\tSWT.error (SWT.ERROR_NOT_IMPLEMENTED, e);", "-\tfinal Frame frame = result[0];\t", "+\tfinal Frame frame = (Frame) value;", "+\t/*", "+\t * This is necessary to make lightweight components", "+\t * directly added to the frame receive mouse events", "+\t * properly.", "+\t */", "+\tframe.addNotify();", "+"]}], "num": 43118}