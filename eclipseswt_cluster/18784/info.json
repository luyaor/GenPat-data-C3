{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9b0fef0ec6c8cc194325e1fa92d97ad2", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "58b11ac4bf2f36db03169cccdad1c353", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "aed6e59e74e434739d91e8a347d1d7acad6768b6", "commitAfterChange": "d412b6257ae0dc29106f460bb8ad57dae5af6e21", "methodNumberBeforeChange": 40, "methodNumberAfterChange": 40, "signatureBeforeChange": " public FontMetrics getFontMetrics()", "signatureAfterChange": " public FontMetrics getFontMetrics()", "diff": ["-\tfm.ascent = OS.pango_font_metrics_get_ascent(metrics);", "-\tfm.descent = OS.pango_font_metrics_get_descent(metrics);", "-\tfm.averageCharWidth = OS.pango_font_metrics_get_approximate_char_width(metrics);", "-\tfm.height = fm.ascent + fm.descent;", "+\tint scale = OS.PANGO_SCALE();", "+\tfm.ascent = OS.pango_font_metrics_get_ascent(metrics) / scale;", "+\tfm.descent = OS.pango_font_metrics_get_descent(metrics) / scale;", "+\tfm.averageCharWidth = OS.pango_font_metrics_get_approximate_char_width(metrics) / scale;", "+\t//TEMPORARY CODE - why do we have to subtract instead of add???", "+\tfm.height = fm.ascent - fm.descent;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d832fc340428f36459edc5f50137218c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "c738133a2fdbe3d60fd9dfabbfd9e737153e1aa5", "commitAfterChange": "c9992cb98fd2a837c866ff6f32642b9e42588c7e", "methodNumberBeforeChange": 40, "methodNumberAfterChange": 40, "signatureBeforeChange": " public FontMetrics getFontMetrics()", "signatureAfterChange": " public FontMetrics getFontMetrics()", "diff": ["-//\tint fontHandle = _getGCFont();", "-//\tif (fontHandle==0) {", "-//\t\tSWT.error(SWT.ERROR_UNSPECIFIED);", "-//\t}", "-//\treturn FontMetrics.gtk_new(fontHandle);", "-\treturn null;", "+\tint context = data.context;", "+\tint font = OS.pango_context_get_font_description(context);", "+\tint metrics = OS.pango_context_get_metrics(context, font, null);", "+\tFontMetrics fm = new FontMetrics();", "+\tfm.ascent = OS.pango_font_metrics_get_ascent(metrics);", "+\tfm.descent = OS.pango_font_metrics_get_descent(metrics);", "+\tfm.averageCharWidth = OS.pango_font_metrics_get_approximate_char_width(metrics);", "+\tfm.height = fm.ascent + fm.descent;", "+\treturn fm;"]}], "num": 18784}