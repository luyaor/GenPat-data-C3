{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "43701a546f3f3427586bb07c22d0261e", "detectedBy": ["DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d700f8ac09f91d3977894e24baf2935c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "fec0d691465789ed5f8cc6a20256c17056f52d4b", "commitAfterChange": "9d697938dc497ce745bc08c56805f2f48704f2bf", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "  LRESULT CDDS_ITEMPOSTPAINT (int wParam, int lParam)", "signatureAfterChange": "  LRESULT CDDS_ITEMPOSTPAINT (int wParam, int lParam)", "diff": ["-\tif (findImageControl () != null || ignoreDrawSelection) {", "+\tif ((style & SWT.FULL_SELECTION) != 0 || findImageControl () != null || ignoreDrawSelection) {", "+\t\tif (EXPLORER_THEME) {", "+\t\t\tif (!OS.IsWinCE && OS.WIN32_VERSION >= OS.VERSION (6, 0)) {", "+\t\t\t\tint bits = OS.GetWindowLong (handle, OS.GWL_STYLE);", "+\t\t\t\tif ((bits & OS.TVS_TRACKSELECT) != 0) {", "+\t\t\t\t\tOS.SetTextColor (hDC, getForegroundPixel ());", "+\t\t\t\t}", "+\t\t\t}", "+\t\t}", "-\t\t\tRECT rect = new RECT ();", "-\t\t\t\tOS.SetRect (rect, width, nmcd.top, nmcd.right, nmcd.bottom);", "-\t\t\t\t\tfillBackground (hDC, OS.GetBkColor (hDC), rect);", "+\t\t\t\t\tboolean drawBackground = true;", "+\t\t\t\t\tRECT pClipRect = new RECT ();", "+\t\t\t\t\tOS.SetRect (pClipRect, width, nmcd.top, nmcd.right, nmcd.bottom);", "+\t\t\t\t\tif (EXPLORER_THEME) {", "+\t\t\t\t\t\tif (!OS.IsWinCE && OS.WIN32_VERSION >= OS.VERSION (6, 0)) {", "+\t\t\t\t\t\t\tboolean hot = (nmcd.uItemState & OS.CDIS_HOT) != 0;", "+\t\t\t\t\t\t\tif (selected || hot) {", "+\t\t\t\t\t\t\t\tRECT pRect = new RECT ();", "+\t\t\t\t\t\t\t\tOS.SetRect (pRect, nmcd.left, nmcd.top, nmcd.right, nmcd.bottom);", "+\t\t\t\t\t\t\t\tif (count > 0 && hwndHeader != 0) {", "+\t\t\t\t\t\t\t\t\tint totalWidth = 0;", "+\t\t\t\t\t\t\t\t\tHDITEM hdItem = new HDITEM ();", "+\t\t\t\t\t\t\t\t\thdItem.mask = OS.HDI_WIDTH;", "+\t\t\t\t\t\t\t\t\tfor (int j=0; j<count; j++) {", "+\t\t\t\t\t\t\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEM, j, hdItem);", "+\t\t\t\t\t\t\t\t\t\ttotalWidth += hdItem.cxy;", "+\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t\tif (totalWidth > clientRect.right - clientRect.left) {", "+\t\t\t\t\t\t\t\t\t\tpRect.left = 0;", "+\t\t\t\t\t\t\t\t\t\tpRect.right = totalWidth;", "+\t\t\t\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\t\t\t\tpRect.left = clientRect.left;", "+\t\t\t\t\t\t\t\t\t\tpRect.right = clientRect.right;", "+\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\tdrawBackground = false;", "+\t\t\t\t\t\t\t\tint hTheme = OS.OpenThemeData (handle, Display.TREEVIEW);", "+\t\t\t\t\t\t\t\tint iStateId = selected ? OS.TREIS_SELECTED : OS.TREIS_HOT;", "+\t\t\t\t\t\t\t\tif (OS.GetFocus () != handle && selected && !hot) iStateId = OS.TREIS_SELECTEDNOTFOCUS;", "+\t\t\t\t\t\t\t\tOS.DrawThemeBackground (hTheme, hDC, OS.TVP_TREEITEM, iStateId, pRect, pClipRect);\t", "+\t\t\t\t\t\t\t\tOS.CloseThemeData (hTheme);", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t\tif (drawBackground) fillBackground (hDC, OS.GetBkColor (hDC), pClipRect);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "581e6acae44386f3a53791057df44782", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "e2acf0eb3d1e4a8cfb30383be7df8e42f42ff87a", "commitAfterChange": "acdaa6aa74d39c805c5a24d9e1cee0aeb26c4bb8", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "  LRESULT CDDS_ITEMPOSTPAINT (NMTVCUSTOMDRAW nmcd, int wParam, int lParam)", "signatureAfterChange": "  LRESULT CDDS_ITEMPOSTPAINT (NMTVCUSTOMDRAW nmcd, int wParam, int lParam)", "diff": ["+\tboolean hot = explorerTheme && (nmcd.uItemState & OS.CDIS_HOT) != 0;", "-\t\t\t\tOS.SetTextColor (hDC, getForegroundPixel ());", "+\t\t\t\tif ((style & SWT.FULL_SELECTION) != 0 && (selected || hot)) {", "+\t\t\t\t\tOS.SetTextColor (hDC, OS.GetSysColor (OS.COLOR_WINDOWTEXT));", "+\t\t\t\t} else {", "+\t\t\t\t\tOS.SetTextColor (hDC, getForegroundPixel ());", "+\t\t\t\t}", "-\t\t\t\tboolean hot = explorerTheme && (nmcd.uItemState & OS.CDIS_HOT) != 0;", "-\t\t\t\t\t\t\tif (explorerTheme) {", "-\t\t\t\t\t\t\t\titemRect.left -= EXPLORER_EXTRA;", "-\t\t\t\t\t\t\t\titemRect.right += EXPLORER_EXTRA;", "-\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\titemRect.left -= EXPLORER_EXTRA;", "+\t\t\t\t\t\t\titemRect.right += EXPLORER_EXTRA;", "+\t\t\t\t\t\t\tpClipRect.right = itemRect.right + 1;", "-\t\t\t\t\tboolean hot = explorerTheme && (nmcd.uItemState & OS.CDIS_HOT) != 0;", "+\t\t\t\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\t\t\t\tRECT pRect = new RECT ();", "+\t\t\t\t\t\t\t\t\t\tOS.SetRect (pRect, nmcd.left, nmcd.top, nmcd.right, nmcd.bottom);", "+\t\t\t\t\t\t\t\t\t\tif (count > 0 && hwndHeader != 0) {", "+\t\t\t\t\t\t\t\t\t\t\tint totalWidth = 0;", "+\t\t\t\t\t\t\t\t\t\t\tHDITEM hdItem = new HDITEM ();", "+\t\t\t\t\t\t\t\t\t\t\thdItem.mask = OS.HDI_WIDTH;", "+\t\t\t\t\t\t\t\t\t\t\tfor (int j=0; j<count; j++) {", "+\t\t\t\t\t\t\t\t\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEM, j, hdItem);", "+\t\t\t\t\t\t\t\t\t\t\t\ttotalWidth += hdItem.cxy;", "+\t\t\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t\t\t\tif (totalWidth > clientRect.right - clientRect.left) {", "+\t\t\t\t\t\t\t\t\t\t\t\tpRect.left = 0;", "+\t\t\t\t\t\t\t\t\t\t\t\tpRect.right = totalWidth;", "+\t\t\t\t\t\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\t\t\t\t\t\tpRect.left = clientRect.left;", "+\t\t\t\t\t\t\t\t\t\t\t\tpRect.right = clientRect.right;", "+\t\t\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t\t\t\tif (index == count - 1) backgroundRect.right = pRect.right;", "+\t\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t\t\tint hTheme = OS.OpenThemeData (handle, Display.TREEVIEW);", "+\t\t\t\t\t\t\t\t\t\tint iStateId = selected ? OS.TREIS_SELECTED : OS.TREIS_HOT;", "+\t\t\t\t\t\t\t\t\t\tif (OS.GetFocus () != handle && selected /*&& !hot*/) iStateId = OS.TREIS_SELECTEDNOTFOCUS;", "+\t\t\t\t\t\t\t\t\t\tOS.DrawThemeBackground (hTheme, hDC, OS.TVP_TREEITEM, iStateId, pRect, backgroundRect);\t", "+\t\t\t\t\t\t\t\t\t\tOS.CloseThemeData (hTheme);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "00d85b29e017f778cd63142b4be4635c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "d3d852fb4b2590731b3961d9cc84a7465bdc990c", "commitAfterChange": "696aea6756a0a7d46df771aafb6e94481b81ce87", "methodNumberBeforeChange": 79, "methodNumberAfterChange": 79, "signatureBeforeChange": "  void sendEraseItemEvent (TableItem item, NMLVCUSTOMDRAW nmcd, int lParam)", "signatureAfterChange": "  void sendEraseItemEvent (TableItem item, NMLVCUSTOMDRAW nmcd, int lParam)", "diff": ["+\tint hwndHeader = OS.SendMessage (handle, OS.LVM_GETHEADER, 0, 0);", "+\tboolean firstColumn = nmcd.iSubItem == OS.SendMessage (hwndHeader, OS.HDM_ORDERTOINDEX, 0, 0);", "+\tboolean fullText = (style & SWT.FULL_SELECTION) != 0 || !firstColumn;", "-\t\tRECT clipRect = item.getBounds (nmcd.dwItemSpec, nmcd.iSubItem, true, true, true, false, hDC);", "-\t\tint hwndHeader = OS.SendMessage (handle, OS.LVM_GETHEADER, 0, 0);", "-\t\tboolean firstColumn = nmcd.iSubItem == OS.SendMessage (hwndHeader, OS.HDM_ORDERTOINDEX, 0, 0);", "-\t\tboolean fullText = (style & SWT.FULL_SELECTION) != 0 || !firstColumn;", "-\t\tif (!ignoreDrawSelection && clrSelectionBk != -1) {", "+\t}", "+\tif (!ignoreDrawSelection && clrSelectionBk != -1) {", "+\t\tif (explorerTheme) {", "+\t\t\tboolean hot = (nmcd.uItemState & OS.CDIS_HOT) != 0;", "+\t\t\tRECT pClipRect = new RECT ();", "+\t\t\tOS.SetRect (pClipRect, nmcd.left, nmcd.top, nmcd.right, nmcd.bottom);", "+\t\t\tRECT rect = new RECT ();", "+\t\t\tOS.SetRect (rect, nmcd.left, nmcd.top, nmcd.right, nmcd.bottom);", "+\t\t\tif ((style & SWT.FULL_SELECTION) != 0) {", "+\t\t\t\tint count = OS.SendMessage (hwndHeader, OS.HDM_GETITEMCOUNT, 0, 0);", "+\t\t\t\tint index = OS.SendMessage (hwndHeader, OS.HDM_ORDERTOINDEX, count - 1, 0);", "+\t\t\t\tRECT headerRect = new RECT ();", "+\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, index, headerRect);", "+\t\t\t\tOS.MapWindowPoints (hwndHeader, handle, headerRect, 2);", "+\t\t\t\trect.left = 0;", "+\t\t\t\trect.right = headerRect.right;", "+\t\t\t\tpClipRect.left = cellRect.left;", "+\t\t\t\tpClipRect.right += 2; //grid??", "+\t\t\t} ", "+\t\t\tint hTheme = OS.OpenThemeData (handle, Display.LISTVIEW);", "+\t\t\tint iStateId = selected ? OS.LISS_SELECTED : OS.LISS_HOT;", "+\t\t\tif (OS.GetFocus () != handle && selected && !hot) iStateId = OS.LISS_SELECTEDNOTFOCUS;", "+\t\t\tOS.DrawThemeBackground (hTheme, hDC, OS.TVP_TREEITEM, iStateId, rect, pClipRect);", "+\t\t\tOS.CloseThemeData (hTheme);", "+\t\t} else {", "+\t}", "+\tif (ignoreDrawForeground) {", "+\t\tRECT clipRect = item.getBounds (nmcd.dwItemSpec, nmcd.iSubItem, true, true, true, false, hDC);"]}], "num": 13135}