{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d930b1ee042edb9358314adbdee5b179", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d44ccb3754f10060d72d1d64be15b1f9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/SashFormLayout.java", "commitBeforeChange": "b383e6c1512c0de95b0924fcc15505e3cdfbfce8", "commitAfterChange": "6e6b36fbc563223f03d0250ce8c28c328179065d", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": " protected Point computeSize(Composite composite, int wHint, int hHint, boolean flushCache)", "signatureAfterChange": " protected Point computeSize(Composite composite, int wHint, int hHint, boolean flushCache)", "diff": ["+\t// get the ratios", "+\tlong[] ratios = new long[cArray.length];", "+\tlong total = 0;", "+\tfor (int i = 0; i < cArray.length; i++) {", "+\t\tLong ratio = (Long)cArray[i].getData(SashForm.LAYOUT_RATIO);", "+\t\tif (ratio != null) {", "+\t\t\tratios[i] = ratio.longValue();", "+\t\t} else {", "+\t\t\tratios[i] = ((200 << 16) + 999) / 1000;", "+\t\t}", "+\t\ttotal += ratios[i];", "+\t}", "+\tint maxIndex = 0;", "+\tint maxValue = 0;", "-\t\t\theight += size.y;\t", "+\t\t\tif (size.y > maxValue) {", "+\t\t\t\tmaxIndex = i;", "+\t\t\t\tmaxValue = size.y;", "+\t\t\t}", "-\t\t\twidth += size.x;", "+\t\t\tif (size.x > maxValue) {", "+\t\t\t\tmaxIndex = i;", "+\t\t\t\tmaxValue = size.x;", "+\t\t\t}", "+\tif (vertical) {", "+\t\theight = (int)(total * maxValue / ratios[maxIndex]);", "+\t} else {", "+\t\twidth = (int)(total * maxValue / ratios[maxIndex]);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3260a6ce8a9b23fa11a45d5ba7c34eb3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Program/photon/org/eclipse/swt/program/Program.java", "commitBeforeChange": "8d68e19f4bda6e001e1363ed67c9cd15d0532283", "commitAfterChange": "1a364da4bc56e39627bed4944a7f24a0f474b234", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "\r public static Program [] getPrograms ()", "signatureAfterChange": "\r public static Program [] getPrograms ()", "diff": ["-\tProgram [] programs = new Program [1024];\r", "-\tbyte [] key = new byte [1024];\r", "-\tint index = 0, count = 0;\r", "-//\twhile (OS.RegEnumKey (OS.HKEY_CLASSES_ROOT, index, key, key.length) != OS.ERROR_NO_MORE_ITEMS) {\r", "-//\t\tProgram program = getProgram (key);\r", "-//\t\tif (program != null) {\r", "-//\t\t\tif (count == programs.length) {\r", "-//\t\t\t\tProgram [] newPrograms = new Program [programs.length + 1024];\r", "-//\t\t\t\tSystem.arraycopy (programs, 0, newPrograms, 0, programs.length);\r", "-//\t\t\t\tprograms = newPrograms;\r", "-//\t\t\t}\r", "-//\t\t\tprograms [count++] = program;\r", "-//\t\t}\r", "-//\t\tindex++;\r", "-//\t}\r", "+\tString[][] table = loadAssociationTable ();\r", "+\tif (table == null) return new Program [0];\r", "+\tint count = 0;\r", "+\tProgram [] programs = new Program [50];\r", "+\tfor (int i = 0; i < table.length; i++) {\r", "+\t\tString [] entry = table [i];\r", "+\t\tif (entry == null) break;\r", "+\t\tString [] extensions = expandExtensions (entry [0]);\r", "+\t\tfor (int j = 0; j < extensions.length; j++) {", "+\t\t\tString extension = extensions[j];\r", "+\t\t\tif (extension == null) break;\r", "+\t\t\tProgram program = new Program ();\r", "+\t\t\tprogram.extension = extension;\r", "+\t\t\tprogram.command = entry [1];\r", "+\t\t\tint index;\r", "+\t\t\tString name = entry [1];\r", "+\t\t\tif ((index = name.indexOf(' ')) != -1) {\r", "+\t\t\t\tname = name.substring (0, index);\r", "+\t\t\t}\r", "+\t\t\tprogram.name = name;\r", "+\t\t\tif (count \t== programs.length) {\r", "+\t\t\t\tProgram [] newPrograms = new Program [count + 50];\r", "+\t\t\t\tSystem.arraycopy (programs, 0, newPrograms, 0, count);\r", "+\t\t\t\tprograms = newPrograms;\r", "+\t\t\t}\r", "+\t\t\tprograms [count++] = program;", "+\t\t}\r", "+\t}\r"]}], "num": 14093}