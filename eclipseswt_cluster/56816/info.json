{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2aa89fe49d62e5f344dedbb69764e944", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b60ea2f5a0afdd1c32ca24c8857ebbca", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "ef75fb29204574685795f7fe514650916d64d963", "commitAfterChange": "70193a6dcb048607d3512f456493376d1c1831ec", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": " void computeRuns (GC gc)", "signatureAfterChange": " void computeRuns (GC gc)", "diff": ["-\t\tif (run.length == 1) {", "-\t\t\tchar ch = segmentsText.charAt(run.start);", "-\t\t\tswitch (ch) {", "-\t\t\t\tcase '\\t': {", "-\t\t\t\t\trun.tab = true;", "-\t\t\t\t\tif (tabs == null) break;", "-\t\t\t\t\tint tabsLength = tabs.length, j;", "-\t\t\t\t\tfor (j = 0; j < tabsLength; j++) {", "-\t\t\t\t\t\tif (tabs[j] > lineWidth) {", "-\t\t\t\t\t\t\trun.width = tabs[j] - lineWidth;", "-\t\t\t\t\t\t\tbreak;", "-\t\t\t\t\t\t}", "-\t\t\t\t\t}", "-\t\t\t\t\tif (j == tabsLength) {", "-\t\t\t\t\t\tint tabX = tabs[tabsLength-1];", "-\t\t\t\t\t\tint lastTabWidth = tabsLength > 1 ? tabs[tabsLength-1] - tabs[tabsLength-2] : tabs[0];", "-\t\t\t\t\t\tif (lastTabWidth > 0) {", "-\t\t\t\t\t\t\twhile (tabX <= lineWidth) tabX += lastTabWidth;", "-\t\t\t\t\t\t\trun.width = tabX - lineWidth;", "-\t\t\t\t\t\t}", "-\t\t\t\t\t}", "+\t\tif (tabs != null && run.tab) {", "+\t\t\tint tabsLength = tabs.length, j;", "+\t\t\tfor (j = 0; j < tabsLength; j++) {", "+\t\t\t\tif (tabs[j] > lineWidth) {", "+\t\t\t\t\trun.width = tabs[j] - lineWidth;", "-\t\t\t\tcase '\\n': {", "-\t\t\t\t\trun.lineBreak = true;", "-\t\t\t\t\tbreak;", "-\t\t\t\t}", "-\t\t\t\tcase '\\r': {", "-\t\t\t\t\trun.lineBreak = true;", "-\t\t\t\t\tStyleItem next = allRuns[i + 1];", "-\t\t\t\t\tif (next.length != 0 && segmentsText.charAt(next.start) == '\\n') {", "-\t\t\t\t\t\trun.length += 1;", "-\t\t\t\t\t\tnext.free();", "-\t\t\t\t\t\tStyleItem[] newAllRuns = new StyleItem[allRuns.length - 1];", "-\t\t\t\t\t\tSystem.arraycopy(allRuns, 0, newAllRuns, 0, i + 1);", "-\t\t\t\t\t\tSystem.arraycopy(allRuns, i + 2, newAllRuns, i + 1, allRuns.length - i - 2);", "-\t\t\t\t\t\tallRuns = newAllRuns;", "-\t\t\t\t\t}", "-\t\t\t\t\tbreak;", "+\t\t\t}", "+\t\t\tif (j == tabsLength) {", "+\t\t\t\tint tabX = tabs[tabsLength-1];", "+\t\t\t\tint lastTabWidth = tabsLength > 1 ? tabs[tabsLength-1] - tabs[tabsLength-2] : tabs[0];", "+\t\t\t\tif (lastTabWidth > 0) {", "+\t\t\t\t\twhile (tabX <= lineWidth) tabX += lastTabWidth;", "+\t\t\t\t\trun.width = tabX - lineWidth;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "484f4a367a8fb37281a3865324da98d8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/gtk/org/eclipse/swt/dnd/Clipboard.java", "commitBeforeChange": "7ffe87962046d735f644913e9a196819a8c97052", "commitAfterChange": "8de03a68a55b2a23bdf2a3ae193340326ee0388e", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "  private  int[] _getAvailableTypes()", "signatureAfterChange": "  private  int[] getAvailablePrimaryTypes()", "diff": ["-private  int[] _getAvailableTypes() {", "+private  int[] getAvailablePrimaryTypes() {", "-\t// first try the primary clipboard", "-\t\t\tif (gtkSelectionData.length == 0) return types;", "-\t\t\ttypes = new int[gtkSelectionData.length * 8 / gtkSelectionData.format];", "-\t\t\tOS.memmove(types, gtkSelectionData.data, gtkSelectionData.length);", "+\t\t\tif (gtkSelectionData.length != 0) {", "+\t\t\t\ttypes = new int[gtkSelectionData.length * 8 / gtkSelectionData.format];", "+\t\t\t\tOS.memmove(types, gtkSelectionData.data, gtkSelectionData.length);", "+\t\t\t}", "-\t// next try the selection clipboard", "-\tselection_data  = gtk_clipboard_wait_for_contents(GTKCLIPBOARD, TARGET);", "+\treturn types;", "+}", "-\t\t\tif (gtkSelectionData.length == 0) return types;", "-\t\t\tint[] temp = new int[gtkSelectionData.length * 8 / gtkSelectionData.format];", "-\t\t\tOS.memmove(temp, gtkSelectionData.data, gtkSelectionData.length);", "-\t\t\tint[] newTypes = new int[types.length + temp.length];", "-\t\t\tSystem.arraycopy(types, 0, newTypes, 0, types.length);", "-\t\t\tSystem.arraycopy(temp, 0, newTypes, types.length, temp.length);", "-\t\t\ttypes = newTypes;"]}], "num": 56816}