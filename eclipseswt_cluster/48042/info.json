{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3f5159afc5fc8b5ce5b5eacabb49b20e", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "83816846bc4cb462ced82ef57debc103", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "6a42d586440e5a634f2989a46d19ac6f8214d9d6", "commitAfterChange": "475110f8cb2fad975e3b958e7f0a5c8a0c59f010", "methodNumberBeforeChange": 128, "methodNumberAfterChange": 128, "signatureBeforeChange": "  char [] sendIMKeyEvent (int type, GdkEventKey keyEvent, char  [] chars)", "signatureAfterChange": "  char [] sendIMKeyEvent (int type, GdkEventKey keyEvent, char  [] chars)", "diff": ["-\tint index = 0, count = 0;", "+\tint index = 0, count = 0, stateMask = 0, time = 0;", "+\tif (keyEvent != null) {", "+\t\tstateMask = keyEvent.state;", "+\t\ttime = keyEvent.time;", "+\t} else {", "+\t\tint [] state = new int [1];", "+\t\tif (OS.gtk_get_current_event_state (state)) {", "+\t\t\tstateMask = state [0];", "+\t\t}", "+\t\ttime = OS.gtk_get_current_event_time ();", "+\t}", "-\t\tif (keyEvent != null) {", "-\t\t\tevent.time = keyEvent.time;", "-\t\t\tsetInputState (event, keyEvent.state);", "-\t\t}", "+\t\tsetInputState (event, stateMask);", "+\t\tevent.time = time;", "-\t\t// widget could be disposed at this point"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ddfff99093a11be901f6a8ffc2b23009", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "93fd0370557bcc56ce0fe252fed4dbac61b5402a", "commitAfterChange": "515b6a6db322905b71fb5f602fcdfe3210db4432", "methodNumberBeforeChange": 129, "methodNumberAfterChange": 129, "signatureBeforeChange": "  char [] sendIMKeyEvent (int type, GdkEventKey keyEvent, char  [] chars)", "signatureAfterChange": "  char [] sendIMKeyEvent (int type, GdkEventKey keyEvent, char  [] chars)", "diff": ["-\tint index = 0, count = 0, stateMask = 0, time = 0;", "-\tif (keyEvent != null) {", "-\t\tstateMask = keyEvent.state;", "-\t\ttime = keyEvent.time;", "-\t} else {", "-\t\tint [] state = new int [1];", "-\t\tif (OS.gtk_get_current_event_state (state)) {", "-\t\t\tstateMask = state [0];", "+\tint index = 0, count = 0;", "+\tif (keyEvent == null) {", "+\t\tint ptr = OS.gtk_get_current_event ();", "+\t\tif (ptr != 0) {", "+\t\t\tkeyEvent = new GdkEventKey ();", "+\t\t\tOS.memmove (keyEvent, ptr, GdkEventKey.sizeof);", "+\t\t\tOS.gdk_event_free (ptr);", "+\t\t\tswitch (keyEvent.type) {", "+\t\t\t\tcase OS.GDK_KEY_PRESS:", "+\t\t\t\tcase OS.GDK_KEY_RELEASE: break;", "+\t\t\t\tdefault: keyEvent = null; break;", "+\t\t\t}", "-\t\ttime = OS.gtk_get_current_event_time ();", "+\t\tif (keyEvent == null) {", "+\t\t\tint [] state = new int [1];", "+\t\t\tOS.gtk_get_current_event_state (state);", "+\t\t\tsetInputState (event, state [0]);", "+\t\t\tevent.time = OS.gtk_get_current_event_time();", "+\t\t} else {", "+\t\t\tsetKeyState (event, keyEvent);", "+\t\t\tevent.time = keyEvent.time;", "+\t\t}", "-\t\tsetInputState (event, stateMask);", "-\t\tevent.time = time;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fa61075c633239809b0935cf0b6d0c64", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "ca61b834d1fe41e9ab22bc5da0c47a0e76e3922e", "commitAfterChange": "cd36ba0081113965df6d101260814c54e1600a54", "methodNumberBeforeChange": 129, "methodNumberAfterChange": 131, "signatureBeforeChange": "  char [] sendIMKeyEvent (int type, GdkEventKey keyEvent, char  [] chars)", "signatureAfterChange": "  char [] sendIMKeyEvent (int type, GdkEventKey keyEvent, char  [] chars)", "diff": ["-\tint index = 0, count = 0;", "+\tint index = 0, count = 0, state = 0, time = 0;", "-\t\t\t\tcase OS.GDK_KEY_RELEASE: break;", "-\t\t\t\tdefault: keyEvent = null; break;", "+\t\t\t\tcase OS.GDK_KEY_RELEASE:", "+\t\t\t\t\tstate = keyEvent.state;", "+\t\t\t\t\ttime =  keyEvent.time;", "+\t\t\t\t\tbreak;", "+\t\t\t\tdefault:", "+\t\t\t\t\tkeyEvent = null;", "+\t\t\t\t\tbreak;", "+\tif (keyEvent == null) {", "+\t\tint [] buffer = new int [1];", "+\t\tOS.gtk_get_current_event_state (buffer);", "+\t\tstate = buffer [0];", "+\t\ttime = OS.gtk_get_current_event_time();", "+\t}", "-\t\tif (keyEvent == null) {", "-\t\t\tint [] state = new int [1];", "-\t\t\tOS.gtk_get_current_event_state (state);", "-\t\t\tsetInputState (event, state [0]);", "-\t\t\tevent.time = OS.gtk_get_current_event_time();", "-\t\t} else {", "+\t\tevent.time = time;", "+\t\tif (keyEvent != null && keyEvent.length <= 1) {", "-\t\t\tevent.time = keyEvent.time;", "+\t\t} else {", "+\t\t\tsetInputState (event, state);"]}], "num": 48042}