{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "bfe423eaf0dcc2813f5d472b34b0cdeb", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0c654472556a6e8a99b0fd06183bb30a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk1x/org/eclipse/swt/widgets/FileDialog.java", "commitBeforeChange": "916a82a1e8077ce8a47e1d541c88cb101ff5ee36", "commitAfterChange": "5d6c8208629922fa8cd36b0d3a68c3e57119239e", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 11, "signatureBeforeChange": "\r int okFunc (int widget, int callData)", "signatureAfterChange": "\r \r boolean getAnswer()", "diff": ["-int okFunc (int widget, int callData) {\r", "-\tcancel = false;\r", "-\tchar separator = System.getProperty (\"file.separator\").charAt (0);\r", "-\tint lpFilename = OS.gtk_file_selection_get_filename (callData);\r", "-\tint filenameLength = OS.strlen (lpFilename);\r", "-\tbyte [] filenameBytes = new byte [filenameLength];\r", "-\tOS.memmove (filenameBytes, lpFilename, filenameLength);\r", "-\tfullPath = new String (Converter.mbcsToWcs (null, filenameBytes));\r", "-\t\r", "-\t/* Calculate fileName and filterPath */\r", "-\tint separatorIndex = fullPath.indexOf (separator);\r", "-\tint index = separatorIndex;\r", "-\twhile (index != -1) {\r", "-\t\tseparatorIndex = index;\r", "-\t\tindex = fullPath.indexOf (separator, index + 1);\r", "-\t}\r", "-\tfileName = fullPath.substring (separatorIndex + 1, fullPath.length ());\r", "-\tfilterPath = fullPath.substring (0, separatorIndex);\r", "-\tOS.gtk_widget_destroy (callData);\r", "-\treturn 0;\r", "-}\r", "+\r", "+boolean getAnswer() {\r", "+\tString fileNameFromOS = getFileNameFromOS();\r", "+\tint separatorIndex = calculateLastSeparatorIndex(fileNameFromOS);\r", "+\tif (separatorIndex+1 == fileNameFromOS.length()) return false;  // the user selected a directory\r", "+\tfullPath = answer = fileNameFromOS;\r", "+\tfileName = fullPath.substring (separatorIndex + 1, fullPath.length ());\r", "+\tfilterPath = fullPath.substring (0, separatorIndex);\r", "+\treturn true;\r", "+}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0437b9145bd9a0d2a659ee0e076891ed", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/FileDialog.java", "commitBeforeChange": "916a82a1e8077ce8a47e1d541c88cb101ff5ee36", "commitAfterChange": "5d6c8208629922fa8cd36b0d3a68c3e57119239e", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 11, "signatureBeforeChange": "\r int okFunc (int widget, int callData)", "signatureAfterChange": "\r \r boolean getAnswer()", "diff": ["-int okFunc (int widget, int callData) {\r", "-\tcancel = false;\r", "-\tchar separator = System.getProperty (\"file.separator\").charAt (0);\r", "-\tint lpFilename = OS.gtk_file_selection_get_filename (callData);\r", "-\tint filenameLength = OS.strlen (lpFilename);\r", "-\tbyte [] filenameBytes = new byte [filenameLength];\r", "-\tOS.memmove (filenameBytes, lpFilename, filenameLength);\r", "-\tfullPath = new String (Converter.mbcsToWcs (null, filenameBytes));\r", "-\t\r", "-\t/* Calculate fileName and filterPath */\r", "-\tint separatorIndex = fullPath.indexOf (separator);\r", "-\tint index = separatorIndex;\r", "-\twhile (index != -1) {\r", "-\t\tseparatorIndex = index;\r", "-\t\tindex = fullPath.indexOf (separator, index + 1);\r", "-\t}\r", "-\tfileName = fullPath.substring (separatorIndex + 1, fullPath.length ());\r", "-\tfilterPath = fullPath.substring (0, separatorIndex);\r", "-\tOS.gtk_widget_destroy (callData);\r", "-\treturn 0;\r", "-}\r", "+\r", "+boolean getAnswer() {\r", "+\tString fileNameFromOS = getFileNameFromOS();\r", "+\tint separatorIndex = calculateLastSeparatorIndex(fileNameFromOS);\r", "+\tif (separatorIndex+1 == fileNameFromOS.length()) return false;  // the user selected a directory\r", "+\tfullPath = answer = fileNameFromOS;\r", "+\tfileName = fullPath.substring (separatorIndex + 1, fullPath.length ());\r", "+\tfilterPath = fullPath.substring (0, separatorIndex);\r", "+\treturn true;\r", "+}\r"]}], "num": 52795}