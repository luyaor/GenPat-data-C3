{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2030304e3e24ac126d731d899ccf836c", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "03f3103beef3554e1c6905922b18e9e0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "a5d8bf4a11b89f56aac32b46dedff4139fb6f012", "commitAfterChange": "e5c0f149512ead935dccc62f02bd92225ca98187", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "  void createAlpha ()", "signatureAfterChange": "  void createAlpha ()", "diff": ["+\t\tint dataFormat = imageRep.bitmapFormat();", "+\t\tboolean alphaFirst = (dataFormat & OS.NSAlphaFirstBitmapFormat) != 0;", "+", "-\t\t\tfor (int i=0; i<dataSize; i+=4) {", "-\t\t\t\tint pixel = ((srcData[i+1] & 0xFF) << 16) | ((srcData[i+2] & 0xFF) << 8) | (srcData[i+3] & 0xFF);", "-\t\t\t\tsrcData[i] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "+\t\t\tif (alphaFirst) {", "+\t\t\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\t\t\tint pixel = ((srcData[i+1] & 0xFF) << 16) | ((srcData[i+2] & 0xFF) << 8) | (srcData[i+3] & 0xFF);", "+\t\t\t\t\tsrcData[i] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "+\t\t\t\t}", "+\t\t\t} else {", "+\t\t\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\t\t\tint pixel = ((srcData[i] & 0xFF) << 16) | ((srcData[i+1] & 0xFF) << 8) | (srcData[i+2] & 0xFF);", "+\t\t\t\t\tsrcData[i + 3] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "+\t\t\t\t}\t\t\t\t", "+\t\t\tint startByte = alphaFirst ? 0 : 3;", "-\t\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\tfor (int i = startByte; i<dataSize; i+=4) {", "-\t\t\tint offset = 0, alphaOffset = 0;", "+\t\t\tint startByte = alphaFirst ? 0 : 3;", "+\t\t\tint offset = startByte, alphaOffset = 0;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f29c146a5678164716de51a980c5a51c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "2703b6b4917ee70e34e69f6beabdf6e17c0e648e", "commitAfterChange": "0e0eae7504b067875076ee5d9af4693ac4a9b250", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "  void createAlpha ()", "signatureAfterChange": "  void createAlpha ()", "diff": ["+\t\tint /*long*/ bitmapData = imageRep.bitmapData();", "+\t\tint /*long*/ format = imageRep.bitmapFormat();", "-\t\tOS.memmove(srcData, imageRep.bitmapData(), dataSize);", "+\t\tOS.memmove(srcData, bitmapData, dataSize);", "-\t\t\tfor (int i=0; i<dataSize; i+=4) {", "-\t\t\t\tint pixel = ((srcData[i+1] & 0xFF) << 16) | ((srcData[i+2] & 0xFF) << 8) | (srcData[i+3] & 0xFF);", "-\t\t\t\tsrcData[i] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "+\t\t\tif ((format & OS.NSAlphaFirstBitmapFormat) != 0) {", "+\t\t\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\t\t\tint pixel = ((srcData[i+1] & 0xFF) << 16) | ((srcData[i+2] & 0xFF) << 8) | (srcData[i+3] & 0xFF);", "+\t\t\t\t\tsrcData[i] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "+\t\t\t\t}", "+\t\t\t} else {", "+\t\t\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\t\t\tint pixel = ((srcData[i+0] & 0xFF) << 16) | ((srcData[i+1] & 0xFF) << 8) | (srcData[i+2] & 0xFF);", "+\t\t\t\t\tsrcData[i] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "+\t\t\t\t}", "-\t\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\tfor (int i=(format & OS.NSAlphaFirstBitmapFormat) != 0 ? 0 : 3; i<dataSize; i+=4) {", "-\t\t\tint offset = 0, alphaOffset = 0;", "+\t\t\tint offset = 0, alphaOffset = (format & OS.NSAlphaFirstBitmapFormat) != 0 ? 0 : 3;", "-\t\tOS.memmove(imageRep.bitmapData(), srcData, dataSize);", "+\t\tOS.memmove(bitmapData, srcData, dataSize);"]}], "num": 25613}