{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "884e6c9c01c97d5ebef6d7052d4fa15d", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "03f3103beef3554e1c6905922b18e9e0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "a5d8bf4a11b89f56aac32b46dedff4139fb6f012", "commitAfterChange": "e5c0f149512ead935dccc62f02bd92225ca98187", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "  void createAlpha ()", "signatureAfterChange": "  void createAlpha ()", "diff": ["+\t\tint dataFormat = imageRep.bitmapFormat();", "+\t\tboolean alphaFirst = (dataFormat & OS.NSAlphaFirstBitmapFormat) != 0;", "+", "-\t\t\tfor (int i=0; i<dataSize; i+=4) {", "-\t\t\t\tint pixel = ((srcData[i+1] & 0xFF) << 16) | ((srcData[i+2] & 0xFF) << 8) | (srcData[i+3] & 0xFF);", "-\t\t\t\tsrcData[i] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "+\t\t\tif (alphaFirst) {", "+\t\t\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\t\t\tint pixel = ((srcData[i+1] & 0xFF) << 16) | ((srcData[i+2] & 0xFF) << 8) | (srcData[i+3] & 0xFF);", "+\t\t\t\t\tsrcData[i] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "+\t\t\t\t}", "+\t\t\t} else {", "+\t\t\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\t\t\tint pixel = ((srcData[i] & 0xFF) << 16) | ((srcData[i+1] & 0xFF) << 8) | (srcData[i+2] & 0xFF);", "+\t\t\t\t\tsrcData[i + 3] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "+\t\t\t\t}\t\t\t\t", "+\t\t\tint startByte = alphaFirst ? 0 : 3;", "-\t\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\tfor (int i = startByte; i<dataSize; i+=4) {", "-\t\t\tint offset = 0, alphaOffset = 0;", "+\t\t\tint startByte = alphaFirst ? 0 : 3;", "+\t\t\tint offset = startByte, alphaOffset = 0;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c425fee8becb08d3fb0c457db4e55707", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "756a00a38650dc664abac86d0eaf738e79c5bf67", "commitAfterChange": "419fbd51f297423e3c35f3288d228d758c69641e", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "  void createMask ()", "signatureAfterChange": "  void createAlpha ()", "diff": ["-void createMask () {", "-\tif (transparentPixel == -1) return;", "+void createAlpha () {", "+\tif (transparentPixel == -1 && alpha == -1 && alphaData == null) return;", "-\tfor (int i=0; i<dataSize; i+=4) {", "-\t\tint pixel = ((srcData[i+1] & 0xFF) << 16) | ((srcData[i+2] & 0xFF) << 8) | (srcData[i+3] & 0xFF);", "-\t\tsrcData[i] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "+\tif (transparentPixel != -1) {", "+\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\tint pixel = ((srcData[i+1] & 0xFF) << 16) | ((srcData[i+2] & 0xFF) << 8) | (srcData[i+3] & 0xFF);", "+\t\t\tsrcData[i] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "+\t\t}", "+\t} else if (alpha != -1) {", "+\t\tbyte a = (byte)this.alpha;", "+\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\tsrcData[i] = a;\t\t\t\t", "+\t\t}", "+\t} else {", "+\t\tint width = OS.CGImageGetWidth(handle);", "+\t\tint offset = 0, alphaOffset = 0;", "+\t\tfor (int y = 0; y<height; y++) {", "+\t\t\tfor (int x = 0; x<width; x++) {", "+\t\t\t\tsrcData[offset] = alphaData[alphaOffset];", "+\t\t\t\toffset += 4;", "+\t\t\t\talphaOffset += 1;", "+\t\t\t}", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1aaa78fb2f9eeec5174ad4047f9d0ae5", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "5f543edb783691ac010cc1801defbf6238ace7aa", "commitAfterChange": "ffcd121fb7431ca67e0c96c3686d0eb26efd2568", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "  void createAlpha ()", "signatureAfterChange": "  void createAlpha ()", "diff": ["-\t\tint /*long*/ dataFormat = imageRep.bitmapFormat();", "-\t\tboolean alphaFirst = (dataFormat & OS.NSAlphaFirstBitmapFormat) != 0;", "-", "-\t\t\tif (alphaFirst) {", "-\t\t\t\tfor (int i=0; i<dataSize; i+=4) {", "-\t\t\t\t\tint pixel = ((srcData[i+1] & 0xFF) << 16) | ((srcData[i+2] & 0xFF) << 8) | (srcData[i+3] & 0xFF);", "-\t\t\t\t\tsrcData[i] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "-\t\t\t\t}", "-\t\t\t} else {", "-\t\t\t\tfor (int i=0; i<dataSize; i+=4) {", "-\t\t\t\t\tint pixel = ((srcData[i] & 0xFF) << 16) | ((srcData[i+1] & 0xFF) << 8) | (srcData[i+2] & 0xFF);", "-\t\t\t\t\tsrcData[i + 3] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "-\t\t\t\t}\t\t\t\t", "+\t\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\t\tint pixel = ((srcData[i+1] & 0xFF) << 16) | ((srcData[i+2] & 0xFF) << 8) | (srcData[i+3] & 0xFF);", "+\t\t\t\tsrcData[i] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "-\t\t\tint startByte = alphaFirst ? 0 : 3;", "-\t\t\tfor (int i = startByte; i<dataSize; i+=4) {", "+\t\t\tfor (int i=0; i<dataSize; i+=4) {", "-\t\t\tint startByte = alphaFirst ? 0 : 3;", "-\t\t\tint offset = startByte, alphaOffset = 0;", "+\t\t\tint offset = 0, alphaOffset = 0;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f29c146a5678164716de51a980c5a51c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "2703b6b4917ee70e34e69f6beabdf6e17c0e648e", "commitAfterChange": "0e0eae7504b067875076ee5d9af4693ac4a9b250", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "  void createAlpha ()", "signatureAfterChange": "  void createAlpha ()", "diff": ["+\t\tint /*long*/ bitmapData = imageRep.bitmapData();", "+\t\tint /*long*/ format = imageRep.bitmapFormat();", "-\t\tOS.memmove(srcData, imageRep.bitmapData(), dataSize);", "+\t\tOS.memmove(srcData, bitmapData, dataSize);", "-\t\t\tfor (int i=0; i<dataSize; i+=4) {", "-\t\t\t\tint pixel = ((srcData[i+1] & 0xFF) << 16) | ((srcData[i+2] & 0xFF) << 8) | (srcData[i+3] & 0xFF);", "-\t\t\t\tsrcData[i] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "+\t\t\tif ((format & OS.NSAlphaFirstBitmapFormat) != 0) {", "+\t\t\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\t\t\tint pixel = ((srcData[i+1] & 0xFF) << 16) | ((srcData[i+2] & 0xFF) << 8) | (srcData[i+3] & 0xFF);", "+\t\t\t\t\tsrcData[i] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "+\t\t\t\t}", "+\t\t\t} else {", "+\t\t\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\t\t\tint pixel = ((srcData[i+0] & 0xFF) << 16) | ((srcData[i+1] & 0xFF) << 8) | (srcData[i+2] & 0xFF);", "+\t\t\t\t\tsrcData[i] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "+\t\t\t\t}", "-\t\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\tfor (int i=(format & OS.NSAlphaFirstBitmapFormat) != 0 ? 0 : 3; i<dataSize; i+=4) {", "-\t\t\tint offset = 0, alphaOffset = 0;", "+\t\t\tint offset = 0, alphaOffset = (format & OS.NSAlphaFirstBitmapFormat) != 0 ? 0 : 3;", "-\t\tOS.memmove(imageRep.bitmapData(), srcData, dataSize);", "+\t\tOS.memmove(bitmapData, srcData, dataSize);"]}], "num": 53089}