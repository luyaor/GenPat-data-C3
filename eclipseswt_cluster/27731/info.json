{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "348681e18b5721998c3a88905be67096", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a0dd1037801081185f144bffe1ae7b5d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "bb717d59b79c0a782a38ba12420d934c86085f62", "commitAfterChange": "5dc510036d3f589b77ab51681b222b8b9e1a0c26", "methodNumberBeforeChange": 82, "methodNumberAfterChange": 82, "signatureBeforeChange": " public void setTopItem (TreeItem item)", "signatureAfterChange": " public void setTopItem (TreeItem item)", "diff": ["-//\tshowItem (item, false);", "-//\tint columnId = (columnCount == 0) ? column_id : columns [0].id;", "-//\tOS.RevealDataBrowserItem (handle, item.id, columnId, (byte) OS.kDataBrowserRevealWithoutSelecting);", "-//\tRect rect = new Rect ();", "-//\tif (OS.GetDataBrowserItemPartBounds (handle, item.id, column_id, OS.kDataBrowserPropertyEnclosingPart, rect) == OS.noErr) {", "-//\t\tint border = getBorder ();", "-//\t\tint [] top = new int [1], left = new int [1];", "-//\t\tOS.GetDataBrowserScrollPosition (handle, top, left);", "-//\t\tOS.SetDataBrowserScrollPosition (handle, Math.max (0, top [0] + rect.top - border - getHeaderHeight ()), left [0]);", "-//\t}", "+\tshowItem (item, false);", "+\tNSOutlineView outlineView = (NSOutlineView) view;", "+\tint row = outlineView.rowForItem (item.handle);", "+\t//FIXME", "+\t((NSTableView) view).scrollRowToVisible (row);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f948cfe3e95e9f916b21f2472c0219e1", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/TreeItem.java", "commitBeforeChange": "04c016bb2b31550c17f861c96fbfe4fc2c35a5ab", "commitAfterChange": "5591c13a578ecea84f8c857083ef69b7476367ff", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "  NSObject createString(int index)", "signatureAfterChange": "  NSObject createString(int index)", "diff": ["-\tColor foreground = cellForeground != null ? cellForeground [index] : null;", "-\tif (foreground == null) foreground = this.foreground;", "-\tif (foreground == null) foreground = parent.foreground;", "-\tif (foreground != null) {", "-\t\tNSColor color = NSColor.colorWithDeviceRed (foreground.handle [0], foreground.handle [1], foreground.handle [2], 1);", "-\t\tdict.setObject (color, OS.NSForegroundColorAttributeName);", "+\tNSOutlineView outlineView = (NSOutlineView)parent.view;", "+\tint /*long*/ row = outlineView.rowForItem (handle);", "+\tif (!outlineView.isRowSelected (row)) {", "+\t\tColor foreground = cellForeground != null ? cellForeground [index] : null;", "+\t\tif (foreground == null) foreground = this.foreground;", "+\t\tif (foreground == null) foreground = parent.foreground;", "+\t\tif (foreground != null) {", "+\t\t\tNSColor color = NSColor.colorWithDeviceRed (foreground.handle [0], foreground.handle [1], foreground.handle [2], 1);", "+\t\t\tdict.setObject (color, OS.NSForegroundColorAttributeName);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "31f9aea2a6dfaee248447b447b6678f1", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "7626dd6837c79b3d44c889ada194bd6cf6fefbaf", "commitAfterChange": "f490c340b8fb06c8878d22853dfd8ecb77079ee9", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 27, "signatureBeforeChange": " public void deselect (TreeItem item)", "signatureAfterChange": " public void deselect (TreeItem item)", "diff": ["-//\tignoreSelect = true;", "-//\t/*", "-//\t* Bug in the Macintosh.  When the DataBroswer selection flags includes", "-//\t* both kDataBrowserNeverEmptySelectionSet and kDataBrowserSelectOnlyOne,", "-//\t* two items are selected when SetDataBrowserSelectedItems() is called", "-//\t* with kDataBrowserItemsAssign to assign a new seletion despite the fact", "-//\t* that kDataBrowserSelectOnlyOne was specified.  The fix is to save and", "-//\t* restore kDataBrowserNeverEmptySelectionSet around each call to", "-//\t* SetDataBrowserSelectedItems().", "-//\t*/", "-//\tint [] selectionFlags = null;", "-//\tif ((style & SWT.SINGLE) != 0) {", "-//\t\tselectionFlags = new int [1];", "-//\t\tOS.GetDataBrowserSelectionFlags (handle, selectionFlags);", "-//\t\tOS.SetDataBrowserSelectionFlags (handle, selectionFlags [0] & ~OS.kDataBrowserNeverEmptySelectionSet);", "-//\t}", "-//\tOS.SetDataBrowserSelectedItems (handle, 1, new int [] {item.id}, OS.kDataBrowserItemsRemove);", "-//\tif ((style & SWT.SINGLE) != 0) {", "-//\t\tOS.SetDataBrowserSelectionFlags (handle, selectionFlags [0]);", "-//\t}", "-//\tignoreSelect = false;", "+\tNSOutlineView widget = (NSOutlineView)view;", "+\tint /*long*/ row = widget.rowForItem(item.handle);", "+\tignoreSelect = true;", "+\twidget.deselectRow (row);", "+\tignoreSelect = false;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "de9b8c8e49c8044930bffcd53d9b5147", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "bb717d59b79c0a782a38ba12420d934c86085f62", "commitAfterChange": "5dc510036d3f589b77ab51681b222b8b9e1a0c26", "methodNumberBeforeChange": 64, "methodNumberAfterChange": 64, "signatureBeforeChange": " public void select (TreeItem item)", "signatureAfterChange": " public void select (TreeItem item)", "diff": ["-//\tshowItem (item, false);", "-//\tignoreSelect = true;", "-//\t/*", "-//\t* Bug in the Macintosh.  When the DataBroswer selection flags includes", "-//\t* both kDataBrowserNeverEmptySelectionSet and kDataBrowserSelectOnlyOne,", "-//    * two items are selected when SetDataBrowserSelectedItems() is called", "-//    * with kDataBrowserItemsAssign to assign a new seletion despite the fact", "-//\t* that kDataBrowserSelectOnlyOne was specified.  The fix is to save and", "-//\t* restore kDataBrowserNeverEmptySelectionSet around each call to", "-//\t* SetDataBrowserSelectedItems().", "-//\t*/", "-//\tint [] selectionFlags = null;", "-//\tif ((style & SWT.SINGLE) != 0) {", "-//\t\tselectionFlags = new int [1];", "-//\t\tOS.GetDataBrowserSelectionFlags (handle, selectionFlags);", "-//\t\tOS.SetDataBrowserSelectionFlags (handle, selectionFlags [0] & ~OS.kDataBrowserNeverEmptySelectionSet);", "-//\t}", "-//\tOS.SetDataBrowserSelectedItems (handle, 1, new int [] {item.id}, OS.kDataBrowserItemsAssign);", "-//\tif ((style & SWT.SINGLE) != 0) {", "-//\t\tOS.SetDataBrowserSelectionFlags (handle, selectionFlags [0]);", "-//\t}", "-//\tignoreSelect = false;", "+\tshowItem (item);", "+\tNSOutlineView outlineView = (NSOutlineView) view;", "+\tint row = outlineView.rowForItem (item.handle);", "+\toutlineView.selectRow (row, false);"]}], "num": 27731}