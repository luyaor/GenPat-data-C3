{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e4d6965e175b68fdfd71770795d60033", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6a152b225c777a8bb2b235c6e62f00f9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "b8f9d45a80c733a8f5884af87c95e68f3463aaa7", "commitAfterChange": "e2ae18014fd9c71ab4dc0b52900b77c1d3a0f5b7", "methodNumberBeforeChange": 220, "methodNumberAfterChange": 221, "signatureBeforeChange": "\r void showBidiCaret()", "signatureAfterChange": "\r void showBidiCaret()", "diff": ["-\tboolean scrolled = scrollCaret();\r", "-\tif (scrolled == false) {\r", "-\t\tsetBidiCaretLocation();\r", "+\tint line = content.getLineAtOffset(caretOffset);\r", "+\tint lineOffset = content.getOffsetAtLine(line);\r", "+\tint offsetInLine = caretOffset - lineOffset;\r", "+\tString lineText = content.getLine(line);\r", "+\tint xAtOffset = 0;\r", "+\tboolean scrolled = false;\t\t\r", "+\tGC gc = new GC(this);\r", "+\tStyledTextBidi bidi = getStyledTextBidi(lineText, lineOffset, gc);\r", "+\r", "+\t// getXAtOffset, inlined for better performance\r", "+\txAtOffset = bidiTextWidth(lineText, lineOffset, 0, offsetInLine, 0, bidi);\r", "+\tif (offsetInLine > lineText.length()) {\r", "+\t\t// offset is not on the line. return an x location one character \r", "+\t\t// after the line to indicate the line delimiter.\r", "+\t\txAtOffset += lineEndSpaceWidth;\r", "+\txAtOffset -= horizontalScrollOffset;\r", "+\t//\r", "+\tscrolled = showLocation(xAtOffset, line);\r", "+\tif (scrolled == false) {\r", "+\t\tsetBidiCaretLocation(bidi);\r", "+\t}\r", "+\tgc.dispose();\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "578a6de9576155c838c5107fee72266b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "5b8426d48aea52442b303d5e7db2451d282ca37d", "commitAfterChange": "5bf9738f4282d1fa277bff29d9b079257ef678fc", "methodNumberBeforeChange": 187, "methodNumberAfterChange": 187, "signatureBeforeChange": "\r void modifyContent(Event event, boolean updateCaret)", "signatureAfterChange": "\r void modifyContent(Event event, boolean updateCaret)", "diff": ["+\t\tboolean isBackspace = event.start < caretOffset;\r", "+\t\tboolean isDirectionBoundary = false;\r", "+\r", "+\t\tif (isBidi() && updateCaret) {\r", "+\t\t\tGC gc = new GC(this);\t\t\r", "+\t\t\tint line = content.getLineAtOffset(caretOffset);\r", "+\t\t\tint lineStartOffset = content.getOffsetAtLine(line);\t\t\r", "+\t\t\tint offsetInLine = caretOffset - lineStartOffset;\r", "+\t\t\tString lineText = content.getLine(line);\r", "+\t\t\tStyledTextBidi bidi = new StyledTextBidi(gc, tabWidth, lineText, null, null, getStyleOffsets(lineText, lineStartOffset));\r", "+\t\t\t\r", "+\t\t\tisDirectionBoundary = (offsetInLine > 0 && bidi.isRightToLeft(offsetInLine) != bidi.isRightToLeft(offsetInLine - 1));\r", "+\t\t\tgc.dispose();\t\t\t\r", "+\t\t}\t\t\t\t\t\t\r", "-\t\tif (updateCaret) {\r", "+\t\tif (updateCaret) {\t\t\r", "+\t\t\t// always update the caret location. fixes 1G8FODP\r", "-\t\t\t// always update the caret location. fixes 1G8FODP\t\r", "-\t\t\t\tlastCaretDirection = SWT.NULL;\r", "+\t\t\t\t// Update the caret direction so that the caret moves to the \r", "+\t\t\t\t// typed/deleted character. Fixes 1GJLQ16.\r", "+\t\t\t\tif (replacedLength == 1 && event.text.length() == 0) {\r", "+\t\t\t\t\tupdateBidiDirection(isBackspace, isDirectionBoundary);\r", "+\t\t\t\t}\r", "+\t\t\t\telse {\r", "+\t\t\t\t\tlastCaretDirection = ST.COLUMN_NEXT;\r", "+\t\t\t\t}\r"]}], "num": 5610}