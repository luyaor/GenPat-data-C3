{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "bced121913b9e0f695a3ede477b69289", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "757815548855b2c6ef9a1962178c2915", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "99d6fcb049f30826891f5e43c733f0471a09002c", "commitAfterChange": "0130d9e1c9ef3c97a2921f233db1adae9cedcfdc", "methodNumberBeforeChange": 136, "methodNumberAfterChange": 136, "signatureBeforeChange": "  public void update ()", "signatureAfterChange": "  public void update ()", "diff": ["-\tint updateRgn = OS.NewRgn ();", "-\tOS.GetPortVisibleRegion (port, updateRgn);", "-\tif (!OS.EmptyRgn (updateRgn)) {", "-\t\tint [] currentPort = new int[1];", "-\t\tOS.GetPort (currentPort);", "-\t\tOS.SetPort (port);", "-\t\tOS.BeginUpdate (window);", "-\t\tOS.UpdateControls (window, updateRgn);", "-\t\tOS.EndUpdate (window);", "-\t\tOS.SetPort (currentPort [0]);", "+\tint portRgn = OS.NewRgn ();", "+\tOS.GetPortVisibleRegion (port, portRgn);", "+\tif (!OS.EmptyRgn (portRgn)) {", "+\t\tint updateRgn = OS.NewRgn ();", "+\t\tOS.GetWindowRegion (window, (short)OS.kWindowUpdateRgn, updateRgn);", "+\t\tif (!OS.EmptyRgn (updateRgn)) {", "+\t\t\tint visibleRgn = getVisibleRegion (handle, false);", "+\t\t\tif (!OS.EmptyRgn (visibleRgn)) {", "+\t\t\t\tRect rect = new Rect ();", "+\t\t\t\tOS.GetWindowBounds (window, (short) OS.kWindowContentRgn, rect);", "+\t\t\t\tOS.OffsetRgn (updateRgn, (short)-rect.left, (short)-rect.top);", "+\t\t\t\tOS.SectRgn (portRgn, updateRgn, updateRgn);", "+\t\t\t\tOS.GetRegionBounds(updateRgn, rect);", "+\t\t\t\tif (!OS.EmptyRgn (updateRgn) && !OS.EmptyRgn (visibleRgn)) {", "+\t\t\t\t\tint [] currentPort = new int[1];", "+\t\t\t\t\tOS.GetPort (currentPort);", "+\t\t\t\t\tOS.SetPort (port);", "+\t\t\t\t\tOS.BeginUpdate (window);", "+\t\t\t\t\tOS.UpdateControls (window, updateRgn);", "+\t\t\t\t\tOS.EndUpdate (window);", "+\t\t\t\t\tOS.SetPort (currentPort [0]);", "+\t\t\t\t}", "+\t\t\t}", "+\t\t\tOS.DisposeRgn (visibleRgn);", "+\t\t}", "+\t\tOS.DisposeRgn (updateRgn);", "-\tOS.DisposeRgn (updateRgn);", "+\tOS.DisposeRgn (portRgn);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "67e091e66aee2df2d9d561e71940c855", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "be7a6b56ec36f2937282f99ce8f6d3a09d752bb5", "commitAfterChange": "388089e4bec9dc7b9e91ccd2ec44faabbba9290c", "methodNumberBeforeChange": 192, "methodNumberAfterChange": 192, "signatureBeforeChange": "  void update (boolean all)", "signatureAfterChange": "  void update (boolean all)", "diff": ["-\tif (OS.HIVIEW) {", "-\t\t//TODO - not all", "-\t\tOS.HIViewRender (handle);", "-\t\treturn;", "-\t}", "-\tif (!isDrawing (handle)) return;", "-\tint window = OS.GetControlOwner (handle);", "-\tint port = OS.GetWindowPort (window);", "-\tint portRgn = OS.NewRgn ();", "-\tOS.GetPortVisibleRegion (port, portRgn);", "-\tif (!OS.EmptyRgn (portRgn)) {", "-\t\tint updateRgn = OS.NewRgn ();", "-\t\tOS.GetWindowRegion (window, (short)OS.kWindowUpdateRgn, updateRgn);", "-\t\tif (!OS.EmptyRgn (updateRgn)) {", "-\t\t\tRect rect = new Rect ();", "-\t\t\tOS.GetWindowBounds (window, (short) OS.kWindowContentRgn, rect);", "-\t\t\tOS.OffsetRgn (updateRgn, (short)-rect.left, (short)-rect.top);", "-\t\t\tOS.SectRgn (portRgn, updateRgn, updateRgn);", "-\t\t\tif (!OS.EmptyRgn (updateRgn)) {", "-\t\t\t\tint visibleRgn = getVisibleRegion (handle, !all);", "-\t\t\t\tif (!OS.EmptyRgn (visibleRgn)) {", "-\t\t\t\t\tOS.SectRgn (updateRgn, visibleRgn, visibleRgn);", "-\t\t\t\t\tif (!OS.EmptyRgn (visibleRgn)) {\t", "-\t\t\t\t\t\tint [] currentPort = new int[1];", "-\t\t\t\t\t\tOS.GetPort (currentPort);", "-\t\t\t\t\t\tOS.SetPort (port);", "-\t\t\t\t\t\tOS.BeginUpdate (window);\t", "-\t\t\t\t\t\tOS.DiffRgn (updateRgn, visibleRgn, updateRgn);", "-\t\t\t\t\t\tinvalWindowRgn (window, updateRgn);", "-\t\t\t\t\t\tOS.UpdateControls (window, visibleRgn);", "-\t\t\t\t\t\tOS.EndUpdate (window);", "-\t\t\t\t\t\tOS.SetPort (currentPort [0]);", "-\t\t\t\t\t}", "-\t\t\t\t}", "-\t\t\t\tOS.DisposeRgn (visibleRgn);", "-\t\t\t}", "-\t\t}", "-\t\tOS.DisposeRgn (updateRgn);", "-\t}", "-\tOS.DisposeRgn (portRgn);", "+\t//TODO - not all", "+\tOS.HIViewRender (handle);"]}], "num": 42080}