{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3f14c63fbf9b346c865fe0708f979091", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b81d603f8c196f7d99f05b2dcb740a75", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabItem.java", "commitBeforeChange": "eb8982625eb977a61532a256cc97dba3072da8f7", "commitAfterChange": "2e87f590dd36a6cc68918b56570241f228f08f4b", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": " void drawUnselected(GC gc)", "signatureAfterChange": " void drawUnselected(GC gc)", "diff": ["-\t\tint imageX = xDraw;", "-\t\tint imageHeight = imageBounds.height;", "-\t\tint imageY = y + (height - imageHeight) / 2;", "-\t\timageY += parent.onBottom ? -1 : 1;", "-\t\tint imageWidth = imageBounds.width * imageHeight / imageBounds.height;", "-\t\tgc.drawImage(image, ", "-\t\t\t         imageBounds.x, imageBounds.y, imageBounds.width, imageBounds.height,", "-\t\t\t         imageX, imageY, imageWidth, imageHeight);", "-\t\txDraw += imageWidth + INTERNAL_SPACING;", "+\t\t// only draw image if it won't overlap with close button", "+\t\tint maxImageWidth = x + width - xDraw - marginRight(false);", "+\t\tif (parent.showUnselectedClose && (parent.showClose || showClose)) {", "+\t\t\tmaxImageWidth -= closeRect.width + INTERNAL_SPACING;", "+\t\t}", "+\t\tif (imageBounds.width < maxImageWidth) {\t\t", "+\t\t\tint imageX = xDraw;", "+\t\t\tint imageHeight = imageBounds.height;", "+\t\t\tint imageY = y + (height - imageHeight) / 2;", "+\t\t\timageY += parent.onBottom ? -1 : 1;", "+\t\t\tint imageWidth = imageBounds.width * imageHeight / imageBounds.height;", "+\t\t\tgc.drawImage(image, ", "+\t\t\t\t         imageBounds.x, imageBounds.y, imageBounds.width, imageBounds.height,", "+\t\t\t\t         imageX, imageY, imageWidth, imageHeight);", "+\t\t\txDraw += imageWidth + INTERNAL_SPACING;", "+\t\t}", "-\tif (closeRect.width > 0) textWidth -= closeRect.width + INTERNAL_SPACING;", "-\tFont gcFont = gc.getFont();", "-\tif (font != null) {", "-\t\tgc.setFont(font);", "+\tif (parent.showUnselectedClose && (parent.showClose || showClose)) {", "+\t\ttextWidth -= closeRect.width + INTERNAL_SPACING;", "-\tif (shortenedText == null || shortenedTextWidth != textWidth) {", "-\t\tshortenedText = shortenText(gc, getText(), textWidth);", "-\t\tshortenedTextWidth = textWidth;", "-\t}\t", "-\tPoint extent = gc.textExtent(shortenedText, FLAGS);", "-\tint textY = y + (height - extent.y) / 2;", "-\ttextY += parent.onBottom ? -1 : 1;", "-\tgc.setForeground(parent.getForeground());", "-\tgc.drawText(shortenedText, xDraw, textY, FLAGS);", "-\tgc.setFont(gcFont);", "+\tif (textWidth > 0) {", "+\t\tFont gcFont = gc.getFont();", "+\t\tgc.setFont(font == null ? parent.getFont() : font);", "+\t\tif (shortenedText == null || shortenedTextWidth != textWidth) {", "+\t\t\tshortenedText = shortenText(gc, getText(), textWidth);", "+\t\t\tshortenedTextWidth = textWidth;", "+\t\t}\t", "+\t\tPoint extent = gc.textExtent(shortenedText, FLAGS);", "+\t\tint textY = y + (height - extent.y) / 2;", "+\t\ttextY += parent.onBottom ? -1 : 1;", "+\t\tgc.setForeground(parent.getForeground());", "+\t\tgc.drawText(shortenedText, xDraw, textY, FLAGS);", "+\t\tgc.setFont(gcFont);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "38e4af43819e64c2950b5fdfbf2bbbdc", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Label.java", "commitBeforeChange": "d3720d5589f8dfd5450c9294bbf3a0e6e61c8822", "commitAfterChange": "7d74281b7bfdc8518f6d49fab7107ca4fc9888e1", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "  void drawWidget (int control, int damageRgn, int visibleRgn, int theEvent)", "signatureAfterChange": "  void drawWidget (int control, int damageRgn, int visibleRgn, int theEvent)", "diff": ["-\t\tgc.drawImage (image, 0, 0);", "+\t\tint x = 0;", "+\t\tPoint size = getSize ();", "+\t\tRectangle bounds = image.getBounds ();", "+\t\tif ((style & SWT.CENTER) != 0) x = (size.x - bounds.width) / 2;", "+\t\tif ((style & SWT.RIGHT) != 0) x = size.x - bounds.width;", "+\t\tgc.drawImage (image, x, 0);"]}], "num": 20208}