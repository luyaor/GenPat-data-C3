{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "238305700e1a803a0694a321553ab2ff", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7898daf71199c93ab8309ee075d45507", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "bc224c2a2fcbef7d8e73e3f7b7b518fc99abc8ef", "commitAfterChange": "56d7d44784ad7e2547a3e9a0ea84e65586278aec", "methodNumberBeforeChange": 200, "methodNumberAfterChange": 199, "signatureBeforeChange": " void handleMouseDown(Event event)", "signatureAfterChange": " void handleMouseDown(Event event)", "diff": ["-\tmouseDoubleClick = false;", "-\t", "-\t", "+\t\t", "+\t//drag detect", "-\t", "-\tmouseDown = true;\t", "+\t\t", "+\t//paste clipboard selection", "+\t", "+\t//set selection", "-\tboolean select = (event.stateMask & SWT.MOD2) != 0;", "-\tdoMouseLocationChange(event.x, event.y, select);", "+\tclickCount = event.count;", "+\tif (clickCount == 1) {", "+\t\tboolean select = (event.stateMask & SWT.MOD2) != 0;", "+\t\tdoMouseLocationChange(event.x, event.y, select);", "+\t} else {", "+\t\tif (doubleClickEnabled) {", "+\t\t\tclearSelection(false);", "+\t\t\tint offset = getOffsetAtPoint(event.x, event.y);", "+\t\t\tint lineIndex = content.getLineAtOffset(offset);", "+\t\t\tint lineOffset = content.getOffsetAtLine(lineIndex);", "+\t\t\tint lineEnd = content.getCharCount();", "+\t\t\tif (lineIndex + 1 < content.getLineCount()) {", "+\t\t\t\tlineEnd = content.getOffsetAtLine(lineIndex + 1);", "+\t\t\t}", "+\t\t\tint start, end;", "+\t\t\tif ((clickCount & 1) == 0) {", "+\t\t\t\tstart = Math.max(lineOffset, getWordPrevious(offset, SWT.MOVEMENT_WORD_START));", "+\t\t\t\tend = Math.min(lineEnd, getWordNext(start, SWT.MOVEMENT_WORD_END));", "+\t\t\t} else {", "+\t\t\t\tstart = lineOffset;", "+\t\t\t\tend = lineEnd;", "+\t\t\t}", "+\t\t\tselection.x = selection.y = start;", "+\t\t\tselectionAnchor = -1;", "+\t\t\tcaretOffset = end;", "+\t\t\tshowCaret();", "+\t\t\tdoMouseSelection();", "+\t\t\tdoubleClickSelection = new Point(selection.x, selection.y);", "+\t\t}", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0aee4be8dbdab91ef7a74f64cd83e6e3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "d9f8deb8512ae7dd0174a38a745d39e41d44f779", "commitAfterChange": "229e8de56e006592bc1edc42a6b95c48eecf3cf8", "methodNumberBeforeChange": 236, "methodNumberAfterChange": 236, "signatureBeforeChange": " void modifyContent(Event event, boolean updateCaret)", "signatureAfterChange": " void modifyContent(Event event, boolean updateCaret)", "diff": ["+\t\tif (updateCaret) {", "+\t\t\t//Fix advancing flag for delete/backspace key on direction boundary", "+\t\t\tif (event.text.length() == 0) {", "+\t\t\t\tint lineIndex = content.getLineAtOffset(event.start);", "+\t\t\t\tint lineOffset = content.getOffsetAtLine(lineIndex);", "+\t\t\t\tString lineText = content.getLine(lineIndex);", "+\t\t\t\tTextLayout layout = renderer.getTextLayout(lineText, lineOffset);", "+\t\t\t\tint levelStart = layout.getLevel(event.start - lineOffset);", "+\t\t\t\tint lineIndexEnd = content.getLineAtOffset(event.end);", "+\t\t\t\tif (lineIndex != lineIndexEnd) {", "+\t\t\t\t\trenderer.disposeTextLayout(layout);", "+\t\t\t\t\tlineOffset = content.getOffsetAtLine(lineIndexEnd);", "+\t\t\t\t\tlineText = content.getLine(lineIndexEnd);", "+\t\t\t\t\tlayout = renderer.getTextLayout(lineText, lineOffset);", "+\t\t\t\t}", "+\t\t\t\tint levelEnd = layout.getLevel(event.end - lineOffset);", "+\t\t\t\trenderer.disposeTextLayout(layout);", "+\t\t\t\tadvancing = levelStart != levelEnd;", "+\t\t\t}", "+\t\t}", "-\t\t}\t", "-\t\tsendModifyEvent(event);\t\t", "+\t\t}", "+\t\tsendModifyEvent(event);"]}], "num": 13455}