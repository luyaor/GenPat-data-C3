{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "7539840d689af6dec77f40ddf3350486", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bf0a4aab93c49db2157d0d9ef84ba445", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "ce2f35c3f6b1d0b5778f68f011b1d8668d3c5c72", "commitAfterChange": "00bee382096a1807d86474fed7c933116a37eeb8", "methodNumberBeforeChange": 82, "methodNumberAfterChange": 92, "signatureBeforeChange": "\r void drawStyledLine(String line, int lineOffset, int renderOffset, StyleRange[] styles, int paintX, int paintY, GC gc, Color lineBackground, Color lineForeground)", "signatureAfterChange": "\r void drawStyledLine(String line, int lineOffset, int renderOffset, StyleRange[] styles, int paintX, int paintY, GC gc, Color lineBackground, Color lineForeground, StyledTextBidi bidi)", "diff": ["-void drawStyledLine(String line, int lineOffset, int renderOffset, StyleRange[] styles, int paintX, int paintY, GC gc, Color lineBackground, Color lineForeground) {\r", "+void drawStyledLine(String line, int lineOffset, int renderOffset, StyleRange[] styles, int paintX, int paintY, GC gc, Color lineBackground, Color lineForeground, StyledTextBidi bidi) {\r", "-\t\r", "-\tfor (int i = 0; i < styles.length && paintX < renderStopX; i++) {\r", "+\tFontData fontData = gc.getFont().getFontData()[0];\r", "+\t\t\r", "+\t// Always render the entire line when in a bidi locale.\r", "+\t// Since we render the line in logical order we may start past the end\r", "+\t// of the visual right border of the client area and work towards the\r", "+\t// left.\r", "+\tfor (int i = 0; i < styles.length && (paintX < renderStopX || bidi != null); i++) {\r", "+\t\t\tsetLineFont(gc, fontData, SWT.NORMAL);\t\t\t\r", "-\t\t\tpaintX = drawText(line, lineOffset, renderOffset, styleLineStart - renderOffset, filteredStyles, paintX, paintY, gc);\r", "+\t\t\tpaintX = drawText(line, lineOffset, renderOffset, styleLineStart - renderOffset, paintX, paintY, gc, bidi);\r", "-\t\t\tint fillWidth = textWidth(line, lineOffset, renderOffset, styleLineLength, filteredStyles, paintX, gc);\r", "-\t\t\tgc.fillRectangle(paintX - horizontalScrollOffset, paintY, fillWidth, lineHeight);\r", "+\t\t\tif (bidi != null) {\r", "+\t\t\t\tbidi.fillBackground(renderOffset, styleLineLength, -horizontalScrollOffset, paintY, lineHeight);\r", "+\t\t\t}\r", "+\t\t\telse {\r", "+\t\t\t\tint fillWidth = textWidth(line, lineOffset, renderOffset, styleLineLength, filteredStyles, paintX, gc, bidi);\r", "+\t\t\t\tgc.fillRectangle(paintX - horizontalScrollOffset, paintY, fillWidth, lineHeight);\r", "+\t\t\t}\r", "-\t\tpaintX = drawText(line, lineOffset, renderOffset, styleLineLength, filteredStyles, paintX, paintY, gc);\r", "+\t\tsetLineFont(gc, fontData, style.fontStyle);\r", "+\t\tpaintX = drawText(line, lineOffset, renderOffset, styleLineLength, paintX, paintY, gc, bidi);\r", "-\tif ((style == null || renderOffset < lineLength) && paintX < renderStopX) {\r", "+\tif ((style == null || renderOffset < lineLength) && (paintX < renderStopX || bidi != null)) {\r", "-\t\tdrawText(line, lineOffset, renderOffset, lineLength - renderOffset, filteredStyles, paintX, paintY, gc);\r", "+\t\tsetLineFont(gc, fontData, SWT.NORMAL);\r", "+\t\tdrawText(line, lineOffset, renderOffset, lineLength - renderOffset, paintX, paintY, gc, bidi);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9b30fe8dbb887d70e53664f5525492bc", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "635a9e5d0a5f495ec272194dbb750eddc745876f", "commitAfterChange": "e83d77b7ddccf5500d06ea30a64ce0d090ac4b10", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 3, "signatureBeforeChange": " \tvoid dispose()", "signatureAfterChange": " \tvoid dispose()", "diff": ["-\t\tif (printerColors != null) {", "-\t\t\tEnumeration colors = printerColors.elements();", "-\t\t\t", "-\t\t\twhile (colors.hasMoreElements()) {", "-\t\t\t\tColor color = (Color) colors.nextElement();", "-\t\t\t\tcolor.dispose();", "-\t\t\t}", "-\t\t\tprinterColors = null;", "-\t\t}", "+\t\t}", "+\t\tif (resources != null) {", "+\t\t\tEnumeration enumeration = resources.elements();\t\t\t", "+\t\t\twhile (enumeration.hasMoreElements()) {", "+\t\t\t\tResource resource = (Resource) enumeration.nextElement();", "+\t\t\t\tresource.dispose();", "+\t\t\t}", "+\t\t\tresources = null;", "-\t\tif (renderer != null) {", "-\t\t\trenderer.dispose();", "-\t\t\trenderer = null;", "+\t\tif (printerRenderer != null) {", "+\t\t\tprinterRenderer.dispose();", "+\t\t\tprinterRenderer = null;"]}], "num": 54784}