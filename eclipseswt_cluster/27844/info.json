{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2ea194c79a6117f36ced6c85041f9c00", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "13fb91fd8a0bef55c70993d546b2e9f7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Accessibility/gtk/org/eclipse/swt/accessibility/AccessibleObject.java", "commitBeforeChange": "b22a7d19afbe2a3811a0f8aa54c1e85d92c62a2c", "commitAfterChange": "6b3c7f0839c7bbe5167edd98f5372c12c1468362", "methodNumberBeforeChange": 29, "methodNumberAfterChange": 29, "signatureBeforeChange": "  \tstatic long atkObject_get_attributes (long atkObject)", "signatureAfterChange": "  \tstatic long atkObject_get_attributes (long atkObject)", "diff": ["-\t\t\t\tevent.topMargin = event.bottomMargin = event.leftMargin = event.rightMargin = event.alignment = event.indent = -1;", "+\t\t\t\tevent.topMargin = event.bottomMargin = event.leftMargin = event.rightMargin = event.alignment", "+\t\t\t\t\t= event.indent = event.groupLevel = event.groupCount = event.groupIndex = -1;", "+\t\t\t\t", "+\t\t\t\t/* Check for group attributes. */", "+\t\t\t\tint level = (event.groupLevel != -1) ? event.groupLevel : 0;", "+\t\t\t\tint setsize = (event.groupCount != -1) ? event.groupCount : 0;", "+\t\t\t\tint posinset = (event.groupIndex != -1) ? event.groupIndex : 0;", "+\t\t\t\tif (setsize == 0 && posinset == 0) {", "+\t\t\t\t\t/* Determine position and count for radio buttons. */", "+\t\t\t\t\tControl control = accessible.control;", "+\t\t\t\t\tif (control instanceof Button && ((control.getStyle() & SWT.RADIO) != 0)) {", "+\t\t\t\t\t\tControl [] children = control.getParent().getChildren();", "+\t\t\t\t\t\tposinset = 1;", "+\t\t\t\t\t\tsetsize = 1;", "+\t\t\t\t\t\tfor (int i = 0; i < children.length; i++) {", "+\t\t\t\t\t\t\tControl child = children[i];", "+\t\t\t\t\t\t\tif (child instanceof Button && ((child.getStyle() & SWT.RADIO) != 0)) {", "+\t\t\t\t\t\t\t\tif (child == control) posinset = setsize;", "+\t\t\t\t\t\t\t\telse setsize++;", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t\tif (level != 0) {", "+\t\t\t\t\tlong /*int*/ attrPtr = OS.g_malloc(AtkAttribute.sizeof);", "+\t\t\t\t\tattr.name = getStringPtr (\"level\"); //$NON-NLS-1$", "+\t\t\t\t\tattr.value = getStringPtr (String.valueOf(level));", "+\t\t\t\t\tATK.memmove(attrPtr, attr, AtkAttribute.sizeof);", "+\t\t\t\t\tparentResult = OS.g_slist_append(parentResult, attrPtr);", "+\t\t\t\t}", "+\t\t\t\tif (setsize != 0) {", "+\t\t\t\t\tlong /*int*/ attrPtr = OS.g_malloc(AtkAttribute.sizeof);", "+\t\t\t\t\tattr.name = getStringPtr (\"setsize\"); //$NON-NLS-1$", "+\t\t\t\t\tattr.value = getStringPtr (String.valueOf(setsize));", "+\t\t\t\t\tATK.memmove(attrPtr, attr, AtkAttribute.sizeof);", "+\t\t\t\t\tparentResult = OS.g_slist_append(parentResult, attrPtr);", "+\t\t\t\t}", "+\t\t\t\tif (posinset != 0) {", "+\t\t\t\t\tlong /*int*/ attrPtr = OS.g_malloc(AtkAttribute.sizeof);", "+\t\t\t\t\tattr.name = getStringPtr (\"posinset\"); //$NON-NLS-1$", "+\t\t\t\t\tattr.value = getStringPtr (String.valueOf(posinset));", "+\t\t\t\t\tATK.memmove(attrPtr, attr, AtkAttribute.sizeof);", "+\t\t\t\t\tparentResult = OS.g_slist_append(parentResult, attrPtr);", "+\t\t\t\t}", "+\t\t\t\t"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1dab2b1dffcddbaac6c78e3cc05cd3da", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Accessibility/win32/org/eclipse/swt/accessibility/Accessible.java", "commitBeforeChange": "b22a7d19afbe2a3811a0f8aa54c1e85d92c62a2c", "commitAfterChange": "6b3c7f0839c7bbe5167edd98f5372c12c1468362", "methodNumberBeforeChange": 308, "methodNumberAfterChange": 308, "signatureBeforeChange": " \tint get_groupPosition(long pGroupLevel, long pSimilarItemsInGroup, long pPositionInGroup)", "signatureAfterChange": " \tint get_groupPosition(long pGroupLevel, long pSimilarItemsInGroup, long pPositionInGroup)", "diff": ["-\t\t// TODO: handle where possible - maybe add AccessibleGroup later", "-\t\t//get the role", "-\t\t//if it has role tree, then the level is the value else 0 (for N/A)", "-\t\tint groupLevel = 0;", "-\t\tCOM.MoveMemory(pGroupLevel, new int [] { groupLevel }, 4);", "-\t\t//get the children of the parent", "-\t\t//count all children with the same role, if none, then 0 (for N/A)", "-\t\t//find this control's 1-based index in the same-type children of the parent (0 for N/A)", "-\t\tint similarItemsInGroup = 0;", "-\t\tint positionInGroup = 0;", "-\t\tif (control instanceof Button && ((control.getStyle() & SWT.RADIO) != 0)) {", "-\t\t\t/* We currently only determine position and count for radio buttons. */", "-\t\t\tControl [] children = control.getParent().getChildren();", "-\t\t\tpositionInGroup = 1;", "-\t\t\tsimilarItemsInGroup = 1;", "-\t\t\tfor (int i = 0; i < children.length; i++) {", "-\t\t\t\tControl child = children[i];", "-\t\t\t\tif (child instanceof Button && ((child.getStyle() & SWT.RADIO) != 0)) {", "-\t\t\t\t\tif (child == control) positionInGroup = similarItemsInGroup;", "-\t\t\t\t\telse similarItemsInGroup++;", "+\t\tAccessibleAttributeEvent event = new AccessibleAttributeEvent(this);", "+\t\tevent.groupLevel = event.groupCount = event.groupIndex = -1;", "+\t\tfor (int i = 0; i < accessibleAttributeListenersSize(); i++) {", "+\t\t\tAccessibleAttributeListener listener = (AccessibleAttributeListener) accessibleAttributeListeners.elementAt(i);", "+\t\t\tlistener.getAttributes(event);", "+\t\t}", "+\t\tint groupLevel = (event.groupLevel != -1) ? event.groupLevel : 0;", "+\t\tint similarItemsInGroup = (event.groupCount != -1) ? event.groupCount : 0;", "+\t\tint positionInGroup = (event.groupIndex != -1) ? event.groupIndex : 0;", "+\t\tif (similarItemsInGroup == 0 && positionInGroup == 0) {", "+\t\t\t/* Determine position and count for radio buttons. */", "+\t\t\tif (control instanceof Button && ((control.getStyle() & SWT.RADIO) != 0)) {", "+\t\t\t\tControl [] children = control.getParent().getChildren();", "+\t\t\t\tpositionInGroup = 1;", "+\t\t\t\tsimilarItemsInGroup = 1;", "+\t\t\t\tfor (int i = 0; i < children.length; i++) {", "+\t\t\t\t\tControl child = children[i];", "+\t\t\t\t\tif (child instanceof Button && ((child.getStyle() & SWT.RADIO) != 0)) {", "+\t\t\t\t\t\tif (child == control) positionInGroup = similarItemsInGroup;", "+\t\t\t\t\t\telse similarItemsInGroup++;", "+\t\t\t\t\t}", "+\t\tCOM.MoveMemory(pGroupLevel, new int [] { groupLevel }, 4);", "-\t\tif (DEBUG) print(this + \".IAccessible2::get_groupPosition() returning\" + hresult(groupLevel == 0 && similarItemsInGroup == 0 && positionInGroup == 0 ? COM.S_FALSE : COM.S_OK));", "+\t\tif (DEBUG) print(this + \".IAccessible2::get_groupPosition() returning level=\" + groupLevel + \", count=\" + similarItemsInGroup + \", index=\" + positionInGroup + hresult(groupLevel == 0 && similarItemsInGroup == 0 && positionInGroup == 0 ? COM.S_FALSE : COM.S_OK));"]}], "num": 27844}