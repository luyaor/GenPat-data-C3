{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ac25285d27fc9eb65eef6be72b1ca839", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "431f14b2751cbfd57bda9cb9fe538017", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "fed20471b02e54430143b8777e1e3f4edb80c702", "commitAfterChange": "13b50b5c7f6f242ffae4a8f19b06c259eda287b0", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": " public void copyArea(Image image, int x, int y)", "signatureAfterChange": " public void copyArea(Image image, int x, int y)", "diff": ["-\t\t\t//TODO implement copyArea(Image, int int) for views", "+\t\t\tNSPoint pt = new NSPoint();", "+\t\t\tpt.x = x;", "+\t\t\tpt.y = y;", "+\t\t\tNSWindow window = data.view.window();", "+\t\t\tpt = data.view.convertPoint_toView_(pt, window.contentView().superview());", "+\t\t\tNSRect frame = window.frame();", "+\t\t\tpt.y = frame.height - pt.y;", "+\t\t\tNSSize size = image.handle.size();", "+\t\t\tCGRect destRect = new CGRect();", "+\t\t\tdestRect.size.width = size.width;", "+\t\t\tdestRect.size.height = size.height;", "+\t\t\tCGRect srcRect = new CGRect();", "+\t\t\tsrcRect.origin.x = pt.x;", "+\t\t\tsrcRect.origin.y = pt.y;", "+\t\t\tsrcRect.size.width = size.width;", "+\t\t\tsrcRect.size.height = size.height;", "+\t\t\timage.handle.lockFocus();", "+\t\t\tNSGraphicsContext context = NSGraphicsContext.currentContext();", "+\t\t\tint /*long*/ contextID = OS.objc_msgSend(NSApplication.sharedApplication().id, OS.sel_contextID);", "+\t\t\tOS.CGContextCopyWindowContentsToRect(context.graphicsPort(), destRect, contextID, window.windowNumber(), srcRect);", "+\t\t\timage.handle.unlockFocus();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0e5297c8566d8895660dff06938c2411", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "0279ac89ad933bec67322b956321e83b2a1ac93a", "commitAfterChange": "dbc3f579c8454ac59e01ac2d56752eda0d58b6cd", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": "  void drawImageWithFrameInView (int id, int sel, int image, NSRect rect, int view)", "signatureAfterChange": "  void drawImageWithFrameInView (int id, int sel, int image, NSRect rect, int view)", "diff": ["-\tcallSuper (id, sel, image, rect, view);", "+\tint /*long*/ cgContext = NSGraphicsContext.currentContext().graphicsPort();", "+\tNSCell cell = new NSCell(id);", "+\tboolean drawSelected = (parent.nsToolbar != null) && getSelection() && ((style & SWT.CHECK) != 0) && !cell.isHighlighted();", "+", "+\tif (drawSelected) {", "+\t\tNSGraphicsContext.currentContext().saveGraphicsState();", "+\t\tCGRect cgRect = new CGRect();", "+\t\tcgRect.origin.x = rect.x;", "+\t\tcgRect.origin.y = rect.y;", "+\t\tcgRect.size.width = rect.width;", "+\t\tcgRect.size.height = rect.height;", "+\t\tOS.CGContextBeginTransparencyLayerWithRect(cgContext, cgRect, 0);", "+\t}", "+", "+\tsuper.drawImageWithFrameInView(id, sel, image, rect, view);", "+", "+\tif (drawSelected) {", "+\t\tNSColor.colorWithCalibratedRed(0,0,0,.3f).setFill();", "+\t\tOS.NSRectFillUsingOperation(rect, OS.NSCompositeSourceAtop);", "+\t\tOS.CGContextEndTransparencyLayer(cgContext);", "+\t\tNSGraphicsContext.currentContext().restoreGraphicsState();", "+\t}", "+}"]}], "num": 55361}