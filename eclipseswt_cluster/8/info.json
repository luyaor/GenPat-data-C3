{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ab4a03f4c65844029d3ce660d1b4cb16", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c0a9c114f0e0ba15a455c30e792ffde0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "68f98f0eeeef8db0fe30e20d0e3f84de07e79333", "commitAfterChange": "774fb42be370672e4e13287a2b979845c7c97bd2", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 18, "signatureBeforeChange": " public TreeItem [] getItems ()", "signatureAfterChange": " public TreeItem [] getItems ()", "diff": ["-\tint count = 0;", "+\tif (hItem == 0) return new TreeItem [0];", "+\treturn getItems (hItem);", "+}", "-\ttvItem.hItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_ROOT, 0);", "-\t\tresult [index++] = items [tvItem.lParam];"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3ccb957926ea9f4d31387eaf7d85719c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/TreeItem.java", "commitBeforeChange": "68f98f0eeeef8db0fe30e20d0e3f84de07e79333", "commitAfterChange": "774fb42be370672e4e13287a2b979845c7c97bd2", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": " public TreeItem [] getItems ()", "signatureAfterChange": " public TreeItem [] getItems ()", "diff": ["-\tint count = 0;", "-\twhile (hItem != 0) {", "-\t\thItem = OS.SendMessage (hwnd, OS.TVM_GETNEXTITEM, OS.TVGN_NEXT, hItem);", "-\t\tcount++;", "-\t}", "-\tint index = 0;", "-\tTreeItem [] result = new TreeItem [count];", "-\tTVITEM tvItem = new TVITEM ();", "-\ttvItem.mask = OS.TVIF_HANDLE | OS.TVIF_PARAM;", "-\ttvItem.hItem = OS.SendMessage (hwnd, OS.TVM_GETNEXTITEM, OS.TVGN_CHILD, handle);", "-\t/*", "-\t* Feature on Windows.  In some cases an OS callback", "-\t* can occur from within the TVM_DELETEITEM message.", "-\t* When this occurs, the node being destroyed has been", "-\t* removed from the items array and is no longer valid,", "-\t* however, the OS has not yet removed the item from", "-\t* its list.  The fix is to check for null items and remove ", "-\t* them from the result array.", "-\t*/", "-\twhile (tvItem.hItem != 0) {", "-\t\tOS.SendMessage (hwnd, OS.TVM_GETITEM, 0, tvItem);", "-\t\tTreeItem item = parent.items [tvItem.lParam];", "-\t\tif (item != null) result [index++] = item;", "-\t\ttvItem.hItem = OS.SendMessage (hwnd, OS.TVM_GETNEXTITEM, OS.TVGN_NEXT, tvItem.hItem);", "-\t}", "-\tif (index != count) {", "-\t\tTreeItem [] newResult = new TreeItem [index];", "-\t\tSystem.arraycopy (result, 0, newResult, 0, index);", "-\t\tresult = newResult;", "-\t}", "-\treturn result;", "+\tif (hItem == 0) return new TreeItem [0];", "+\treturn parent.getItems (hItem);"]}], "num": 8}