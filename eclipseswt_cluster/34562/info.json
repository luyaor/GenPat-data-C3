{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "79ef4f6db3e0c0a050ed7dfee8658369", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4cdad3bacc27bc76ac30dd47da62f3ff", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "9359405f9983f57c42d2d62797acdb1227ec6e19", "commitAfterChange": "29d88a8db85916be90f6f858b6d99fd3160b215f", "methodNumberBeforeChange": 109, "methodNumberAfterChange": 109, "signatureBeforeChange": " public void setCursor (Cursor cursor)", "signatureAfterChange": " public void setCursor (Cursor cursor)", "diff": ["-\tif (OS.FindWindow (where, theWindow) != OS.inContent) return;", "-\tif (theWindow [0] == 0) return;", "+\tif (display.grabControl == this) {", "+\t\ttheWindow [0] = OS.GetControlOwner (handle);", "+\t} else {", "+\t\tif (OS.FindWindow (where, theWindow) != OS.inContent) return;", "+\t\tif (theWindow [0] == 0) return;", "+\t}", "-\tCGPoint inPoint = new CGPoint ();", "-\tinPoint.x = where.h - rect.left;", "-\tinPoint.y = where.v - rect.top;", "-\tint [] theRoot = new int [1];", "-\tOS.GetRootControl (theWindow [0], theRoot);", "-\tOS.HIViewGetSubviewHit (theRoot [0], inPoint, true, theControl);", "-\tint cursorControl = theControl [0];", "-\twhile (theControl [0] != 0 && theControl [0] != handle) {", "-\t\tOS.GetSuperControl (theControl [0], theControl);", "-\t}", "-\tif (theControl [0] == 0) return;", "-\ttheControl [0] = cursorControl;", "-\tdo {", "-\t\tWidget widget = display.getWidget (theControl [0]);", "-\t\tif (widget != null) {", "-\t\t\tif (widget instanceof Control) {", "+\tif (display.grabControl == this) {", "+\t\ttheControl [0] = handle;", "+\t} else {", "+\t\tCGPoint inPoint = new CGPoint ();", "+\t\tinPoint.x = where.h - rect.left;", "+\t\tinPoint.y = where.v - rect.top;", "+\t\tint [] theRoot = new int [1];", "+\t\tOS.GetRootControl (theWindow [0], theRoot);", "+\t\tOS.HIViewGetSubviewHit (theRoot [0], inPoint, true, theControl);", "+\t\tint cursorControl = theControl [0];", "+\t\twhile (theControl [0] != 0 && theControl [0] != handle) {", "+\t\t\tOS.GetSuperControl (theControl [0], theControl);", "+\t\t}", "+\t\tif (theControl [0] == 0) return;", "+\t\ttheControl [0] = cursorControl;", "+\t\tdo {", "+\t\t\tWidget widget = display.getWidget (theControl [0]);", "+\t\t\tif (widget != null) {", "+\t\t\t\tif (widget instanceof Control) {", "+\t\t\t\t\tControl control = (Control) widget;", "+\t\t\t\t\tif (control.isEnabled ()) break;", "+\t\t\t\t}", "+\t\t\t}", "+\t\t\tOS.GetSuperControl (theControl [0], theControl);", "+\t\t} while (theControl [0] != 0);", "+\t\tif (theControl [0] == 0) {", "+\t\t\ttheControl [0] = theRoot [0];", "+\t\t\tWidget widget = display.getWidget (theControl [0]);", "+\t\t\tif (widget != null && widget instanceof Control) {", "-\t\t\t\tif (control.isEnabled ()) break;", "+\t\t\t\ttheControl [0] = control.handle;", "-\t\tOS.GetSuperControl (theControl [0], theControl);", "-\t} while (theControl [0] != 0);", "-\tif (theControl [0] == 0) {", "-\t\ttheControl [0] = theRoot [0];", "-\t\tWidget widget = display.getWidget (theControl [0]);", "-\t\tif (widget != null && widget instanceof Control) {", "-\t\t\tControl control = (Control) widget;", "-\t\t\ttheControl [0] = control.handle;", "-\t\t}", "-\t} ", "-\torg.eclipse.swt.internal.carbon.Point localPoint = new org.eclipse.swt.internal.carbon.Point ();", "-\tlocalPoint.h = (short) inPoint.x;", "-\tlocalPoint.v = (short) inPoint.y;", "+\t}", "+\twhere.h -= rect.left;", "+\twhere.v -= rect.top;", "-\tOS.HandleControlSetCursor (theControl [0], localPoint, (short) modifiers, cursorWasSet);", "+\tOS.HandleControlSetCursor (theControl [0], where, (short) modifiers, cursorWasSet);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2b1d1ac5cbc4c3a73b3aa37025fedea2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "a75068149eafc9d4d03d28e737e9273fea4eb1e2", "commitAfterChange": "74e7e348b8d960aa4ad275ab9db318a695a449ce", "methodNumberBeforeChange": 83, "methodNumberAfterChange": 82, "signatureBeforeChange": "  boolean runEnterExit ()", "signatureAfterChange": "  boolean runEnterExit ()", "diff": ["-\t//OPTIMIZE - use OS calls, no garbage, widget hit tested again in mouse move", "+\t//OPTIMIZE - no garbage, widget hit tested again in mouse move", "-\tControl control = getCursorControl (false);", "+\tControl control = null;", "+\tint [] theControl = new int [1];", "+\torg.eclipse.swt.internal.carbon.Point where = new org.eclipse.swt.internal.carbon.Point ();", "+\tOS.GetGlobalMouse (where);", "+\tint [] theWindow = new int [1];", "+\tif (OS.FindWindow (where, theWindow) == OS.inContent) {", "+\t\tif (theWindow [0] != 0) {", "+\t\t\tRect rect = new Rect ();", "+\t\t\tOS.GetWindowBounds (theWindow [0], (short) OS.kWindowContentRgn, rect);", "+\t\t\tCGPoint inPoint = new CGPoint ();", "+\t\t\tinPoint.x = where.h - rect.left;", "+\t\t\tinPoint.y = where.v - rect.top;", "+\t\t\tint [] theRoot = new int [1];", "+\t\t\tOS.GetRootControl (theWindow [0], theRoot);", "+\t\t\tOS.HIViewGetSubviewHit (theRoot [0], inPoint, true, theControl);", "+\t\t\twhile (theControl [0] != 0 && !OS.IsControlEnabled (theControl [0])) {\t\t\t\t", "+\t\t\t\tOS.GetSuperControl (theControl [0], theControl);", "+\t\t\t}", "+\t\t\tif (theControl [0] != 0) {", "+\t\t\t\tdo {", "+\t\t\t\t\tWidget widget = WidgetTable.get (theControl [0]);", "+\t\t\t\t\tif (widget != null) {", "+\t\t\t\t\t\tif (widget.isTrimHandle (theControl [0])) break;", "+\t\t\t\t\t\tif (widget instanceof Control) {", "+\t\t\t\t\t\t\tControl cursorControl = (Control) widget;", "+\t\t\t\t\t\t\tif (cursorControl.isEnabledModal ()) {", "+\t\t\t\t\t\t\t\tcontrol = cursorControl;", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\tbreak;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t\tOS.GetSuperControl (theControl [0], theControl);", "+\t\t\t\t} while (theControl [0] != 0);", "+\t\t\t}", "+\t\t\tif (control == null) {", "+\t\t\t\ttheControl [0] = theRoot [0];", "+\t\t\t\tWidget widget = WidgetTable.get (theControl [0]);", "+\t\t\t\tif (widget != null && widget instanceof Control) {", "+\t\t\t\t\tcontrol = (Control) widget;", "+\t\t\t\t}", "+\t\t\t}", "+\t\t}", "+\t}", "-\t\t\tPoint point = getCursorLocation ();", "-\t\t\tPoint pt = currentControl.toControl (point);", "+\t\t\tPoint pt = currentControl.toControl (where.h, where.v);", "-\t\t\tPoint point = getCursorLocation ();", "-\t\t\tPoint controlPt = currentControl.toControl (point);", "-\t\t\tcurrentControl.sendMouseEvent (SWT.MouseEnter, (short)0, chord, (short)controlPt.x, (short)controlPt.y, modifiers);", "+\t\t\tPoint pt = currentControl.toControl (where.h, where.v);", "+\t\t\tcurrentControl.sendMouseEvent (SWT.MouseEnter, (short)0, chord, (short)pt.x, (short)pt.y, modifiers);", "-\tif (control != null) {", "-\t\tPoint point = getCursorLocation ();", "+\tif (theWindow [0] != 0 && theControl [0] != 0) {", "+\t\tRect rect = new Rect ();", "+\t\tOS.GetWindowBounds (theWindow [0], (short) OS.kWindowContentRgn, rect);", "+\t\twhere.h -= rect.left;", "+\t\twhere.v -= rect.top;", "+\t\tOS.GetControlBounds (theControl [0], rect);", "+    \twhere.h -= rect.left;", "+    \twhere.v -= rect.top;", "-\t\tPoint windowPt = control.getShell ().toControl (point);", "-\t\torg.eclipse.swt.internal.carbon.Point localPoint = new org.eclipse.swt.internal.carbon.Point ();", "-\t\tOS.SetPt (localPoint, (short) windowPt.x, (short) windowPt.y);", "-\t\tOS.HandleControlSetCursor (control.handle, localPoint, (short) modifiers, cursorWasSet);", "+\t\tOS.HandleControlSetCursor (theControl [0], where, (short) modifiers, cursorWasSet);"]}], "num": 34562}