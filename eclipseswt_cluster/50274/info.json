{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4d0decafe5e75c40e0c1a01477a5b25a", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5d7a776ce77fe8f8561096b61078f878", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabItem.java", "commitBeforeChange": "c420da5cf118e1d31483bddb27f4ae761bc50622", "commitAfterChange": "46028f74aa93a4e2ad670b1ef1ee4791bd1bd728", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": " void drawSelected(GC gc )", "signatureAfterChange": " void drawSelected(GC gc )", "diff": ["-\t", "+\t\t", "-\tint extra = parent.simple ? 0 : CTabFolder.CURVE_WIDTH/2 + 4; // +4 to avoid overlapping with text in next tab", "-\tint rightTabEdge = parent.getRightItemEdge();", "+\tint rightEdge = Math.min (x+width, parent.getRightItemEdge());", "-\t\t\tshape[index++] = x + width - extra + right[2*i];", "+\t\t\tshape[index++] = parent.simple ? rightEdge + right[2*i] : rightEdge - CTabFolder.CURVE_WIDTH/2 - CTabFolder.CURVE_INDENT + right[2*i];", "-\t\tshape[index++] = Math.min(x + width + extra, rightTabEdge);", "+\t\tshape[index++] = parent.simple ? rightEdge : rightEdge + CTabFolder.CURVE_INDENT;", "-\t\tshape[index++] = Math.max(x + width + extra, rightTabEdge);", "+\t\tshape[index++] = parent.simple ? rightEdge : rightEdge + CTabFolder.CURVE_INDENT;", "-\t\tint temp = 0;", "-\t\tfor (int i = 0; i < shape.length/2; i++) {", "-\t\t\tif (shape[2*i] > rightTabEdge) {", "-\t\t\t\tif (temp == 0 && i > 0) {", "-\t\t\t\t\ttemp = shape[2*i-1];", "-\t\t\t\t} else {", "-\t\t\t\t\ttemp = y - 1;", "-\t\t\t\t}", "-\t\t\t\tshape[2*i] = rightTabEdge;", "-\t\t\t\tshape[2*i+1] = temp;", "-\t\t\t}", "-\t\t}", "-\t\t\tshape[index++] = x + width - extra + right[2*i];", "+\t\t\tshape[index++] = parent.simple ? rightEdge + right[2*i] : rightEdge - CTabFolder.CURVE_WIDTH/2 - CTabFolder.CURVE_INDENT + right[2*i];", "-\t\tshape[index++] = Math.min (x + width + extra, rightTabEdge);", "+\t\tshape[index++] = parent.simple ? rightEdge : rightEdge + CTabFolder.CURVE_INDENT;", "-\t\tshape[index++] = Math.max (x + width + extra, rightTabEdge);", "+\t\tshape[index++] = parent.simple ? rightEdge : rightEdge + CTabFolder.CURVE_INDENT;", "-\t\tint temp = 0;", "-\t\tfor (int i = 0; i < shape.length/2; i++) {", "-\t\t\tif (shape[2*i] > rightTabEdge) {", "-\t\t\t\tif (temp == 0 && i > 0) {", "-\t\t\t\t\ttemp = shape[2*i-1];", "-\t\t\t\t} else {", "-\t\t\t\t\ttemp = y + height + 1;", "-\t\t\t\t}", "-\t\t\t\tshape[2*i] = rightTabEdge;", "-\t\t\t\tshape[2*i+1] = temp;", "-\t\t\t}", "-\t\t}", "-\t", "-\tif ( x < rightTabEdge) {", "-\t\t// Limit drawing area of tab", "-\t\tRegion r = new Region();", "-\t\tr.subtract(r); //clear", "-\t\tRegion clipping = new Region();", "-\t\tgc.getClipping(clipping);", "-\t\tr.add(clipping);", "-\t\tr.intersect(new Rectangle(x, y, Math.min(width, rightTabEdge-x), height));", "-\t\tgc.setClipping(r);", "-\t", "-\t\t// draw Image", "-\t\tint xDraw = x + LEFT_MARGIN;", "-\t\tImage image = getImage();", "-\t\tif (image != null) {", "-\t\t\tRectangle imageBounds = image.getBounds();", "+", "+\t// draw Image", "+\tint xDraw = x + LEFT_MARGIN;", "+\tImage image = getImage();", "+\tif (image != null) {", "+\t\tRectangle imageBounds = image.getBounds();", "+\t\t// only draw image if it won't overlap with close button", "+\t\tint maxImageWidth = rightEdge - xDraw - RIGHT_MARGIN;", "+\t\tif (!parent.simple) maxImageWidth -= CTabFolder.CURVE_INDENT;", "+\t\tif (closeRect.width > 0) maxImageWidth -= closeRect.width + INTERNAL_SPACING;", "+\t\tif (closeRect.width == 0 || imageBounds.width < maxImageWidth) {", "-\t\t", "-\t\t// draw Text", "-\t\tint textWidth = x + width - xDraw - RIGHT_MARGIN;", "-\t\tif (closeRect.width > 0) textWidth -= closeRect.width + INTERNAL_SPACING;", "+\t}", "+\t", "+\t// draw Text", "+\tint textWidth = rightEdge - xDraw - RIGHT_MARGIN;", "+\tif (!parent.simple) textWidth -= CTabFolder.CURVE_INDENT;", "+\tif (closeRect.width > 0) textWidth -= closeRect.width + INTERNAL_SPACING;", "+\tif (textWidth > 0) {", "-\t\tif (parent.showClose || showClose) drawClose(gc);", "-\t\t", "-\t\t", "-\t\tgc.setClipping(clipping);", "-\t\tr.dispose();", "-\t\tclipping.dispose();", "+\tif (parent.showClose || showClose) drawClose(gc);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c24b093d5f231d1559dabdd930cfd8fc", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabItem2.java", "commitBeforeChange": "03f23aa773469b8a3f3e0a770076508526525b40", "commitAfterChange": "1051f4ce684a4239d50c42e8ac0e4ce13591cb56", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "  void drawSelected(GC gc )", "signatureAfterChange": "  void drawSelected(GC gc )", "diff": ["-\tDisplay display = getDisplay();", "-\tint[] shape = null;", "+\tint rightTabEdge = parent.getSize().x - parent.borderRight - parent.chevronRect.width - parent.expandRect.width - parent.closeRect.width - 1;", "+\tif (rightTabEdge <= x) return;", "+\t// draw background", "+\tint[] shape = null;", "-\t\tshape = new int[left.length+right.length+4];", "+\t\tshape = new int[left.length+right.length+6];", "-\t\tshape[index++] = y + CTabFolder2.SELECTION_BORDER - 1;", "+\t\tshape[index++] = y - 1;", "-\t\t\tshape[index++]=x+left[2*i];", "-\t\t\tshape[index++]=y+height+left[2*i+1]-1;", "+\t\t\tshape[index++] = x + left[2*i];", "+\t\t\tshape[index++] = y + height + left[2*i+1] - 1;", "-\t\t\tshape[index++]=x+width-extra+right[2*i];", "-\t\t\tshape[index++]=y+right[2*i+1]-2;", "+\t\t\tshape[index++] = x + width - extra + right[2*i];", "+\t\t\tshape[index++] = y + right[2*i+1] - 1;", "+\t\tint temp = 0;", "+\t\tfor (int i = 0; i < shape.length/2; i++) {", "+\t\t\tif (shape[2*i] > rightTabEdge) {", "+\t\t\t\tif (temp == 0 && i > 0) {", "+\t\t\t\t\ttemp = shape[2*i-1];", "+\t\t\t\t} else {", "+\t\t\t\t\ttemp = y - 1;", "+\t\t\t\t}", "+\t\t\t\tshape[2*i] = rightTabEdge;", "+\t\t\t\tshape[2*i+1] = temp;", "+\t\t\t}", "+\t\t}", "+\t\tshape[index++] = rightTabEdge;", "+\t\tshape[index++] = y - 1;", "-\t\tshape[index++] = y + CTabFolder2.SELECTION_BORDER - 1;", "+\t\tshape[index++] = y - 1;", "-\t\tshape = new int[left.length+right.length+4];", "+\t\tshape = new int[left.length+right.length+6];", "-\t\tshape[index++] = y + height - CTabFolder2.SELECTION_BORDER;", "+\t\tshape[index++] = y + height;", "-\t\t\tshape[index++]=x+left[2*i];", "-\t\t\tshape[index++]=y+left[2*i+1];", "+\t\t\tshape[index++] = x + left[2*i];", "+\t\t\tshape[index++] = y + left[2*i+1];", "-\t\t\tshape[index++]=x+width-extra+right[2*i];", "-\t\t\tshape[index++]=y+right[2*i+1];", "+\t\t\tshape[index++] = x + width - extra + right[2*i];", "+\t\t\tshape[index++] = y + right[2*i+1];", "+\t\tint temp = 0;", "+\t\tfor (int i = 0; i < shape.length/2; i++) {", "+\t\t\tif (shape[2*i] > rightTabEdge) {", "+\t\t\t\tif (temp == 0 && i > 0) {", "+\t\t\t\t\ttemp = shape[2*i-1];", "+\t\t\t\t} else {", "+\t\t\t\t\ttemp = y + height + 1;", "+\t\t\t\t}", "+\t\t\t\tshape[2*i] = rightTabEdge;", "+\t\t\t\tshape[2*i+1] = temp;", "+\t\t\t}", "+\t\t}", "+\t\tshape[index++] = rightTabEdge;", "+\t\tshape[index++] = y + height + 1;", "-\t\tshape[index++] = y + height - CTabFolder2.SELECTION_BORDER+1;", "+\t\tshape[index++] = y + height + 1;", "-\tparent.drawSelectionBackground(gc, y, shape);", "+\tparent.drawSelectionBackground(gc, shape);", "-\tif (parent.onBottom) {", "-\t\tr.add(new Rectangle(x, y + CTabFolder2.SELECTION_BORDER, width, height - CTabFolder2.SELECTION_BORDER));", "-\t} else {", "-\t\tr.add(new Rectangle(x, y, width, height - CTabFolder2.SELECTION_BORDER));", "-\t}", "+\tr.add(new Rectangle(x, y, width, height));", "-\tr.dispose();", "-\t", "+", "+\t// Limit drawing area of tab\t", "+\tRegion clipping = new Region();", "+\tgc.getClipping(clipping);", "+\tr.subtract(r); //clear", "+\tr.add(clipping);", "+\tr.intersect(new Rectangle(x, y, Math.min(width, rightTabEdge-x), height));", "+\tgc.setClipping(r);", "+", "-\t\tint imageY = y;", "-\t\tif (parent.onBottom) {", "-\t\t\timageY+= BOTTOM_MARGIN + (height - TOP_MARGIN - BOTTOM_MARGIN - imageHeight) / 2;", "-\t\t} else {", "-\t\t\timageY+= TOP_MARGIN + (height - TOP_MARGIN - BOTTOM_MARGIN - imageHeight) / 2;", "-\t\t}", "+\t\tint imageY = y + (height - imageHeight) / 2;", "+\t\timageY += parent.onBottom ? -1 : 1;", "-\tint textY = y;", "-\tif (parent.onBottom) {", "-\t\ttextY+= BOTTOM_MARGIN + (height - TOP_MARGIN - BOTTOM_MARGIN - extent.y) / 2;", "-\t} else {", "-\t\ttextY+= TOP_MARGIN + (height - TOP_MARGIN - BOTTOM_MARGIN - extent.y) / 2;", "-\t}", "+\tint textY = y + (height - extent.y) / 2;", "+\ttextY += parent.onBottom ? -1 : 1;", "+\t\tDisplay display = getDisplay();", "+\t", "+\tgc.setClipping(clipping);", "+\tr.dispose();", "+\tclipping.dispose();"]}], "num": 50274}