{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "27553834f8c5a80137fcbf68e55af8b3", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3e836f69698c2cad30e770ca85e9e96f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/MenuItem.java", "commitBeforeChange": "374a9aef6d3cdbe23142c7622f439f5425ecaa80", "commitAfterChange": "ed307d3f65dabf3aa5aefbc1cbd79da8679af838", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 26, "signatureBeforeChange": "  void handleMenuSelect ()", "signatureAfterChange": "  void handleMenuSelect ()", "diff": ["-", "-void handleMenuSelect () {", "-\tif ((style & SWT.CHECK) != 0) {", "-\t\tsetSelection (!getSelection ());", "-\t} else {", "-\t\tif ((style & SWT.RADIO) != 0) {", "-\t\t\tif ((parent.getStyle () & SWT.NO_RADIO_GROUP) != 0) {", "-\t\t\t\tsetSelection (!getSelection ());", "-\t\t\t} else {", "-\t\t\t\tselectRadio ();", "-\t\t\t}", "-\t\t}", "-\t}", "-\tEvent event = new Event ();", "-\t/* AW", "-\tif (OS.GetKeyState (OS.VK_MENU) < 0) event.stateMask |= SWT.ALT;", "-\tif (OS.GetKeyState (OS.VK_SHIFT) < 0) event.stateMask |= SWT.SHIFT;", "-\tif (OS.GetKeyState (OS.VK_CONTROL) < 0) event.stateMask |= SWT.CONTROL;", "-\tif (OS.GetKeyState (OS.VK_LBUTTON) < 0) event.stateMask |= SWT.BUTTON1;", "-\tif (OS.GetKeyState (OS.VK_MBUTTON) < 0) event.stateMask |= SWT.BUTTON2;", "-\tif (OS.GetKeyState (OS.VK_RBUTTON) < 0) event.stateMask |= SWT.BUTTON3;", "-\t*/", "-\tpostEvent (SWT.Selection, event);", "-}", "+", "+void handleMenuSelect () {", "+", "+\tif ((style & (SWT.CHECK | SWT.RADIO)) != 0) {", "+\t\tsetSelection (!getSelection ());", "+\t// System.out.println(\"handleMenuSelect: \" + getText() + \"  \" + getSelection());", "+\t", "+\tEvent event = new Event ();", "+\t/* AW", "+\tif (OS.GetKeyState (OS.VK_MENU) < 0) event.stateMask |= SWT.ALT;", "+\tif (OS.GetKeyState (OS.VK_SHIFT) < 0) event.stateMask |= SWT.SHIFT;", "+\tif (OS.GetKeyState (OS.VK_CONTROL) < 0) event.stateMask |= SWT.CONTROL;", "+\tif (OS.GetKeyState (OS.VK_LBUTTON) < 0) event.stateMask |= SWT.BUTTON1;", "+\tif (OS.GetKeyState (OS.VK_MBUTTON) < 0) event.stateMask |= SWT.BUTTON2;", "+\tif (OS.GetKeyState (OS.VK_RBUTTON) < 0) event.stateMask |= SWT.BUTTON3;", "+\t*/", "+\tpostEvent (SWT.Selection, event);", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7da2b4e59fb500066655ee04d9dfdc7c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "5f4ad00ced8eb9534f0b8d4be4710ee4f2d95ae3", "commitAfterChange": "ace3941e268d50c983abbe2bd09ea37e6b7bf23a", "methodNumberBeforeChange": 88, "methodNumberAfterChange": 88, "signatureBeforeChange": "  void setBackgroundImage (int hBitmap)", "signatureAfterChange": "  void setBackgroundImage (int hBitmap)", "diff": ["+\t\t/*", "+\t\t* Feature in Windows.  When the tree has the style", "+\t\t* TVS_FULLROWSELECT, the background color for the", "+\t\t* entire row is filled when an item is painted,", "+\t\t* drawing on top of the background image.  The fix", "+\t\t* is to clear TVS_FULLROWSELECT when a background", "+\t\t* image is set.", "+\t\t*/", "+\t\tif ((style & SWT.FULL_SELECTION) != 0) {", "+\t\t\tint bits = OS.GetWindowLong (handle, OS.GWL_STYLE);", "+\t\t\tif ((bits & OS.TVS_FULLROWSELECT) != 0) {", "+\t\t\t\tbits &= ~OS.TVS_FULLROWSELECT;", "+\t\t\t\tOS.SetWindowLong (handle, OS.GWL_STYLE, bits);", "+\t\t\t\tOS.InvalidateRect (handle, null, true);", "+\t\t\t}", "+\t\t}", "+}", "-\t* is to clear TVS_FULLROWSELECT.", "-\t\tif (hBitmap != 0) {", "-\t\t\tbits &= ~OS.TVS_FULLROWSELECT;", "-\t\t} else {", "-\t\t\tif (!hooks (SWT.EraseItem) && !hooks (SWT.PaintItem)) {", "-\t\t\t\tbits |= OS.TVS_FULLROWSELECT;", "-\t\t\t}", "-\t\tOS.SetWindowLong (handle, OS.GWL_STYLE, bits);", "-\t\tOS.InvalidateRect (handle, null, true);", "-}"]}], "num": 13126}