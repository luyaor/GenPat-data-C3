{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "7c4860db4a5858739e427a1a8bc0bd6e", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "65f1d057ecb503f5d7df23d326a54002", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Label.java", "commitBeforeChange": "7e81b84a2c12e711d885a4cd4a47a7eab239d8f4", "commitAfterChange": "edcf7c0e3595e65e30021cf83de1448eadf495c1", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 14, "signatureBeforeChange": " public void setText (String string)", "signatureAfterChange": " public void setText (String string)", "diff": ["-\tint newBits = OS.GetWindowLong (handle, OS.GWL_STYLE), oldBits = newBits;", "-\tnewBits &= ~(OS.SS_BITMAP | OS.SS_ICON | OS.SS_REALSIZEIMAGE | OS.SS_CENTERIMAGE);", "-\tif ((style & SWT.LEFT) != 0 && (style & SWT.WRAP) == 0) newBits |= OS.SS_LEFTNOWORDWRAP;", "+\tint oldBits = OS.GetWindowLong (handle, OS.GWL_STYLE);", "+\tint newBits = oldBits & ~OS.SS_OWNERDRAW;", "+\tif ((style & SWT.LEFT) != 0 && (style & SWT.WRAP) == 0) {", "+\t\tnewBits |= OS.SS_LEFTNOWORDWRAP;", "+\t}", "-\tif (newBits != oldBits) {", "-\t\t/*", "-\t\t* Bug in Windows.  When the style of a label is SS_BITMAP", "-\t\t* or SS_ICON, the label does not remember the font that is", "-\t\t* set in WM_SETFONT.  The fix is to remember the font and", "-\t\t* return the font in WM_GETFONT and to reset the font when", "-\t\t* the style is changed from SS_BITMAP or SS_ICON to a style", "-\t\t* that displays text.", "-\t\t*/", "-\t\tint hFont = OS.SendMessage (handle, OS.WM_GETFONT, 0, 0);", "+\tif (oldBits != newBits) {", "-\t\tif (hFont != 0) OS.SendMessage (handle, OS.WM_SETFONT, hFont, 0);", "-}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7651b6d5a27f3ae356fea8b795e9024b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Label.java", "commitBeforeChange": "7e81b84a2c12e711d885a4cd4a47a7eab239d8f4", "commitAfterChange": "edcf7c0e3595e65e30021cf83de1448eadf495c1", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 12, "signatureBeforeChange": " public void setAlignment (int alignment)", "signatureAfterChange": " public void setAlignment (int alignment)", "diff": ["-\t/*", "-\t* Feature in Windows.  The windows label does not align", "-\t* the bitmap or icon.  Any attempt to set alignment bits", "-\t* such as SS_CENTER cause the label to display text.  The", "-\t* fix is to disallow alignment.", "-\t*", "-\t* NOTE: SS_BITMAP and SS_ICON are not single bit", "-\t* masks so it is necessary to test for all of the", "-\t* bits in these masks.", "-\t*/", "-\tif ((bits & OS.SS_BITMAP) == OS.SS_BITMAP) return;", "-\tif ((bits & OS.SS_ICON) == OS.SS_ICON) return;", "-\tbits &= ~(OS.SS_LEFTNOWORDWRAP | OS.SS_CENTER | OS.SS_RIGHT);", "-\tif ((style & SWT.LEFT) != 0 && (style & SWT.WRAP) == 0) {", "-\t\tbits |= OS.SS_LEFTNOWORDWRAP;", "+\tif ((bits & OS.SS_OWNERDRAW) != OS.SS_OWNERDRAW) {", "+\t\tbits &= ~(OS.SS_LEFTNOWORDWRAP | OS.SS_CENTER | OS.SS_RIGHT);", "+\t\tif ((style & SWT.LEFT) != 0 && (style & SWT.WRAP) == 0) {", "+\t\t\tbits |= OS.SS_LEFTNOWORDWRAP;", "+\t\t}", "+\t\tif ((style & SWT.CENTER) != 0) bits |= OS.SS_CENTER;", "+\t\tif ((style & SWT.RIGHT) != 0) bits |= OS.SS_RIGHT;", "+\t\tOS.SetWindowLong (handle, OS.GWL_STYLE, bits);", "-\tif ((style & SWT.CENTER) != 0) bits |= OS.SS_CENTER;", "-\tif ((style & SWT.RIGHT) != 0) bits |= OS.SS_RIGHT;", "-\tOS.SetWindowLong (handle, OS.GWL_STYLE, bits);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3fbfbe1ab1da0633445988b7b84af0e5", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "a904c735d7b842cb2cf4e54ee4f84765b2ecaed0", "commitAfterChange": "28341f36b2b474d250bcbc993c3af8734c20f08e", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  void _addListener (int eventType, Listener listener)", "signatureAfterChange": "  void _addListener (int eventType, Listener listener)", "diff": ["-\t\t\tint oldBits = OS.GetWindowLong (handle, OS.GWL_STYLE), newBits = oldBits;", "-\t\t\tnewBits |= OS.TVS_NOHSCROLL | OS.TVS_NOTOOLTIPS;", "-\t\t\tif (EXPLORER_THEME) {", "-\t\t\t\tif (!OS.IsWinCE && OS.WIN32_VERSION >= OS.VERSION (6, 0)) {", "-\t\t\t\t\tnewBits &= ~OS.TVS_TRACKSELECT;", "-\t\t\t\t}", "-\t\t\t}", "+\t\t\tint bits = OS.GetWindowLong (handle, OS.GWL_STYLE);", "+\t\t\tbits |= OS.TVS_NOHSCROLL | OS.TVS_NOTOOLTIPS;", "-\t\t\t\tif (eventType != SWT.MeasureItem) newBits &= ~OS.TVS_FULLROWSELECT;", "-\t\t\t} else {", "-\t\t\t\tif (EXPLORER_THEME) {", "-\t\t\t\t\tif (!OS.IsWinCE && OS.WIN32_VERSION >= OS.VERSION (6, 0)) {", "-\t\t\t\t\t\tnewBits |= OS.TVS_HASLINES;", "-\t\t\t\t\t}", "-\t\t\t\t}", "+\t\t\t\tif (eventType != SWT.MeasureItem) bits &= ~OS.TVS_FULLROWSELECT;", "-\t\t\tif (newBits != oldBits) {", "-\t\t\t\tOS.SetWindowLong (handle, OS.GWL_STYLE, newBits);", "+\t\t\tif (bits != OS.GetWindowLong (handle, OS.GWL_STYLE)) {", "+\t\t\t\tOS.SetWindowLong (handle, OS.GWL_STYLE, bits);", "-\t\t\t\t\tOS.SetWindowTheme (handle, null, null);", "+\t\t\t\t\tsetExplorerTheme (false);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6bf8d796a5a3180d106024ec31777179", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Label.java", "commitBeforeChange": "c63ca636edfbea4cd55ccc07da414186be375ce0", "commitAfterChange": "e38d4aec3f79c42ea6666a7a37c026187a8aa6ea", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": " public void setText (String string)", "signatureAfterChange": " public void setText (String string)", "diff": ["-\tint oldBits = OS.GetWindowLong (handle, OS.GWL_STYLE);", "-\tint newBits = oldBits & ~OS.SS_OWNERDRAW;", "-\tif ((style & SWT.LEFT) != 0) {", "-\t\tif ((style & SWT.WRAP) != 0) {", "-\t\t\tnewBits |= OS.SS_LEFT;", "-\t\t} else {", "+\tint oldBits = OS.GetWindowLong (handle, OS.GWL_STYLE), newBits = oldBits;", "+\tif (image == null) {", "+\t\tnewBits &= ~OS.SS_OWNERDRAW;", "+\t\tif ((style & SWT.LEFT) != 0) {", "+\t\t\tif ((style & SWT.WRAP) != 0) {", "+\t\t\t\tnewBits |= OS.SS_LEFT;", "+\t\t\t} else {", "+\t\t\t}", "-\t}", "-\tif ((style & SWT.CENTER) != 0) newBits |= OS.SS_CENTER;", "-\tif ((style & SWT.RIGHT) != 0) newBits |= OS.SS_RIGHT;", "-\tif (oldBits != newBits) {", "-\t\tOS.SetWindowLong (handle, OS.GWL_STYLE, newBits);", "+\t\tif ((style & SWT.CENTER) != 0) newBits |= OS.SS_CENTER;", "+\t\tif ((style & SWT.RIGHT) != 0) newBits |= OS.SS_RIGHT;", "+\t\tif (oldBits != newBits) {", "+\t\t\tOS.SetWindowLong (handle, OS.GWL_STYLE, newBits);", "+\t\t}"]}], "num": 14963}