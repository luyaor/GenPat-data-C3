{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e592b6bcdef988cad571fa3ec8d3327c", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "36512c593cd1bd83b242daf0a0219973", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "f2afadf3ecbde81e97161d4a80435b171827f960", "commitAfterChange": "cf34d636662ca6587452948946037bfb3d522d9c", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": " void createMask()", "signatureAfterChange": " void createMask()", "diff": ["+\tif (OS.USE_CAIRO_SURFACE) {", "+\t\tint width = this.width;", "+\t\tint height = this.height;", "+\t\tint stride = Cairo.cairo_format_stride_for_width(Cairo.CAIRO_FORMAT_ARGB32, width);", "+\t\tbyte[] srcData = new byte[stride * height];", "+\t\tint oa, or, og, ob, tr, tg, tb;", "+\t\tif (OS.BIG_ENDIAN) {", "+\t\t\toa = 0; or = 1; og = 2; ob = 3;", "+\t\t\ttr = (transparentPixel >> 24) & 0xFF;", "+\t\t\ttg = (transparentPixel >> 16) & 0xFF;", "+\t\t\ttb = (transparentPixel >> 8) & 0xFF;", "+\t\t} else {", "+\t\t\toa = 3; or = 2; og = 1; ob = 0;", "+\t\t\ttr = (transparentPixel >> 16) & 0xFF;", "+\t\t\ttg = (transparentPixel >> 8) & 0xFF;", "+\t\t\ttb = (transparentPixel >> 0) & 0xFF;", "+\t\t}", "+\t\tOS.memmove(srcData, this.surfaceData, srcData.length);", "+\t\tint offset = 0;", "+\t\tfor (int y = 0; y < height; y++) {", "+\t\t\tfor (int x = 0; x < width; x++, offset += 4) {", "+\t\t\t\tint a = srcData[offset + oa] & 0xFF;", "+\t\t\t\tint r = srcData[offset + or] & 0xFF;", "+\t\t\t\tint g = srcData[offset + og] & 0xFF;", "+\t\t\t\tint b = srcData[offset + ob] & 0xFF;", "+\t\t\t\tif (r == tr && g == tg && b == tb) {", "+\t\t\t\t\ta = r = g = b = 0;", "+\t\t\t\t} else {", "+\t\t\t\t\ta = 0xff;", "+\t\t\t\t}", "+\t\t\t\tsrcData[offset + oa] = (byte)a;", "+\t\t\t\tsrcData[offset + or] = (byte)r;", "+\t\t\t\tsrcData[offset + og] = (byte)g;", "+\t\t\t\tsrcData[offset + ob] = (byte)b;", "+\t\t\t}", "+\t\t}", "+\t\tOS.memmove(this.surfaceData, srcData, srcData.length);", "+\t\treturn;", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f29c146a5678164716de51a980c5a51c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "2703b6b4917ee70e34e69f6beabdf6e17c0e648e", "commitAfterChange": "0e0eae7504b067875076ee5d9af4693ac4a9b250", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "  void createAlpha ()", "signatureAfterChange": "  void createAlpha ()", "diff": ["+\t\tint /*long*/ bitmapData = imageRep.bitmapData();", "+\t\tint /*long*/ format = imageRep.bitmapFormat();", "-\t\tOS.memmove(srcData, imageRep.bitmapData(), dataSize);", "+\t\tOS.memmove(srcData, bitmapData, dataSize);", "-\t\t\tfor (int i=0; i<dataSize; i+=4) {", "-\t\t\t\tint pixel = ((srcData[i+1] & 0xFF) << 16) | ((srcData[i+2] & 0xFF) << 8) | (srcData[i+3] & 0xFF);", "-\t\t\t\tsrcData[i] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "+\t\t\tif ((format & OS.NSAlphaFirstBitmapFormat) != 0) {", "+\t\t\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\t\t\tint pixel = ((srcData[i+1] & 0xFF) << 16) | ((srcData[i+2] & 0xFF) << 8) | (srcData[i+3] & 0xFF);", "+\t\t\t\t\tsrcData[i] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "+\t\t\t\t}", "+\t\t\t} else {", "+\t\t\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\t\t\tint pixel = ((srcData[i+0] & 0xFF) << 16) | ((srcData[i+1] & 0xFF) << 8) | (srcData[i+2] & 0xFF);", "+\t\t\t\t\tsrcData[i] = (byte)(pixel == transparentPixel ? 0 : 0xFF); ", "+\t\t\t\t}", "-\t\t\tfor (int i=0; i<dataSize; i+=4) {", "+\t\t\tfor (int i=(format & OS.NSAlphaFirstBitmapFormat) != 0 ? 0 : 3; i<dataSize; i+=4) {", "-\t\t\tint offset = 0, alphaOffset = 0;", "+\t\t\tint offset = 0, alphaOffset = (format & OS.NSAlphaFirstBitmapFormat) != 0 ? 0 : 3;", "-\t\tOS.memmove(imageRep.bitmapData(), srcData, dataSize);", "+\t\tOS.memmove(bitmapData, srcData, dataSize);"]}], "num": 38608}