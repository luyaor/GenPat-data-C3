{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "242bc2e3151d3071cf51c8b402ad8c74", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a7b6c544ff09147bb9ba5c3d02e88e57", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Canvas.java", "commitBeforeChange": "1157128fd830a8843d5322987c11510cfbcc0282", "commitAfterChange": "f8c35eab411ee98f9a7ccfc38cb091a623363ce5", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": " public void drawBackground (GC gc, int x, int y, int width, int height)", "signatureAfterChange": " public void drawBackground (GC gc, int x, int y, int width, int height)", "diff": ["-\t\tif (gc.getGCData().image != null) imgHeight =  gc.getGCData().image.getBounds().height;", "+\t\tGCData data = gc.getGCData();", "+\t\tNSGraphicsContext context = gc.handle;", "+\t\tif (data.image != null) {", "+\t\t\timgHeight =  data.image.getBounds().height;", "+\t\t\tNSGraphicsContext.static_saveGraphicsState();", "+\t\t\tNSGraphicsContext.setCurrentContext(context);", "+\t\t}", "+\t\tif (data.image != null) {", "+\t\t\tNSGraphicsContext.static_restoreGraphicsState();", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7f47e1bae90357854ccdceec28c2f7be", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "65a37bcccff2e660b659ef8ed7615bbf040f19bd", "commitAfterChange": "9060990a4adbb740705acd1cea6ae47201f32a47", "methodNumberBeforeChange": 135, "methodNumberAfterChange": 135, "signatureBeforeChange": "  void setMenuBar (Menu menu)", "signatureAfterChange": "  void setMenuBar (Menu menu)", "diff": ["-\t\t\titems[i].nsItem.setMenu(null);", "-\t\t\tmenubar.addItem(items[i].nsItem);", "+\t\t\tMenuItem item = items[i];", "+\t\t\tNSMenuItem nsItem = item.nsItem;", "+\t\t\tnsItem.setMenu(null);", "+\t\t\tmenubar.addItem(nsItem);", "+\t\t\t", "+\t\t\t/*", "+\t\t\t* Bug in Cocoa: Calling NSMenuItem.setEnabled() for menu item of a menu bar only", "+\t\t\t* works when the menu bar is the current menu bar.  The underline OS menu does get", "+\t\t\t* enabled/disable when that menu is set later on.  The fix is to toggle the", "+\t\t\t* item enabled state to force the underline menu to be updated.  ", "+\t\t\t*/", "+\t\t\tboolean enabled = menu.getEnabled () && item.getEnabled ();", "+\t\t\tnsItem.setEnabled(!enabled);", "+\t\t\tnsItem.setEnabled(enabled);"]}], "num": 9612}