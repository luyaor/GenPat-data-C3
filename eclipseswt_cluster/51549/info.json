{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b794848937559863c269a1c3658819ed", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e7d72f7557695443475a478dcd2fd522", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/carbon/org/eclipse/swt/dnd/DragSource.java", "commitBeforeChange": "4cee1510f39bbb7c7d4f6e9abf9fd1a33eea8ac5", "commitAfterChange": "3ab56b5604383800c8a292b023ac3e8e38549981", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "  void drag(Event dragEvent)", "signatureAfterChange": "  void drag(Event dragEvent)", "diff": ["+\tImage newImage = null;", "+\t\t\t/* Bug174467: It seems that SetDragImageWithCGImage expects an image with the alpha", "+\t\t\t * channel; otherwise the image will not be visible.", "+\t\t\t */", "+\t\t\tif (OS.CGImageGetAlphaInfo(image.handle) == OS.kCGImageAlphaNoneSkipFirst) {", "+\t\t\t\tImageData data = image.getImageData();", "+\t\t\t\tdata.alpha = 0xFF;", "+\t\t\t\tnewImage = new Image(image.getDevice(), data);", "+\t\t\t\timage = newImage;", "+\t\t\t}", "+\t\tif (newImage != null) newImage.dispose();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ac095398ba13979ac6c7b8d908977f88", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/carbon/org/eclipse/swt/dnd/DragSource.java", "commitBeforeChange": "b718306803d22d54ab6af10f8ad6048ad7f4a0ea", "commitAfterChange": "5232ebb9cf681f9533d615cb73b0f5be42ae0aea", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "  void drag(Event dragEvent)", "signatureAfterChange": "  void drag(Event dragEvent)", "diff": ["-\t\t\t/* Bug174467: It seems that SetDragImageWithCGImage expects an image with the alpha", "-\t\t\t * channel; otherwise the image will not be visible.", "-\t\t\t */", "+\t\t\t/*", "+\t\t\t* Bug in the Macintosh.  For  some reason, it seems that SetDragImageWithCGImage() ", "+\t\t\t* expects an image with the alpha, otherwise the image does not draw.  The fix is", "+\t\t\t* to make sure that the image has an alpha by creating a new image with alpha", "+\t\t\t* when necessary.", "+\t\t\t*/", "-\t\t\tOS.SetDragImageWithCGImage(theDrag[0], image.handle, imageOffsetPt, OS.kDragStandardTranslucency);", "+\t\t\tOS.SetDragImageWithCGImage(theDrag[0], image.handle, imageOffsetPt, 0);"]}], "num": 51549}