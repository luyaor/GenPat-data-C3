{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d84671be53ddd79f6c09f5e25d07ca2c", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d540d2d8fc3801d1eed8fc84b96de4de", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/treetable/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "e0f424f4d8f50a0b627d5547781b8a9ee0dd7d5d", "commitAfterChange": "fcdb639e3cc78f86b4ef0958aadf0dd2ef687069", "methodNumberBeforeChange": 59, "methodNumberAfterChange": 10, "signatureBeforeChange": " void itemDisposing (TreeItem item)", "signatureAfterChange": " void destroyItem (TreeItem item)", "diff": ["+ */", "+void destroyItem (TreeItem item) {", "+\tint availableIndex = item.availableIndex; ", "+\tif (availableIndex != -1) {", "+\t\tTreeItem[] newAvailableItems = new TreeItem[availableItems.length - 1];", "+\t\tSystem.arraycopy (availableItems, 0, newAvailableItems, 0, availableIndex);", "+\t\tSystem.arraycopy (", "+\t\t\tavailableItems,", "+\t\t\tavailableIndex + 1,", "+\t\t\tnewAvailableItems,", "+\t\t\tavailableIndex,", "+\t\t\tnewAvailableItems.length - availableIndex);", "+\t\tavailableItems = newAvailableItems;", "+\t\t/* update the availableIndex on affected items */", "+\t\tfor (int i = availableIndex; i < availableItems.length; i++) {", "+\t\t\tavailableItems[i].availableIndex = i;", "+\t\t}", "+\t\titem.availableIndex = -1;", "+\t\tupdateVerticalBar ();", "+\t\tupdateHorizontalBar ();", "+\t}", "+\tif (item.isSelected ()) {", "+\t\tint selectionIndex = getSelectionIndex (item);", "+\t\tTreeItem[] newSelectedItems = new TreeItem[selectedItems.length - 1];", "+\t\tSystem.arraycopy (selectedItems, 0, newSelectedItems, 0, selectionIndex);", "+\t\tSystem.arraycopy (", "+\t\t\tselectedItems,", "+\t\t\tselectionIndex + 1,", "+\t\t\tnewSelectedItems,", "+\t\t\tselectionIndex,", "+\t\t\tnewSelectedItems.length - selectionIndex);", "+\t\tselectedItems = newSelectedItems;", "+\t}", "+\tif (item.isRoot ()) {", "+\t\tint index = item.getIndex ();", "+\t\tTreeItem[] newItems = new TreeItem[items.length - 1];", "+\t\tSystem.arraycopy (items, 0, newItems, 0, index);", "+\t\tSystem.arraycopy (items, index + 1, newItems, index, newItems.length - index);", "+\t\titems = newItems;", "+\t}", "+\tif (item == focusItem) reassignFocus ();", "+\tif (item == anchorItem) anchorItem = null;", "+\tif (item == insertMarkItem) insertMarkItem = null;", "- */", "-void itemDisposing (TreeItem item) {", "-\tint availableIndex = item.availableIndex; ", "-\tif (availableIndex != -1) {", "-\t\tTreeItem[] newAvailableItems = new TreeItem[availableItems.length - 1];", "-\t\tSystem.arraycopy (availableItems, 0, newAvailableItems, 0, availableIndex);", "-\t\tSystem.arraycopy (", "-\t\t\tavailableItems,", "-\t\t\tavailableIndex + 1,", "-\t\t\tnewAvailableItems,", "-\t\t\tavailableIndex,", "-\t\t\tnewAvailableItems.length - availableIndex);", "-\t\tavailableItems = newAvailableItems;", "-\t\t/* update the availableIndex on affected items */", "-\t\tfor (int i = availableIndex; i < availableItems.length; i++) {", "-\t\t\tavailableItems[i].availableIndex = i;", "-\t\t}", "-\t\titem.availableIndex = -1;", "-\t\tupdateVerticalBar ();", "-\t\tupdateHorizontalBar ();", "-\t}", "-\tif (item.isSelected ()) {", "-\t\tint selectionIndex = getSelectionIndex (item);", "-\t\tTreeItem[] newSelectedItems = new TreeItem[selectedItems.length - 1];", "-\t\tSystem.arraycopy (selectedItems, 0, newSelectedItems, 0, selectionIndex);", "-\t\tSystem.arraycopy (", "-\t\t\tselectedItems,", "-\t\t\tselectionIndex + 1,", "-\t\t\tnewSelectedItems,", "-\t\t\tselectionIndex,", "-\t\t\tnewSelectedItems.length - selectionIndex);", "-\t\tselectedItems = newSelectedItems;", "-\t}", "-\tif (item.isRoot ()) {", "-\t\tint index = item.getIndex ();", "-\t\tTreeItem[] newItems = new TreeItem[items.length - 1];", "-\t\tSystem.arraycopy (items, 0, newItems, 0, index);", "-\t\tSystem.arraycopy (items, index + 1, newItems, index, newItems.length - index);", "-\t\titems = newItems;", "-\t}", "-\tif (item == focusItem) reassignFocus ();", "-\tif (item == anchorItem) anchorItem = null;", "-\tif (item == insertMarkItem) insertMarkItem = null;", "-}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "281eef815affdd50ff6286663ad9129b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/treetable/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "ed568a606dfba062e77bacc7c7f799741b60cbf4", "commitAfterChange": "3e04f21595fe557524d009b946647c76885ec76f", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 59, "signatureBeforeChange": " Image getCollapsedImage()", "signatureAfterChange": " void itemDisposing(TreeItem item)", "diff": ["- */", "-Image getCollapsedImage() {", "-\tif (collapsedImage == null) {", "-\t\tcollapsedImage = new Image(display, CollapsedImageData);", "-\t}", "-\treturn collapsedImage;", "-}", "+void itemDisposing(TreeItem item) {", "+\tint availableIndex = item.availableIndex; ", "+\tif (availableIndex != -1) {", "+\t\tTreeItem[] newAvailableItems = new TreeItem[availableItems.length - 1];", "+\t\tSystem.arraycopy(availableItems, 0, newAvailableItems, 0, availableIndex);", "+\t\tSystem.arraycopy(", "+\t\t\tavailableItems,", "+\t\t\tavailableIndex + 1,", "+\t\t\tnewAvailableItems,", "+\t\t\tavailableIndex,", "+\t\t\tnewAvailableItems.length - availableIndex);", "+\t\tavailableItems = newAvailableItems;", "+\t\t/* update the availableIndex on affected items */", "+\t\tfor (int i = availableIndex; i < availableItems.length; i++) {", "+\t\t\tavailableItems[i].availableIndex = i;", "+\t\titem.availableIndex = -1;", "+\t\tupdateVerticalBar();", "+\t\tupdateHorizontalBar();", "+\tif (item.isSelected()) {", "+\t\tint selectionIndex = getSelectionIndex(item);", "+\t\tTreeItem[] newSelectedItems = new TreeItem[selectedItems.length - 1];", "+\t\tSystem.arraycopy(selectedItems, 0, newSelectedItems, 0, selectionIndex);", "+\t\tSystem.arraycopy(", "+\t\t\tselectedItems,", "+\t\t\tselectionIndex + 1,", "+\t\t\tnewSelectedItems,", "+\t\t\tselectionIndex,", "+\t\t\tnewSelectedItems.length - selectionIndex);", "+\t\tselectedItems = newSelectedItems;", "+\tif (item.isRoot()) {", "+\t\tint index = item.getIndex();", "+\t\tTreeItem[] newItems = new TreeItem[items.length - 1];", "+\t\tSystem.arraycopy(items, 0, newItems, 0, index);", "+\t\tSystem.arraycopy(items, index + 1, newItems, index, newItems.length - index);", "+\t\titems = newItems;", "+\tif (item == focusItem) reassignFocus();", "+\tif (item == anchorItem) anchorItem = null;", "+\tif (item == insertMarkItem) insertMarkItem = null;", "+}"]}], "num": 1888}