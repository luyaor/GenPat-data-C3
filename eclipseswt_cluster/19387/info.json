{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "723453f7f6b27e38e5b4135e4de4c0cc", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "74f7e6317b1b09efeb8a52794bc8c848", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Spinner.java", "commitBeforeChange": "3753196e54cacf08b9ba94669052da40a6f74fd7", "commitAfterChange": "991749f7f8d70b27654548d75f2e2ea9b6410c4f", "methodNumberBeforeChange": 32, "methodNumberAfterChange": 32, "signatureBeforeChange": " void updateText ()", "signatureAfterChange": " void updateText ()", "diff": ["-\tint position;", "+\tint position = argList [7];", "-\t\t\t} else {", "-\t\t\t\tposition = argList [3];", "-\t\t\tposition = argList [7];", "-\t\t\tint [] argList2 = {OS.XmNposition, position + 1};", "-\t\t\tOS.XtSetValues (handle, argList2, argList2.length / 2);", "-\t} else {", "-\t\tposition = argList [3];", "-\tint [] argList2 = {OS.XmNposition, position};", "-\tOS.XtSetValues (handle, argList2, argList2.length / 2);\t", "+\tif (position == argList [7]) {", "+\t\tString string = String.valueOf (position);", "+\t\tbyte [] buffer = Converter.wcsToMbcs (getCodePage (), string, true);", "+\t\tboolean warnings = display.getWarnings ();", "+\t\tdisplay.setWarnings (false);", "+\t\tOS.XmTextSetString (argList [1], buffer);", "+\t\tdisplay.setWarnings(warnings);\t", "+\t} else {", "+\t\tint [] argList2 = {OS.XmNposition, position};", "+\t\tOS.XtSetValues (handle, argList2, argList2.length / 2);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "77f41abc539f6402a425d6585ea44893", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Label.java", "commitBeforeChange": "71b4d726fd79c22187691209bb58c7707090859d", "commitAfterChange": "3e37b76595a142d67c198b627b7fb99e4de4107a", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 20, "signatureBeforeChange": " public void setFont (Font font)", "signatureAfterChange": " public void setFont (Font font)", "diff": ["+\tcheckWidget();", "+\t", "+\t/*", "+\t* Bug in Motif. Setting the font in a label widget that does", "+\t* not have a non-empty string causes GP on UTF-8 locale.", "+\t* The fix is to set a non-empty string, change the font,", "+\t* and restore the empty string at the end. ", "+\t*/", "+\tint [] argList1 = {OS.XmNlabelString, 0};", "+\tOS.XtGetValues (handle, argList1, argList1.length / 2);", "+\tboolean fixString = OS.IsDBLocale && OS.XmStringEmpty (argList1 [1]); ", "+\tif (fixString) {", "+\t\tbyte[] buffer = Converter.wcsToMbcs (getCodePage (), \"string\", true);", "+\t\tint xmString = OS.XmStringCreateLocalized (buffer);\t", "+\t\tint [] argList2 = { ", "+\t\t\tOS.XmNlabelType, OS.XmSTRING,", "+\t\t\tOS.XmNlabelString, xmString,", "+\t\t};", "+\t\tOS.XtSetValues (handle, argList2, argList2.length / 2);", "+\t}", "+\tif (fixString) OS.XtSetValues (handle, argList1, argList1.length / 2);\t"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "811336200c0ce260744fa5a967bcc024", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "92f2f36ca30268f7e191390157797dd9f476f280", "commitAfterChange": "72dd8e1020121602ed6e389617e182e5d9bb5489", "methodNumberBeforeChange": 53, "methodNumberAfterChange": 53, "signatureBeforeChange": "\r void initializeLabel ()", "signatureAfterChange": "\r void initializeLabel ()", "diff": ["-\t* Bug in Motif. When running on UTF-8, Motif becomes unstable \r", "-\t* and GP's some time later when a label widget is created with\r", "-\t* empty text and no XmNlabelType.  The fix is to create the\r", "-\t* label with a non-empty XmString and set the XmNlabelType.\r", "+\t* Bug in Motif. When running on UTF-8, Motif becomes unstable and\r", "+\t* GP's some time later  when a label widget is created with empty\r", "+\t* text. The fix is to create the label with a non-empty string.\r", "-\tint xmString = OS.XmStringCreateLocalized(buffer);\r", "-\tint [] argList1 = {OS.XmNlabelType, OS.XmSTRING, OS.XmNlabelString, xmString};\r", "-\twidgetHandle = OS.XmCreateLabel (shellHandle, null, argList1, argList1.length / 2);\r", "+\twidgetHandle = OS.XmCreateLabel (shellHandle, buffer, null, 0);\r", "-\tOS.XmStringFree (xmString);\r"]}], "num": 19387}