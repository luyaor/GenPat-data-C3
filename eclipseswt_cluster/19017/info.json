{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e3df9f678a8886968c189803bbdf4639", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b837d80f0e4557d4e2dbfda3cfb1ed1f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/ScrollBar.java", "commitBeforeChange": "d3b70aad7149876ba42093794d2909bb52409b12", "commitAfterChange": "be7b1104bd228e179987a0bab6a5b14be7d2cb61", "methodNumberBeforeChange": 34, "methodNumberAfterChange": 34, "signatureBeforeChange": " public void setVisible (boolean visible)", "signatureAfterChange": " public void setVisible (boolean visible)", "diff": ["+\t/*", "+\t* Bug in Windows 7. Windows will cause pixel corruption ", "+\t* when there is only one scroll bar visible and it is", "+\t* hidden.  The fix is to temporarily show the other scroll", "+\t* bar and hide both.", "+\t*/", "+\tif (!visible) {", "+\t\tif (OS.COMCTL32_MAJOR >= 6 && OS.IsAppThemed ()) {", "+\t\t\tSCROLLBARINFO psbi = new SCROLLBARINFO ();", "+\t\t\tpsbi.cbSize = SCROLLBARINFO.sizeof;", "+\t\t\tint idObject = (style & SWT.VERTICAL) != 0 ? OS.OBJID_HSCROLL : OS.OBJID_VSCROLL;", "+\t\t\tOS.GetScrollBarInfo (hwnd, idObject, psbi);", "+\t\t\tif ((psbi.rgstate [0] & OS.STATE_SYSTEM_INVISIBLE) != 0) {", "+\t\t\t\tOS.ShowScrollBar (hwnd, type == OS.SB_VERT ? OS.SB_HORZ : OS.SB_VERT, true);", "+\t\t\t\ttype = OS.SB_BOTH;", "+\t\t\t}", "+\t\t}", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5b3fd8546b77f3e2ad7433ee68d08a11", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/ScrollBar.java", "commitBeforeChange": "ad2dde1402b1115b448536b63b41d017dbeb9654", "commitAfterChange": "babb3355b2fc359bb510974128be9cf62b0893b2", "methodNumberBeforeChange": 28, "methodNumberAfterChange": 28, "signatureBeforeChange": "  boolean SetScrollInfo (int hwnd, int flags, SCROLLINFO info, boolean fRedraw)", "signatureAfterChange": "  boolean SetScrollInfo (int hwnd, int flags, SCROLLINFO info, boolean fRedraw)", "diff": ["-\tif ((state & (DISABLED | HIDDEN)) != 0) fRedraw = false;", "-\tboolean result = OS.SetScrollInfo (hwnd, flags, info, fRedraw);", "-\t", "-\t/*", "-\t* Bug in Windows.  For some reason, when the widget", "-\t* is a standard scroll bar, and SetScrollInfo() is", "-\t* called with SIF_RANGE or SIF_PAGE, the widget is", "-\t* incorrectly made visible so that the next time the", "-\t* parent is resized (or another scroll bar operation", "-\t* is performed), the scroll bar draws.  The fix is", "-\t* to hide the scroll bar (again) when already hidden.", "-\t*/", "-\tif ((state & HIDDEN) != 0) {", "+\tboolean both = false;", "+\tboolean isVisible = (state & HIDDEN) == 0;", "+\tboolean isEnabled = (state & DISABLED) == 0;", "+\tif (!OS.IsWinCE && OS.WIN32_VERSION >= OS.VERSION(4, 10)) {", "+\t\tSCROLLBARINFO psbi = new SCROLLBARINFO ();", "+\t\tpsbi.cbSize = SCROLLBARINFO.sizeof;", "+\t\tint idObject = (style & SWT.VERTICAL) != 0 ? OS.OBJID_VSCROLL : OS.OBJID_HSCROLL;", "+\t\tOS.GetScrollBarInfo (hwndScrollBar (), idObject, psbi);", "+\t\tisVisible = (psbi.rgstate [0] & OS.STATE_SYSTEM_INVISIBLE) == 0;", "+\t\tisEnabled = (psbi.rgstate [0] & OS.STATE_SYSTEM_UNAVAILABLE) == 0;", "+\t}", "+\tif (!isVisible) {", "-\t\t\tboolean both = bar != null && !bar.getVisible ();", "+\t\t\tboth = bar != null && !bar.getVisible ();", "+\t\t}", "+\t}", "+\tif (!isVisible || !isEnabled) fRedraw = false;", "+\tboolean result = OS.SetScrollInfo (hwnd, flags, info, fRedraw);", "+\t/*", "+\t* Bug in Windows.  For some reason, when the widget", "+\t* is a standard scroll bar, and SetScrollInfo() is", "+\t* called with SIF_RANGE or SIF_PAGE, the widget is", "+\t* incorrectly made visible so that the next time the", "+\t* parent is resized (or another scroll bar operation", "+\t* is performed), the scroll bar draws.  The fix is", "+\t* to hide the scroll bar (again) when already hidden.", "+\t*/", "+\tif (!isVisible) {", "+\t\t/*", "+\t\t* This line is intentionally commented.  Currently", "+\t\t* always show scrollbar as being enabled and visible.", "+\t\t*/", "+//\t\tif (OS.IsWinCE) error (SWT.ERROR_NOT_IMPLEMENTED);", "+\t\tif (!OS.IsWinCE) {", "-\tif ((state & DISABLED) != 0) {", "+\tif (!isEnabled) {"]}], "num": 19017}