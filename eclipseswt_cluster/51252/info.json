{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "78194662af1019ae7658396cafb7f04f", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ee71b03bad7ac2bdfd0deece7f01b3cb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "44be5983a5fff33f337bb260817cc50987bb398a", "commitAfterChange": "47bdf987fcc6a0c67f43a42299353f6d35603f81", "methodNumberBeforeChange": 65, "methodNumberAfterChange": 120, "signatureBeforeChange": "\r int bidiTextWidth(String text, int startOffset, int length, int startXOffset, StyledTextBidi bidi)", "signatureAfterChange": "\r int getBidiTextPosition(String text, int endOffset, StyledTextBidi bidi)", "diff": ["- */\r", "-int bidiTextWidth(String text, int startOffset, int length, int startXOffset, StyledTextBidi bidi) {\r", "-\tint endOffset = startOffset + length;\r", "-\tint textLength = text.length();\r", "-\t\r", "-\tif (startOffset < 0 || startOffset >= textLength || endOffset > textLength) {\r", "-\t\treturn 0;\r", "-\t}\r", "-\t// Use lastCaretDirection in order to get same results as during\r", "-\t// caret positioning (setBidiCaretLocation). Fixes 1GKU4C5.\r", "-\treturn bidi.getCaretPosition(endOffset, lastCaretDirection) - startXOffset;\r", "+ */\r", "+int getBidiTextPosition(String text, int endOffset, StyledTextBidi bidi) {\r", "+\tif (endOffset > text.length()) {\r", "+\t\treturn 0;\r", "+\t}\r", "+\t// Use lastCaretDirection in order to get same results as during\r", "+\t// caret positioning (setBidiCaretLocation). Fixes 1GKU4C5.\r", "+\treturn bidi.getTextPosition(endOffset, lastCaretDirection);\r", "+}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b6aa2ec976f18c3d125d34a12f4dbdb1", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledTextBidi.java", "commitBeforeChange": "1d0592b73510c814a303276fdd1b2a6e7bd707f2", "commitAfterChange": "de638b67c438fc18fd074ec6b85813a5219637ef", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "\r int drawBidiText(int logicalStart, int length, int xOffset, int yOffset)", "signatureAfterChange": "\r void drawBidiText(int logicalStart, int length, int xOffset, int yOffset)", "diff": ["-int drawBidiText(int logicalStart, int length, int xOffset, int yOffset) {\r", "+void drawBidiText(int logicalStart, int length, int xOffset, int yOffset) {\r", "-\tint stopX;\r", "-\t\treturn StyledText.XINSET;\r", "+\t\treturn;\r", "-\t// between R2L and L2R direction segment?\r", "-\tif (endOffset < order.length && isRightToLeft(endOffset) == false && isRightToLeft(endOffset - 1)) {\r", "-\t\t// continue drawing at start of L2R segment\r", "-\t\tstopX = renderPositions[endOffset];\r", "-\t}\r", "-\telse\r", "-\tif (isRightToLeft(endOffset - 1)) {\r", "-\t\t// we rendered a R2L segment\r", "-\t\tstopX = renderPositions[order[endOffset - 1]];\r", "-\t}\r", "-\telse {\r", "-\t\tint visualEnd = order[endOffset - 1];\r", "-\t\t// we rendered a L2R segment\r", "-\t\tstopX = renderPositions[visualEnd] + dx[visualEnd];\r", "-\t}\r", "-\treturn stopX;\r"]}], "num": 51252}