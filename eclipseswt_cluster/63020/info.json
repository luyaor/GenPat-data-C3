{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ac258ffc36dac349b811e57c385a0331", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4ba9c88641368e4bf6ca855dceecffe3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "fc8b4b1d665c300460078e3661baa1d3a5329d01", "commitAfterChange": "a0c8a0ee053daa27480af496dfe5071f5dddc909", "methodNumberBeforeChange": 107, "methodNumberAfterChange": 107, "signatureBeforeChange": "  void keyDown (int id, int sel, int theEvent)", "signatureAfterChange": "  void keyDown (int id, int sel, int theEvent)", "diff": ["-\tDisplay display = this.display;", "-\tdisplay.keyInputHappened = false;", "+\t\tShell s = this.getShell();", "+\t\ts.keyInputHappened = false;", "+\t\t\t// Not a text field, so send a key event here.", "-\t\t\tdisplay.keyInputHappened = true;", "+\t\t} else {", "+\t\t\t// Control is some kind of text field, so the key event will be sent from insertText: or doCommandBySelector:", "+\t\t\tsuper.keyDown (id, sel, theEvent);", "+\t\t\t", "+\t\t\t// If none of those methods triggered a key event send one now.", "+\t\t\tif (!s.keyInputHappened) {", "+\t\t\t\tNSEvent nsEvent = new NSEvent (theEvent);", "+\t\t\t\tboolean [] consume = new boolean [1];", "+\t\t\t\tif (translateTraversal (nsEvent.keyCode (), nsEvent, consume)) return;", "+\t\t\t\tif (isDisposed ()) return;", "+\t\t\t\tif (!sendKeyEvent (nsEvent, SWT.KeyDown)) return;", "+\t\t\t\tif (consume [0]) return;", "+\t\t\t}", "+\t\t\t", "+\t\t\treturn;", "-\t", "-\tif (!display.keyInputHappened) {", "-\t\tNSEvent nsEvent = new NSEvent (theEvent);", "-\t\tif (isDisposed ()) return;", "-\t\tsendKeyEvent (nsEvent, SWT.KeyDown);", "-\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4648d7f898c2a6c4ab4444c563cf27c0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "ccb3f7f0e08a5a4dde44acb96c8dac1d9f1ae48a", "commitAfterChange": "46122b3930811494ac5f7b01c7dfcc2d7b0f32a3", "methodNumberBeforeChange": 39, "methodNumberAfterChange": 39, "signatureBeforeChange": "  void doCommandBySelector (int id, int sel, int selector)", "signatureAfterChange": "  void doCommandBySelector (int id, int sel, int selector)", "diff": ["-\t\t\t// TODO is this workaround ok?", "-\t\t\t * multiple events for these keys, do not send a KeyDown if the", "-\t\t\t * selector is moveToBeginningOfParagraph or moveToEndOfParagraph.", "+\t\t\t * multiple events for these keys, do not send a KeyDown if we already sent one", "+\t\t\t * during this keystroke. ", "-\t\t\tif (selector == OS.sel_moveToBeginningOfParagraph_|| selector == OS.sel_moveToEndOfParagraph_) return;", "-", "-\t\t\tboolean [] consume = new boolean [1];", "-\t\t\tif (translateTraversal (nsEvent.keyCode (), nsEvent, consume)) return;", "-\t\t\tif (isDisposed ()) return;", "-\t\t\tif (!sendKeyEvent (nsEvent, SWT.KeyDown)) return;", "-\t\t\tif (consume [0]) return;", "+\t\t\tif (keyInputHappened == false) {", "+\t\t\t\tkeyInputHappened = true;", "+\t\t\t\tboolean [] consume = new boolean [1];", "+\t\t\t\tif (translateTraversal (nsEvent.keyCode (), nsEvent, consume)) return;", "+\t\t\t\tif (isDisposed ()) return;", "+\t\t\t\tif (!sendKeyEvent (nsEvent, SWT.KeyDown)) return;", "+\t\t\t\tif (consume [0]) return;", "+\t\t\t}"]}], "num": 63020}