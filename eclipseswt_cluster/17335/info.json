{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4ceb0af0bfa420fa6badd3d6b918b561", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "87e4c8b2fcde8ea1847a2691d9e0aa03", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "22182e34c63852d6ad810cea1c40d7cb2b3f0bce", "commitAfterChange": "3b4b1d4ea7d1bdc6eb182e6cf4eab485e831bd1b", "methodNumberBeforeChange": 61, "methodNumberAfterChange": 61, "signatureBeforeChange": "  int getSelection (int hItem, TVITEM tvItem, TreeItem [] selection, int count)", "signatureAfterChange": "  int getSelection (int hItem, TVITEM tvItem, TreeItem [] selection, int count, boolean full)", "diff": ["-int getSelection (int hItem, TVITEM tvItem, TreeItem [] selection, int count) {", "+int getSelection (int hItem, TVITEM tvItem, TreeItem [] selection, int count, boolean full) {", "-\t\tif (tvItem != null && selection != null && count < selection.length) {", "+\t\tif (OS.IsWinCE) {", "-\t\t\t\tselection [count++] = _getItem (hItem, tvItem.lParam);", "+\t\t\t\tif (selection != null && count < selection.length) {", "+\t\t\t\t\tselection [count] = _getItem (hItem, tvItem.lParam);", "+\t\t\t\t}", "+\t\t\t\tcount++;", "-\t\t\tint state = 0;", "-\t\t\tif (OS.IsWinCE) {", "-\t\t\t\ttvItem.hItem = hItem;", "-\t\t\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);", "-\t\t\t\tstate = tvItem.state;", "-\t\t\t} else {", "-\t\t\t\tstate = OS.SendMessage (handle, OS.TVM_GETITEMSTATE, hItem, OS.TVIS_SELECTED);", "+\t\t\tint state = OS.SendMessage (handle, OS.TVM_GETITEMSTATE, hItem, OS.TVIS_SELECTED);", "+\t\t\tif ((state & OS.TVIS_SELECTED) != 0) {", "+\t\t\t\tif (tvItem != null && selection != null && count < selection.length) {", "+\t\t\t\t\ttvItem.hItem = hItem;", "+\t\t\t\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);", "+\t\t\t\t\tselection [count] = _getItem (hItem, tvItem.lParam);", "+\t\t\t\t}", "+\t\t\t\tcount++;", "-\t\t\tif ((state & OS.TVIS_SELECTED) != 0) count++;", "-\t\tint hFirstItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_CHILD, hItem);", "-\t\tcount = getSelection (hFirstItem, tvItem, selection, count);", "-\t\thItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_NEXT, hItem);", "+\t\tif (full) {", "+\t\t\tint hFirstItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_CHILD, hItem);", "+\t\t\tcount = getSelection (hFirstItem, tvItem, selection, count, full);", "+\t\t\thItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_NEXT, hItem);", "+\t\t} else {", "+\t\t\thItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_NEXTVISIBLE, hItem);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "335046e1f9a149d2604e8a59ded7be0d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "3b4b1d4ea7d1bdc6eb182e6cf4eab485e831bd1b", "commitAfterChange": "cda355601ee5bad4d70a840242efe7a96c579b0c", "methodNumberBeforeChange": 61, "methodNumberAfterChange": 61, "signatureBeforeChange": "  int getSelection (int hItem, TVITEM tvItem, TreeItem [] selection, int count, boolean full)", "signatureAfterChange": "  int getSelection (int hItem, TVITEM tvItem, TreeItem [] selection, int index, boolean full)", "diff": ["-int getSelection (int hItem, TVITEM tvItem, TreeItem [] selection, int count, boolean full) {", "+int getSelection (int hItem, TVITEM tvItem, TreeItem [] selection, int index, boolean full) {", "-\t\t\t\tif (selection != null && count < selection.length) {", "-\t\t\t\t\tselection [count] = _getItem (hItem, tvItem.lParam);", "+\t\t\t\tif (selection != null && index < selection.length) {", "+\t\t\t\t\tselection [index] = _getItem (hItem, tvItem.lParam);", "-\t\t\t\tcount++;", "+\t\t\t\tindex++;", "-\t\t\t\tif (tvItem != null && selection != null && count < selection.length) {", "+\t\t\t\tif (tvItem != null && selection != null && index < selection.length) {", "-\t\t\t\t\tselection [count] = _getItem (hItem, tvItem.lParam);", "+\t\t\t\t\tselection [index] = _getItem (hItem, tvItem.lParam);", "-\t\t\t\tcount++;", "+\t\t\t\tindex++;", "+\t\tif (selection != null && index == selection.length) break;", "-\t\t\tcount = getSelection (hFirstItem, tvItem, selection, count, full);", "+\t\t\tindex = getSelection (hFirstItem, tvItem, selection, index, full);", "+\t\t\tif (selection != null && index == selection.length) break;", "-\treturn count;", "+\treturn index;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5d75dcd48858c1d84ac51f26bec3d5c8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "7bb9625eaf17f2d808c7a3030e773ca59228f497", "commitAfterChange": "e429c1fa2f667ecb3fe93176354bcf3743610780", "methodNumberBeforeChange": 47, "methodNumberAfterChange": 27, "signatureBeforeChange": "  int indexOf (int hItem, int hChild)", "signatureAfterChange": "  int findIndex (int hFirstItem, int hItem)", "diff": ["+int findIndex (int hFirstItem, int hItem) {", "+\tif (hFirstItem == 0) return -1;", "+\tif (hFirstItem == hFirstIndexOf) {", "+\t\tif (hFirstIndexOf == hItem) return 0;", "+\t\tif (hLastIndexOf == hItem) return lastIndexOf;", "+\t\tint hPrevItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_PREVIOUS, hLastIndexOf);", "+\t\tif (hPrevItem == hItem) {", "+\t\t\thLastIndexOf = hPrevItem;", "+\t\t\treturn --lastIndexOf;", "+\t\t}", "+\t\tint hNextItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_NEXT, hLastIndexOf);", "+\t\tif (hNextItem == hItem) {", "+\t\t\thLastIndexOf = hNextItem;", "+\t\t\treturn ++lastIndexOf;", "+\t\t}", "+\t\tint previousIndex = lastIndexOf - 1;", "+\t\twhile (hPrevItem != 0 && hPrevItem != hItem) {", "+\t\t\thPrevItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_PREVIOUS, hPrevItem);", "+\t\t\t--previousIndex;", "+\t\t}", "+\t\tif (hPrevItem == hItem) {", "+\t\t\thLastIndexOf = hPrevItem;", "+\t\t\treturn lastIndexOf = previousIndex;", "+\t\t}", "+\t\tint nextIndex = lastIndexOf + 1;", "+\t\twhile (hNextItem != 0 && hNextItem != hItem) {", "+\t\t\thNextItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_NEXT, hNextItem);", "+\t\t\tnextIndex++;", "+\t\t}", "+\t\tif (hNextItem == hItem) {", "+\t\t\thLastIndexOf = hNextItem;", "+\t\t\treturn lastIndexOf = nextIndex;", "+\t\t}", "+\t\treturn -1;", "+\t}", "+\tint index = 0, hNextItem = hFirstItem;", "+\twhile (hNextItem != 0 && hNextItem != hItem) {", "+\t\thNextItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_NEXT, hNextItem);", "+\t\tindex++;", "+\t}", "+\tif (hNextItem == hItem) {", "+\t\thFirstIndexOf = hFirstItem;", "+\t\thLastIndexOf = hNextItem;", "+\t\treturn lastIndexOf = index;", "+\t}", "+\treturn -1;", "+}", "-int indexOf (int hItem, int hChild) {", "-\tint index = 0;", "-\twhile (hItem != 0 && hItem != hChild) {", "-\t\thItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_NEXT, hItem);", "-\t\tindex++;", "-\t}", "-\treturn hItem == hChild ? index : -1;", "-}"]}], "num": 17335}