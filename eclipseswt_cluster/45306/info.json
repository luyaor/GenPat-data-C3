{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ff049917b3c110ea958b653f4d9868fe", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "84ca16c48f2d5dd8ce1c058684bb904f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "40cf8e61803cf41d2571f4294437ef45df1d67c6", "commitAfterChange": "bf05ebbd123937748b9aa8d29899de8633f0c49d", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "diff": ["+\t\tint newFont, oldFont = 0;", "+\t\tint hDC = OS.GetDC (handle);", "+\t\tnewFont = OS.SendMessage (handle, OS.WM_GETFONT, 0, 0);", "+\t\tif (newFont != 0) oldFont = OS.SelectObject (hDC, newFont);", "+\t\tint count = OS.SendMessage (handle, OS.CB_GETCOUNT, 0, 0);", "+\t\tRECT rect = new RECT ();", "+\t\tint flags = OS.DT_CALCRECT | OS.DT_NOPREFIX;", "+\t\tif ((style & SWT.READ_ONLY) == 0) flags |= OS.DT_EDITCONTROL;", "+\t\tint length = OS.GetWindowTextLength (handle);", "+\t\tint cp = getCodePage ();", "+\t\tTCHAR buffer = new TCHAR (cp, length + 1);", "+\t\tOS.GetWindowText (handle, buffer, length + 1);", "+\t\tOS.DrawText (hDC, buffer, length, rect, flags);", "+\t\twidth = Math.max (width, rect.right - rect.left);", "-\t\t\twidth = OS.SendMessage (handle, OS.CB_GETHORIZONTALEXTENT, 0, 0);", "+\t\t\twidth = Math.max (width, scrollWidth);", "-\t\t\tint newFont, oldFont = 0;", "-\t\t\tint hDC = OS.GetDC (handle);", "-\t\t\tnewFont = OS.SendMessage (handle, OS.WM_GETFONT, 0, 0);", "-\t\t\tif (newFont != 0) oldFont = OS.SelectObject (hDC, newFont);", "-\t\t\tint count = OS.SendMessage (handle, OS.CB_GETCOUNT, 0, 0);", "-\t\t\tRECT rect = new RECT ();", "-\t\t\tint flags = OS.DT_CALCRECT | OS.DT_NOPREFIX;", "-\t\t\tif ((style & SWT.READ_ONLY) == 0) flags |= OS.DT_EDITCONTROL;", "-\t\t\tint length = OS.GetWindowTextLength (handle);", "-\t\t\tint cp = getCodePage ();", "-\t\t\tTCHAR buffer = new TCHAR (cp, length + 1);", "-\t\t\tOS.GetWindowText (handle, buffer, length + 1);", "-\t\t\tOS.DrawText (hDC, buffer, length, rect, flags);", "-\t\t\twidth = Math.max (width, rect.right - rect.left);", "-\t\t\tif (newFont != 0) OS.SelectObject (hDC, oldFont);", "-\t\t\tOS.ReleaseDC (handle, hDC);", "+\t\tif (newFont != 0) OS.SelectObject (hDC, oldFont);", "+\t\tOS.ReleaseDC (handle, hDC);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7c9715f7bc064bfd1a5970a058a27b96", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Spinner.java", "commitBeforeChange": "0fe0e789edc99baaa0ef377f6d40692c6b08f013", "commitAfterChange": "b1cc243c2a014d8968b54382daf6c28f7205ac7f", "methodNumberBeforeChange": 39, "methodNumberAfterChange": 36, "signatureBeforeChange": "  int update (int value, boolean notify, boolean force)", "signatureAfterChange": "  int setSelection (int value, boolean clamp, boolean notify)", "diff": ["+", "+int setSelection (int value, boolean clamp, boolean notify) {", "+\tif (clamp) {", "+\t\tint [] max = new int [1], min = new int [1];", "+\t\tOS.SendMessage (hwndUpDown , OS.UDM_GETRANGE32, min, max);", "+\t\tvalue = Math.min (Math.max (min [0], value), max [0]);", "+\t}", "+\tOS.SendMessage (hwndUpDown , OS.IsWinCE ? OS.UDM_SETPOS : OS.UDM_SETPOS32, 0, value);", "+\tString oldText = String.valueOf (value);", "+\tint length = OS.GetWindowTextLength (hwndText);", "+\tString newText = verifyText (oldText, 0, length, null, false);", "+\tif (newText != null) {", "+\t\tTCHAR buffer = new TCHAR (getCodePage (), newText, true);", "+\t\tOS.SetWindowText (hwndText, buffer);", "+\t}", "+\tif (notify) postEvent (SWT.Selection);", "+\treturn value;", "-int update (int value, boolean notify, boolean force) {", "-\tint [] max = new int [1], min = new int [1];", "-\tOS.SendMessage (hwndUpDown , OS.UDM_GETRANGE32, min, max);", "-\tif (value < min [0]) {", "-\t\tvalue = (style & SWT.WRAP) != 0 ? max [0] : min [0];", "-\t}", "-\tif (value > max [0]) {", "-\t\tvalue = (style & SWT.WRAP) != 0 ? min [0] : max [0];", "-\t}", "-\tint pos;", "-\tif (OS.IsWinCE) {", "-\t\tpos = OS.SendMessage (hwndUpDown, OS.UDM_GETPOS, 0, 0) & 0xffff;", "-\t} else {", "-\t\tpos = OS.SendMessage (hwndUpDown, OS.UDM_GETPOS32, 0, 0);", "-\t}", "-\tif (pos != value || force) {", "-\t\tOS.SendMessage (hwndUpDown , OS.IsWinCE ? OS.UDM_SETPOS : OS.UDM_SETPOS32, 0, value);", "-\t\tString string = String.valueOf (value);", "-\t\tint length = OS.GetWindowTextLength (hwndText);", "-\t\tstring = verifyText (string, 0, length, null);", "-\t\tif (string != null) {", "-\t\t\tTCHAR buffer = new TCHAR (getCodePage (), string, true);", "-\t\t\tOS.SetWindowText (hwndText, buffer);", "-\t\t}", "-\t\tif (notify) {", "-\t\t\tpostEvent (SWT.Selection);", "-\t\t}", "-\t}", "-\treturn value;", "-}"]}], "num": 45306}