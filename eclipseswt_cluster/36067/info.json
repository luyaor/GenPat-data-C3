{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "251ea192788007c661ebb6a6a69cf582", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "780a0c19829767935a277201214a4651", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Button.java", "commitBeforeChange": "839e7aae626325bcc120e28136132e007b50784e", "commitAfterChange": "d77e1468652c0bf6dd5b34c4530c6c4a4033fb64", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 22, "signatureBeforeChange": " public void setImage (Image image)", "signatureAfterChange": " public void setImage (Image image)", "diff": ["-\tint hImage = 0, imageBits = 0, fImageType = 0;", "-\tif (image != null) {", "-\t\tif (image.isDisposed()) error(SWT.ERROR_INVALID_ARGUMENT);", "-\t\thImage = image.handle;", "-\t\tswitch (image.type) {", "-\t\t\tcase SWT.BITMAP:", "-\t\t\t\timageBits = OS.BS_BITMAP;", "-\t\t\t\tfImageType = OS.IMAGE_BITMAP;", "-\t\t\t\tbreak;", "-\t\t\tcase SWT.ICON:", "-\t\t\t\timageBits = OS.BS_ICON;", "-\t\t\t\tfImageType = OS.IMAGE_ICON;", "-\t\t\t\tbreak;", "-\t\t\tdefault:", "-\t\t\t\treturn;", "-\t\t}", "-\t}", "-\tint newBits = OS.GetWindowLong (handle, OS.GWL_STYLE);", "-\tint oldBits = newBits;", "-\tnewBits &= ~(OS.BS_BITMAP | OS.BS_ICON);", "-\tnewBits |= imageBits;", "-\tif (newBits != oldBits) {", "-\t\tOS.SetWindowLong (handle, OS.GWL_STYLE, newBits);", "+\tif (OS.COMCTL32_MAJOR >= 6 && OS.IsAppThemed ()) {", "+\t\tOS.SendMessage (handle, OS.BCM_SETIMAGELIST, 0, 0);", "+\t\tif (imageList != null) imageList.dispose ();", "+\t\timageList = null;", "+\t\tif (image != null) {", "+\t\t\timageList = new ImageList ();", "+\t\t\timageList.add (image);", "+\t\t\tBUTTON_IMAGELIST buttonImageList = new BUTTON_IMAGELIST ();", "+\t\t\tbuttonImageList.himl = imageList.getHandle ();", "+\t\t\tif ((style & SWT.LEFT) != 0) buttonImageList.uAlign = OS.BUTTON_IMAGELIST_ALIGN_LEFT;", "+\t\t\tif ((style & SWT.CENTER) != 0) buttonImageList.uAlign = OS.BUTTON_IMAGELIST_ALIGN_CENTER;", "+\t\t\tif ((style & SWT.RIGHT) != 0) buttonImageList.uAlign = OS.BUTTON_IMAGELIST_ALIGN_RIGHT;", "+\t\t\tTCHAR buffer = new TCHAR (getCodePage (), \"\", true);", "+\t\t\tOS.SetWindowText (handle, buffer);", "+\t\t\tOS.SendMessage (handle, OS.BCM_SETIMAGELIST, 0, buttonImageList);", "+\t\t} else {", "+\t\t\tTCHAR buffer = new TCHAR (getCodePage (), text, true);", "+\t\t\tOS.SetWindowText (handle, buffer);", "+\t\t\tOS.SendMessage (handle, OS.BCM_SETIMAGELIST, 0, 0);", "+\t\t}", "+\t} else {", "+\t\tint hImage = 0, imageBits = 0, fImageType = 0;", "+\t\tif (image != null) {", "+\t\t\tif (image.isDisposed()) error(SWT.ERROR_INVALID_ARGUMENT);", "+\t\t\thImage = image.handle;", "+\t\t\tswitch (image.type) {", "+\t\t\t\tcase SWT.BITMAP:", "+\t\t\t\t\timageBits = OS.BS_BITMAP;", "+\t\t\t\t\tfImageType = OS.IMAGE_BITMAP;", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase SWT.ICON:", "+\t\t\t\t\timageBits = OS.BS_ICON;", "+\t\t\t\t\tfImageType = OS.IMAGE_ICON;", "+\t\t\t\t\tbreak;", "+\t\t\t}", "+\t\t}", "+\t\tint newBits = OS.GetWindowLong (handle, OS.GWL_STYLE);", "+\t\tint oldBits = newBits;", "+\t\tnewBits &= ~(OS.BS_BITMAP | OS.BS_ICON);", "+\t\tnewBits |= imageBits;", "+\t\tif (newBits != oldBits) OS.SetWindowLong (handle, OS.GWL_STYLE, newBits);", "+\t\tOS.SendMessage (handle, OS.BM_SETIMAGE, fImageType, hImage);", "-\tOS.SendMessage (handle, OS.BM_SETIMAGE, fImageType, hImage);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d4d2cda59012308ed3a9bc3c2cee829c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/TableCursor.java", "commitBeforeChange": "95a4750889ac9c2206710060effebd293c1da26a", "commitAfterChange": "8094c5620da45f5980d8d011643b26514020dd87", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "  void tableMouseDown(Event event)", "signatureAfterChange": "  void tableMouseDown(Event event)", "diff": ["-\tRectangle clientRect = table.getClientArea();", "-\tint columnCount = table.getColumnCount();", "-\tint maxColumnIndex =  columnCount == 0 ? 0 : columnCount - 1;", "-\tint start = table.getTopIndex();", "-\tint end = table.getItemCount();", "-\tfor (int i = start; i < end; i++) {", "-\t\tTableItem item = table.getItem(i);", "-\t\tfor (int j = 0; j <= maxColumnIndex; j++) {", "-\t\t\tRectangle rect = item.getBounds(j);", "+\tint lineWidth = table.getLinesVisible() ? table.getGridLineWidth() : 0;", "+\tTableItem item = table.getItem(pt);", "+\tif ((table.getStyle() & SWT.FULL_SELECTION) != 0) {", "+\t\tif (item == null) return;", "+\t} else {", "+\t\tint start = item != null ? table.indexOf(item) : table.getTopIndex();", "+\t\tint end = table.getItemCount();", "+\t\tRectangle clientRect = table.getClientArea();", "+\t\tfor (int i = start; i < end; i++) {", "+\t\t\tTableItem nextItem = table.getItem(i);", "+\t\t\tRectangle rect = nextItem.getBounds(0);", "+\t\t\tif (pt.y >= rect.y && pt.y < rect.y + rect.height) {", "+\t\t\t\titem = nextItem;", "+\t\t\t\tbreak;", "+\t\t\t}", "+\t\t}", "+\t\tif (item == null) return;", "+\t}", "+\tTableColumn newColumn = null;", "+\tint columnCount = table.getColumnCount();", "+\tif (columnCount > 0) {", "+\t\tfor (int i = 0; i < columnCount; i++) {", "+\t\t\tRectangle rect = item.getBounds(i);", "+\t\t\trect.width += lineWidth;", "-\t\t\t\tsetRowColumn(i, j, true);", "-\t\t\t\tsetFocus();", "-\t\t\t\treturn;", "+\t\t\t\tnewColumn = table.getColumn(i);", "+\t\t\t\tbreak;", "+\t\tif (newColumn == null) {", "+\t\t\tnewColumn = table.getColumn(0);", "+\t\t}", "+\tsetRowColumn(item, newColumn, true);", "+\tsetFocus();", "+\treturn;"]}], "num": 36067}