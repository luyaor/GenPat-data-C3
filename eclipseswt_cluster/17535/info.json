{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "dce7b5e750d1a7a2c7b8613f67de32ca", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4ab7ecfffeb0c2120784a98741d01dd6", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "ce2f35c3f6b1d0b5778f68f011b1d8668d3c5c72", "commitAfterChange": "00bee382096a1807d86474fed7c933116a37eeb8", "methodNumberBeforeChange": 217, "methodNumberAfterChange": 242, "signatureBeforeChange": "\r int textWidth(String text, int lineOffset, int startOffset, int length, StyleRange[] lineStyles, int startXOffset, GC gc)", "signatureAfterChange": "\r int textWidth(String text, int lineOffset, int startOffset, int length, StyleRange[] lineStyles, int startXOffset, GC gc, StyledTextBidi bidi)", "diff": ["-int textWidth(String text, int lineOffset, int startOffset, int length, StyleRange[] lineStyles, int startXOffset, GC gc) {\r", "+int textWidth(String text, int lineOffset, int startOffset, int length, StyleRange[] lineStyles, int startXOffset, GC gc, StyledTextBidi bidi) {\r", "-\tfor (int i = startOffset; i < endOffset; i++) {\r", "-\t\tint tabIndex = text.indexOf(TAB, i);\r", "-\t\t// is tab not present or past the rendering range?\r", "-\t\tif (tabIndex == -1 || tabIndex > endOffset) {\r", "-\t\t\ttabIndex = endOffset;\r", "-\t\t}\r", "-\t\tif (tabIndex != i) {\r", "-\t\t\tString tabSegment = text.substring(i, tabIndex);\r", "-\t\t\tif (lineStyles != null) {\r", "-\t\t\t\tpaintX = styledTextWidth(tabSegment, lineOffset + i, lineStyles, paintX, 0, gc, false);\r", "+\tif (bidi != null) {\r", "+\t\tpaintX = bidi.getCaretPosition(endOffset) - startXOffset;\r", "+\t}\r", "+\telse {\r", "+\t\tfor (int i = startOffset; i < endOffset; i++) {\r", "+\t\t\tint tabIndex = text.indexOf(TAB, i);\r", "+\t\t\t// is tab not present or past the rendering range?\r", "+\t\t\tif (tabIndex == -1 || tabIndex > endOffset) {\r", "+\t\t\t\ttabIndex = endOffset;\r", "-\t\t\telse {\r", "-\t\t\t\tfontData = setLineFont(gc, fontData, SWT.NORMAL);\r", "-\t\t\t\tpaintX += gc.stringExtent(tabSegment).x;\r", "+\t\t\tif (tabIndex != i) {\r", "+\t\t\t\tString tabSegment = text.substring(i, tabIndex);\r", "+\t\t\t\tif (lineStyles != null) {\r", "+\t\t\t\t\tpaintX = styledTextWidth(tabSegment, lineOffset + i, lineStyles, paintX, 0, gc, fontData);\r", "+\t\t\t\t}\r", "+\t\t\t\telse {\r", "+\t\t\t\t\tsetLineFont(gc, fontData, SWT.NORMAL);\r", "+\t\t\t\t\tpaintX += gc.stringExtent(tabSegment).x;\r", "+\t\t\t\t}\r", "+\t\t\t\tif (tabIndex != endOffset && tabWidth > 0) {\r", "+\t\t\t\t\tpaintX += tabWidth;\r", "+\t\t\t\t\tpaintX -= (startXOffset + paintX) % tabWidth;\r", "+\t\t\t\t}\r", "+\t\t\t\ti = tabIndex;\r", "-\t\t\tif (tabIndex != endOffset && tabWidth > 0) {\r", "+\t\t\telse \t\t\r", "+\t\t\tif (tabWidth > 0) {\r", "-\t\t\ti = tabIndex;\r", "-\t\t}\r", "-\t\telse \t\t\r", "-\t\tif (tabWidth > 0) {\r", "-\t\t\tpaintX += tabWidth;\r", "-\t\t\tpaintX -= (startXOffset + paintX) % tabWidth;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9fed9b3cf13afb4fbb319a8bf49d10a3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "a7f6318524546d2c59ec1516946d4b957613a139", "commitAfterChange": "85b3730e88350fadfff9e5ea1ffa7e1ad34398b7", "methodNumberBeforeChange": 63, "methodNumberAfterChange": 63, "signatureBeforeChange": "  void setScrollWidth ()", "signatureAfterChange": "  void setScrollWidth (boolean force)", "diff": ["-void setScrollWidth () {", "-\tif (drawCount != 0) return;", "+void setScrollWidth (boolean force) {", "+\tif (!force) {", "+\t\tif (drawCount != 0 || !OS.IsWindowVisible (handle)) {", "+\t\t\tfixScrollWidth = true;", "+\t\t\treturn;", "+\t\t}", "+\t}", "+\tfixScrollWidth = false;"]}], "num": 17535}