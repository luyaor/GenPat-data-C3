{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3e5eada0d6b2d45bc7d2ed5025e285f1", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8b9c7b6470a7d5c1337f75b926a65b43", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "ad7a9e5b3b139f6b5bd4c2f25f8cf8b336105a91", "commitAfterChange": "52d678e47ee00e0c9d7473cd6841b89c8499131e", "methodNumberBeforeChange": 67, "methodNumberAfterChange": 68, "signatureBeforeChange": " public void setItems (String [] items)", "signatureAfterChange": " public void setItems (String [] items)", "diff": ["-\tlockText = ignoreSelect = true;", "-\tOS.gtk_list_clear_items (listHandle, 0, -1);", "-\tint /*long*/ font = getFontDescription ();", "-\tGdkColor color = getForegroundColor ();", "-\tint direction = OS.gtk_widget_get_direction (handle);", "-\tint i = 0;", "-\twhile (i < items.length) {", "-\t\tString string = items [i];", "-\t\tbyte [] buffer = Converter.wcsToMbcs (null, string, true);", "-\t\tint /*long*/ item = OS.gtk_list_item_new_with_label (buffer);", "-\t\tint /*long*/ label = OS.gtk_bin_get_child (item); ", "-\t\tOS.gtk_widget_modify_fg (label, OS.GTK_STATE_NORMAL, color);", "-\t\tOS.gtk_widget_modify_font (label, font);", "-\t\tOS.gtk_widget_set_direction (label, direction);", "-\t\tOS.gtk_container_add (listHandle, item);", "-\t\tOS.gtk_widget_show (item);", "-\t\ti++;", "-\t}", "+\tint count = this.items.length;", "-\tSystem.arraycopy (items, 0, this.items, 0, i);", "-\tlockText = ignoreSelect = false;", "-\tOS.gtk_entry_set_text (entryHandle, new byte[1]);", "+\tSystem.arraycopy (items, 0, this.items, 0, items.length);", "+\tif (OS.GTK_VERSION >= OS.VERSION (2, 4, 0)) {", "+\t\tclearText ();", "+\t\tfor (int i = count - 1; i >= 0; i--) {", "+\t\t\tOS.gtk_combo_box_remove_text (handle, i);", "+\t\t}", "+\t\tfor (int i = 0; i < items.length; i++) {", "+\t\t\tString string = items [i];", "+\t\t\tbyte [] buffer = Converter.wcsToMbcs (null, string, true);", "+\t\t\tOS.gtk_combo_box_insert_text (handle, i, buffer);", "+\t\t}", "+\t} else {", "+\t\tlockText = ignoreSelect = true;", "+\t\tOS.gtk_list_clear_items (listHandle, 0, -1);", "+\t\tint /*long*/ font = getFontDescription ();", "+\t\tGdkColor color = getForegroundColor ();", "+\t\tint direction = OS.gtk_widget_get_direction (handle);", "+\t\tint i = 0;", "+\t\twhile (i < items.length) {", "+\t\t\tString string = items [i];", "+\t\t\tbyte [] buffer = Converter.wcsToMbcs (null, string, true);", "+\t\t\tint /*long*/ item = OS.gtk_list_item_new_with_label (buffer);", "+\t\t\tint /*long*/ label = OS.gtk_bin_get_child (item); ", "+\t\t\tOS.gtk_widget_modify_fg (label, OS.GTK_STATE_NORMAL, color);", "+\t\t\tOS.gtk_widget_modify_font (label, font);", "+\t\t\tOS.gtk_widget_set_direction (label, direction);", "+\t\t\tOS.gtk_container_add (listHandle, item);", "+\t\t\tOS.gtk_widget_show (item);", "+\t\t\ti++;", "+\t\t}", "+\t\tlockText = ignoreSelect = false;", "+\t\tOS.gtk_entry_set_text (entryHandle, new byte[1]);", "+\t}", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a034ac13f987171b89e040c77eaf0c35", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "88a206d76aa39dd7d98ee9e7c579161da612fd89", "commitAfterChange": "06bbc99d80578d0e68ba2117298ff1e890d6f10e", "methodNumberBeforeChange": 58, "methodNumberAfterChange": 58, "signatureBeforeChange": " \t void setItems (String [] items, boolean keepText, boolean keepSelection)", "signatureAfterChange": "  void setItems (String [] items, boolean keepText, boolean keepSelection)", "diff": ["-\t", "+", "-\tif (items.length == 0) {", "-\t\tint /*long*/ itemsList = OS.gtk_container_get_children (listHandle);", "-\t\tif (itemsList != 0) {", "-\t\t\tint count = OS.g_list_length (itemsList);", "-\t\t\tfor (int i=count - 1; i>=0; i--) {", "-\t\t\t\tint /*long*/ widget = OS.g_list_nth_data (itemsList, i);", "-\t\t\t\tOS.gtk_container_remove (listHandle, widget);", "-\t\t\t}", "-\t\t\tOS.g_list_free (itemsList);", "-\t\t}", "-\t} else {", "-\t\tint /*long*/ glist = 0;", "-\t\tfor (int i=0; i<items.length; i++) {", "-\t\t\tString string = items [i];", "-\t\t\tif (string == null) break;", "-\t\t\tbyte [] buffer = Converter.wcsToMbcs (null, string, true);", "-\t\t\tint /*long*/ data = OS.g_malloc (buffer.length);", "-\t\t\tOS.memmove (data, buffer, buffer.length);", "-\t\t\tglist = OS.g_list_append (glist, data);", "-\t\t}", "-\t\tOS.gtk_combo_set_popdown_strings (handle, glist);", "-\t\tif (glist != 0) {", "-\t\t\tint count = OS.g_list_length (glist);", "-\t\t\tfor (int i=0; i<count; i++) {", "-\t\t\t\tint /*long*/ data = OS.g_list_nth_data (glist, i);", "-\t\t\t\tif (data != 0) OS.g_free (data);", "-\t\t\t}", "-\t\t\tOS.g_list_free (glist);", "-\t\t}", "-\t\tint /*long*/ itemsList = OS.gtk_container_get_children (listHandle);", "-\t\tif (itemsList != 0) {", "-\t\t\tint /*long*/ font = getFontDescription ();", "-\t\t\tGdkColor color = getForegroundColor ();", "-\t\t\tint count = OS.g_list_length (itemsList);", "-\t\t\tfor (int i=count - 1; i>=0; i--) {", "-\t\t\t\tint /*long*/ widget = OS.gtk_bin_get_child (OS.g_list_nth_data (itemsList, i));", "-\t\t\t\tOS.gtk_widget_modify_fg (widget,  OS.GTK_STATE_NORMAL, color);", "-\t\t\t\tOS.gtk_widget_modify_font (widget, font);", "-\t\t\t}", "-\t\t\tOS.g_list_free (itemsList);", "-\t\t}", "+\tOS.gtk_list_clear_items (listHandle, 0, -1);", "+\tint /*long*/ font = getFontDescription ();", "+\tGdkColor color = getForegroundColor ();", "+\tfor (int i=0; i<items.length; i++) {", "+\t\tString string = items [i];", "+\t\tif (string == null) break;", "+\t\tbyte [] buffer = Converter.wcsToMbcs (null, string, true);", "+\t\tint /*long*/ item = OS.gtk_list_item_new_with_label (buffer);", "+\t\tint /*long*/ label = OS.gtk_bin_get_child (item); ", "+\t\tOS.gtk_widget_modify_fg (label, OS.GTK_STATE_NORMAL, color);", "+\t\tOS.gtk_widget_modify_font (label, font);", "+\t\tOS.gtk_container_add (listHandle, item);", "+\t\tOS.gtk_widget_show (item);"]}], "num": 48619}