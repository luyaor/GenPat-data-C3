{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5d4bc81ffb9af168d3fb3a6c49e1e6ec", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a3427fd55172116c50eb5b4ef29319ca", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/common/org/eclipse/swt/browser/Mozilla.java", "commitBeforeChange": "caa84d2b9df2c3b9eedb5f86a4ec38796c3a6c51", "commitAfterChange": "1a91a0641b6efab2fd52bee03ca0dd6d01f80e4e", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "  public void create (Composite parent, int style)", "signatureAfterChange": "  public void create (Composite parent, int style)", "diff": ["+\t\t\t} else { /* >= 1.9 */", "+\t\t\t\t/*", "+\t\t\t\t * Bug in XULRunner 1.9.  Mozilla no longer clears its background before initial content has", "+\t\t\t\t * been set.  As a result embedders appear broken if they do not immediately navigate to a url.", "+\t\t\t\t * The workaround for this is to navigate to about:blank immediately so that the background is", "+\t\t\t\t * cleared, but do not fire any corresponding events or allow Browser API calls to reveal this.", "+\t\t\t\t * Once the client does a proper navigate with either setUrl() or setText() then resume as", "+\t\t\t\t * normal.  The Mozilla bug for this is https://bugzilla.mozilla.org/show_bug.cgi?id=415789.", "+\t\t\t\t */", "+\t\t\t\tawaitingNavigate = true;", "+\t\t\t\trc = webBrowser.QueryInterface (nsIWebNavigation.NS_IWEBNAVIGATION_IID, result);", "+\t\t\t\tif (rc != XPCOM.NS_OK) {", "+\t\t\t\t\tbrowser.dispose ();", "+\t\t\t\t\terror (rc);", "+\t\t\t\t}", "+\t\t\t\tif (result[0] == 0) {", "+\t\t\t\t\tbrowser.dispose ();", "+\t\t\t\t\terror (XPCOM.NS_ERROR_NO_INTERFACE);", "+\t\t\t\t}", "+\t\t\t\tnsIWebNavigation webNavigation = new nsIWebNavigation (result[0]);", "+\t\t\t    char[] uri = new char[ABOUT_BLANK.length () + 1];", "+\t\t\t    ABOUT_BLANK.getChars (0, ABOUT_BLANK.length (), uri, 0);", "+\t\t\t\trc = webNavigation.LoadURI (uri, nsIWebNavigation.LOAD_FLAGS_NONE, 0, 0, 0);", "+\t\t\t\twebNavigation.Release ();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "032c1b30f2196d79c3d21b4a948692f7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/common/org/eclipse/swt/browser/Mozilla.java", "commitBeforeChange": "d0a0e4889f0021021d098ac09c6a472b6e3cb782", "commitAfterChange": "9fee840a36620efd4bcba2113ec0105613a6189e", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "  public void create (Composite parent, int style)", "signatureAfterChange": "  public void create (Composite parent, int style)", "diff": ["-\t\t\t\t * Bug in XULRunner 1.9.  Mozilla no longer clears its background before initial content has", "-\t\t\t\t * been set.  As a result embedders appear broken if they do not immediately navigate to a url.", "-\t\t\t\t * The workaround for this is to navigate to about:blank immediately so that the background is", "-\t\t\t\t * cleared, but do not fire any corresponding events or allow Browser API calls to reveal this.", "-\t\t\t\t * Once the client does a proper navigate with either setUrl() or setText() then resume as", "-\t\t\t\t * normal.  The Mozilla bug for this is https://bugzilla.mozilla.org/show_bug.cgi?id=415789.", "+\t\t\t\t * Bug in XULRunner 1.9.  On win32, Mozilla does not clear its background before content has", "+\t\t\t\t * been set into it.  As a result, embedders appear broken if they do not immediately display", "+\t\t\t\t * a URL or text.  The Mozilla bug for this is https://bugzilla.mozilla.org/show_bug.cgi?id=453523.", "+\t\t\t\t * ", "+\t\t\t\t * The workaround is to subclass the Mozilla window and clear it whenever WM_ERASEBKGND is received.", "+\t\t\t\t * This subclass should be removed once content has been set into the browser.", "-\t\t\t\tawaitingNavigate = true;", "-\t\t\t\trc = webBrowser.QueryInterface (nsIWebNavigation.NS_IWEBNAVIGATION_IID, result);", "-\t\t\t\tif (rc != XPCOM.NS_OK) {", "-\t\t\t\t\tbrowser.dispose ();", "-\t\t\t\t\terror (rc);", "-\t\t\t\t}", "-\t\t\t\tif (result[0] == 0) {", "-\t\t\t\t\tbrowser.dispose ();", "-\t\t\t\t\terror (XPCOM.NS_ERROR_NO_INTERFACE);", "-\t\t\t\t}", "-\t\t\t\tnsIWebNavigation webNavigation = new nsIWebNavigation (result[0]);", "-\t\t\t    char[] uri = new char[ABOUT_BLANK.length () + 1];", "-\t\t\t    ABOUT_BLANK.getChars (0, ABOUT_BLANK.length (), uri, 0);", "-\t\t\t\trc = webNavigation.LoadURI (uri, nsIWebNavigation.LOAD_FLAGS_NONE, 0, 0, 0);", "-\t\t\t\twebNavigation.Release ();", "+\t\t\t\tdelegate.addWindowSubclass ();"]}], "num": 59160}