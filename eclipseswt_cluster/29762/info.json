{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4b3f03201fd07a481c9ad27a4ee28ac9", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bf7484436ac277c4727e471a3254dfd4", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Accessibility/win32/org/eclipse/swt/accessibility/Accessible.java", "commitBeforeChange": "b2a57ac5aeda1a37b1c7d7c906ff837c3c7313d8", "commitAfterChange": "f3828846066629968a44d377ba246bddf80a917b", "methodNumberBeforeChange": 45, "methodNumberAfterChange": 55, "signatureBeforeChange": "\r \t\r \tint get_accName(int varChild_vt, int varChild_reserved1, int varChild_lVal, int varChild_reserved2, int pszName)", "signatureAfterChange": "\r \t\r \tint get_accName(int varChild_vt, int varChild_reserved1, int varChild_lVal, int varChild_reserved2, int pszName)", "diff": ["-\t\tif (accessibleListeners.size() == 0) {\r", "-\t\t\treturn iaccessible.get_accName(varChild_vt, varChild_reserved1, varChild_lVal, varChild_reserved2, pszName);\r", "+\t\tif (iaccessible == null) return COM.CO_E_OBJNOTCONNECTED;\r", "+\t\tif ((varChild_vt & 0xFFFF) != COM.VT_I4) return COM.E_INVALIDARG;\r", "+\r", "+\t\t/* Get the default name from the OS. */\r", "+\t\tString osName = null;\r", "+\t\tint code = iaccessible.get_accName(varChild_vt, varChild_reserved1, varChild_lVal, varChild_reserved2, pszName);\r", "+\t\tif (code == COM.E_INVALIDARG) code = COM.S_FALSE; // proxy doesn't know about app childID\r", "+\t\tif (accessibleListeners.size() == 0) return code;\r", "+\t\tif (code == COM.S_OK) {\r", "+\t\t\tint[] pName = new int[1];\r", "+\t\t\tCOM.MoveMemory(pName, pszName, 4);\r", "+\t\t\tint size = COM.SysStringByteLen(pName[0]);\r", "+\t\t\tif (size > 0) {\r", "+\t\t\t\tchar[] buffer = new char[(size + 1) /2];\r", "+\t\t\t\tCOM.MoveMemory(buffer, pName[0], size);\r", "+\t\t\t\tosName = new String(buffer);\r", "+\t\t\t}\r", "-\t\tif ((varChild_vt & 0xFFFF) != COM.VT_I4) return COM.E_INVALIDARG;\r", "-\t\tevent.childID = varChild_lVal - 1;\r", "+\t\tevent.childID = (varChild_lVal == COM.CHILDID_SELF) ? ACC.CHILDID_SELF : varChild_lVal - 1;\r", "+\t\tevent.result = osName;\r", "-\t\tif (event.result == null) return COM.S_FALSE;\r", "+\t\tif (event.result == null) return code;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "954524ea29c346c600f72c363747ed99", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Accessibility/win32/org/eclipse/swt/accessibility/Accessible.java", "commitBeforeChange": "b2a57ac5aeda1a37b1c7d7c906ff837c3c7313d8", "commitAfterChange": "f3828846066629968a44d377ba246bddf80a917b", "methodNumberBeforeChange": 50, "methodNumberAfterChange": 60, "signatureBeforeChange": "\r \t\r \tint get_accValue(int varChild_vt, int varChild_reserved1, int varChild_lVal, int varChild_reserved2, int pszValue)", "signatureAfterChange": "\r \t\r \tint get_accValue(int varChild_vt, int varChild_reserved1, int varChild_lVal, int varChild_reserved2, int pszValue)", "diff": ["-\t\tif (accessibleControlListeners.size() == 0) {\r", "-\t\t\treturn iaccessible.get_accValue(varChild_vt, varChild_reserved1, varChild_lVal, varChild_reserved2, pszValue);\r", "+\t\tif (iaccessible == null) return COM.CO_E_OBJNOTCONNECTED;\r", "+\t\tif ((varChild_vt & 0xFFFF) != COM.VT_I4) return COM.E_INVALIDARG;\r", "+\t\t\r", "+\t\t/* Get the default value string from the OS. */\r", "+\t\tString osValue = null;\r", "+\t\tint code = iaccessible.get_accValue(varChild_vt, varChild_reserved1, varChild_lVal, varChild_reserved2, pszValue);\r", "+\t\tif (code == COM.E_INVALIDARG) code = COM.S_FALSE; // proxy doesn't know about app childID\r", "+\t\tif (accessibleControlListeners.size() == 0) return code;\r", "+\t\tif (code == COM.S_OK) {\r", "+\t\t\tint[] pValue = new int[1];\r", "+\t\t\tCOM.MoveMemory(pValue, pszValue, 4);\r", "+\t\t\tint size = COM.SysStringByteLen(pValue[0]);\r", "+\t\t\tif (size > 0) {\r", "+\t\t\t\tchar[] buffer = new char[(size + 1) /2];\r", "+\t\t\t\tCOM.MoveMemory(buffer, pValue[0], size);\r", "+\t\t\t\tosValue = new String(buffer);\r", "+\t\t\t}\r", "-\t\tevent.childID = varChild_lVal - 1;\r", "+\t\tevent.childID = (varChild_lVal == COM.CHILDID_SELF) ? ACC.CHILDID_SELF : varChild_lVal - 1;\r", "+\t\tevent.result = osValue;\r", "-\t\tif (event.result == null) return COM.S_FALSE;\r", "+\t\tif (event.result == null) return code;\r"]}], "num": 29762}