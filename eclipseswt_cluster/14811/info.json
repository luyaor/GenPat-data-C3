{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "cd6a3def1ca2489cb297e81ae69caf2d", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8fb85d39c440e30c27fcd2cb32b92dd7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/common/org/eclipse/swt/browser/Mozilla.java", "commitBeforeChange": "d8955edbe9f5c9464b222d0331748137a5a534b7", "commitAfterChange": "b533c1ac7667bcd66286ef15cde6bafc62a4cf97", "methodNumberBeforeChange": 125, "methodNumberAfterChange": 125, "signatureBeforeChange": "  @Override public String getText ()", "signatureAfterChange": "  @Override public String getText ()", "diff": ["-\trc = componentManager.CreateInstanceByContractID (contractID, 0, nsIDOMSerializer_1_7.NS_IDOMSERIALIZER_IID, result);", "-\tif (rc == XPCOM.NS_OK) {\t/* mozilla >= 1.7 */", "-\t\tif (result[0] == 0) error (XPCOM.NS_NOINTERFACE);", "-", "-\t\tnsIDOMSerializer_1_7 serializer = new nsIDOMSerializer_1_7 (result[0]);", "-\t\tresult[0] = 0;", "-\t\tlong /*int*/ string = XPCOM.nsEmbedString_new ();", "-\t\trc = serializer.SerializeToString (document, string);", "-\t\tserializer.Release ();", "-", "-\t\tint length = XPCOM.nsEmbedString_Length (string);", "-\t\tlong /*int*/ buffer = XPCOM.nsEmbedString_get (string);", "-\t\tchars = new char[length];", "-\t\tXPCOM.memmove (chars, buffer, length * 2);", "-\t\tXPCOM.nsEmbedString_delete (string);", "-\t} else {\t/* mozilla < 1.7 */", "-\t\trc = componentManager.CreateInstanceByContractID (contractID, 0, nsIDOMSerializer.NS_IDOMSERIALIZER_IID, result);", "-\t\tif (rc != XPCOM.NS_OK) error (rc);", "-\t\tif (result[0] == 0) error (XPCOM.NS_NOINTERFACE);", "-", "+\trc = componentManager.CreateInstanceByContractID (contractID, 0, IIDStore.GetIID (nsIDOMSerializer.class), result);", "+\tif (rc == XPCOM.NS_OK && result[0] != 0) {", "-\t\trc = serializer.SerializeToString (document, result);", "+\t\tif (MozillaVersion.CheckVersion (MozillaVersion.VERSION_XR1_8)) {", "+\t\t\tlong /*int*/ string = XPCOM.nsEmbedString_new ();", "+\t\t\trc = serializer.SerializeToString (document, string);", "+\t\t\tif (rc == XPCOM.NS_OK) {", "+\t\t\t\tint length = XPCOM.nsEmbedString_Length (string);", "+\t\t\t\tlong /*int*/ buffer = XPCOM.nsEmbedString_get (string);", "+\t\t\t\tchars = new char[length];", "+\t\t\t\tXPCOM.memmove (chars, buffer, length * 2);", "+\t\t\t}", "+\t\t\tXPCOM.nsEmbedString_delete (string);", "+\t\t} else {", "+\t\t\trc = serializer.SerializeToString (document, result);", "+\t\t\tif (rc == XPCOM.NS_OK) {", "+\t\t\t\tint length = XPCOM.strlen_PRUnichar (result[0]);", "+\t\t\t\tchars = new char[length];", "+\t\t\t\tXPCOM.memmove (chars, result[0], length * 2);", "+\t\t\t}", "+\t\t}", "-", "-\t\tint length = XPCOM.strlen_PRUnichar (result[0]);", "-\t\tchars = new char[length];", "-\t\tXPCOM.memmove (chars, result[0], length * 2);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3eecff2c03f9df6cc41ec2a515db73c4", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/wpf/org/eclipse/swt/widgets/FileDialog.java", "commitBeforeChange": "48b541f22f408afa128c382b5462e26eee36aaa4", "commitAfterChange": "cf26ba9116b0e686fcefe5e69dca675ea8ec55ca", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 7, "signatureBeforeChange": " public String open ()", "signatureAfterChange": " public String open ()", "diff": ["-\tif (title != null) {", "-\t\tint length = title.length ();", "-\t\tchar [] buffer = new char [length + 1];", "-\t\ttitle.getChars (0, length, buffer, 0);", "-\t\tint titlePtr = OS.gcnew_String (buffer);", "-\t\tOS.FileDialog_Title (dialog, titlePtr);", "-\t\tOS.GCHandle_Free (titlePtr);", "-\t}", "-", "-\tif (fileName != null) {", "-\t\tint length = fileName.length ();", "-\t\tchar [] buffer = new char [length + 1];", "-\t\tfileName.getChars (0, length, buffer, 0);", "-\t\tint fileNamePtr = OS.gcnew_String (buffer);", "-\t\tOS.FileDialog_FileName (dialog, fileNamePtr);", "-\t\tOS.GCHandle_Free (fileNamePtr);", "-\t}", "+\tint titlePtr = parent.createDotNetString (title, false);", "+\tOS.FileDialog_Title (dialog, titlePtr);", "+\tOS.GCHandle_Free (titlePtr);", "+\tint fileNamePtr = parent.createDotNetString (fileName, false);", "+\tOS.FileDialog_FileName (dialog, fileNamePtr);", "+\tOS.GCHandle_Free (fileNamePtr);", "-\t\tint length = strFilter.length ();", "-\t\tchar [] buffer = new char [length + 1];", "-\t\tstrFilter.getChars (0, length, buffer, 0);", "-\t\tint filterPtr = OS.gcnew_String (buffer);", "+\t\tint filterPtr = parent.createDotNetString(strFilter.toString (), false);", "-\tif (filterPath != null) {", "-\t\tint length = filterPath.length ();", "-\t\tchar [] buffer = new char [length + 1];", "-\t\tfilterPath.getChars (0, length, buffer, 0);", "-\t\tint filterPathPtr = OS.gcnew_String (buffer);", "-\t\tOS.FileDialog_InitialDirectory (dialog, filterPathPtr);", "-\t\tOS.GCHandle_Free (filterPathPtr);", "-\t}", "+\tint filterPathPtr = parent.createDotNetString (filterPath, false);", "+\tOS.FileDialog_InitialDirectory (dialog, filterPathPtr);", "+\tOS.GCHandle_Free (filterPathPtr);", "-\tboolean success = OS.CommonDialog_ShowDialog(dialog, parentHandle);", "+\tboolean success = OS.CommonDialog_ShowDialog (dialog, parentHandle);", "-\t\t\tfileNames [i] = createJavaString (name);", "+\t\t\tfileNames [i] = parent.createJavaString (name);", "-\t\t\t\tfilterPath = createJavaString (dir);", "+\t\t\t\tfilterPath = parent.createJavaString (dir);"]}], "num": 14811}