{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2b6741136ac4f4b7e4a27e7a41f7d4cf", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b7ab50e4ffb2f980ff252dfe4f39dc03", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "810eb254cbe71a3e1637e56f044fa70b981eb39d", "commitAfterChange": "803bd538f4c4c40e1d60df10cb6937bfea9dab26", "methodNumberBeforeChange": 84, "methodNumberAfterChange": 76, "signatureBeforeChange": " void setButtonBounds()", "signatureAfterChange": " void setButtonBounds(GC gc)", "diff": ["-void setButtonBounds() {", "+void setButtonBounds(GC gc) {", "+\tRectangle trim = renderer.computeTrim(CTabFolderRenderer.PART_BORDER, SWT.NONE, 0, 0, 0, 0);", "+\tint borderRight = trim.width + trim.x;", "+\tint borderLeft = -trim.x;", "+\tint borderBottom = trim.height + trim.y;", "+\tint borderTop = -trim.y;", "+\t", "-\t\tmaxRect.x = size.x - borderRight - BUTTON_SIZE - 3;", "+\t\tPoint maxSize = renderer.computeSize(CTabFolderRenderer.PART_MAX_BUTTON, SWT.NONE, gc);", "+\t\tmaxRect.x = size.x - borderRight - maxSize.x - 3;", "-\t\tmaxRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - BUTTON_SIZE)/2: borderTop + (tabHeight - BUTTON_SIZE)/2;", "-\t\tmaxRect.width = BUTTON_SIZE;", "-\t\tmaxRect.height = BUTTON_SIZE;", "+\t\tmaxRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - maxSize.y)/2: borderTop + (tabHeight - maxSize.y)/2;", "+\t\tmaxRect.width = maxSize.x;", "+\t\tmaxRect.height = maxSize.y;", "-\t", "+", "-\t\tminRect.x = size.x - borderRight - maxRect.width - BUTTON_SIZE - 3;", "+\t\tPoint minSize = renderer.computeSize(CTabFolderRenderer.PART_MIN_BUTTON, SWT.NONE, gc);", "+\t\tminRect.x = size.x - borderRight - maxRect.width - minSize.x - 3;", "-\t\tminRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - BUTTON_SIZE)/2: borderTop + (tabHeight - BUTTON_SIZE)/2;", "-\t\tminRect.width = BUTTON_SIZE;", "-\t\tminRect.height = BUTTON_SIZE;", "+\t\tminRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - minSize.y)/2: borderTop + (tabHeight - minSize.y)/2;", "+\t\tminRect.width = minSize.x;", "+\t\tminRect.height = minSize.y;", "-\t\t\t\t\t\tif (item.x + item.width + 7 + 3*BUTTON_SIZE/2 >= rightEdge) break;", "-\t\t\t\t\t\ttopRightRect.x = item.x + item.width + 7 + 3*BUTTON_SIZE/2;", "+\t\t\t\t\t\tint chevronWidth = renderer.computeSize(CTabFolderRenderer.PART_CHEVRON_BUTTON, SWT.NONE, gc).x;", "+\t\t\t\t\t\tif (item.x + item.width + 7 + chevronWidth >= rightEdge) break;", "+\t\t\t\t\t\ttopRightRect.x = item.x + item.width + 7 + chevronWidth;", "-\t\t\t\t\t\tCTabItem item = items[items.length - 1];", "-\t\t\t\t\t\ttopRightRect.x = item.x + item.width;", "-\t\t\t\t\t\tif (!simple && items.length - 1 == selectedIndex) topRightRect.x += curveWidth - curveIndent;", "+\t\t\t\t\t\tint lastIndex = items.length - 1;", "+\t\t\t\t\t\tCTabItem lastItem = items[lastIndex];", "+\t\t\t\t\t\ttopRightRect.x = lastItem.x + lastItem.width;", "+\tPoint chevronSize = renderer.computeSize(CTabFolderRenderer.PART_CHEVRON_BUTTON, SWT.NONE, gc);", "-\t\t\tchevronRect.width = 3*BUTTON_SIZE/2;", "-\t\t\tchevronRect.height = BUTTON_SIZE;", "+\t\t\tchevronRect.width = chevronSize.x;", "+\t\t\tchevronRect.height = chevronSize.y;", "-\t\t\tchevronRect.width = 3*BUTTON_SIZE/2;", "-\t\t\tchevronRect.height = BUTTON_SIZE;", "+\t\t\tchevronRect.width = chevronSize.x;", "+\t\t\tchevronRect.height = chevronSize.y;", "-\t\t\tif (!simple && lastIndex == selectedIndex) w += curveWidth - 2*curveIndent;", "-\t\t\tchevronRect.x = Math.min(w, getRightItemEdge());", "+\t\t\tif (!simple && lastIndex == selectedIndex) w -= renderer.curveIndent;  //TODO: fix chevron position", "+\t\t\tchevronRect.x = Math.min(w, getRightItemEdge(gc));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "df942a5f07581f88c2d8b2f0c123eb8e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "810eb254cbe71a3e1637e56f044fa70b981eb39d", "commitAfterChange": "803bd538f4c4c40e1d60df10cb6937bfea9dab26", "methodNumberBeforeChange": 89, "methodNumberAfterChange": 81, "signatureBeforeChange": " boolean setItemLocation()", "signatureAfterChange": " boolean setItemLocation(GC gc)", "diff": ["-boolean setItemLocation() {", "+boolean setItemLocation(GC gc) {", "+\tRectangle trim = renderer.computeTrim(CTabFolderRenderer.PART_BORDER, SWT.NONE, 0, 0, 0, 0);", "+\tint borderLeft = -trim.x;", "+\tint borderBottom = trim.height + trim.y;", "+\tint borderTop = -trim.y;", "+\tPoint closeButtonSize = renderer.computeSize(CTabFolderRenderer.PART_CLOSE_BUTTON, 0, gc);", "-\t\t\t\t\titem.closeRect.x = borderLeft + CTabItem.LEFT_MARGIN;", "-\t\t\t\t\titem.closeRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - BUTTON_SIZE)/2: borderTop + (tabHeight - BUTTON_SIZE)/2;", "+\t\t\t\t\titem.closeRect.x = borderLeft - renderer.computeTrim(i, SWT.NONE, 0, 0, 0, 0).x;", "+\t\t\t\t\titem.closeRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - closeButtonSize.y)/2: borderTop + (tabHeight - closeButtonSize.y)/2;", "-\t\tint rightItemEdge = getRightItemEdge();", "+\t\tint rightItemEdge = getRightItemEdge(gc);", "-\t\t\tif (!simple && priority[i] == selectedIndex) width += curveWidth - 2*curveIndent;", "-\t\t\t\tif (i == selectedIndex) {", "-\t\t\t\t\tint edge = Math.min(item.x + item.width, rightItemEdge);", "-\t\t\t\t\titem.closeRect.x = edge - CTabItem.RIGHT_MARGIN - BUTTON_SIZE;", "-\t\t\t\t} else {", "-\t\t\t\t\titem.closeRect.x = item.x + item.width - CTabItem.RIGHT_MARGIN - BUTTON_SIZE;", "-\t\t\t\t}", "-\t\t\t\titem.closeRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - BUTTON_SIZE)/2: borderTop + (tabHeight - BUTTON_SIZE)/2;", "+\t\t\t\tint state = SWT.NONE;", "+\t\t\t\tif (i == selectedIndex) state |= SWT.SELECTED;", "+\t\t\t\tRectangle edgeTrim = renderer.computeTrim(i, state, 0, 0, 0, 0);", "+\t\t\t\titem.closeRect.x = item.x + item.width  - (edgeTrim.width + edgeTrim.x) - closeButtonSize.x;", "+\t\t\t\titem.closeRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - closeButtonSize.y)/2: borderTop + (tabHeight - closeButtonSize.y)/2;", "-\t\t\t\tif (!simple && i == selectedIndex) x += curveWidth - 2*curveIndent;", "+\t\t\t\tif (!simple && i == selectedIndex) x -= renderer.curveIndent; //TODO: fix next item position "]}], "num": 5438}