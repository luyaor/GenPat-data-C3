{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8002bab557101e015b5c00da267d8edc", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "df1d391d0c8ff41aa1bcfa7ef386a6a7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "ecbcd650bfaaa87dc3142602f57032996f2eace2", "commitAfterChange": "148b84f426929c4b1c134024d292f28a1ed47f44", "methodNumberBeforeChange": 189, "methodNumberAfterChange": 189, "signatureBeforeChange": "  void setBackgroundColor (int handle, GdkColor color)", "signatureAfterChange": "  void setBackgroundColor (int handle, GdkColor color)", "diff": ["-\tString name = color == null ? \"<parent>\" : \"<none>\";", "-\tbyte[] buffer = Converter.wcsToMbcs (null, name, true);", "-\tptr = OS.g_malloc (buffer.length);", "-\tOS.memmove (ptr, buffer, buffer.length);", "+\tptr = 0;", "+\t", "+\tString pixmapName = null;", "+\tint flags = OS.gtk_rc_style_get_color_flags (style, index);", "+\tif (color != null) {", "+\t\tflags |= OS.GTK_RC_BG;", "+\t\tpixmapName = \"<none>\";", "+\t} else {", "+\t\tflags &= ~OS.GTK_RC_BG;", "+\t\tif (backgroundImage == null && (state & PARENT_BACKGROUND) != 0) {", "+\t\t\tpixmapName = \"<parent>\";", "+\t\t}", "+\t}", "+\tif (pixmapName != null) {", "+\t\tbyte[] buffer = Converter.wcsToMbcs (null, pixmapName, true);", "+\t\tptr = OS.g_malloc (buffer.length);", "+\t\tOS.memmove (ptr, buffer, buffer.length);", "+\t}", "+\t", "-\tint flags = OS.gtk_rc_style_get_color_flags (style, index);", "-\tflags = (color == null) ? flags & ~OS.GTK_RC_BG : flags | OS.GTK_RC_BG;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1d6b97e81226fab523f971a512898822", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/photon/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "fe9cf8b69b05605c0699efe7aea722d3e2396198", "commitAfterChange": "a76fbcdb2bea80d2aa22d622558bd4081d9e971a", "methodNumberBeforeChange": 43, "methodNumberAfterChange": 45, "signatureBeforeChange": " public void setText (String string)", "signatureAfterChange": " public void setText (String string)", "diff": ["-\tbyte [] buffer = Converter.wcsToMbcs (null, string, true);", "-\tint ptr = OS.malloc (buffer.length);", "-\tOS.memmove (ptr, buffer, buffer.length);", "+\tchar [] text = new char [string.length ()];", "+\tstring.getChars (0, text.length, text, 0);", "+\tchar mnemonic = fixMnemonic (text);", "+\tbyte [] buffer = Converter.wcsToMbcs (null, text, true);", "+\tint ptr1 = OS.malloc (buffer.length);", "+\tOS.memmove (ptr1, buffer, buffer.length);", "+\tint ptr2 = 0;", "+\tif (mnemonic != 0) {", "+\t\tbyte [] buffer2 = Converter.wcsToMbcs (null, new char []{mnemonic}, true);", "+\t\tptr2 = OS.malloc (buffer2.length);", "+\t\tOS.memmove (ptr2, buffer2, buffer2.length);", "+\t}", "+\treplaceMnemonic (mnemonic, true, true);", "-\t\tOS.Pt_ARG_TEXT_STRING, ptr, 0,", "+\t\tOS.Pt_ARG_TEXT_STRING, ptr1, 0,", "+\t\tOS.Pt_ARG_ACCEL_KEY, ptr2, 0,", "-\tif (ptr != 0) OS.free (ptr);", "+\tOS.free (ptr1);", "+\tOS.free (ptr2);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "006e02b7a0d2a9717940f9c011650b14", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "0dcefc726a59adc3ce7b6dc24a58e5d592ba7749", "commitAfterChange": "88ffa6b3ea08098641f0307e99d3b91e831f45af", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 133, "signatureBeforeChange": "  GdkColor defaultBackground ()", "signatureAfterChange": "  void setBackgroundColor (int handle, GdkColor color)", "diff": ["-GdkColor defaultBackground () {", "-\treturn display.COLOR_WIDGET_BACKGROUND;", "-}", "+void setBackgroundColor (int handle, GdkColor color) {", "+\tint index = OS.GTK_STATE_NORMAL;", "+\tint style = OS.gtk_widget_get_modifier_style (handle);", "+\tint ptr = OS.gtk_rc_style_get_bg_pixmap_name (style, index);", "+\tif (ptr != 0) OS.g_free (ptr);", "+\tString name = color == null ? \"<parent>\" : \"<none>\";", "+\tbyte[] buffer = Converter.wcsToMbcs (null, name, true);", "+\tptr = OS.g_malloc (buffer.length);", "+\tOS.memmove (ptr, buffer, buffer.length);", "+\tOS.gtk_rc_style_set_bg_pixmap_name (style, index, ptr);", "+\tOS.gtk_rc_style_set_bg (style, index, color);", "+\tint flag = OS.gtk_rc_style_get_color_flags(style, index);", "+\tflag = (color == null) ? flag & ~OS.GTK_RC_BG : flag | OS.GTK_RC_BG;", "+\tOS.gtk_rc_style_set_color_flags(style, index, flag);", "+\tOS.gtk_widget_modify_style (handle, style);", "+}"]}], "num": 14656}