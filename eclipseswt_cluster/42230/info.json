{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "57b7df3c3d90a330ae7652cd7a0808d8", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "11eba679ae43cc958eb6808d9a8e0331", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Printing/win32/org/eclipse/swt/printing/PrintDialog.java", "commitBeforeChange": "5381f36cd2ee3ebae345f390df5e1c6d63d37a50", "commitAfterChange": "64c41b83f65fe3168ce076e0d9105675dc3826dc", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "\r public PrinterData open()", "signatureAfterChange": "\r public PrinterData open()", "diff": ["-\tif (OS.PrintDlgA(pd)) {\r", "+\tif (OS.PrintDlg(pd)) {\r", "-\t\tbyte [] DEVNAMES = new byte[size];\r", "-\t\tOS.MoveMemory(DEVNAMES, ptr, size);\r", "+\t\tshort[] offsets = new short[4];\r", "+\t\tOS.MoveMemory(offsets, ptr, 2 * offsets.length);\r", "+\t\tTCHAR buffer = new TCHAR(0, size);\r", "+\t\tOS.MoveMemory(buffer, ptr, size);\t\r", "-\t\tint driverOffset = (DEVNAMES[0] & 0xFF) | ((DEVNAMES[1] & 0xFF) << 8);\r", "+\r", "+\t\tint driverOffset = offsets[0];\r", "-\t\t\tif (DEVNAMES[driverOffset + i] == 0) break;\r", "+\t\t\tif (buffer.tcharAt(driverOffset + i) == 0) break;\r", "-\t\tString driver = new String(DEVNAMES, driverOffset, i);\r", "-\t\tint deviceOffset = (DEVNAMES[2] & 0xFF) | ((DEVNAMES[3] & 0xFF) << 8);\r", "+\t\tString driver = buffer.toString(driverOffset, i);\r", "+\t\tint deviceOffset = offsets[1];\r", "-\t\t\tif (DEVNAMES[deviceOffset + i] == 0) break;\r", "+\t\t\tif (buffer.tcharAt(deviceOffset + i) == 0) break;\r", "-\t\tString device = new String(DEVNAMES, deviceOffset, i);\r", "-\t\r", "+\t\tString device = buffer.toString(deviceOffset, i);\t\r", "+\t\t\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fb24a6dfb4cb085948d1726de5d7e7bd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/DirectoryDialog.java", "commitBeforeChange": "d4eb14ad4f7b1074d4935c2b9211f94b2750616d", "commitAfterChange": "7d562ae8941ad5655a314eac8dd19e3b2aaef50c", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "\r public String open ()", "signatureAfterChange": "\r public String open ()", "diff": ["+\tif (OS.IsWinCE) SWT.error (SWT.ERROR_NOT_IMPLEMENTED);\r", "-\t\tbyte [] buffer = Converter.wcsToMbcs (0, message, true);\r", "-\t\tlpszTitle = OS.HeapAlloc (hHeap, OS.HEAP_ZERO_MEMORY, buffer.length);\r", "-\t\tOS.MoveMemory (lpszTitle, buffer, buffer.length);\r", "+\t\tTCHAR buffer = new TCHAR (0, message, true);\r", "+\t\tint byteCount = buffer.length () * TCHAR.sizeof;\r", "+\t\tlpszTitle = OS.HeapAlloc (hHeap, OS.HEAP_ZERO_MEMORY, byteCount);\r", "+\t\tOS.MoveMemory (lpszTitle, buffer, byteCount);\r", "-\t\tbyte [] buffer = new byte [256];\r", "+\t\t/* Use the character encoding for the default locale */\r", "+\t\tTCHAR buffer = new TCHAR (0, 256);\r", "-\t\t\t/* Use the character encoding for the default locale */\r", "-\t\t\tchar [] path = Converter.mbcsToWcs (0, buffer);\r", "-\t\t\tint length = 0;\r", "-\t\t\twhile ((length < path.length) && (path [length] != 0)) length++;\r", "-\t\t\tdirectoryPath = new String (path, 0, length);\r", "+\t\t\tdirectoryPath = buffer.toString (0, buffer.strlen ());\r"]}], "num": 42230}