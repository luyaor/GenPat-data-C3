{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "7c0d129a0c72994ef4ac2650aa2704c8", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7da934aed89892bfcddb103b6a5def40", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/photon/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "3fb799dcaa7d449679ed92f9829fbed85aa6fd1d", "commitAfterChange": "6c0e3d76ce668620fd159ac504e2b5d9a48852be", "methodNumberBeforeChange": 58, "methodNumberAfterChange": 59, "signatureBeforeChange": "\r \r void setGCClipping()", "signatureAfterChange": "\r \r void setGCClipping()", "diff": ["-\tint child_tile = 0;\r", "-\tint widget_tile = OS.PhGetTile(); // NOTE: PhGetTile native initializes the tile\r", "-\t\t\t\r", "-\t// Get the rectangle of all siblings in front of the widget\r", "-\tint temp_widget = topWidget;\r", "-\twhile ((temp_widget = OS.PtWidgetBrotherInFront(temp_widget)) != 0) {\r", "-\t\tif (OS.PtWidgetIsRealized(temp_widget)) {\r", "-\t\t\tint tile = OS.PhGetTile();\r", "-\t\t\tif (child_tile == 0) child_tile = tile;\t\t\t\r", "-\t\t\telse child_tile = OS.PhAddMergeTiles(tile, child_tile, null);\r", "-\t\t\tOS.PtWidgetExtent(temp_widget, tile); // NOTE: tile->rect\r", "-\t\t}\r", "-\t}\r", "-\t// Translate the siblings rectangles to the widget's coordinates\r", "-\tOS.PtWidgetCanvas(topWidget, widget_tile); // NOTE: widget_tile->rect\r", "-\tOS.PhDeTranslateTiles(child_tile, widget_tile); // NOTE: widget_tile->rect.ul\r", "-\t\t\t\r", "-\t// Get the rectangle of the widget's children\r", "-\ttemp_widget = OS.PtWidgetChildBack(widget);\r", "-\twhile (temp_widget != 0) {\r", "-\t\tif (OS.PtWidgetIsRealized(temp_widget)) {\r", "-\t\t\tint tile = OS.PhGetTile();\r", "-\t\t\tif (child_tile == 0) child_tile = tile;\t\t\t\r", "-\t\t\telse child_tile = OS.PhAddMergeTiles(tile, child_tile, null);\r", "-\t\t\tOS.PtWidgetExtent(temp_widget, tile); // NOTE: tile->rect\r", "-\t\t}\r", "-\t\ttemp_widget = OS.PtWidgetBrotherInFront(temp_widget);\r", "-\t}\r", "-\r", "-\t// Get the widget's rectangle\r", "-\tOS.PtWidgetCanvas(widget, widget_tile); // NOTE: widget_tile->rect\r", "-\tOS.PhDeTranslateTiles(widget_tile, widget_tile); // NOTE: widget_tile->rect.ul\r", "-\r", "-\t// Clip the widget's rectangle from the child/siblings rectangle's\r", "-\tint clip_rects;\r", "+\tint clip_tile = getClipping(widget, topWidget, true, true);\r", "-\tif (child_tile != 0) {\r", "-\t\tint clip_tile = OS.PhClipTilings(widget_tile, child_tile, null);\r", "-\t\tclip_rects = OS.PhTilesToRects(clip_tile, clip_rects_count);\r", "-\t\tOS.PhFreeTiles(child_tile);\r", "-\t\tOS.PhFreeTiles(clip_tile);\r", "-\t} else {\r", "-\t\tclip_rects = OS.PhTilesToRects(widget_tile, clip_rects_count);\r", "-\t\tOS.PhFreeTiles(widget_tile);\r", "-\t}\r", "+\tint clip_rects = OS.PhTilesToRects(clip_tile, clip_rects_count);\r", "+\tOS.PhFreeTiles(clip_tile);\r", "-\t// PgSetClipping sets the clipping to the full region when the count is zero\r", "+\t/* PgSetClipping sets the clipping to the full region when the count is zero */\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7e71fc4ed6a47e4175a75abbbcbb2a63", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Button.java", "commitBeforeChange": "36eaa6570a484e2f9bbbd219e6525409ed733fd2", "commitAfterChange": "9da76fa592a484a15f121fdf2a35999495858b74", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "  int callPaintEventHandler (int control, int damageRgn, int visibleRgn, int theEvent, int nextHandler)", "signatureAfterChange": "  int callPaintEventHandler (int control, int damageRgn, int visibleRgn, int theEvent, int nextHandler)", "diff": ["-\tif ((style & SWT.ARROW) != 0 && OS.VERSION >= 0x1050) {", "-\t\tint [] context = new int [1];", "-\t\tOS.GetEventParameter (theEvent, OS.kEventParamCGContextRef, OS.typeCGContextRef, null, 4, null, context);", "-\t\tint state;", "-\t\tif (OS.IsControlEnabled (control)) {", "-\t\t\tstate = OS.IsControlActive (control) ? OS.kThemeStateActive : OS.kThemeStateInactive;", "-\t\t\tif (display.grabControl == this) state = OS.kThemeStatePressed;", "-\t\t} else {", "-\t\t\tstate = OS.IsControlActive (control) ? OS.kThemeStateUnavailable : OS.kThemeStateUnavailableInactive;", "-\t\t}", "-\t\tCGRect rect = new CGRect ();", "-\t\tOS.HIViewGetBounds (handle, rect);", "-\t\tint orientation = OS.kThemeArrowRight;", "-\t\tif ((style & SWT.UP) != 0) orientation = OS.kThemeArrowUp;", "-\t\tif ((style & SWT.DOWN) != 0) orientation = OS.kThemeArrowDown;;", "-\t\tif ((style & SWT.LEFT) != 0) orientation = OS.kThemeArrowLeft;", "-\t\tHIThemePopupArrowDrawInfo info = new HIThemePopupArrowDrawInfo ();", "-\t\tinfo.state = state;", "-\t\tinfo.orientation = (short) orientation;", "-\t\tinfo.size = (short) OS.kThemeArrow9pt;", "-\t\tOS.HIThemeDrawPopupArrow (rect, info, context [0], OS.kHIThemeOrientationNormal);", "-\t\treturn OS.noErr;", "-\t}", "-\tif ((style & SWT.ARROW) != 0 && (style & SWT.UP) != 0) {", "-\t\tcontext = new int [1];", "-\t\tOS.GetEventParameter (theEvent, OS.kEventParamCGContextRef, OS.typeCGContextRef, null, 4, null, context);", "-\t\tOS.CGContextSaveGState (context[0]);", "-\t\tOS.CGContextScaleCTM (context[0], 1f, -1);", "-\t\tOS.CGContextTranslateCTM (context[0], 0, -getBounds().height);", "+\tif ((style & SWT.ARROW) != 0) {", "+\t\tboolean invert = false;", "+\t\tif (OS.VERSION < 0x1050) {", "+\t\t\tinvert = (style & SWT.UP) != 0;", "+\t\t} else {", "+\t\t\tinvert = (style & SWT.UP) != 0 || (style & SWT.RIGHT) != 0;", "+\t\t}", "+\t\tif (invert) {", "+\t\t\tcontext = new int [1];", "+\t\t\tOS.GetEventParameter (theEvent, OS.kEventParamCGContextRef, OS.typeCGContextRef, null, 4, null, context);", "+\t\t\tOS.CGContextSaveGState (context[0]);", "+\t\t\tCGRect rect = new CGRect();", "+\t\t\tOS.HIViewGetBounds (handle, rect);", "+\t\t\tOS.CGContextRotateCTM (context[0], (float)Compatibility.PI);", "+\t\t\tOS.CGContextTranslateCTM (context[0], -rect.width, -rect.height);", "+\t\t}"]}], "num": 32392}