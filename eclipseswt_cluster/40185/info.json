{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9fab2e4cfeb4be1811dfa98d0f641998", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8ddfcd087db6ba6a4c7bbccf15e7f62b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "examples/org.eclipse.swt.examples/src/org/eclipse/swt/examples/texteditor/TextEditor.java", "commitBeforeChange": "7441a47762634b1f5d2ade157297091e8ba4e9c5", "commitAfterChange": "f46eb8b1f99a23a73a430c029968a9f0fbaebbcb", "methodNumberBeforeChange": 94, "methodNumberAfterChange": 94, "signatureBeforeChange": " \t \tvoid setStyle(int style)", "signatureAfterChange": " \t \tvoid setStyle(int style)", "diff": ["-", "-\t\tif ((style & TEXT_FOREGROUND) != 0) {", "-\t\t\tif ((style & TEXT_FOREGROUND) == (styleState & TEXT_FOREGROUND)) {", "-\t\t\t\tstyleState &= ~TEXT_FOREGROUND;", "-\t\t\t} else {", "-\t\t\t\tstyleState &= ~TEXT_FOREGROUND;", "-\t\t\t\tstyleState |= style;", "-\t\t\t}", "-\t\t}", "-\t\tif ((style & TEXT_BACKGROUND) != 0) {", "-\t\t\tif ((style & TEXT_BACKGROUND) == (styleState & TEXT_BACKGROUND)) {", "-\t\t\t\tstyleState &= ~TEXT_BACKGROUND;", "-\t\t\t} else {", "-\t\t\t\tstyleState &= ~TEXT_BACKGROUND;", "-\t\t\t\tstyleState |= style;", "-\t\t\t}", "-\t\t}", "-\t\tif ((style & UNDERLINE) != 0) {", "-\t\t\tif ((style & UNDERLINE) == (styleState & UNDERLINE)) {", "-\t\t\t\tstyleState &= ~UNDERLINE;", "-\t\t\t} else {", "-\t\t\t\tstyleState &= ~UNDERLINE;", "-\t\t\t\tstyleState |= style;", "-\t\t\t}", "-\t\t}", "-\t\tif ((style & STRIKEOUT) != 0) {", "-\t\t\tif ((style & STRIKEOUT) == (styleState & STRIKEOUT)) {", "-\t\t\t\tstyleState &= ~STRIKEOUT;", "-\t\t\t} else {", "-\t\t\t\tstyleState &= ~STRIKEOUT;", "-\t\t\t\tstyleState |= style;", "-\t\t\t}", "-\t\t}", "-\t\tif ((style & BORDER) != 0) {", "-\t\t\tif ((style & BORDER) == (styleState & BORDER)) {", "-\t\t\t\tstyleState &= ~BORDER;", "-\t\t\t} else {", "-\t\t\t\tstyleState &= ~BORDER;", "-\t\t\t\tstyleState |= style;", "-\t\t\t}", "-\t\t}", "+\t\tupdateStyleState(style, FOREGROUND);", "+\t\tupdateStyleState(style, BACKGROUND);", "+\t\tupdateStyleState(style, UNDERLINE);", "+\t\tupdateStyleState(style, STRIKEOUT);", "+\t\tupdateStyleState(style, BORDER);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c982f6b9521bf7665fefadbab84c08c9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledTextBidi.java", "commitBeforeChange": "43c5eca5ffa5452874e81e46e670840a579edd2f", "commitAfterChange": "1f82bdbe2d20fd7594c393bf39d9867087e27d8b", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 16, "signatureBeforeChange": "\r int[] getCaretOffsetAndDirectionAtX(int x)", "signatureAfterChange": "\r int[] getCaretOffsetAndDirectionAtX(int x)", "diff": ["+ */\r", "-\t}\t\r", "+\t}\t\t\r", "-\t// get the index visually clicked character\r", "-\tint visualIndex = getVisualOffsetAtX(x);\r", "+\t// get the visual offset of the clicked character\r", "+\tint visualOffset = getVisualOffsetAtX(x);\r", "-\tint halfway = renderPositions[visualIndex] + (dx[visualIndex] / 2);\r", "+\tint halfway = renderPositions[visualOffset] + dx[visualOffset] / 2;\r", "-\toffset = getLogicalOffset(visualIndex);\r", "-\r", "-\t// handle visual beginning\r", "-\tif (visualIndex == 0) {\r", "-\t\tif (isRightToLeft(offset)) {\r", "-\t\t\tif (visualLeft) {\r", "-\t\t\t\toffset = getLigatureEndOffset(offset);\r", "-\t\t\t\toffset = offset + 1;\r", "-\t\t\t\tdirection = ST.COLUMN_NEXT;\r", "-\t\t\t}\r", "-\t\t\telse {\r", "-\t\t\t\tdirection = ST.COLUMN_PREVIOUS;\r", "-\t\t\t}\r", "-\t\t}\r", "-\t\telse {\r", "-\t\t\tif (visualLeft) {\r", "-\t\t\t\tdirection = ST.COLUMN_PREVIOUS;\r", "-\t\t\t}\r", "-\t\t\telse {\r", "-\t\t\t\toffset = offset + 1;\r", "-\t\t\t\tdirection = ST.COLUMN_NEXT;\r", "-\t\t\t}\r", "-\t\t}\t\t\t\r", "-\t\treturn new int[] {offset, direction};\r", "-\t}\t\r", "-\r", "-\t// handle visual end\r", "-\tif (visualIndex == renderPositions.length - 1) {\r", "-\t\tif (isRightToLeft(offset)) {\r", "-\t\t\tif (visualLeft) {\r", "-\t\t\t\toffset = getLigatureEndOffset(offset);\r", "-\t\t\t\toffset = offset + 1;\r", "-\t\t\t\tdirection = ST.COLUMN_NEXT;\r", "-\t\t\t}\r", "-\t\t\telse {\r", "-\t\t\t\toffset = offset;\r", "-\t\t\t\tdirection = ST.COLUMN_PREVIOUS;\r", "-\t\t\t}\r", "-\t\t}\r", "-\t\telse {\r", "-\t\t\tif (visualLeft) {\r", "-\t\t\t\toffset = offset;\r", "-\t\t\t\tdirection = ST.COLUMN_PREVIOUS;\r", "-\t\t\t}\r", "-\t\t\telse {\r", "-\t\t\t\toffset = offset + 1;\r", "-\t\t\t\tdirection = ST.COLUMN_NEXT;\r", "-\t\t\t}\r", "-\t\t}\r", "-\t\treturn new int[] {offset, direction};\r", "-\t}\t\r", "+\toffset = getLogicalOffset(visualOffset);\r", "-\t\t\toffset = offset + 1;\r", "+\t\t\toffset++;\r", "-\t\t\toffset = offset;\r", "-\t\t\toffset = offset;\r", "-\t\t\toffset = offset + 1;\r", "+\t\t\toffset++;\r"]}], "num": 40185}