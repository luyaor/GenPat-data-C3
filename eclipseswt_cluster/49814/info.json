{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "27a84b71109fb473bfd9ef8a3474bfc2", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "89dce2e642556ba4367585631c0078da", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/cocoa/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "a3eda06a7a4c290420b73156206fa1800c9178ee", "commitAfterChange": "9837bb695405327b535c2924659cef1a3a71f994", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 23, "signatureBeforeChange": "  public boolean setText(String html, boolean trusted)", "signatureAfterChange": "  public boolean setText(String html, boolean trusted)", "diff": ["-\tuntrustedText = !trusted;", "-\t* Bug in Safari.  The web view segment faults in some circumstances", "-\t* when the text changes during the location changing callback.  The", "-\t* fix is to defer the work until the callback is done. ", "+\t* If this.html is not null then the about:blank page is already being loaded,", "+\t* so no navigate is required.  Just set the html that is to be shown.", "-\tif (changingLocation) {", "-\t\tthis.html = html;", "-\t} else {", "-\t\t_setText(html, trusted);", "-\t}", "-\treturn true;", "-}", "+\tboolean blankLoading = this.html != null;", "+\tthis.html = html;", "+\tuntrustedText = !trusted;", "+\tif (blankLoading) return true;", "+", "+\tNSURL inURL = NSURL.URLWithString(NSString.stringWith (ABOUT_BLANK));", "+\tNSURLRequest request = NSURLRequest.requestWithURL(inURL);", "+\tmainFrame.loadRequest(request);", "+\treturn true;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "570c2827a28f0a476328fb57e9bd9320", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/carbon/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "a3eda06a7a4c290420b73156206fa1800c9178ee", "commitAfterChange": "9837bb695405327b535c2924659cef1a3a71f994", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 23, "signatureBeforeChange": "  public boolean setText(String html, boolean trusted)", "signatureAfterChange": "  public boolean setText(String html, boolean trusted)", "diff": ["-\tuntrustedText = !trusted;", "-\t* Bug in Safari.  The web view segment faults in some circumstances", "-\t* when the text changes during the location changing callback.  The", "-\t* fix is to defer the work until the callback is done. ", "+\t* If this.html is not null then the about:blank page is already being loaded,", "+\t* so no navigate is required.  Just set the html that is to be shown.", "-\tif (changingLocation) {", "-\t\tthis.html = html;", "-\t} else {", "-\t\t_setText(html, trusted);", "-\t}", "-\treturn true;", "-}", "+\tboolean blankLoading = this.html != null;", "+\tthis.html = html;", "+\tuntrustedText = !trusted;", "+\tif (blankLoading) return true;", "+\tint str = createNSString(ABOUT_BLANK);", "+\tint inURL = Cocoa.objc_msgSend(Cocoa.C_NSURL, Cocoa.S_URLWithString, str); /* autoreleased */", "+\tOS.CFRelease (str);", "+\tint request = Cocoa.objc_msgSend(Cocoa.C_NSURLRequest, Cocoa.S_requestWithURL, inURL);", "+\tCocoa.objc_msgSend(mainFrame, Cocoa.S_loadRequest, request);", "+\treturn true;"]}], "num": 49814}