{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "bde2bd2df3503cca1ce2caf8e021d854", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "305d295ade2ea6f57491a3f0b2e0e82d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "examples/org.eclipse.swt.examples/src/org/eclipse/swt/examples/texteditor/TextEditor.java", "commitBeforeChange": "19fe62c08a14deb8e2bf089dd6c3d564f767039d", "commitAfterChange": "445337d8bb4d71f80e4d409a69aad8e01974504c", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "\r void bold(boolean bold)", "signatureAfterChange": "\r void bold(boolean bold)", "diff": ["+\tPoint sel = text.getSelectionRange();\r", "+\tif ((sel != null) && (sel.y != 0)) {\r", "+\t\tStyleRange style;\r", "+\t\tint fontStyle = SWT.NORMAL;\r", "+\t\tif (isBold) fontStyle = SWT.BOLD;\r", "+\t\tstyle = new StyleRange(sel.x, sel.y, null, null, fontStyle);\r", "+\t\ttext.setStyleRange(style);\r", "+\t}\r", "+\ttext.setSelectionRange(sel.x + sel.y, 0);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "aa09c4de05b25bb5ea23a6e187758dda", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "a1b37d137b5adf259d9950ea1c27c5bc3d07bfa7", "commitAfterChange": "553d7364f85189cde07e065aaa5ba7380f0c1418", "methodNumberBeforeChange": 59, "methodNumberAfterChange": 59, "signatureBeforeChange": " public void getClipping (Region region)", "signatureAfterChange": " public void getClipping (Region region)", "diff": ["-\tif (data.gdipGraphics != 0) {", "+\tint gdipGraphics = data.gdipGraphics;", "+\tif (gdipGraphics != 0) {", "+\t\tGdip.Graphics_SetPixelOffsetMode(gdipGraphics, Gdip.PixelOffsetModeNone);", "-\t\tint matrix = Gdip.Matrix_new(1, 0, 0, 1, 0, 0);", "-\t\tint identity = Gdip.Matrix_new(1, 0, 0, 1, 0, 0);", "-\t\tGdip.Graphics_GetTransform(data.gdipGraphics, matrix);", "-\t\tGdip.Graphics_SetTransform(data.gdipGraphics, identity);", "-\t\tint hRgn = Gdip.Region_GetHRGN(rgn, data.gdipGraphics);", "-\t\tGdip.Graphics_SetTransform(data.gdipGraphics, matrix);", "-\t\tGdip.Matrix_delete(identity);", "-\t\tGdip.Matrix_delete(matrix);", "-\t\tOS.CombineRgn(region.handle, hRgn, 0, OS.RGN_COPY);", "+\t\tif (Gdip.Region_IsInfinite(rgn, gdipGraphics)) {", "+\t\t\tRect rect = new Rect();", "+\t\t\tGdip.Graphics_GetVisibleClipBounds(gdipGraphics, rect);", "+\t\t\tOS.SetRectRgn(region.handle, rect.X, rect.Y, rect.Width, rect.Height);", "+\t\t} else {", "+\t\t\tint matrix = Gdip.Matrix_new(1, 0, 0, 1, 0, 0);", "+\t\t\tint identity = Gdip.Matrix_new(1, 0, 0, 1, 0, 0);", "+\t\t\tGdip.Graphics_GetTransform(gdipGraphics, matrix);", "+\t\t\tGdip.Graphics_SetTransform(gdipGraphics, identity);", "+\t\t\tint hRgn = Gdip.Region_GetHRGN(rgn, data.gdipGraphics);", "+\t\t\tGdip.Graphics_SetTransform(gdipGraphics, matrix);", "+\t\t\tGdip.Matrix_delete(identity);", "+\t\t\tGdip.Matrix_delete(matrix);", "+\t\t\tOS.CombineRgn(region.handle, hRgn, 0, OS.RGN_COPY);", "+\t\t}", "+\t\tGdip.Graphics_SetPixelOffsetMode(gdipGraphics, Gdip.PixelOffsetModeHalf);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e74a9f4e73c8775f95bdcaa8cfd2550b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "e0bc3758e2c84fc97a853b5c2bee350284d22f11", "commitAfterChange": "a7f6318524546d2c59ec1516946d4b957613a139", "methodNumberBeforeChange": 43, "methodNumberAfterChange": 43, "signatureBeforeChange": " public void getClipping (Region region)", "signatureAfterChange": " public void getClipping (Region region)", "diff": ["-\tif (result == 1) return;", "-\tRECT rect = new RECT();", "-\tOS.GetClipBox(handle, rect);", "-\tOS.SetRectRgn(region.handle, rect.left, rect.top, rect.right, rect.bottom);", "+\tif (result != 1) {", "+\t\tRECT rect = new RECT();", "+\t\tOS.GetClipBox(handle, rect);", "+\t\tOS.SetRectRgn(region.handle, rect.left, rect.top, rect.right, rect.bottom);", "+\t}", "+\tif (!OS.IsWinCE) {", "+\t\tint hwnd = data.hwnd;", "+\t\tif (hwnd != 0 && data.ps != null) {", "+\t\t\tint sysRgn = OS.CreateRectRgn (0, 0, 0, 0);", "+\t\t\tif (OS.GetRandomRgn (handle, sysRgn, OS.SYSRGN) == 1) {", "+\t\t\t\tif (OS.IsWinNT) {", "+\t\t\t\t\tPOINT pt = new POINT();", "+\t\t\t\t\tOS.MapWindowPoints(0, hwnd, pt, 1);", "+\t\t\t\t\tOS.OffsetRgn(sysRgn, pt.x, pt.y);", "+\t\t\t\t}", "+\t\t\t\tOS.CombineRgn (region.handle, sysRgn, region.handle, OS.RGN_AND);", "+\t\t\t}", "+\t\t\tOS.DeleteObject(sysRgn);", "+\t\t}", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cb83c587cebc6a39e11028a7fa86e3fb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "14a489530a23f9a98c44510d056f7f726ca954fe", "commitAfterChange": "3518db6648d68a0e9ff0c939ecd457985c6ae47b", "methodNumberBeforeChange": 51, "methodNumberAfterChange": 51, "signatureBeforeChange": " public void getClipping (Region region)", "signatureAfterChange": " public void getClipping (Region region)", "diff": ["+\t\tint metaRgn = OS.CreateRectRgn (0, 0, 0, 0);", "+\t\tif (OS.GetMetaRgn (handle, metaRgn) != 0) {", "+\t\t\tPOINT pt = new POINT ();", "+\t\t\tOS.GetWindowOrgEx (handle, pt);", "+\t\t\tOS.OffsetRgn (metaRgn, pt.x, pt.y);", "+\t\t\tOS.CombineRgn (region.handle, metaRgn, region.handle, OS.RGN_AND);", "+\t\t}", "+\t\tOS.DeleteObject(metaRgn);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a6e1cdbc7d69f43200093a877d9adc42", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/treetable/org/eclipse/swt/widgets/TreeItem.java", "commitBeforeChange": "6fe17fc06cfaedbac0b162cb8dba4e334a044d3a", "commitAfterChange": "061d844622b86e88613b5b36c7fc28e65503ad98", "methodNumberBeforeChange": 61, "methodNumberAfterChange": 61, "signatureBeforeChange": " public void setExpanded (boolean value)", "signatureAfterChange": " public void setExpanded (boolean value)", "diff": ["-\t\tparent.redrawFromItemDownwards (availableIndex + 1);", "+\t\tint descendentsCount = computeAvailableDescendentCount ();", "+\t\tint previousNextAvailableIndex = availableIndex + descendentsCount;", "+\t\tif (previousNextAvailableIndex != parent.availableItems.length) {", "+\t\t\t/* the receiver was not the last available item before being expanded */", "+\t\t\tRectangle clientArea = parent.getClientArea ();", "+\t\t\tint y = parent.getItemY (parent.availableItems [availableIndex + 1]);", "+\t\t\tparent.update ();", "+\t\t\tGC gc = new GC (parent);", "+\t\t\tgc.copyArea (", "+\t\t\t\t0, y,", "+\t\t\t\tclientArea.width, clientArea.height - y,", "+\t\t\t\t0, y + ((descendentsCount - 1) * parent.itemHeight));\t\t\t\t", "+\t\t\tgc.dispose ();", "+\t\t}", "+\t\tint redrawStart = availableIndex + 1;", "+\t\tint redrawEnd = redrawStart + descendentsCount - 2;", "+\t\tparent.redrawItems (redrawStart, redrawEnd, false);", "+\t/* redraw the receiver's expander box */"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "23aa67493a974064326e77b7708da5c7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/coolbar/org/eclipse/swt/widgets/CoolBar.java", "commitBeforeChange": "e7b8e72222a611eea025379e495a9dde74bc3834", "commitAfterChange": "d1a1f466a5b1034bb65f10b01f11cf9365d43ea4", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "\r void createItem (CoolItem item, int index)", "signatureAfterChange": "\r void createItem (CoolItem item, int index)", "diff": ["+\t\t\r", "+\t\t// Set the last item in the row to the preferred size \r", "+\t\t// and add the new one just to it's right\r", "+\t\tint lastIndex = items[row].length - 1;\r", "+\t\tCoolItem lastItem = items[row][lastIndex];\r", "+\t\tif (lastItem.preferredWidth != -1) {\r", "+\t\t\tRectangle bounds = lastItem.getBounds();\r", "+\t\t\tbounds.width = lastItem.preferredWidth;\r", "+\t\t\tlastItem.requestedWidth = lastItem.preferredWidth;\r", "+\t\t\tlastItem.setBounds(bounds.x, bounds.y, bounds.width, bounds.height);  \r", "+\t\t}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1f8a7a81c6dcb141c23b40f23555e50f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Widget.java", "commitBeforeChange": "66a95066be25462b501b7c1e51178de7cfbd6dfa", "commitAfterChange": "9d1439265256d4dc44e7ee7f2321b1596dcd5b6c", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": "  boolean dragDetect (int x, int y)", "signatureAfterChange": "  boolean dragDetect (int hwnd, int x, int y, boolean filter, boolean [] detect, boolean [] consume)", "diff": ["-boolean dragDetect (int x, int y) {", "-\treturn hooks (SWT.DragDetect);", "-}", "+boolean dragDetect (int hwnd, int x, int y, boolean filter, boolean [] detect, boolean [] consume) {", "+\tif (!hooks (SWT.DragDetect)) return false;", "+\tif (consume != null) consume [0] = false;", "+\tif (detect != null) detect [0] = true;", "+\tPOINT pt = new POINT ();", "+\tpt.x = x;", "+\tpt.y = y;", "+\tOS.ClientToScreen (hwnd, pt);", "+\treturn OS.DragDetect (hwnd, pt);"]}], "num": 39413}