{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b3be37211d6ecfd0ee9cc2d976083914", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1ac6a5ef28edb6b31be0d7d11624522f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Label.java", "commitBeforeChange": "bc8036435837353efa5da8c19b6a3003dbb86045", "commitAfterChange": "5721cfd149c1026b4c21848f64c2b57027ac8c7e", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "diff": ["-\t\tint /*long*/ labelLayout = OS.gtk_label_get_layout (labelHandle);", "+\t\tlong /*int*/ labelLayout = OS.gtk_label_get_layout (labelHandle);", "-\t\tint /*long*/ layout = OS.gtk_label_get_layout (labelHandle);", "-\t\tint /*long*/ context = OS.pango_layout_get_context (layout);", "-\t\tint /*long*/ lang = OS.pango_context_get_language (context);", "-\t\tint /*long*/ font = getFontDescription ();", "-\t\tint /*long*/ metrics = OS.pango_context_get_metrics (context, font, lang);", "+\t\tlong /*int*/ layout = OS.gtk_label_get_layout (labelHandle);", "+\t\tlong /*int*/ context = OS.pango_layout_get_context (layout);", "+\t\tlong /*int*/ lang = OS.pango_context_get_language (context);", "+\t\tlong /*int*/ font = getFontDescription ();", "+\t\tlong /*int*/ metrics = OS.pango_context_get_metrics (context, font, lang);", "-\t\t\tint /*long*/ style = OS.gtk_widget_get_style (frameHandle);", "+\t\t\tlong /*int*/ style = OS.gtk_widget_get_style (frameHandle);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4329ad50dd106b3079fa1d3bd3935e49", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Label.java", "commitBeforeChange": "e9ae07fd367d911ee6d4e07d42035b0e3fd629db", "commitAfterChange": "87a273517d8662be0d55be7871a1f3a52f123a80", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "diff": ["+\tif (hHint == SWT.DEFAULT && labelHandle != 0) {", "+\t\tint /*long*/ layout = OS.gtk_label_get_layout (labelHandle);", "+\t\tint /*long*/ context = OS.pango_layout_get_context (layout);", "+\t\tint /*long*/ lang = OS.pango_context_get_language (context);", "+\t\tint /*long*/ font = getFontDescription ();", "+\t\tint /*long*/ metrics = OS.pango_context_get_metrics (context, font, lang);", "+\t\tint ascent = OS.PANGO_PIXELS (OS.pango_font_metrics_get_ascent (metrics));", "+\t\tint descent = OS.PANGO_PIXELS (OS.pango_font_metrics_get_descent (metrics));", "+\t\tOS.pango_font_metrics_unref (metrics);", "+\t\tint fontHeight = ascent + descent;", "+\t\tint [] buffer = new int [1];", "+\t\tOS.g_object_get (labelHandle, OS.ypad, buffer, 0);", "+\t\tfontHeight += 2 * buffer [0];", "+\t\tif (frameHandle != 0) {", "+\t\t\tint /*long*/ style = OS.gtk_widget_get_style (frameHandle);", "+\t\t\tfontHeight += 2 * OS.gtk_style_get_ythickness (style);", "+\t\t\tfontHeight += 2 * OS.gtk_container_get_border_width (frameHandle);", "+\t\t}", "+\t\tsize.y = Math.max (size.y, fontHeight);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c26e4eb0a773cee6c73eae29756102aa", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "8a0a64cf86ef9d95ea87456cfa83bd98199a4f72", "commitAfterChange": "bc0c76af69c56f0736b8c5669412a4269f05901f", "methodNumberBeforeChange": 40, "methodNumberAfterChange": 40, "signatureBeforeChange": " public FontMetrics getFontMetrics()", "signatureAfterChange": " public FontMetrics getFontMetrics()", "diff": ["-\tint metrics = OS.pango_context_get_metrics(context, font, null);", "+\t//FIXME - figure out correct language", "+\tbyte[] buffer = Converter.wcsToMbcs(null, \"en_US\");", "+\tint lang = OS.pango_language_from_string(buffer);", "+//\tint lang = OS.pango_context_get_language(context);", "+\tint metrics = OS.pango_context_get_metrics(context, font, lang);", "-\tint scale = OS.PANGO_SCALE();", "-\tfm.ascent = OS.pango_font_metrics_get_ascent(metrics) / scale;", "-\tfm.descent = OS.pango_font_metrics_get_descent(metrics) / scale;", "-\tfm.averageCharWidth = OS.pango_font_metrics_get_approximate_char_width(metrics) / scale;", "-\t//TEMPORARY CODE - why do we have to subtract instead of add???", "-\tfm.height = fm.ascent - fm.descent;", "+\tfm.ascent = OS.PANGO_PIXELS(OS.pango_font_metrics_get_ascent(metrics));", "+\tfm.descent = OS.PANGO_PIXELS(OS.pango_font_metrics_get_descent(metrics));", "+\tfm.averageCharWidth = OS.PANGO_PIXELS(OS.pango_font_metrics_get_approximate_char_width(metrics));", "+\tfm.height = fm.ascent + fm.descent;"]}], "num": 59668}