{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b7591caee1deda9a1906931ddfb7eaf1", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6a25eb79314910e5ab22ae6d5643c3bc", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/FileDialog.java", "commitBeforeChange": "1839488a15cb42792cf1173ccf24926abb091a70", "commitAfterChange": "a15e74fa4fc558db41d7b6459560396680bcb2a9", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": " public String open ()", "signatureAfterChange": " public String open ()", "diff": ["-\tNSSavePanel panel;", "+\tint /*long*/ jniRef = 0;", "+\tSWTPanelDelegate delegate = null;", "+\tif (filterExtensions != null && filterExtensions.length != 0) {", "+\t\tdelegate = (SWTPanelDelegate)new SWTPanelDelegate().alloc().init();", "+\t\tjniRef = OS.NewGlobalRef(this);", "+\t\tif (jniRef == 0) SWT.error(SWT.ERROR_NO_HANDLES);", "+\t\tOS.object_setInstanceVariable(delegate.id, Display.SWT_OBJECT, jniRef);", "+\t\tpanel.setDelegate(delegate);", "+\t\tNSPopUpButton widget = (NSPopUpButton)new NSPopUpButton().alloc();", "+\t\twidget.initWithFrame(new NSRect(), false);", "+\t\twidget.setTarget(delegate);", "+\t\twidget.setAction(OS.sel_sendSelection_);", "+\t\tNSMenu menu = widget.menu();", "+\t\tmenu.setAutoenablesItems(false);", "+\t\tfor (int i = 0; i < filterExtensions.length; i++) {", "+\t\t\tString str = filterExtensions [i];", "+\t\t\tif (filterNames != null && filterNames.length > i) {", "+\t\t\t\tstr = filterNames [i];", "+\t\t\t}", "+\t\t\tNSMenuItem nsItem = (NSMenuItem)new NSMenuItem().alloc();", "+\t\t\tnsItem.initWithTitle(NSString.stringWith(str), 0, NSString.stringWith(\"\"));", "+\t\t\tmenu.addItem(nsItem);", "+\t\t\tnsItem.release();", "+\t\t}", "+\t\twidget.selectItemAtIndex(0 <= filterIndex && filterIndex < filterExtensions.length ? filterIndex : 0);", "+\t\twidget.sizeToFit();", "+\t\tpanel.setAccessoryView(widget);", "+\t\tpopup = widget;", "+\t}", "+\tif (popup != null) {", "+\t\tfilterIndex = (int)/*64*/popup.indexOfSelectedItem();", "+\t\tpanel.setAccessoryView(null);", "+\t\tpopup.release();", "+\t\tpopup = null;", "+\t}", "+\tif (delegate != null) {", "+\t\tpanel.setDelegate(null);", "+\t\tdelegate.release();", "+\t}", "+\tif (jniRef != 0) OS.DeleteGlobalRef(jniRef);", "+\tpanel = null;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ba2afdd8e9222a8b9e84d6439520c763", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT OpenGL/cocoa/org/eclipse/swt/opengl/GLCanvas.java", "commitBeforeChange": "45a6d0022c44f47ecde663b4004cb5c0d76ba9e5", "commitAfterChange": "e3ea64aec4badff611aa689783dfd6c5dae273bc", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": " public GLCanvas (Composite parent, int style, GLData data)", "signatureAfterChange": " public GLCanvas (Composite parent, int style, GLData data)", "diff": ["-\t", "-\tglView = (SWTOpenGLView)new SWTOpenGLView().alloc();", "-\tif (glView == null) {\t\t", "+\tNSOpenGLContext ctx = data.shareContext != null ? data.shareContext.context : null;", "+\tcontext = (NSOpenGLContext) new NSOpenGLContext().alloc();", "+\tif (context == null) {\t\t", "-\tglView.initWithFrame(view.bounds(), pixelFormat);", "-\t", "-\tif (data.shareContext != null) {", "-\t\tNSOpenGLContext ctx = data.shareContext.glView.openGLContext();", "-\t\tNSOpenGLContext newContext = (NSOpenGLContext) new NSOpenGLContext().alloc();", "-\t\tnewContext.initWithFormat(pixelFormat, ctx);", "-\t\tglView.setOpenGLContext(newContext);", "-\t\tnewContext.release();", "-\t}", "-\tglView.setAutoresizingMask(OS.NSViewWidthSizable | OS.NSViewHeightSizable);", "-\tview.addSubview(glView);", "-\tDisplay display = getDisplay();", "-\tdisplay.setData(ADD_WIDGET_KEY, new Object[] {glView, this});", "-\tdisplay.setData(EVENT_VIEW_KEY, glView);", "-\tdisplay.setData(PAINT_VIEW_KEY, view);", "+\tcontext = context.initWithFormat(pixelFormat, ctx);", "+\tsetData(GLCONTEXT_KEY, context);", "+\tNSNotificationCenter.defaultCenter().addObserver(view,  OS.sel_updateOpenGLContext_, OS.NSViewGlobalFrameDidChangeNotification, view);", "+\t\t\t", "-\t\t\t\t\tevent.display.setData(ADD_WIDGET_KEY, new Object[] {glView, null});", "-\t\t\t\t\tevent.display.setData(EVENT_VIEW_KEY, null);", "-\t\t\t\t\tevent.display.setData(PAINT_VIEW_KEY, null);", "-", "-\t\t\t\t\tif (glView != null) {", "-\t\t\t\t\t\tglView.clearGLContext();", "-\t\t\t\t\t\tglView.release();", "+\t\t\t\t\tsetData(GLCONTEXT_KEY, null);", "+\t\t\t\t\tNSNotificationCenter.defaultCenter().removeObserver(view);", "+\t\t\t\t\t", "+\t\t\t\t\tif (context != null) {", "+\t\t\t\t\t\tcontext.clearDrawable();", "+\t\t\t\t\t\tcontext.release();", "-\t\t\t\t\tglView = null;", "+\t\t\t\t\tcontext = null;"]}], "num": 32965}