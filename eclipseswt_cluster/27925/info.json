{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "500394a1a5d55c9f019977ae04609449", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f9df326d8d36bb9f93fccd9d73f8841e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "40f1c5f7d31e08753ce42641a6aa8235fd0a0a50", "commitAfterChange": "35855a27f396111f75c3999b0ca44a13332a5e81", "methodNumberBeforeChange": 141, "methodNumberAfterChange": 141, "signatureBeforeChange": "  LRESULT wmNotifyChild (int wParam, int lParam)", "signatureAfterChange": "  LRESULT wmNotifyChild (int wParam, int lParam)", "diff": ["-\t\tcase OS.TVN_ITEMEXPANDEDA:", "-\t\tcase OS.TVN_ITEMEXPANDEDW: {", "-\t\t\tif ((style & SWT.VIRTUAL) != 0) style |= SWT.DOUBLE_BUFFERED;", "-\t\t\tif (findImageControl () != null && drawCount == 0) {", "-\t\t\t\tOS.DefWindowProc (handle, OS.WM_SETREDRAW, 1, 0);", "-\t\t\t\tOS.InvalidateRect (handle, null, true);", "-\t\t\t}", "-\t\t\t/*", "-\t\t\t* Bug in Windows.  When TVM_SETINSERTMARK is used to set", "-\t\t\t* an insert mark for a tree and an item is expanded or", "-\t\t\t* collapsed near the insert mark, the tree does not redraw", "-\t\t\t* the insert mark properly.  The fix is to hide and show", "-\t\t\t* the insert mark whenever an item is expanded or collapsed.", "-\t\t\t*/", "-\t\t\tif (hInsert != 0) {", "-\t\t\t\tOS.SendMessage (handle, OS.TVM_SETINSERTMARK, insertAfter ? 1 : 0, hInsert);", "-\t\t\t}", "-\t\t\tupdateScrollBar ();", "-\t\t\tbreak;", "-\t\t}", "+\t\t\tboolean runExpanded = false;", "+\t\t\t\t/*", "+\t\t\t\t* Feature in Windows.  When all of the items are deleted during", "+\t\t\t\t* TVN_ITEMEXPANDING, Windows does not send TVN_ITEMEXPANDED,", "+\t\t\t\t* even though the tree was expanded.  The fix is to detect this", "+\t\t\t\t* case and runn the TVN_ITEMEXPANDED code.", "+\t\t\t\t*/", "+\t\t\t\tint hFirstItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_CHILD, tvItem.hItem);", "+\t\t\t\trunExpanded = hFirstItem == 0;", "+\t\t\tif (!runExpanded) break;", "+\t\t\t//FALL THROUGH", "+\t\t}", "+\t\tcase OS.TVN_ITEMEXPANDEDA:", "+\t\tcase OS.TVN_ITEMEXPANDEDW: {", "+\t\t\tif ((style & SWT.VIRTUAL) != 0) style |= SWT.DOUBLE_BUFFERED;", "+\t\t\tif (findImageControl () != null && drawCount == 0) {", "+\t\t\t\tOS.DefWindowProc (handle, OS.WM_SETREDRAW, 1, 0);", "+\t\t\t\tOS.InvalidateRect (handle, null, true);", "+\t\t\t}", "+\t\t\t/*", "+\t\t\t* Bug in Windows.  When TVM_SETINSERTMARK is used to set", "+\t\t\t* an insert mark for a tree and an item is expanded or", "+\t\t\t* collapsed near the insert mark, the tree does not redraw", "+\t\t\t* the insert mark properly.  The fix is to hide and show", "+\t\t\t* the insert mark whenever an item is expanded or collapsed.", "+\t\t\t*/", "+\t\t\tif (hInsert != 0) {", "+\t\t\t\tOS.SendMessage (handle, OS.TVM_SETINSERTMARK, insertAfter ? 1 : 0, hInsert);", "+\t\t\t}", "+\t\t\tupdateScrollBar ();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "00fab421cc0794a5f01031313217aada", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "c3aa06fec2a4466fb623962b76e32cce5568e534", "commitAfterChange": "bc0159e1f232b2994f90bfab06507bbdbd612bc8", "methodNumberBeforeChange": 41, "methodNumberAfterChange": 41, "signatureBeforeChange": " public FontMetrics getFontMetrics()", "signatureAfterChange": " public FontMetrics getFontMetrics()", "diff": ["-\t\treturn FontMetrics.carbon_new(fontInfo[0], fontInfo[1], fontInfo[2], fontInfo[3], fontInfo[0]+fontInfo[1]);", "+\t\tString s= \"abcdefghijklmnopqrstuvwxyz\";", "+\t\tint width= OS.TextWidth(s, data.font.fID, data.font.fSize, data.font.fFace) / 26;", "+\t\treturn FontMetrics.carbon_new(fontInfo[0], fontInfo[1], width, fontInfo[3], fontInfo[0]+fontInfo[1]);"]}], "num": 27925}