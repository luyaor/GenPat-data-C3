{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0552fe53b95d1c89a9ef1d58056ae679", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "61ecfbaac7485111b7d5a0b590655c38", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "724febd58ffeab21e913a74b79ef57e921733a87", "commitAfterChange": "18f55040fb554a39c6260254cb75ab87d1140b9e", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": "  RECT drawBorder(int hdc, int x, int y, int lineHeight, StyleItem[] line, int index, int color, int selectionColor, RECT clipRect, RECT pRect, int selectionStart, int selectionEnd)", "signatureAfterChange": "  RECT drawBorder(int hdc, int x, int y, int lineHeight, StyleItem[] line, int index, int color, int selectionColor, RECT clipRect, RECT pRect, int selectionStart, int selectionEnd, Rectangle drawClip)", "diff": ["-RECT drawBorder(int /*long*/ hdc, int x, int y, int lineHeight, StyleItem[] line, int index, int color, int selectionColor, RECT clipRect, RECT pRect, int selectionStart, int selectionEnd) {", "+RECT drawBorder(int /*long*/ hdc, int x, int y, int lineHeight, StyleItem[] line, int index, int color, int selectionColor, RECT clipRect, RECT pRect, int selectionStart, int selectionEnd, Rectangle drawClip) {", "-\tif (index + 1 >= line.length || !style.isAdherentBorder(line[index + 1].style)) {", "+\tboolean lastRunVisible = drawClip != null && (x + run.x + run.width) > (drawClip.x + drawClip.width);", "+\tif (index + 1 >= line.length || lastRunVisible || !style.isAdherentBorder(line[index + 1].style)) {", "-\t\tOS.Rectangle(hdc, x + left, y, x + run.x + run.width, y + lineHeight);", "+\t\tRECT drawRect = new RECT();", "+\t\tOS.SetRect(drawRect, x + left, y, x + run.x + run.width, y + lineHeight);", "+\t\tif (drawClip != null) {", "+\t\t\tRECT lpDrawClip = new RECT();", "+\t\t\tOS.SetRect(lpDrawClip, drawClip.x - lineWidth, drawClip.y, drawClip.x + drawClip.width + lineWidth, drawClip.y + drawClip.height);", "+\t\t\tOS.IntersectRect(drawRect, lpDrawClip, drawRect);", "+\t\t}", "+\t\tOS.Rectangle(hdc, drawRect.left,drawRect.top, drawRect.right, drawRect.bottom);", "-\t\t\tOS.Rectangle(hdc, x + left, y, x + run.x + run.width, y + lineHeight);", "+\t\t\tOS.Rectangle(hdc, drawRect.left, drawRect.top, drawRect.right, drawRect.bottom);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "511efb60e0ecac3b0930147926660802", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/photon/org/eclipse/swt/widgets/MenuItem.java", "commitBeforeChange": "3fb799dcaa7d449679ed92f9829fbed85aa6fd1d", "commitAfterChange": "6c0e3d76ce668620fd159ac504e2b5d9a48852be", "methodNumberBeforeChange": 29, "methodNumberAfterChange": 32, "signatureBeforeChange": "\r \r public void setText (String string)", "signatureAfterChange": "\r \r public void setText (String string)", "diff": ["-\t}\t\r", "-\tbyte [] buffer2;\r", "+\t}\r", "+\tint keyMods = 0; \r", "+\tbyte [] buffer2 = new byte [1];\r", "-\t\tchar [] accelText = new char [text.length - i];\r", "-\t\tSystem.arraycopy (text, i, accelText, 0, accelText.length);\r", "-\t\tbuffer2 = Converter.wcsToMbcs (null, accelText, true);\r", "-\t} else {\r", "-\t\tbuffer2 = new byte [1];\r", "+\t\tint start = i;\r", "+//\t\twhile (i < text.length) {\r", "+//\t\t\tif (text [i] == '+') {\r", "+//\t\t\t\tString str = new String (text, start, i - start);\r", "+//\t\t\t\tif (str.equals (\"Ctrl\")) keyMods |= OS.Pk_KM_Ctrl;\r", "+//\t\t\t\tif (str.equals (\"Shift\")) keyMods |= OS.Pk_KM_Shift;\r", "+//\t\t\t\tif (str.equals (\"Alt\")) keyMods |= OS.Pk_KM_Alt;\r", "+//\t\t\t\tstart = i + 1;\r", "+//\t\t\t}\r", "+//\t\t\ti++;\r", "+//\t\t}\r", "+\t\tif (start < text.length) {\r", "+\t\t\tchar [] accelText = new char [text.length - start];\r", "+\t\t\tSystem.arraycopy (text, start, accelText, 0, accelText.length);\r", "+\t\t\tbuffer2 = Converter.wcsToMbcs (null, accelText, true);\r", "+\t\t}\r", "-\tint ptr = OS.malloc (buffer1.length);\r", "-\tOS.memmove (ptr, buffer1, buffer1.length);\r", "+\tint ptr1 = OS.malloc (buffer1.length);\r", "+\tOS.memmove (ptr1, buffer1, buffer1.length);\r", "+\tint ptr2 = OS.malloc (buffer2.length);\r", "+\tOS.memmove (ptr2, buffer2, buffer2.length);\r", "+\tif ((parent.style & SWT.BAR) != 0) {\r", "+\t\treplaceMnemonic (mnemonic, OS.Pk_KM_Alt);\r", "+\t}\r", "-\t\tOS.Pt_ARG_TEXT_STRING, ptr, 0,\r", "+\t\tOS.Pt_ARG_TEXT_STRING, ptr1, 0,\r", "+\t\tOS.Pt_ARG_ACCEL_TEXT, ptr2, 0,\r", "+\t\tOS.Pt_ARG_MODIFIER_KEYS, keyMods, keyMods,\r", "-\tOS.free (ptr);\r", "+\tOS.free (ptr1);\r", "+\tOS.free (ptr2);\r"]}], "num": 47159}