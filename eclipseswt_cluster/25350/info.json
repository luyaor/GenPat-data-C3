{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "29adb2e7ec84c96ee962fb96fc6ab97c", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f2b91e8bdbf8890afe0bc155e43d4ac4", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Composite.java", "commitBeforeChange": "df55805e4a74ab0fc8f545a1792d755c95a4e419", "commitAfterChange": "b178ded274cefa13fff8fc6fb8115ee14a844dc8", "methodNumberBeforeChange": 34, "methodNumberAfterChange": 34, "signatureBeforeChange": "  long gtk_expose_event (long widget, long eventPtr)", "signatureAfterChange": "  long gtk_expose_event (long widget, long eventPtr)", "diff": ["-\tOS.gdk_region_get_rectangles (gdkEvent.region, rectangles, n_rectangles);", "-\tGdkRectangle rect = new GdkRectangle ();", "-\tfor (int i=0; i<n_rectangles[0]; i++) {", "-\t\tEvent event = new Event ();", "-\t\tOS.memmove (rect, rectangles [0] + i * GdkRectangle.sizeof, GdkRectangle.sizeof);", "-\t\tevent.x = rect.x;", "-\t\tevent.y = rect.y;", "-\t\tevent.width = rect.width;", "-\t\tevent.height = rect.height;", "-\t\tif ((style & SWT.MIRRORED) != 0) event.x = getClientWidth () - event.width - event.x;", "-\t\tlong /*int*/ damageRgn = OS.gdk_region_new ();", "-\t\tOS.gdk_region_union_with_rect (damageRgn, rect);", "-\t\tGCData data = new GCData ();", "-\t\tdata.damageRgn = damageRgn;", "-\t\tGC gc = event.gc = GC.gtk_new (this, data);", "-\t\tsendEvent (SWT.Paint, event);", "-\t\tgc.dispose ();", "-\t\tOS.gdk_region_destroy (damageRgn);", "-\t\tevent.gc = null;", "+\tif (OS.GTK_VERSION >= OS.VERSION(3, 0, 0)) {", "+\t\t int num = Cairo.cairo_region_num_rectangles (gdkEvent.region);", "+\t\t for (int n = 0; n < num; n++) {", "+\t\t\t Cairo.cairo_region_get_rectangle (gdkEvent.region, n, rectangles[n]);", "+\t\t }", "+\t\tcairo_rectangle_int_t rect = new cairo_rectangle_int_t ();", "+\t\tfor (int i=0; i<n_rectangles[0]; i++) {", "+\t\t\tEvent event = new Event ();", "+\t\t\tCairo.memmove (rect, rectangles [0] + i * cairo_rectangle_int_t.sizeof, cairo_rectangle_int_t.sizeof);", "+\t\t\tevent.x = rect.x;", "+\t\t\tevent.y = rect.y;", "+\t\t\tevent.width = rect.width;", "+\t\t\tevent.height = rect.height;", "+\t\t\tif ((style & SWT.MIRRORED) != 0) event.x = getClientWidth () - event.width - event.x;", "+\t\t\tlong /*int*/ damageRgn = Cairo.cairo_region_create ();", "+\t\t\tCairo.cairo_region_union_rectangle (damageRgn, rect);", "+\t\t\tGCData data = new GCData ();", "+\t\t\tdata.damageRgn = damageRgn;", "+\t\t\tGC gc = event.gc = GC.gtk_new (this, data);", "+\t\t\tsendEvent (SWT.Paint, event);", "+\t\t\tgc.dispose ();", "+\t\t\tCairo.cairo_region_destroy (damageRgn);", "+\t\t\tevent.gc = null;", "+\t\t}", "+\t} else {", "+\t\tOS.gdk_region_get_rectangles (gdkEvent.region, rectangles, n_rectangles);", "+\t\tGdkRectangle rect = new GdkRectangle ();", "+\t\tfor (int i=0; i<n_rectangles[0]; i++) {", "+\t\t\tEvent event = new Event ();", "+\t\t\tOS.memmove (rect, rectangles [0] + i * GdkRectangle.sizeof, GdkRectangle.sizeof);", "+\t\t\tevent.x = rect.x;", "+\t\t\tevent.y = rect.y;", "+\t\t\tevent.width = rect.width;", "+\t\t\tevent.height = rect.height;", "+\t\t\tif ((style & SWT.MIRRORED) != 0) event.x = getClientWidth () - event.width - event.x;", "+\t\t\tlong /*int*/ damageRgn = OS.gdk_region_new ();", "+\t\t\tOS.gdk_region_union_with_rect (damageRgn, rect);", "+\t\t\tGCData data = new GCData ();", "+\t\t\tdata.damageRgn = damageRgn;", "+\t\t\tGC gc = event.gc = GC.gtk_new (this, data);", "+\t\t\tsendEvent (SWT.Paint, event);", "+\t\t\tgc.dispose ();", "+\t\t\tOS.gdk_region_destroy (damageRgn);", "+\t\t\tevent.gc = null;", "+\t\t}\t"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bf6b40495192eeb3b8f41090db2386c6", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Composite.java", "commitBeforeChange": "d0069d7ed7376b10efa426e883f2b4851a6c7c22", "commitAfterChange": "a886f16168f44eb14dce55165728859cc8ee3baa", "methodNumberBeforeChange": 34, "methodNumberAfterChange": 34, "signatureBeforeChange": "  long gtk_expose_event (long widget, long eventPtr)", "signatureAfterChange": "  long gtk_expose_event (long widget, long eventPtr)", "diff": ["-\tif (!hooks (SWT.Paint) && !filters (SWT.Paint)) return 0;", "+\tif (!hooksPaint ()) return 0;", "-\tif (OS.GTK_VERSION >= OS.VERSION(3, 0, 0)) {", "-\t\t int num = Cairo.cairo_region_num_rectangles (gdkEvent.region);", "-\t\t for (int n = 0; n < num; n++) {", "-\t\t\t Cairo.cairo_region_get_rectangle (gdkEvent.region, n, rectangles[n]);", "-\t\t }", "-\t\tcairo_rectangle_int_t rect = new cairo_rectangle_int_t ();", "-\t\tfor (int i=0; i<n_rectangles[0]; i++) {", "-\t\t\tEvent event = new Event ();", "-\t\t\tCairo.memmove (rect, rectangles [0] + i * cairo_rectangle_int_t.sizeof, cairo_rectangle_int_t.sizeof);", "-\t\t\tevent.x = rect.x;", "-\t\t\tevent.y = rect.y;", "-\t\t\tevent.width = rect.width;", "-\t\t\tevent.height = rect.height;", "-\t\t\tif ((style & SWT.MIRRORED) != 0) event.x = getClientWidth () - event.width - event.x;", "-\t\t\tlong /*int*/ damageRgn = Cairo.cairo_region_create ();", "-\t\t\tCairo.cairo_region_union_rectangle (damageRgn, rect);", "-\t\t\tGCData data = new GCData ();", "-\t\t\tdata.damageRgn = damageRgn;", "-\t\t\tGC gc = event.gc = GC.gtk_new (this, data);", "-\t\t\tsendEvent (SWT.Paint, event);", "-\t\t\tgc.dispose ();", "-\t\t\tCairo.cairo_region_destroy (damageRgn);", "-\t\t\tevent.gc = null;", "-\t\t}", "-\t} else {", "-\t\tOS.gdk_region_get_rectangles (gdkEvent.region, rectangles, n_rectangles);", "-\t\tGdkRectangle rect = new GdkRectangle ();", "-\t\tfor (int i=0; i<n_rectangles[0]; i++) {", "-\t\t\tEvent event = new Event ();", "-\t\t\tOS.memmove (rect, rectangles [0] + i * GdkRectangle.sizeof, GdkRectangle.sizeof);", "-\t\t\tevent.x = rect.x;", "-\t\t\tevent.y = rect.y;", "-\t\t\tevent.width = rect.width;", "-\t\t\tevent.height = rect.height;", "-\t\t\tif ((style & SWT.MIRRORED) != 0) event.x = getClientWidth () - event.width - event.x;", "-\t\t\tlong /*int*/ damageRgn = OS.gdk_region_new ();", "-\t\t\tOS.gdk_region_union_with_rect (damageRgn, rect);", "-\t\t\tGCData data = new GCData ();", "-\t\t\tdata.damageRgn = damageRgn;", "-\t\t\tGC gc = event.gc = GC.gtk_new (this, data);", "-\t\t\tsendEvent (SWT.Paint, event);", "-\t\t\tgc.dispose ();", "-\t\t\tOS.gdk_region_destroy (damageRgn);", "-\t\t\tevent.gc = null;", "-\t\t}\t", "-\t}", "+\tOS.gdk_region_get_rectangles (gdkEvent.region, rectangles, n_rectangles);", "+\tGdkRectangle rect = new GdkRectangle ();", "+\tfor (int i=0; i<n_rectangles[0]; i++) {", "+\t\tEvent event = new Event ();", "+\t\tOS.memmove (rect, rectangles [0] + i * GdkRectangle.sizeof, GdkRectangle.sizeof);", "+\t\tevent.x = rect.x;", "+\t\tevent.y = rect.y;", "+\t\tevent.width = rect.width;", "+\t\tevent.height = rect.height;", "+\t\tif ((style & SWT.MIRRORED) != 0) event.x = getClientWidth () - event.width - event.x;", "+\t\tlong /*int*/ damageRgn = OS.gdk_region_new ();", "+\t\tOS.gdk_region_union_with_rect (damageRgn, rect);", "+\t\tGCData data = new GCData ();", "+\t\tdata.damageRgn = damageRgn;", "+\t\tGC gc = event.gc = GC.gtk_new (this, data);", "+\t\tsendEvent (SWT.Paint, event);", "+\t\tgc.dispose ();", "+\t\tOS.gdk_region_destroy (damageRgn);", "+\t\tevent.gc = null;", "+\t}\t"]}], "num": 25350}