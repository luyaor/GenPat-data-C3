{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ccd0cfeb23d19ca71e66f816f5ba8a87", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "18ca9e9656a477033f83e1cd9a680f14", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "966531c8bcdaaa6d602257d97118cca4cedf54d7", "commitAfterChange": "d03ee3ef48d55db63b28ee70d6aa938a064ef2bb", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "  void drawBackground (Control control, int window, int region, int x, int y, int width, int height)", "signatureAfterChange": "  void drawBackground (Control control, int window, int region, int x, int y, int width, int height)", "diff": ["+\tif (OS.USE_CAIRO_SURFACE) {", "+\t\tint /*long*/ cairo = OS.gdk_cairo_create(window);", "+\t\tif (cairo == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\tif (region != 0) OS.gdk_cairo_region(cairo, region);", "+\t\tif (control.backgroundImage != null) {", "+\t\t\tint /*long*/ pattern = Cairo.cairo_pattern_create_for_surface (control.backgroundImage.surface);", "+\t\t\tif (pattern == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\t\tCairo.cairo_pattern_set_extend (pattern, Cairo.CAIRO_EXTEND_REPEAT);", "+\t\t\tif ((style & SWT.MIRRORED) != 0) {", "+\t\t\t\tdouble[] matrix = {-1, 0, 0, 1, 0, 0};", "+\t\t\t\tCairo.cairo_pattern_set_matrix(pattern, matrix);", "+\t\t\t}", "+\t\t\tCairo.cairo_set_source (cairo, pattern);", "+\t\t\tCairo.cairo_pattern_destroy (pattern);", "+\t\t} else {", "+\t\t\tGdkColor color = control.getBackgroundColor ();", "+\t\t\tCairo.cairo_set_source_rgba (cairo, (color.red & 0xFFFF) / (float)0xFFFF, (color.green & 0xFFFF) / (float)0xFFFF, (color.blue & 0xFFFF) / (float)0xFFFF, 1);", "+\t\t}", "+\t\tCairo.cairo_rectangle (cairo, x, y, width, height);", "+\t\tCairo.cairo_fill (cairo);", "+\t\tCairo.cairo_destroy(cairo);", "+\t\treturn;", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c68858802fe2a7debedc42bcd8d8558e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "651f725624ce40a79de5f506efbaee6875c43dba", "commitAfterChange": "d507496911ca05232d09014eb4fedca709465fde", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 22, "signatureBeforeChange": "  void printWindow (boolean first, Control control, int gc, int drawable, int depth, int window, int x, int y)", "signatureAfterChange": "  void printWindow (boolean first, Control control, GC gc, int drawable, int depth, int window, int x, int y)", "diff": ["-void printWindow (boolean first, Control control, int /*long*/ gc, int /*long*/ drawable, int depth, int /*long*/ window, int x, int y) {", "+void printWindow (boolean first, Control control, GC gc, int /*long*/ drawable, int depth, int /*long*/ window, int x, int y) {", "-\tOS.gdk_draw_drawable (drawable, gc, real_drawable [0], srcX, srcY, destX, destY, destWidth, destHeight);", "+\tGCData gcData = gc.getGCData();", "+\tint /*long*/ cairo = gcData.cairo;", "+\tif (cairo != 0) {", "+\t\tint /*long*/ xDisplay = OS.GDK_DISPLAY();", "+\t\tint /*long*/ xVisual = OS.gdk_x11_visual_get_xvisual(OS.gdk_visual_get_system());", "+\t\tint /*long*/ xDrawable = OS.GDK_PIXMAP_XID(real_drawable [0]);", "+\t\tint /*long*/ surface = Cairo.cairo_xlib_surface_create(xDisplay, xDrawable, xVisual, width [0], height [0]);", "+\t\tif (surface == 0) SWT.error(SWT.ERROR_NO_HANDLES);", "+\t\tCairo.cairo_save(cairo);", "+\t\tCairo.cairo_rectangle(cairo, destX , destY, destWidth, destHeight);", "+\t\tCairo.cairo_clip(cairo);", "+\t\tCairo.cairo_translate(cairo, destX, destY);", "+\t\tint /*long*/ pattern = Cairo.cairo_pattern_create_for_surface(surface);", "+\t\tif (pattern == 0) SWT.error(SWT.ERROR_NO_HANDLES);", "+\t\tCairo.cairo_pattern_set_filter(pattern, Cairo.CAIRO_FILTER_BEST);", "+\t\tCairo.cairo_set_source(cairo, pattern);", "+\t\tif (gcData.alpha != 0xFF) {", "+\t\t\tCairo.cairo_paint_with_alpha(cairo, gcData.alpha / (float)0xFF);", "+\t\t} else {", "+\t\t\tCairo.cairo_paint(cairo);", "+\t\t}", "+\t\tCairo.cairo_restore(cairo);", "+\t\tCairo.cairo_pattern_destroy(pattern);", "+\t\tCairo.cairo_surface_destroy(surface);", "+\t} else {", "+\t\tOS.gdk_draw_drawable (drawable, gc.handle, real_drawable [0], srcX, srcY, destX, destY, destWidth, destHeight);", "+\t}"]}], "num": 54162}