{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0826565dd977e205da132b139cf42a81", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "22a58ec979f8500135c4505a6747ff4c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/gtk/org/eclipse/swt/dnd/HTMLTransfer.java", "commitBeforeChange": "27680729acd44e890a7f12853debc377384d8bbf", "commitAfterChange": "de6fbaaec46412d3fdef0c01810182c0b01cafbd", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " public void javaToNative (Object object, TransferData transferData)", "signatureAfterChange": " public void javaToNative (Object object, TransferData transferData)", "diff": ["-\tint charCount = string.length();", "-\tchar [] chars = new char[charCount +1];", "-\tstring.getChars(0, charCount , chars, 0);", "-\tint byteCount = chars.length*2;", "+\tbyte[] utf8 = Converter.wcsToMbcs(null, string, true);", "+\tint byteCount = utf8.length;", "-\tOS.memmove(pValue, chars, byteCount);", "+\tOS.memmove(pValue, utf8, byteCount);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3db6fe5597ee1f71ebb084fb8cb71f73", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/carbon/org/eclipse/swt/dnd/TextTransfer.java", "commitBeforeChange": "a51a5c56cd66a0306adaaed3bd6b70f9e1c1a47f", "commitAfterChange": "a4935bc66ce08e7d2fe2bd7381ba534ed932f1ac", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": " public Object nativeToJava(TransferData transferData)", "signatureAfterChange": " public Object nativeToJava(TransferData transferData)", "diff": ["-\t\tcase UTF8ID: {", "-\t\t\tint cfstring = OS.CFStringCreateWithBytes(OS.kCFAllocatorDefault, buffer, buffer.length, OS.kCFStringEncodingUTF8, true);", "+\t\tcase UTF8ID: ", "+\t\tcase UT16ID: {", "+\t\t\tint encoding = transferData.type == UTF8ID ? OS.kCFStringEncodingUTF8 : OS.kCFStringEncodingUnicode;", "+\t\t\tint cfstring = OS.CFStringCreateWithBytes(OS.kCFAllocatorDefault, buffer, buffer.length, encoding, true);", "-\t\t}", "-\t\tcase UT16ID: {", "-\t\t\tchar[] chars = new char[(buffer.length + 1) / 2];", "-\t\t\tOS.memmove(chars, buffer, buffer.length);", "-\t\t\treturn new String(chars);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6ece9bbe36e5518b61780079cdab6d93", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "9cf31ddaff91c0aa18dd727e548c37c49a4b637e", "commitAfterChange": "8c8054ce143afd5983fb89c40876649c985157e5", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "  void createHandle ()", "signatureAfterChange": "  void createHandle ()", "diff": ["-\tif ((style & SWT.READ_ONLY) != 0) iFrameOptions |= OS.kTXNReadOnlyMask;", "-\t/* Configure the TXNOBject */", "-\tOS.TXNSetTXNObjectControls (txnObject, false, 1, new int [] {OS.kTXNDisableDragAndDropTag}, new int [] {1});", "-\tOS.TXNSetFrameBounds (txnObject, 0, 0, 0, 0, txnFrameID);", "-\tint ptr = OS.NewPtr (Rect.sizeof);", "-\tRect rect = new Rect ();", "-\tOS.SetRect (rect, (short) 1, (short) 1, (short) 1, (short) 1);", "-\tOS.memcpy (ptr, rect, Rect.sizeof);", "-\tOS.TXNSetTXNObjectControls (txnObject, false, 1, new int [] {OS.kTXNMarginsTag}, new int [] {ptr});", "-\tOS.DisposePtr (ptr);", "-\t", "+\t", "+\t/* Configure the TXNOBject */", "+\tint ptr = OS.NewPtr (Rect.sizeof);", "+\tRect rect = new Rect ();", "+\tOS.SetRect (rect, (short) 1, (short) 1, (short) 1, (short) 1);", "+\tOS.memcpy (ptr, rect, Rect.sizeof);", "+\tint [] tags = new int [] {", "+\t\tOS.kTXNDisableDragAndDropTag,", "+\t\tOS.kTXNIOPrivilegesTag,", "+\t\tOS.kTXNMarginsTag,", "+\t};", "+\tint [] datas = new int [] {", "+\t\t1,", "+\t\t(style & SWT.READ_ONLY) != 0 ? 1 : 0,", "+\t\tptr,", "+\t};", "+\tOS.TXNSetTXNObjectControls (txnObject, false, tags.length, tags, datas);", "+\tOS.TXNSetFrameBounds (txnObject, 0, 0, 0, 0, txnFrameID);", "+\tOS.DisposePtr (ptr);"]}], "num": 20429}