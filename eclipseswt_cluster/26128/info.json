{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "883f361390f9c20b9eb243b58bfa43ce", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9f20d5cd61f277dd722f0777df9e7714", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt.tools/src/org/eclipse/swt/tools/builders/Check64CompilationParticipant.java", "commitBeforeChange": "5ae377b8d4361b2ac376e3ffa09869cd33aee0bc", "commitAfterChange": "8e8fa71f074931dc9f4fed52bb9084e601c365f8", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 5, "signatureBeforeChange": "  public void buildFinished(IJavaProject project)", "signatureAfterChange": "  public void buildFinished(IJavaProject project)", "diff": ["+//\t\tlong time = System.currentTimeMillis();", "+\t\tboolean hasProblems = false;", "+\t\tIMarker[] markers = proj.findMarkers(IJavaModelMarker.JAVA_MODEL_PROBLEM_MARKER, true, IResource.DEPTH_INFINITE);", "+\t\tfor (int i = 0; i < markers.length; i++) {", "+\t\t\tIMarker marker = markers[i];", "+\t\t\tif (SOURCE_ID.equals(marker.getAttribute(IMarker.SOURCE_ID))) {", "+\t\t\t\tmarker.delete();", "+\t\t\t} else {", "+\t\t\t\thasProblems = true;", "+\t\t\t}", "+\t\t}", "+\t\tif (hasProblems) return;", "-\t\tsources = null;", "-//\t\tSystem.out.println(\"start\");", "-//\t\tlong time = System.currentTimeMillis();", "+//\t\tSystem.out.println(\"start=\" + sources.size());", "+\t\tproj.findMember(new Path(buildDir)).refreshLocal(IResource.DEPTH_INFINITE, null);\t\t", "-//\t\tSystem.out.println(\"time=\" +( System.currentTimeMillis() - time));", "+//\t\tSystem.out.println(\"copiling time=\" +( System.currentTimeMillis() - time));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "861ad7f9baee7c352f2af6a797550474", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt.tools/src/org/eclipse/swt/tools/builders/Check64CompilationParticipant.java", "commitBeforeChange": "4d8daf0e3e81d301cc7e2c778b9beea2a5b1e9e7", "commitAfterChange": "eec00175c85fc62816701fee36d553b89dc3e28d", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  void createProblems(IJavaProject project, String root) throws CoreException", "signatureAfterChange": "  void createProblems(IJavaProject project, String root) throws CoreException", "diff": ["-\t\t\t\t\t\t\tNodeList problems = source.getElementsByTagName(\"problems\");", "-\t\t\t\t\t\t\tfor (int k = 0; k < problems.getLength(); k++) {", "-\t\t\t\t\t\t\t\tNodeList problem = ((Element)problems.item(k)).getElementsByTagName(\"problem\");", "-\t\t\t\t\t\t\t\tfor (int l = 0; l < problem.getLength(); l++) {", "-\t\t\t\t\t\t\t\t\tElement node = (Element)problem.item(l);", "-\t\t\t\t\t\t\t\t\tString path = source.getAttribute(\"path\").replace('\\\\', '/');", "-\t\t\t\t\t\t\t\t\tpath = path.replaceAll(buildDir, \"/\");", "-\t\t\t\t\t\t\t\t\tif (path.startsWith(projPath)) {", "-\t\t\t\t\t\t\t\t\t\tpath = path.substring(projPath.length());", "-\t\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t\t\tIResource resource = proj.findMember(new Path(path));", "-\t\t\t\t\t\t\t\t\tif (resource != null) {", "-\t\t\t\t\t\t\t\t\t\tint start = Integer.parseInt(node.getAttribute(\"charStart\"));", "-\t\t\t\t\t\t\t\t\t\tint end = Integer.parseInt(node.getAttribute(\"charEnd\"));", "-\t\t\t\t\t\t\t\t\t\tString message = \"[64] \" + ((Element)node.getElementsByTagName(\"message\").item(0)).getAttribute(\"value\");", "-\t\t\t\t\t\t\t\t\t\tIMarker marker = resource.createMarker(IJavaModelMarker.JAVA_MODEL_PROBLEM_MARKER);", "-\t\t\t\t\t\t\t\t\t\tint severity = IMarker.SEVERITY_ERROR;", "-\t\t\t\t\t\t\t\t\t\tmarker.setAttributes(", "-\t\t\t\t\t\t\t\t\t\t\tnew String[] {IMarker.MESSAGE, IMarker.SEVERITY, IMarker.CHAR_START, IMarker.CHAR_END, IMarker.SOURCE_ID},", "-\t\t\t\t\t\t\t\t\t\t\tnew Object[] {message, new Integer(severity), new Integer(start), new Integer(end), SOURCE_ID});", "+\t\t\t\t\t\t\tString path = source.getAttribute(\"path\").replace('\\\\', '/');", "+\t\t\t\t\t\t\tpath = path.replaceAll(buildDir, \"/\");", "+\t\t\t\t\t\t\tif (path.startsWith(projPath)) {", "+\t\t\t\t\t\t\t\tpath = path.substring(projPath.length());", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\tIResource resource = proj.findMember(new Path(path));", "+\t\t\t\t\t\t\tboolean hasProblems = false;", "+\t\t\t\t\t\t\tIMarker[] markers = resource.findMarkers(IJavaModelMarker.JAVA_MODEL_PROBLEM_MARKER, true, IResource.DEPTH_INFINITE);", "+\t\t\t\t\t\t\tfor (int m = 0; m < markers.length; m++) {", "+\t\t\t\t\t\t\t\tIMarker marker = markers[m];", "+\t\t\t\t\t\t\t\tif (SOURCE_ID.equals(marker.getAttribute(IMarker.SOURCE_ID))) {", "+\t\t\t\t\t\t\t\t\tmarker.delete();", "+\t\t\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\t\t\tObject severity = marker.getAttribute(IMarker.SEVERITY);", "+\t\t\t\t\t\t\t\t\thasProblems |= severity != null && ((Integer)severity).intValue() == IMarker.SEVERITY_ERROR;", "+\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\tif (!hasProblems) {", "+\t\t\t\t\t\t\t\tNodeList problems = source.getElementsByTagName(\"problems\");", "+\t\t\t\t\t\t\t\tfor (int k = 0; k < problems.getLength(); k++) {", "+\t\t\t\t\t\t\t\t\tNodeList problem = ((Element)problems.item(k)).getElementsByTagName(\"problem\");", "+\t\t\t\t\t\t\t\t\tfor (int l = 0; l < problem.getLength(); l++) {", "+\t\t\t\t\t\t\t\t\t\tElement node = (Element)problem.item(l);", "+\t\t\t\t\t\t\t\t\t\tif (resource != null) {", "+\t\t\t\t\t\t\t\t\t\t\tint start = Integer.parseInt(node.getAttribute(\"charStart\"));", "+\t\t\t\t\t\t\t\t\t\t\tint end = Integer.parseInt(node.getAttribute(\"charEnd\"));", "+\t\t\t\t\t\t\t\t\t\t\tString message = \"[64] \" + ((Element)node.getElementsByTagName(\"message\").item(0)).getAttribute(\"value\");", "+\t\t\t\t\t\t\t\t\t\t\tIMarker marker = resource.createMarker(IJavaModelMarker.JAVA_MODEL_PROBLEM_MARKER);", "+\t\t\t\t\t\t\t\t\t\t\tint severity = IMarker.SEVERITY_ERROR;", "+\t\t\t\t\t\t\t\t\t\t\tmarker.setAttributes(", "+\t\t\t\t\t\t\t\t\t\t\t\tnew String[] {IMarker.MESSAGE, IMarker.SEVERITY, IMarker.CHAR_START, IMarker.CHAR_END, IMarker.SOURCE_ID},", "+\t\t\t\t\t\t\t\t\t\t\t\tnew Object[] {message, new Integer(severity), new Integer(start), new Integer(end), SOURCE_ID});", "+\t\t\t\t\t\t\t\t\t\t}"]}], "num": 26128}