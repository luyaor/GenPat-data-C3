{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "cf8d3231c1009f187414bc7e6459f6d5", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "72415cc909b6489bc1f85b1b330666ac", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "b72bc1d2aeff462f0ad0e8ecfa6bc39ebd385109", "commitAfterChange": "976e43084e6451bfa01e2552d9934253d1c13468", "methodNumberBeforeChange": 33, "methodNumberAfterChange": 33, "signatureBeforeChange": " public void drawText (String string, int x, int y, int flags)", "signatureAfterChange": "  void drawText (int context, int flags, float x, float y, int line, float [] ascent, float [] descent, float [] leading, float fontAscent)", "diff": ["-\t\thandle.saveGraphicsState();", "-\t\thandle.setShouldAntialias(mode);", "-\t\tNSAttributedString str = createString(string, flags, true);", "-\t\tif ((flags & SWT.DRAW_TRANSPARENT) == 0) {", "-\t\t\tNSSize size = str.size();", "-\t\t\tNSRect rect = new NSRect();", "-\t\t\trect.x = x;", "-\t\t\trect.y = y;", "-\t\t\trect.width = size.width;", "-\t\t\trect.height = size.height;", "-\t\t\tNSColor bg = data.bg;", "-\t\t\tif (bg == null) {", "-\t\t\t\tfloat /*double*/ [] color = data.background;", "-\t\t\t\tbg = data.bg = NSColor.colorWithDeviceRed(color[0], color[1], color[2], data.alpha / 255f);", "-\t\t\t\tbg.retain();", "-\t\t\t}", "-\t\t\tbg.setFill();", "-\t\t\tNSBezierPath.fillRect(rect);", "-\t\t\tstr.drawInRect(rect);", "-\t\t} else {", "-\t\t\tNSPoint pt = new NSPoint();", "-\t\t\tpt.x = x;", "-\t\t\tpt.y = y;", "-\t\t\tstr.drawAtPoint(pt);", "-\t\tstr.release();", "-\t\thandle.restoreGraphicsState();", "+", "+void drawText (int /*long*/ context, int flags, float /*double*/ x, float /*double*/ y, int /*long*/ line, float /*double*/ [] ascent, float /*double*/ [] descent, float /*double*/ [] leading, float /*double*/ fontAscent) {", "+\tdouble width = 0;", "+\tif ((flags & SWT.DRAW_DELIMITER) != 0 || (flags & SWT.DRAW_TRANSPARENT) == 0) {", "+\t\twidth = OS.CTLineGetTypographicBounds(line, ascent, descent, leading);", "+\t}", "+\tif ((flags & SWT.DRAW_TRANSPARENT) == 0) {", "+\t\tCGRect rect = new CGRect();", "+\t\trect.origin.x = x;", "+\t\trect.origin.y = y;", "+\t\trect.size.width = (float)Math.ceil(width);", "+\t\trect.size.height = (float)Math.ceil(ascent[0] + descent[0] + leading[0]);", "+\t\tOS.CGContextSaveGState(context);", "+\t\tfloat /*double*/ oldAlpha = data.background[3];", "+\t\tdata.background[3] = data.alpha / 255f;", "+\t\tOS.CGContextSetFillColor(context, data.background);", "+\t\tdata.background[3] = oldAlpha;", "+\t\tOS.CGContextFillRect(context, rect);", "+\t\tOS.CGContextRestoreGState(context);", "+\t}", "+\tOS.CGContextSetTextPosition(context, x, y + fontAscent);", "+\tOS.CTLineDraw(line, context);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "82c0bab23d68a6011ffea8edd8a2c900", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "c52a498d1686cfc621ac513da35a69d8c16a84ba", "commitAfterChange": "d0cfa98c33dae187ddb28fd1d4be338006975a20", "methodNumberBeforeChange": 33, "methodNumberAfterChange": 33, "signatureBeforeChange": "  void drawText (int context, int flags, float x, float y, int line, float [] ascent, float [] descent, float [] leading, float fontAscent)", "signatureAfterChange": " public void drawText(String string, int x, int y, boolean isTransparent)", "diff": ["-", "-void drawText (int /*long*/ context, int flags, float /*double*/ x, float /*double*/ y, int /*long*/ line, float /*double*/ [] ascent, float /*double*/ [] descent, float /*double*/ [] leading, float /*double*/ fontAscent) {", "-\tdouble width = 0;", "-\tif ((flags & SWT.DRAW_DELIMITER) != 0 || (flags & SWT.DRAW_TRANSPARENT) == 0) {", "-\t\twidth = OS.CTLineGetTypographicBounds(line, ascent, descent, leading);", "-\t}", "-\tif ((flags & SWT.DRAW_TRANSPARENT) == 0) {", "-\t\tCGRect rect = new CGRect();", "-\t\trect.origin.x = x;", "-\t\trect.origin.y = y;", "-\t\trect.size.width = (float)Math.ceil(width);", "-\t\trect.size.height = (float)Math.ceil(ascent[0] + descent[0] + leading[0]);", "-\t\tOS.CGContextSaveGState(context);", "-\t\tfloat /*double*/ oldAlpha = data.background[3];", "-\t\tdata.background[3] = data.alpha / 255f;", "-\t\tOS.CGContextSetFillColor(context, data.background);", "-\t\tdata.background[3] = oldAlpha;", "-\t\tOS.CGContextFillRect(context, rect);", "-\t\tOS.CGContextRestoreGState(context);", "-\t}", "-\tOS.CGContextSetTextPosition(context, x, y + fontAscent);", "-\tOS.CTLineDraw(line, context);"]}], "num": 6863}