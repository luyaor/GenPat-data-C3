{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2a903dfd85eb3d1409b576473337c76c", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2282cbf1d8667e1bdfdcf861541bac1a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT PI/common_j2se/org/eclipse/swt/internal/Library.java", "commitBeforeChange": "6b97ba6aa2758e76761bdfa9b5b9516745583d93", "commitAfterChange": "3f4f11935cadbb78e8d83414ccd7f9dd63c75e21", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 5, "signatureBeforeChange": " public static void loadLibrary (String name)", "signatureAfterChange": " public static void loadLibrary (String name)", "diff": ["-\ttry {", "-\t\tString newName = name + \"-\" + platform + \"-\" + version; //$NON-NLS-1$ //$NON-NLS-2$", "-\t\tSystem.loadLibrary (newName);", "-\t\treturn;", "-\t} catch (UnsatisfiedLinkError e1) {\t\t", "-\t\ttry {", "-\t\t\tString newName = name + \"-\" + platform; //$NON-NLS-1$", "-\t\t\tSystem.loadLibrary (newName);", "-\t\t\treturn;", "-\t\t} catch (UnsatisfiedLinkError e2) {", "-\t\t\tthrow e1;", "-\t\t}", "+\tString libName1 = name + \"-\" + platform + \"-\" + version;  //$NON-NLS-1$ //$NON-NLS-2$", "+\tString libName2 = name + \"-\" + platform;  //$NON-NLS-1$", "+\tString mappedName1 = System.mapLibraryName (libName1);", "+\tString mappedName2 = System.mapLibraryName (libName2);", "+", "+\t/* Try loading library from swt library path */", "+\tString path = System.getProperty (\"swt.library.path\"); //$NON-NLS-1$", "+\tif (path != null) {", "+\t\tpath = new File(path).getAbsolutePath ();", "+\t\tif (load (path + SEPARATOR + mappedName1)) return;", "+\t\tif (load (path + SEPARATOR + mappedName2)) return;", "+", "+\t/* Try loading library from java library path */", "+\tif (load (libName1)) return;", "+\tif (load (libName2)) return;", "+\t", "+\t/* Try loading library from the tmp directory if swt library path is not specified */", "+\tif (path == null) {", "+\t\tpath = System.getProperty (\"java.io.tmpdir\"); //$NON-NLS-1$", "+\t\tpath = new File(path).getAbsolutePath ();", "+\t\tif (load (path + SEPARATOR + mappedName1)) return;", "+\t\tif (load (path + SEPARATOR + mappedName2)) return;", "+\t}", "+\t\t", "+\t/* Try extracting and loading library from jar */", "+\tif (path != null) {", "+\t\tif (extract (path + SEPARATOR + mappedName1, mappedName1)) return;", "+\t\tif (extract (path + SEPARATOR + mappedName2, mappedName2)) return;", "+\t}", "+\t", "+\t/* Failed to find the library */", "+\tthrow new UnsatisfiedLinkError (\"no \" + libName1 + \" or \" + libName2 + \" in swt.library.path, java.libary.path or the jar file\");"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6e9dc7d04959ef95687dfe8b0e39577e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/FileDialog.java", "commitBeforeChange": "7996d8405892a4a58e0083da5d5bc47199c1a1a1", "commitAfterChange": "a70d2e9009f5c248af33f97a37a3226fb19f6ab1", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 12, "signatureBeforeChange": "\r int destroyFunc (int widget, int callData)", "signatureAfterChange": "\r void preset()", "diff": ["-}\r", "-int destroyFunc (int widget, int callData) {\r", "-\tOS.gtk_main_quit ();\r", "-\treturn 0;\r", "-}\r", "+void preset() {\r", "+\t/* Calculate the fully-specified file name and convert to bytes */\r", "+\tStringBuffer stringBuffer = new StringBuffer ();\r", "+\tif (filterPath == null) {\r", "+\t\tfilterPath = \"\";\r", "+\t} else {\r", "+\t\tif (filterPath.length () > 0) {\r", "+\t\t\tstringBuffer.append (filterPath);\r", "+\t\t\tif (filterPath.charAt (filterPath.length () - 1) != separator) {\r", "+\t\t\t\tstringBuffer.append (separator);\r", "+\t\t\t}\r", "+\t\t}\r", "+\t}\r", "+\tif (fileName == null) {\r", "+\t\tfileName = \"\";\r", "+\t} else {\r", "+\t\tstringBuffer.append (fileName);\r", "+\t}\r", "+\tfullPath = stringBuffer.toString ();\r", "+\tbyte [] fullPathBytes = Converter.wcsToMbcs (null, fullPath, true);\r", "+\tOS.gtk_file_selection_set_filename (handle, fullPathBytes);\r", "+\t\r", "+\t/* Set the extension */\r", "+\tif (filterNames == null) filterNames = new String [0];\r", "+\tif (filterExtensions == null) filterExtensions = new String [0];\r", "+\tif (filterExtensions.length == 1) {\r", "+\t\tString ext = filterExtensions [0];\r", "+\t\tbyte [] extBytes = Converter.wcsToMbcs (null, ext, true);\r", "+\t\tOS.gtk_file_selection_complete (handle, extBytes);\r", "+\t}\r", "+\t\r", "+\tfileName = null;\r", "+\tfullPath = null;\r", "+\tfilterPath = null;\r", "+}\r"]}], "num": 46050}