{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "86bbc32ab2360399c1b3236534e2017b", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1c4e42dd2cbd2433784602d69c332a4b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Menu.java", "commitBeforeChange": "b0693a12063ab35c44f34d89fd60d2e89368a94f", "commitAfterChange": "e9fff9da841962ff350a910fb52f584e5996a4f4", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "\r \r void createItem (MenuItem item, int index)", "signatureAfterChange": "\r \r void createItem (MenuItem item, int index)", "diff": ["-\t\tint flags = OS.MF_BYPOSITION;\r", "-\t\tif ((style & SWT.SEPARATOR) != 0) flags |= OS.MF_SEPARATOR;\r", "-\t\tsuccess = OS.InsertMenu (handle, index, flags, item.id, null); \r", "+\t\tint uFlags = OS.MF_BYPOSITION;\r", "+\t\tTCHAR lpNewItem = null;\r", "+\t\tif ((item.style & SWT.SEPARATOR) != 0) {\r", "+\t\t\tuFlags |= OS.MF_SEPARATOR;\r", "+\t\t} else {\r", "+\t\t\tlpNewItem = new TCHAR (0, \"\", true);\r", "+\t\t}\r", "+\t\tsuccess = OS.InsertMenu (handle, index, uFlags, item.id, lpNewItem);\r", "+\t\tif (success) {\r", "+\t\t\tMENUITEMINFO info = new MENUITEMINFO ();\r", "+\t\t\tinfo.cbSize = MENUITEMINFO.sizeof;\r", "+\t\t\tinfo.fMask = OS.MIIM_DATA;\r", "+\t\t\tinfo.dwItemData = item.id;\r", "+\t\t\tsuccess = OS.SetMenuItemInfo (handle, index, true, info);\r", "+\t\t}\r", "-\t\tinfo.fMask = OS.MIIM_ID | OS.MIIM_TYPE;\r", "-\t\tinfo.wID = item.id;\r", "+\t\tinfo.fMask = OS.MIIM_ID | OS.MIIM_TYPE | OS.MIIM_DATA;\r", "+\t\tinfo.wID = info.dwItemData = item.id;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2a9853538f1291021dff4fccd581eb04", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/MenuItem.java", "commitBeforeChange": "abaec105203e00f0f38ed2046e43613969ed66fe", "commitAfterChange": "a4b4318c74f73cccf09888df2eee5e0ca1200808", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "  void fixMenus (Decorations newParent)", "signatureAfterChange": "  void fixMenus (Decorations newParent)", "diff": ["-\t/*", "-\t* Ensure that the current menu item is moved into", "-\t* the new parent before moving the submenu so that", "-\t* menu id of the current item will not be assigned", "-\t* to an item in a submenu.", "-\t*/", "-\tint oldId = this.id;", "-\tparent.parent.remove (this);", "-\tnewParent.add (this);", "-\tif ((OS.IsPPC || OS.IsSP) && parent.hwndCB != 0) {", "-\t\tint hwndCB = this.parent.hwndCB;", "-\t\tTBBUTTONINFO info = new TBBUTTONINFO ();", "-\t\tinfo.cbSize = TBBUTTONINFO.sizeof;", "-\t\tinfo.dwMask = OS.TBIF_COMMAND;", "-\t\tinfo.idCommand = id;", "-\t\tOS.SendMessage (hwndCB, OS.TB_SETBUTTONINFO, oldId, info);", "-\t} else {", "-\t\tint hMenu = parent.handle;", "-\t\tMENUITEMINFO info = new MENUITEMINFO ();", "-\t\tinfo.cbSize = MENUITEMINFO.sizeof;", "-\t\tinfo.fMask = OS.MIIM_ID | OS.MIIM_DATA;", "-\t\tinfo.wID = info.dwItemData = id;", "-\t\tOS.SetMenuItemInfo (hMenu, oldId, false, info);", "-\t}"]}], "num": 15277}