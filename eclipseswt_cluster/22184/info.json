{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9219c56f2b82d236ba28d22fc4c72a1d", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "faa49401605fb829f00ec8bc8980adf8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/ImageList.java", "commitBeforeChange": "054c79966c0eed22f4e8871acef7cc18da98bfab", "commitAfterChange": "b610ff6fb273ada98c24bc8a814e878ba015c7c0", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 5, "signatureBeforeChange": "\r \r int createMask (int hBitmap, int width, int height)", "signatureAfterChange": "\r \r int createMask (int hBitmap, int width, int height, int background)", "diff": ["-int createMask (int hBitmap, int width, int height) {\r", "-\tint hDC = OS.GetDC (0);\r", "-\tint hdc1 = OS.CreateCompatibleDC (hDC);\r", "-\tOS.SelectObject (hdc1, hBitmap);\r", "-\tint hdc2 = OS.CreateCompatibleDC (hDC);\r", "+int createMask (int hBitmap, int width, int height, int background) {\r", "-\tOS.SelectObject (hdc2, hMask);\r", "-\tOS.SetBkColor (hdc1, background);\r", "-\tOS.BitBlt (hdc2, 0, 0, width, height, hdc1, 0, 0, OS.SRCCOPY);\r", "-\tOS.ReleaseDC (0, hDC);\r", "-\tOS.DeleteDC (hdc1);\r", "-\tOS.DeleteDC (hdc2);\r", "+\tif (background != -1) {\r", "+\t\tint hDC = OS.GetDC (0);\r", "+\t\tint hdc1 = OS.CreateCompatibleDC (hDC);\r", "+\t\tOS.SelectObject (hdc1, hBitmap);\r", "+\t\tint hdc2 = OS.CreateCompatibleDC (hDC);\r", "+\t\tOS.SelectObject (hdc2, hMask);\r", "+\t\tOS.SetBkColor (hdc1, background);\r", "+\t\tOS.BitBlt (hdc2, 0, 0, width, height, hdc1, 0, 0, OS.SRCCOPY);\r", "+\t\tOS.ReleaseDC (0, hDC);\r", "+\t\tOS.DeleteDC (hdc1);\r", "+\t\tOS.DeleteDC (hdc2);\r", "+\t}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fa21e34731f926a418afaa8e502ce5fd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/DirectoryDialog.java", "commitBeforeChange": "9a3cfaf5abb5850555a1eaa222d6253c59a41bfa", "commitAfterChange": "ef99308454376741558f5c126ed26e1e2ef85341", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": " String openClassicDialog ()", "signatureAfterChange": " String openClassicDialog ()", "diff": ["-\t\tint /*long*/ [] items_written = new int /*long*/ [1];", "-\t\tint /*long*/ utf16Ptr = OS.g_utf8_to_utf16 (utf8Ptr, -1, null, items_written, null);", "-\t\tint length = (int)/*64*/items_written [0];", "-\t\tchar [] buffer = new char [length];", "-\t\tOS.memmove (buffer, utf16Ptr, length * 2);", "-\t\tString osAnswer = new String (buffer);", "-\t\tOS.g_free (utf16Ptr);", "-\t\tOS.g_free (utf8Ptr);", "-\t\tif (osAnswer != null) {", "-\t\t\t/* remove trailing separator, unless root directory */", "-\t\t\tif (!osAnswer.equals (SEPARATOR) && osAnswer.endsWith (SEPARATOR)) {", "-\t\t\t\tosAnswer = osAnswer.substring (0, osAnswer.length () - 1);", "+\t\tif (utf8Ptr != 0) {", "+\t\t\tint /*long*/ [] items_written = new int /*long*/ [1];", "+\t\t\tint /*long*/ utf16Ptr = OS.g_utf8_to_utf16 (utf8Ptr, -1, null, items_written, null);", "+\t\t\tif (utf16Ptr != 0) {", "+\t\t\t\tint length = (int)/*64*/items_written [0];", "+\t\t\t\tchar [] buffer = new char [length];", "+\t\t\t\tOS.memmove (buffer, utf16Ptr, length * 2);", "+\t\t\t\tString osAnswer = new String (buffer);", "+\t\t\t\tif (osAnswer != null) {", "+\t\t\t\t\t/* remove trailing separator, unless root directory */", "+\t\t\t\t\tif (!osAnswer.equals (SEPARATOR) && osAnswer.endsWith (SEPARATOR)) {", "+\t\t\t\t\t\tosAnswer = osAnswer.substring (0, osAnswer.length () - 1);", "+\t\t\t\t\t}", "+\t\t\t\t\tanswer = filterPath = osAnswer;", "+\t\t\t\t}", "+\t\t\t\tOS.g_free (utf16Ptr);", "-\t\t\tanswer = filterPath = osAnswer;", "+\t\t\tOS.g_free (utf8Ptr);"]}], "num": 22184}