{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "506c46b02a679f6f9c567fff1f9201c0", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c3f22312570272ecff333b56d3d58ee7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/FontDialog.java", "commitBeforeChange": "c37709afdc3c5ea65a63f3da29f238a08c42f96b", "commitAfterChange": "f5577e489eb4675021efabe8fab9598a019da0e4", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 3, "signatureBeforeChange": " public FontData open ()", "signatureAfterChange": " public FontData open ()", "diff": ["-\t\tOS.gtk_window_set_modal(handle, true);\r", "-\tCallback destroyCallback = new Callback (this, \"destroyFunc\", 2);\r", "-\tint destroyFunc = destroyCallback.getAddress ();\r", "-\tbyte [] destroy = Converter.wcsToMbcs (null, \"destroy\", true);\r", "-\tOS.gtk_signal_connect (handle, destroy, destroyFunc, handle);\r", "-\tbyte [] clicked = Converter.wcsToMbcs (null, \"clicked\", true);\r", "-\tCallback okCallback = new Callback (this, \"okFunc\", 2);\r", "-\tint okFunc = okCallback.getAddress ();\r", "-\tCallback cancelCallback = new Callback (this, \"cancelFunc\", 2);\r", "-\tint cancelFunc = cancelCallback.getAddress ();\r", "-\tOS.gtk_signal_connect (OS.GTK_FONT_SELECTION_DIALOG_OK_BUTTON(handle), clicked, okFunc, handle);\r", "-\tOS.gtk_signal_connect (OS.GTK_FONT_SELECTION_DIALOG_CANCEL_BUTTON(handle), clicked, cancelFunc, handle);\r", "-\tOS.gtk_widget_show_now (handle);\r", "-\tOS.gtk_main ();\t\r", "-\tdestroyCallback.dispose ();\r", "-\tokCallback.dispose ();\r", "-\tcancelCallback.dispose ();\r", "+\tint response = OS.gtk_dialog_run(handle);\r", "+\tif (response == OS.GTK_RESPONSE_OK) {\r", "+\t\tint fontName = OS.gtk_font_selection_dialog_get_font_name (handle);\r", "+\t\tint length = OS.strlen (fontName);\r", "+\t\tbyte [] buffer = new byte [length + 1];\r", "+\t\tOS.memmove (buffer, fontName, length);\r", "+\t\tint fontDesc = OS.pango_font_description_from_string (buffer);\r", "+\t\tDisplay display = parent != null ? parent.getDisplay () : Display.getCurrent ();\r", "+\t\tFont font = Font.gtk_new (display, fontDesc);\r", "+\t\tfontData = font.getFontData () [0];\r", "+\t\tOS.pango_font_description_free (fontDesc);\t\t\r", "+\t}\r", "+\tOS.gtk_widget_destroy(handle);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7464a22705d7bcaee6282d85468b85a5", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/ColorDialog.java", "commitBeforeChange": "2d9fff6dd391b5cc089b005e5418756dbdd23eaa", "commitAfterChange": "1617f86437dc438e368de40428b11023d2e7a7bd", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 3, "signatureBeforeChange": " public RGB open ()", "signatureAfterChange": " public RGB open ()", "diff": ["-\t\tOS.gtk_window_set_modal(handle, true);\r", "-\tOS.gtk_widget_hide (OS.GTK_COLOR_SELECTION_OK_BUTTON(handle));\r", "-\t\tOS.gtk_color_selection_set_color (OS.GTK_COLOR_SELECTION_COLORSEL(handle), color);\r", "+\t\tOS.gtk_color_selection_set_color (OS.GTK_COLOR_SELECTION_DIALOG_COLORSEL(handle), color);\r", "-\tCallback destroyCallback = new Callback (this, \"destroyFunc\", 2);\r", "-\tint destroyFunc = destroyCallback.getAddress ();\r", "-\tbyte [] destroy = Converter.wcsToMbcs (null, \"destroy\", true);\r", "-\tOS.gtk_signal_connect (handle, destroy, destroyFunc, handle);\r", "-\tbyte [] clicked = Converter.wcsToMbcs (null, \"clicked\", true);\r", "-\tCallback okCallback = new Callback (this, \"okFunc\", 2);\r", "-\tint okFunc = okCallback.getAddress ();\r", "-\tCallback cancelCallback = new Callback (this, \"cancelFunc\", 2);\r", "-\tint cancelFunc = cancelCallback.getAddress ();\r", "-\tOS.gtk_signal_connect (OS.GTK_COLOR_SELECTION_OK_BUTTON(handle), clicked, okFunc, handle);\r", "-\tOS.gtk_signal_connect (OS.GTK_COLOR_SELECTION_CANCEL_BUTTON(handle), clicked, cancelFunc, handle);\r", "-\tOS.gtk_widget_show_now (handle);\r", "-\tOS.gtk_main ();\r", "-\tdestroyCallback.dispose ();\r", "-\tokCallback.dispose ();\r", "-\tcancelCallback.dispose ();\r", "+\tint response = OS.gtk_dialog_run(handle);\r", "+\tif (response == OS.GTK_RESPONSE_OK) {\r", "+\t\tdouble [] color = new double [4];\r", "+\t\tOS.gtk_color_selection_get_color (OS.GTK_COLOR_SELECTION_DIALOG_COLORSEL(handle), color);\r", "+\t\trgb = new RGB ((int)(color [0] * 256), (int)(color [1] * 256), (int)(color [2] * 256));\r", "+\t}\r", "+\tOS.gtk_widget_destroy(handle);\r"]}], "num": 1494}