{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "61e53b22d20cdf173f75437601a82aa3", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ef949766f27da609b94ca44be93e34d9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Label.java", "commitBeforeChange": "4279ee67123996a79ea721fcd9de4d0941bad889", "commitAfterChange": "a9785553b91dc77ab23b2555d98bc4ac20e85a1b", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "diff": ["-\tint labelWidth = 0, labelHeight = 0;", "+\tint [] labelWidth = new int [1], labelHeight = new int [1];", "-\t\tlabelWidth = OS.GTK_WIDGET_WIDTH (labelHandle);", "-\t\tlabelHeight = OS.GTK_WIDGET_HEIGHT (labelHandle);", "-\t\tOS.gtk_widget_set_size_request (labelHandle, -1, -1);", "+\t\tOS.gtk_widget_get_size_request (labelHandle, labelWidth, labelHeight);", "+\t\tOS.gtk_widget_set_size_request (labelHandle, wHint, hHint);", "-\t\tint width = OS.GTK_WIDGET_WIDTH (handle);", "-\t\tint height = OS.GTK_WIDGET_HEIGHT (handle);", "+\t\tint [] reqWidth = new int [1], reqHeight = new int [1];", "+\t\tOS.gtk_widget_get_size_request (handle, reqWidth, reqHeight);", "-\t\tOS.gtk_widget_set_size_request (handle, width, height);", "+\t\tOS.gtk_widget_set_size_request (handle, reqWidth [0], reqHeight [0]);", "-\t\tOS.gtk_widget_set_size_request (labelHandle, labelWidth, labelHeight);", "+\t\tOS.gtk_widget_set_size_request (labelHandle, labelWidth [0], labelHeight [0]);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f9e8e7521db37b2b6d6fb866d9a079be", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Label.java", "commitBeforeChange": "a7ab4775a0dd1ecf25babb8566d45be8e41ff574", "commitAfterChange": "0db7275306068cc1d18c406ecbe40df861c4e6a1", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "  void resizeHandle (int width, int height)", "signatureAfterChange": "  void resizeHandle (int width, int height)", "diff": ["-\t* wrappable and the frame is resized, it does not", "+\t* wrappable and its container is resized, it does not", "-\tif (frameHandle != 0) {", "-\t\tOS.gtk_widget_set_size_request (frameHandle, width, height);", "-\t\tOS.gtk_widget_set_size_request (handle, -1, -1);", "-\t}", "+\tif (labelHandle != 0) OS.gtk_widget_set_size_request (labelHandle, -1, -1);", "+", "+\tif (frameHandle != 0) OS.gtk_widget_set_size_request (frameHandle, width, height);", "+\t", "-\t* wrappable and the frame is resized, it does not", "+\t* wrappable and its container is resized, it does not", "-\tif (frameHandle != 0) {", "-\t\tint labelWidth = OS.GTK_WIDGET_WIDTH (handle);", "-\t\tint labelHeight = OS.GTK_WIDGET_HEIGHT (handle);", "-\t\tOS.gtk_widget_set_size_request (handle, labelWidth, labelHeight);", "+\tif (labelHandle != 0) {", "+\t\tint labelWidth = OS.GTK_WIDGET_WIDTH (labelHandle);", "+\t\tint labelHeight = OS.GTK_WIDGET_HEIGHT (labelHandle);", "+\t\tOS.gtk_widget_set_size_request (labelHandle, labelWidth, labelHeight);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9eb8611426f2c7de83255b205b80d799", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Label.java", "commitBeforeChange": "07189d4e0dc321d7a67191afc9ffcca78baa583a", "commitAfterChange": "c50367f5a47e2a6effad63f64029f1b5d0e6e7f1", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "diff": ["-\tint width = OS.GTK_WIDGET_WIDTH (handle);", "-\tint height = OS.GTK_WIDGET_HEIGHT (handle);", "+\tboolean fixWrap = labelHandle != 0 && (style & SWT.WRAP) != 0;", "-\tif (labelHandle != 0) {", "+\tif (fixWrap) {", "-\t\tOS.gtk_widget_set_size_request (labelHandle, wHint, hHint);", "-\t}", "-\tGtkRequisition requisition = new GtkRequisition ();", "+\t\tOS.gtk_widget_set_size_request (labelHandle, -1, -1);", "+\t}\t", "+\tPoint size; ", "-\t\tint frameWidth = OS.GTK_WIDGET_WIDTH (frameHandle);", "-\t\tint frameHeight = OS.GTK_WIDGET_HEIGHT (frameHandle);", "-\t\tOS.gtk_widget_set_size_request (frameHandle, -1, -1);", "+\t\tint width = OS.GTK_WIDGET_WIDTH (handle);", "+\t\tint height = OS.GTK_WIDGET_HEIGHT (handle);", "-\t\tOS.gtk_widget_size_request (frameHandle, requisition);", "-\t\tOS.gtk_widget_set_size_request (frameHandle, frameWidth, frameHeight);", "+\t\tsize = computeNativeSize (frameHandle, -1, -1, changed);", "+\t\tOS.gtk_widget_set_size_request (handle, width, height);", "-\t\tOS.gtk_widget_set_size_request (handle, wHint, hHint);", "-\t\tOS.gtk_widget_size_request (handle, requisition);", "+\t\tsize = computeNativeSize (handle, wHint, hHint, changed);", "-\tif (labelHandle != 0) {", "+\tif (fixWrap) {", "-\tOS.gtk_widget_set_size_request (handle, width, height);", "-\treturn new Point (requisition.width, requisition.height);\t", "+\treturn size;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1d64947f5e44c0f3598e695a30b15714", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Label.java", "commitBeforeChange": "a7ab4775a0dd1ecf25babb8566d45be8e41ff574", "commitAfterChange": "0db7275306068cc1d18c406ecbe40df861c4e6a1", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "diff": ["-\tint width = OS.GTK_WIDGET_WIDTH (fixedHandle);", "-\tint height = OS.GTK_WIDGET_HEIGHT (fixedHandle);", "-\tint labelWidth = OS.GTK_WIDGET_WIDTH (handle);", "-\tint labelHeight = OS.GTK_WIDGET_HEIGHT (handle);", "+\tint width = OS.GTK_WIDGET_WIDTH (handle);", "+\tint height = OS.GTK_WIDGET_HEIGHT (handle);", "+\tint labelWidth = 0, labelHeight = 0;", "+\tif (labelHandle != 0) {", "+\t\tlabelWidth = OS.GTK_WIDGET_WIDTH (labelHandle);", "+\t\tlabelHeight = OS.GTK_WIDGET_HEIGHT (labelHandle);", "+\t\tOS.gtk_widget_set_size_request (labelHandle, -1, -1);", "+\t}", "+\t\tint frameWidth = OS.GTK_WIDGET_WIDTH (frameHandle);", "+\t\tint frameHeight = OS.GTK_WIDGET_HEIGHT (frameHandle);", "-\t\tOS.gtk_widget_set_size_request (frameHandle, width, height);", "+\t\tOS.gtk_widget_set_size_request (frameHandle, frameWidth, frameHeight);", "-\tOS.gtk_widget_set_size_request (handle, labelWidth, labelHeight);", "+\tif (labelHandle != 0) {", "+\t\tOS.gtk_widget_set_size_request (labelHandle, labelWidth, labelHeight);", "+\t}", "+\tOS.gtk_widget_set_size_request (handle, width, height);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fb477a3d6857ae98fd32ee5a4ed16b0c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Button.java", "commitBeforeChange": "32debd3b792f6dea3cbde01bcd2ea792207752aa", "commitAfterChange": "9b0ccc5ced24e16f6b8b75ef174d7898cf5deb38", "methodNumberBeforeChange": 28, "methodNumberAfterChange": 28, "signatureBeforeChange": "  int setBounds (int x, int y, int width, int height, boolean move, boolean resize)", "signatureAfterChange": "  int setBounds (int x, int y, int width, int height, boolean move, boolean resize)", "diff": ["-\t* alignment to fail. The fix is to set the child size to all available space", "-\t* excluding trimmings.", "+\t* alignment to fail. The fix is to set the child size to the size", "+\t* of the button.", "-\t\tint childHeight = 0, buttonWidth = 0, buttonHeight = 0;", "-\t\tGtkRequisition requisition = new GtkRequisition ();", "-\t\tOS.gtk_widget_size_request (handle, requisition);", "-\t\tbuttonWidth = requisition.width;", "-\t\tbuttonHeight = requisition.height;", "-\t\tOS.gtk_widget_size_request (boxHandle, requisition);", "-\t\tchildHeight = requisition.height;", "-\t\tOS.gtk_widget_set_size_request (handle, -1, -1);", "-\t\tOS.gtk_widget_set_size_request (boxHandle, -1, -1);", "-\t\tOS.gtk_widget_size_request (handle, requisition);", "-\t\tint trim = requisition.width;", "-\t\tOS.gtk_widget_size_request (boxHandle, requisition);", "-\t\ttrim -= requisition.width;", "-\t\tOS.gtk_widget_set_size_request (handle, buttonWidth, buttonHeight);", "-\t\tOS.gtk_widget_set_size_request (boxHandle, Math.max (1, width - trim), childHeight);", "+\t\tOS.gtk_widget_set_size_request (boxHandle, width, -1);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c4fff951ed8621e899f1df7e77fb131b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Label.java", "commitBeforeChange": "af5cc90dfe3ff4aef5885413a614e850fd7dc374", "commitAfterChange": "d5f77a7b9ca0f1cf143fb2365b5ebe0fba4a2200", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "diff": ["-\t// FIXME", "-\t// If the wHint is set, and the label has a border, then", "-\t// the GtkLabel will believe it has more width at its disposal", "-\t// than it actually does (by a few pixels).", "-\t// It is possible (but unlikely) that this will cause it to", "-\t// answer a smaller height.", "-\tOS.gtk_widget_set_size_request (frameHandle, -1, -1);", "-\tOS.gtk_widget_set_size_request (handle, wHint, hHint);", "+\tint labelWidth = OS.GTK_WIDGET_WIDTH (handle);", "+\tint labelHeight = OS.GTK_WIDGET_HEIGHT (handle);", "-\tOS.gtk_widget_size_request (frameHandle, requisition);", "-\tOS.gtk_widget_set_size_request (frameHandle, width, height);", "-\tOS.gtk_widget_set_size_request (handle, width, height);", "+\tif (frameHandle != 0) {", "+\t\tOS.gtk_widget_set_size_request (frameHandle, -1, -1);", "+\t\tOS.gtk_widget_set_size_request (handle, wHint, hHint);", "+\t\tOS.gtk_widget_size_request (frameHandle, requisition);", "+\t\tOS.gtk_widget_set_size_request (frameHandle, width, height);", "+\t} else {", "+\t\tOS.gtk_widget_set_size_request (handle, wHint, hHint);", "+\t\tOS.gtk_widget_size_request (handle, requisition);", "+\t}", "+\tOS.gtk_widget_set_size_request (handle, labelWidth, labelHeight);"]}], "num": 62614}