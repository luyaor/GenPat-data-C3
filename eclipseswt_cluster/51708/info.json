{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "45b612a549e48160ad467b91a49bb502", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fee834b31f376f6377a8e9f87cc0db8d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText2.java", "commitBeforeChange": "abd107467b5837fa0581218bc9beec69bc66414f", "commitAfterChange": "23c2bc8468cd1d7c6b5e538683fc80265d48ca63", "methodNumberBeforeChange": 254, "methodNumberAfterChange": 254, "signatureBeforeChange": " void setCaretLocation(Point location, int line, int direction)", "signatureAfterChange": " void setCaretLocation(Point location, int direction)", "diff": ["-void setCaretLocation(Point location, int line, int direction) {", "+void setCaretLocation(Point location, int direction) {", "+\t\tif (direction != caretDirection || !fixedLineHeight) {", "+\t\t\tint height;", "+\t\t\tif (fixedLineHeight) {", "+\t\t\t\theight = lineHeight;", "+\t\t\t} else {", "+\t\t\t\tint caretLine = content.getLineAtOffset(caretOffset);", "+\t\t\t\tif (!wordWrap) {", "+\t\t\t\t\theight = lineCache.getLineHeight(caretLine);", "+\t\t\t\t} else {", "+\t\t\t\t\tint lineOffset = content.getOffsetAtLine(caretLine);", "+\t\t\t\t\tString text = content.getLine(caretLine);", "+\t\t\t\t\tTextLayout layout = renderer.getTextLayout(text, lineOffset);", "+\t\t\t\t\tint lineInParagraph = layout.getLineIndex(caretOffset - lineOffset);", "+\t\t\t\t\theight = layout.getLineBounds(lineInParagraph).height;", "+\t\t\t\t\trenderer.disposeTextLayout(layout);", "+\t\t\t\t}", "+\t\t\t}", "+\t\t\tcaret.setSize(caret.getSize().x, height);", "+\t\t}", "-\t\t\tcaret.setSize(caret.getSize().x, lineHeight);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "59d6048a2025139f2c4a767eb830b583", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/common/org/eclipse/swt/browser/Mozilla.java", "commitBeforeChange": "a1d6e8a9f1641432384d0052540811bff2f7cabd", "commitAfterChange": "089765c48162c4c25a5c8d99d0ac366ef636fc6a", "methodNumberBeforeChange": 117, "methodNumberAfterChange": 117, "signatureBeforeChange": "  public boolean execute (String script)", "signatureAfterChange": "  public boolean execute (String script)", "diff": ["-\t\trc = serviceManager.GetServiceByContractID (aContractID, nsIScriptSecurityManager.NS_ISCRIPTSECURITYMANAGER_17_IID, result);", "+\t\trc = serviceManager.GetServiceByContractID (aContractID, nsIScriptSecurityManager.NS_ISCRIPTSECURITYMANAGER_24_IID, result);", "-\t\t\t\trc = interfaceRequestor.GetInterface (XPCOM.NS_ISCRIPTGLOBALOBJECT_17_IID, result);", "+\t\t\t\trc = interfaceRequestor.GetInterface (XPCOM.NS_ISCRIPTGLOBALOBJECT_24_IID, result);", "-\t\t\t\t\tif (IsPre_17) {", "+\t\t\t\t\tif (IsPre_24) {", "-\t\t\t\t\t\trc = (int/*64*/)XPCOM.nsIScriptGlobalObject17_EnsureScriptEnvironment (scriptGlobalObject);", "+\t\t\t\t\t\trc = (int/*64*/)XPCOM.nsIScriptGlobalObject24_EnsureScriptEnvironment (scriptGlobalObject);", "-\t\t\t\t\t\tif (IsPre_17) {", "+\t\t\t\t\t\tif (IsPre_24) {", "-\t\t\t\t\t\t\tscriptContext = XPCOM.nsIScriptGlobalObject17_GetScriptContext (scriptGlobalObject);", "+\t\t\t\t\t\t\tscriptContext = XPCOM.nsIScriptGlobalObject24_GetScriptContext (scriptGlobalObject);", "-\t\t\t\t\t\tnew nsISupports (scriptGlobalObject).Release ();", "-\t\t\t\t\t\t\trc = supports.QueryInterface (XPCOM.NS_ISCRIPTCONTEXT_17_IID, result);", "+\t\t\t\t\t\t\trc = supports.QueryInterface (XPCOM.NS_ISCRIPTCONTEXT_24_IID, result);", "-\t\t\t\t\t\t\t\tif (IsPre_17) {", "+\t\t\t\t\t\t\t\tif (IsPre_24) {", "-\t\t\t\t\t\t\t\t\tjsContext = XPCOM.nsIScriptContext17_GetNativeContext (scriptContext);", "+\t\t\t\t\t\t\t\t\tjsContext = XPCOM.nsIScriptContext24_GetNativeContext (scriptContext);", "-\t\t\t\t\t\t\t\t\tlong /*int*/ globalJSObject = XPCOM.JS_GetGlobalObject (jsLibPath, jsContext);", "+\t\t\t\t\t\t\t\t\tlong /*int*/ globalJSObject;", "+\t\t\t\t\t\t\t\t\tif (IsPre_24) {", "+\t\t\t\t\t\t\t\t\t\tglobalJSObject = XPCOM.JS_GetGlobalObject (jsLibPath, jsContext);", "+\t\t\t\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\t\t\t\tglobalJSObject = XPCOM.nsIScriptGlobalObject24_GetGlobalJSObject (scriptGlobalObject);", "+\t\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t\t\t\taContractID = MozillaDelegate.wcsToMbcs (null, XPCOM.NS_CONTEXTSTACK_CONTRACTID, true);", "-\t\t\t\t\t\t\t\t\t\trc = serviceManager.GetServiceByContractID (aContractID, nsIJSContextStack.NS_IJSCONTEXTSTACK_IID, result);", "-\t\t\t\t\t\t\t\t\t\tif (rc == XPCOM.NS_OK && result[0] != 0) {", "-\t\t\t\t\t\t\t\t\t\t\tnsIJSContextStack stack = new nsIJSContextStack (result[0]);", "-\t\t\t\t\t\t\t\t\t\t\tresult[0] = 0;", "-\t\t\t\t\t\t\t\t\t\t\trc = stack.Push (jsContext);", "-\t\t\t\t\t\t\t\t\t\t\tif (rc != XPCOM.NS_OK) {", "-\t\t\t\t\t\t\t\t\t\t\t\tstack.Release ();", "-\t\t\t\t\t\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\t\t\t\t\t\tboolean success = XPCOM.JS_EvaluateUCScriptForPrincipals (jsLibPath, jsContext, globalJSObject, principals, scriptChars, length, urlbytes, 0, isXULRunner190x ? result : null) != 0;", "+\t\t\t\t\t\t\t\t\t\tif (IsPre_24) {", "+\t\t\t\t\t\t\t\t\t\t\taContractID = MozillaDelegate.wcsToMbcs (null, XPCOM.NS_CONTEXTSTACK_CONTRACTID, true);", "+\t\t\t\t\t\t\t\t\t\t\trc = serviceManager.GetServiceByContractID (aContractID, nsIJSContextStack.NS_IJSCONTEXTSTACK_IID, result);", "+\t\t\t\t\t\t\t\t\t\t\tif (rc == XPCOM.NS_OK && result[0] != 0) {", "+\t\t\t\t\t\t\t\t\t\t\t\tnsIJSContextStack stack = new nsIJSContextStack (result[0]);", "-\t\t\t\t\t\t\t\t\t\t\t\trc = stack.Pop (result);", "-\t\t\t\t\t\t\t\t\t\t\t\tstack.Release ();", "-\t\t\t\t\t\t\t\t\t\t\t\t// should principals be Release()d too?", "-\t\t\t\t\t\t\t\t\t\t\t\tprincipal.Release ();", "-\t\t\t\t\t\t\t\t\t\t\t\tserviceManager.Release ();", "-\t\t\t\t\t\t\t\t\t\t\t\treturn success;", "+\t\t\t\t\t\t\t\t\t\t\t\trc = stack.Push (jsContext);", "+\t\t\t\t\t\t\t\t\t\t\t\tif (rc != XPCOM.NS_OK) {", "+\t\t\t\t\t\t\t\t\t\t\t\t\tstack.Release ();", "+\t\t\t\t\t\t\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\t\t\t\t\t\t\tboolean success = XPCOM.JS_EvaluateUCScriptForPrincipals (jsLibPath, jsContext, globalJSObject, principals, scriptChars, length, urlbytes, 0, !isXULRunner190x ? result : null) != 0;", "+\t\t\t\t\t\t\t\t\t\t\t\t\tresult[0] = 0;", "+\t\t\t\t\t\t\t\t\t\t\t\t\trc = stack.Pop (result);", "+\t\t\t\t\t\t\t\t\t\t\t\t\tstack.Release ();", "+\t\t\t\t\t\t\t\t\t\t\t\t\t// should principals be Release()d too?", "+\t\t\t\t\t\t\t\t\t\t\t\t\tnew nsISupports (scriptGlobalObject).Release ();", "+\t\t\t\t\t\t\t\t\t\t\t\t\tprincipal.Release ();", "+\t\t\t\t\t\t\t\t\t\t\t\t\tserviceManager.Release ();", "+\t\t\t\t\t\t\t\t\t\t\t\t\treturn success;", "+\t\t\t\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\t\t\t\t\tboolean success = XPCOM.JS_EvaluateUCScriptForPrincipals24 (jsLibPath, jsContext, globalJSObject, principals, scriptChars, length, urlbytes, 0, result) != 0;", "+\t\t\t\t\t\t\t\t\t\t\tnew nsISupports (scriptGlobalObject).Release ();", "+\t\t\t\t\t\t\t\t\t\t\t// should principals be Release()d too?", "+\t\t\t\t\t\t\t\t\t\t\tprincipal.Release ();", "+\t\t\t\t\t\t\t\t\t\t\tserviceManager.Release ();", "+\t\t\t\t\t\t\t\t\t\t\treturn success;", "+\t\t\t\t\tnew nsISupports (scriptGlobalObject).Release ();", "-\tint rc = webBrowser.QueryInterface (nsIWebNavigation.NS_IWEBNAVIGATION_IID, result);", "+\tint rc = webBrowser.QueryInterface (nsIWebNavigation.NS_IWEBNAVIGATION_24_IID, result);", "+\tif (rc != XPCOM.NS_OK) {", "+\t\trc = webBrowser.QueryInterface (nsIWebNavigation.NS_IWEBNAVIGATION_IID, result);", "+\t}"]}], "num": 51708}