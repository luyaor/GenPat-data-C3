{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "dd9d4459dfe07a29fdb880ac1ac3376b", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b1e664cda5ccb641b4a457be3c3f2de2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/win32/org/eclipse/swt/dnd/HTMLTransfer.java", "commitBeforeChange": "252c362d870ac5ba5b79ecc6310e91b91ad3cab9", "commitAfterChange": "1109f11766760201c2d74d1d7f7fe64397c7337e", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": " public Object nativeToJava(TransferData transferData)", "signatureAfterChange": " public Object nativeToJava(TransferData transferData)", "diff": ["-\t\t\tint codePage = OS.CP_UTF8;", "-\t\t\tint cchWideChar  = OS.MultiByteToWideChar (codePage, 0, lpMultiByteStr, -1, null, 0);", "+\t\t\t/* NOTE: CF_HTML uses UTF-8 encoding. ", "+\t\t\t * The MSDN documentation for MultiByteToWideChar states that dwFlags must be set to 0 for UTF-8.", "+\t\t\t * Otherwise, the function fails with ERROR_INVALID_FLAGS. */", "+\t\t\tint cchWideChar  = OS.MultiByteToWideChar (OS.CP_UTF8, 0, lpMultiByteStr, -1, null, 0);", "-\t\t\tOS.MultiByteToWideChar (codePage, 0, lpMultiByteStr, -1, lpWideCharStr, lpWideCharStr.length);", "+\t\t\tOS.MultiByteToWideChar (OS.CP_UTF8, 0, lpMultiByteStr, -1, lpWideCharStr, lpWideCharStr.length);", "-\t\t\tcchWideChar = OS.MultiByteToWideChar (codePage, 0, lpMultiByteStr+fragmentStart, fragmentEnd - fragmentStart, lpWideCharStr, lpWideCharStr.length);", "+\t\t\tcchWideChar = OS.MultiByteToWideChar (OS.CP_UTF8, 0, lpMultiByteStr+fragmentStart, fragmentEnd - fragmentStart, lpWideCharStr, lpWideCharStr.length);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "166446d28a09529446131857b1349257", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/win32/org/eclipse/swt/dnd/HTMLTransfer.java", "commitBeforeChange": "252c362d870ac5ba5b79ecc6310e91b91ad3cab9", "commitAfterChange": "1109f11766760201c2d74d1d7f7fe64397c7337e", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " public void javaToNative (Object object, TransferData transferData)", "signatureAfterChange": " public void javaToNative (Object object, TransferData transferData)", "diff": ["-\tint codePage = OS.CP_UTF8;", "-\tint cchMultiByte = OS.WideCharToMultiByte(codePage, 0, chars, -1, null, 0, null, null);", "+\t/* NOTE: CF_HTML uses UTF-8 encoding. */", "+\tint cchMultiByte = OS.WideCharToMultiByte(OS.CP_UTF8, 0, chars, -1, null, 0, null, null);", "-\tcchMultiByte = OS.WideCharToMultiByte(codePage, 0, chars, -1, null, 0, null, null);", "+\tcchMultiByte = OS.WideCharToMultiByte(OS.CP_UTF8, 0, chars, -1, null, 0, null, null);", "-\tOS.WideCharToMultiByte(codePage, 0, chars, -1, lpMultiByteStr, cchMultiByte, null, null);", "+\tOS.WideCharToMultiByte(OS.CP_UTF8, 0, chars, -1, lpMultiByteStr, cchMultiByte, null, null);"]}], "num": 6519}