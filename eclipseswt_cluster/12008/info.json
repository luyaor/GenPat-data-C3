{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "1ad4c4dcd5874cbfba4c6924d8c4d357", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4ed3a207b4704f46cf83dce41e2a280b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "4dde314b3cf3fc9cc15905868d5f5eecbcf34371", "commitAfterChange": "aafa4cc5a81b62175148e49a1f619737da1ce054", "methodNumberBeforeChange": 54, "methodNumberAfterChange": 54, "signatureBeforeChange": " public void getClipping (Region region)", "signatureAfterChange": " public void getClipping (Region region)", "diff": ["+\tif (data.gdipGraphics != 0) {", "+\t\tint rgn = Gdip.Region_new();", "+\t\tGdip.Graphics_GetClip(data.gdipGraphics, rgn);", "+\t\tint matrix = Gdip.Matrix_new(1, 0, 0, 1, 0, 0);", "+\t\tint identity = Gdip.Matrix_new(1, 0, 0, 1, 0, 0);", "+\t\tGdip.Graphics_GetTransform(data.gdipGraphics, matrix);", "+\t\tGdip.Graphics_SetTransform(data.gdipGraphics, identity);", "+\t\tint hRgn = Gdip.Region_GetHRGN(rgn, data.gdipGraphics);", "+\t\tGdip.Graphics_SetTransform(data.gdipGraphics, matrix);", "+\t\tGdip.Matrix_delete(identity);", "+\t\tGdip.Matrix_delete(matrix);", "+\t\tOS.CombineRgn(region.handle, hRgn, 0, OS.RGN_COPY);", "+\t\tGdip.Region_delete(rgn);", "+\t\treturn;", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c55fcd7813411fbc2d7580bb38e057e2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "1ed6e017318ca3de09b2840c45fb2e4dc1dfd857", "commitAfterChange": "b275691532da102f2915bcf30497b07b907d6359", "methodNumberBeforeChange": 72, "methodNumberAfterChange": 72, "signatureBeforeChange": "  void setClipping(int clipRgn)", "signatureAfterChange": "  void setClipping(int clipRgn)", "diff": ["+\tint gdipGraphics = data.gdipGraphics;", "-\t\tOS.GetWorldTransform(handle, xform);", "+\t\tif (gdipGraphics != 0) {", "+\t\t\tint matrix = Gdip.Matrix_new(1, 0, 0, 1, 0, 0);", "+\t\t\tGdip.Graphics_GetTransform(gdipGraphics, matrix);", "+\t\t\tGdip.Matrix_GetElements(matrix, xform);", "+\t\t\tGdip.Matrix_delete(matrix);", "+\t\t} else {", "+\t\t\tOS.GetWorldTransform(handle, xform);", "+\t\t}", "-\tif (data.gdipGraphics != 0) {", "+\tif (gdipGraphics != 0) {", "-\t\t\tGdip.Graphics_SetClip(data.gdipGraphics, hRgn, Gdip.CombineModeReplace);", "+\t\t\tGdip.Graphics_SetClip(gdipGraphics, hRgn, Gdip.CombineModeReplace);", "-\t\t\tGdip.Graphics_ResetClip(data.gdipGraphics);", "+\t\t\tGdip.Graphics_ResetClip(gdipGraphics);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9deb71f6d99d893ba1a4079a2a6256c2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "e43b017c765be860042e46e4db0466df572baf27", "commitAfterChange": "5fd4bfa1377c129093915acfce3927743f235276", "methodNumberBeforeChange": 73, "methodNumberAfterChange": 73, "signatureBeforeChange": "  void setClipping(int clipRgn)", "signatureAfterChange": "  void setClipping(int clipRgn)", "diff": ["-\tif (hRgn != 0) {", "-\t\tboolean result;", "-\t\tfloat[] xform = new float[]{1, 0, 0, 1, 0, 0};", "-\t\tif (gdipGraphics != 0) {", "-\t\t\tint matrix = Gdip.Matrix_new(1, 0, 0, 1, 0, 0);", "-\t\t\tresult = Gdip.Graphics_GetTransform(gdipGraphics, matrix) == 0;", "-\t\t\tGdip.Matrix_GetElements(matrix, xform);", "-\t\t\tGdip.Matrix_delete(matrix);", "-\t\t} else {", "-\t\t\tresult = OS.GetWorldTransform(handle, xform);", "-\t\t}", "-\t\tif (result && !isIdentity(xform)) {", "-\t\t\tint count = OS.GetRegionData(hRgn, 0, null);", "-\t\t\tint[] lpRgnData = new int[count / 4];", "-\t\t\tOS.GetRegionData(hRgn, count, lpRgnData);", "-\t\t\thRgn = OS.ExtCreateRegion(xform, count, lpRgnData);", "-\t\t}", "-\t}", "-\tOS.SelectClipRgn (handle, hRgn);", "-\t\t\tGdip.Graphics_SetClip(gdipGraphics, hRgn, Gdip.CombineModeReplace);", "+\t\t\tint region = Gdip.Region_new(hRgn);", "+\t\t\tGdip.Graphics_SetClip(gdipGraphics, region, Gdip.CombineModeReplace);", "+\t\t\tGdip.Region_delete(region);", "+\tOS.SelectClipRgn (handle, hRgn);"]}], "num": 12008}