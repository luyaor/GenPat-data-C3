{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5bd31fde8a43279601768c44b591ef6a", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "feaf683118ee1399acc0ef09e843b031", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "d5cdaaacff35a0f8569cc4dc02842b8272aef14d", "commitAfterChange": "9a13fc3eb8f53f7bf3d95751e59b8402c0170256", "methodNumberBeforeChange": 56, "methodNumberAfterChange": 56, "signatureBeforeChange": "  public Image getSystemImage (int id)", "signatureAfterChange": "  public Image getSystemImage (int id)", "diff": ["-\tint /*long*/ image = 0;", "+\tint /*long*/ imagePixmap = 0, imageMask = 0;", "-\t\tcase SWT.ICON_ERROR: {", "-\t\t\tif (errorImage == 0) {", "-\t\t\t\terrorImage = createImage (\"gtk-dialog-error\");", "+\t\tcase SWT.ICON_ERROR:", "+\t\t\tif (errorPixmap == 0) {", "+\t\t\t\tint /*long*/[] image = createImage (\"gtk-dialog-error\");", "+\t\t\t\tif (image != null) {", "+\t\t\t\t\terrorPixmap = image [0];", "+\t\t\t\t\terrorMask = image [1];", "+\t\t\t\t}", "-\t\t\timage = errorImage;", "+\t\t\timagePixmap = errorPixmap;", "+\t\t\timageMask = errorMask;", "-\t\t}", "-\t\tcase SWT.ICON_WORKING: {", "-\t\t\tif (infoImage == 0) {", "-\t\t\t\tinfoImage = createImage (\"gtk-dialog-info\");", "+\t\tcase SWT.ICON_WORKING:", "+\t\t\tif (infoPixmap == 0) {", "+\t\t\t\tint /*long*/[] image = createImage (\"gtk-dialog-info\");", "+\t\t\t\tif (image != null) {", "+\t\t\t\t\tinfoPixmap = image [0];", "+\t\t\t\t\tinfoMask = image [1];", "+\t\t\t\t}", "-\t\t\timage = infoImage;", "+\t\t\timagePixmap = infoPixmap;", "+\t\t\timageMask = infoMask;", "-\t\t}", "-\t\tcase SWT.ICON_QUESTION: {", "-\t\t\tif (questionImage == 0) {", "-\t\t\t\tquestionImage = createImage (\"gtk-dialog-question\");", "+\t\tcase SWT.ICON_QUESTION:", "+\t\t\tif (questionPixmap == 0) {", "+\t\t\t\tint /*long*/[] image = createImage (\"gtk-dialog-question\");", "+\t\t\t\tif (image != null) {", "+\t\t\t\t\tquestionPixmap = image [0];", "+\t\t\t\t\tquestionMask = image [1];", "+\t\t\t\t}", "-\t\t\timage = questionImage;", "+\t\t\timagePixmap = questionPixmap;", "+\t\t\timageMask = questionMask;", "-\t\t}", "-\t\tcase SWT.ICON_WARNING: {", "-\t\t\tif (warningImage == 0) {", "-\t\t\t\twarningImage = createImage (\"gtk-dialog-warning\");", "+\t\tcase SWT.ICON_WARNING:", "+\t\t\tif (warningPixmap == 0) {", "+\t\t\t\tint /*long*/[] image = createImage (\"gtk-dialog-warning\");", "+\t\t\t\tif (image != null) {", "+\t\t\t\t\twarningPixmap = image [0];", "+\t\t\t\t\twarningMask = image [1];", "+\t\t\t\t}", "-\t\t\timage = warningImage;", "+\t\t\timagePixmap = warningPixmap;", "+\t\t\timageMask = warningMask;", "-\t\t}", "-\tif (image == 0) return null;", "-\tint /*long*/[] pixmap_return = new int /*long*/[1];", "-\tint /*long*/[] mask_return = new int /*long*/[1];", "-\tOS.gdk_pixbuf_render_pixmap_and_mask (image, pixmap_return, mask_return, 128);", "-\treturn Image.gtk_new (this, SWT.ICON, pixmap_return [0], mask_return [0]);", "+\tif (imagePixmap == 0) return null;", "+\treturn Image.gtk_new (this, SWT.ICON, imagePixmap, imageMask);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6985f5153428a8e8a9cd5d77c294937f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/TaskBar.java", "commitBeforeChange": "e75f9a9601f49a9f2f46f2af60c9c1dbeec1ab11", "commitAfterChange": "1a606235eed4952b3f545771da3e4f6926e0b3ab", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "  int createShellLink (MenuItem item, String directory)", "signatureAfterChange": "  int createShellLink (MenuItem item, String directory)", "diff": ["-\t\thr = OS.VtblCall (20, pLink, EXE_PATH);", "+\t\tString exePath = (String)item.getData (EXE_PATH_KEY);", "+\t\tif (exePath != null) {", "+\t\t\tlength = exePath.length ();", "+\t\t\tbuffer = new char [length + 1];", "+\t\t\texePath.getChars (0, length, buffer, 0);", "+\t\t} else {", "+\t\t\tbuffer = EXE_PATH;", "+\t\t}", "+\t\thr = OS.VtblCall (20, pLink, buffer);", "-\t\ttext = Display.LAUNCHER_PREFIX + Display.TASKBAR_EVENT + item.id;", "+\t\ttext =  (String)item.getData (EXE_ARGS_KEY);", "+\t\tif (text == null) text = Display.LAUNCHER_PREFIX + Display.TASKBAR_EVENT + item.id;", "-\t\tImage image = item.getImage ();", "-\t\tif (image != null && directory != null) {", "-\t\t\tString imageFilename = directory + \"\\\\menu\" + item.id + \".ico\" ;", "-\t\t\tImageData data;", "-\t\t\tif (item.hBitmap != 0) {", "-\t\t\t\tImage image2 = Image.win32_new (display, SWT.BITMAP, item.hBitmap);", "-\t\t\t\tdata = image2.getImageData ();", "-\t\t\t} else {", "-\t\t\t\tdata = image.getImageData ();", "+\t\tString icon = (String)item.getData (ICON_KEY);", "+\t\tint index = 0;", "+\t\tif (icon != null) {", "+\t\t\ttext = (String)item.getData (ICON_INDEX_KEY);", "+\t\t\tif (text != null) index = Integer.parseInt (text);", "+\t\t} else {", "+\t\t\tImage image = item.getImage ();", "+\t\t\tif (image != null && directory != null) {", "+\t\t\t\ticon = directory + \"\\\\menu\" + item.id + \".ico\" ;", "+\t\t\t\tImageData data;", "+\t\t\t\tif (item.hBitmap != 0) {", "+\t\t\t\t\tImage image2 = Image.win32_new (display, SWT.BITMAP, item.hBitmap);", "+\t\t\t\t\tdata = image2.getImageData ();", "+\t\t\t\t} else {", "+\t\t\t\t\tdata = image.getImageData ();", "+\t\t\t\t}", "+\t\t\t\tImageLoader loader = new ImageLoader ();", "+\t\t\t\tloader.data = new ImageData [] {data};", "+\t\t\t\tloader.save (icon, SWT.IMAGE_ICO);", "-\t\t\tImageLoader loader = new ImageLoader ();", "-\t\t\tloader.data = new ImageData [] {data};", "-\t\t\tloader.save (imageFilename, SWT.IMAGE_ICO);", "-\t\t\tlength = imageFilename.length ();", "+\t\t}", "+\t\tif (icon != null) {", "+\t\t\tlength = icon.length ();", "-\t\t\timageFilename.getChars (0, length, buffer, 0);", "+\t\t\ticon.getChars (0, length, buffer, 0);", "-\t\t\thr = OS.VtblCall (17, pLink, buffer, 0);", "+\t\t\thr = OS.VtblCall (17, pLink, buffer, index);"]}], "num": 58076}