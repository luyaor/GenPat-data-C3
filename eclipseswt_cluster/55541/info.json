{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6ae6834d49fe67d9c3cd9cbd4d4a3afd", "detectedBy": ["DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4b52fd41004b142a4622b52319cd22ff", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "d1eac6a5bef58fbb4b941da8f18671ae3f07cf8d", "commitAfterChange": "7e5f5482b174a8578f83ebfd1f34a55411a644b3", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "  LRESULT CDDS_ITEMPOSTPAINT (NMTVCUSTOMDRAW nmcd, int wParam, int lParam)", "signatureAfterChange": "  LRESULT CDDS_ITEMPOSTPAINT (NMTVCUSTOMDRAW nmcd, int wParam, int lParam)", "diff": ["-\tboolean selected = false;", "+\tboolean selected = isItemSelected (nmcd);", "-\t\tTVITEM tvItem = new TVITEM ();", "-\t\ttvItem.mask = OS.TVIF_HANDLE | OS.TVIF_STATE;", "-\t\ttvItem.hItem = item.handle;", "-\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);", "-\t\tif ((tvItem.state & (OS.TVIS_SELECTED | OS.TVIS_DROPHILITED)) != 0) {", "-\t\t\tselected = true;", "-\t\t\t/*", "-\t\t\t* Feature in Windows.  When the mouse is pressed and the", "-\t\t\t* selection is first drawn for a tree, the previously", "-\t\t\t* selected item is redrawn but the the TVIS_SELECTED bits", "-\t\t\t* are not cleared.  When the user moves the mouse slightly", "-\t\t\t* and a drag and drop operation is not started, the item is", "-\t\t\t* drawn again and this time with TVIS_SELECTED is cleared.", "-\t\t\t* This means that an item that contains colored cells will", "-\t\t\t* not draw with the correct background until the mouse is", "-\t\t\t* moved.  The fix is to test for the selection colors and", "-\t\t\t* guess that the item is not selected.", "-\t\t\t* ", "-\t\t\t* NOTE: This code does not work when the foreground and", "-\t\t\t* background of the tree are set to the selection colors", "-\t\t\t* but this does not happen in a regular application.", "-\t\t\t*/", "-\t\t\tif (handle == OS.GetFocus ()) {", "-\t\t\t\tif (OS.GetTextColor (hDC) != OS.GetSysColor (OS.COLOR_HIGHLIGHTTEXT)) {", "-\t\t\t\t\tselected = false;", "-\t\t\t\t} else {", "-\t\t\t\t\tif (OS.GetBkColor (hDC) != OS.GetSysColor (OS.COLOR_HIGHLIGHT)) {", "-\t\t\t\t\t\tselected = false;", "-\t\t\t\t\t}", "-\t\t\t\t}", "-\t\t\t}", "-\t\t} else {", "-\t\t\t/*", "-\t\t\t* Feature in Windows.  When the mouse is pressed and the", "-\t\t\t* selection is first drawn for a tree, the item is drawn", "-\t\t\t* selected, but the TVIS_SELECTED bits for the item are", "-\t\t\t* not set.  When the user moves the mouse slightly and", "-\t\t\t* a drag and drop operation is not started, the item is", "-\t\t\t* drawn again and this time TVIS_SELECTED is set.  This", "-\t\t\t* means that an item that is in a tree that has the style", "-\t\t\t* TVS_FULLROWSELECT and that also contains colored cells", "-\t\t\t* will not draw the entire row selected until the user", "-\t\t\t* moves the mouse.  The fix is to test for the selection", "-\t\t\t* colors and guess that the item is selected.", "-\t\t\t* ", "-\t\t\t* NOTE: This code does not work when the foreground and", "-\t\t\t* background of the tree are set to the selection colors", "-\t\t\t* but this does not happen in a regular application.", "-\t\t\t*/", "-\t\t\tif (OS.GetTextColor (hDC) == OS.GetSysColor (OS.COLOR_HIGHLIGHTTEXT)) {", "-\t\t\t\tif (OS.GetBkColor (hDC) == OS.GetSysColor (OS.COLOR_HIGHLIGHT)) {", "-\t\t\t\t\tselected = true;", "-\t\t\t\t}", "-\t\t\t}", "-\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "726b8a45b0a137fe87fd0621ff3dace7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "d1eac6a5bef58fbb4b941da8f18671ae3f07cf8d", "commitAfterChange": "7e5f5482b174a8578f83ebfd1f34a55411a644b3", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "  LRESULT CDDS_ITEMPREPAINT (NMTVCUSTOMDRAW nmcd, int wParam, int lParam)", "signatureAfterChange": "  LRESULT CDDS_ITEMPREPAINT (NMTVCUSTOMDRAW nmcd, int wParam, int lParam)", "diff": ["-\t/*", "-\t* Feature in Windows.  When the mouse is pressed and the", "-\t* selection is first drawn for a tree, the previously", "-\t* selected item is redrawn but the the TVIS_SELECTED bits", "-\t* are not cleared.  When the user moves the mouse slightly", "-\t* and a drag and drop operation is not started, the item is", "-\t* drawn again and this time with TVIS_SELECTED is cleared.", "-\t* This means that an item that contains colored cells will", "-\t* not draw with the correct background until the mouse is", "-\t* moved.  The fix is to test for the selection colors and", "-\t* guess that the item is not selected.", "-\t* ", "-\t* NOTE: This code does not work when the foreground and", "-\t* background of the tree are set to the selection colors", "-\t* but this does not happen in a regular application.", "-\t*/", "-\tboolean selected = false;", "-\tif (OS.IsWindowEnabled (handle)) {", "-\t\tTVITEM tvItem = new TVITEM ();", "-\t\ttvItem.mask = OS.TVIF_HANDLE | OS.TVIF_STATE;", "-\t\ttvItem.hItem = item.handle;", "-\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);", "-\t\tif ((tvItem.state & (OS.TVIS_SELECTED | OS.TVIS_DROPHILITED)) != 0) {", "-\t\t\tselected = true;", "-\t\t\tif (handle == OS.GetFocus ()) {", "-\t\t\t\tif (OS.GetTextColor (hDC) != OS.GetSysColor (OS.COLOR_HIGHLIGHTTEXT)) {", "-\t\t\t\t\tselected = false;", "-\t\t\t\t} else {", "-\t\t\t\t\tif (OS.GetBkColor (hDC) != OS.GetSysColor (OS.COLOR_HIGHLIGHT)) {", "-\t\t\t\t\t\tselected = false;", "-\t\t\t\t\t}", "-\t\t\t\t}", "-\t\t\t}", "-\t\t}", "-\t}", "+\tboolean selected = isItemSelected (nmcd);"]}], "num": 55541}