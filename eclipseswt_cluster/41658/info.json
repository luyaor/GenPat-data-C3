{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "68ea6469f3a79f90022c6c70df94a8c6", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "148b17784060a29b024b14c4a52e4dc2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Tree2.java", "commitBeforeChange": "780deeed6b8d04c7f8256f57ee4b8ba670998a62", "commitAfterChange": "f6545bdd05853b79e0ef79ea07a3cd61ab49eba2", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 19, "signatureBeforeChange": "\r public TreeItem2 [] getSelection ()", "signatureAfterChange": "\r public TreeItem2 [] getSelection ()", "diff": ["-\t/* AW\r", "-\tif ((style & SWT.SINGLE) != 0) {\r", "-\t\tint hItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_CARET, 0);\r", "-\t\tif (hItem == 0) return new TreeItem2 [0];\r", "-\t\tTVITEM tvItem = new TVITEM ();\r", "-\t\ttvItem.mask = OS.TVIF_PARAM | OS.TVIF_STATE;\r", "-\t\ttvItem.hItem = hItem;\r", "-\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);\r", "-\t\tif ((tvItem.state & OS.TVIS_SELECTED) == 0) return new TreeItem2 [0];\r", "-\t\treturn new TreeItem2 [] {items [tvItem.lParam]};\r", "-\t}\r", "-\tint count = 0;\r", "-\tTreeItem2 [] guess = new TreeItem2 [8];\r", "-\tTVITEM tvItem = new TVITEM ();\r", "-\ttvItem.mask = OS.TVIF_PARAM | OS.TVIF_STATE;\r", "-\tint oldProc = OS.GetWindowLong (handle, OS.GWL_WNDPROC);\r", "-\tOS.SetWindowLong (handle, OS.GWL_WNDPROC, TreeProc);\r", "-\tfor (int i=0; i<items.length; i++) {\r", "-\t\tTreeItem2 item = items [i];\r", "-\t\tif (item != null) {\r", "-\t\t\ttvItem.hItem = item.handle;\r", "-\t\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);\r", "-\t\t\tif ((tvItem.state & OS.TVIS_SELECTED) != 0) {\r", "-\t\t\t\tif (count < guess.length) guess [count] = item;\r", "-\t\t\t\tcount++;\r", "-\t\t\t}\r", "-\t\t}\r", "-\t}\r", "-\tOS.SetWindowLong (handle, OS.GWL_WNDPROC, oldProc);\r", "-\tif (count == 0) return new TreeItem2 [0];\r", "-\tif (count == guess.length) return guess;\r", "-\tTreeItem2 [] result = new TreeItem2 [count];\r", "-\tif (count < guess.length) {\r", "-\t\tSystem.arraycopy (guess, 0, result, 0, count);\r", "-\t\treturn result;\r", "-\t}\r", "-\tOS.SetWindowLong (handle, OS.GWL_WNDPROC, TreeProc);\r", "-\tint index = 0;\r", "-\tfor (int i=0; i<items.length; i++) {\r", "-\t\tTreeItem2 item = items [i];\r", "-\t\tif (item != null) {\r", "-\t\t\ttvItem.hItem = item.handle;\r", "-\t\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);\r", "-\t\t\tif ((tvItem.state & OS.TVIS_SELECTED) != 0) {\r", "-\t\t\t\tresult [index++] = item;\r", "-\t\t\t}\r", "-\t\t}\r", "-\t}\r", "-\tOS.SetWindowLong (handle, OS.GWL_WNDPROC, oldProc);\r", "+\tint[] ids= MacUtil.getSelectionIDs(handle, OS.kDataBrowserNoItem, true);\r", "+\tTreeItem2[] result= new TreeItem2[ids.length];\r", "+\tfor (int i= 0; i < ids.length; i++)\r", "+\t\tresult[i]= find(ids[i]);\r", "-\t*/\r", "-\t\r", "-\treturn new TreeItem2 [0];\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "794a0172e2bf7c83c8ea2fecdf7bf3c5", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "1d28c230c8521595a193c506a7bcba33dc702ce0", "commitAfterChange": "924f2b3baababf87e9078e95ca545c0457405129", "methodNumberBeforeChange": 50, "methodNumberAfterChange": 50, "signatureBeforeChange": " int XButtonRelease (int w, int client_data, int call_data, int continue_to_dispatch)", "signatureAfterChange": " int XButtonRelease (int w, int client_data, int call_data, int continue_to_dispatch)", "diff": ["-\tif (xEvent.button == 1) {", "-\t\tint [] argList = {OS.XmNwidth, 0, OS.XmNheight, 0};", "-\t\tOS.XtGetValues (handle, argList, argList.length / 2);", "-\t\tint width = argList [1], height = argList [3];", "-\t\tif (0 <= xEvent.x && xEvent.x < width && 0 <= xEvent.y && xEvent.y < height) {", "-\t\t\tclick (xEvent.x > width - 12, xEvent.state);", "-\t\t}", "-\t\tsetDrawPressed(set);", "-\t}", "-", "-\tparent.XButtonRelease (w, client_data, call_data, continue_to_dispatch);", "-", "-\treturn 0;", "+\tint result = parent.XButtonRelease (w, client_data, call_data, continue_to_dispatch);", "+\txEvent.x -= argList [1];  xEvent.y -= argList [3];", "+\tif (result == 0 && xEvent.button == 1) {", "+\t\tint [] argList2 = {OS.XmNwidth, 0, OS.XmNheight, 0};", "+\t\tOS.XtGetValues (handle, argList2, argList2.length / 2);", "+\t\tint width = argList2 [1], height = argList2 [3];", "+\t\tif (0 <= xEvent.x && xEvent.x < width && 0 <= xEvent.y && xEvent.y < height) {", "+\t\t\tclick (xEvent.x > width - 12, xEvent.state);", "+\t\t}", "+\t\tsetDrawPressed (set);", "+\t}", "+\treturn result;"]}], "num": 41658}