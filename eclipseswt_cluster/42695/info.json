{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e5863236428429d48c32d06470913805", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "752435702035131e1776294c8506d247", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Accessibility/carbon/org/eclipse/swt/accessibility/Accessible.java", "commitBeforeChange": "657c2bf6b61467747ad1fb36bf670ce770cbdc87", "commitAfterChange": "4969d1adad01d61d7e4d924f66bbdcbf37351dd4", "methodNumberBeforeChange": 28, "methodNumberAfterChange": 28, "signatureBeforeChange": " \t \tint getDescriptionAttribute (int nextHandler, int theEvent, int userData)", "signatureAfterChange": " \t \tint getDescriptionAttribute (int nextHandler, int theEvent, int userData)", "diff": ["-\t\treturn getAttribute (nextHandler, theEvent, userData);", "+\t\tint code = OS.CallNextEventHandler (nextHandler, theEvent);", "+\t\tString osDescriptionAttribute = null;", "+\t\tint [] stringRef = new int [1];", "+\t\tif (code == OS.noErr) {", "+\t\t\tint status = OS.GetEventParameter (theEvent, OS.kEventParamAccessibleAttributeValue, OS.typeCFStringRef, null, 4, null, stringRef);", "+\t\t\tif (status == OS.noErr) {", "+\t\t\t\tosDescriptionAttribute = stringRefToString (stringRef [0]);", "+\t\t\t}", "+\t\t}", "+\t\tAccessibleEvent event = new AccessibleEvent(this);", "+\t\tevent.childID = getChildIDFromEvent(theEvent);", "+\t\tevent.result = osDescriptionAttribute;", "+\t\tfor (int i = 0; i < accessibleListeners.size(); i++) {", "+\t\t\tAccessibleListener listener = (AccessibleListener) accessibleListeners.elementAt(i);", "+\t\t\tlistener.getName(event);", "+\t\t}", "+\t\tif (event.result != null) {", "+\t\t\tstringRef [0] = stringToStringRef (event.result);", "+\t\t\tif (stringRef [0] != 0) {", "+\t\t\t\tOS.SetEventParameter (theEvent, OS.kEventParamAccessibleAttributeValue, OS.typeCFStringRef, 4, stringRef);", "+\t\t\t\tOS.CFRelease(stringRef [0]);", "+\t\t\t\treturn OS.noErr;", "+\t\t\t}", "+\t\t}", "+\t\treturn code;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2da6c3551bb624cc4ce4f12e8be1a50f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Accessibility/carbon/org/eclipse/swt/accessibility/Accessible.java", "commitBeforeChange": "e38f7ba08e4cd9896dddbc5916c5187c2e1b63eb", "commitAfterChange": "7349d1b65ee9a9edeeac8e2e96a33b2c8d655b80", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": " \t \tint getRoleAttribute (int nextHandler, int theEvent, int userData)", "signatureAfterChange": " \t \tint getRoleAttribute (int nextHandler, int theEvent, int userData)", "diff": ["-\t\tint code = OS.CallNextEventHandler (nextHandler, theEvent);", "-\t\tosRoleAttribute = null;", "-\t\tint [] stringRef = new int [1];", "-\t\tif (code == OS.noErr) {", "-\t\t\tOS.GetEventParameter (theEvent, OS.kEventParamAccessibleAttributeValue, OS.typeCFStringRef, null, 4, null, stringRef);", "-\t\t\tosRoleAttribute = stringRefToString (stringRef [0]);", "-\t\t}", "-\t\tevent.detail = osToRole(osRoleAttribute);", "+\t\tevent.detail = -1;", "-\t\tstringRef [0] = stringToStringRef (roleToOs (event.detail));", "-\t\tif (stringRef [0] == 0) return code;", "-\t\tOS.SetEventParameter (theEvent, OS.kEventParamAccessibleAttributeValue, OS.typeCFStringRef, 4, stringRef);", "-\t\treturn OS.noErr;", "+\t\tif (event.detail != -1) {", "+\t\t\tString appRole = roleToOs (event.detail);", "+\t\t\tint index = appRole.indexOf(':');", "+\t\t\tif (index != -1) appRole = appRole.substring(0, index);", "+\t\t\tint stringRef = stringToStringRef (appRole);", "+\t\t\tif (stringRef != 0) {", "+\t\t\t\tOS.SetEventParameter (theEvent, OS.kEventParamAccessibleAttributeValue, OS.typeCFStringRef, 4, new int [] {stringRef});", "+\t\t\t\tOS.CFRelease(stringRef);", "+\t\t\t\treturn OS.noErr;", "+\t\t\t}", "+\t\t}", "+\t\treturn OS.CallNextEventHandler (nextHandler, theEvent);"]}], "num": 42695}