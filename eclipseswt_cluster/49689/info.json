{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5050583fded572e2a567e5e4576ea48d", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ab40020c50473ba001bc3b49ba326e6a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "f5a0d3582f75308849543d0ff0517400d5971efe", "commitAfterChange": "6a8f64aba74c6fc7a655a14fc7ca54a1aef70af2", "methodNumberBeforeChange": 72, "methodNumberAfterChange": 72, "signatureBeforeChange": "  void setBackgroundTransparent (boolean transparent)", "signatureAfterChange": "  void setBackgroundTransparent (boolean transparent)", "diff": ["+\t/*", "+\t* Bug in Windows.  When the table has the extended style", "+\t* LVS_EX_FULLROWSELECT and LVM_SETBKCOLOR is used with", "+\t* CLR_NONE to make the table transparent, Windows draws", "+\t* a black rectangle around the first column.  The fix is", "+\t* to set and clear LVS_EX_FULLROWSELECT.", "+\t*/", "-\t\t\tOS.SendMessage (handle, OS.LVM_SETBKCOLOR, 0, OS.CLR_NONE);", "-\t\t\tOS.SendMessage (handle, OS.LVM_SETTEXTBKCOLOR, 0, OS.CLR_NONE);", "+\t\t\tOS.SendMessage (handle, OS.LVM_SETBKCOLOR, 0, OS.CLR_NONE);", "+\t\t\tOS.SendMessage (handle, OS.LVM_SETTEXTBKCOLOR, 0, OS.CLR_NONE);", "+\t\t\t", "+\t\t\t/* Clear LVS_EX_FULLROWSELECT */", "+\t\t\tif ((style & SWT.FULL_SELECTION) != 0) {", "+\t\t\t\tint bits = OS.LVS_EX_FULLROWSELECT;", "+\t\t\t\tOS.SendMessage (handle, OS.LVM_SETEXTENDEDLISTVIEWSTYLE, bits, 0);", "+\t\t\t}", "+\t\t\t", "+\t\t\t/* Set LVS_EX_FULLROWSELECT */", "+\t\t\tif ((style & SWT.FULL_SELECTION) != 0) {", "+\t\t\t\tif (!hooks (SWT.EraseItem) && !hooks (SWT.PaintItem)) {", "+\t\t\t\t\tint bits = OS.LVS_EX_FULLROWSELECT;", "+\t\t\t\t\tOS.SendMessage (handle, OS.LVM_SETEXTENDEDLISTVIEWSTYLE, bits, bits);", "+\t\t\t\t}", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4e289c2e609480d3797f051ba40a3a8a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "1b4bf2560a13cbe7bbaefe761d35208d64534690", "commitAfterChange": "4dfb9b2e7115a7b57c3f5b8a9e47ea812d940f92", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 8, "signatureBeforeChange": "  LRESULT CDDS_ITEMPREPAINT (NMLVCUSTOMDRAW nmcd, int wParam, int lParam)", "signatureAfterChange": "  LRESULT CDDS_ITEMPREPAINT (NMLVCUSTOMDRAW nmcd, int wParam, int lParam)", "diff": ["+", "+\t/*", "+\t* Bug in Windows.  When the table has the extended style", "+\t* LVS_EX_FULLROWSELECT and LVM_SETBKCOLOR is used with", "+\t* CLR_NONE to make the table transparent, Windows fills", "+\t* a black rectangle around any column that contains an", "+\t* image.  The fix is clear LVS_EX_FULLROWSELECT during", "+\t* custom draw.", "+\t* ", "+\t* NOTE: It is also necessary to clear CDIS_FOCUS to stop", "+\t* the table from drawing the focus rectangle around the", "+\t* first item instead of the full row.", "+\t*/", "+\tif (!ignoreCustomDraw) {", "+\t\tif (OS.IsWindowVisible (handle) && OS.IsWindowEnabled (handle)) {", "+\t\t\tif (!explorerTheme && (style & SWT.FULL_SELECTION) != 0) {", "+\t\t\t\tif (OS.SendMessage (handle, OS.LVM_GETBKCOLOR, 0, 0) == OS.CLR_NONE) {", "+\t\t\t\t\tint dwExStyle = OS.SendMessage (handle, OS.LVM_GETEXTENDEDLISTVIEWSTYLE, 0, 0);", "+\t\t\t\t\tif ((dwExStyle & OS.LVS_EX_FULLROWSELECT) == 0) {", "+\t\t\t\t\t\tif ((nmcd.uItemState & OS.CDIS_FOCUS) != 0) {", "+\t\t\t\t\t\t\tnmcd.uItemState &= ~OS.CDIS_FOCUS;", "+\t\t\t\t\t\t\tOS.MoveMemory (lParam, nmcd, NMLVCUSTOMDRAW.sizeof);", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t}", "+\t\t}", "+\t}"]}], "num": 49689}