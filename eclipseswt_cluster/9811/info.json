{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2994f9a1a464385688e8028f1a173486", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a47aab819a1c1bfe2c4a4821d6c62d98", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "3d49220c008438fa7a1e78924469122fc1ea3cbe", "commitAfterChange": "e7613587b2c5b474d68f0eb17e38585b8b989c06", "methodNumberBeforeChange": 48, "methodNumberAfterChange": 48, "signatureBeforeChange": "  int gtk_focus_in_event (int widget, int event)", "signatureAfterChange": "  int gtk_focus_in_event (int widget, int event)", "diff": ["+\t/*", "+\t* Feature in GTK. The GTK combo box popup under some window managers is ", "+\t* implemented as a GTK_MENU. When it pops up, it causes the combo box shell to", "+\t* lose focus and no focus in is received for the menu. As a result, no active shell", "+\t* is set while the pop up is present. The fix is to check the current grab handle", "+\t* and see if it is a GTK_MENU. If it is, we set the ignoreActivate flag on Display", "+\t* and leave the current active shell in place. When the menu pops down, the focus in", "+\t* event received by the shell will be ignored. The ignoreActivate is reset for the next", "+\t* time.", "+\t*/", "+\tif (display.ignoreActivate) { ", "+\t\tdisplay.ignoreActivate = false;", "+\t\treturn 0;", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d887a34fa7f14e3b38934b7df3a43d27", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "9c5d567d04aa850b8991464cda209f35362e7d77", "commitAfterChange": "f1be65ba0f39f9cd9ae7b1430176adac122402ac", "methodNumberBeforeChange": 122, "methodNumberAfterChange": 122, "signatureBeforeChange": "  int gtk_event_after (int widget, int gdkEvent)", "signatureAfterChange": "  int gtk_event_after (int widget, int gdkEvent)", "diff": ["+", "+\t\t\t/*", "+\t\t\t * Feature in GTK. The GTK combo box popup under some window managers", "+\t\t\t * is implemented as a GTK_MENU.  When it pops up, it causes the combo", "+\t\t\t * box to lose focus when focus is received for the menu.  The", "+\t\t\t * fix is to check the current grab handle and see if it is a GTK_MENU", "+\t\t\t * and ignore the focus event when the menu is both shown and hidden.", "+\t\t\t */", "+\t\t\tDisplay display = this.display;", "+\t\t\tif (gdkEventFocus.in != 0) {", "+\t\t\t\tif (display.ignoreFocus) { ", "+\t\t\t\t\tdisplay.ignoreFocus = false;", "+\t\t\t\t\tbreak;", "+\t\t\t\t}", "+\t\t\t} else {", "+\t\t\t\tdisplay.ignoreFocus = false;", "+\t\t\t\tint /*long*/ grabHandle = OS.gtk_grab_get_current ();", "+\t\t\t\tif (grabHandle != 0) {", "+\t\t\t\t\tif (OS.G_OBJECT_TYPE (grabHandle) == OS.GTK_TYPE_MENU ()) {", "+\t\t\t\t\t\tdisplay.ignoreFocus = true;", "+\t\t\t\t\t}", "+\t\t\t\t\tbreak;", "+\t\t\t\t}", "+\t\t\t}", "+"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d32b5ad41b59ab14f1dc692e018e09be", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "3d49220c008438fa7a1e78924469122fc1ea3cbe", "commitAfterChange": "e7613587b2c5b474d68f0eb17e38585b8b989c06", "methodNumberBeforeChange": 49, "methodNumberAfterChange": 49, "signatureBeforeChange": "  int gtk_focus_out_event (int widget, int event)", "signatureAfterChange": "  int gtk_focus_out_event (int widget, int event)", "diff": ["+\t/*", "+\t* Feature in GTK. The GTK combo box popup under some window managers is ", "+\t* implemented as a GTK_MENU. When it pops up, it causes the combo box shell to", "+\t* lose focus and no focus in is received for the menu. As a result, no active shell", "+\t* is set while the pop up is present. The fix is to check the current grab handle", "+\t* and see if it is a GTK_MENU. If it is, we set the ignoreActivate flag on Display", "+\t* and leave the current active shell in place. When the menu pops down, the focus in", "+\t* event received by the shell will be ignored.", "+\t*/", "+\tdisplay.ignoreActivate = false;", "+\tint grabHandle = OS.gtk_grab_get_current ();", "+\tif (grabHandle != 0) {", "+\t\tif (OS.G_OBJECT_TYPE(grabHandle) == OS.GTK_TYPE_MENU()) display.ignoreActivate = true;", "+\t\treturn 0;", "+\t}"]}], "num": 9811}