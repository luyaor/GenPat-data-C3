{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "53d84fda7ed838691e93bf5c8032148b", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "acd6ad7a32526989d4f75ecdbf6a3805", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Menu.java", "commitBeforeChange": "a095e03c33e1825b6187bad9ee734eda7553de2b", "commitAfterChange": "fca43292af30b16d820cf4a1b6c2720d3aeacee5", "methodNumberBeforeChange": 40, "methodNumberAfterChange": 40, "signatureBeforeChange": " public void setVisible (boolean visible)", "signatureAfterChange": " public void setVisible (boolean visible)", "diff": ["+\tif (visible == OS.GTK_WIDGET_MAPPED (handle)) return;\r", "-\t\t\t*/ \r", "+\t\t\t*/\r", "-\t\t\tint barHandle = OS.gtk_menu_bar_new ();\r", "+\t\t\tbarHandle = OS.gtk_menu_bar_new ();\r", "+\t\t\tif (barHandle == 0) error (SWT.ERROR_NO_HANDLES);\r", "+\t\t\tif (itemHandle == 0) error (SWT.ERROR_NO_HANDLES);\r", "-\t\t\tCallback GtkMenuBarEventFunc = new Callback (this, \"GtkMenuBarEventFunc\", 3);\r", "-\t\t\tOS.gtk_signal_connect (barHandle, OS.event_after, GtkMenuBarEventFunc.getAddress(), 0);\r", "-\t\t\tOS.gtk_signal_connect (barHandle, OS.button_press_event, GtkMenuBarEventFunc.getAddress(), SWT.MouseDown);\r", "-\t\t\t\r", "+\t\t\tbarHandleCallback = new Callback (this, \"GtkMenuBarEventFunc\", 3);\r", "+\t\t\tint barHandleProc = barHandleCallback.getAddress ();\r", "+\t\t\tif (barHandleProc == 0) error (SWT.ERROR_NO_MORE_CALLBACKS);\r", "+\t\t\tOS.gtk_signal_connect (barHandle, OS.event_after, barHandleProc, 0);\r", "+\t\t\tOS.gtk_signal_connect (barHandle, OS.button_press_event, barHandleProc, SWT.MouseDown);\r", "+\r", "-\t\t\t\r", "-\t\t\t/* Run an event loop */\r", "-\t\t\tDisplay display = getDisplay ();\r", "-\t\t\twhile (!isDisposed () && getVisible ()) {\r", "-\t\t\t\tif (!display.readAndDispatch()) display.sleep ();\r", "-\t\t\t}\r", "-\t\t\t\r", "-\t\t\t/* Release resources and unwanted grabs */\r", "-\t\t\tOS.gdk_pointer_ungrab (OS.GDK_CURRENT_TIME);\r", "-\t\t\tOS.gtk_widget_destroy (barHandle);\t\t\t\r", "-\t\t\tGtkMenuBarEventFunc.dispose ();\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9b425aa98a22f3a6921508db32719550", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Decorations.java", "commitBeforeChange": "d063aea08192e0213a4b6532b27dc31f9dce6e1b", "commitAfterChange": "48ef0056097e65cbe2f990bf125c93e76b95da33", "methodNumberBeforeChange": 32, "methodNumberAfterChange": 23, "signatureBeforeChange": " public void setMenuBar (Menu menu)", "signatureAfterChange": "  public void setMenuBar (Menu menu)", "diff": ["- */", "+", "-", "-\t/* Ensure the new menu bar is correctly enabled */", "-\tif (menuBar != null) {", "-\t\tif (!isEnabled () && menuBar.getEnabled ()) {", "-\t\t\tpropagateHandle (true, menuBar.handle);", "-\t\t}", "-\t}", "-\tif (menu != null) {", "-\t\tif (!isEnabled ()) {", "-\t\t\tpropagateHandle (false, menu.handle);", "-\t\t}", "-\t}", "-", "-\t/*", "-\t* Bug in Motif.  When a XmMainWindowSetAreas () is used", "-\t* to replace an existing menu, both menus must be managed", "-\t* before the call to XmMainWindowSetAreas () or the new", "-\t* menu will not be layed out properly.", "-\t*/", "-\t/* AW", "-\tint newHandle = (menu != null) ? menu.handle : 0;", "-\tint oldHandle = (menuBar != null) ? menuBar.handle : 0;", "-\t*/", "-    /* AW", "-\tint hHandle = (horizontalBar != null) ? horizontalBar.handle : 0;", "-\tint vHandle = (verticalBar != null) ? verticalBar.handle : 0;", "-\tif (newHandle != 0) {", "-\t\tOS.XtSetMappedWhenManaged (newHandle, false);", "-\t\tOS.XtManageChild (newHandle);", "-\t}", "-\tint clientHandle = (formHandle != 0) ? formHandle : handle;", "-\tOS.XmMainWindowSetAreas (scrolledHandle, newHandle, 0, hHandle, vHandle, clientHandle);", "-\tif (oldHandle != 0) OS.XtUnmanageChild (oldHandle);", "-\tif (newHandle != 0) {", "-\t\tOS.XtSetMappedWhenManaged (newHandle, true);", "-\t}", "-    */", "-\t/*", "-\t* Bug in Motif.  When a menu bar is removed after the", "-\t* main window has been realized, the main window does", "-\t* not layout the new menu bar or the work window.", "-\t* The fix is to force a layout by temporarily resizing", "-\t* the main window.", "-\t*/", "-    /* AW", "-\tif (newHandle == 0 && OS.XtIsRealized (scrolledHandle)) {", "-\t\tint [] argList = {OS.XmNwidth, 0, OS.XmNheight, 0, OS.XmNborderWidth, 0};", "-\t\tOS.XtGetValues (scrolledHandle, argList, argList.length / 2);", "-\t\tOS.XtResizeWidget (scrolledHandle, argList [1] + 1, argList [3], argList [5]);", "-\t\tOS.XtResizeWidget (scrolledHandle, argList [1], argList [3], argList [5]);", "-\t}", "-    */", "+\tDisplay display = getDisplay ();", "+\tdisplay.updateMenuBar ();"]}], "num": 63368}