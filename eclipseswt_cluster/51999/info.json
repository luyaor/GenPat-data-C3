{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "bbf76645df989d192999db51e9d5ab85", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9801b3a473ae8c62a2e21757f2beab9b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "ec3ae8ce3c5aa12c149338328bb9d4dafe04eefa", "commitAfterChange": "bc954da7a2612121429c0cff2ba2d4a83d2019fb", "methodNumberBeforeChange": 69, "methodNumberAfterChange": 69, "signatureBeforeChange": "  void releaseHandle ()", "signatureAfterChange": "  void releaseHandle ()", "diff": ["-\t\tint /*long*/ [] embedCount = new int /*long*/ [1];", "-\t\tOS.object_getInstanceVariable(view.window().id, Display.SWT_EMBED_FRAMES, embedCount);", "-\t\tembedCount[0]--;", "-\t\tOS.object_setInstanceVariable(view.window().id, Display.SWT_EMBED_FRAMES, embedCount[0]);", "+\t\tInteger embedCount = (Integer) windowEmbedCounts.get(view.window());", "+\t\tif (embedCount == null) embedCount = new Integer(0);", "+\t\tembedCount = new Integer(embedCount.intValue() - 1);", "+\t\twindowEmbedCounts.put(view.window(), embedCount);", "-\t\tif (embedCount[0] <= 0) OS.object_setClass(view.window().id, currWindowClass);", "+\t\tif (embedCount.intValue() <= 0) {", "+\t\t\twindowEmbedCounts.remove(view.window());", "+\t\t\tOS.object_setClass(view.window().id, currWindowClass);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "940a9d37592ce5797c90acb10b422dd8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "ec3ae8ce3c5aa12c149338328bb9d4dafe04eefa", "commitAfterChange": "bc954da7a2612121429c0cff2ba2d4a83d2019fb", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 22, "signatureBeforeChange": "  void createHandle ()", "signatureAfterChange": "  void createHandle ()", "diff": ["-\t\t\tint /*long*/ embeddedSubclass = display.createWindowSubclass(currWindowClass, \"SWTAWTWindow\");", "+\t\t\tint /*long*/ embeddedSubclass = display.createWindowSubclass(currWindowClass, \"SWTAWTWindow\", true);", "-\t\tint /*long*/ [] embedCount = new int /*long*/ [1];", "-\t\tOS.object_getInstanceVariable(hostWindow.id, Display.SWT_EMBED_FRAMES, embedCount);", "-\t\tembedCount[0]++;", "-\t\tOS.object_setInstanceVariable(hostWindow.id, Display.SWT_EMBED_FRAMES, embedCount[0]);", "+\t\tif (windowEmbedCounts == null) windowEmbedCounts = new HashMap();", "+\t\tInteger embedCount = (Integer) windowEmbedCounts.get(hostWindow);", "+\t\tif (embedCount == null) embedCount = new Integer(0);", "+\t\tembedCount = new Integer(embedCount.intValue() + 1);", "+\t\twindowEmbedCounts.put(hostWindow, embedCount);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "df4d6cb66d80447ead1942d357d12e4e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "dd4423d6a25e296b3131820cf1f98771823ddd19", "commitAfterChange": "9559d48b4912b67ace5428d33abe4c7215a1d5a0", "methodNumberBeforeChange": 69, "methodNumberAfterChange": 70, "signatureBeforeChange": "  void releaseHandle ()", "signatureAfterChange": "  void releaseHandle ()", "diff": ["-\tNSNotificationCenter.defaultCenter().removeObserver(windowDelegate);", "+\tremoveObserversFromWindow();", "-\t", "-\tif (window == null && currWindowClass != 0) {", "-\t\tInteger embedCount = (Integer) windowEmbedCounts.get(view.window());", "-\t\tif (embedCount == null) embedCount = new Integer(0);", "-\t\tembedCount = new Integer(embedCount.intValue() - 1);", "-\t\twindowEmbedCounts.put(view.window(), embedCount);", "-\t\t", "-\t\tif (embedCount.intValue() <= 0) {", "-\t\t\twindowEmbedCounts.remove(view.window());", "-\t\t\tOS.object_setClass(view.window().id, currWindowClass);", "-\t\t}", "-\t}", "-\t", "+"]}], "num": 51999}