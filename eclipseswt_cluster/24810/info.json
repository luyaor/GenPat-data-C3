{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5875c9590405e89d0daf4481e666426b", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0ad322555f65dac49abc260e508fdad1", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "bf221f66369037ceea33728d5ed71d69549dd596", "commitAfterChange": "73be0ec89889e2c1322c1bfa09d83f81f689ab7f", "methodNumberBeforeChange": 76, "methodNumberAfterChange": 77, "signatureBeforeChange": " void doLineUp(boolean select)", "signatureAfterChange": " void doLineUp(boolean select)", "diff": ["-\tint caretLine = getCaretLine();", "-\tint y = 0;", "-\tboolean firstLine;", "+\tint caretLine = getCaretLine(), y = 0;", "+\tboolean firstLine = false;", "-\t\tint lineIndex = layout.getLineIndex(offsetInLine);", "-\t\tint[] offsets = layout.getLineOffsets();", "-\t\tif (lineIndex != 0 && offsetInLine == offsets[lineIndex] && caretAlignment == PREVIOUS_OFFSET_TRAILING) {", "-\t\t\tlineIndex--;", "+\t\tint lineIndex = getVisualLineIndex(layout, offsetInLine);", "+\t\tif (lineIndex == 0) {", "+\t\t\tfirstLine = caretLine == 0;", "+\t\t\tif (!firstLine) {", "+\t\t\t\tcaretLine--;", "+\t\t\t\ty = renderer.getLineHeight(caretLine) - 1;", "+\t\t\t}", "+\t\t} else {", "+\t\t\ty = layout.getLineBounds(lineIndex - 1).y;", "-\t\tRectangle bounds = layout.getLineBounds(lineIndex);", "-\t\tfirstLine = caretLine == 0 && lineIndex == 0;", "-\t\ty += bounds.y;", "+\t\tcaretLine--;", "-\t\tcaretOffset = getOffsetAtPoint(columnX, y - 1 + getLinePixel(caretLine));", "+\t\tcaretOffset = getOffsetAtPoint(columnX, y, caretLine);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1f91012949fcb48f4a066fc35b994692", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "bf221f66369037ceea33728d5ed71d69549dd596", "commitAfterChange": "73be0ec89889e2c1322c1bfa09d83f81f689ab7f", "methodNumberBeforeChange": 73, "methodNumberAfterChange": 74, "signatureBeforeChange": " void doLineDown(boolean select)", "signatureAfterChange": " void doLineDown(boolean select)", "diff": ["-\t\tint lineIndex = layout.getLineIndex(offsetInLine);", "-\t\tint[] offsets = layout.getLineOffsets();", "+\t\tint lineIndex = getVisualLineIndex(layout, offsetInLine);", "-\t\tif (lineIndex != 0 && offsetInLine == offsets[lineIndex] && caretAlignment == PREVIOUS_OFFSET_TRAILING) {", "-\t\t\tlineIndex--;", "-\t\t}", "-\t\tRectangle bounds = layout.getLineBounds(lineIndex); ", "-\t\tlastLine = caretLine == lineCount - 1 && lineIndex == layoutLineCount - 1;", "-\t\ty += bounds.y + bounds.height;", "-\t\t\ty += layout.getSpacing();", "+\t\t\tlastLine = caretLine == lineCount - 1;", "+\t\t\tcaretLine++;", "+\t\t} else {", "+\t\t\ty = layout.getLineBounds(lineIndex + 1).y;", "-\t\tlastLine = caretLine == content.getLineCount() - 1;", "-\t\ty += renderer.getLineHeight(caretLine);", "+\t\tlastLine = caretLine == lineCount - 1;", "+\t\tcaretLine++;", "-\t\tif (select) {", "-\t\t\tcaretOffset = content.getCharCount();", "-\t\t}", "+\t\tif (select) caretOffset = content.getCharCount();", "-\t\tcaretOffset = getOffsetAtPoint(columnX, y + getLinePixel(caretLine));", "+\t\tcaretOffset = getOffsetAtPoint(columnX, y, caretLine);"]}], "num": 24810}