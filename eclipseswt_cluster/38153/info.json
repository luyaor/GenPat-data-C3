{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "135c8347225a5d91884b0c87ad7a1212", "detectedBy": ["DIFF_HIERARCHICAL", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "43dc0a4fdee0c95276ce1174c0726701", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/carbon/org/eclipse/swt/dnd/TreeDragUnderEffect.java", "commitBeforeChange": "fd85a9c460077fc39bada144eb3bd6ee30bb8964", "commitAfterChange": "20a2ecced685010e93dcca4b5b21f24f84ebcb76", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": " void setDragUnderEffect(int effect, TreeItem item)", "signatureAfterChange": " void setDragUnderEffect(int effect, TreeItem item)", "diff": ["-\t\t\t\tTreeItem nextItem = null;", "-\t\t\t\tRectangle bounds = item.getBounds();", "-\t\t\t\tRectangle area = tree.getClientArea();", "-\t\t\t\tint headerHeight = tree.getHeaderHeight();", "-\t\t\t\tint itemHeight= tree.getItemHeight();", "-\t\t\t\tif (bounds.y + bounds.height < area.y + headerHeight + 2 * itemHeight) {", "-\t\t\t\t\t// scroll up", "-\t\t\t\t\tTreeItem childItem = item;", "-\t\t\t\t\tTreeItem parentItem = childItem.getParentItem();", "-\t\t\t\t\tint index = parentItem == null ? tree.indexOf(childItem) : parentItem.indexOf(childItem);", "-\t\t\t\t\tif (index == 0) {", "-\t\t\t\t\t\tnextItem = parentItem;", "-\t\t\t\t\t} else {", "-\t\t\t\t\t\tnextItem = parentItem == null ? tree.getItem(index-1) : parentItem.getItem(index-1);", "-\t\t\t\t\t\tint count = nextItem.getItemCount();", "-\t\t\t\t\t\twhile (count > 0 && nextItem.getExpanded()) {", "-\t\t\t\t\t\t\tnextItem = nextItem.getItem(count - 1);", "-\t\t\t\t\t\t\tcount = nextItem.getItemCount();", "-\t\t\t\t\t\t}", "-\t\t\t\t\t}", "-\t\t\t\t}", "-\t\t\t\tif (bounds.y > area.y + area.height - 2 * itemHeight) {", "-\t\t\t\t\t// scroll down", "-\t\t\t\t\tif (item.getExpanded()) {", "-\t\t\t\t\t\tnextItem = item.getItem(0);", "-\t\t\t\t\t} else {", "-\t\t\t\t\t\tTreeItem childItem = item;", "-\t\t\t\t\t\tTreeItem parentItem = childItem.getParentItem();", "-\t\t\t\t\t\tint index = parentItem == null ? tree.indexOf(childItem) : parentItem.indexOf(childItem);", "-\t\t\t\t\t\tint count = parentItem == null ? tree.getItemCount() : parentItem.getItemCount();", "-\t\t\t\t\t\twhile (nextItem == null) { ", "-\t\t\t\t\t\t\tif (index + 1 < count) {", "-\t\t\t\t\t\t\t\tnextItem = parentItem == null ? tree.getItem(index + 1) : parentItem.getItem(index + 1);", "-\t\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\t\tif (parentItem == null) {", "-\t\t\t\t\t\t\t\t\tnextItem = item;", "-\t\t\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\t\t\tchildItem = parentItem;", "-\t\t\t\t\t\t\t\t\tparentItem = childItem.getParentItem();", "-\t\t\t\t\t\t\t\t\tindex = parentItem == null ? tree.indexOf(childItem) : parentItem.indexOf(childItem);", "-\t\t\t\t\t\t\t\t\tcount = parentItem == null ? tree.getItemCount() : parentItem.getItemCount();", "-\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t}", "-\t\t\t\t\t}", "-\t\t\t\t}", "-\t\t\t\tif (nextItem != null) tree.showItem(nextItem);", "+\t\t\t\tscroll(item);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "30dd078c7ffc347718cafedb93cba98a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/carbon/org/eclipse/swt/dnd/TreeDragUnderEffect.java", "commitBeforeChange": "bd8d9571ea050e4c23edda8436d67a1ef053b218", "commitAfterChange": "4894c17964a7684074639c1b3befc4d7c320b687", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": " void scroll(TreeItem item)", "signatureAfterChange": " TreeItem nextItem(TreeItem item)", "diff": ["-void scroll(TreeItem item) {", "-\tTreeItem nextItem = null;", "-\tRectangle bounds = item.getBounds();", "-\tRectangle area = tree.getClientArea();", "-\tint headerHeight = tree.getHeaderHeight();", "-\tint itemHeight= tree.getItemHeight();", "-\tif (bounds.y + bounds.height < area.y + headerHeight + 2 * itemHeight) {", "-\t\t// scroll up", "+TreeItem nextItem(TreeItem item) {", "+\tif (item == null) return null;", "+\tif (item.getExpanded()) {", "+\t\treturn item.getItem(0);", "+\t} else {", "-\t\tif (index == 0) {", "-\t\t\tnextItem = parentItem;", "-\t\t} else {", "-\t\t\tnextItem = parentItem == null ? tree.getItem(index-1) : parentItem.getItem(index-1);", "-\t\t\tint count = nextItem.getItemCount();", "-\t\t\twhile (count > 0 && nextItem.getExpanded()) {", "-\t\t\t\tnextItem = nextItem.getItem(count - 1);", "-\t\t\t\tcount = nextItem.getItemCount();", "-\t\t\t}", "-\t\t}", "-\t}", "-\tif (bounds.y > area.y + area.height - 2 * itemHeight) {", "-\t\t// scroll down", "-\t\tif (item.getExpanded()) {", "-\t\t\tnextItem = item.getItem(0);", "-\t\t} else {", "-\t\t\tTreeItem childItem = item;", "-\t\t\tTreeItem parentItem = childItem.getParentItem();", "-\t\t\tint index = parentItem == null ? tree.indexOf(childItem) : parentItem.indexOf(childItem);", "-\t\t\tint count = parentItem == null ? tree.getItemCount() : parentItem.getItemCount();", "-\t\t\twhile (nextItem == null) { ", "-\t\t\t\tif (index + 1 < count) {", "-\t\t\t\t\tnextItem = parentItem == null ? tree.getItem(index + 1) : parentItem.getItem(index + 1);", "+\t\tint count = parentItem == null ? tree.getItemCount() : parentItem.getItemCount();", "+\t\twhile (true) {", "+\t\t\tif (index + 1 < count) {", "+\t\t\t\treturn parentItem == null ? tree.getItem(index + 1) : parentItem.getItem(index + 1);", "+\t\t\t} else {", "+\t\t\t\tif (parentItem == null) {", "+\t\t\t\t\treturn null;", "-\t\t\t\t\tif (parentItem == null) {", "-\t\t\t\t\t\tnextItem = item;", "-\t\t\t\t\t} else {", "-\t\t\t\t\t\tchildItem = parentItem;", "-\t\t\t\t\t\tparentItem = childItem.getParentItem();", "-\t\t\t\t\t\tindex = parentItem == null ? tree.indexOf(childItem) : parentItem.indexOf(childItem);", "-\t\t\t\t\t\tcount = parentItem == null ? tree.getItemCount() : parentItem.getItemCount();", "-\t\t\t\t\t}", "+\t\t\t\t\tchildItem = parentItem;", "+\t\t\t\t\tparentItem = childItem.getParentItem();", "+\t\t\t\t\tindex = parentItem == null ? tree.indexOf(childItem) : parentItem.indexOf(childItem);", "+\t\t\t\t\tcount = parentItem == null ? tree.getItemCount() : parentItem.getItemCount();", "-\tif (nextItem != null) tree.showItem(nextItem);"]}], "num": 38153}