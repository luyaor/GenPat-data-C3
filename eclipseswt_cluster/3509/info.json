{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ca1ce9b9132ee2a4a9897f77a8d5f317", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ab9f071a8614c6a68079f70b7b9534b9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/cocoa/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "4edc576de20a88abac088ae701d29ce3e54ede4f", "commitAfterChange": "c2ec875b36ecf39df432358c14d183b7d7f45fe0", "methodNumberBeforeChange": 48, "methodNumberAfterChange": 49, "signatureBeforeChange": "  void mouseDidMoveOverElement (int elementInformation, int modifierFlags)", "signatureAfterChange": "  void webView_mouseDidMoveOverElement_modifierFlags (int sender, int elementInformationID, int modifierFlags)", "diff": ["-void mouseDidMoveOverElement (int elementInformation, int modifierFlags) {", "-\tif (elementInformation == 0) return;", "+void webView_mouseDidMoveOverElement_modifierFlags (int sender, int elementInformationID, int modifierFlags) {", "+\tif (elementInformationID == 0) return;", "-\tint length = WebElementLinkURLKey.length();", "-\tchar[] chars = new char[length];", "-\tWebElementLinkURLKey.getChars(0, length, chars, 0);", "-\tint key = OS.CFStringCreateWithCharacters(0, chars, length);", "-\tint value = Cocoa.objc_msgSend(elementInformation, Cocoa.S_valueForKey, key);", "-\tOS.CFRelease(key);", "-\tif (value == 0) {", "+\tNSString key = NSString.stringWith(WebElementLinkURLKey);", "+\tNSDictionary elementInformation = new NSDictionary(elementInformationID);", "+\tid value = elementInformation.valueForKey(key);", "+\tif (value == null) {", "-\tint stringPtr = Cocoa.objc_msgSend(value, Cocoa.S_absoluteString);", "-\tlength = OS.CFStringGetLength(stringPtr);", "+\tNSString url = new NSURL(value.id).absoluteString();", "+\tint length = url.length();", "-\t\tchars = new char[length];", "-\t\tCFRange range = new CFRange();", "-\t\trange.length = length;", "-\t\tOS.CFStringGetCharacters(stringPtr, range, chars);", "-\t\turlString = new String(chars);", "+\t\tchar[] buffer = new char[length];", "+\t\turl.getCharacters_(buffer);", "+\t\turlString = new String(buffer);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8b2878cf3844b06a367936ee6454998a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/cocoa/org/eclipse/swt/browser/MozillaDelegate.java", "commitBeforeChange": "4edc576de20a88abac088ae701d29ce3e54ede4f", "commitAfterChange": "c2ec875b36ecf39df432358c14d183b7d7f45fe0", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  static char[] mbcsToWcs (String codePage, byte [] buffer)", "signatureAfterChange": "  static char[] mbcsToWcs (String codePage, byte [] buffer)", "diff": ["-\tint encoding = OS.CFStringGetSystemEncoding ();", "-\tint cfstring = OS.CFStringCreateWithBytes (OS.kCFAllocatorDefault, buffer, buffer.length, encoding, false);", "-\tchar[] chars = null;", "-\tif (cfstring != 0) {", "-\t\tint length = OS.CFStringGetLength (cfstring);", "-\t\tchars = new char [length];", "-\t\tif (length != 0) {", "-\t\t\tCFRange range = new CFRange ();", "-\t\t\trange.length = length;", "-\t\t\tOS.CFStringGetCharacters (cfstring, range, chars);", "-\t\t}", "-\t\tOS.CFRelease (cfstring);", "-\t}", "-\treturn chars;", "+//\tint encoding = OS.CFStringGetSystemEncoding ();", "+//\tint cfstring = OS.CFStringCreateWithBytes (OS.kCFAllocatorDefault, buffer, buffer.length, encoding, false);", "+//\tchar[] chars = null;", "+//\tif (cfstring != 0) {", "+//\t\tint length = OS.CFStringGetLength (cfstring);", "+//\t\tchars = new char [length];", "+//\t\tif (length != 0) {", "+//\t\t\tCFRange range = new CFRange ();", "+//\t\t\trange.length = length;", "+//\t\t\tOS.CFStringGetCharacters (cfstring, range, chars);", "+//\t\t}", "+//\t\tOS.CFRelease (cfstring);", "+//\t}", "+//\treturn chars;", "+\treturn new String(buffer).toCharArray();"]}], "num": 3509}