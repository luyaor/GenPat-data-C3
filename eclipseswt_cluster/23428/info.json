{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a9f0cab09cce6626b25cfb98212f220d", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "954adf669f099efd78e7994eba0a67bd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "109dd991548420f954abe996a5e2c0884a026ea5", "commitAfterChange": "2c8b26639ddf8652e4b7cebdb2dd9cd75c0e8867", "methodNumberBeforeChange": 98, "methodNumberAfterChange": 98, "signatureBeforeChange": "  LRESULT wmNotifyChild (int wParam, int lParam)", "signatureAfterChange": "  LRESULT wmNotifyChild (int wParam, int lParam)", "diff": ["-\t\t\t\t\tTVITEM tvItem = new TVITEM ();", "-\t\t\t\t\ttvItem.mask = OS.TVIF_STATE;", "-\t\t\t\t\ttvItem.hItem = item.handle;", "-\t\t\t\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);", "-\t\t\t\t\tif ((tvItem.state & (OS.TVIS_SELECTED | OS.TVIS_DROPHILITED)) == 0) {", "-\t\t\t\t\t\tif (OS.IsWindowEnabled (handle)) {", "+\t\t\t\t\tif (OS.IsWindowEnabled (handle)) {", "+\t\t\t\t\t\tTVITEM tvItem = new TVITEM ();", "+\t\t\t\t\t\ttvItem.mask = OS.TVIF_STATE;", "+\t\t\t\t\t\ttvItem.hItem = item.handle;", "+\t\t\t\t\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);", "+\t\t\t\t\t\tif ((tvItem.state & (OS.TVIS_SELECTED | OS.TVIS_DROPHILITED)) == 0) {", "-\t\t\t\t\t\tint x = 0;", "+\t\t\t\t\t\tint x = 0, gridWidth = linesVisible ? GRID_WIDTH : 0;", "-\t\t\t\t\t\t\t\tOS.SetRect (rect, x, nmcd.top, x + hdItem.cxy, nmcd.bottom - GRID_WIDTH);", "+\t\t\t\t\t\t\t\tOS.SetRect (rect, x, nmcd.top, x + hdItem.cxy, nmcd.bottom - gridWidth);", "+\t\t\t\t\t\t\tif (printClient || (style & SWT.FULL_SELECTION) != 0) {", "+\t\t\t\t\t\t\t\tOS.SetRect (rect, x, nmcd.top, nmcd.right, nmcd.bottom - gridWidth);", "+\t\t\t\t\t\t\t\tdrawBackground (hDC, OS.GetBkColor (hDC), rect);", "+\t\t\t\t\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b32b50da941e8047c95abadae5faffb1", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "ac1f6530e32fef0bffe31cffd474da1115e7baf8", "commitAfterChange": "70797a0c84b9e1e41c402748ab475f7fa16a92c0", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "  LRESULT CDDS_ITEMPREPAINT (int wParam, int lParam)", "signatureAfterChange": "  LRESULT CDDS_ITEMPREPAINT (int wParam, int lParam)", "diff": ["-\t\tif (OS.IsWindowEnabled (handle)) {", "+\t\tif (OS.IsWindowEnabled (handle) && OS.IsWindowVisible (handle)) {", "-\t\t\tif (OS.IsWindowVisible (handle) && !selected) {", "-\t\t\t\tnmcd.clrText = clrText == -1 ? getForegroundPixel () : clrText;", "-\t\t\t\tif (clrTextBk != -1) {", "-\t\t\t\t\tint bits = OS.GetWindowLong (handle, OS.GWL_STYLE);", "-\t\t\t\t\tif ((bits & OS.TVS_FULLROWSELECT) == 0) {", "+\t\t\tif (clrTextBk != -1) {", "+\t\t\t\tint bits = OS.GetWindowLong (handle, OS.GWL_STYLE);", "+\t\t\t\tif ((bits & OS.TVS_FULLROWSELECT) == 0) {", "+\t\t\t\t\tif (count != 0 && hwndHeader != 0) {", "-\t\t\t\t\t\tOS.SetRect (rect, nmcd.left, nmcd.top, nmcd.right, nmcd.bottom);", "-\t\t\t\t\t\tif (count != 0 && hwndHeader != 0) {", "-\t\t\t\t\t\t\tHDITEM hdItem = new HDITEM ();", "-\t\t\t\t\t\t\thdItem.mask = OS.HDI_WIDTH;", "-\t\t\t\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEM, index, hdItem);", "-\t\t\t\t\t\t\tnmcd.right = nmcd.left + hdItem.cxy;", "-\t\t\t\t\t\t\tif (OS.COMCTL32_MAJOR < 6 || !OS.IsAppThemed ()) {", "-\t\t\t\t\t\t\t\tRECT itemRect = new RECT ();", "-\t\t\t\t\t\t\t\titemRect.left = item.handle;", "-\t\t\t\t\t\t\t\tif (OS.SendMessage (handle, OS.TVM_GETITEMRECT, 1, itemRect) != 0) {", "-\t\t\t\t\t\t\t\t\trect.left = Math.min (itemRect.left, rect.right);", "-\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\tfillBackground (hDC, clrTextBk, rect);", "-\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\tif ((style & SWT.FULL_SELECTION) != 0) {", "-\t\t\t\t\t\t\t\tfillBackground (hDC, clrTextBk, rect);", "+\t\t\t\t\t\tHDITEM hdItem = new HDITEM ();", "+\t\t\t\t\t\thdItem.mask = OS.HDI_WIDTH;", "+\t\t\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEM, index, hdItem);", "+\t\t\t\t\t\tOS.SetRect (rect, nmcd.left, nmcd.top, nmcd.left + hdItem.cxy, nmcd.bottom);", "+\t\t\t\t\t\tif (OS.COMCTL32_MAJOR < 6 || !OS.IsAppThemed ()) {", "+\t\t\t\t\t\t\tRECT itemRect = new RECT ();", "+\t\t\t\t\t\t\titemRect.left = item.handle;", "+\t\t\t\t\t\t\tif (OS.SendMessage (handle, OS.TVM_GETITEMRECT, 1, itemRect) != 0) {", "+\t\t\t\t\t\t\t\trect.left = Math.min (itemRect.left, rect.right);", "+\t\t\t\t\t\tif ((style & SWT.FULL_SELECTION) != 0) {", "+\t\t\t\t\t\t\tif (!selected) fillBackground (hDC, clrTextBk, rect);", "+\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\tfillBackground (hDC, clrTextBk, rect);", "+\t\t\t\t\t\t}", "+\t\t\t\t\t} else {", "+\t\t\t\t\t\tif ((style & SWT.FULL_SELECTION) != 0) {", "+\t\t\t\t\t\t\tRECT rect = new RECT ();", "+\t\t\t\t\t\t\tOS.SetRect (rect, nmcd.left, nmcd.top, nmcd.right, nmcd.bottom);", "+\t\t\t\t\t\t\tif (!selected) fillBackground (hDC, clrTextBk, rect);", "+\t\t\t\t\t\t}", "-\t\t\t\t\tnmcd.clrTextBk = clrTextBk;", "+\t\t\t}", "+\t\t\tif (!selected) {", "+\t\t\t\tnmcd.clrText = clrText == -1 ? getForegroundPixel () : clrText;", "+\t\t\t\tnmcd.clrTextBk = clrTextBk == -1 ? getBackgroundPixel () : clrTextBk;"]}], "num": 23428}