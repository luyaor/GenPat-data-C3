{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d6a7b053e5db5694f9027e4f4f87b3eb", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1440128bc632c5d564a3ed63f158d51c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "d03ee3ef48d55db63b28ee70d6aa938a064ef2bb", "commitAfterChange": "b7b4e1057fbda36ea8206b61ea0ecd34b053c4a9", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 25, "signatureBeforeChange": " public int internal_new_GC (GCData data)", "signatureAfterChange": " public int internal_new_GC (GCData data)", "diff": ["-\t//TODO the handle of the GC should be a cairo object instead of GdkGC.", "-\tint /*long*/ gdkGC = OS.gdk_gc_new(OS.USE_CAIRO_SURFACE ? OS.GDK_ROOT_PARENT() : pixmap);", "+\tint /*long*/ gc;", "+\tif (OS.USE_CAIRO) {", "+\t\tgc = Cairo.cairo_create(surface);", "+\t} else {", "+\t\tgc = OS.gdk_gc_new(pixmap);", "+\t}", "-\treturn gdkGC;", "+\treturn gc;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ab7c0651ec7a3623374cefe17ff94d1d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "87d79b28b78da8b56644c5ffdf26400d97e4e059", "commitAfterChange": "ec7edbaede68f4fd7608786e759e23fd6dbe2200", "methodNumberBeforeChange": 71, "methodNumberAfterChange": 67, "signatureBeforeChange": " public int internal_new_GC (GCData data)", "signatureAfterChange": " public int internal_new_GC (GCData data)", "diff": ["-\tif (paintHandle() == 0) error(SWT.ERROR_UNSPECIFIED);", "-\tint window = OS.GTK_WIDGET_WINDOW(paintHandle());", "-\tint gdkGC = OS.gdk_gc_new(window);", "-\tif (gdkGC == 0) error(SWT.ERROR_NO_HANDLES);\t", "+\tint window = paintWindow ();", "+\tint gdkGC = OS.gdk_gc_new (window);", "+\tif (gdkGC == 0) error (SWT.ERROR_NO_HANDLES);\t"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "221de7375e8cf5db6a5f1a5f7e0ea7fa", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "d0069d7ed7376b10efa426e883f2b4851a6c7c22", "commitAfterChange": "a886f16168f44eb14dce55165728859cc8ee3baa", "methodNumberBeforeChange": 165, "methodNumberAfterChange": 168, "signatureBeforeChange": " public long internal_new_GC (GCData data)", "signatureAfterChange": " public long internal_new_GC (GCData data)", "diff": ["-\tlong /*int*/ gc;", "-\tif (OS.USE_CAIRO) {", "-\t\tgc = OS.gdk_cairo_create (window);", "+\tlong /*int*/ gc = data.cairo;", "+\tif (gc != 0) {", "+\t\tCairo.cairo_reference (gc);", "-\t\tgc = OS.gdk_gc_new (window);", "+\t\tif (OS.USE_CAIRO) {", "+\t\t\tgc = OS.gdk_cairo_create (window);", "+\t\t} else {", "+\t\t\tgc = OS.gdk_gc_new (window);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0525f77aa70285e56eef9e1b4964bc5e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "d03ee3ef48d55db63b28ee70d6aa938a064ef2bb", "commitAfterChange": "b7b4e1057fbda36ea8206b61ea0ecd34b053c4a9", "methodNumberBeforeChange": 164, "methodNumberAfterChange": 164, "signatureBeforeChange": " public int internal_new_GC (GCData data)", "signatureAfterChange": " public int internal_new_GC (GCData data)", "diff": ["-\tint /*long*/ gdkGC = OS.gdk_gc_new (window);", "-\tif (gdkGC == 0) error (SWT.ERROR_NO_HANDLES);\t", "+\tint /*long*/ gc;", "+\tif (OS.USE_CAIRO) {", "+\t\tgc = OS.gdk_cairo_create (window);", "+\t} else {", "+\t\tgc = OS.gdk_gc_new (window);", "+\t}", "+\tif (gc == 0) error (SWT.ERROR_NO_HANDLES);\t", "-\treturn gdkGC;", "+\treturn gc;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "129b867a8cd87366fac5e6bf42ab2a0f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "d03ee3ef48d55db63b28ee70d6aa938a064ef2bb", "commitAfterChange": "b7b4e1057fbda36ea8206b61ea0ecd34b053c4a9", "methodNumberBeforeChange": 99, "methodNumberAfterChange": 99, "signatureBeforeChange": " public int internal_new_GC (GCData data)", "signatureAfterChange": " public int internal_new_GC (GCData data)", "diff": ["-\tint /*long*/ gdkGC = OS.gdk_gc_new (root);", "-\tif (gdkGC == 0) SWT.error (SWT.ERROR_NO_HANDLES);", "-\tOS.gdk_gc_set_subwindow (gdkGC, OS.GDK_INCLUDE_INFERIORS);", "+\tint /*long*/ gc;", "+\tif (OS.USE_CAIRO) {", "+\t\tgc = OS.gdk_cairo_create (root);", "+\t\tif (gc == 0) SWT.error (SWT.ERROR_NO_HANDLES);", "+\t\t//TODO how gdk_gc_set_subwindow is done in cairo?", "+\t} else {", "+\t\tgc = OS.gdk_gc_new (root);", "+\t\tif (gc == 0) SWT.error (SWT.ERROR_NO_HANDLES);", "+\t\tOS.gdk_gc_set_subwindow (gc, OS.GDK_INCLUDE_INFERIORS);", "+\t}", "-\treturn gdkGC;", "+\treturn gc;"]}], "num": 58898}