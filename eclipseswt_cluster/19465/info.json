{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9b23d5d9323a7d75fc0be3c2717b4197", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b6782552fdc4b20f3734c6b5554a2254", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/gtk/org/eclipse/swt/dnd/TextTransfer.java", "commitBeforeChange": "67976c6abaf5a07314770e0734a67e21100216a3", "commitAfterChange": "8e7bdacd1dbbc7e29ab695539fe4d98a2a8aee35", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": " public Object nativeToJava(TransferData transferData)", "signatureAfterChange": " public Object nativeToJava(TransferData transferData)", "diff": ["-\t// get byte array from super", "-\tbyte[] buffer = (byte[])super.nativeToJava(transferData);", "+\tbyte[] buffer = null;", "+\tif (transferData.type == TYPEID1) { // COMPOUND_TEXT", "+\t\tint[] list = new int[1];", "+\t\tint count = OS.gdk_text_property_to_utf8_list(transferData.type, transferData.format, transferData.pValue, transferData.length, list);", "+\t\tif (count == 0) {", "+\t\t\ttransferData.result = 0;", "+\t\t} else {", "+\t\t\tint[] ptr = new int[1];", "+\t\t\tOS.memmove(ptr, list[0], 4);", "+\t\t\tint length = OS.g_utf8_strlen(ptr[0], -1) * 8;", "+\t\t\tbuffer = new byte[length];", "+\t\t\tOS.memmove(buffer, ptr[0], length);", "+\t\t\tOS.g_strfreev(list[0]);", "+\t\t}", "+\t} else {", "+\t\tbuffer = (byte[])super.nativeToJava(transferData);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "94d1eaa493d282425a2fe40f50c8a439", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/gtk/org/eclipse/swt/dnd/TextTransfer.java", "commitBeforeChange": "67976c6abaf5a07314770e0734a67e21100216a3", "commitAfterChange": "8e7bdacd1dbbc7e29ab695539fe4d98a2a8aee35", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " public void javaToNative (Object object, TransferData transferData)", "signatureAfterChange": " public void javaToNative (Object object, TransferData transferData)", "diff": ["-\tsuper.javaToNative(buffer, transferData);", "+\tif  (transferData.type ==  TYPEID1) { // COMPOUND_TEXT", "+\t\tint[] encoding = new int[1];", "+\t\tint[] format = new int[1];", "+\t\tint[] ctext = new int[1];", "+\t\tint[] length = new int[1];", "+\t\tboolean result = OS.gdk_utf8_to_compound_text(buffer, encoding, format, ctext, length);", "+\t\tif (!result) {", "+\t\t\ttransferData.result = 0;", "+\t\t} else {", "+\t\t\ttransferData.type = encoding[0];", "+\t\t\ttransferData.format = format[0];", "+\t\t\ttransferData.length = length[0];", "+\t\t\ttransferData.pValue = ctext[0];", "+\t\t\ttransferData.result = 1;", "+\t\t}", "+\t} else {", "+\t\tsuper.javaToNative(buffer, transferData);", "+\t}"]}], "num": 19465}