{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0af88b12fe484bf5ecc9bccc2c3b13af", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2dca84c250ef211039c5f677cc100ea8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/common/org/eclipse/swt/browser/Mozilla.java", "commitBeforeChange": "c0e8b19693a09635ee2e2549501800c6e492284d", "commitAfterChange": "a44261ef7ad91b3d8ffc177d976044172a616213", "methodNumberBeforeChange": 96, "methodNumberAfterChange": 96, "signatureBeforeChange": "  public boolean execute (String script)", "signatureAfterChange": "  public boolean execute (String script)", "diff": ["-\t\t\t\t\t\tint /*long*/ globalJSObject = XPCOM.nsIScriptGlobalObject_GetScriptGlobal (scriptGlobalObject, 2); /* nsIProgrammingLanguage.JAVASCRIPT */", "-\t\t\t\t\t\tif (scriptContext != 0 && globalJSObject != 0) {", "+\t\t\t\t\t\tif (scriptContext != 0) {", "-\t\t\t\t\t\t\t\t\t\taContractID = MozillaDelegate.wcsToMbcs (null, XPCOM.NS_CONTEXTSTACK_CONTRACTID, true);", "-\t\t\t\t\t\t\t\t\t\trc = serviceManager.GetServiceByContractID (aContractID, nsIJSContextStack.NS_IJSCONTEXTSTACK_IID, result);", "-\t\t\t\t\t\t\t\t\t\tif (rc == XPCOM.NS_OK && result[0] != 0) {", "-\t\t\t\t\t\t\t\t\t\t\tnsIJSContextStack stack = new nsIJSContextStack (result[0]);", "-\t\t\t\t\t\t\t\t\t\t\tresult[0] = 0;", "-\t\t\t\t\t\t\t\t\t\t\trc = stack.Push (nativeContext);", "-\t\t\t\t\t\t\t\t\t\t\tif (rc != XPCOM.NS_OK) {", "-\t\t\t\t\t\t\t\t\t\t\t\tstack.Release ();", "-\t\t\t\t\t\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\t\t\t\t\t\tboolean success = XPCOM.JS_EvaluateUCScriptForPrincipals (pathBytes_JSEvaluateUCScriptForPrincipals, nativeContext, globalJSObject, principals, scriptChars, length, urlbytes, 0, result) != 0;", "+\t\t\t\t\t\t\t\t\t\tint /*long*/ globalJSObject = XPCOM.JS_GetGlobalObject (pathBytes_JSEvaluateUCScriptForPrincipals, nativeContext);", "+\t\t\t\t\t\t\t\t\t\tif (globalJSObject != 0) {", "+\t\t\t\t\t\t\t\t\t\t\taContractID = MozillaDelegate.wcsToMbcs (null, XPCOM.NS_CONTEXTSTACK_CONTRACTID, true);", "+\t\t\t\t\t\t\t\t\t\t\trc = serviceManager.GetServiceByContractID (aContractID, nsIJSContextStack.NS_IJSCONTEXTSTACK_IID, result);", "+\t\t\t\t\t\t\t\t\t\t\tif (rc == XPCOM.NS_OK && result[0] != 0) {", "+\t\t\t\t\t\t\t\t\t\t\t\tnsIJSContextStack stack = new nsIJSContextStack (result[0]);", "-\t\t\t\t\t\t\t\t\t\t\t\trc = stack.Pop (result);", "-\t\t\t\t\t\t\t\t\t\t\t\tstack.Release ();", "-\t\t\t\t\t\t\t\t\t\t\t\t// should principals be Release()d too?", "-\t\t\t\t\t\t\t\t\t\t\t\tprincipal.Release ();", "-\t\t\t\t\t\t\t\t\t\t\t\tserviceManager.Release ();", "-\t\t\t\t\t\t\t\t\t\t\t\treturn success;", "+\t\t\t\t\t\t\t\t\t\t\t\trc = stack.Push (nativeContext);", "+\t\t\t\t\t\t\t\t\t\t\t\tif (rc != XPCOM.NS_OK) {", "+\t\t\t\t\t\t\t\t\t\t\t\t\tstack.Release ();", "+\t\t\t\t\t\t\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\t\t\t\t\t\t\tboolean success = XPCOM.JS_EvaluateUCScriptForPrincipals (pathBytes_JSEvaluateUCScriptForPrincipals, nativeContext, globalJSObject, principals, scriptChars, length, urlbytes, 0, result) != 0;", "+\t\t\t\t\t\t\t\t\t\t\t\t\tresult[0] = 0;", "+\t\t\t\t\t\t\t\t\t\t\t\t\trc = stack.Pop (result);", "+\t\t\t\t\t\t\t\t\t\t\t\t\tstack.Release ();", "+\t\t\t\t\t\t\t\t\t\t\t\t\t// should principals be Release()d too?", "+\t\t\t\t\t\t\t\t\t\t\t\t\tprincipal.Release ();", "+\t\t\t\t\t\t\t\t\t\t\t\t\tserviceManager.Release ();", "+\t\t\t\t\t\t\t\t\t\t\t\t\treturn success;", "+\t\t\t\t\t\t\t\t\t\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dd56425702ebc9614fb0af858c664461", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/common/org/eclipse/swt/browser/Mozilla.java", "commitBeforeChange": "157722548e682439771f1d4f20d885a665802b74", "commitAfterChange": "0f03747d68de6662ba2bf9fd3af2d701bd2c1427", "methodNumberBeforeChange": 117, "methodNumberAfterChange": 117, "signatureBeforeChange": "  public boolean execute (String script)", "signatureAfterChange": "  public boolean execute (String script)", "diff": ["+\t\t\t\t\t\t\t\t\tlong /*int*/ principals = 0;", "-\t\t\t\t\t\t\t\t\t\tlong /*int*/ principals = result[0];", "+\t\t\t\t\t\t\t\t\t\tprincipals = result[0];", "-", "-\t\t\t\t\t\t\t\t\t\tbyte[] jsLibPath = getJSLibPathBytes ();", "-\t\t\t\t\t\t\t\t\t\tlong /*int*/ globalJSObject = XPCOM.JS_GetGlobalObject (jsLibPath, nativeContext);", "-\t\t\t\t\t\t\t\t\t\tif (globalJSObject != 0) {", "-\t\t\t\t\t\t\t\t\t\t\taContractID = MozillaDelegate.wcsToMbcs (null, XPCOM.NS_CONTEXTSTACK_CONTRACTID, true);", "-\t\t\t\t\t\t\t\t\t\t\trc = serviceManager.GetServiceByContractID (aContractID, nsIJSContextStack.NS_IJSCONTEXTSTACK_IID, result);", "-\t\t\t\t\t\t\t\t\t\t\tif (rc == XPCOM.NS_OK && result[0] != 0) {", "-\t\t\t\t\t\t\t\t\t\t\t\tnsIJSContextStack stack = new nsIJSContextStack (result[0]);", "+\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t\tbyte[] jsLibPath = getJSLibPathBytes ();", "+\t\t\t\t\t\t\t\t\tlong /*int*/ globalJSObject = XPCOM.JS_GetGlobalObject (jsLibPath, nativeContext);", "+\t\t\t\t\t\t\t\t\tif (globalJSObject != 0) {", "+\t\t\t\t\t\t\t\t\t\taContractID = MozillaDelegate.wcsToMbcs (null, XPCOM.NS_CONTEXTSTACK_CONTRACTID, true);", "+\t\t\t\t\t\t\t\t\t\trc = serviceManager.GetServiceByContractID (aContractID, nsIJSContextStack.NS_IJSCONTEXTSTACK_IID, result);", "+\t\t\t\t\t\t\t\t\t\tif (rc == XPCOM.NS_OK && result[0] != 0) {", "+\t\t\t\t\t\t\t\t\t\t\tnsIJSContextStack stack = new nsIJSContextStack (result[0]);", "+\t\t\t\t\t\t\t\t\t\t\tresult[0] = 0;", "+\t\t\t\t\t\t\t\t\t\t\trc = stack.Push (nativeContext);", "+\t\t\t\t\t\t\t\t\t\t\tif (rc != XPCOM.NS_OK) {", "+\t\t\t\t\t\t\t\t\t\t\t\tstack.Release ();", "+\t\t\t\t\t\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\t\t\t\t\t\tboolean success = XPCOM.JS_EvaluateUCScriptForPrincipals (jsLibPath, nativeContext, globalJSObject, principals, scriptChars, length, urlbytes, 0, isXULRunner190x ? result : null) != 0;", "-\t\t\t\t\t\t\t\t\t\t\t\trc = stack.Push (nativeContext);", "-\t\t\t\t\t\t\t\t\t\t\t\tif (rc != XPCOM.NS_OK) {", "-\t\t\t\t\t\t\t\t\t\t\t\t\tstack.Release ();", "-\t\t\t\t\t\t\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\t\t\t\t\t\t\tboolean success = XPCOM.JS_EvaluateUCScriptForPrincipals (jsLibPath, nativeContext, globalJSObject, principals, scriptChars, length, urlbytes, 0, isXULRunner190x ? result : null) != 0;", "-\t\t\t\t\t\t\t\t\t\t\t\t\tresult[0] = 0;", "-\t\t\t\t\t\t\t\t\t\t\t\t\trc = stack.Pop (result);", "-\t\t\t\t\t\t\t\t\t\t\t\t\tstack.Release ();", "-\t\t\t\t\t\t\t\t\t\t\t\t\t// should principals be Release()d too?", "-\t\t\t\t\t\t\t\t\t\t\t\t\tprincipal.Release ();", "-\t\t\t\t\t\t\t\t\t\t\t\t\tserviceManager.Release ();", "-\t\t\t\t\t\t\t\t\t\t\t\t\treturn success;", "-\t\t\t\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t\t\t\t\trc = stack.Pop (result);", "+\t\t\t\t\t\t\t\t\t\t\t\tstack.Release ();", "+\t\t\t\t\t\t\t\t\t\t\t\t// should principals be Release()d too?", "+\t\t\t\t\t\t\t\t\t\t\t\tprincipal.Release ();", "+\t\t\t\t\t\t\t\t\t\t\t\tserviceManager.Release ();", "+\t\t\t\t\t\t\t\t\t\t\t\treturn success;", "-\t\t\t\t\t\t\t", "-//\t\t\t\t\t\tif (rc == XPCOM.NS_OK && result[0] != 0) {", "-////\t\t\t\t\tnew nsISupports (result[0]).Release ();", "-//\t\t\t\t\t\tresult[0] = 0;", "-//", "-//\t\t\t\t\t\tnsEmbedString scriptString = new nsEmbedString(script);", "-//\t\t\t\t\t\tbyte[] urlbytes = MozillaDelegate.wcsToMbcs (null, getUrl (), true);", "-//", "-//\t\t\t\t\t\tboolean aIsUndefined [] = new boolean /*long*/[1];", "-//\t\t\t\t\t\tboolean success = XPCOM.nsIScriptContext_EvaluateStringWithValue (scriptContext, scriptString.getAddress(), 0, principal.getAddress(), urlbytes, 0, 150, result, aIsUndefined) == XPCOM.NS_OK;", "-//\t\t\t\t\t\t", "-//\t\t\t\t\t\tSystem.out.println(\"script executed \" + success);", "-//\t\t\t\t\t\t// should principals be Release()d too?", "-//\t\t\t\t\t\tprincipal.Release ();", "-//\t\t\t\t\t\tserviceManager.Release ();", "-//\t\t\t\t\t\treturn success;", "-//\t\t\t\t\t\t}"]}], "num": 58415}