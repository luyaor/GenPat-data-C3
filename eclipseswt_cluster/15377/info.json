{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8423299ddc5de0304e1035b32c3a549e", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "219d14466a0e7886ed638c4ee3d4d8d3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "8517e98a5f4738957e454f4c7d2582fd81266a49", "commitAfterChange": "41113cf6ffda09748ef83fd740de6407f8846304", "methodNumberBeforeChange": 41, "methodNumberAfterChange": 41, "signatureBeforeChange": "  public void setText (String string)", "signatureAfterChange": "  public void setText (String string)", "diff": ["-\t", "-\t/*", "-\t* Feature in GTK.  It is not possible to set a shell", "-\t* title to an empty string.  The fix is to set the title", "-\t* to be a single space.", "-\t*/", "-\tif (string.length () == 0) string = \" \";", "-\tbyte [] buffer1 = Converter.wcsToMbcs (null, string, true);", "-\tint length = buffer1.length - 1;", "-\t", "+", "-\t* length is not a multiple of 4, some window managers", "-\t* occasionally draw garbage after the last character in", "-\t* the title.  The fix is to pad the title.", "+\t* is less that 7 bytes long and is not terminated by", "+\t* a space, some window managers occasionally draw", "+\t* garbage after the last character in  the title.", "+\t* The fix is to pad the title.", "-\tbyte [] buffer2 = buffer1;", "-\tif ((length % 4) != 0) {", "-\t\tbuffer2 = new byte [(length + 3) / 4 * 4];", "-\t\tSystem.arraycopy (buffer1, 0, buffer2, 0, length);", "-\t}", "-", "-\tOS.gtk_window_set_title (shellHandle, buffer2);", "+\tint length = string.length ();", "+\tchar [] chars = new char [Math.max (6, length) + 1];", "+\tstring.getChars (0, length , chars, 0);", "+\tfor (int i=length; i<chars.length; i++)  chars [i] = ' ';", "+\tbyte [] buffer = Converter.wcsToMbcs (null, chars, true);", "+\tOS.gtk_window_set_title (shellHandle, buffer);", "+\t"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d88e0b7c3841b77d751ac923120c13bb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "33a75618afb3130e0b85c6636582400a9caf1eba", "commitAfterChange": "c0d6cbff96c326561e4817afe6a259d640c23e55", "methodNumberBeforeChange": 41, "methodNumberAfterChange": 41, "signatureBeforeChange": "  public void setText (String string)", "signatureAfterChange": "  public void setText (String string)", "diff": ["-\tbyte [] buffer = Converter.wcsToMbcs (null, string, true);", "-\tOS.gtk_window_set_title (shellHandle, buffer);", "+\t", "+\t/*", "+\t* Feature in GTK.  It is not possible to set a shell", "+\t* title to an empty string.  The fix is to set the title", "+\t* to be a single space.", "+\t*/", "+\tif (string.length () == 0) string = \" \";", "+\tbyte [] buffer1 = Converter.wcsToMbcs (null, string, true);", "+\tint length = buffer1.length - 1;", "+\t", "+\t/* ", "+\t* Bug in GTK.  For some reason, if the title string", "+\t* length is not a multiple of 4, some window managers", "+\t* occasionally draw garbage after the last character in", "+\t* the title.  The fix is to pad the title.", "+\t*/", "+\tbyte [] buffer2 = buffer1;", "+\tif ((length % 4) != 0) {", "+\t\tbuffer2 = new byte [(length + 3) / 4 * 4];", "+\t\tSystem.arraycopy (buffer1, 0, buffer2, 0, length);", "+\t}", "+", "+\tOS.gtk_window_set_title (shellHandle, buffer2);"]}], "num": 15377}