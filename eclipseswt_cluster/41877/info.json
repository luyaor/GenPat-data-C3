{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9aa477a3d7465bb1c5474fd19a8facf6", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cff3200eb1d46ffca341d3403f368c80", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "74c0e792b346f85e2b9067f710416658485a9a3b", "commitAfterChange": "e188a1e4ca35b8a449353a5ac187e7a405693faf", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 12, "signatureBeforeChange": " public void drawArc(int x, int y, int width, int height, int startAngle, int arcAngle)", "signatureAfterChange": " public void drawArc(int x, int y, int width, int height, int startAngle, int arcAngle)", "diff": ["-\tcheckGC(DRAW);", "-\thandle.saveGraphicsState();", "-\tNSAffineTransform transform = NSAffineTransform.transform();", "-\tfloat /*double*/ xOffset = data.drawXOffset, yOffset = data.drawYOffset;", "-\ttransform.translateXBy(x + xOffset + width / 2f, y + yOffset + height / 2f);", "-\ttransform.scaleXBy(width / 2f, height / 2f);", "-\tNSBezierPath path = data.path;", "-\tNSPoint center = new NSPoint();", "-\tfloat sAngle = -startAngle;", "-\tfloat eAngle = -(startAngle + arcAngle);", "-\tpath.appendBezierPathWithArcWithCenter(center, 1, sAngle,  eAngle, arcAngle>0);", "-\tpath.transformUsingAffineTransform(transform);", "-\tpath.stroke();", "-\tpath.removeAllPoints();", "-\thandle.restoreGraphicsState();", "-\tuncheckGC();", "+\tNSAutoreleasePool pool = checkGC(DRAW);", "+\ttry {", "+\t\thandle.saveGraphicsState();", "+\t\tNSAffineTransform transform = NSAffineTransform.transform();", "+\t\tfloat /*double*/ xOffset = data.drawXOffset, yOffset = data.drawYOffset;", "+\t\ttransform.translateXBy(x + xOffset + width / 2f, y + yOffset + height / 2f);", "+\t\ttransform.scaleXBy(width / 2f, height / 2f);", "+\t\tNSBezierPath path = data.path;", "+\t\tNSPoint center = new NSPoint();", "+\t\tfloat sAngle = -startAngle;", "+\t\tfloat eAngle = -(startAngle + arcAngle);", "+\t\tpath.appendBezierPathWithArcWithCenter(center, 1, sAngle,  eAngle, arcAngle>0);", "+\t\tpath.transformUsingAffineTransform(transform);", "+\t\tpath.stroke();", "+\t\tpath.removeAllPoints();", "+\t\thandle.restoreGraphicsState();", "+\t} finally {", "+\t\tuncheckGC(pool);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "39c9bde8aab778a4647f1530f5d044a3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "74c0e792b346f85e2b9067f710416658485a9a3b", "commitAfterChange": "e188a1e4ca35b8a449353a5ac187e7a405693faf", "methodNumberBeforeChange": 33, "methodNumberAfterChange": 32, "signatureBeforeChange": " public void fillArc(int x, int y, int width, int height, int startAngle, int arcAngle)", "signatureAfterChange": " public void fillArc(int x, int y, int width, int height, int startAngle, int arcAngle)", "diff": ["-\tcheckGC(FILL);", "-\thandle.saveGraphicsState();", "-\tNSAffineTransform transform = NSAffineTransform.transform();", "-\tfloat /*double*/ xOffset = data.drawXOffset, yOffset = data.drawYOffset;", "-\ttransform.translateXBy(x + xOffset + width / 2f, y + yOffset + height / 2f);", "-\ttransform.scaleXBy(width / 2f, height / 2f);", "-\tNSBezierPath path = data.path;", "-\tNSPoint center = new NSPoint();", "-\tpath.moveToPoint(center);", "-\tfloat sAngle = -startAngle;", "-\tfloat eAngle = -(startAngle + arcAngle);", "-\tpath.appendBezierPathWithArcWithCenter(center, 1, sAngle,  eAngle, arcAngle>0);", "-\tpath.closePath();", "-\tpath.transformUsingAffineTransform(transform);", "-\tpath.fill();", "-\tpath.removeAllPoints();", "-\thandle.restoreGraphicsState();", "-\tuncheckGC();", "+\tNSAutoreleasePool pool = checkGC(FILL);", "+\ttry {", "+\t\thandle.saveGraphicsState();", "+\t\tNSAffineTransform transform = NSAffineTransform.transform();", "+\t\tfloat /*double*/ xOffset = data.drawXOffset, yOffset = data.drawYOffset;", "+\t\ttransform.translateXBy(x + xOffset + width / 2f, y + yOffset + height / 2f);", "+\t\ttransform.scaleXBy(width / 2f, height / 2f);", "+\t\tNSBezierPath path = data.path;", "+\t\tNSPoint center = new NSPoint();", "+\t\tpath.moveToPoint(center);", "+\t\tfloat sAngle = -startAngle;", "+\t\tfloat eAngle = -(startAngle + arcAngle);", "+\t\tpath.appendBezierPathWithArcWithCenter(center, 1, sAngle,  eAngle, arcAngle>0);", "+\t\tpath.closePath();", "+\t\tpath.transformUsingAffineTransform(transform);", "+\t\tpath.fill();", "+\t\tpath.removeAllPoints();", "+\t\thandle.restoreGraphicsState();", "+\t} finally {", "+\t\tuncheckGC(pool);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "405fe9e2a178d0cd7170fea27cfa7482", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "74c0e792b346f85e2b9067f710416658485a9a3b", "commitAfterChange": "e188a1e4ca35b8a449353a5ac187e7a405693faf", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 16, "signatureBeforeChange": "  void drawImage(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple)", "signatureAfterChange": "  void drawImage(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple)", "diff": ["-\tcheckGC(CLIPPING | TRANSFORM);", "- \tif (srcImage.memGC != null) {", "- \t\tsrcImage.createAlpha();", "- \t}", "-\thandle.saveGraphicsState();", "- \tNSAffineTransform transform = NSAffineTransform.transform();", "- \ttransform.scaleXBy(1, -1);", "- \ttransform.translateXBy(0, -(destHeight + 2 * destY));", "- \ttransform.concat();", "- \tNSRect srcRect = new NSRect();", "- \tsrcRect.x = srcX;", "- \tsrcRect.y = imgHeight - (srcY + srcHeight);", "- \tsrcRect.width = srcWidth;", "- \tsrcRect.height = srcHeight;", "- \tNSRect destRect = new NSRect();", "- \tdestRect.x = destX;", "- \tdestRect.y = destY;", "- \tdestRect.width = destWidth;", "- \tdestRect.height = destHeight;", "- \timageHandle.drawInRect(destRect, srcRect, OS.NSCompositeSourceOver, 1);", "- \thandle.restoreGraphicsState();", "-\tuncheckGC();", "+\tNSAutoreleasePool pool = checkGC(CLIPPING | TRANSFORM);", "+\ttry {", "+\t\tif (srcImage.memGC != null) {", "+\t\t\tsrcImage.createAlpha();", "+\t\t}", "+\t\thandle.saveGraphicsState();", "+\t\tNSAffineTransform transform = NSAffineTransform.transform();", "+\t\ttransform.scaleXBy(1, -1);", "+\t\ttransform.translateXBy(0, -(destHeight + 2 * destY));", "+\t\ttransform.concat();", "+\t\tNSRect srcRect = new NSRect();", "+\t\tsrcRect.x = srcX;", "+\t\tsrcRect.y = imgHeight - (srcY + srcHeight);", "+\t\tsrcRect.width = srcWidth;", "+\t\tsrcRect.height = srcHeight;", "+\t\tNSRect destRect = new NSRect();", "+\t\tdestRect.x = destX;", "+\t\tdestRect.y = destY;", "+\t\tdestRect.width = destWidth;", "+\t\tdestRect.height = destHeight;", "+\t\timageHandle.drawInRect(destRect, srcRect, OS.NSCompositeSourceOver, 1);", "+\t\thandle.restoreGraphicsState();", "+\t} finally {", "+\t\tuncheckGC(pool);", "+\t}"]}], "num": 41877}