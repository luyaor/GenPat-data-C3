{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "066622e834971c079b563f39ad6ae2f6", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "62f661b2f012aa886f8b14f34cc0a2a1", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "e6aa5ace75b7d76f999c03a1263487de3b558d2d", "commitAfterChange": "d2e5c07029c231cf71046f566a084417747c40b0", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "  static void addCairoString(long cairo, String string, float x, float y, Font font)", "signatureAfterChange": "  static void addCairoString(long cairo, String string, float x, float y, Font font)", "diff": ["-\tif (OS.GTK_VERSION >= OS.VERSION(2, 8, 0)) {", "-\t\tlong /*int*/ layout = OS.pango_cairo_create_layout(cairo);", "-\t\tif (layout == 0) SWT.error(SWT.ERROR_NO_HANDLES);", "-\t\tOS.pango_layout_set_text(layout, buffer, -1);", "-\t\tOS.pango_layout_set_font_description(layout, font.handle);", "-\t\tdouble[] currentX = new double[1], currentY = new double[1];", "-\t\tCairo.cairo_get_current_point(cairo, currentX, currentY);", "-\t\tif (currentX[0] != x || currentY[0] != y) {", "-\t\t\tCairo.cairo_move_to(cairo, x, y);", "-\t\t}", "-\t\tOS.pango_cairo_layout_path(cairo, layout);", "-\t\tOS.g_object_unref(layout);", "-\t} else {", "-\t\tGC.setCairoFont(cairo, font);", "-\t\tcairo_font_extents_t extents = new cairo_font_extents_t();", "-\t\tCairo.cairo_font_extents(cairo, extents);", "-\t\tdouble baseline = y + extents.ascent;", "-\t\tCairo.cairo_move_to(cairo, x, baseline);", "-\t\tCairo.cairo_text_path(cairo, buffer);", "+\tlong /*int*/ layout = OS.pango_cairo_create_layout(cairo);", "+\tif (layout == 0) SWT.error(SWT.ERROR_NO_HANDLES);", "+\tOS.pango_layout_set_text(layout, buffer, -1);", "+\tOS.pango_layout_set_font_description(layout, font.handle);", "+\tdouble[] currentX = new double[1], currentY = new double[1];", "+\tCairo.cairo_get_current_point(cairo, currentX, currentY);", "+\tif (currentX[0] != x || currentY[0] != y) {", "+\t\tCairo.cairo_move_to(cairo, x, y);", "+\tOS.pango_cairo_layout_path(cairo, layout);", "+\tOS.g_object_unref(layout);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "81dc1926ce839153b523a202e468f12b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "e6aa5ace75b7d76f999c03a1263487de3b558d2d", "commitAfterChange": "d2e5c07029c231cf71046f566a084417747c40b0", "methodNumberBeforeChange": 39, "methodNumberAfterChange": 39, "signatureBeforeChange": " public void drawText (String string, int x, int y, int flags)", "signatureAfterChange": " public void drawText (String string, int x, int y, int flags)", "diff": ["-\tif (cairo != 0) {", "-\t\tif (OS.GTK_VERSION < OS.VERSION(2, 8, 0)) {", "-\t\t\t//TODO - honor flags", "-\t\t\tcheckGC(FOREGROUND | FONT);", "-\t\t\tcairo_font_extents_t extents = new cairo_font_extents_t();", "-\t\t\tCairo.cairo_font_extents(cairo, extents);", "-\t\t\tdouble baseline = y + extents.ascent;", "-\t\t\tCairo.cairo_move_to(cairo, x, baseline);", "-\t\t\tbyte[] buffer = Converter.wcsToMbcs(null, string, true);", "-\t\t\tCairo.cairo_show_text(cairo, buffer);", "-\t\t\tCairo.cairo_new_path(cairo);", "-\t\t\treturn;", "-\t\t}", "-\t}"]}], "num": 41570}