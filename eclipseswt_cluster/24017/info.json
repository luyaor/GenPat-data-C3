{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3e23027ab9c5565fee4e167a65ed78fb", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3ccbb0388a162047cb2e9249a97ede43", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "1f82bdbe2d20fd7594c393bf39d9867087e27d8b", "commitAfterChange": "6aad37b8975616ead61485869140d804ebb9c7a3", "methodNumberBeforeChange": 67, "methodNumberAfterChange": 67, "signatureBeforeChange": "\r void doContentEnd()", "signatureAfterChange": "\r void doContentEnd()", "diff": ["-\tint length = content.getCharCount();\r", "-\t\r", "-\tif (caretOffset < length) {\r", "-\t\tcaretOffset = length;\r", "-\t\tshowCaret();\r", "+\t// place caret at end of first line if receiver is in single \r", "+\t// line mode. fixes 4820.\r", "+\tif (isSingleLine()) {\r", "+\t\tdoLineEnd();\r", "+\t}\r", "+\telse {\r", "+\t\tint length = content.getCharCount();\t\t\r", "+\t\tif (caretOffset < length) {\r", "+\t\t\tcaretOffset = length;\r", "+\t\t\tshowCaret();\r", "+\t\t}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8afaee7dcc9ff2a6ec1a2247be6363e1", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "f066503dc6774f08f12f00f52baa291d8ce746ed", "commitAfterChange": "fd7ab668c455ef117406920c81d421ae9ce86391", "methodNumberBeforeChange": 80, "methodNumberAfterChange": 80, "signatureBeforeChange": "\r void doPageEnd()", "signatureAfterChange": "\r void doPageEnd()", "diff": ["-\tint line = content.getLineAtOffset(caretOffset);\r", "-\tint lineCount = content.getLineCount();\r", "+\tint line = getBottomIndex();\r", "+\tint bottomCaretOffset = content.getOffsetAtLine(line) + content.getLine(line).length();\r", "-\tif (line < lineCount) {\r", "-\t\tline = getBottomIndex();\r", "-\t\tcaretOffset = content.getOffsetAtLine(line) + content.getLine(line).length();\r", "+\tif (caretOffset < bottomCaretOffset) {\r", "+\t\tcaretOffset = bottomCaretOffset;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5723da1aeaddc933a4c409b7167ca322", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "2e9af340012249c99acbb80e5cc2336d1eed2653", "commitAfterChange": "efdcfcced009aeb2e819662fc6ea219bddad9fe9", "methodNumberBeforeChange": 80, "methodNumberAfterChange": 80, "signatureBeforeChange": "\r void doPageEnd()", "signatureAfterChange": "\r void doPageEnd()", "diff": ["-\tint line = getBottomIndex();\r", "-\tint bottomCaretOffset = content.getOffsetAtLine(line) + content.getLine(line).length();\r", "-\t\r", "-\tif (caretOffset < bottomCaretOffset) {\r", "-\t\tcaretOffset = bottomCaretOffset;\r", "-\t\tshowCaret();\r", "+\t// go to end of line if in single line mode. fixes 5673\r", "+\tif (isSingleLine()) {\r", "+\t\tdoLineEnd();\r", "+\t}\r", "+\telse {\r", "+\t\tint line = getBottomIndex();\r", "+\t\tint bottomCaretOffset = content.getOffsetAtLine(line) + content.getLine(line).length();\r", "+\t\t\r", "+\t\tif (caretOffset < bottomCaretOffset) {\r", "+\t\t\tcaretOffset = bottomCaretOffset;\r", "+\t\t\tshowCaret();\r", "+\t\t}\r"]}], "num": 24017}