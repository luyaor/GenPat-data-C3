{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "56ed06140f069f0a4383d1b355dacc2c", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1decc6f878c1ebe95bb0bf14bf92fbd9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "e2e7896b3cf0e9c97f6038a8e9fe8cfb357377bf", "commitAfterChange": "d2e697ac12d333462fab7aa686c0fbe95379eed0", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 17, "signatureBeforeChange": "  void hookEvents ()", "signatureAfterChange": "  void hookEvents ()", "diff": ["-\tOS.gtk_signal_connect (listHandle, OS.select_child, windowProc3, SWT.Selection);", "-\tOS.gtk_signal_connect_after (entryHandle, OS.changed, windowProc2, SWT.Modify);", "-\tOS.gtk_signal_connect (entryHandle, OS.activate, windowProc2, SWT.DefaultSelection);", "+\tOS.g_signal_connect (listHandle, OS.select_child, windowProc3, SWT.Selection);", "+\tOS.g_signal_connect_after (entryHandle, OS.changed, windowProc2, SWT.Modify);", "+\tOS.g_signal_connect (entryHandle, OS.activate, windowProc2, SWT.DefaultSelection);", "-\t\tOS.gtk_signal_connect (handle, OS.button_press_event, windowProc3, SWT.MouseDown);", "-\t\tOS.gtk_signal_connect (handle, OS.button_release_event, windowProc3, SWT.MouseUp);", "-\t\tOS.gtk_signal_connect (handle, OS.key_press_event, windowProc3, SWT.KeyDown);", "-\t\tOS.gtk_signal_connect (handle, OS.key_release_event, windowProc3, SWT.KeyUp);", "-\t\tOS.gtk_signal_connect (handle, OS.motion_notify_event, windowProc3, SWT.MouseMove);", "-\t\tOS.gtk_signal_connect_after (handle, OS.button_press_event, windowProc3, -SWT.MouseDown);", "-\t\tOS.gtk_signal_connect_after (handle, OS.button_release_event, windowProc3, -SWT.MouseUp);", "-\t\tOS.gtk_signal_connect_after (handle, OS.key_press_event, windowProc3, -SWT.KeyDown);", "-\t\tOS.gtk_signal_connect_after (handle, OS.key_release_event, windowProc3, -SWT.KeyUp);", "-\t\tOS.gtk_signal_connect_after (handle, OS.motion_notify_event, windowProc3, -SWT.MouseMove);", "+\t\tOS.g_signal_connect (handle, OS.button_press_event, windowProc3, SWT.MouseDown);", "+\t\tOS.g_signal_connect (handle, OS.button_release_event, windowProc3, SWT.MouseUp);", "+\t\tOS.g_signal_connect (handle, OS.key_press_event, windowProc3, SWT.KeyDown);", "+\t\tOS.g_signal_connect (handle, OS.key_release_event, windowProc3, SWT.KeyUp);", "+\t\tOS.g_signal_connect (handle, OS.motion_notify_event, windowProc3, SWT.MouseMove);", "+\t\tOS.g_signal_connect_after (handle, OS.button_press_event, windowProc3, -SWT.MouseDown);", "+\t\tOS.g_signal_connect_after (handle, OS.button_release_event, windowProc3, -SWT.MouseUp);", "+\t\tOS.g_signal_connect_after (handle, OS.key_press_event, windowProc3, -SWT.KeyDown);", "+\t\tOS.g_signal_connect_after (handle, OS.key_release_event, windowProc3, -SWT.KeyUp);", "+\t\tOS.g_signal_connect_after (handle, OS.motion_notify_event, windowProc3, -SWT.MouseMove);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d99a59f18938865d5e69185da8b8ec8f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "48512dc20e32e369917d3e1ccfb92109c9724e7e", "commitAfterChange": "1942f64e0b774317e0a8e6ec44902bb736bb7790", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": " void hookEvents ()", "signatureAfterChange": " void hookEvents ()", "diff": ["-\tsignal_connect (handle, \"expose_event\", SWT.Paint, 3);", "+\tsignal_connect_after (handle, \"expose_event\", SWT.Paint, 3);", "-\tint eventHandle = eventHandle ();", "-\tif (!OS.GTK_WIDGET_NO_WINDOW (eventHandle)) {", "-\t\tOS.gtk_widget_add_events (eventHandle, mask);", "+\tif (!OS.GTK_WIDGET_NO_WINDOW (handle)) {", "+\t\tOS.gtk_widget_add_events (handle, mask);", "-\tsignal_connect_after (eventHandle, \"motion_notify_event\", SWT.MouseMove, 3);", "-\tsignal_connect_after (eventHandle, \"button_press_event\", SWT.MouseDown, 3);", "-\tsignal_connect_after (eventHandle, \"button_release_event\", SWT.MouseUp, 3);", "-\tsignal_connect_after (eventHandle, \"enter_notify_event\", SWT.MouseEnter, 3);", "-\tsignal_connect_after (eventHandle, \"leave_notify_event\", SWT.MouseExit, 3);", "-\tsignal_connect_after (eventHandle, \"key_press_event\", SWT.KeyDown, 3);", "-\tsignal_connect_after (eventHandle, \"key_release_event\", SWT.KeyUp, 3);", "-\tsignal_connect_after (eventHandle, \"focus_in_event\", SWT.FocusIn, 3);", "-\tsignal_connect_after (eventHandle, \"focus_out_event\", SWT.FocusOut, 3);", "+\tsignal_connect_after (handle, \"motion_notify_event\", SWT.MouseMove, 3);", "+\tsignal_connect_after (handle, \"button_press_event\", SWT.MouseDown, 3);", "+\tsignal_connect_after (handle, \"button_release_event\", SWT.MouseUp, 3);", "+\tsignal_connect_after (handle, \"enter_notify_event\", SWT.MouseEnter, 3);", "+\tsignal_connect_after (handle, \"leave_notify_event\", SWT.MouseExit, 3);", "+\tsignal_connect_after (handle, \"key_press_event\", SWT.KeyDown, 3);", "+\tsignal_connect_after (handle, \"key_release_event\", SWT.KeyUp, 3);", "+\tsignal_connect_after (handle, \"focus_in_event\", SWT.FocusIn, 3);", "+\tsignal_connect_after (handle, \"focus_out_event\", SWT.FocusOut, 3);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "016d8659ceca4ba9a08966746cbd29bb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "4def951fc85e643080de398e85c25cb30ec79f91", "commitAfterChange": "ea10febb5ae3b0d1b19a13c89b6c7b27ab367f3a", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 19, "signatureBeforeChange": "  void hookEvents ()", "signatureAfterChange": "  void hookEvents ()", "diff": ["-void hookEvents () {", "-\tsuper.hookEvents ();", "-\tif ((style & SWT.SEPARATOR) != 0) return;", "-\tDisplay display = getDisplay ();", "-\tint windowProc2 = display.windowProc2;", "-\tint windowProc3 = display.windowProc3;", "-\tOS.g_signal_connect (handle, OS.clicked, windowProc2, SWT.Selection);", "-\tOS.g_signal_connect (handle, OS.enter_notify_event, windowProc3, SWT.MouseEnter);", "-\tOS.g_signal_connect (handle, OS.leave_notify_event, windowProc3, SWT.MouseExit);", "-", "-\t/*", "-\t * Feature in GTK.", "-\t * Usually, GTK widgets propagate all events to their parent when they", "-\t * are done their own processing.  However, in contrast to other widgets,", "-\t * the buttons that make up the tool items, do not propagate the mouse", "-\t * up/down events.", "-\t * (It is interesting to note that they DO propagate mouse motion events.)", "-\t */", "-\tint mask =", "-\t\tOS.GDK_EXPOSURE_MASK | OS.GDK_POINTER_MOTION_MASK |", "-\t\tOS.GDK_BUTTON_PRESS_MASK | OS.GDK_BUTTON_RELEASE_MASK | ", "-\t\tOS.GDK_ENTER_NOTIFY_MASK | OS.GDK_LEAVE_NOTIFY_MASK | ", "-\t\tOS.GDK_KEY_PRESS_MASK | OS.GDK_KEY_RELEASE_MASK |", "-\t\tOS.GDK_FOCUS_CHANGE_MASK;", "-\tOS.gtk_widget_add_events (handle, mask);", "-\tOS.g_signal_connect (handle, OS.button_press_event, windowProc3, SWT.MouseDown);", "-\tOS.g_signal_connect (handle, OS.button_release_event, windowProc3, SWT.MouseUp);", "-}", "+", "+void hookEvents () {", "+\tsuper.hookEvents ();", "+\tif ((style & SWT.SEPARATOR) != 0) return;", "+\tDisplay display = getDisplay ();", "+\tint windowProc2 = display.windowProc2;", "+\tint windowProc3 = display.windowProc3;", "+\tOS.g_signal_connect (handle, OS.clicked, windowProc2, CLICKED);", "+\tOS.g_signal_connect (handle, OS.enter_notify_event, windowProc3, ENTER_NOTIFY_EVENT);", "+\tOS.g_signal_connect (handle, OS.leave_notify_event, windowProc3, LEAVE_NOTIFY_EVENT);", "+", "+\t/*", "+\t * Feature in GTK.", "+\t * Usually, GTK widgets propagate all events to their parent when they", "+\t * are done their own processing.  However, in contrast to other widgets,", "+\t * the buttons that make up the tool items, do not propagate the mouse", "+\t * up/down events.", "+\t * (It is interesting to note that they DO propagate mouse motion events.)", "+\t */", "+\tint mask =", "+\t\tOS.GDK_EXPOSURE_MASK | OS.GDK_POINTER_MOTION_MASK |", "+\t\tOS.GDK_BUTTON_PRESS_MASK | OS.GDK_BUTTON_RELEASE_MASK | ", "+\t\tOS.GDK_ENTER_NOTIFY_MASK | OS.GDK_LEAVE_NOTIFY_MASK | ", "+\t\tOS.GDK_KEY_PRESS_MASK | OS.GDK_KEY_RELEASE_MASK |", "+\t\tOS.GDK_FOCUS_CHANGE_MASK;", "+\tOS.gtk_widget_add_events (handle, mask);", "+\tOS.g_signal_connect (handle, OS.button_press_event, windowProc3, BUTTON_PRESS_EVENT);", "+\tOS.g_signal_connect (handle, OS.button_release_event, windowProc3, BUTTON_RELEASE_EVENT);", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "180e2afe12a438bfeb3d4e3b7ce0d18f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "add63531e54321a29c008d33afde4204f0cb5aee", "commitAfterChange": "96fd165a61160456fdae7b1059d270095fdb471e", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 17, "signatureBeforeChange": "  void hookEvents ()", "signatureAfterChange": "  void hookEvents ()", "diff": ["-\t//FIXME - missing button handle", "-\tint [] handles = new int [] {entryHandle, listHandle, /*combo.button*/};", "+\tint [] handles = new int [] {arrowHandle, entryHandle, listHandle};", "-\t\tOS.gtk_widget_add_events (handle, mask);", "-\t\tOS.g_signal_connect (handle, OS.button_press_event, windowProc3, BUTTON_PRESS_EVENT);", "-\t\tOS.g_signal_connect (handle, OS.button_release_event, windowProc3, BUTTON_RELEASE_EVENT);", "-\t\tOS.g_signal_connect (handle, OS.motion_notify_event, windowProc3, MOTION_NOTIFY_EVENT);", "-\t\tOS.g_signal_connect (handle, OS.key_press_event, windowProc3, KEY_PRESS_EVENT);", "-\t\tOS.g_signal_connect (handle, OS.key_release_event, windowProc3, KEY_RELEASE_EVENT);", "-\t", "-\t\t/*", "-\t\t* Feature in GTK.  Events such as mouse move are propagate up", "-\t\t* the widget hierarchy and are seen by the parent.  This is the", "-\t\t* correct GTK behavior but not correct for SWT.  The fix is to", "-\t\t* hook a signal after and stop the propagation using a negative", "-\t\t* event number to distinguish this case.", "-\t\t*/", "-\t\tOS.g_signal_connect_after (handle, OS.button_press_event, windowProc3, -BUTTON_PRESS_EVENT);", "-\t\tOS.g_signal_connect_after (handle, OS.button_release_event, windowProc3, -BUTTON_RELEASE_EVENT);", "-\t\tOS.g_signal_connect_after (handle, OS.motion_notify_event, windowProc3, -MOTION_NOTIFY_EVENT);", "+\t\tif (handle != 0) {", "+\t\t\tOS.gtk_widget_add_events (handle, mask);", "+\t\t\tOS.g_signal_connect (handle, OS.button_press_event, windowProc3, BUTTON_PRESS_EVENT);", "+\t\t\tOS.g_signal_connect (handle, OS.button_release_event, windowProc3, BUTTON_RELEASE_EVENT);", "+\t\t\tOS.g_signal_connect (handle, OS.motion_notify_event, windowProc3, MOTION_NOTIFY_EVENT);", "+\t\t\tOS.g_signal_connect (handle, OS.key_press_event, windowProc3, KEY_PRESS_EVENT);", "+\t\t\tOS.g_signal_connect (handle, OS.key_release_event, windowProc3, KEY_RELEASE_EVENT);", "+\t\t", "+\t\t\t/*", "+\t\t\t* Feature in GTK.  Events such as mouse move are propagate up", "+\t\t\t* the widget hierarchy and are seen by the parent.  This is the", "+\t\t\t* correct GTK behavior but not correct for SWT.  The fix is to", "+\t\t\t* hook a signal after and stop the propagation using a negative", "+\t\t\t* event number to distinguish this case.", "+\t\t\t*/", "+\t\t\tOS.g_signal_connect_after (handle, OS.button_press_event, windowProc3, -BUTTON_PRESS_EVENT);", "+\t\t\tOS.g_signal_connect_after (handle, OS.button_release_event, windowProc3, -BUTTON_RELEASE_EVENT);", "+\t\t\tOS.g_signal_connect_after (handle, OS.motion_notify_event, windowProc3, -MOTION_NOTIFY_EVENT);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "36edf1c77003170302a4f570d768bb0f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "48512dc20e32e369917d3e1ccfb92109c9724e7e", "commitAfterChange": "1942f64e0b774317e0a8e6ec44902bb736bb7790", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 12, "signatureBeforeChange": "  void hookEvents ()", "signatureAfterChange": "  void hookEvents ()", "diff": ["-\tGtkCombo combo = new GtkCombo ();", "-\tOS.memmove (combo, handle, GtkCombo.sizeof);", "-\tsignal_connect (combo.list, \"select_child\", SWT.Selection, 3);", "-\tsignal_connect_after (combo.entry, \"changed\", SWT.Modify, 2);", "+\tsignal_connect (listHandle, \"select_child\", SWT.Selection, 3);", "+\tsignal_connect_after (entryHandle, \"changed\", SWT.Modify, 2);", "-\tint [] handles = new int [] {combo.entry, combo.list, combo.button};", "-\tfor (int i=0; i<handles.length; i++) {", "-\t\tint handle = handles [i];", "-\t\tif (!OS.GTK_WIDGET_NO_WINDOW (handle)) {", "-\t\t\tOS.gtk_widget_add_events (handle, mask);", "-\t\t}", "-\t\tsignal_connect_after (handle, \"motion_notify_event\", SWT.MouseMove, 3);", "-\t\tsignal_connect_after (handle, \"button_press_event\", SWT.MouseDown, 3);", "-\t\tsignal_connect_after (handle, \"button_release_event\", SWT.MouseUp, 3);", "-\t\tsignal_connect_after (handle, \"key_press_event\", SWT.KeyDown, 3);", "-\t\tsignal_connect_after (handle, \"key_release_event\", SWT.KeyUp, 3);", "-\t}", "+", "+\tOS.gtk_widget_add_events (entryHandle, mask);", "+\tOS.gtk_widget_add_events (listHandle, mask);", "+", "+\tsignal_connect_after (entryHandle, \"motion_notify_event\", SWT.MouseMove, 3);", "+\tsignal_connect_after (entryHandle, \"button_press_event\", SWT.MouseDown, 3);", "+\tsignal_connect_after (entryHandle, \"button_release_event\", SWT.MouseUp, 3);", "+\tsignal_connect_after (entryHandle, \"key_press_event\", SWT.KeyDown, 3);", "+\tsignal_connect_after (entryHandle, \"key_release_event\", SWT.KeyUp, 3);", "+", "+\tsignal_connect_after (listHandle, \"motion_notify_event\", SWT.MouseMove, 3);", "+\tsignal_connect_after (listHandle, \"button_press_event\", SWT.MouseDown, 3);", "+\tsignal_connect_after (listHandle, \"button_release_event\", SWT.MouseUp, 3);", "+\tsignal_connect_after (listHandle, \"key_press_event\", SWT.KeyDown, 3);", "+\tsignal_connect_after (listHandle, \"key_release_event\", SWT.KeyUp, 3);", "+", "+\tsignal_connect_after (handle, \"motion_notify_event\", SWT.MouseMove, 3);", "+\tsignal_connect_after (handle, \"button_press_event\", SWT.MouseDown, 3);", "+\tsignal_connect_after (handle, \"button_release_event\", SWT.MouseUp, 3);", "+\tsignal_connect_after (handle, \"key_press_event\", SWT.KeyDown, 3);", "+\tsignal_connect_after (handle, \"key_release_event\", SWT.KeyUp, 3);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b4c6a2dcbfdef303fffaab340fc50e61", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "5aabbb14fa51a603fa8266c061688e67cc447a1a", "commitAfterChange": "d4aa50218f774e4832a9260be04562a7e374a603", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "  void hookEvents ()", "signatureAfterChange": "  void hookEvents ()", "diff": ["-\t\tif (!OS.GTK_WIDGET_NO_WINDOW (handle)) {", "-\t\t\tOS.gtk_widget_add_events (handle, mask);", "-\t\t}", "-\t\t//TEMPORARY CODE", "-\t\tsignal_connect_after (handle, \"event-after\", SWT.MouseDown, 3);", "-//\t\tsignal_connect_after (handle, \"button_press_event\", SWT.MouseDown, 3);", "-//\t\tsignal_connect_after (handle, \"button_release_event\", SWT.MouseUp, 3);", "-//\t\tsignal_connect_after (handle, \"key_press_event\", SWT.KeyDown, 3);", "-//\t\tsignal_connect_after (handle, \"key_release_event\", SWT.KeyUp, 3);", "-\t\tsignal_connect_after (handle, \"motion_notify_event\", SWT.MouseMove, 3);", "+\t\tOS.gtk_widget_add_events (handle, mask);", "+\t\tsignal_connect (handle, \"button_press_event\", SWT.MouseDown, 3);", "+\t\tsignal_connect (handle, \"button_release_event\", SWT.MouseUp, 3);", "+\t\tsignal_connect (handle, \"key_press_event\", SWT.KeyDown, 3);", "+\t\tsignal_connect (handle, \"key_release_event\", SWT.KeyUp, 3);", "+\t\tsignal_connect (handle, \"motion_notify_event\", SWT.MouseMove, 3);", "+\t\tsignal_connect_after (handle, \"button_press_event\", -SWT.MouseDown, 3);", "+\t\tsignal_connect_after (handle, \"button_release_event\", -SWT.MouseUp, 3);", "+\t\tsignal_connect_after (handle, \"key_press_event\", -SWT.KeyDown, 3);", "+\t\tsignal_connect_after (handle, \"key_release_event\", -SWT.KeyUp, 3);", "+\t\tsignal_connect_after (handle, \"motion_notify_event\", -SWT.MouseMove, 3);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9d3f1794cddb4f49f777b7c05ff6b715", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "4def951fc85e643080de398e85c25cb30ec79f91", "commitAfterChange": "ea10febb5ae3b0d1b19a13c89b6c7b27ab367f3a", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 17, "signatureBeforeChange": "  void hookEvents ()", "signatureAfterChange": "  void hookEvents ()", "diff": ["-\t// TO DO - expose, enter/exit, focus in/out", "-\tOS.g_signal_connect (listHandle, OS.select_child, windowProc3, SWT.Selection);", "-\tOS.g_signal_connect_after (entryHandle, OS.changed, windowProc2, SWT.Modify);", "-\tOS.g_signal_connect (entryHandle, OS.activate, windowProc2, SWT.DefaultSelection);", "+\tOS.g_signal_connect (listHandle, OS.select_child, windowProc3, SELECT_CHILD);", "+\tOS.g_signal_connect_after (entryHandle, OS.changed, windowProc2, CHANGED);", "+\tOS.g_signal_connect (entryHandle, OS.activate, windowProc2, ACTIVATE);", "-\t\tOS.g_signal_connect (handle, OS.button_press_event, windowProc3, SWT.MouseDown);", "-\t\tOS.g_signal_connect (handle, OS.button_release_event, windowProc3, SWT.MouseUp);", "-\t\tOS.g_signal_connect (handle, OS.key_press_event, windowProc3, SWT.KeyDown);", "-\t\tOS.g_signal_connect (handle, OS.key_release_event, windowProc3, SWT.KeyUp);", "-\t\tOS.g_signal_connect (handle, OS.motion_notify_event, windowProc3, SWT.MouseMove);", "-\t\tOS.g_signal_connect_after (handle, OS.button_press_event, windowProc3, -SWT.MouseDown);", "-\t\tOS.g_signal_connect_after (handle, OS.button_release_event, windowProc3, -SWT.MouseUp);", "-\t\tOS.g_signal_connect_after (handle, OS.key_press_event, windowProc3, -SWT.KeyDown);", "-\t\tOS.g_signal_connect_after (handle, OS.key_release_event, windowProc3, -SWT.KeyUp);", "-\t\tOS.g_signal_connect_after (handle, OS.motion_notify_event, windowProc3, -SWT.MouseMove);", "+\t\tOS.g_signal_connect (handle, OS.button_press_event, windowProc3, BUTTON_PRESS_EVENT);", "+\t\tOS.g_signal_connect (handle, OS.button_release_event, windowProc3, BUTTON_RELEASE_EVENT);", "+\t\tOS.g_signal_connect (handle, OS.motion_notify_event, windowProc3, MOTION_NOTIFY_EVENT);", "+\t\tOS.g_signal_connect (handle, OS.key_press_event, windowProc3, KEY_PRESS_EVENT);", "+\t\tOS.g_signal_connect (handle, OS.key_release_event, windowProc3, KEY_RELEASE_EVENT);", "+\t", "+\t\t/*", "+\t\t* Feature in GTK.  Events such as mouse move are propagate up", "+\t\t* the widget hierarchy and are seen by the parent.  This is the", "+\t\t* correct GTK behavior but not correct for SWT.  The fix is to", "+\t\t* hook a signal after and stop the propagation using a negative", "+\t\t* event number to distinguish this case.", "+\t\t*/", "+\t\tOS.g_signal_connect_after (handle, OS.button_press_event, windowProc3, -BUTTON_PRESS_EVENT);", "+\t\tOS.g_signal_connect_after (handle, OS.button_release_event, windowProc3, -BUTTON_RELEASE_EVENT);", "+\t\tOS.g_signal_connect_after (handle, OS.motion_notify_event, windowProc3, -MOTION_NOTIFY_EVENT);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3f9d6c700e3136fd8df12910f98d4922", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "69bc14267fe19febde184663a8df2b4c6b3cf10c", "commitAfterChange": "79158ffb988037d9b3e74646df484646a9027ed7", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "  void hookEvents ()", "signatureAfterChange": "  void hookEvents ()", "diff": ["+\tDisplay display = getDisplay ();", "+\tint windowProc2 = display.windowProc2;", "+\tint windowProc3 = display.windowProc3;", "-\tsignal_connect (listHandle, \"select_child\", SWT.Selection, 3);", "-\tsignal_connect_after (entryHandle, \"changed\", SWT.Modify, 2);", "-\tsignal_connect (entryHandle, \"activate\", SWT.DefaultSelection, 2);", "+\tOS.gtk_signal_connect (listHandle, OS.select_child, windowProc3, SWT.Selection);", "+\tOS.gtk_signal_connect_after (entryHandle, OS.changed, windowProc2, SWT.Modify);", "+\tOS.gtk_signal_connect (entryHandle, OS.activate, windowProc2, SWT.DefaultSelection);", "-\t\tsignal_connect (handle, \"button_press_event\", SWT.MouseDown, 3);", "-\t\tsignal_connect (handle, \"button_release_event\", SWT.MouseUp, 3);", "-\t\tsignal_connect (handle, \"key_press_event\", SWT.KeyDown, 3);", "-\t\tsignal_connect (handle, \"key_release_event\", SWT.KeyUp, 3);", "-\t\tsignal_connect (handle, \"motion_notify_event\", SWT.MouseMove, 3);", "-\t\tsignal_connect_after (handle, \"button_press_event\", -SWT.MouseDown, 3);", "-\t\tsignal_connect_after (handle, \"button_release_event\", -SWT.MouseUp, 3);", "-\t\tsignal_connect_after (handle, \"key_press_event\", -SWT.KeyDown, 3);", "-\t\tsignal_connect_after (handle, \"key_release_event\", -SWT.KeyUp, 3);", "-\t\tsignal_connect_after (handle, \"motion_notify_event\", -SWT.MouseMove, 3);", "+\t\tOS.gtk_signal_connect (handle, OS.button_press_event, windowProc3, SWT.MouseDown);", "+\t\tOS.gtk_signal_connect (handle, OS.button_release_event, windowProc3, SWT.MouseUp);", "+\t\tOS.gtk_signal_connect (handle, OS.key_press_event, windowProc3, SWT.KeyDown);", "+\t\tOS.gtk_signal_connect (handle, OS.key_release_event, windowProc3, SWT.KeyUp);", "+\t\tOS.gtk_signal_connect (handle, OS.motion_notify_event, windowProc3, SWT.MouseMove);", "+\t\tOS.gtk_signal_connect_after (handle, OS.button_press_event, windowProc3, -SWT.MouseDown);", "+\t\tOS.gtk_signal_connect_after (handle, OS.button_release_event, windowProc3, -SWT.MouseUp);", "+\t\tOS.gtk_signal_connect_after (handle, OS.key_press_event, windowProc3, -SWT.KeyDown);", "+\t\tOS.gtk_signal_connect_after (handle, OS.key_release_event, windowProc3, -SWT.KeyUp);", "+\t\tOS.gtk_signal_connect_after (handle, OS.motion_notify_event, windowProc3, -SWT.MouseMove);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dfa0d99bda24cd753bf4a6d09bc01c83", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "d412b6257ae0dc29106f460bb8ad57dae5af6e21", "commitAfterChange": "63b1a2d36990c1f8e8816e7709fc0b09bed89050", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 9, "signatureBeforeChange": "  void hookEvents ()", "signatureAfterChange": "  void hookEvents ()", "diff": ["-", "-\tOS.gtk_widget_add_events (entryHandle, mask);", "-\tOS.gtk_widget_add_events (listHandle, mask);", "-", "-\tsignal_connect_after (entryHandle, \"motion_notify_event\", SWT.MouseMove, 3);", "-\tsignal_connect_after (entryHandle, \"button_press_event\", SWT.MouseDown, 3);", "-\tsignal_connect_after (entryHandle, \"button_release_event\", SWT.MouseUp, 3);", "-\tsignal_connect_after (entryHandle, \"key_press_event\", SWT.KeyDown, 3);", "-\tsignal_connect_after (entryHandle, \"key_release_event\", SWT.KeyUp, 3);", "-", "-\tsignal_connect_after (listHandle, \"motion_notify_event\", SWT.MouseMove, 3);", "-\tsignal_connect_after (listHandle, \"button_press_event\", SWT.MouseDown, 3);", "-\tsignal_connect_after (listHandle, \"button_release_event\", SWT.MouseUp, 3);", "-\tsignal_connect_after (listHandle, \"key_press_event\", SWT.KeyDown, 3);", "-\tsignal_connect_after (listHandle, \"key_release_event\", SWT.KeyUp, 3);", "-", "-\tsignal_connect_after (handle, \"motion_notify_event\", SWT.MouseMove, 3);", "-\tsignal_connect_after (handle, \"button_press_event\", SWT.MouseDown, 3);", "-\tsignal_connect_after (handle, \"button_release_event\", SWT.MouseUp, 3);", "-\tsignal_connect_after (handle, \"key_press_event\", SWT.KeyDown, 3);", "-\tsignal_connect_after (handle, \"key_release_event\", SWT.KeyUp, 3);", "-}", "+\t//FIXME - missing button handle", "+\tint [] handles = new int [] {entryHandle, listHandle, /*combo.button*/};", "+\tfor (int i=0; i<handles.length; i++) {", "+\t\tint handle = handles [i];", "+\t\tif (!OS.GTK_WIDGET_NO_WINDOW (handle)) {", "+\t\t\tOS.gtk_widget_add_events (handle, mask);", "+\t\t}", "+\t\tsignal_connect_after (handle, \"event\", SWT.MouseDown, 3);", "+\t\tsignal_connect_after (handle, \"motion_notify_event\", SWT.MouseMove, 3);", "+//\t\tsignal_connect_after (handle, \"button_press_event\", SWT.MouseDown, 3);", "+//\t\tsignal_connect_after (handle, \"button_release_event\", SWT.MouseUp, 3);", "+\t\tsignal_connect_after (handle, \"key_press_event\", SWT.KeyDown, 3);", "+\t\tsignal_connect_after (handle, \"key_release_event\", SWT.KeyUp, 3);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "341dc445b3fc191c36ad6f857f4ab914", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Composite.java", "commitBeforeChange": "48512dc20e32e369917d3e1ccfb92109c9724e7e", "commitAfterChange": "1942f64e0b774317e0a8e6ec44902bb736bb7790", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 6, "signatureBeforeChange": "  void deregister ()", "signatureAfterChange": "  void hookEvents ()", "diff": ["+void hookEvents () {", "+\tsignal_connect_after (handle, \"expose_event\", SWT.Paint, 3);", "+\tint mask =", "+\t\tOS.GDK_POINTER_MOTION_MASK | ", "+\t\tOS.GDK_BUTTON_PRESS_MASK | OS.GDK_BUTTON_RELEASE_MASK | ", "+\t\tOS.GDK_ENTER_NOTIFY_MASK | OS.GDK_LEAVE_NOTIFY_MASK | ", "+\t\tOS.GDK_KEY_PRESS_MASK | OS.GDK_KEY_RELEASE_MASK |", "+\t\tOS.GDK_FOCUS_CHANGE_MASK;", "+\tOS.gtk_widget_add_events (handle, mask);", "+\tsignal_connect_after (handle, \"motion_notify_event\", SWT.MouseMove, 3);", "+\tsignal_connect_after (handle, \"button_press_event\", SWT.MouseDown, 3);", "+\tsignal_connect_after (handle, \"button_release_event\", SWT.MouseUp, 3);", "+\tsignal_connect_after (handle, \"enter_notify_event\", SWT.MouseEnter, 3);", "+\tsignal_connect_after (handle, \"leave_notify_event\", SWT.MouseExit, 3);", "+\tsignal_connect_after (handle, \"key_press_event\", SWT.KeyDown, 3);", "+\tsignal_connect_after (handle, \"key_release_event\", SWT.KeyUp, 3);", "+\tsignal_connect_after (handle, \"focus_in_event\", SWT.FocusIn, 3);", "+\tsignal_connect_after (handle, \"focus_out_event\", SWT.FocusOut, 3);", "-void deregister () {", "-\tsuper.deregister ();", "-\tif (topHandle != 0) WidgetTable.remove (topHandle);", "-\tif (eventBoxHandle != 0) WidgetTable.remove (eventBoxHandle);", "-\tif (fixedHandle != 0) WidgetTable.remove (fixedHandle);", "-}"]}], "num": 33323}