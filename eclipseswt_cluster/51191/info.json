{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "846a35778d43edf57411f286a3e92e2b", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c9f0d55f4cd20391021c3529b2931623", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/CoolBar.java", "commitBeforeChange": "23825160d21d6c3c1a58f38fbbe98cca0211c41b", "commitAfterChange": "88b2eb5d18523e69ae1e3acb4a4a79733b8a3e52", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "\r \r void createItem (CoolItem item, int index)", "signatureAfterChange": "\r \r void createItem (CoolItem item, int index)", "diff": ["+\r", "+\t/*\r", "+\t* Feature in Windows.  When inserting an item at end of a row,\r", "+\t* eventually, Windows will begin to place the item on the right\r", "+\t* side of the cool bar.  The fix is to resize the next to last\r", "+\t* item to the ideal size and resize the new items to the maximum\r", "+\t* size.\r", "+\t*/\r", "+\tint lastIndex = getLastIndexOfRow (index);\t\r", "+\tif (index == lastIndex + 1) {  \t\r", "+\t\tREBARBANDINFO rbBand2 = new REBARBANDINFO ();\r", "+\t\trbBand2.cbSize = REBARBANDINFO.sizeof;\r", "+\t\trbBand2.fMask = OS.RBBIM_IDEALSIZE;\r", "+\t\tOS.SendMessage (handle, OS.RB_GETBANDINFO, lastIndex, rbBand2);\r", "+\t\trbBand2.fMask = OS.RBBIM_SIZE;\r", "+\t\trbBand2.cx = rbBand2.cxIdeal;\r", "+\t\tOS.SendMessage (handle, OS.RB_SETBANDINFO, lastIndex, rbBand2);\r", "+\t\trbBand.fMask |= OS.RBBIM_SIZE;\r", "+\t\trbBand.cx = MAX_WIDTH; \r", "+\t}\r", "+\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "198aaee8a62355d6ce2340280f9370f7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/CoolBar.java", "commitBeforeChange": "267c533e816cb2810b67cfcbeb132088034f52fd", "commitAfterChange": "0b01cef709770cee06399410b45cb5a2079c746f", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "\r \r void createItem (CoolItem item, int index)", "signatureAfterChange": "\r \r void createItem (CoolItem item, int index)", "diff": ["-\t* eventually, Windows will begin to place the item on the right\r", "-\t* side of the cool bar.  The fix is to resize the next to last\r", "-\t* item to the ideal size and resize the new items to the maximum\r", "-\t* size.\r", "+\t* sometimes, Windows will begin to place the item on the right\r", "+\t* side of the cool bar.  The fix is to resize the new items to\r", "+\t* the maximum size and then resize the next to last item to the\r", "+\t* ideal size.\r", "-\tif (index == lastIndex + 1) {  \t\r", "-\t\tresizeToPreferredWidth (lastIndex);\r", "+\tboolean fixLast = index == lastIndex + 1;\r", "+\tif (fixLast) {  \t\r", "+\t\r", "+\t/* Resize the next to last item to the ideal size */\r", "+\tif (fixLast) {  \t\r", "+\t\tresizeToPreferredWidth (lastIndex);\r", "+\t}\r", "+\t\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6acf00d8b70b87510788fe08c94be1ae", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/CoolBar.java", "commitBeforeChange": "23825160d21d6c3c1a58f38fbbe98cca0211c41b", "commitAfterChange": "88b2eb5d18523e69ae1e3acb4a4a79733b8a3e52", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "\r \r void destroyItem (CoolItem item)", "signatureAfterChange": "\r \r void destroyItem (CoolItem item)", "diff": ["+\t\r", "+\t/*\r", "+\t* Feature in Windows.  When the last item in a row is removed,\r", "+\t* Windows sometimes moves items to the right side of the cool\r", "+\t* bar.  The fix is to resize the next to last item to be the\r", "+\t* maximum size.\r", "+\t*/\r", "+\tint lastIndex = getLastIndexOfRow (index);\r", "+\tint count = OS.SendMessage (handle, OS.RB_GETBANDCOUNT, 0, 0);\r", "+\tif (count > 1 && index == lastIndex) {\r", "+\t\tREBARBANDINFO rbBand = new REBARBANDINFO ();\r", "+\t\trbBand.cbSize = REBARBANDINFO.sizeof;\r", "+\t\trbBand.fMask = OS.RBBIM_SIZE;\t\t\t\r", "+\t\trbBand.cx = MAX_WIDTH;\r", "+\t\tOS.SendMessage (handle, OS.RB_SETBANDINFO, lastIndex - 1, rbBand);\t\t\t\t\t\t\t\t\r", "+\t}\t\r", "+\t\t\r"]}], "num": 51191}