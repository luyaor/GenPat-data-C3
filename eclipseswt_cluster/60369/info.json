{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "cb3f5d787997deb55a0c9f7a35b24ba6", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f0c5a4497788a930ebd60a882f57a331", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/treetable/org/eclipse/swt/widgets/TreeItem.java", "commitBeforeChange": "5689d8e849bba9fa425a7586a442195ae623d46c", "commitAfterChange": "47f1fc633e8f61df985d0a9b94a145703550a39b", "methodNumberBeforeChange": 62, "methodNumberAfterChange": 63, "signatureBeforeChange": " public void setFont (int columnIndex, Font value)", "signatureAfterChange": " public void setFont (int columnIndex, Font value)", "diff": ["-\tint validColumnCount = Math.max(1, parent.getColumnCount ());", "+", "+\tint validColumnCount = Math.max (1, parent.getColumnCount ());", "-\tif (cellFont == null) {", "-\t\tcellFont = new Font [validColumnCount];", "+\tif (cellFonts == null) cellFonts = new Font [validColumnCount];", "+\tif (cellFonts [columnIndex] == value) return;", "+\tif (cellFonts [columnIndex] != null && cellFonts [columnIndex].equals (value)) return;", "+\tcellFonts [columnIndex] = value;", "+\t", "+\t/* recompute cached values for string measurements */", "+\tGC gc = new GC (parent);", "+\tgc.setFont (getFont (columnIndex));", "+\tif (fontHeights == null) fontHeights = new int [validColumnCount];", "+\tfontHeights [columnIndex] = gc.getFontMetrics ().getHeight ();", "+\tString string = getText (columnIndex);", "+\tif (string.length () > 0) {", "+\t\ttextWidths [columnIndex] = gc.textExtent (string).x;", "-\tif (cellFont [columnIndex] == value) return;", "-\tif (cellFont [columnIndex] != null && cellFont [columnIndex].equals (value)) return;", "-\tcellFont [columnIndex] = value;", "+\tgc.dispose ();", "+"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fa0da1aadceae00b078067fdf4172841", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/treetable/org/eclipse/swt/widgets/TableItem.java", "commitBeforeChange": "ed6471c0ec0d0ee0c1436d2bdeadc8ba513ab4fd", "commitAfterChange": "034d8fba7f4ca7576ddaeee539a2fb56ee664327", "methodNumberBeforeChange": 33, "methodNumberAfterChange": 34, "signatureBeforeChange": " Point getItemExtent(TableColumn column)", "signatureAfterChange": " int getPreferredWidth (int columnIndex)", "diff": ["- */", "-Point getItemExtent(TableColumn column) {", "-\tTable parent = getParent();", "-\tint columnIndex = column.getIndex();", "-\tPoint extent = new Point(getImageStopX(columnIndex), parent.getItemHeight() - parent.getGridLineWidth());", "-\tGC gc = new GC(parent);", "-\tgc.setFont(getFont());", "-\tString trimmedText = getText(gc, column);", "-", "-\tif (trimmedText != null && trimmedText.length() > 0) {", "-\t\textent.x += gc.stringExtent(trimmedText).x + getTextIndent(columnIndex);", "-\t}", "-\tif (columnIndex == TableColumn.FIRST) {", "-\t\textent.x += SELECTION_PADDING;", "-\t}", "-\tgc.dispose();\t\t", "-\treturn extent;", "-}", "+ */", "+int getPreferredWidth (int columnIndex) {", "+\tGC gc = new GC (parent);", "+\tgc.setFont (getFont (columnIndex));", "+\tint textPaintWidth = gc.textExtent (getText (columnIndex)).x + 2 * MARGIN_TEXT;", "+\tgc.dispose ();", "+\tint result = getTextX (columnIndex) + textPaintWidth + parent.getCellPadding ();\t/* right side cell pad */", "+\tresult -= parent.columns [columnIndex].getX ();", "+\treturn result;", "+}"]}], "num": 60369}