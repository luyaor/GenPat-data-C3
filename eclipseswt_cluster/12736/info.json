{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0ef4c08a564042240d774636e41c04f1", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "41365776fa74df7235277c402e87fae2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "ce4c77efd9bd998272ac3db104591f09b6ccfd27", "commitAfterChange": "87ab5683e53b08647770465faaf9090a3a25195d", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": " void drawImageMask(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple, int imgWidth, int imgHeight)", "signatureAfterChange": " void drawImageMask(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple, int imgWidth, int imgHeight)", "diff": ["-\t\t\tOS.gdk_region_offset(data.clipRgn, -destX, -destY);", "+\t\t\tOS.gdk_region_offset(data.clipRgn, destX - srcX, destY - srcY);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a692cda630753fd046a19489e2048aad", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "f9bb5d40accd622147de6079abe42fd37fe5f2d7", "commitAfterChange": "f50ec8ab73fb1f222ede738d89c8418386b1b69b", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": " void drawImageMask(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple, int imgWidth, int imgHeight)", "signatureAfterChange": " void drawImageMask(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple, int imgWidth, int imgHeight)", "diff": ["-\t/* Merge clipping with mask if necessary */", "-\tif (data.clipRgn != 0)\t {", "-\t\tint newWidth =  imgWidth;", "-\t\tint newHeight = imgHeight;", "-\t\tint bytesPerLine = (((newWidth + 7) / 8) + 3) / 4 * 4;", "-\t\tbyte[] maskData = new byte[bytesPerLine * newHeight];", "-\t\tint mask = OS.gdk_bitmap_create_from_data(0, maskData, bytesPerLine * 8, newHeight);", "-\t\tif (mask != 0) {", "-\t\t\tint gc = OS.gdk_gc_new(mask);", "-\t\t\tOS.gdk_region_offset(data.clipRgn, -destX + srcX, -destY + srcY);", "-\t\t\tOS.gdk_gc_set_clip_region(gc, data.clipRgn);", "-\t\t\tOS.gdk_region_offset(data.clipRgn, -destX, -destY);", "-\t\t\tGdkColor color = new GdkColor();", "-\t\t\tcolor.pixel = 1;", "-\t\t\tOS.gdk_gc_set_foreground(gc, color);", "-\t\t\tOS.gdk_draw_rectangle(mask, gc, 1, 0, 0, newWidth, newHeight);", "-\t\t\tOS.gdk_gc_set_function(gc, OS.GDK_AND);", "-\t\t\tOS.gdk_draw_drawable(mask, gc, maskPixmap, 0, 0, 0, 0, newWidth, newHeight);", "-\t\t\tOS.g_object_unref(gc);", "-\t\t\tif (maskPixmap != 0 && srcImage.mask != maskPixmap) OS.g_object_unref(maskPixmap);", "-\t\t\tmaskPixmap = mask;", "-\t\t}", "-\t}", "-", "+\t/* Merge clipping with mask if necessary */", "+\tif (data.clipRgn != 0)\t {", "+\t\tint newWidth =  srcX + srcWidth;", "+\t\tint newHeight = srcY + srcHeight;", "+\t\tint bytesPerLine = (((newWidth + 7) / 8) + 3) / 4 * 4;", "+\t\tbyte[] maskData = new byte[bytesPerLine * newHeight];", "+\t\tint mask = OS.gdk_bitmap_create_from_data(0, maskData, bytesPerLine * 8, newHeight);", "+\t\tif (mask != 0) {", "+\t\t\tint gc = OS.gdk_gc_new(mask);", "+\t\t\tOS.gdk_region_offset(data.clipRgn, -destX + srcX, -destY + srcY);", "+\t\t\tOS.gdk_gc_set_clip_region(gc, data.clipRgn);", "+\t\t\tOS.gdk_region_offset(data.clipRgn, -destX, -destY);", "+\t\t\tGdkColor color = new GdkColor();", "+\t\t\tcolor.pixel = 1;", "+\t\t\tOS.gdk_gc_set_foreground(gc, color);", "+\t\t\tOS.gdk_draw_rectangle(mask, gc, 1, 0, 0, newWidth, newHeight);", "+\t\t\tOS.gdk_gc_set_function(gc, OS.GDK_AND);", "+\t\t\tOS.gdk_draw_drawable(mask, gc, maskPixmap, 0, 0, 0, 0, newWidth, newHeight);", "+\t\t\tOS.g_object_unref(gc);", "+\t\t\tif (maskPixmap != 0 && srcImage.mask != maskPixmap) OS.g_object_unref(maskPixmap);", "+\t\t\tmaskPixmap = mask;", "+\t\t}", "+\t}", "+"]}], "num": 12736}