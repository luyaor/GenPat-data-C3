{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "957813abd5d15091104a745c671642eb", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c503b04a08ec5b4d82393517bb862a0c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/FontData.java", "commitBeforeChange": "c29a5344dc2e0789f09ee8a74f2d57a0b6fb0279", "commitAfterChange": "90c2aa8f1a65a2906cfdc6af977ac217b3024777", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": " public void setName(String name)", "signatureAfterChange": " public void setName(String name)", "diff": ["-\tchar [] chars = new char [32];", "-\tint length = name.length();", "-\tname.getChars (0, length <= 31 ? length : 31, chars, 0);", "-\tdata.lfFaceName0 = chars[0];", "-\tdata.lfFaceName1 = chars[1];", "-\tdata.lfFaceName2 = chars[2];", "-\tdata.lfFaceName3 = chars[3];", "-\tdata.lfFaceName4 = chars[4];", "-\tdata.lfFaceName5 = chars[5];", "-\tdata.lfFaceName6 = chars[6];", "-\tdata.lfFaceName7 = chars[7];", "-\tdata.lfFaceName8 = chars[8];", "-\tdata.lfFaceName9 = chars[9];", "-\tdata.lfFaceName10 = chars[10];", "-\tdata.lfFaceName11 = chars[11];", "-\tdata.lfFaceName12 = chars[12];", "-\tdata.lfFaceName13 = chars[13];", "-\tdata.lfFaceName14 = chars[14];", "-\tdata.lfFaceName15 = chars[15];", "-\tdata.lfFaceName16 = chars[16];", "-\tdata.lfFaceName17 = chars[17];", "-\tdata.lfFaceName18 = chars[18];", "-\tdata.lfFaceName19 = chars[19];", "-\tdata.lfFaceName20 = chars[20];", "-\tdata.lfFaceName21 = chars[21];", "-\tdata.lfFaceName22 = chars[22];", "-\tdata.lfFaceName23 = chars[23];", "-\tdata.lfFaceName24 = chars[24];", "-\tdata.lfFaceName25 = chars[25];", "-\tdata.lfFaceName26 = chars[26];", "-\tdata.lfFaceName27 = chars[27];", "-\tdata.lfFaceName28 = chars[28];", "-\tdata.lfFaceName29 = chars[29];", "-\tdata.lfFaceName30 = chars[30];", "-\tdata.lfFaceName31 = chars[31];", "+\tTCHAR buffer = new TCHAR(0, name, true);", "+\tint length = Math.min(OS.LF_FACESIZE - 1, buffer.length());", "+\tif (OS.IsUnicode) {", "+\t\tchar[] lfFaceName = ((LOGFONTW)data).lfFaceName;", "+\t\tfor (int i = 0; i < lfFaceName.length; i++) lfFaceName[i] = 0;", "+\t\tSystem.arraycopy(buffer.chars, 0, lfFaceName, 0, length);", "+\t} else {", "+\t\tbyte[] lfFaceName = ((LOGFONTA)data).lfFaceName;", "+\t\tfor (int i = 0; i < lfFaceName.length; i++) lfFaceName[i] = 0;", "+\t\tSystem.arraycopy(buffer.bytes, 0, lfFaceName, 0, length);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fbe65f0bacdcbd618dde22b3f23bbe32", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/FontData.java", "commitBeforeChange": "c29a5344dc2e0789f09ee8a74f2d57a0b6fb0279", "commitAfterChange": "90c2aa8f1a65a2906cfdc6af977ac217b3024777", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " public FontData(String string)", "signatureAfterChange": " public FontData(String string)", "diff": ["-\tdata = new LOGFONT();", "+\tdata = OS.IsUnicode ? (LOGFONT)new LOGFONTW() : new LOGFONTA();", "-\t\tLOGFONT newData = new LOGFONT();", "+\t\tLOGFONT newData = OS.IsUnicode ? (LOGFONT)new LOGFONTW() : new LOGFONTA();", "-\t\tchar[] lfFaceName = new char[32];", "-\t\tstring.getChars(start, string.length(), lfFaceName, 0);", "-\t\tnewData.lfFaceName0 = lfFaceName[0];", "-\t\tnewData.lfFaceName1 = lfFaceName[1];", "-\t\tnewData.lfFaceName2 = lfFaceName[2];", "-\t\tnewData.lfFaceName3 = lfFaceName[3];", "-\t\tnewData.lfFaceName4 = lfFaceName[4];", "-\t\tnewData.lfFaceName5 = lfFaceName[5];", "-\t\tnewData.lfFaceName6 = lfFaceName[6];", "-\t\tnewData.lfFaceName7 = lfFaceName[7];", "-\t\tnewData.lfFaceName8 = lfFaceName[8];", "-\t\tnewData.lfFaceName9 = lfFaceName[9];", "-\t\tnewData.lfFaceName10 = lfFaceName[10];", "-\t\tnewData.lfFaceName11 = lfFaceName[11];", "-\t\tnewData.lfFaceName12 = lfFaceName[12];", "-\t\tnewData.lfFaceName13 = lfFaceName[13];", "-\t\tnewData.lfFaceName14 = lfFaceName[14];", "-\t\tnewData.lfFaceName15 = lfFaceName[15];", "-\t\tnewData.lfFaceName16 = lfFaceName[16];", "-\t\tnewData.lfFaceName17 = lfFaceName[17];", "-\t\tnewData.lfFaceName18 = lfFaceName[18];", "-\t\tnewData.lfFaceName19 = lfFaceName[19];", "-\t\tnewData.lfFaceName20 = lfFaceName[20];", "-\t\tnewData.lfFaceName21 = lfFaceName[21];", "-\t\tnewData.lfFaceName22 = lfFaceName[22];", "-\t\tnewData.lfFaceName23 = lfFaceName[23];", "-\t\tnewData.lfFaceName24 = lfFaceName[24];", "-\t\tnewData.lfFaceName25 = lfFaceName[25];", "-\t\tnewData.lfFaceName26 = lfFaceName[26];", "-\t\tnewData.lfFaceName27 = lfFaceName[27];", "-\t\tnewData.lfFaceName28 = lfFaceName[28];", "-\t\tnewData.lfFaceName29 = lfFaceName[29];", "-\t\tnewData.lfFaceName30 = lfFaceName[30];", "-\t\tnewData.lfFaceName31 = lfFaceName[31];", "+\t\tTCHAR buffer = new TCHAR(0, string.substring(start), false);", "+\t\tint length = Math.min(OS.LF_FACESIZE - 1, buffer.length());", "+\t\tif (OS.IsUnicode) {", "+\t\t\tchar[] lfFaceName = ((LOGFONTW)newData).lfFaceName;", "+\t\t\tSystem.arraycopy(buffer.chars, 0, lfFaceName, 0, length);", "+\t\t} else {", "+\t\t\tbyte[] lfFaceName = ((LOGFONTA)newData).lfFaceName;", "+\t\t\tSystem.arraycopy(buffer.bytes, 0, lfFaceName, 0, length);", "+\t\t}"]}], "num": 15475}