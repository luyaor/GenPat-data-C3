{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "34154da7350a53492fe46142db6245c0", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "68351e98bf8cbbeaba3c5a0b830cfe81", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "a095891b6ab3835ad4e17359a64c3c6d244b607e", "commitAfterChange": "0d80efe32817c2ef97e0f512adc1d82ff755eb3a", "methodNumberBeforeChange": 231, "methodNumberAfterChange": 231, "signatureBeforeChange": "\r void redrawLines(int firstLine, int offsetInFirstLine, int lastLine, int endOffset, boolean clearBackground)", "signatureAfterChange": "\r void redrawLines(int firstLine, int offsetInFirstLine, int lastLine, int endOffset, boolean clearBackground)", "diff": ["+\tboolean fullLineRedraw = ((getStyle() & SWT.FULL_SELECTION) != 0 && lastLine > firstLine);\r", "+\r", "+\t// if redraw range includes last character on the first line, \r", "+\t// clear background to right widget border. fixes bug 19595.\r", "+\tif (clearBackground && endOffset - firstLineOffset >= line.length()) {\r", "+\t\tfullLineRedraw = true;\r", "+\t}\r", "-\tif ((getStyle() & SWT.FULL_SELECTION) != 0 && lastLine > firstLine) {\r", "+\tif (fullLineRedraw) {\r", "-\t\t\tredrawStopX = getXAtOffset(line, lastLine, offsetInLastLine) - leftMargin;\r", "+\t\t\t// if redraw range includes last character on the last line, \r", "+\t\t\t// clear background to right widget border. fixes bug 19595.\r", "+\t\t\tif (clearBackground && offsetInLastLine >= line.length()) {\r", "+\t\t\t\tfullLineRedraw = true;\r", "+\t\t\t}\r", "+\t\t\tif (fullLineRedraw) {\r", "+\t\t\t\tredrawStopX = getClientArea().width - leftMargin;\r", "+\t\t\t}\r", "+\t\t\telse {\r", "+\t\t\t\tredrawStopX = getXAtOffset(line, lastLine, offsetInLastLine) - leftMargin;\r", "+\t\t\t}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "aa5754ab8774c1e9639c79fcf532dc38", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText2.java", "commitBeforeChange": "ea7476519b9e21c42e4d4550669901e532bedcab", "commitAfterChange": "76b33e0e494479a9009365afe16385a154f070b7", "methodNumberBeforeChange": 234, "methodNumberAfterChange": 231, "signatureBeforeChange": " void redrawLines(int firstLine, int offsetInFirstLine, int lastLine, int endOffset, boolean clearBackground)", "signatureAfterChange": " void redrawLines(int firstLine, int offsetInFirstLine, int lastLine, int endOffset, boolean clearBackground)", "diff": ["-\tString line = content.getLine(firstLine);", "+\tString line = content.getLine(firstLine);", "-\t// if redraw range includes last character on the first line, ", "-\t// clear background to right widget border. fixes bug 19595.", "-\tif (clearBackground && endOffset - lineOffset >= line.length()) {", "-\t\tfullLineRedraw = true;", "-\t}\t", "+\t// if redraw range includes last character on the first line, ", "+\t// clear background to right widget border. fixes bug 19595.", "+\tint lineLength = Math.max(0, layout.getLineOffsets()[layout.getLineIndex(offsetInFirstLine) + 1] - 1);", "+\tif (clearBackground && endOffset - lineOffset >= lineLength) {", "+\t\tfullLineRedraw = true;", "+\t}", "+\tfullLineRedraw = true;"]}], "num": 22955}