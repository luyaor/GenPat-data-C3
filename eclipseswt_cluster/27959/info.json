{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0f1a25705383bbfc57b0fb0d667e9d18", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "179bd93b36ab3906a951bef1984ee291", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "635a9e5d0a5f495ec272194dbb750eddc745876f", "commitAfterChange": "e83d77b7ddccf5500d06ea30a64ce0d090ac4b10", "methodNumberBeforeChange": 277, "methodNumberAfterChange": 255, "signatureBeforeChange": " StyledTextEvent sendLineEvent(int eventType, int lineOffset, String line)", "signatureAfterChange": " StyledTextEvent sendLineEvent(int eventType, int lineOffset, String line)", "diff": ["- */", "-StyledTextEvent sendLineEvent(int eventType, int lineOffset, String line) {", "-\tStyledTextEvent event = null;", "-\t", "-\tif (isListening(eventType)) {", "-\t\tevent = new StyledTextEvent(logicalContent);\t\t", "-\t\tif (wordWrap) {", "-\t\t    // if word wrap is on, the line offset and text may be visual (wrapped)", "-\t\t    int lineIndex = logicalContent.getLineAtOffset(lineOffset);", "-\t\t    ", "-\t\t    event.detail = logicalContent.getOffsetAtLine(lineIndex);", "-\t\t\tevent.text = logicalContent.getLine(lineIndex);", "-\t\t}", "-\t\telse {", "-\t\t\tevent.detail = lineOffset;", "-\t\t\tevent.text = line;", "-\t\t}", "-\t\tnotifyListeners(eventType, event);", "-\t}", "-\treturn event;\t", "-}", "+ */", "+StyledTextEvent sendLineEvent(int eventType, int lineOffset, String line) {", "+\tStyledTextEvent event = null;", "+\tif (isListening(eventType)) {", "+\t\tevent = new StyledTextEvent(content);", "+\t\tevent.detail = lineOffset;", "+\t\tevent.text = line;", "+\t\tevent.alignment = alignment;", "+\t\tevent.indent = indent;", "+\t\tevent.justify = justify;", "+\t\tnotifyListeners(eventType, event);", "+\t}", "+\treturn event;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c79a2063844fb6444eff7b3d349ddc2e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "715380dedab8017fdd9718f0add11d6826de95d3", "commitAfterChange": "a302881ef15c2c00793701c543ae06d06feb8b0c", "methodNumberBeforeChange": 98, "methodNumberAfterChange": 98, "signatureBeforeChange": "\r void doLineUp()", "signatureAfterChange": "\r void doLineUp()", "diff": ["-\tint line = content.getLineAtOffset(caretOffset);\r", "-\t\r", "-\tif (line != caretLine) {\r", "-\t\t// caret is at end of visual line/start of next visual line in \r", "-\t\t// word wrap mode\r", "-\t\tline = caretLine;\r", "-\t}\r", "-\tif (line > 0) {\r", "-\t\tString lineText = content.getLine(line);\r", "-\t\tint lineOffset = content.getOffsetAtLine(line);\r", "+\tif (caretLine > 0) {\r", "+\t\tString lineText = content.getLine(caretLine);\r", "+\t\tint lineOffset = content.getOffsetAtLine(caretLine);\r", "-\t\tint caretX = getXAtOffset(lineText, line, offsetInLine);\r", "-\t\tcaretLine = --line;\r", "+\t\tint caretX = getXAtOffset(lineText, caretLine, offsetInLine);\r", "+\t\t\r", "+\t\tcaretLine--;\r", "-\t\t\tcaretOffset = getBidiOffsetAtMouseLocation(caretX, line);\r", "+\t\t\tcaretOffset = getBidiOffsetAtMouseLocation(caretX, caretLine);\r", "-\t\t\tcaretOffset = getOffsetAtMouseLocation(caretX, line);\r", "+\t\t\tcaretOffset = getOffsetAtMouseLocation(caretX, caretLine);\r", "-\tshowCaret();\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7ef90995bef1c4d2918ea9aca24fc529", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "1e2b24471827c2b57b5a4d3c9688861ec050c72e", "commitAfterChange": "4f6cacc9f76349f45c7a4f16b88a3566ae23ff3b", "methodNumberBeforeChange": 301, "methodNumberAfterChange": 301, "signatureBeforeChange": " boolean setVerticalScrollOffset(int pixelOffset, boolean adjustScrollBar)", "signatureAfterChange": " boolean setVerticalScrollOffset(int pixelOffset, boolean adjustScrollBar)", "diff": ["-\tCaret caret = getCaret();", "-\tif (caret != null) {", "-\t\tint line = getCaretLine();", "-\t\tcaret.setLocation(caret.getLocation().x, line * lineHeight - verticalScrollOffset);", "-\t}", "+\tint oldColumnX = columnX;", "+\tsetCaretLocation();", "+\t// restore the original horizontal caret index", "+\tcolumnX = oldColumnX;"]}], "num": 27959}