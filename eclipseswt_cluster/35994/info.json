{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6e4fe7bcc768eeb9bed6b33d5db442a3", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f284821fe514a4ac35ac5b8562c61f75", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/carbon/org/eclipse/swt/browser/Browser.java", "commitBeforeChange": "c0da06a030cb53b98b6c84c31ff5fa25673f9b4b", "commitAfterChange": "25ef8096edd936e3f4d54355ac20eb52bb0658de", "methodNumberBeforeChange": 29, "methodNumberAfterChange": 29, "signatureBeforeChange": " public boolean setText(String html)", "signatureAfterChange": " public boolean setText(String html)", "diff": ["+\t/*", "+\t* Bug in Safari.  The web view segment faults in some circunstances", "+\t* when the text changes during the location changing callback.  The", "+\t* fix is to defer the work until the callback is done. ", "+\t*/", "+\tif (changingLocation) {", "+\t\tthis.html = html;", "+\t} else {", "+\t\t_setText(html);", "+\t}", "+\treturn true;", "+}", "-\t", "-\treturn true;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "56c7efede25c163673ea6f962f53c000", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/cocoa/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "4edc576de20a88abac088ae701d29ce3e54ede4f", "commitAfterChange": "c2ec875b36ecf39df432358c14d183b7d7f45fe0", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 18, "signatureBeforeChange": " \t void _setText(String html)", "signatureAfterChange": " \t void _setText(String html)", "diff": ["-\tint length = html.length();", "-\tchar[] buffer = new char[length];", "-\thtml.getChars(0, length, buffer, 0);", "-\tint string = OS.CFStringCreateWithCharacters(0, buffer, length);", "-", "-\tlength = URI_FROMMEMORY.length();", "-\tbuffer = new char[length];", "-\tURI_FROMMEMORY.getChars(0, length, buffer, 0);", "-\tint URLString = OS.CFStringCreateWithCharacters(0, buffer, length);", "-\t", "-\t/*", "-\t* Note.  URLWithString uses autorelease.  The resulting URL", "-\t* does not need to be released.", "-\t* URL = [NSURL URLWithString:(NSString *)URLString]", "-\t*/\t", "-\tint URL = Cocoa.objc_msgSend(Cocoa.C_NSURL, Cocoa.S_URLWithString, URLString);", "-\tOS.CFRelease(URLString);", "-", "-\tint webView = Cocoa.HIWebViewGetWebView(webViewHandle);", "-\t", "-\t//mainFrame = [webView mainFrame];", "-\tint mainFrame = Cocoa.objc_msgSend(webView, Cocoa.S_mainFrame);", "-\t", "-\t//[mainFrame loadHTMLString:(NSString *) string baseURL:(NSURL *)URL];", "-\tCocoa.objc_msgSend(mainFrame, Cocoa.S_loadHTMLStringbaseURL, string, URL);", "-\tOS.CFRelease(string);", "+\tNSString string = NSString.stringWith(html);", "+\tNSString URLString = NSString.stringWith(URI_FROMMEMORY);", "+\tNSURL URL = NSURL.static_URLWithString_(URLString);", "+\tWebFrame mainFrame = webView.mainFrame();", "+\tmainFrame.loadHTMLString(string, URL);"]}], "num": 35994}