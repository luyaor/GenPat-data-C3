{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "19c3eab95e02b854b94dda96e65f1588", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6261c2c7f1bfc94387a9b4a67497023f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Decorations.java", "commitBeforeChange": "562c65dd1842578db920df56ca041172cc0dffa5", "commitAfterChange": "4d28edf7b62e3b5fcfaf6380e9333fcb7245709a", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "\r \r void createAcceleratorTable ()", "signatureAfterChange": "\r \r void createAcceleratorTable ()", "diff": ["-\tif (menuBar == null || items == null) return;\r", "+\tint maxAccel;\r", "+\tif (menuBar == null || items == null) {\r", "+\t\tif (OS.IsWinCE) maxAccel = 1;\r", "+\t\telse return;\r", "+\t} else {\r", "+\t\tmaxAccel = OS.IsWinCE ? items.length + 1 : items.length;\r", "+\t}\r", "-\tbyte [] buffer1 = new byte [size];\r", "-\tbyte [] buffer2 = new byte [items.length * size];\r", "-\tfor (int i=0; i<items.length; i++) {\r", "-\t\tMenuItem item = items [i];\r", "-\t\tif (item != null && item.accelerator != 0) {\r", "-\t\t\tMenu parent = item.parent;\r", "-\t\t\twhile (parent != null && parent != menuBar) {\r", "-\t\t\t\tparent = parent.getParentMenu ();\r", "-\t\t\t}\r", "-\t\t\tif (parent == menuBar) {\r", "-\t\t\t\titem.fillAccel (accel);\r", "-\t\t\t\tOS.MoveMemory (buffer1, accel, size);\r", "-\t\t\t\tSystem.arraycopy (buffer1, 0, buffer2, nAccel * size, size);\r", "-\t\t\t\tnAccel++;\r", "+\tbyte [] buffer1 = new byte [size];\t\r", "+\tbyte [] buffer2 = new byte [maxAccel * size];\r", "+\tif (menuBar != null && items != null) {\r", "+\t\tfor (int i=0; i<items.length; i++) {\r", "+\t\t\tMenuItem item = items [i];\r", "+\t\t\tif (item != null && item.accelerator != 0) {\r", "+\t\t\t\tMenu parent = item.parent;\r", "+\t\t\t\twhile (parent != null && parent != menuBar) {\r", "+\t\t\t\t\tparent = parent.getParentMenu ();\r", "+\t\t\t\t}\r", "+\t\t\t\tif (parent == menuBar) {\r", "+\t\t\t\t\titem.fillAccel (accel);\r", "+\t\t\t\t\tOS.MoveMemory (buffer1, accel, size);\r", "+\t\t\t\t\tSystem.arraycopy (buffer1, 0, buffer2, nAccel * size, size);\r", "+\t\t\t\t\tnAccel++;\r", "+\t\t\t\t}\r", "+\tif (OS.IsWinCE) {\r", "+\t\t/* \r", "+\t\t* Note on WinCE PPC.  Close Shell when user taps CTRL-Q.\r", "+\t\t* IDOK represents the \"Done Button\" which also closes\r", "+\t\t* the Shell.\r", "+\t\t*/\r", "+\t\taccel.fVirt = OS.FVIRTKEY | OS.FCONTROL;\r", "+\t\taccel.key = 'Q';\r", "+\t\taccel.cmd = OS.IDOK;\r", "+\t\tOS.MoveMemory (buffer1, accel, size);\r", "+\t\tSystem.arraycopy (buffer1, 0, buffer2, nAccel * size, size);\r", "+\t\tnAccel++;\t\t\t\r", "+\t}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "82174882026bfed9dcb71b422017c1c0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "61c6d1cfa8202cf6bb13af3022e6b1b082004327", "commitAfterChange": "5355818ed6c80a44bb9a2df251a105a7af080d33", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "\r \r void createItem (TableColumn column, int index)", "signatureAfterChange": "\r \r void createItem (TableColumn column, int index)", "diff": ["+\t\t\tOS.SendMessage (handle, OS.LVM_GETCOLUMN, 1, lvColumn);\r", "+\t\t\tint width = lvColumn.cx;\r", "-\t\t\tlvColumn.mask = OS.LVCF_TEXT | OS.LVCF_WIDTH | OS.LVCF_FMT;\r", "+\t\t\tlvColumn.mask = OS.LVCF_TEXT | OS.LVCF_IMAGE | OS.LVCF_WIDTH | OS.LVCF_FMT;\r", "+\t\t\tlvColumn.fmt = OS.LVCFMT_IMAGE;\r", "+\t\t\tlvColumn.cx = width;\r", "+\t\t\tlvColumn.iImage = OS.I_IMAGENONE;\r", "+\t\t\tlvColumn.pszText = lvColumn.cchTextMax = 0;\r", "+\t\t\tOS.SendMessage (handle, OS.LVM_SETCOLUMN, 0, lvColumn);\r", "+\t\t\tlvColumn.mask = OS.LVCF_FMT;\r", "+\t\t\tlvColumn.fmt = OS.LVCFMT_LEFT;\r", "+\t\t\tOS.SendMessage (handle, OS.LVM_SETCOLUMN, 0, lvColumn);\r"]}], "num": 32745}