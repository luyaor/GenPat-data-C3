{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9b80b752f6a932d3a503603652b7ef96", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "987de39c2a851efabd59ee032a368774", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "48512dc20e32e369917d3e1ccfb92109c9724e7e", "commitAfterChange": "1942f64e0b774317e0a8e6ec44902bb736bb7790", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 14, "signatureBeforeChange": "  Point _computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "  Point computeNativeSize (int h, int wHint, int hHint, boolean changed)", "diff": ["-", "-Point _computeSize (int wHint, int hHint, boolean changed) {", "-\tint handle = computeHandle ();", "-\tint aux_info = OS.gtk_object_get_data_by_id (handle, aux_info_quark);", "-\tOS.gtk_object_set_data_by_id (handle, aux_info_quark, 0);", "-\tGtkRequisition requisition = new GtkRequisition ();", "-\tOS.gtk_widget_size_request (handle, requisition);", "-\tOS.gtk_object_set_data_by_id (handle, aux_info_quark, aux_info);", "-\tint width = wHint == SWT.DEFAULT ? requisition.width : wHint;", "-\tint height = hHint == SWT.DEFAULT ? requisition.height : hHint;", "-\treturn new Point (width, height);\t", "-}", "+Point computeNativeSize (int h, int wHint, int hHint, boolean changed) {", "+\tGtkRequisition requisition = new GtkRequisition ();", "+\tOS.gtk_widget_size_request (h, requisition);", "+\tint width = wHint == SWT.DEFAULT ? requisition.width : wHint;", "+\tint height = hHint == SWT.DEFAULT ? requisition.height : hHint;", "+\treturn new Point (width, height);\t"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e5cf29fe1c951fbf3f654bb4eef5d9a4", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "26a469d88a58735000fdea34d1a4b49d84f4917a", "commitAfterChange": "fbe88d4321dc9e91f0c1ba5bd5a2fd1fe4f91cee", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "  Point computeNativeSize (int h, int wHint, int hHint, boolean changed)", "signatureAfterChange": "  Point computeNativeSize (int h, int wHint, int hHint, boolean changed)", "diff": ["-\tint width = OS.GTK_WIDGET_WIDTH (h);", "-\tint height = OS.GTK_WIDGET_HEIGHT (h);", "-\tOS.gtk_widget_set_size_request (h, -1, -1);", "-\tGtkRequisition requisition = new GtkRequisition ();", "-\tOS.gtk_widget_size_request (h, requisition);", "-\tOS.gtk_widget_set_size_request (h, width, height);", "-\twidth = wHint == SWT.DEFAULT ? requisition.width : wHint;", "-\theight = hHint == SWT.DEFAULT ? requisition.height : hHint;", "-\treturn new Point (width, height);\t", "+\tOS.gtk_widget_set_usize(h, wHint==SWT.DEFAULT? -1:wHint, hHint==SWT.DEFAULT? -1:hHint);", "+\tGtkRequisition requisition = new GtkRequisition();", "+\tOS.gtk_widget_size_request(h, requisition);", "+\t/* This is the only place where we use the horrible and deprecated", "+\t * set_usize, so we don't need to restore the previous value", "+\t */", "+\tOS.gtk_widget_set_usize(h, -1, -1);", "+\treturn new Point (requisition.width, requisition.height);\t"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "28388990529233501f6f0b2ab318fc02", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Button.java", "commitBeforeChange": "26193ee885c2fef7b9f7af059d4abfdfea530207", "commitAfterChange": "d2ddfc32951da0946164c31d7145c25600f5b599", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "diff": ["-\tint width = OS.GTK_WIDGET_WIDTH (fixedHandle);", "-\tint height = OS.GTK_WIDGET_HEIGHT (fixedHandle);", "-\tOS.gtk_widget_set_size_request (handle, wHint, hHint);", "-\tGtkRequisition requisition = new GtkRequisition ();", "-\tOS.gtk_widget_size_request (handle, requisition);", "-\tOS.gtk_widget_set_size_request (handle, width, height);", "-\twidth = wHint == SWT.DEFAULT ? requisition.width : wHint;", "-\theight = hHint == SWT.DEFAULT ? requisition.height : hHint;", "+\tPoint size = computeNativeSize (handle, wHint, hHint, changed);", "-\t\t\tif (wHint != SWT.DEFAULT) width += border.left + border.right;", "-\t\t\tif (hHint != SWT.DEFAULT) height += border.top + border.bottom;", "+\t\t\tif (wHint != SWT.DEFAULT) size.x += border.left + border.right;", "+\t\t\tif (hHint != SWT.DEFAULT) size.y += border.top + border.bottom;", "-\treturn new Point (width, height);", "+\treturn size;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "eef08558a81178ab9264f6898269d38a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "07189d4e0dc321d7a67191afc9ffcca78baa583a", "commitAfterChange": "c50367f5a47e2a6effad63f64029f1b5d0e6e7f1", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 23, "signatureBeforeChange": "  Point computeNativeSize (int h, int wHint, int hHint, boolean changed)", "signatureAfterChange": "  Point computeNativeSize (int h, int wHint, int hHint, boolean changed)", "diff": ["-\tint width = OS.GTK_WIDGET_WIDTH (h);", "-\tint height = OS.GTK_WIDGET_HEIGHT (h);", "-\tOS.gtk_widget_set_size_request (h, -1, -1);", "-\tGtkRequisition requisition = new GtkRequisition ();", "-\tOS.gtk_widget_size_request (h, requisition);", "-\tOS.gtk_widget_set_size_request (h, width, height);", "-\twidth = wHint == SWT.DEFAULT ? requisition.width : wHint;", "-\theight = hHint == SWT.DEFAULT ? requisition.height : hHint;", "-\treturn new Point (width, height);\t", "+\tint width = wHint, height = hHint;", "+\tif (wHint == SWT.DEFAULT || hHint == SWT.DEFAULT) {", "+\t\tGtkRequisition requisition = new GtkRequisition ();", "+\t\tOS.gtk_widget_size_request (h, requisition);", "+\t\twidth = wHint == SWT.DEFAULT ? OS.GTK_WIDGET_REQUISITION_WIDTH (h) : wHint;", "+\t\theight = hHint == SWT.DEFAULT ? OS.GTK_WIDGET_REQUISITION_HEIGHT (h) : hHint;", "+\t}", "+\treturn new Point (width, height);"]}], "num": 60109}