{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "063bf1e17857afc7929dcca0f350449c", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f19ff3d52b8ef824ba713677f3b725b6", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/common/org/eclipse/swt/browser/Mozilla.java", "commitBeforeChange": "d8955edbe9f5c9464b222d0331748137a5a534b7", "commitAfterChange": "b533c1ac7667bcd66286ef15cde6bafc62a4cf97", "methodNumberBeforeChange": 133, "methodNumberAfterChange": 133, "signatureBeforeChange": "  void initXPCOM (String mozillaPath, boolean isXULRunner)", "signatureAfterChange": "  void initXPCOM (String mozillaPath, boolean isXULRunner)", "diff": ["-\t\t\trc = localFile.QueryInterface(nsIFile.NS_IFILE_24_IID, result);", "+\t\t\trc = localFile.QueryInterface (IIDStore.GetIID (nsIFile.class, MozillaVersion.VERSION_XR24, true), result);", "-\t\t\t\tnsISupports.IsXULRunner24 = true;", "+\t\t\t\tMozillaVersion.SetCurrentVersion (MozillaVersion.VERSION_XR24);", "-\t\t\t\trc = localFile.QueryInterface (nsILocalFile.NS_ILOCALFILE_IID, result);", "+\t\t\t\trc = localFile.QueryInterface (IIDStore.GetIID (nsILocalFile.class, MozillaVersion.VERSION_XR10), result);", "+\t\t\t\t\t/* appears to be an unsupported version */", "-\t\t\t\tIsPre_24 = true;", "-\t\t\t\tnsISupports.IsXULRunner10 = true;", "+\t\t\t\tMozillaVersion.SetCurrentVersion (MozillaVersion.VERSION_XR10);", "-\t\t\tIsPre_4 = IsPre_24 = true;", "+\t\t\t/*", "+\t\t\t * For now guess that the version is 1.9.2.x (aka 3.6.x), will determine", "+\t\t\t * this more precisely once a browser instance has been created.", "+\t\t\t */", "+\t\t\tMozillaVersion.SetCurrentVersion (MozillaVersion.VERSION_XR1_9_2);", "-\t\tif (nsISupports.IsXULRunner24) {", "+\t\tif (MozillaVersion.CheckVersion (MozillaVersion.VERSION_XR24, true)) {", "-\t\tif (IsPre_4) {", "-\t\t\trc = XPCOM.Call (functionPtr, localFile.getAddress (), localFile.getAddress (), LocationProvider.getAddress (), 0, 0);", "-\t\t} else {", "+\t\tif (MozillaVersion.CheckVersion (MozillaVersion.VERSION_XR10)) {", "+\t\t} else {", "+\t\t\trc = XPCOM.Call (functionPtr, localFile.getAddress (), localFile.getAddress (), LocationProvider.getAddress (), 0, 0);", "-\t\tIsPre_4 = IsPre_24 = true;", "+\t\t/*", "+\t\t * For now guess that the version is equivalent to Firefox 3.6.x (aka XULRunner 1.9.2.x),", "+\t\t * will determine this more precisely once a browser instance has been created.", "+\t\t */", "+\t\tMozillaVersion.SetCurrentVersion (MozillaVersion.VERSION_XR1_9_2);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0a54912124ac39e2c3e0e03b12444ee7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/common/org/eclipse/swt/browser/Mozilla.java", "commitBeforeChange": "f6a0a894993b1d1c3bb5c65e05960005b22289b0", "commitAfterChange": "1343f2a0af658526a93fb8a0e3f0af288c7972f2", "methodNumberBeforeChange": 136, "methodNumberAfterChange": 136, "signatureBeforeChange": "  void initXPCOM (String mozillaPath, boolean isXULRunner)", "signatureAfterChange": "  void initXPCOM (String mozillaPath, boolean isXULRunner)", "diff": ["-\t\t\trc = localFile.QueryInterface (IIDStore.GetIID (nsIFile.class, MozillaVersion.VERSION_XR24, true), result);", "-\t\t\tif (rc == XPCOM.NS_OK) { /* 24.x */", "-\t\t\t\tMozillaVersion.SetCurrentVersion (MozillaVersion.VERSION_XR24);", "-\t\t\t} else { /* 10.x */", "-\t\t\t\trc = localFile.QueryInterface (IIDStore.GetIID (nsILocalFile.class, MozillaVersion.VERSION_XR10), result);", "-\t\t\t\tif (rc != XPCOM.NS_OK) {", "-\t\t\t\t\t/* appears to be an unsupported version */", "-\t\t\t\t\tbrowser.dispose ();", "-\t\t\t\t\terror (rc);", "+\t\t\trc = localFile.QueryInterface (IIDStore.GetIID (nsIFile.class, MozillaVersion.VERSION_XR31, true), result);", "+\t\t\tif (rc == XPCOM.NS_OK) { /* 31.x */", "+\t\t\t\tMozillaVersion.SetCurrentVersion (MozillaVersion.VERSION_XR31);", "+\t\t\t} else {", "+\t\t\t\trc = localFile.QueryInterface (IIDStore.GetIID (nsIFile.class, MozillaVersion.VERSION_XR24, true), result);", "+\t\t\t\tif (rc == XPCOM.NS_OK) { /* 24.x */", "+\t\t\t\t\tMozillaVersion.SetCurrentVersion (MozillaVersion.VERSION_XR24);", "+\t\t\t\t} else { /* 10.x */", "+\t\t\t\t\trc = localFile.QueryInterface (IIDStore.GetIID (nsILocalFile.class, MozillaVersion.VERSION_XR10), result);", "+\t\t\t\t\tif (rc != XPCOM.NS_OK) {", "+\t\t\t\t\t\t/* appears to be an unsupported version */", "+\t\t\t\t\t\tbrowser.dispose ();", "+\t\t\t\t\t\terror (rc);", "+\t\t\t\t\t}", "+\t\t\t\t\tMozillaVersion.SetCurrentVersion (MozillaVersion.VERSION_XR10);", "-\t\t\t\tMozillaVersion.SetCurrentVersion (MozillaVersion.VERSION_XR10);"]}], "num": 23986}