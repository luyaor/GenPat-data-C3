{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0fddd1833412f41e3da709361e13bc16", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "645b5321928fc733f6a620e25091f4ad", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Widget.java", "commitBeforeChange": "c8f88197096a5fc4bcdd661cf2d15bbdc468b5ca", "commitAfterChange": "42f062c766a8aa6937c34dbb7f6ed731abc28a74", "methodNumberBeforeChange": 66, "methodNumberAfterChange": 66, "signatureBeforeChange": "\r void setKeyState (Event event, XKeyEvent xEvent)", "signatureAfterChange": "\r void setKeyState (Event event, XKeyEvent xEvent)", "diff": ["-\t\t\t\tif ((keysym [0] == 0x1005FF10) || (keysym [0] == 0x1005FF11)) {\r", "-\t\t\t\t\tif (keysym [0] == 0x1005FF10) keysym [0] = OS.XK_F11;\r", "-\t\t\t\t\tif (keysym [0] == 0x1005FF11) keysym [0] = OS.XK_F12;\r", "+\t\t\t\tif (keysym [0] == 0x1005FF10) keysym [0] = OS.XK_F11;\r", "+\t\t\t\tif (keysym [0] == 0x1005FF11) keysym [0] = OS.XK_F12;\r", "+\t\t\t\t/*\r", "+\t\t\t\t* Bug in MOTIF.  On Solaris only, there is garbage in the\r", "+\t\t\t\t* high 16-bits for Keysyms such as XK_Down.  Since Keysyms\r", "+\t\t\t\t* must be 16-bits to fit into a Character, mask away the\r", "+\t\t\t\t* high 16-bits on all platforms.\r", "+\t\t\t\t*/\r", "+\t\t\t\tkeysym [0] &= 0xFFFF;\r", "+\t\t\t}\r", "+\t\t\tevent.keyCode = Display.translateKey (keysym [0]);\r", "+\t\t\t/*\r", "+\t\t\t* Handle known cases for which XLookupString fails.\r", "+\t\t\t*/\r", "+\t\t\tif (event.keyCode == 0) {\r", "+\t\t\t\tswitch (keysym [0]) {\r", "+\t\t\t\t\tcase OS.XK_ISO_Left_Tab: event.character = '\\t'; break;\r", "-\t\t\t/*\r", "-\t\t\t* Bug in MOTIF.  On Solaris only, their is garbage in the\r", "-\t\t\t* high 16-bits for Keysyms such as XK_Down.  Since Keysyms\r", "-\t\t\t* must be 16-bits to fit into a Character, mask away the\r", "-\t\t\t* high 16-bits on all platforms.\r", "-\t\t\t*/\r", "-\t\t\tevent.keyCode = Display.translateKey (keysym [0] & 0xFFFF);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c7d7f45713211088670c8aa1e6f46d34", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Widget.java", "commitBeforeChange": "c22f380f4d6ba162caa0465e4ecbec7c222d05f5", "commitAfterChange": "1eac86ed2f2f9e03ad22a87e2beeaeb993a03feb", "methodNumberBeforeChange": 66, "methodNumberAfterChange": 66, "signatureBeforeChange": "\r void setKeyState (Event event, XKeyEvent xEvent)", "signatureAfterChange": "\r void setKeyState (Event event, XKeyEvent xEvent)", "diff": ["-\t\tif (OS.XLookupString (xEvent, buffer, buffer.length, keysym, null) == 0) {\r", "-\t\t\t/*\r", "-\t\t\t* Bug in MOTIF.  On Solaris only, XK_F11 and XK_F12 are not\r", "-\t\t\t* translated correctly by XLookupString().  They are mapped\r", "-\t\t\t* to 0x1005FF10 and 0x1005FF11 respectively.  The fix is to\r", "-\t\t\t* look for these values explicitly and correct them.\r", "-\t\t\t*/\r", "-\t\t\tif (OS.IsSunOS) {\r", "-\t\t\t\tif (keysym [0] == 0x1005FF10) keysym [0] = OS.XK_F11;\r", "-\t\t\t\tif (keysym [0] == 0x1005FF11) keysym [0] = OS.XK_F12;\r", "-\t\t\t\t/*\r", "-\t\t\t\t* Bug in MOTIF.  On Solaris only, there is garbage in the\r", "-\t\t\t\t* high 16-bits for Keysyms such as XK_Down.  Since Keysyms\r", "-\t\t\t\t* must be 16-bits to fit into a Character, mask away the\r", "-\t\t\t\t* high 16-bits on all platforms.\r", "-\t\t\t\t*/\r", "-\t\t\t\tkeysym [0] &= 0xFFFF;\r", "+\t\tint lookupLength = OS.XLookupString (xEvent, buffer, buffer.length, keysym, null);\r", "+\t\t/*\r", "+\t\t* Bug in MOTIF.  On Solaris only, XK_F11 and XK_F12 are not\r", "+\t\t* translated correctly by XLookupString().  They are mapped\r", "+\t\t* to 0x1005FF10 and 0x1005FF11 respectively.  The fix is to\r", "+\t\t* look for these values explicitly and correct them.\r", "+\t\t*/\r", "+\t\tif (OS.IsSunOS && keysym [0] != 0) {\r", "+\t\t\tswitch (keysym [0]) {\r", "+\t\t\t\tcase 0x1005FF10: \r", "+\t\t\t\t\tkeysym [0] = OS.XK_F11;\r", "+\t\t\t\t\tlookupLength = 0;\r", "+\t\t\t\t\tbreak;\r", "+\t\t\t\tcase 0x1005FF11:\r", "+\t\t\t\t\tkeysym [0] = OS.XK_F12;\r", "+\t\t\t\t\tlookupLength = 0;\r", "+\t\t\t\t\tbreak;\r", "+\t\t\t/*\r", "+\t\t\t* Bug in MOTIF.  On Solaris only, there is garbage in the\r", "+\t\t\t* high 16-bits for Keysyms such as XK_Down.  Since Keysyms\r", "+\t\t\t* must be 16-bits to fit into a Character, mask away the\r", "+\t\t\t* high 16-bits on all platforms.\r", "+\t\t\t*/\r", "+\t\t\tkeysym [0] &= 0xFFFF;\r", "+\t\t}\r", "+\t\tif (lookupLength == 0) {\r", "-\t\t\t* Handle known cases for which XLookupString fails.\r", "+\t\t\t* If translateKey () could not find a translation for the keysym\r", "+\t\t\t* then attempt some known keysyms for which we can provide the\r", "+\t\t\t* appropriate character.\r"]}], "num": 3339}