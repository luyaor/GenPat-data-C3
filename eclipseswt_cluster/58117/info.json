{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a88ef897b650ced5392aa0158b524ee0", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "502a2f09be12488eeb28ca1faca72299", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/Font.java", "commitBeforeChange": "e983d4a13eb008de83ecbad342d94b6462cebe78", "commitAfterChange": "314fe3eaa680cd637146bed36cfd41bc773b01ef", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "  int createStyle ()", "signatureAfterChange": "  int createStyle ()", "diff": ["-\t", "-\t/*", "-\t* This code is intentionaly commented, since it forces ATSUI to", "-\t* syntesize fonts.", "-\t*/ ", "-//\tint ptr = OS.NewPtr(16);", "-//\tOS.memcpy(ptr, new int[]{handle}, 4); ", "-//\tOS.memcpy(ptr + 4, new int[]{OS.X2Fix(size)}, 4);", "-//\tOS.memcpy(ptr + 8, new byte[]{(style & OS.bold) != 0 ? (byte)1 : 0}, 1); ", "-//\tOS.memcpy(ptr + 9, new byte[]{(style & OS.italic) != 0 ? (byte)1 : 0}, 1); ", "-//\tint[] tags = new int[]{OS.kATSUFontTag, OS.kATSUSizeTag, OS.kATSUQDBoldfaceTag, OS.kATSUQDItalicTag};", "-//\tint[] sizes = new int[]{4, 4, 1, 1};", "-//\tint[] values = new int[]{ptr, ptr + 4, ptr + 8, ptr + 9};", "-\tint ptr = OS.NewPtr(16);", "+\tint atsuStyle = buffer[0];", "+", "+\tshort[] realStyle = new short[1];", "+\tOS.FMGetFontFromFontFamilyInstance(id, style, buffer, realStyle);", "+\tboolean synthesize = style != realStyle[0];", "+\tint ptr = OS.NewPtr(8 + (synthesize ? 8 : 0));", "-\tint[] tags = new int[]{OS.kATSUFontTag, OS.kATSUSizeTag};", "-\tint[] sizes = new int[]{4, 4};", "-\tint[] values = new int[]{ptr, ptr + 4};", "-\tOS.ATSUSetAttributes(buffer[0], tags.length, tags, sizes, values);", "+\tint[] tags, sizes, values;", "+\tif (synthesize) {", "+\t\tOS.memcpy(ptr + 8, new byte[]{(style & OS.bold) != 0 ? (byte)1 : 0}, 1); ", "+\t\tOS.memcpy(ptr + 9, new byte[]{(style & OS.italic) != 0 ? (byte)1 : 0}, 1);", "+\t\ttags = new int[]{OS.kATSUFontTag, OS.kATSUSizeTag, OS.kATSUQDBoldfaceTag, OS.kATSUQDItalicTag};", "+\t\tsizes = new int[]{4, 4, 1, 1};", "+\t\tvalues = new int[]{ptr, ptr + 4, ptr + 8, ptr + 9};", "+\t} else {", "+\t\ttags = new int[]{OS.kATSUFontTag, OS.kATSUSizeTag};", "+\t\tsizes = new int[]{4, 4};", "+\t\tvalues = new int[]{ptr, ptr + 4};", "+\t}", "+\tOS.ATSUSetAttributes(atsuStyle, tags.length, tags, sizes, values);", "-\tOS.ATSUSetFontFeatures(buffer[0], types.length, types, selectors);", "-\treturn buffer [0];", "+\tOS.ATSUSetFontFeatures(atsuStyle, types.length, types, selectors);", "+\treturn atsuStyle;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "73025420211d53b9b9cd027bb4cbf114", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/Font.java", "commitBeforeChange": "7a4d5dbcaeb2743eef5eb2b757e4406a712b74fe", "commitAfterChange": "d2e15ffb015b00eeee1148b35f88a2e1e49c8018", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "  int createStyle ()", "signatureAfterChange": "  int createStyle ()", "diff": ["-\tint ptr = OS.NewPtr(16);", "+\t", "+\t/*", "+\t* This code is intentionaly commented, since it forces ATSUI to", "+\t* syntesize fonts.", "+\t*/ ", "+//\tint ptr = OS.NewPtr(10);", "+//\tOS.memcpy(ptr + 8, new byte[]{(style & OS.bold) != 0 ? (byte)1 : 0}, 1); ", "+//\tOS.memcpy(ptr + 9, new byte[]{(style & OS.italic) != 0 ? (byte)1 : 0}, 1); ", "+//\tint[] tags = new int[]{OS.kATSUFontTag, OS.kATSUSizeTag, OS.kATSUQDBoldfaceTag, OS.kATSUQDItalicTag};", "+//\tint[] sizes = new int[]{4, 4, 1, 1};", "+//\tint[] values = new int[]{ptr, ptr + 4, ptr + 8, ptr + 9};", "+\tint ptr = OS.NewPtr(8);", "-\tOS.memcpy(ptr + 4, new int[]{OS.X2Fix(size)}, 4); ", "-\tOS.memcpy(ptr + 8, new byte[]{(style & OS.bold) != 0 ? (byte)1 : 0}, 1); ", "-\tOS.memcpy(ptr + 9, new byte[]{(style & OS.italic) != 0 ? (byte)1 : 0}, 1); ", "-\tint[] tags = new int[]{OS.kATSUFontTag, OS.kATSUSizeTag, OS.kATSUQDBoldfaceTag, OS.kATSUQDItalicTag};", "-\tint[] sizes = new int[]{4, 4, 1, 1};", "-\tint[] values = new int[]{ptr, ptr + 4, ptr + 8, ptr + 9};", "+\tOS.memcpy(ptr + 4, new int[]{OS.X2Fix(size)}, 4);", "+\tint[] tags = new int[]{OS.kATSUFontTag, OS.kATSUSizeTag};", "+\tint[] sizes = new int[]{4, 4};", "+\tint[] values = new int[]{ptr, ptr + 4};", "+\t"]}], "num": 58117}