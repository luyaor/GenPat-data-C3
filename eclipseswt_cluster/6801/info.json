{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "694f9b04271d8f48d7e32de020178fa2", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "91000dd87728987d2daf754aa8702b2b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "b2cb5455cd6ad637b0acd1b419e55a1abb00070c", "commitAfterChange": "7ecdd5001ef1e9b2ffef44336cd4d6f2f5d8d715", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": " public void draw (GC gc, int x, int y, int selectionStart, int selectionEnd, Color selectionForeground, Color selectionBackground)", "signatureAfterChange": " public void draw (GC gc, int x, int y, int selectionStart, int selectionEnd, Color selectionForeground, Color selectionBackground)", "diff": ["-\tint foregroundBrush = 0;", "+\tint foregroundBrush = 0, state = 0;", "-\t}", "-\tint state = OS.SaveDC(hdc);", "-\tif (!gdip && (data.style & SWT.MIRRORED) != 0) {", "-\t\tOS.SetLayout(hdc, OS.GetLayout(hdc) |OS.LAYOUT_RTL);", "-\t}", "-\tif (lpXform != null) {", "-\t\tOS.SetGraphicsMode(hdc, OS.GM_ADVANCED);", "-\t\tOS.SetWorldTransform(hdc, lpXform);", "-\t}", "-\tif (clipRgn != 0) {", "-\t\tOS.SelectClipRgn(hdc, clipRgn);", "-\t\tOS.DeleteObject(clipRgn);", "+\t} else {", "+\t\tstate = OS.SaveDC(hdc);", "+\t\tif ((data.style & SWT.MIRRORED) != 0) {", "+\t\t\tOS.SetLayout(hdc, OS.GetLayout(hdc) | OS.LAYOUT_RTL);", "+\t\t}", "+\t\tif (lpXform != null) {", "+\t\t\tOS.SetGraphicsMode(hdc, OS.GM_ADVANCED);", "+\t\t\tOS.SetWorldTransform(hdc, lpXform);", "+\t\t}", "+\t\tif (clipRgn != 0) {", "+\t\t\tOS.SelectClipRgn(hdc, clipRgn);", "+\t\t\tOS.DeleteObject(clipRgn);", "+\t\t}", "-\tOS.RestoreDC(hdc, state);", "+\t\tOS.RestoreDC(hdc, state);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "faa49401605fb829f00ec8bc8980adf8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/ImageList.java", "commitBeforeChange": "054c79966c0eed22f4e8871acef7cc18da98bfab", "commitAfterChange": "b610ff6fb273ada98c24bc8a814e878ba015c7c0", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 5, "signatureBeforeChange": "\r \r int createMask (int hBitmap, int width, int height)", "signatureAfterChange": "\r \r int createMask (int hBitmap, int width, int height, int background)", "diff": ["-int createMask (int hBitmap, int width, int height) {\r", "-\tint hDC = OS.GetDC (0);\r", "-\tint hdc1 = OS.CreateCompatibleDC (hDC);\r", "-\tOS.SelectObject (hdc1, hBitmap);\r", "-\tint hdc2 = OS.CreateCompatibleDC (hDC);\r", "+int createMask (int hBitmap, int width, int height, int background) {\r", "-\tOS.SelectObject (hdc2, hMask);\r", "-\tOS.SetBkColor (hdc1, background);\r", "-\tOS.BitBlt (hdc2, 0, 0, width, height, hdc1, 0, 0, OS.SRCCOPY);\r", "-\tOS.ReleaseDC (0, hDC);\r", "-\tOS.DeleteDC (hdc1);\r", "-\tOS.DeleteDC (hdc2);\r", "+\tif (background != -1) {\r", "+\t\tint hDC = OS.GetDC (0);\r", "+\t\tint hdc1 = OS.CreateCompatibleDC (hDC);\r", "+\t\tOS.SelectObject (hdc1, hBitmap);\r", "+\t\tint hdc2 = OS.CreateCompatibleDC (hDC);\r", "+\t\tOS.SelectObject (hdc2, hMask);\r", "+\t\tOS.SetBkColor (hdc1, background);\r", "+\t\tOS.BitBlt (hdc2, 0, 0, width, height, hdc1, 0, 0, OS.SRCCOPY);\r", "+\t\tOS.ReleaseDC (0, hDC);\r", "+\t\tOS.DeleteDC (hdc1);\r", "+\t\tOS.DeleteDC (hdc2);\r", "+\t}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7909dae01ed5fa37b6996d3ade83529d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "08734f1d9217f5c1e4c2264ddc5ef8916987021c", "commitAfterChange": "c57e6709ba1f97c13687499427427413c1eb3b48", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": "  void init(Device device, int width, int height)", "signatureAfterChange": "  void init(Device device, int width, int height)", "diff": ["-\t", "-\t/* Get the HDC for the device */", "-\t\t\t", "-\t/* Fill the bitmap with the current background color */", "-\tif (handle == 0) SWT.error(SWT.ERROR_NO_HANDLES);", "-\tint memDC = OS.CreateCompatibleDC(hDC);", "-\tint hOldBitmap = OS.SelectObject(memDC, handle);", "-\tOS.PatBlt(memDC, 0, 0, width, height, OS.PATCOPY);", "-\tOS.SelectObject(memDC, hOldBitmap);", "-\tOS.DeleteDC(memDC);", "-\t", "-\t/* Release the HDC for the device */\t", "+\tif (handle != 0) {", "+\t\tint memDC = OS.CreateCompatibleDC(hDC);", "+\t\tint hOldBitmap = OS.SelectObject(memDC, handle);", "+\t\tOS.PatBlt(memDC, 0, 0, width, height, OS.PATCOPY);", "+\t\tOS.SelectObject(memDC, hOldBitmap);", "+\t\tOS.DeleteDC(memDC);", "+\t}", "+\tif (handle == 0) {", "+\t\tSWT.error(SWT.ERROR_NO_HANDLES, null, device.getLastError());", "+\t}"]}], "num": 6801}