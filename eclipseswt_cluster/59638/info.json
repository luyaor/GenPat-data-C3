{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "19bbbcb77e3bc643ebda5a7bd9253a6d", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cd626764b20e0334f83f76309370ec30", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/treetable/org/eclipse/swt/widgets/TreeItem2.java", "commitBeforeChange": "95ac9fb91c3ddffa50ff43dafc84c86aaf5f1968", "commitAfterChange": "ed568a606dfba062e77bacc7c7f799741b60cbf4", "methodNumberBeforeChange": 53, "methodNumberAfterChange": 53, "signatureBeforeChange": " void paint (GC gc, TreeColumn column, boolean paintCellContent)", "signatureAfterChange": " void paint (GC gc, TreeColumn column, boolean paintCellContent)", "diff": ["+\t\tboolean fontChanged = false, foregroundChanged = false;", "-\t\tFont oldFont = null;", "+\t\tFont oldFont = gc.getFont ();", "-\t\tif (font != parent.getFont ()) {", "-\t\t\toldFont = gc.getFont ();", "+\t\tif (!font.equals (oldFont)) {", "+\t\t\tfontChanged = true;", "-\t\tColor oldForeground = null;", "+\t\tColor oldForeground = gc.getForeground ();", "+\t\t\tforegroundChanged = true;", "-\t\t\tif (foreground != parent.getForeground ()) {", "-\t\t\t\toldForeground = gc.getForeground ();", "+\t\t\tif (!foreground.equals (oldForeground)) {", "+\t\t\t\tforegroundChanged = true;", "-\t\tif (oldForeground != null) gc.setForeground (oldForeground);", "-\t\tif (oldFont != null) gc.setFont (oldFont);", "+\t\tif (foregroundChanged) gc.setForeground (oldForeground);", "+\t\tif (fontChanged) gc.setFont (oldFont);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9b132af746ac7954eee24776f9b80f37", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/FontDialog.java", "commitBeforeChange": "26deca8787366594b00e667c8e5b7c6af5b33172", "commitAfterChange": "4a3495d33f0b113ef7f986d31f986971a3cf6245", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": " public FontData open ()", "signatureAfterChange": " public FontData open ()", "diff": ["-\tDisplay display = parent != null ? parent.display : Display.getCurrent ();", "-\t", "+\tDisplay display = parent != null ? parent.display : Display.getCurrent ();\t", "-\tif (fontData != null) {", "-\t\tFont font = new Font(display, fontData);", "-\t\tNSFontManager.sharedFontManager().setSelectedFont(font.handle, false);", "-\t\tfont.dispose();", "-\t}", "+\tboolean create = fontData != null;", "+\tFont font = create ? new Font(display, fontData) : display.getSystemFont();", "+\tpanel.setPanelFont(font.handle, false);", "+\tselected = false;", "+\tif (selected) {", "+\t\tNSFont nsFont = panel.panelConvertFont(font.handle);", "+\t\tfontData = Font.cocoa_new(display, nsFont).getFontData()[0];", "+\t}", "-\tNSFont font = NSFontManager.sharedFontManager().selectedFont();", "-\tif (font != null) {", "-\t\t//TODO - this does not work", "-\t\tfontData = Font.cocoa_new(display, font).getFontData()[0];", "-\t}", "+\tif (create) font.dispose();"]}], "num": 59638}