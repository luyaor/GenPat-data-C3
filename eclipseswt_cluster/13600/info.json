{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "43deaf5e68f8d40da140653a5a8c1c43", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "868214947a63876270dc2824ebf6d06b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/carbon/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "65653ad19dc92fcc9097f02b3429470bcaf1f58f", "commitAfterChange": "b246fc4f176e1e8a7d251450d2219cd087863889", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "  public boolean execute(String script)", "signatureAfterChange": "  public boolean execute(String script)", "diff": ["-\tint string = createNSString(script);", "-\tint value = Cocoa.objc_msgSend(webView, Cocoa.S_stringByEvaluatingJavaScriptFromString, string);", "-\tOS.CFRelease(string);", "-\treturn value != 0;", "+\tint frame = Cocoa.objc_msgSend(webView, Cocoa.S_mainFrame);", "+\tint context = Cocoa.objc_msgSend(frame, Cocoa.S_globalContext);", "+\tint scriptString = 0, urlString = 0;", "+\ttry {", "+\t\tbyte[] bytes = script.getBytes(\"UTF-8\"); //$NON-NLS-1$", "+\t\tbyte[] temp = new byte[bytes.length + 1]; /* null-terminate */", "+\t\tSystem.arraycopy(bytes, 0, temp, 0, bytes.length);", "+\t\tscriptString = OS.JSStringCreateWithUTF8CString(temp);", "+\t\tbytes = getUrl().getBytes(\"UTF-8\"); //$NON-NLS-1$", "+\t\ttemp = new byte[bytes.length + 1]; /* null-terminate */", "+\t\tSystem.arraycopy(bytes, 0, temp, 0, bytes.length);", "+\t\turlString = OS.JSStringCreateWithUTF8CString(temp);", "+\t} catch (UnsupportedEncodingException e) {", "+\t\treturn false;", "+\t}", "+\tint result = OS.JSEvaluateScript(context, scriptString, 0, urlString, 0, null);", "+\tOS.JSStringRelease(urlString);", "+\tOS.JSStringRelease(scriptString);", "+\treturn result != 0;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0a8527a823c754931bd5fcaecab91bf2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/cocoa/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "65653ad19dc92fcc9097f02b3429470bcaf1f58f", "commitAfterChange": "b246fc4f176e1e8a7d251450d2219cd087863889", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": "  public boolean execute (String script)", "signatureAfterChange": "  public boolean execute (String script)", "diff": ["-\treturn webView.stringByEvaluatingJavaScriptFromString (NSString.stringWith (script)) != null;", "+\tWebFrame frame = webView.mainFrame();", "+\tint /*long*/ context = frame.globalContext();", "+\tint /*long*/ scriptString = 0, urlString = 0;", "+\ttry {", "+\t\tbyte[] bytes = script.getBytes(\"UTF-8\"); //$NON-NLS-1$", "+\t\tbyte[] temp = new byte[bytes.length + 1]; /* null-terminate */", "+\t\tSystem.arraycopy(bytes, 0, temp, 0, bytes.length);", "+\t\tscriptString = OS.JSStringCreateWithUTF8CString(temp);", "+\t\tbytes = getUrl().getBytes(\"UTF-8\"); //$NON-NLS-1$", "+\t\ttemp = new byte[bytes.length + 1]; /* null-terminate */", "+\t\tSystem.arraycopy(bytes, 0, temp, 0, bytes.length);", "+\t\turlString = OS.JSStringCreateWithUTF8CString(temp);", "+\t} catch (UnsupportedEncodingException e) {", "+\t\treturn false;", "+\t}", "+\tint /*long*/ result = OS.JSEvaluateScript(context, scriptString, 0, urlString, 0, null);", "+\tOS.JSStringRelease(urlString);", "+\tOS.JSStringRelease(scriptString);", "+\treturn result != 0;"]}], "num": 13600}