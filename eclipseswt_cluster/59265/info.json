{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f724f3f284d8d1e18ed461ef9b28829f", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0db9c46d3d7565a2107cf82645aa2a0f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "bf221f66369037ceea33728d5ed71d69549dd596", "commitAfterChange": "73be0ec89889e2c1322c1bfa09d83f81f689ab7f", "methodNumberBeforeChange": 83, "methodNumberAfterChange": 84, "signatureBeforeChange": " void doPageUp(boolean select, int height)", "signatureAfterChange": " void doPageUp(boolean select, int height)", "diff": ["-\t\tint partialTopIndex = getPartialTopIndex();", "-\t\tint lineHeight = renderer.getLineHeight(partialTopIndex);", "+\t\tint lineHeight, lineIndex;", "-\t\t\tif (partialHeight == 0) {", "+\t\t\tif (topIndexY == 0) {", "-\t\t\t\theight = clientAreaHeight - partialHeight;", "+\t\t\t\tint y;", "+\t\t\t\tif (topIndex > 0) {", "+\t\t\t\t\tlineIndex = topIndex - 1;", "+\t\t\t\t\tlineHeight = renderer.getLineHeight(lineIndex);", "+\t\t\t\t\theight = clientAreaHeight - topIndexY;", "+\t\t\t\t\ty = lineHeight - topIndexY;", "+\t\t\t\t} else {", "+\t\t\t\t\tlineIndex = topIndex;", "+\t\t\t\t\tlineHeight = renderer.getLineHeight(lineIndex);", "+\t\t\t\t\theight = clientAreaHeight - (lineHeight + topIndexY);", "+\t\t\t\t\ty = -topIndexY;", "+\t\t\t\t}", "-\t\t\t\t\tint y = lineHeight - partialHeight;", "-\t\t\t\t\tTextLayout layout = renderer.getTextLayout(partialTopIndex);", "+\t\t\t\t\tTextLayout layout = renderer.getTextLayout(lineIndex);", "-\t\t\tint lineIndex = getLineIndex(clientAreaHeight - height);", "+\t\t\tlineIndex = getLineIndex(clientAreaHeight - height);", "-\t\tint availableHeight = 0;", "-\t\tif (partialHeight != 0) {", "-\t\t\tavailableHeight = lineHeight - partialHeight;", "-\t\t}", "-\t\tint lineIndex = partialTopIndex - 1;", "-\t\twhile (height > availableHeight && lineIndex >= 0) {", "-\t\t\tavailableHeight += renderer.getLineHeight(lineIndex--);", "-\t\t}", "-\t\t\tint offsetInLine = caretOffset - content.getOffsetAtLine(caretLine);", "-\t\t\tlineIndex = layout.getLineIndex(offsetInLine);", "-\t\t\tint[] offsets = layout.getLineOffsets();", "-\t\t\tif (lineIndex != 0 && offsetInLine == offsets[lineIndex] && caretAlignment == PREVIOUS_OFFSET_TRAILING) {", "-\t\t\t\tlineIndex--;", "-\t\t\t}", "+\t\t\tint offsetInLine = caretOffset - content.getOffsetAtLine(caretLine);", "+\t\t\tlineIndex = getVisualLineIndex(layout, offsetInLine);", "-\t\theight = Math.min(height, availableHeight);", "+\t\theight = getAvailableHeightAbove(height);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "496bbb20c2b4aae36becf1f1a703b2ea", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "bf221f66369037ceea33728d5ed71d69549dd596", "commitAfterChange": "73be0ec89889e2c1322c1bfa09d83f81f689ab7f", "methodNumberBeforeChange": 45, "methodNumberAfterChange": 45, "signatureBeforeChange": " void calculateTopIndex(int delta)", "signatureAfterChange": " void calculateTopIndex(int delta)", "diff": ["-\tint oldTopIndex = topIndex;\t", "+\tint oldTopIndex = topIndex;", "+\tint oldTopIndexY = topIndexY;", "-\t\tif (delta > 0) {", "-\t\t\tif (partialHeight > delta) {", "-\t\t\t\tpartialHeight -= delta;", "-\t\t\t\treturn;", "-\t\t\t}", "-\t\t\tdelta -= partialHeight;", "-\t\t\tpartialHeight = 0;", "-\t\t\t", "+\t\tif (delta >= 0) {", "+\t\t\tdelta -= topIndexY;", "+\t\t\tint lineIndex = topIndex;", "-\t\t\twhile (delta > 0 && topIndex < lineCount -1) {", "-\t\t\t\tint lineHeight = renderer.getLineHeight(topIndex);", "-\t\t\t\ttopIndex++;", "-\t\t\t\tif (lineHeight > delta) {", "-\t\t\t\t\tpartialHeight = lineHeight - delta;", "-\t\t\t\t\tbreak;", "-\t\t\t\t}", "-\t\t\t\tdelta -= lineHeight;", "+\t\t\twhile (lineIndex < lineCount) {", "+\t\t\t\tif (delta <= 0) break;", "+\t\t\t\tdelta -= renderer.getLineHeight(lineIndex++);", "+\t\t\t}", "+\t\t\tif (lineIndex < lineCount && -delta + renderer.getLineHeight(lineIndex) <= clientAreaHeight - topMargin - bottomMargin) {", "+\t\t\t\ttopIndex = lineIndex;", "+\t\t\t\ttopIndexY = -delta;", "+\t\t\t} else {", "+\t\t\t\ttopIndex = lineIndex - 1;", "+\t\t\t\ttopIndexY = -renderer.getLineHeight(topIndex) - delta;", "-\t\t\tif (topIndex > 0) {", "-\t\t\t\tint height = renderer.getLineHeight(topIndex - 1) - partialHeight;", "-\t\t\t\tif (height > -delta) {", "-\t\t\t\t\tpartialHeight -= delta;", "-\t\t\t\t\treturn;", "-\t\t\t\t}", "-\t\t\t\tdelta += height;", "-\t\t\t\tpartialHeight = 0;", "-\t\t\t\ttopIndex--;", "-\t\t\t}", "-\t\t\twhile (-delta > 0 && topIndex > 0) {", "-\t\t\t\tint lineHeight = renderer.getLineHeight(topIndex - 1);", "-\t\t\t\tif (lineHeight > -delta) {", "-\t\t\t\t\tpartialHeight = -delta;", "-\t\t\t\t\tbreak;", "-\t\t\t\t}", "-\t\t\t\ttopIndex--;", "+\t\t\tdelta -= topIndexY;", "+\t\t\tint lineIndex = topIndex;", "+\t\t\twhile (lineIndex > 0) {", "+\t\t\t\tint lineHeight = renderer.getLineHeight(lineIndex - 1);", "+\t\t\t\tif (delta + lineHeight > 0) break;", "+\t\t\t\tlineIndex--;", "+\t\t\t}", "+\t\t\tif (lineIndex == 0 || -delta + renderer.getLineHeight(lineIndex) <= clientAreaHeight - topMargin - bottomMargin) {", "+\t\t\t\ttopIndex = lineIndex;", "+\t\t\t\ttopIndexY = - delta;", "+\t\t\t} else {", "+\t\t\t\ttopIndex = lineIndex - 1;", "+\t\t\t\ttopIndexY = - renderer.getLineHeight(topIndex) - delta;", "-\tif (topIndex != oldTopIndex) {", "-\t\ttopOffset = content.getOffsetAtLine(topIndex);", "+\tif (topIndex != oldTopIndex || oldTopIndexY != topIndexY) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e21e17ca993475bcac76f4fd0bb80e86", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "0073562a14ca6d918c9fcaca498a6e957da8a673", "commitAfterChange": "77892ab4398d4200690dd45ab1bd14f928f3edb9", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "\r void adjustTrim ()", "signatureAfterChange": "\r void adjustTrim ()", "diff": ["+\tint [] trimX = new int [1];\r", "-\tOS.XGetGeometry (xDisplay, trimWindow, unused, unused, trimY, trimWidth, trimHeight, trimBorder, unused);\r", "+\tOS.XGetGeometry (xDisplay, trimWindow, unused, trimX, trimY, trimWidth, trimHeight, trimBorder, unused);\r", "-\tint titleHeight = inner_y [0] - trimY [0];\r", "+\tint leftInset = inner_x [0] - trimX [0];\r", "+\tint topInset = inner_y [0] - trimY [0];\r", "-\t\tdisplay.titleHeight = titleHeight;\r", "-\t\t\tdisplay.titleResizeTrimWidth = width;\r", "-\t\t\tdisplay.titleResizeTrimHeight = height;\r", "+\t\t\tdisplay.leftTitleResizeWidth = leftInset;\r", "+\t\t\tdisplay.rightTitleResizeWidth = width - leftInset;\r", "+\t\t\tdisplay.topTitleResizeHeight = topInset;\r", "+\t\t\tdisplay.bottomTitleResizeHeight = height - topInset;\r", "-\t\t\tdisplay.titleBorderTrimWidth = width;\r", "-\t\t\tdisplay.titleBorderTrimHeight = height;\r", "+\t\t\tdisplay.leftTitleBorderWidth = leftInset;\r", "+\t\t\tdisplay.rightTitleBorderWidth = width - leftInset;\r", "+\t\t\tdisplay.topTitleBorderHeight = topInset;\r", "+\t\t\tdisplay.bottomTitleBorderHeight = height - topInset;\r", "-\t\tdisplay.titleTrimWidth = width;\r", "-\t\tdisplay.titleTrimHeight = height;\r", "+\t\tdisplay.leftTitleWidth = leftInset;\r", "+\t\tdisplay.rightTitleWidth = width - leftInset;\r", "+\t\tdisplay.topTitleHeight = topInset;\r", "+\t\tdisplay.bottomTitleHeight = height - topInset;\r", "-\t\tdisplay.resizeTrimWidth = width;\r", "-\t\tdisplay.resizeTrimHeight = height;\r", "+\t\tdisplay.leftResizeWidth = leftInset;\r", "+\t\tdisplay.rightResizeWidth = width - leftInset;\r", "+\t\tdisplay.topResizeHeight = topInset;\r", "+\t\tdisplay.bottomResizeHeight = height - topInset;\r", "-\t\tdisplay.borderTrimWidth = width;\r", "-\t\tdisplay.borderTrimHeight = height;\r", "+\t\tdisplay.leftBorderWidth = leftInset;\r", "+\t\tdisplay.rightBorderWidth = width - leftInset;\r", "+\t\tdisplay.topBorderHeight = topInset;\r", "+\t\tdisplay.bottomBorderHeight = height - topInset;\r"]}], "num": 59265}