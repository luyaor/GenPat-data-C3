{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4c1dfcbb796d9d293e1f23ca00dbbcf1", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "db0134354935a0aca9777d376c88c22e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/internal/Converter.java", "commitBeforeChange": "5f80bb3b53d7e26adb3e7ce4f4f973204cc40174", "commitAfterChange": "5fbe5d6518706b4f002ddbbebf7e1f63d1877af8", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "\r \r public static char [] mbcsToWcs (String codePage, byte [] buffer)", "signatureAfterChange": "\r \r public static char [] mbcsToWcs (String codePage, byte [] buffer)", "diff": ["-\t//SLOW AND BOGUS\r", "-\tString cp = codePage == null ? defaultCodePage () : codePage;\r", "-\ttry {\r", "-\t\treturn new String (buffer, cp).toCharArray ();\r", "-\t} catch (Exception e) {\r", "-\t\treturn NullCharArray;\r", "-\t}\r", "+\tint [] items_written = new int [1];\r", "+\tint ptr = OS.g_utf8_to_utf16 (buffer, buffer.length, null, items_written, null);\r", "+\tif (ptr == 0) return EmptyCharArray;\r", "+\tint length = items_written [0];\r", "+\tchar [] chars = new char [length];\r", "+\tOS.memmove (chars, ptr, length * 2);\r", "+\tOS.g_free (ptr);\r", "+\treturn chars;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e9f56f335b28ba8868fb396951da0427", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "7c4a78e98b89e3915f90014ba34390fb70ac683c", "commitAfterChange": "39f87846f6f8ce24f2cd0bbd721271690766d3ca", "methodNumberBeforeChange": 84, "methodNumberAfterChange": 84, "signatureBeforeChange": "  void initializeInsets ()", "signatureAfterChange": "  void initializeInsets ()", "diff": ["-\t", "-\tOS.CreateEditUnicodeTextControl (0, rect, 0, false, null, outControl);", "-\teditTextInset = computeInset (outControl [0]);", "-\tOS.DisposeControl (outControl [0]);", "-\t", "+", "+\t/* For some reason, this code calculates insets too big. */", "+//\tOS.CreateEditUnicodeTextControl (0, rect, 0, false, null, outControl);", "+//\teditTextInset = computeInset (outControl [0]);", "+//\tOS.DisposeControl (outControl [0]);\t", "+\teditTextInset = new Rect ();", "+\tint [] outMetric = new int [1];", "+\tOS.GetThemeMetric (OS.kThemeMetricFocusRectOutset, outMetric);", "+\tint inset = outMetric [0]; ", "+\tOS.GetThemeMetric (OS.kThemeMetricEditTextFrameOutset, outMetric);", "+\tinset += outMetric [0];", "+\teditTextInset.left = editTextInset.top = editTextInset.right = editTextInset.bottom = (short) inset;", "+"]}], "num": 61047}