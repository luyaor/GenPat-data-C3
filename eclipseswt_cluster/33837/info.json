{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d1147e0460d06a6cb0f04cdcc6bce31b", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "48b8707cf90e380cce982a27903608f7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "bc8036435837353efa5da8c19b6a3003dbb86045", "commitAfterChange": "5721cfd149c1026b4c21848f64c2b57027ac8c7e", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": "  RECT drawBorder(int hdc, int x, int y, int lineHeight, StyleItem[] line, int index, int color, int selectionColor, RECT clipRect, RECT pRect, int selectionStart, int selectionEnd, Rectangle drawClip)", "signatureAfterChange": "  RECT drawBorder(long hdc, int x, int y, int lineHeight, StyleItem[] line, int index, int color, int selectionColor, RECT clipRect, RECT pRect, int selectionStart, int selectionEnd, Rectangle drawClip)", "diff": ["-RECT drawBorder(int /*long*/ hdc, int x, int y, int lineHeight, StyleItem[] line, int index, int color, int selectionColor, RECT clipRect, RECT pRect, int selectionStart, int selectionEnd, Rectangle drawClip) {", "+RECT drawBorder(long /*int*/ hdc, int x, int y, int lineHeight, StyleItem[] line, int index, int color, int selectionColor, RECT clipRect, RECT pRect, int selectionStart, int selectionEnd, Rectangle drawClip) {", "-\t\tint /*long*/ oldBrush = OS.SelectObject(hdc, OS.GetStockObject(OS.NULL_BRUSH));", "+\t\tlong /*int*/ oldBrush = OS.SelectObject(hdc, OS.GetStockObject(OS.NULL_BRUSH));", "-\t\tint /*long*/ newPen = OS.ExtCreatePen(lineStyle | OS.PS_GEOMETRIC, lineWidth, logBrush, 0, null);", "-\t\tint /*long*/ oldPen = OS.SelectObject(hdc, newPen);", "+\t\tlong /*int*/ newPen = OS.ExtCreatePen(lineStyle | OS.PS_GEOMETRIC, lineWidth, logBrush, 0, null);", "+\t\tlong /*int*/ oldPen = OS.SelectObject(hdc, newPen);", "-\t\t\tint /*long*/ selPen = OS.ExtCreatePen (lineStyle | OS.PS_GEOMETRIC, lineWidth, logBrush, 0, null);", "+\t\t\tlong /*int*/ selPen = OS.ExtCreatePen (lineStyle | OS.PS_GEOMETRIC, lineWidth, logBrush, 0, null);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7d662ebfbe585e1d43d7dda85f1ff43a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "2438f67ade987f21088bcc5582c672b2484d67f6", "commitAfterChange": "c7ce65acaf36d1cca5e40ab2902afd4fae957588", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": "  RECT drawBorder(int hdc, int x, int y, int lineHeight, StyleItem[] line, int index, int color, int selectionColor, RECT clipRect, RECT pRect, int selectionStart, int selectionEnd, Rectangle drawClip)", "signatureAfterChange": "  RECT drawBorder(int hdc, int x, int y, int lineHeight, StyleItem[] line, int index, int color, int selectionColor, RECT clipRect, RECT pRect, int selectionStart, int selectionEnd, Rectangle drawClip)", "diff": ["+\t\tint pattern = 1;", "-\t\t\tcase SWT.BORDER_DASH: lineStyle = OS.PS_DASH; break;", "-\t\t\tcase SWT.BORDER_DOT: lineStyle = OS.PS_DOT; break;", "+\t\t\tcase SWT.BORDER_DASH: {", "+\t\t\t\tlineStyle = OS.PS_DASH;", "+\t\t\t\tpattern = 4;", "+\t\t\t\tbreak;", "+\t\t\t}", "+\t\t\tcase SWT.BORDER_DOT: {", "+\t\t\t\tlineStyle = OS.PS_DOT;", "+\t\t\t\tpattern = 2;", "+\t\t\t\tbreak;", "+\t\t\t}", "-\t\tint /*long*/ newPen = OS.ExtCreatePen(lineStyle | OS.PS_GEOMETRIC, Math.max(1, lineWidth), logBrush, 0, null);", "+\t\tint /*long*/ newPen = OS.ExtCreatePen(lineStyle | OS.PS_GEOMETRIC, lineWidth, logBrush, 0, null);", "-\t\t\tRECT lpDrawClip = new RECT();", "-\t\t\tOS.SetRect(lpDrawClip, drawClip.x - lineWidth, y, drawClip.x + drawClip.width + lineWidth, y + lineHeight);", "-\t\t\tOS.IntersectRect(drawRect, lpDrawClip, drawRect);", "+\t\t\tif (drawRect.left < drawClip.x) {", "+\t\t\t\tint remainder = drawRect.left % pattern;", "+\t\t\t\tdrawRect.left = drawClip.x / pattern * pattern + remainder - pattern;", "+\t\t\t}", "+\t\t\tif (drawRect.right > drawClip.x + drawClip.width) {", "+\t\t\t\tint remainder = drawRect.right % pattern;", "+\t\t\t\tdrawRect.right = (drawClip.x + drawClip.width) / pattern * pattern + remainder + pattern;", "+\t\t\t}", "-\t\t\tint /*long*/ selPen = OS.ExtCreatePen (lineStyle | OS.PS_GEOMETRIC, Math.max(1, lineWidth), logBrush, 0, null);", "+\t\t\tint /*long*/ selPen = OS.ExtCreatePen (lineStyle | OS.PS_GEOMETRIC, lineWidth, logBrush, 0, null);"]}], "num": 33837}