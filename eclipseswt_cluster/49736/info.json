{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3a9cf9b8044072597fd769d9b1b4711e", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e28556415c0276d8a0473999b3ce49dc", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Printing/carbon/org/eclipse/swt/printing/PrintDialog.java", "commitBeforeChange": "f91e7ecd39d720c6aad48a272f160115d234b872", "commitAfterChange": "1893f7e9f44738c28a4a15d0fb3551fa1ba98d99", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": " public PrinterData open()", "signatureAfterChange": " public PrinterData open()", "diff": ["-\t\t\t\tOS.PMSessionSetDestination(printSession, printSettings, (short) (printToFile ? OS.kPMDestinationFile : OS.kPMDestinationPrinter), 0, 0);", "-\t\t\t\tif (scope == PrinterData.PAGE_RANGE) {", "-\t\t\t\t\tOS.PMSetFirstPage(printSettings, startPage, false);", "-\t\t\t\t\tOS.PMSetLastPage(printSettings, endPage, false);", "-\t\t\t\t\tOS.PMSetPageRange(printSettings, startPage, endPage);", "+\t\t\t\tOS.PMSessionSetDestination(printSession, printSettings, (short) (printerData.printToFile ? OS.kPMDestinationFile : OS.kPMDestinationPrinter), 0, 0);", "+\t\t\t\tif (printerData.scope == PrinterData.PAGE_RANGE) {", "+\t\t\t\t\tOS.PMSetFirstPage(printSettings, printerData.startPage, false);", "+\t\t\t\t\tOS.PMSetLastPage(printSettings, printerData.endPage, false);", "+\t\t\t\t\tOS.PMSetPageRange(printSettings, printerData.startPage, printerData.endPage);", "+\t\t\t\tOS.PMSetCopies(printSettings, printerData.copyCount, false);", "+\t\t\t\tOS.PMSetCollate(printSettings, printerData.collate);", "+\t\t\t\tOS.PMSetOrientation(pageFormat, (short)(printerData.orientation == PrinterData.LANDSCAPE ? OS.kPMLandscape : OS.kPMPortrait), false);", "-\t\t\t\t\tdata.copyCount = buffer[0];\t\t\t\t\t\t", "+\t\t\t\t\tdata.copyCount = buffer[0];", "-\t\t\t\t\tOS.PMGetPageRange(printSettings, null, buffer);", "+\t\t\t\t\t//OS.PMGetPageRange(printSettings, null, buffer);", "+\t\t\t\t\tshort[] orientation = new short[1];", "+\t\t\t\t\tOS.PMGetOrientation(pageFormat, orientation);", "+\t\t\t\t\tdata.orientation = orientation[0] == OS.kPMLandscape ? PrinterData.LANDSCAPE : PrinterData.PORTRAIT;", "-\t\t\t\t\t", "-\t\t\t\t\tscope = data.scope;", "-\t\t\t\t\tstartPage = data.startPage;", "-\t\t\t\t\tendPage = data.endPage;", "-\t\t\t\t\tprintToFile = data.printToFile;", "+\t\t\t\t\tprinterData = data;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dd19d97ab0623af9755e017fc2942028", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Printing/cocoa/org/eclipse/swt/printing/PrintDialog.java", "commitBeforeChange": "3654966d37611f4d9d2c9f01b9ca8fa3554b426a", "commitAfterChange": "b2b34fbc2579012e9628a9fa709c082791d6ec37", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": " public PrinterData open()", "signatureAfterChange": " public PrinterData open()", "diff": ["-\tprintInfo.setOrientation(printerData.orientation == PrinterData.LANDSCAPE ? OS.NSLandscapeOrientation : OS.NSPortraitOrientation);", "-\tNSMutableDictionary dict = printInfo.dictionary();\t", "+\tif (printerData.duplex != SWT.DEFAULT) {", "+\t\tint /*long*/ settings = printInfo.PMPrintSettings();", "+\t\tint duplex = printerData.duplex == PrinterData.DUPLEX_SHORT_EDGE ? OS.kPMDuplexTumble", "+\t\t\t\t: printerData.duplex == PrinterData.DUPLEX_LONG_EDGE ? OS.kPMDuplexNoTumble", "+\t\t\t\t: OS.kPMDuplexNone;", "+\t\tOS.PMSetDuplex(settings, duplex);", "+\t}", "+\t/* Updating printInfo from PMPrintSettings overrides values in the printInfo dictionary. */", "+\tprintInfo.updateFromPMPrintSettings();", "+\tNSMutableDictionary dict = printInfo.dictionary();", "+\tdict.setValue(NSNumber.numberWithInt(printerData.orientation == PrinterData.LANDSCAPE ? OS.NSLandscapeOrientation : OS.NSPortraitOrientation), OS.NSPrintOrientation);", "-\t\tdata.orientation = printInfo.orientation() == OS.NSLandscapeOrientation ? PrinterData.LANDSCAPE : PrinterData.PORTRAIT;", "+\t\tdata.orientation = new NSNumber(dict.objectForKey(OS.NSPrintOrientation)).intValue() == OS.NSLandscapeOrientation ? PrinterData.LANDSCAPE : PrinterData.PORTRAIT;", "+\t\tint /*long*/ settings = printInfo.PMPrintSettings();", "+\t\tint outDuplexSetting[] = new int[1];", "+\t\tOS.PMGetDuplex(settings, outDuplexSetting);", "+\t\tdata.duplex = outDuplexSetting[0] == OS.kPMDuplexTumble ? PrinterData.DUPLEX_SHORT_EDGE", "+\t\t\t\t: outDuplexSetting[0] == OS.kPMDuplexNoTumble ? PrinterData.DUPLEX_LONG_EDGE", "+\t\t\t\t: PrinterData.DUPLEX_NONE;"]}], "num": 49736}