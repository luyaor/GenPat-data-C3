{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4e890aaf0f9eec16224abb7f49c2179a", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "14bdeef085fc14680f8ee9475a7587d6", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "63d43e2e2d15614fc50e55e75cd4bae8c52f4700", "commitAfterChange": "f737e06f25766cf513d76b382a2de6e8a8b125b8", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "\r \r void drawBitmapAlpha(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple, BITMAP bm, int imgWidth, int imgHeight)", "signatureAfterChange": "\r \r void drawBitmapAlpha(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple, BITMAP bm, int imgWidth, int imgHeight)", "diff": ["-\tint memDib = createDIB(Math.max(srcWidth, destWidth), Math.max(srcWidth, destHeight), 32);\r", "+\tint memDib = createDIB(Math.max(srcWidth, destWidth), Math.max(srcHeight, destHeight), 32);\r", "-\t\tint ap = 0, sp = 3;\r", "+\t\tint ap = srcY * imgWidth + srcX, sp = 3;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a692cda630753fd046a19489e2048aad", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "f9bb5d40accd622147de6079abe42fd37fe5f2d7", "commitAfterChange": "f50ec8ab73fb1f222ede738d89c8418386b1b69b", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": " void drawImageMask(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple, int imgWidth, int imgHeight)", "signatureAfterChange": " void drawImageMask(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple, int imgWidth, int imgHeight)", "diff": ["-\t/* Merge clipping with mask if necessary */", "-\tif (data.clipRgn != 0)\t {", "-\t\tint newWidth =  imgWidth;", "-\t\tint newHeight = imgHeight;", "-\t\tint bytesPerLine = (((newWidth + 7) / 8) + 3) / 4 * 4;", "-\t\tbyte[] maskData = new byte[bytesPerLine * newHeight];", "-\t\tint mask = OS.gdk_bitmap_create_from_data(0, maskData, bytesPerLine * 8, newHeight);", "-\t\tif (mask != 0) {", "-\t\t\tint gc = OS.gdk_gc_new(mask);", "-\t\t\tOS.gdk_region_offset(data.clipRgn, -destX + srcX, -destY + srcY);", "-\t\t\tOS.gdk_gc_set_clip_region(gc, data.clipRgn);", "-\t\t\tOS.gdk_region_offset(data.clipRgn, -destX, -destY);", "-\t\t\tGdkColor color = new GdkColor();", "-\t\t\tcolor.pixel = 1;", "-\t\t\tOS.gdk_gc_set_foreground(gc, color);", "-\t\t\tOS.gdk_draw_rectangle(mask, gc, 1, 0, 0, newWidth, newHeight);", "-\t\t\tOS.gdk_gc_set_function(gc, OS.GDK_AND);", "-\t\t\tOS.gdk_draw_drawable(mask, gc, maskPixmap, 0, 0, 0, 0, newWidth, newHeight);", "-\t\t\tOS.g_object_unref(gc);", "-\t\t\tif (maskPixmap != 0 && srcImage.mask != maskPixmap) OS.g_object_unref(maskPixmap);", "-\t\t\tmaskPixmap = mask;", "-\t\t}", "-\t}", "-", "+\t/* Merge clipping with mask if necessary */", "+\tif (data.clipRgn != 0)\t {", "+\t\tint newWidth =  srcX + srcWidth;", "+\t\tint newHeight = srcY + srcHeight;", "+\t\tint bytesPerLine = (((newWidth + 7) / 8) + 3) / 4 * 4;", "+\t\tbyte[] maskData = new byte[bytesPerLine * newHeight];", "+\t\tint mask = OS.gdk_bitmap_create_from_data(0, maskData, bytesPerLine * 8, newHeight);", "+\t\tif (mask != 0) {", "+\t\t\tint gc = OS.gdk_gc_new(mask);", "+\t\t\tOS.gdk_region_offset(data.clipRgn, -destX + srcX, -destY + srcY);", "+\t\t\tOS.gdk_gc_set_clip_region(gc, data.clipRgn);", "+\t\t\tOS.gdk_region_offset(data.clipRgn, -destX, -destY);", "+\t\t\tGdkColor color = new GdkColor();", "+\t\t\tcolor.pixel = 1;", "+\t\t\tOS.gdk_gc_set_foreground(gc, color);", "+\t\t\tOS.gdk_draw_rectangle(mask, gc, 1, 0, 0, newWidth, newHeight);", "+\t\t\tOS.gdk_gc_set_function(gc, OS.GDK_AND);", "+\t\t\tOS.gdk_draw_drawable(mask, gc, maskPixmap, 0, 0, 0, 0, newWidth, newHeight);", "+\t\t\tOS.g_object_unref(gc);", "+\t\t\tif (maskPixmap != 0 && srcImage.mask != maskPixmap) OS.g_object_unref(maskPixmap);", "+\t\t\tmaskPixmap = mask;", "+\t\t}", "+\t}", "+"]}], "num": 3581}