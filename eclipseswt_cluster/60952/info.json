{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6d9619779444fc7573cfe231f1f41a34", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "56ada5fbc754b2f1224bee7607184a43", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/DirectoryDialog.java", "commitBeforeChange": "d4eb14ad4f7b1074d4935c2b9211f94b2750616d", "commitAfterChange": "7d562ae8941ad5655a314eac8dd19e3b2aaef50c", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "\r \r int BrowseCallbackProc (int hwnd, int uMsg, int lParam, int lpData)", "signatureAfterChange": "\r \r int BrowseCallbackProc (int hwnd, int uMsg, int lParam, int lpData)", "diff": ["-\t\t\t\tbyte [] buffer = Converter.wcsToMbcs (0, filterPath, true);\r", "+\t\t\t\tTCHAR buffer = new TCHAR (0, filterPath, true);\r", "-\t\t\t\tbyte [] buffer = Converter.wcsToMbcs (0, title, true);\r", "+\t\t\t\tTCHAR buffer = new TCHAR (0, title, true);\r", "-\t\tcase OS.BFFM_VALIDATEFAILED:\r", "-\t\t\tbyte [] buffer1 = new byte [256];\r", "-\t\t\tOS.MoveMemory (buffer1, lParam, 256);\r", "+\t\tcase OS.BFFM_VALIDATEFAILEDA:\r", "+\t\tcase OS.BFFM_VALIDATEFAILEDW:\r", "-\t\t\tchar [] buffer2 = Converter.mbcsToWcs (0, buffer1);\r", "-\t\t\tint length = 0;\r", "-\t\t\twhile (length < buffer2.length && buffer2 [length] != 0) length++;\r", "-\t\t\tdirectoryPath = new String (buffer2, 0, length);\r", "+\t\t\tTCHAR buffer = new TCHAR (0, 256);\r", "+\t\t\tint byteCount = buffer.length () * TCHAR.sizeof;\r", "+\t\t\tOS.MoveMemory (buffer, lParam, byteCount);\r", "+\t\t\tdirectoryPath = buffer.toString (0, buffer.strlen ());\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "91f19ae7c8bbf9780edb7468366ea507", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "d4eb14ad4f7b1074d4935c2b9211f94b2750616d", "commitAfterChange": "7d562ae8941ad5655a314eac8dd19e3b2aaef50c", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 19, "signatureBeforeChange": "\r \r char [] getClipboardData ()", "signatureAfterChange": "\r \r String getClipboardText ()", "diff": ["-char [] getClipboardData () {\r", "-\tchar [] lpWideCharStr = null;\r", "+String getClipboardText () {\r", "+\tString string = \"\";\r", "-\t\tint hMem = OS.GetClipboardData (OS.CF_TEXT);\r", "+\t\tint hMem = OS.GetClipboardData (OS.IsUnicode ? OS.CF_UNICODETEXT : OS.CF_TEXT);\r", "+\t\t\tint byteCount = OS.GlobalSize (hMem);\r", "-\t\t\t\tint cp = OS.CP_ACP;\r", "-\t\t\t\tint cchWideChar = OS.MultiByteToWideChar (cp, OS.MB_PRECOMPOSED, ptr, -1, null, 0);\r", "-\t\t\t\tlpWideCharStr = new char [--cchWideChar];\r", "-\t\t\t\tOS.MultiByteToWideChar (cp, OS.MB_PRECOMPOSED, ptr, -1, lpWideCharStr, cchWideChar);\r", "+\t\t\t\tTCHAR buffer = new TCHAR (0, byteCount / TCHAR.sizeof);\r", "+\t\t\t\tOS.MoveMemory (buffer, ptr, byteCount);\r", "+\t\t\t\tstring = buffer.toString (0, buffer.strlen ());\r", "+\t\t\t\tOS.GlobalUnlock (hMem);\r", "-\treturn lpWideCharStr;\r", "-}\r", "+\treturn string;\r"]}], "num": 60952}