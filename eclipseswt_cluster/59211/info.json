{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b685a06415baba5da1d6db5c4c1ead94", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5bfcee450bab18c8ace6fc5560229757", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/DateTime.java", "commitBeforeChange": "f4bb8ef7d86d4b06d34d232ac624ae216be4183a", "commitAfterChange": "358e077459326bfde3a675b949aa20349d21bc3d", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 25, "signatureBeforeChange": "  void dropDownCalendar(boolean drop)", "signatureAfterChange": " void dropDownCalendar (boolean drop)", "diff": ["-void dropDownCalendar(boolean drop) {", "+ */", "+void dropDownCalendar (boolean drop) {", "+", "-\t\tpopupShell.setVisible (false);", "-\t\tOS.gtk_calendar_clear_marks(popupCalendar.handle);", "-\t\tdisplay.removeFilter(SWT.MouseDown, clickListener);", "+\t\thideDropDownCalendar ();", "+", "+\tsetCurrentDate ();", "+", "+\tif (getShell () != popupShell.getParent ()) {", "+\t\trecreateCalendar ();", "+\t}", "+", "+\t//This is the x/y/width/height of the container of DateTime", "+\tPoint containerBounds = getSize ();", "+\tPoint calendarSize = popupCalendar.computeSize (SWT.DEFAULT, SWT.DEFAULT, false);", "+", "+\t//Set the inner calendar pos/size. (not the popup shell pos/size)", "+\tpopupCalendar.setBounds (1, 1, Math.max (containerBounds.x - 2, calendarSize.x), calendarSize.y);", "+", "+\t//Set Date & focus current day", "+\tpopupCalendar.setDate (savedYear, savedMonth, savedDay);", "+\tfocusDayOnPopupCalendar ();", "+", "+\tDisplay display = getDisplay ();", "+", "+\t//To display popup calendar, we need to know where the parent is relative to the whole screen.", "+\tRectangle coordsRelativeToScreen = display.map (getParent (), null, getBounds ());", "+\tRectangle displayRect = getMonitor ().getClientArea ();", "+", "+\tshowPopupShell (containerBounds, calendarSize, coordsRelativeToScreen, displayRect);", "+", "+\tdisplay.addFilter (SWT.MouseDown, mouseEventListener);", "+}", "-\tif (getShell() != popupShell.getParent ()) {", "-\t\tint year = popupCalendar.getYear ();", "-\t\tint month = popupCalendar.getMonth ();", "-\t\tint day = popupCalendar.getDay ();", "-\t\tpopupCalendar.removeListener (SWT.Dispose, popupListener);", "-\t\tpopupShell.dispose();", "-\t\tpopupShell = null;", "-\t\tpopupCalendar = null;", "-\t\tcreatePopupShell (year, month, day);", "-\t}", "-\tPoint dateBounds = getSize ();", "-\tPoint calendarSize = popupCalendar.computeSize (SWT.DEFAULT, SWT.DEFAULT, false);", "-\tpopupCalendar.setBounds (1, 1, Math.max (dateBounds.x - 2, calendarSize.x), calendarSize.y);", "-", "-\tpopupCalendar.setDate(savedYear, savedMonth, savedDay);", "-\tif (savedYear == Calendar.getInstance().get(Calendar.YEAR) && savedMonth == Calendar.getInstance().get(Calendar.MONTH))", "-\t\tOS.gtk_calendar_mark_day(popupCalendar.handle, Calendar.getInstance().get(Calendar.DAY_OF_MONTH));", "-\tDisplay display = getDisplay ();", "-\tRectangle parentRect = display.map (getParent (), null, getBounds ());", "-\tRectangle displayRect = getMonitor ().getClientArea ();", "-\tint width = Math.max (dateBounds.x, calendarSize.x + 2);", "-\tint height = calendarSize.y + 2;", "-\tint x = parentRect.x;", "-\tint y = parentRect.y + dateBounds.y;", "-\tif (y + height > displayRect.y + displayRect.height) y = parentRect.y - height;", "-\tif (x + width > displayRect.x + displayRect.width) x = displayRect.x + displayRect.width - calendarSize.x;", "-\tpopupShell.setBounds (x, y, width, height);", "-\tpopupShell.setVisible (true);", "-\tif (isFocusControl()) {", "-\t\tpopupCalendar.setFocus ();", "-\t}", "-\tdisplay.addFilter(SWT.MouseDown, clickListener);", "-}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "091fb11282556f90993bde9457ebe5cc", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CCombo.java", "commitBeforeChange": "adabafc5d626e17b7477d5b82a27748e5d29ba24", "commitAfterChange": "437e0e4872221b53ff2571da38976f83327b06cc", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 18, "signatureBeforeChange": " void dropDown (boolean drop)", "signatureAfterChange": " void dropDown (boolean drop)", "diff": ["-\tdropDown(drop, true);", "-}", "+\t\tif (!isDisposed () && isFocusControl()) {", "+\tif (isFocusControl()) list.setFocus ();"]}], "num": 59211}