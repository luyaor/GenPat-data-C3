{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "506017e411f83ab28de367fec6006a2e", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "061ebdfa61805f57ad78d446fa99b5ed", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Button.java", "commitBeforeChange": "fffca5c8eb3cb5fb81da3cf1a7af0bbf503e395d", "commitAfterChange": "70b3c05a26d1ba0b79fb3867745857a6ef7b0bdd", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "  void createHandle ()", "signatureAfterChange": "  void createHandle ()", "diff": ["-\t/*", "-\t* Feature in Cocoa.  Images touch the edge of rounded buttons", "-\t* when set to small size. The fix to subclass the button cell", "-    * and offset the image drawing.", "-\t*/", "-//\tif (display.smallFonts && (style & (SWT.PUSH | SWT.TOGGLE)) != 0 && (style & SWT.FLAT) == 0) {", "-\t\tNSButtonCell cell = (NSButtonCell)new SWTButtonCell ().alloc ().init ();", "-\t\twidget.setCell (cell);", "-\t\tcell.release ();", "-//\t}", "+\tNSButtonCell cell = (NSButtonCell)new SWTButtonCell ().alloc ().init ();", "+\twidget.setCell (cell);", "+\tcell.release ();", "+\tif ((style & (SWT.PUSH | SWT.TOGGLE)) != 0 && (style & SWT.FLAT) == 0) {", "+\t\tNSView superview = parent.view;", "+\t\twhile (superview != null) {", "+\t\t\tif (superview.isKindOfClass(OS.class_NSTableView)) {", "+\t\t\t\tstyle |= SWT.FLAT;", "+\t\t\t\tbreak;", "+\t\t\t}", "+\t\t\tsuperview = superview.superview();", "+\t\t}", "+\t}", "-\t\tboolean flat = (style & SWT.FLAT) != 0;", "-\t\tif (!flat) {", "-\t\t\tNSView superview = widget.superview();", "-\t\t\twhile (superview != null) {", "-\t\t\t\tif (superview.isKindOfClass(OS.class_NSTableView)) {", "-\t\t\t\t\tflat = true;", "-\t\t\t\t\tbreak;", "-\t\t\t\t}", "-\t\t\t\tsuperview = superview.superview();", "-\t\t\t}", "-\t\t}", "-\t\tif (flat) {", "+\t\tif ((style & SWT.FLAT) != 0) {", "-//\t\t\tif ((style & SWT.BORDER) == 0) widget.setShowsBorderOnlyWhileMouseInside(true);", "-\t\t\twidget.setBezelStyle(OS.NSRoundedBezelStyle);", "+\t\t\twidget.setBezelStyle((style & SWT.WRAP) != 0 ? OS.NSRegularSquareBezelStyle : OS.NSRoundedBezelStyle);", "-//\t\t\tif ((style & SWT.BORDER) == 0) widget.setShowsBorderOnlyWhileMouseInside(true);", "-\t\t\twidget.setBezelStyle(OS.NSRoundedBezelStyle);", "+\t\t\twidget.setBezelStyle((style & SWT.WRAP) != 0 ? OS.NSRegularSquareBezelStyle : OS.NSRoundedBezelStyle);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1c6ed25911201efa7390e01ab4f631c9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Button.java", "commitBeforeChange": "fffca5c8eb3cb5fb81da3cf1a7af0bbf503e395d", "commitAfterChange": "70b3c05a26d1ba0b79fb3867745857a6ef7b0bdd", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  NSSize cellSize (int id, int sel)", "signatureAfterChange": "  NSSize cellSizeForBounds (int id, int sel, NSRect cellFrame)", "diff": ["-NSSize cellSize (int /*long*/ id, int /*long*/ sel) {", "-\tNSSize size = super.cellSize(id, sel);", "+NSSize cellSizeForBounds (int /*long*/ id, int /*long*/ sel, NSRect cellFrame) {", "+\tNSSize size = super.cellSizeForBounds(id, sel, cellFrame);", "-", "-\tif (image != null && ((style & (SWT.PUSH|SWT.TOGGLE)) !=0) && (style & SWT.FLAT) == 0) {", "-\t\tNSCell cell = new NSCell(id);", "-\t\tif (cell.controlSize() == OS.NSSmallControlSize) size.height += EXTRA_HEIGHT;", "+\t", "+\tif (((style & (SWT.PUSH|SWT.TOGGLE)) !=0) && (style & (SWT.FLAT|SWT.WRAP)) == 0) {", "+\t\tif (image != null) {", "+\t\t\tNSCell cell = new NSCell(id);", "+\t\t\tif (cell.controlSize() == OS.NSSmallControlSize) size.height += EXTRA_HEIGHT;", "+\t\t}", "+\t\t// TODO: Why is this necessary?", "+\t\tsize.width += EXTRA_WIDTH;", "+\tif ((style & SWT.WRAP) != 0 && text.length() != 0 && cellFrame.width < MAX_SIZE) {", "+\t\tNSCell cell = new NSCell (id);", "+\t\tNSRect titleRect = cell.titleRectForBounds(cellFrame);", "+\t\tNSSize wrapSize = new NSSize();", "+\t\twrapSize.width = titleRect.width;", "+\t\twrapSize.height = MAX_SIZE;", "+\t\tNSAttributedString attribStr = createString(text, null, foreground, style, true, true, true);", "+\t\tNSRect rect = attribStr.boundingRectWithSize(wrapSize, OS.NSStringDrawingUsesLineFragmentOrigin);", "+\t\tattribStr.release();", "+\t\tfloat /*double*/ trimHeight = size.height - titleRect.height;", "+\t\tsize.height = rect.height;", "+\t\tif (image != null && ((style & (SWT.CHECK|SWT.RADIO)) !=0)) {", "+\t\t\tNSSize imageSize = image.handle.size();", "+\t\t\tsize.height = Math.max(size.height, imageSize.height);", "+\t\t}", "+\t\tsize.height += trimHeight;", "+\t}"]}], "num": 13709}