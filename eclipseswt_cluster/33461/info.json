{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0c9d1a6382f892f93fd73d1c31e3fda2", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c6093dd9a1bea8c0baba4ac2c02a7e67", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "e2e7896b3cf0e9c97f6038a8e9fe8cfb357377bf", "commitAfterChange": "d2e697ac12d333462fab7aa686c0fbe95379eed0", "methodNumberBeforeChange": 30, "methodNumberAfterChange": 32, "signatureBeforeChange": " public String getText (int start, int end)", "signatureAfterChange": " public String getText (int start, int end)", "diff": ["-\tint address = OS.gtk_editable_get_chars (handle, start, end);", "-\tif (address == 0) return null;", "+\tint address;", "+\tif ((style & SWT.SINGLE) != 0) {", "+\t\taddress = OS.gtk_editable_get_chars (handle, start, end);", "+\t} else {", "+\t\tbyte [] startIter =  new byte [ITER_SIZEOF];", "+\t\tbyte [] endIter =  new byte [ITER_SIZEOF];", "+\t\tOS.gtk_text_buffer_get_iter_at_offset (bufferHandle, startIter, start);", "+\t\tOS.gtk_text_buffer_get_iter_at_offset (bufferHandle, endIter, end);", "+\t\taddress = OS.gtk_text_buffer_get_text (bufferHandle, startIter, endIter, true);", "+\t}", "+\tif (address == 0) return \"\";", "-\tbyte [] buffer1 = new byte [length];", "-\tOS.memmove (buffer1, address, length);", "+\tbyte [] buffer = new byte [length];", "+\tOS.memmove (buffer, address, length);", "-\tchar [] buffer2 = Converter.mbcsToWcs (null, buffer1);", "-\treturn new String (buffer2, 0, buffer2.length);", "+\treturn new String (Converter.mbcsToWcs (null, buffer));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "766cbc0ec009ab00996539276c244735", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "e2e7896b3cf0e9c97f6038a8e9fe8cfb357377bf", "commitAfterChange": "d2e697ac12d333462fab7aa686c0fbe95379eed0", "methodNumberBeforeChange": 29, "methodNumberAfterChange": 31, "signatureBeforeChange": " public String getText ()", "signatureAfterChange": " public String getText ()", "diff": ["-\t\taddress = OS.gtk_editable_get_chars (handle, 0, -1);", "+\t\tbyte [] start =  new byte [ITER_SIZEOF];", "+\t\tbyte [] end =  new byte [ITER_SIZEOF];", "+\t\tOS.gtk_text_buffer_get_bounds (bufferHandle, start, end);", "+\t\taddress = OS.gtk_text_buffer_get_text (bufferHandle, start, end, true);", "-\tif (address == 0) return null;", "+\tif (address == 0) return \"\";", "-\tbyte [] buffer1 = new byte [length];", "-\tOS.memmove (buffer1, address, length);", "-\t/*", "-\t * The GTK documentation explicitly states", "-\t * that this address should not be freed for a", "-\t * GtkEntry.", "-\t */", "+\tbyte [] buffer = new byte [length];", "+\tOS.memmove (buffer, address, length);", "-\tchar [] buffer2 = Converter.mbcsToWcs (null, buffer1);", "-\treturn new String (buffer2, 0, buffer2.length);", "+\treturn new String (Converter.mbcsToWcs (null, buffer));"]}], "num": 33461}