{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "56c1de3e47db8b50e1ab884b142bc189", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bdf3674d99a28b5e57249d9b361a53b0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "98f31492caf99e1c73e8107a75d65654daaee107", "commitAfterChange": "09221f4246ffb04bd30a4f2f5459d4e658664039", "methodNumberBeforeChange": 38, "methodNumberAfterChange": 38, "signatureBeforeChange": " public TreeItem [] getSelection ()", "signatureAfterChange": " public TreeItem [] getSelection ()", "diff": ["-//\tint [] count = new int [1];", "-//\tif (OS.GetDataBrowserItemCount (handle, OS.kDataBrowserNoItem, true, OS.kDataBrowserItemIsSelected, count) != OS.noErr) {", "-//\t\terror (SWT.ERROR_CANNOT_GET_COUNT);", "-//\t}", "-//\tTreeItem [] result = new TreeItem [count[0]];", "-//\tif (count[0] > 0) {", "-//\t\tint ptr = OS.NewHandle (0);", "-//\t\tif (count[0] == 1) {", "-//\t\t\tif (OS.GetDataBrowserItems (handle, OS.kDataBrowserNoItem, true, OS.kDataBrowserItemIsSelected, ptr) != OS.noErr) {", "-//\t\t\t\terror (SWT.ERROR_CANNOT_GET_SELECTION);", "-//\t\t\t}", "-//\t\t\tOS.HLock (ptr);", "-//\t\t\tint [] id = new int [1];", "-//\t\t\tOS.memmove (id, ptr, 4);", "-//\t\t\tOS.memmove (id, id [0], 4);", "-//\t\t\tresult [0] = _getItem (id [0], true);", "-//\t\t\tOS.HUnlock (ptr);", "-//\t\t} else {", "-//\t\t\tgetSelection (result, OS.kDataBrowserNoItem, ptr, 0);", "-//\t\t}", "-//\t\tOS.DisposeHandle (ptr);", "-//\t}", "-//\treturn result;", "-\treturn new TreeItem[0];", "+\tNSOutlineView widget = (NSOutlineView)view;", "+\tif (widget.numberOfSelectedRows() == 0) {", "+\t\treturn new TreeItem [0];", "+\t}", "+\tNSIndexSet selection = widget.selectedRowIndexes();", "+\tint count = selection.count();", "+\tint [] indexBuffer = new int [count];", "+\tselection.getIndexes(indexBuffer, count, 0);", "+\tTreeItem [] result = new TreeItem  [count];", "+\tfor (int i=0; i<count; i++) {", "+\t\tid item = widget.itemAtRow(indexBuffer [i]);", "+\t\tint jniRef = OS.objc_msgSend(item.id, OS.sel_tag);", "+\t\tif (jniRef != -1 && jniRef != 0) {", "+\t\t\t//TODO virtual", "+\t\t\tresult[i] = (TreeItem)OS.JNIGetObject(jniRef);", "+\t\t}", "+\t}", "+\treturn result;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "56d8371c76756a196ffd8968627ceb1c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "78468bca446d96c75fb7a488b69a2588651540b3", "commitAfterChange": "bd2fbb8410192877f5552bd4ede9ef550094b912", "methodNumberBeforeChange": 59, "methodNumberAfterChange": 61, "signatureBeforeChange": " public Monitor getPrimaryMonitor ()", "signatureAfterChange": " public Monitor getPrimaryMonitor ()", "diff": ["+\tint gdevice = OS.GetMainDevice ();", "-\tRectangle rect = getBounds ();", "-\tmonitor.x = rect.x;", "-\tmonitor.y = rect.y;", "-\tmonitor.width = rect.width;", "-\tmonitor.height = rect.height;", "-\trect = getClientArea ();", "-\tmonitor.clientX = rect.x;", "-\tmonitor.clientY = rect.y;", "-\tmonitor.clientWidth = rect.width;", "-\tmonitor.clientHeight = rect.height;", "+\tmonitor.handle = gdevice;", "+\tint [] ptr = new int [1];", "+\tOS.memcpy (ptr, gdevice, 4);", "+\tGDevice device = new GDevice ();", "+\tOS.memcpy (device, ptr [0], GDevice.sizeof);\t\t", "+\tmonitor.x = device.left;", "+\tmonitor.y = device.top;", "+\tmonitor.width = device.right - device.left;", "+\tmonitor.height = device.bottom - device.top;", "+\tRect rect = new Rect ();\t\t", "+\tOS.GetAvailableWindowPositioningBounds (gdevice, rect);", "+\tmonitor.clientX = rect.left;", "+\tmonitor.clientY = rect.top;", "+\tmonitor.clientWidth = rect.right - rect.left;", "+\tmonitor.clientHeight = rect.bottom - rect.top;"]}], "num": 15078}