{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "1db2f3f7c5859ba23df9846db8ef3e42", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b70a6c950a393409fd1d2ac1b44389fa", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/motif/org/eclipse/swt/dnd/Clipboard.java", "commitBeforeChange": "00ed21c8f8c77f61853a45cda676574d76d69e41", "commitAfterChange": "8e00f3751d53017bb47fe8df7b2fb0596267f9cb", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 11, "signatureBeforeChange": " public TransferData[] getAvailableTypes(int clipboards)", "signatureAfterChange": " public TransferData[] getAvailableTypes(int clipboards)", "diff": ["+ */", "+public TransferData[] getAvailableTypes(int clipboards) {", "+\tcheckWidget();", "+\tint xDisplay = OS.XtDisplay (shellHandle);", "+\tif (xDisplay == 0) return null;", "+\tint[] types = null;", "+\tif ((clipboards & DND.CLIPBOARD) != 0) {", "+\t\ttypes = getAvailableTypes(xDisplay, clipboardAtom);", "+\t}", "+\tif ((clipboards & DND.SELECTION_CLIPBOARD) != 0) {", "+\t\tint[] primaryTypes = getAvailableTypes(xDisplay, primaryAtom);", "+\t\tif (types == null) {", "+\t\t\ttypes = primaryTypes;", "+\t\t} else {", "+\t\t\tint[] newTypes = new int[types.length + primaryTypes.length];", "+\t\t\tSystem.arraycopy(types, 0, newTypes, 0, types.length);", "+\t\t\tSystem.arraycopy(primaryTypes, 0, newTypes, types.length, primaryTypes.length);", "+\t\t\ttypes = newTypes;", "+\t\t}", "+\t}", "+\tif (types == null) return new TransferData[0];", "+\tTransferData[] result = new TransferData[types.length];", "+\tfor (int i = 0; i < types.length; i++) {", "+\t\tresult[i] = new TransferData();", "+\t\tresult[i].type = types[i];", "+\t}", "+\treturn result;", "+}", "- */", "-public TransferData[] getAvailableTypes(int clipboards) {", "-\tcheckWidget();", "-\tif ((clipboards & DND.CLIPBOARD) == 0) return new TransferData[0];", "-\tint xDisplay = OS.XtDisplay(shellHandle);", "-\tif (xDisplay == 0) return new TransferData[0];", "-\tbyte[][] types = _getAvailableTypes();", "-\tTransferData[] result = new TransferData[types.length];", "-\tfor (int i = 0; i < types.length; i++) {", "-\t\tint atom = OS.XmInternAtom(xDisplay, types[i], true);", "-\t\tresult[i] = new TransferData();", "-\t\tresult[i].type = atom;", "-\t}", "-\treturn result;", "-}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d99f69927415b0be3ac5827b0b5cfa70", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/List.java", "commitBeforeChange": "e46f75d5244b5f652fb4edaf18d1e53fe0bd2ae0", "commitAfterChange": "15369099402c7b67677fb7085000c8dc9c207f18", "methodNumberBeforeChange": 54, "methodNumberAfterChange": 54, "signatureBeforeChange": " public void setSelection (String [] items)", "signatureAfterChange": " public void setSelection (String [] items)", "diff": ["+\tif ((style & SWT.MULTI) != 0) deselectAll ();", "-\tint count = length;", "-\tint [] ids = new int [length];", "+\tif (length == 0) return;", "+\tint [] ids = new int [0];", "-\t\tint index = indexOf (items [i]);", "-\t\tif (0 <= index && index < itemCount) ids [--count] = index + 1;", "+\t\tString string = items [length - i - 1];", "+\t\tif ((style & SWT.SINGLE) != 0) {", "+\t\t\tint index = indexOf (string, 0);", "+\t\t\tif (index != -1) {", "+\t\t\t\tids = new int [] {index + 1};", "+\t\t\t\tbreak;", "+\t\t\t}", "+\t\t} else {", "+\t\t\tint index = 0;", "+\t\t\twhile ((index = indexOf (string, index)) != -1) {", "+\t\t\t\tint [] temp = new int [ids.length + 1];", "+\t\t\t\tSystem.arraycopy (ids, 0, temp, 0, ids.length);", "+\t\t\t\ttemp [ids.length] = index + 1;", "+\t\t\t\tids = temp;", "+\t\t\t\tindex++;", "+\t\t\t}", "+\t\t}", "-\tif (count != 0) return;", "-\tOS.SetDataBrowserSelectedItems (handle, length, ids, OS.kDataBrowserItemsAssign);", "+\tOS.SetDataBrowserSelectedItems (handle, ids.length, ids, OS.kDataBrowserItemsAssign);"]}], "num": 18523}