{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5b0fd2e010b09842cf76d551e723c8f3", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f2cb1198c520d656ea7ba0dd3c4e625f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/MenuItem.java", "commitBeforeChange": "08627b8f2edae89ba88b83322a63b53be6640d9c", "commitAfterChange": "4eaa6e52c68deb9b1675aded171ec8dd4df1c383", "methodNumberBeforeChange": 26, "methodNumberAfterChange": 26, "signatureBeforeChange": "\r \r public void setText (String string)", "signatureAfterChange": "\r \r public void setText (String string)", "diff": ["+\tboolean fixPPCMenuBar = false;\r", "+\tif (OS.IsWinCE) {\r", "+\t\tDecorations shell = parent.parent;\r", "+\t\tif (parent == shell.menuBar) {\r", "+\t\t\tfixPPCMenuBar = true;\r", "+\t\t\t/*\r", "+\t\t\t* Bug in WinCE PPC.  Tool items on the menubar don't resize\r", "+\t\t\t* correctly when the character '&' is used (even when it\r", "+\t\t\t* is a sequence '&&'.  \r", "+\t\t\t* The workaround is to remove all '&' in the string. \r", "+\t\t\t*/\r", "+\t\t\tint length = string.length();\r", "+\t\t\tchar[] text = new char[length];\r", "+\t\t\tstring.getChars(0, length, text, 0);\r", "+\t\t\tint i = 0, j = 0;\r", "+\t\t\tfor (i = 0; i < length; i++) {\r", "+\t\t\t\tif (text[i] != '&') text[j++] = text[i];\r", "+\t\t\t}\r", "+\t\t\tif (j < i) string = new String(text, 0, j);\r", "+\t\t}\r", "+\t}\r", "-\tif (OS.IsWinCE) {\r", "+\tif (fixPPCMenuBar) {\r", "-\t\tif (parent == shell.menuBar) {\r", "-\t\t\t/* set text on corresponding tool item */\r", "-\t\t\tTBBUTTONINFO info2 = new TBBUTTONINFO ();\r", "-\t\t\tinfo2.cbSize = TBBUTTONINFO.sizeof;\r", "-\t\t\tinfo2.dwMask = OS.TBIF_TEXT;\r", "-\t\t\tinfo2.pszText = pszText;\r", "-\t\t\tOS.SendMessage (shell.hwndTB, OS.TB_SETBUTTONINFO, id, info2);\r", "-\t\t}\r", "+\t\t/* set text on corresponding tool item */\r", "+\t\tTBBUTTONINFO info2 = new TBBUTTONINFO ();\r", "+\t\tinfo2.cbSize = TBBUTTONINFO.sizeof;\r", "+\t\tinfo2.dwMask = OS.TBIF_TEXT;\r", "+\t\tinfo2.pszText = pszText;\r", "+\t\tOS.SendMessage (shell.hwndTB, OS.TB_SETBUTTONINFO, id, info2);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "52ce332a26a802a1872038510055adf6", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/TabItem.java", "commitBeforeChange": "b31da3c7460e277aa4370a9dfc2e23d81191eb0d", "commitAfterChange": "1c50b5058636a6ab0553ccea28196e219ac52b66", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "\r \r public void setText (String string)", "signatureAfterChange": "\r \r public void setText (String string)", "diff": ["+\tif (COMCTL32_MAJOR >= 6) {\r", "+\t\t/*\r", "+\t\t* Feature in comctl version 6.0.  Tab items with an image\r", "+\t\t* and a label including the character '&' are rendered\r", "+\t\t* incorrectly (even when it is a sequence '&&'). The image\r", "+\t\t* overlaps the label.  The fix is to remove all '&' from\r", "+\t\t* the string. \r", "+\t\t*/\r", "+\t\tint length = string.length ();\r", "+\t\tchar[] text = new char [length];\r", "+\t\tstring.getChars( 0, length, text, 0);\r", "+\t\tint i = 0, j = 0;\r", "+\t\tfor (i=0; i<length; i++) {\r", "+\t\t\tif (text[i] != '&') text [j++] = text [i];\r", "+\t\t}\r", "+\t\tif (j < i) string = new String (text, 0, j);\r", "+\t}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "40e2bf9d3a0e49eba2f200680c50afdb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/DirectoryDialog.java", "commitBeforeChange": "c36e3e20acbc9efc89a8ad8c6dc0549612db239d", "commitAfterChange": "1ac7936a562f876499ed8432d9d4af4c2920ae3f", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": " public String open ()", "signatureAfterChange": " public String open ()", "diff": ["+\t\tString string = message;", "+\t\tif (string.indexOf ('&') != -1) {", "+\t\t\tint length = string.length ();", "+\t\t\tchar [] buffer = new char [length * 2];", "+\t\t\tint index = 0;", "+\t\t\tfor (int i=0; i<length; i++) {", "+\t\t\t\tchar ch = string.charAt (i);", "+\t\t\t\tif (ch == '&') buffer [index++] = '&';", "+\t\t\t\tbuffer [index++] = ch;", "+\t\t\t}", "+\t\t\tstring = new String (buffer, 0, index);", "+\t\t}", "-\t\tTCHAR buffer = new TCHAR (0, message, true);", "+\t\tTCHAR buffer = new TCHAR (0, string, true);"]}], "num": 46031}