{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ee21dffa123b1467f78f8da830089723", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a3f854f4cc92d6fac861510835390a2e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "46392830ad16c4d905392ed9777235d3d36b8b61", "commitAfterChange": "fe69c2ce9bfa3d04e0768e32d6c59e2eab9b3453", "methodNumberBeforeChange": 55, "methodNumberAfterChange": 56, "signatureBeforeChange": "  int kEventWindowGetClickModality (int nextHandler, int theEvent, int userData)", "signatureAfterChange": "  int kEventWindowGetClickModality (int nextHandler, int theEvent, int userData)", "diff": ["+\t", "+\t/*", "+\t* Feature in the Macintosh. ON_TOP shells are in the kFloatingWindowClass window", "+\t* group and are not modal disabled by default. The fix is to detect that it should", "+\t* be disabled and update the event parameters.", "+\t*/", "+\tif ((style & SWT.ON_TOP) != 0) {", "+\t\tShell modalShell = getModalShell ();", "+\t\tif (modalShell != null) {", "+\t\t\tint [] modality = new int [1];", "+\t\t\tint clickResult = OS.kHIModalClickIsModal | OS.kHIModalClickAnnounce;", "+\t\t\tOS.GetWindowModality (modalShell.shellHandle, modality, null);", "+\t\t\tOS.SetEventParameter (theEvent, OS.kEventParamWindowModality, OS.typeWindowModality, 4, modality);", "+\t\t\tOS.SetEventParameter (theEvent, OS.kEventParamModalClickResult, OS.typeModalClickResult, 4, new int[]{clickResult});", "+\t\t\tOS.SetEventParameter (theEvent, OS.kEventParamModalWindow, OS.typeWindowRef, 4, new int[]{modalShell.shellHandle});", "+\t\t}", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "eef63066c8f7e8205dcf2884de903ca9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Composite.java", "commitBeforeChange": "01b53f04043d77e5b4a54bcfe36da2df748745a8", "commitAfterChange": "82656235b7ecb33ea4b71a4e4df18a0b5cab2acb", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 19, "signatureBeforeChange": " void hookEvents ()", "signatureAfterChange": " void hookEvents ()", "diff": ["+\t}", "+\tif ((style & SWT.EMBEDDED) != 0) {", "+\t\tint focusProc = display.focusProc;", "+\t\tint windowProc = display.windowProc;", "+\t\tOS.XtInsertEventHandler (handle, OS.StructureNotifyMask | OS.SubstructureNotifyMask, false, windowProc, STRUCTURE_NOTIFY, OS.XtListTail);\t\tOS.XtInsertEventHandler (handle, OS.PropertyChangeMask, false, windowProc, PROPERTY_CHANGE, OS.XtListTail);", "+\t\tOS.XtInsertEventHandler (handle, 0, true, windowProc, NON_MASKABLE, OS.XtListTail);", "+\t\tShell shell = getShell ();", "+\t\tOS.XtInsertEventHandler (shell.shellHandle, OS.FocusChangeMask, false, focusProc, handle, OS.XtListTail);"]}], "num": 45310}