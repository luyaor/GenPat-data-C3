{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9889fa171ccad383b21eb1b210e8b10d", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "16f8e92f34d46e169c8e0662bddf100c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet143.java", "commitBeforeChange": "77dcbf3eae5be1d01153ce8b8157154d00cb14b3", "commitAfterChange": "9590c886e5aa5dfa6590d62b81b13c52ec4149a6", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "  public static void main(String[] args)", "signatureAfterChange": "  public static void main(String[] args)", "diff": ["-\tfinal TrayItem item = new TrayItem (tray, SWT.NONE);", "-\titem.setToolTipText(\"SWT TrayItem\");", "-\titem.addListener (SWT.Show, new Listener () {", "-\t\tpublic void handleEvent (Event event) {", "-\t\t\tSystem.out.println(\"show\");", "+\tif (tray == null) {", "+\t\tSystem.out.println (\"The system tray is not available\");", "+\t} else {", "+\t\tfinal TrayItem item = new TrayItem (tray, SWT.NONE);", "+\t\titem.setToolTipText(\"SWT TrayItem\");", "+\t\titem.addListener (SWT.Show, new Listener () {", "+\t\t\tpublic void handleEvent (Event event) {", "+\t\t\t\tSystem.out.println(\"show\");", "+\t\t\t}", "+\t\t});", "+\t\titem.addListener (SWT.Hide, new Listener () {", "+\t\t\tpublic void handleEvent (Event event) {", "+\t\t\t\tSystem.out.println(\"hide\");", "+\t\t\t}", "+\t\t});", "+\t\titem.addListener (SWT.Selection, new Listener () {", "+\t\t\tpublic void handleEvent (Event event) {", "+\t\t\t\tSystem.out.println(\"selection\");", "+\t\t\t}", "+\t\t});", "+\t\titem.addListener (SWT.DefaultSelection, new Listener () {", "+\t\t\tpublic void handleEvent (Event event) {", "+\t\t\t\tSystem.out.println(\"default selection\");", "+\t\t\t}", "+\t\t});", "+\t\tfinal Menu menu = new Menu (shell, SWT.POP_UP);", "+\t\tfor (int i = 0; i < 8; i++) {", "+\t\t\tMenuItem mi = new MenuItem (menu, SWT.PUSH);", "+\t\t\tmi.setText (\"Item\" + i);", "-\t});", "-\titem.addListener (SWT.Hide, new Listener () {", "-\t\tpublic void handleEvent (Event event) {", "-\t\t\tSystem.out.println(\"hide\");", "-\t\t}", "-\t});", "-\titem.addListener (SWT.Selection, new Listener () {", "-\t\tpublic void handleEvent (Event event) {", "-\t\t\tSystem.out.println(\"selection\");", "-\t\t}", "-\t});", "-\titem.addListener (SWT.DefaultSelection, new Listener () {", "-\t\tpublic void handleEvent (Event event) {", "-\t\t\tSystem.out.println(\"default selection\");", "-\t\t}", "-\t});", "-\tfinal Menu menu = new Menu (shell, SWT.POP_UP);", "-\tfor (int i = 0; i < 8; i++) {", "-\t\tMenuItem mi = new MenuItem (menu, SWT.PUSH);", "-\t\tmi.setText (\"Item\" + i);", "+\t\titem.addListener (SWT.MenuDetect, new Listener () {", "+\t\t\tpublic void handleEvent (Event event) {", "+\t\t\t\tmenu.setVisible (true);", "+\t\t\t}", "+\t\t});", "+\t\titem.setImage (image);", "-\titem.addListener (SWT.MenuDetect, new Listener () {", "-\t\tpublic void handleEvent (Event event) {", "-\t\t\tmenu.setVisible (true);", "-\t\t}", "-\t});", "-\titem.setImage (image);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "38f8ef5117381087a0e108591b28987e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/TrayIcon.java", "commitBeforeChange": "ffdbe24dcc336496de6439b80150541a12e54b6f", "commitAfterChange": "278d5a1aeb64bc2ed373a7a17dd553423d4a9bf2", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 14, "signatureBeforeChange": " public void setVisible (boolean visible)", "signatureAfterChange": " public void setVisible (boolean visible)", "diff": ["-\tif (isVisible == visible) return;", "-\tisVisible = visible;", "+\tif (this.visible == visible) return;", "-\tNOTIFYICONDATA iconData = OS.IsUnicode ? (NOTIFYICONDATA)", "-\t\tnew NOTIFYICONDATAW () :", "-\t\tnew NOTIFYICONDATAA ();", "-\ticonData.cbSize = NOTIFYICONDATA.sizeof;", "-\ticonData.uID = id;", "-\ticonData.hWnd = display.hwndMessage;", "-\ticonData.uFlags = OS.NIF_STATE;", "-\ticonData.dwState = visible ? 0 : OS.NIS_HIDDEN;", "-\ticonData.dwStateMask = OS.NIS_HIDDEN;", "-\tOS.Shell_NotifyIcon (OS.NIM_MODIFY, iconData);", "-\tif (!visible) {", "-\t\tsendEvent (SWT.Hide);", "+\tthis.visible = visible;", "+\tif (SHELL32_MAJOR >= 5) {", "+\t\tNOTIFYICONDATA iconData = OS.IsUnicode ? (NOTIFYICONDATA) new NOTIFYICONDATAW () : new NOTIFYICONDATAA ();", "+\t\ticonData.cbSize = NOTIFYICONDATA.sizeof;", "+\t\ticonData.uID = id;", "+\t\ticonData.hWnd = display.hwndMessage;", "+\t\ticonData.uFlags = OS.NIF_STATE;", "+\t\ticonData.dwState = visible ? 0 : OS.NIS_HIDDEN;", "+\t\ticonData.dwStateMask = OS.NIS_HIDDEN;", "+\t\tOS.Shell_NotifyIcon (OS.NIM_MODIFY, iconData);", "+\tif (!visible) sendEvent (SWT.Hide);"]}], "num": 7286}