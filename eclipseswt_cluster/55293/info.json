{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "c8c5f71ad2a79f0cc354b73f9b97b789", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "94b5fd79b032494a9abe94de3466c465", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/cocoa/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "fb0a54ecc21961877156b63a1966bffc49530779", "commitAfterChange": "6aa70af2b2255a8835f7c355b62ecd1f4b80e177", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 22, "signatureBeforeChange": "  void webView_didFailProvisionalLoadWithError_forFrame(int sender, int error, int frame)", "signatureAfterChange": "  void webView_didFailProvisionalLoadWithError_forFrame(int sender, int error, int frame)", "diff": ["+", "+\tNSError nserror = new NSError(error);", "+\tint errorCode = nserror.code();", "+\tif (errorCode <= OS.NSURLErrorBadURL) {", "+\t\tNSString description = nserror.localizedDescription();", "+\t\tif (description != null) {", "+\t\t\tchar[] buffer = new char[description.length()];", "+\t\t\tdescription.getCharacters_(buffer);", "+\t\t\tString descriptionString = new String(buffer);", "+\t\t\tString urlString = null;", "+\t\t\tNSDictionary info = nserror.userInfo();", "+\t\t\tif (info != null) {", "+\t\t\t\tNSString key = new NSString(OS.NSErrorFailingURLStringKey());", "+\t\t\t\tid id = info.valueForKey(key);", "+\t\t\t\tif (id != null) {", "+\t\t\t\t\tNSString url = new NSString(id.id);", "+\t\t\t\t\tbuffer = new char[url.length()];", "+\t\t\t\t\turl.getCharacters_(buffer);", "+\t\t\t\t\turlString = new String(buffer);", "+\t\t\t\t}", "+\t\t\t}", "+\t\t\tString message = urlString != null ? urlString + \"\\n\\n\" : \"\"; //$NON-NLS-1$ //$NON-NLS-2$", "+\t\t\tmessage += Compatibility.getMessage (\"SWT_Page_Load_Failed\", new Object[] {descriptionString}); //$NON-NLS-1$", "+\t\t\tMessageBox messageBox = new MessageBox(browser.getShell(), SWT.OK | SWT.ICON_ERROR);", "+\t\t\tmessageBox.setMessage(message);", "+\t\t\tmessageBox.open();", "+\t\t}", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e26b491b475fc5f5ecbe49a585ea54b8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/common/org/eclipse/swt/browser/PromptService.java", "commitBeforeChange": "b78246feba55dea5042f20ef13079a6a48d963c7", "commitAfterChange": "551d1ce7decfbb1134e7b1730598abe47081474b", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 25, "signatureBeforeChange": "  public int AlertCheck (int parent, int dialogTitle, int text, int checkMsg, int checkValue)", "signatureAfterChange": "  public int AlertCheck (int parent, int dialogTitle, int text, int checkMsg, int checkValue)", "diff": ["-\treturn XPCOM.NS_ERROR_NOT_IMPLEMENTED;", "+\tBrowser browser = getBrowser (parent);", "+\t", "+\tint length = XPCOM.strlen_PRUnichar (dialogTitle);", "+\tchar[] dest = new char[length];", "+\tXPCOM.memmove (dest, dialogTitle, length * 2);", "+\tString titleLabel = new String (dest);", "+", "+\tlength = XPCOM.strlen_PRUnichar (text);", "+\tdest = new char[length];", "+\tXPCOM.memmove (dest, text, length * 2);", "+\tString textLabel = new String (dest);", "+", "+\tlength = XPCOM.strlen_PRUnichar (checkMsg);", "+\tdest = new char[length];", "+\tXPCOM.memmove (dest, checkMsg, length * 2);", "+\tString checkLabel = new String (dest);", "+", "+\tShell shell = browser == null ? new Shell () : browser.getShell ();", "+\tPromptDialog dialog = new PromptDialog (shell);", "+\tint[] check = new int[1];", "+\tif (checkValue != 0) XPCOM.memmove (check, checkValue, 4); /* PRBool */", "+\tdialog.alertCheck (titleLabel, textLabel, checkLabel, check);", "+\tif (checkValue != 0) XPCOM.memmove (checkValue, check, 4); /* PRBool */", "+\treturn XPCOM.NS_OK;"]}], "num": 55293}