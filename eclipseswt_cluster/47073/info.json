{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "92505c8c99a0ead58a5dab6deae42489", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b7ab50e4ffb2f980ff252dfe4f39dc03", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "810eb254cbe71a3e1637e56f044fa70b981eb39d", "commitAfterChange": "803bd538f4c4c40e1d60df10cb6937bfea9dab26", "methodNumberBeforeChange": 84, "methodNumberAfterChange": 76, "signatureBeforeChange": " void setButtonBounds()", "signatureAfterChange": " void setButtonBounds(GC gc)", "diff": ["-void setButtonBounds() {", "+void setButtonBounds(GC gc) {", "+\tRectangle trim = renderer.computeTrim(CTabFolderRenderer.PART_BORDER, SWT.NONE, 0, 0, 0, 0);", "+\tint borderRight = trim.width + trim.x;", "+\tint borderLeft = -trim.x;", "+\tint borderBottom = trim.height + trim.y;", "+\tint borderTop = -trim.y;", "+\t", "-\t\tmaxRect.x = size.x - borderRight - BUTTON_SIZE - 3;", "+\t\tPoint maxSize = renderer.computeSize(CTabFolderRenderer.PART_MAX_BUTTON, SWT.NONE, gc);", "+\t\tmaxRect.x = size.x - borderRight - maxSize.x - 3;", "-\t\tmaxRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - BUTTON_SIZE)/2: borderTop + (tabHeight - BUTTON_SIZE)/2;", "-\t\tmaxRect.width = BUTTON_SIZE;", "-\t\tmaxRect.height = BUTTON_SIZE;", "+\t\tmaxRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - maxSize.y)/2: borderTop + (tabHeight - maxSize.y)/2;", "+\t\tmaxRect.width = maxSize.x;", "+\t\tmaxRect.height = maxSize.y;", "-\t", "+", "-\t\tminRect.x = size.x - borderRight - maxRect.width - BUTTON_SIZE - 3;", "+\t\tPoint minSize = renderer.computeSize(CTabFolderRenderer.PART_MIN_BUTTON, SWT.NONE, gc);", "+\t\tminRect.x = size.x - borderRight - maxRect.width - minSize.x - 3;", "-\t\tminRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - BUTTON_SIZE)/2: borderTop + (tabHeight - BUTTON_SIZE)/2;", "-\t\tminRect.width = BUTTON_SIZE;", "-\t\tminRect.height = BUTTON_SIZE;", "+\t\tminRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - minSize.y)/2: borderTop + (tabHeight - minSize.y)/2;", "+\t\tminRect.width = minSize.x;", "+\t\tminRect.height = minSize.y;", "-\t\t\t\t\t\tif (item.x + item.width + 7 + 3*BUTTON_SIZE/2 >= rightEdge) break;", "-\t\t\t\t\t\ttopRightRect.x = item.x + item.width + 7 + 3*BUTTON_SIZE/2;", "+\t\t\t\t\t\tint chevronWidth = renderer.computeSize(CTabFolderRenderer.PART_CHEVRON_BUTTON, SWT.NONE, gc).x;", "+\t\t\t\t\t\tif (item.x + item.width + 7 + chevronWidth >= rightEdge) break;", "+\t\t\t\t\t\ttopRightRect.x = item.x + item.width + 7 + chevronWidth;", "-\t\t\t\t\t\tCTabItem item = items[items.length - 1];", "-\t\t\t\t\t\ttopRightRect.x = item.x + item.width;", "-\t\t\t\t\t\tif (!simple && items.length - 1 == selectedIndex) topRightRect.x += curveWidth - curveIndent;", "+\t\t\t\t\t\tint lastIndex = items.length - 1;", "+\t\t\t\t\t\tCTabItem lastItem = items[lastIndex];", "+\t\t\t\t\t\ttopRightRect.x = lastItem.x + lastItem.width;", "+\tPoint chevronSize = renderer.computeSize(CTabFolderRenderer.PART_CHEVRON_BUTTON, SWT.NONE, gc);", "-\t\t\tchevronRect.width = 3*BUTTON_SIZE/2;", "-\t\t\tchevronRect.height = BUTTON_SIZE;", "+\t\t\tchevronRect.width = chevronSize.x;", "+\t\t\tchevronRect.height = chevronSize.y;", "-\t\t\tchevronRect.width = 3*BUTTON_SIZE/2;", "-\t\t\tchevronRect.height = BUTTON_SIZE;", "+\t\t\tchevronRect.width = chevronSize.x;", "+\t\t\tchevronRect.height = chevronSize.y;", "-\t\t\tif (!simple && lastIndex == selectedIndex) w += curveWidth - 2*curveIndent;", "-\t\t\tchevronRect.x = Math.min(w, getRightItemEdge());", "+\t\t\tif (!simple && lastIndex == selectedIndex) w -= renderer.curveIndent;  //TODO: fix chevron position", "+\t\t\tchevronRect.x = Math.min(w, getRightItemEdge(gc));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6700d974d8ede0fae7b45928855ace05", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "tests/org.eclipse.swt.tests/JUnit Tests/org/eclipse/swt/tests/junit/performance/Test_situational.java", "commitBeforeChange": "da6ec8af758a08726cd41012d61a4ae14a0586f6", "commitAfterChange": "20a82442c62464f845aa304fac0fe5913f78c0d7", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "  public void test_layout()", "signatureAfterChange": "  public void test_layout()", "diff": ["-\tPerformanceMeter meter = createMeter(\"layout 1155 widgets\");", "+\tPerformanceMeter meter = createMeter(\"layout 50 composites 20 times\");", "-\t", "+", "-\t\tshell.setLayout(new FillLayout());", "-\t\tfor (int i = 0; i < 5; i++) {", "-\t\t\tComposite c = new Composite(shell, SWT.NONE);", "-\t\t\tc.setLayout(new RowLayout());", "-\t\t\tfor (int j = 0; j < 5; j++) {", "-\t\t\t\tComposite c2 = new Composite(c, SWT.NONE);", "-\t\t\t\tc2.setLayout(new GridLayout(5, false));", "-\t\t\t\tfor (int k = 0; k < 5; k++) {", "-\t\t\t\t\tComposite c3 = new Composite(c2, SWT.NONE);", "-\t\t\t\t\tc3.setLayout(new GridLayout(4, true));", "-\t\t\t\t\tButton b = new Button(c3, SWT.PUSH);", "-\t\t\t\t\tLabel label = new Label(c3, SWT.NONE);", "-\t\t\t\t\tb = new Button(c3, SWT.PUSH);", "-\t\t\t\t\tlabel = new Label(c3, SWT.NONE);", "-\t\t\t\t\tb = new Button(c3, SWT.PUSH);", "-\t\t\t\t\tlabel = new Label(c3, SWT.NONE);", "-\t\t\t\t\tb = new Button(c3, SWT.PUSH);", "-\t\t\t\t\tlabel = new Label(c3, SWT.NONE);", "-\t\t\t\t}", "-\t\t\t}", "+\t\tshell.setLayout(new GridLayout());", "+\t\tString curText = \"\";", "+\t\tLabel changedLabel;", "+\t\tComposite parent = shell;", "+\t\tGridData data;", "+\t\t", "+\t\tfor(int i = 0; i < 10; i++) {", "+\t\t\tComposite c = new Composite(parent, SWT.BORDER);", "+\t\t\tdata = new GridData(SWT.FILL, SWT.FILL, false, false);", "+\t\t\tc.setLayoutData(data);", "+\t\t\tc.setLayout(new GridLayout(2, false));", "+\t\t\t", "+\t\t\tComposite c1 = new Composite(c, SWT.BORDER);", "+\t\t\tdata = new GridData(SWT.FILL, SWT.FILL, false, false);", "+\t\t\tdata.widthHint = data.heightHint = 2;", "+\t\t\tc1.setLayoutData(data);", "+\t\t\t", "+\t\t\tComposite c2 = new Composite(c, SWT.BORDER);", "+\t\t\tdata = new GridData(SWT.FILL, SWT.FILL, false, false);", "+\t\t\tdata.widthHint = data.heightHint = 2;", "+\t\t\tc2.setLayoutData(data);", "+\t\t\t", "+\t\t\tComposite c3 = new Composite(c, SWT.BORDER);", "+\t\t\tdata = new GridData(SWT.FILL, SWT.FILL, false, false);", "+\t\t\tdata.widthHint = data.heightHint = 2;", "+\t\t\tc3.setLayoutData(data);", "+\t\t\t", "+\t\t\tComposite c4 = new Composite(c, SWT.BORDER);", "+\t\t\tdata = new GridData(SWT.FILL, SWT.FILL, false, false);", "+\t\t\tc4.setLayoutData(data);", "+\t\t\tc4.setLayout(new GridLayout());", "+\t\t\tparent = c4;", "+\t\tchangedLabel = new Label(parent, SWT.NONE);", "+\t\tchangedLabel.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));", "+\t\t", "-\t\tfor(int numlayouts = 0; numlayouts < 100; numlayouts++) {", "-\t\t\tshell.layout(true, true);", "+\t\tfor(int numlayouts = 0; numlayouts < 20; numlayouts++) {", "+\t\t\tshell.layout(true);", "+\t\t\tcurText = \"!!!\" + curText + \"!!!\\n!\";", "+\t\t\tchangedLabel.setText(curText);", "+\t\t\t//while(display.readAndDispatch());"]}], "num": 47073}