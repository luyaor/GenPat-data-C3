{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4fa0db96d50321708d5e33d7250680a9", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d73f164b6559b3b7c1f660790b4579e7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabItem.java", "commitBeforeChange": "a2a9dad01c68fb0c8bf241e9f41f229bf07cec2d", "commitAfterChange": "99c03e02c43aabd5c608e127e0b1dfd314743d48", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": " void drawSelected(GC gc )", "signatureAfterChange": " void drawSelected(GC gc )", "diff": ["-\tparent.drawBackground(gc, shape, true);", "+\tif (parent.selectionGradientColors != null && !parent.selectionGradientVertical) {", "+\t\tparent.drawBackground(gc, shape, true);", "+\t} else {", "+\t\tgc.setBackground(parent.selectionBackground);", "+\t\tgc.fillRectangle(xx, yy, ww, hh);", "+\t}", "+\t", "+\tRectangle clipping = gc.getClipping();", "+\tRectangle bounds = getBounds();", "+\tbounds.height += 1;", "+\tif (parent.onBottom) bounds.y -= 1;", "+\tif (!clipping.intersects(bounds)) return;", "-\t\tparent.drawBackground(gc, shape, true);", "+\t\tif (parent.selectionGradientColors != null && !parent.selectionGradientVertical) {", "+\t\t\tparent.drawBackground(gc, shape, true);", "+\t\t} else {", "+\t\t\tColor defaultBackground = parent.selectionBackground;", "+\t\t\tImage image = parent.selectionBgImage;", "+\t\t\tColor[] colors = parent.selectionGradientColors;", "+\t\t\tint[] percents = parent.selectionGradientPercents;", "+\t\t\tboolean vertical = parent.selectionGradientVertical;", "+\t\t\txx = x;", "+\t\t\tyy = parent.onBottom ? y -1 : y + 1;", "+\t\t\tww = width;", "+\t\t\thh = height;", "+\t\t\tif (!parent.single && !parent.simple) ww += parent.curveWidth - parent.curveIndent;", "+\t\t\tparent.drawBackground(gc, shape, xx, yy, ww, hh, defaultBackground, image, colors, percents, vertical);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1c6ed25911201efa7390e01ab4f631c9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Button.java", "commitBeforeChange": "fffca5c8eb3cb5fb81da3cf1a7af0bbf503e395d", "commitAfterChange": "70b3c05a26d1ba0b79fb3867745857a6ef7b0bdd", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  NSSize cellSize (int id, int sel)", "signatureAfterChange": "  NSSize cellSizeForBounds (int id, int sel, NSRect cellFrame)", "diff": ["-NSSize cellSize (int /*long*/ id, int /*long*/ sel) {", "-\tNSSize size = super.cellSize(id, sel);", "+NSSize cellSizeForBounds (int /*long*/ id, int /*long*/ sel, NSRect cellFrame) {", "+\tNSSize size = super.cellSizeForBounds(id, sel, cellFrame);", "-", "-\tif (image != null && ((style & (SWT.PUSH|SWT.TOGGLE)) !=0) && (style & SWT.FLAT) == 0) {", "-\t\tNSCell cell = new NSCell(id);", "-\t\tif (cell.controlSize() == OS.NSSmallControlSize) size.height += EXTRA_HEIGHT;", "+\t", "+\tif (((style & (SWT.PUSH|SWT.TOGGLE)) !=0) && (style & (SWT.FLAT|SWT.WRAP)) == 0) {", "+\t\tif (image != null) {", "+\t\t\tNSCell cell = new NSCell(id);", "+\t\t\tif (cell.controlSize() == OS.NSSmallControlSize) size.height += EXTRA_HEIGHT;", "+\t\t}", "+\t\t// TODO: Why is this necessary?", "+\t\tsize.width += EXTRA_WIDTH;", "+\tif ((style & SWT.WRAP) != 0 && text.length() != 0 && cellFrame.width < MAX_SIZE) {", "+\t\tNSCell cell = new NSCell (id);", "+\t\tNSRect titleRect = cell.titleRectForBounds(cellFrame);", "+\t\tNSSize wrapSize = new NSSize();", "+\t\twrapSize.width = titleRect.width;", "+\t\twrapSize.height = MAX_SIZE;", "+\t\tNSAttributedString attribStr = createString(text, null, foreground, style, true, true, true);", "+\t\tNSRect rect = attribStr.boundingRectWithSize(wrapSize, OS.NSStringDrawingUsesLineFragmentOrigin);", "+\t\tattribStr.release();", "+\t\tfloat /*double*/ trimHeight = size.height - titleRect.height;", "+\t\tsize.height = rect.height;", "+\t\tif (image != null && ((style & (SWT.CHECK|SWT.RADIO)) !=0)) {", "+\t\t\tNSSize imageSize = image.handle.size();", "+\t\t\tsize.height = Math.max(size.height, imageSize.height);", "+\t\t}", "+\t\tsize.height += trimHeight;", "+\t}"]}], "num": 38129}