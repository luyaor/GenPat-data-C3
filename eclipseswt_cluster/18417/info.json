{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a91fe5ed9890ef31eb79bfa3970b62be", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b3d0d65f20d6ffca8552beea15555b72", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon2/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "73df461e04188c5c8c9f867e48d65971dd874f96", "commitAfterChange": "f60b89c008aac38616733831910806211a6fecc1", "methodNumberBeforeChange": 42, "methodNumberAfterChange": 47, "signatureBeforeChange": "  void showItem (TreeItem item, boolean scroll)", "signatureAfterChange": "  void showItem (TreeItem item, boolean scroll)", "diff": ["-//\tif (scroll) {", "-//\t\tshort [] width = new short [1];", "-//\t\tOS.GetDataBrowserTableViewNamedColumnWidth (handle, COLUMN_ID, width);", "-//\t\tRect rect = new Rect (), inset = new Rect ();", "-//\t\tOS.GetControlBounds (handle, rect);", "-//\t\tOS.GetDataBrowserScrollBarInset (handle, inset);", "-//\t\tOS.SetDataBrowserTableViewNamedColumnWidth (handle, COLUMN_ID, (short)(rect.right - rect.left - inset.left - inset.right));", "-//\t\tOS.RevealDataBrowserItem (handle, item.id, COLUMN_ID, (byte) OS.kDataBrowserRevealWithoutSelecting);", "-//\t\tOS.SetDataBrowserTableViewNamedColumnWidth (handle, COLUMN_ID, (short)width [0]);", "-//\t}", "-\t\tRectangle treeRect = getClientArea ();", "-\t\tRectangle itemRect = item.getBounds ();", "-\t\tif (!itemRect.isEmpty() && treeRect.contains (itemRect.x, itemRect.y) && treeRect.contains (itemRect.x, itemRect.y + itemRect.height)) return;", "-\t\tOS.RevealDataBrowserItem (handle, item.id, COLUMN_ID, (byte) (OS.kDataBrowserRevealWithoutSelecting | OS.kDataBrowserRevealAndCenterInView));", "-\t\tint [] top = new int [1], left = new int [1];", "-\t\tOS.GetDataBrowserScrollPosition (handle, top, left);", "-\t\tOS.SetDataBrowserScrollPosition (handle, top [0], 0);", "-\t\titemRect = item.getBounds ();", "-\t\tif (!(treeRect.contains (itemRect.x, itemRect.y) && treeRect.contains (itemRect.x + itemRect.width, itemRect.y))) {", "-\t\t\tOS.SetDataBrowserScrollPosition (handle, top [0], left [0]);", "+\t\tRectangle rect = getClientArea ();", "+\t\tif (rect.height < getItemHeight ()) {", "+\t\t\tshowItem = item;", "+\t\t\treturn;", "+\t\tshowItem = null;", "+\t\tRectangle itemRect = item.getBounds ();", "+\t\tif (!itemRect.isEmpty()) {", "+\t\t\tif (rect.contains (itemRect.x, itemRect.y)", "+\t\t\t\t&& rect.contains (itemRect.x, itemRect.y + itemRect.height)) return;", "+\t\t}", "+\t\tOS.RevealDataBrowserItem (handle, item.id, COLUMN_ID, (byte) OS.kDataBrowserRevealWithoutSelecting);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7c13f23d2f6c8d9c80f81e8c88731a52", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "946b729480e0eca3855e231d6e1284c6c94d4249", "commitAfterChange": "146863a428357a6ad301d008e77ac45a2f64c626", "methodNumberBeforeChange": 113, "methodNumberAfterChange": 113, "signatureBeforeChange": "  void showItem (int path, boolean scroll)", "signatureAfterChange": "  void showItem (int path, boolean scroll)", "diff": ["-\t\tGdkRectangle rect = new GdkRectangle ();", "-\t\tOS.gtk_tree_view_get_cell_area (handle, path, 0, rect);", "-\t\tboolean isHidden = rect.y == 0 && rect.height == 0;", "+\t\tGdkRectangle cellRect = new GdkRectangle ();", "+\t\tOS.gtk_tree_view_get_cell_area (handle, path, 0, cellRect);", "+\t\tboolean isHidden = cellRect.y == 0 && cellRect.height == 0;", "+\t\tint [] tx = new int [1], ty = new int [1];", "+\t\tOS.gtk_tree_view_widget_to_tree_coords (handle, cellRect.x, cellRect.y, tx, ty);", "+\t\tGdkRectangle visibleRect = new GdkRectangle ();", "+\t\tOS.gtk_tree_view_get_visible_rect (handle, visibleRect);", "-\t\t\tint [] tx = new int [1], ty = new int [1];", "-\t\t\tOS.gtk_tree_view_widget_to_tree_coords (handle, rect.x, rect.y, tx, ty);", "-\t\t\trect.y = ty[0];", "-\t\t\tGdkRectangle visRect = new GdkRectangle ();", "-\t\t\tOS.gtk_tree_view_get_visible_rect (handle, visRect);", "-\t\t\tif (rect.y < visRect.y || rect.y + rect.height > visRect.y + visRect.height) {", "+\t\t\tif (ty[0] < visibleRect.y || ty[0] + cellRect.height > visibleRect.y + visibleRect.height) {", "-\t\t\t\tOS.gtk_widget_realize (handle);", "-\t\t\t\tGdkRectangle cellRect = new GdkRectangle ();", "-\t\t\t\tOS.gtk_tree_view_get_cell_area (handle, path, 0, cellRect);", "-\t\t\t\tGdkRectangle visibleRect = new GdkRectangle ();", "-\t\t\t\tOS.gtk_tree_view_get_visible_rect (handle, visibleRect);", "-\t\t\t\tOS.gtk_tree_view_scroll_to_cell (handle, path, 0, false, 0f, 0f);", "-\t\t\t\tint height = Math.min (visibleRect.height, cellRect.height);", "-\t\t\t\tif (cellRect.y + height > visibleRect.y + visibleRect.height) {", "-\t\t\t\t\tint tree_y = visibleRect.y + cellRect.y - visibleRect.height + cellRect.height;", "-\t\t\t\t\tOS.gtk_tree_view_scroll_to_point (handle, -1, tree_y);", "+\t\t\t\tif (ty[0] < visibleRect.y ) {", "+\t\t\t\t\tOS.gtk_tree_view_scroll_to_point (handle, -1, ty[0]);", "+\t\t\t\t} else {", "+\t\t\t\t\tint height = Math.min (visibleRect.height, cellRect.height);", "+\t\t\t\t\tif (ty[0] + height > visibleRect.y + visibleRect.height) {", "+\t\t\t\t\t\tOS.gtk_tree_view_scroll_to_point (handle, -1, ty[0] + cellRect.height - visibleRect.height);", "+\t\t\t\t\t}"]}], "num": 18417}