{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6e4d4cc35892e8859d1c81f70ea0edd8", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b37ea06ffd20f9ee18464f4219624717", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "3e1590e936827e2b0791736a26af73f675e625e6", "commitAfterChange": "4e33ab6a6b184887de2c99db0f551ffeb18ad0f6", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "diff": ["+\tif ((style & SWT.READ_ONLY) == 0) flags |= OS.DT_EDITCONTROL;", "-\tTEXTMETRIC tm = OS.IsUnicode ? (TEXTMETRIC) new TEXTMETRICW () : new TEXTMETRICA ();", "-\tOS.GetTextMetrics (hDC, tm);", "-\tif (newFont != 0) OS.SelectObject (hDC, oldFont);", "-\tOS.ReleaseDC (handle, hDC);", "-\twidth += OS.GetSystemMetrics (OS.SM_CXVSCROLL) + (tm.tmInternalLeading + border) * 2;", "+\tif ((style & SWT.READ_ONLY) != 0) {", "+\t\tTEXTMETRIC tm = OS.IsUnicode ? (TEXTMETRIC) new TEXTMETRICW () : new TEXTMETRICA ();", "+\t\tOS.GetTextMetrics (hDC, tm);", "+\t\twidth += tm.tmInternalLeading * 2;", "+\t} else {", "+\t\tint hwndText = OS.GetDlgItem (handle, CBID_EDIT);", "+\t\tif (hwndText != 0) {", "+\t\t\tint margins = OS.SendMessage (hwndText, OS.EM_GETMARGINS, 0, 0);", "+\t\t\tint marginWidth = (margins & 0xFFFF) + ((margins >> 16) & 0xFFFF);", "+\t\t\twidth += marginWidth + 3;", "+\t\t}", "+\t}", "+\twidth += OS.GetSystemMetrics (OS.SM_CXVSCROLL) + border * 2;", "+\tif (newFont != 0) OS.SelectObject (hDC, oldFont);", "+\tOS.ReleaseDC (handle, hDC);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fec06e39a5012a90169e402eac0a31b3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "9e9b22bcbb72aef5b3bb15c7ddbde8006ef6a7c8", "commitAfterChange": "2e3cc3f2343444e38d6648881ff7de0ee9aea010", "methodNumberBeforeChange": 53, "methodNumberAfterChange": 58, "signatureBeforeChange": " void shape (final int hdc, final StyleItem run)", "signatureAfterChange": " void shape (final int hdc, final StyleItem run)", "diff": ["-\trun.width = abc[0] + abc[1] + abc[2];", "-\tTEXTMETRIC lptm = OS.IsUnicode ? (TEXTMETRIC)new TEXTMETRICW() : new TEXTMETRICA();", "-\tOS.GetTextMetrics(hdc, lptm);", "-\trun.ascent = lptm.tmAscent;", "-\trun.descent = lptm.tmDescent;", "-\trun.leading = lptm.tmInternalLeading;", "+\tif (run.style != null && run.style.metrics != null) {", "+\t\tGlyphMetrics metrics = run.style.metrics;", "+\t\trun.width = metrics.width * run.glyphCount;", "+\t\trun.ascent = metrics.ascent;", "+\t\trun.descent = metrics.descent;", "+\t\trun.leading = 0;", "+\t} else {", "+\t\trun.width = abc[0] + abc[1] + abc[2];", "+\t\tTEXTMETRIC lptm = OS.IsUnicode ? (TEXTMETRIC)new TEXTMETRICW() : new TEXTMETRICA();", "+\t\tOS.GetTextMetrics(hdc, lptm);", "+\t\trun.ascent = lptm.tmAscent;", "+\t\trun.descent = lptm.tmDescent;", "+\t\trun.leading = lptm.tmInternalLeading;", "+\t}", "+\tif (run.style != null) {", "+\t\trun.ascent += run.style.rise;", "+\t\trun.descent -= +run.style.rise;", "+\t}"]}], "num": 48418}