{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a12c8f4792ed05b15d4e46fd58969cc3", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d3cb29517570aca7fd59d6a4ed323b89", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Spinner.java", "commitBeforeChange": "25e0b9cefcf6aad913e775e22fb19b1e3de2a216", "commitAfterChange": "abdb7df6c5ef7f31dd770f626e22ad0d039e1629", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "diff": ["-\tint [] currentPort = new int [1];", "-\tshort themeFont = (short) defaultThemeFont ();", "-\tif (font != null) {", "-\t\tthemeFont = OS.kThemeCurrentPortFont;", "-\t\tOS.GetPort (currentPort);", "-\t\tOS.SetPortWindowPort (OS.GetControlOwner (textHandle));", "-\t\tOS.TextFont (font.id);", "-\t\tOS.TextFace (font.style);", "-\t\tOS.TextSize (font.size);", "-\t}", "-\tFontInfo info = new FontInfo ();", "-\tOS.GetFontInfo (info);", "-\theight = info.ascent + info.descent;\t", "-\torg.eclipse.swt.internal.carbon.Point ioBounds = new org.eclipse.swt.internal.carbon.Point ();", "-\tif (ptr != 0) {", "-\t\tOS.GetThemeTextDimensions (ptr, themeFont, OS.kThemeStateActive, false, ioBounds, null);", "-\t\twidth = Math.max (width, ioBounds.h);", "-\t\theight = Math.max (height, ioBounds.v);", "-\t\tOS.CFRelease (ptr);", "-\t}", "-\tif (font != null) {", "-\t\tOS.SetPort (currentPort [0]);", "-\t}", "+\tPoint size = textExtent (ptr, 0);", "+\tif (ptr != 0) OS.CFRelease (ptr);", "+\twidth = Math.max (width, size.x);", "+\theight = Math.max (height, size.y);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4dfd2a33c029fda3b20a0ab486a7a9aa", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "25e0b9cefcf6aad913e775e22fb19b1e3de2a216", "commitAfterChange": "abdb7df6c5ef7f31dd770f626e22ad0d039e1629", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "diff": ["-\tint [] currentPort = new int [1];", "-\tshort themeFont = (short) defaultThemeFont ();", "-\tif (font != null) {", "-\t\tthemeFont = OS.kThemeCurrentPortFont;", "-\t\tOS.GetPort (currentPort);", "-\t\tOS.SetPortWindowPort (OS.GetControlOwner (handle));", "-\t\tOS.TextFont (font.id);", "-\t\tOS.TextFace (font.style);", "-\t\tOS.TextSize (font.size);", "-\t}", "-\tFontInfo info = new FontInfo ();", "-\tOS.GetFontInfo (info);", "-\theight = info.ascent + info.descent;", "-\torg.eclipse.swt.internal.carbon.Point ioBounds = new org.eclipse.swt.internal.carbon.Point ();", "-\tif (ptr [0] != 0) {", "-\t\tOS.GetThemeTextDimensions (ptr [0], themeFont, OS.kThemeStateActive, false, ioBounds, null);", "-\t\twidth = Math.max (width, ioBounds.h);", "-\t\theight = Math.max (height, ioBounds.v);", "-\t\tOS.CFRelease (ptr [0]);", "-\t}", "+\tPoint size = textExtent (ptr [0], 0);", "+\tif (ptr [0] != 0) OS.CFRelease (ptr [0]);", "+\twidth = Math.max (width, size.x);", "+\theight = Math.max (height, size.y);", "-\t\t\tOS.GetThemeTextDimensions (ptr [0], themeFont, OS.kThemeStateActive, false, ioBounds, null);", "-\t\t\twidth = Math.max (width, ioBounds.h);", "+\t\t\tsize = textExtent (ptr [0], 0);", "+\t\t\twidth = Math.max (width, size.x);", "-\t}", "-\tif (font != null) {", "-\t\tOS.SetPort (currentPort [0]);"]}], "num": 20782}