{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9e3a4153d5c24adfd1d81414409b3f2a", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ee01e3bda5767fb49eb6b26690a459ea", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Button.java", "commitBeforeChange": "61ac0970c1c501525ee9c1ee8c104c394020c61a", "commitAfterChange": "5b40b97f8495883f290419ddc3e69d47e697fa6c", "methodNumberBeforeChange": 32, "methodNumberAfterChange": 32, "signatureBeforeChange": "  @Override void setBackgroundColor (long context, long handle, GdkRGBA rgba)", "signatureAfterChange": "  @Override void setBackgroundColor (long context, long handle, GdkRGBA rgba)", "diff": ["-void setBackgroundColor (long /*int*/ context, long /*int*/ handle, GdkRGBA rgba) { //Gtk3.", "-\tsetBackgroundColorGradient (OS.gtk_widget_get_style_context (handle), handle, rgba);", "+void setBackgroundColor (long /*int*/ context, long /*int*/ handle, GdkRGBA rgba) {", "+\t/* Note: this function is called on Gtk3 only */", "+", "+\t//Pre Gtk 3.10 doesn't handle CSS background color very well for Gtk Check/Radio button.", "+\t// 3.10.3 as it was the latest to affect themeing in button.", "+\tif (OS.GTK_VERSION < OS.VERSION(3, 10, 3) && (style & (SWT.CHECK | SWT.RADIO)) != 0) {", "+\t\tsuper.setBackgroundColor (context, handle, rgba);", "+\t\treturn;", "+\t}", "+", "+\tString css =\"* {\\n\";", "+\tif (rgba != null) {", "+\t\tString color = gtk_rgba_to_css_string (rgba);", "+\t\tcss += \"background: \" + color + \";\\n\";", "+\t}", "+\tcss += \"}\\n\";", "+\tgtk_css_provider_load_from_css (context, css);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "710b64939fbb28fb0b1649a9fe5244a0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "476b88e18102db1fbb9ef3a7784dd7270d0ecf3b", "commitAfterChange": "41bdd68738c0b4aa849e6a0d483da956ec49ea3d", "methodNumberBeforeChange": 81, "methodNumberAfterChange": 81, "signatureBeforeChange": "   @Override void setBackgroundColor (long context, long handle, GdkRGBA rgba)", "signatureAfterChange": "   @Override void setBackgroundColor (long context, long handle, GdkRGBA rgba)", "diff": ["+\t//Note, in Gtk3's CSS, we can't access all of the sub-widgets inside GtkComboBox.", "+\t//Some have to be themed by the global system theme.", "+", "-\t\tsuper.setBackgroundColor (context, handle, rgba);", "+\t\tlong /*int*/ buttonHandle = findButtonHandle (); //get's the GtkEntry handle.", "+\t\t//TODO Refactor this and Button#setBackground, they have similar CSS construction code.", "+\t\tString css = \"* {\\n\";", "+\t\tif (rgba != null) {", "+\t\t\tString color = gtk_rgba_to_css_string (rgba);", "+\t\t\tcss += \"background: \" + color + \";\\n\";", "+\t\t}", "+\t\tcss += \"}\\n\";", "+\t\tgtk_css_provider_load_from_css (OS.gtk_widget_get_style_context(buttonHandle), css); //Apply to Entry", "+\t\t//Note, we can't get to the GtkToggleButton inside GtkComboBoxText, as it's in a private stuct.", "+\t\t//We thus rely on global theme to style it via: GtkToggleButton { background: red}", "+", "+\t//Set the background color of the text of the drop down menu.", "+\tOS.g_object_set (textRenderer, OS.background_rgba, rgba, 0);", "+\t//NOTE: We can't get to the actual menu background, beacuse it is in a private struct in GtkComboBoxText.", "+\t//Thus we rely for the underlying theme to theme the menu via : GtkComboBoxText * { background: xzy }"]}], "num": 6726}