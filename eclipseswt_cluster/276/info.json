{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3758602475c5f7cd91a71313b95158cd", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1709885bb9dbd644782c8fe9e63c02a9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/motif/org/eclipse/swt/browser/InputStream.java", "commitBeforeChange": "3ef094ddb76ed774d414ef60455bfb48d085f224", "commitAfterChange": "dbb652fe193019d96be9d6af80af3f6e1918e181", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 21, "signatureBeforeChange": "\r \r int ReadSegments(int aWriter, int aClosure, int aCount, int _retval)", "signatureAfterChange": "\r \r int ReadSegments(int aWriter, int aClosure, int aCount, int _retval)", "diff": ["-\tint available = buffer == null ? 0 : buffer.length - index;\r", "-\tint cnt = Math.min(aCount, available);\r", "-\tif (cnt == 0) {\r", "-\t\t/* end of stream */\r", "-\t\tXPCOM.memmove(_retval, new int[] {0}, 4);\r", "-\t\treturn XPCOM.NS_OK;\r", "-\t}\r", "-\tint[] aWriteCount = new int[1];\r", "-\tint rc = XPCOM.nsWriteSegmentFun(aWriter, getAddress(), aClosure, buffer, index, cnt, aWriteCount);\r", "-\tif (rc == XPCOM.NS_OK) {\r", "+\tint max = Math.min(aCount, buffer == null ? 0 : buffer.length - index);\r", "+\tint cnt = max;\r", "+\twhile (cnt > 0) {\r", "+\t\tint[] aWriteCount = new int[1];\r", "+\t\tint rc = XPCOM.Call(aWriter, getAddress(), aClosure, buffer, index, cnt, aWriteCount);\r", "+\t\tif (rc != XPCOM.NS_OK) break;\r", "-\t\tavailable = buffer.length - index;\r", "-\t\tif (available == 0) {\r", "-\t\t\t/* end of stream */\r", "-\t\t\tXPCOM.memmove(_retval, new int[] {0}, 4);\r", "-\t\t}\r", "+\t\tcnt -= aWriteCount[0];\r", "+\tXPCOM.memmove(_retval, new int[] {max - cnt}, 4);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "92923b915013cf500afb94749e8e1aef", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/mozilla/org/eclipse/swt/browser/InputStream.java", "commitBeforeChange": "4d990ae57b57aa2cbad38a7f666725e64a223a1b", "commitAfterChange": "851bcd033cd276980fb8346e37d463f101f050e0", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 21, "signatureBeforeChange": "\r \r int ReadSegments(int aWriter, int aClosure, int aCount, int _retval)", "signatureAfterChange": "  int ReadSegments(int aWriter, int aClosure, int aCount, int _retval)", "diff": ["-\r", "-int ReadSegments(int aWriter, int aClosure, int aCount, int _retval) {\r", "-\tint max = Math.min(aCount, buffer == null ? 0 : buffer.length - index);\r", "-\tint cnt = max;\r", "-\twhile (cnt > 0) {\r", "-\t\tint[] aWriteCount = new int[1];\r", "-\t\tint rc = XPCOM.nsWriteSegmentFun(aWriter, getAddress(), aClosure, buffer, index, cnt, aWriteCount);\r", "-\t\tif (rc != XPCOM.NS_OK) break;\r", "-\t\tindex += aWriteCount[0];\r", "-\t\tcnt -= aWriteCount[0];\r", "-\t}\r", "-\tXPCOM.memmove(_retval, new int[] {max - cnt}, 4);\r", "-\treturn XPCOM.NS_OK;\r", "-}\r", "+", "+int ReadSegments(int aWriter, int aClosure, int aCount, int _retval) {", "+\tint max = Math.min(aCount, buffer == null ? 0 : buffer.length - index);", "+\tint cnt = max;", "+\twhile (cnt > 0) {", "+\t\tint[] aWriteCount = new int[1];", "+\t\tint rc = XPCOM.Call(aWriter, getAddress(), aClosure, buffer, index, cnt, aWriteCount);", "+\t\tif (rc != XPCOM.NS_OK) break;", "+\t\tindex += aWriteCount[0];", "+\t\tcnt -= aWriteCount[0];", "+\t}", "+\tXPCOM.memmove(_retval, new int[] {max - cnt}, 4);", "+\treturn XPCOM.NS_OK;", "+}"]}], "num": 276}