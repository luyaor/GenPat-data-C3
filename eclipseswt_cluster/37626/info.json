{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5223fec342ce8a78c4edbca4ca356866", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "026785331ddc4ca17c977dc584ac9d35", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "95548f568ccf2d0cabfc6561e1440be263c0c1e7", "commitAfterChange": "a1c0e494851568d744afe1962017864dee4259f2", "methodNumberBeforeChange": 29, "methodNumberAfterChange": 29, "signatureBeforeChange": "  String getText (int start, int end)", "signatureAfterChange": "  char [] getText (int start, int end)", "diff": ["-String getText (int start, int end) {", "+char [] getText (int start, int end) {", "-\t\tif (str == null) return \"\"; //$NON-NLS-1$", "-\tint length = str.length();", "-\tchar[] buffer = new char[length];", "-\tstr.getCharacters_(buffer);", "-\tString string = new String(buffer);", "-\tif (end == -1) end = length;", "-\tstart = Math.max(0, Math.min(start, length));", "-\tend = Math.max(0, Math.min(end, length));", "-\treturn string.substring(start, end);", "+\tif (str == null) return new char[0];", "+\tNSRange range = new NSRange ();", "+\trange.location = start;", "+\tif (end == -1) {", "+\t\tint length = str.length();", "+\t\trange.length = length - start;", "+\t} else {", "+\t\trange.length = end - start;", "+\t}", "+\tchar [] buffer= new char [range.length];", "+\tstr.getCharacters_range_(buffer, range);", "+\treturn buffer;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "285fa8a785579710896ec9e20518bc88", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "4edc576de20a88abac088ae701d29ce3e54ede4f", "commitAfterChange": "c2ec875b36ecf39df432358c14d183b7d7f45fe0", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": " public Rectangle getBounds(int start, int end)", "signatureAfterChange": " public Rectangle getBounds(int start, int end)", "diff": ["-\t//TODO", "-\treturn getBounds();", "+\tint length = text.length();", "+\tif (length == 0) return new Rectangle(0, 0, 0, 0);", "+\tif (start > end) return new Rectangle(0, 0, 0, 0);", "+\tstart = Math.min(Math.max(0, start), length - 1);", "+\tend = Math.min(Math.max(0, end), length - 1);", "+\tstart = translateOffset(start);", "+\tend = translateOffset(end);", "+\tNSRange range = new NSRange();", "+\trange.location = layoutManager.glyphIndexForCharacterAtIndex(start);", "+\trange.length = layoutManager.glyphIndexForCharacterAtIndex(end + 1) - range.location;", "+\tNSRect rect = layoutManager.boundingRectForGlyphRange(range, textContainer);", "+\treturn new Rectangle((int)rect.x, (int)rect.y, (int)Math.ceil(rect.width), (int)Math.ceil(rect.height));"]}], "num": 37626}