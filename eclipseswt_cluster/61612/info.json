{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "1dc3fe0b8ef8b2d9d96966263a8283de", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3fd043511dfe7fc5950c2ffac6d55592", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/common/org/eclipse/swt/browser/Prompter.java", "commitBeforeChange": "1f40f1305a2185832d54c106b90af381ca8fb125", "commitAfterChange": "45b9943e2cf7dcb6df6ebdaf1accf9be50534b90", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": "  Browser getBrowser()", "signatureAfterChange": "  Browser getBrowser()", "diff": ["-\tint rc = XPCOM.NS_GetComponentManager (result);", "+\tint rc = XPCOM.NS_GetServiceManager (result);", "+\tif (rc != XPCOM.NS_OK) Mozilla.error (rc);", "+\tif (result[0] == 0) Mozilla.error (XPCOM.NS_NOINTERFACE);", "+\t", "+\tnsIServiceManager serviceManager = new nsIServiceManager (result[0]);", "+\tresult[0] = 0;", "+\tbyte[] aContractID = MozillaDelegate.wcsToMbcs (null, XPCOM.NS_FOCUSMANAGER_CONTRACTID, true);", "+\trc = serviceManager.GetServiceByContractID (aContractID, !Mozilla.IsPre_4 ? nsIFocusManager.NS_IFOCUSMANAGER_10_IID : nsIFocusManager.NS_IFOCUSMANAGER_IID, result);", "+\tserviceManager.Release ();", "+", "-\t\tnsIComponentManager componentManager = new nsIComponentManager (result[0]);", "+\t\tnsIFocusManager focusManager = new nsIFocusManager (result[0]);", "-\t\tcomponentManager.GetClassObject(XPCOM.NS_IWEBBROWSER_CID, !Mozilla.IsPre_4 ? nsIWebBrowser.NS_IWEBBROWSER_10_IID : nsIWebBrowser.NS_IWEBBROWSER_IID, result);", "+\t\trc = focusManager.GetActiveWindow (result);", "+\t\tfocusManager.Release ();", "-\t\t\tnsIWebBrowser browser = new nsIWebBrowser(result[0]);", "+\t\t\tnsIDOMWindow domWindow = new nsIDOMWindow (result[0]);", "-\t\t\trc = browser.GetContentDOMWindow(result);", "+\t\t\trc = domWindow.GetTop(result);", "+\t\t\tdomWindow.Release();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a760a469fb36d37829698a1f6921cc13", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/common/org/eclipse/swt/browser/PromptAuth2.java", "commitBeforeChange": "1f40f1305a2185832d54c106b90af381ca8fb125", "commitAfterChange": "45b9943e2cf7dcb6df6ebdaf1accf9be50534b90", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": "  Browser getBrowser()", "signatureAfterChange": "  Browser getBrowser()", "diff": ["-\tint rc = XPCOM.NS_GetComponentManager (result);", "+\tint rc = XPCOM.NS_GetServiceManager (result);", "+\tif (rc != XPCOM.NS_OK) Mozilla.error (rc);", "+\tif (result[0] == 0) Mozilla.error (XPCOM.NS_NOINTERFACE);", "+\t", "+\tnsIServiceManager serviceManager = new nsIServiceManager (result[0]);", "+\tresult[0] = 0;", "+\tbyte[] aContractID = MozillaDelegate.wcsToMbcs (null, XPCOM.NS_FOCUSMANAGER_CONTRACTID, true);", "+\trc = serviceManager.GetServiceByContractID (aContractID, !Mozilla.IsPre_4 ? nsIFocusManager.NS_IFOCUSMANAGER_10_IID : nsIFocusManager.NS_IFOCUSMANAGER_IID, result);", "+\tserviceManager.Release ();", "+", "-\t\tnsIComponentManager componentManager = new nsIComponentManager (result[0]);", "+\t\tnsIFocusManager focusManager = new nsIFocusManager (result[0]);", "-\t\tcomponentManager.GetClassObject(XPCOM.NS_IWEBBROWSER_CID, !Mozilla.IsPre_4 ? nsIWebBrowser.NS_IWEBBROWSER_10_IID : nsIWebBrowser.NS_IWEBBROWSER_IID, result);", "+\t\trc = focusManager.GetActiveWindow (result);", "+\t\tfocusManager.Release ();", "-\t\t\tnsIWebBrowser browser = new nsIWebBrowser(result[0]);", "+\t\t\tnsIDOMWindow domWindow = new nsIDOMWindow (result[0]);", "-\t\t\trc = browser.GetContentDOMWindow(result);", "+\t\t\trc = domWindow.GetTop(result);", "+\t\t\tdomWindow.Release();", "-\t\t\t\t\treturn Mozilla.getBrowser(result[0]);", "+\t\t\t\treturn Mozilla.getBrowser(result[0]);"]}], "num": 61612}