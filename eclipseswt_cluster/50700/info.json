{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "42db1161703ea228afd40fe93ceaec1f", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5ce3411c524c08aa01167fb35f95e18b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "19a3ddd19fed46a429f6c36f8cac59dd43f727f3", "commitAfterChange": "babefdbe16d76e76e5ebaa7f5314f9033a6ac58c", "methodNumberBeforeChange": 43, "methodNumberAfterChange": 49, "signatureBeforeChange": "  void keyDown (int id, int sel, int theEvent)", "signatureAfterChange": "  boolean sendKeyEvent (NSEvent nsEvent, int type)", "diff": ["-void keyDown (int /*long*/ id, int /*long*/ sel, int /*long*/ theEvent) {", "-\tNSEvent event = new NSEvent (theEvent);", "-\tint stateMask = 0;", "-\tint /*long*/ modifierFlags = event.modifierFlags();", "-\tif ((modifierFlags & OS.NSAlternateKeyMask) != 0) stateMask |= SWT.ALT;", "-\tif ((modifierFlags & OS.NSShiftKeyMask) != 0) stateMask |= SWT.SHIFT;", "-\tif ((modifierFlags & OS.NSControlKeyMask) != 0) stateMask |= SWT.CONTROL;", "-\tif ((modifierFlags & OS.NSCommandKeyMask) != 0) stateMask |= SWT.COMMAND;", "-\tif (stateMask == SWT.COMMAND) {", "-\t\tshort keyCode = event.keyCode ();", "-\t\tswitch (keyCode) {", "-\t\t\tcase 7: /* X */", "-\t\t\t\tcut ();", "-\t\t\t\treturn;", "-\t\t\tcase 8: /* C */", "-\t\t\t\tcopy ();", "-\t\t\t\treturn;", "-\t\t\tcase 9: /* V */", "-\t\t\t\tpaste ();", "-\t\t\t\treturn;", "-\t\t}", "-\t}", "-\tif ((style & SWT.SINGLE) != 0) {", "-\t\tshort keyCode = event.keyCode ();", "-\t\tswitch (keyCode) {", "-\t\t\tcase 76: /* KP Enter */", "-\t\t\tcase 36: { /* Return */", "-\t\t\t\tpostEvent (SWT.DefaultSelection);", "-\t\t\t\treturn;", "-\t\t\t}", "-\t\t}", "-\t}", "-\tsuper.keyDown (id, sel, theEvent);", "-}", "+boolean sendKeyEvent (NSEvent nsEvent, int type) {", "+\tboolean result = super.sendKeyEvent (nsEvent, type);", "+\tif (!result) return result;", "+\tif (type != SWT.KeyDown) return result;", "+\tint stateMask = 0;", "+\tint /*long*/ modifierFlags = nsEvent.modifierFlags();", "+\tif ((modifierFlags & OS.NSAlternateKeyMask) != 0) stateMask |= SWT.ALT;", "+\tif ((modifierFlags & OS.NSShiftKeyMask) != 0) stateMask |= SWT.SHIFT;", "+\tif ((modifierFlags & OS.NSControlKeyMask) != 0) stateMask |= SWT.CONTROL;", "+\tif ((modifierFlags & OS.NSCommandKeyMask) != 0) stateMask |= SWT.COMMAND;", "+\tif (stateMask == SWT.COMMAND) {", "+\t\tshort keyCode = nsEvent.keyCode ();", "+\t\tswitch (keyCode) {", "+\t\t\tcase 7: /* X */", "+\t\t\t\tcut ();", "+\t\t\t\treturn false;", "+\t\t\tcase 8: /* C */", "+\t\t\t\tcopy ();", "+\t\t\t\treturn false;", "+\t\t\tcase 9: /* V */", "+\t\t\t\tpaste ();", "+\t\t\t\treturn false;", "+\t\t}", "+\t}", "+\tif ((style & SWT.SINGLE) != 0) {", "+\t\tshort keyCode = nsEvent.keyCode ();", "+\t\tswitch (keyCode) {", "+\t\t\tcase 76: /* KP Enter */", "+\t\t\tcase 36: { /* Return */", "+\t\t\t\tpostEvent (SWT.DefaultSelection);", "+\t\t\t}", "+\t\t}", "+\t}", "+\treturn result;", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "158fd944f990f77233a00d6a696fa6c7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Widget.java", "commitBeforeChange": "374a9aef6d3cdbe23142c7622f439f5425ecaa80", "commitAfterChange": "ed307d3f65dabf3aa5aefbc1cbd79da8679af838", "methodNumberBeforeChange": 67, "methodNumberAfterChange": 66, "signatureBeforeChange": "  void setInputState (Event event, MacEvent mEvent)", "signatureAfterChange": " void setKeyState (Event event, MacEvent mEvent)", "diff": ["-", "-void setInputState (Event event, MacEvent mEvent) {", "-\tevent.stateMask= mEvent.getStateMask();", "-\tswitch (event.type) {", "-\t\tcase SWT.KeyDown:", "-\t\tcase SWT.Traverse: {", "-\t\t\tif (event.keyCode != 0 || event.character != 0) return;", "-\t\t\tint modifiers = mEvent.getModifiers();", "-\t\t\tint fLastModifiers = getDisplay().fLastModifiers;", "-\t\t\tif ((modifiers & OS.shiftKey) != 0 && (fLastModifiers & OS.shiftKey) == 0) {", "-\t\t\t\tevent.stateMask &= ~SWT.SHIFT;", "-\t\t\t\tevent.keyCode = SWT.SHIFT;", "-\t\t\t\treturn;", "-\t\t\t}", "-\t\t\tif ((modifiers & OS.controlKey) != 0 && (fLastModifiers & OS.controlKey) == 0) {", "-\t\t\t\tevent.stateMask &= ~SWT.CONTROL;", "-\t\t\t\tevent.keyCode = SWT.CONTROL;", "-\t\t\t\treturn;", "-\t\t\t}", "-\t\t\tif ((modifiers & OS.cmdKey) != 0 && (fLastModifiers & OS.cmdKey) == 0) {", "-\t\t\t\tevent.stateMask &= ~SWT.COMMAND;", "-\t\t\t\tevent.keyCode = SWT.COMMAND;", "-\t\t\t\treturn;", "-\t\t\t}\t", "-\t\t\tif ((modifiers & OS.optionKey) != 0 && (fLastModifiers & OS.optionKey) == 0) {", "-\t\t\t\tevent.stateMask &= ~SWT.ALT;", "-\t\t\t\tevent.keyCode = SWT.ALT;", "-\t\t\t\treturn;", "-\t\t\t}", "-\t\t\tbreak;", "-\t\t}", "-\t\tcase SWT.KeyUp: {", "-\t\t\tif (event.keyCode != 0 || event.character != 0) return;", "-\t\t\tint modifiers = mEvent.getModifiers();", "-\t\t\tint fLastModifiers = getDisplay().fLastModifiers;", "-\t\t\tif ((modifiers & OS.shiftKey) == 0 && (fLastModifiers & OS.shiftKey) != 0) {", "-\t\t\t\tevent.stateMask |= SWT.SHIFT;", "-\t\t\t\tevent.keyCode = SWT.SHIFT;", "-\t\t\t\treturn;", "-\t\t\t}", "-\t\t\tif ((modifiers & OS.controlKey) == 0 && (fLastModifiers & OS.controlKey) != 0) {", "-\t\t\t\tevent.stateMask |= SWT.CONTROL;", "-\t\t\t\tevent.keyCode = SWT.CONTROL;", "-\t\t\t\treturn;", "-\t\t\t}", "-\t\t\tif ((modifiers & OS.cmdKey) == 0 && (fLastModifiers & OS.cmdKey) != 0) {", "-\t\t\t\tevent.stateMask |= SWT.COMMAND;", "-\t\t\t\tevent.keyCode = SWT.COMMAND;", "-\t\t\t\treturn;", "-\t\t\t}\t", "-\t\t\tif ((modifiers & OS.optionKey) != 0 && (fLastModifiers & OS.optionKey) == 0) {", "-\t\t\t\tevent.stateMask |= SWT.ALT;", "-\t\t\t\tevent.keyCode = SWT.ALT;", "-\t\t\t\treturn;", "-\t\t\t}", "-\t\t\tbreak;", "-\t\t}", "-\t}", "-}", "+*/", "+void setKeyState (Event event, MacEvent mEvent) {", "+\tint kc= Display.translateKey(mEvent.getKeyCode());", "+\tif (kc != 0) {", "+\t\tevent.keyCode = kc;", "+\t} else {", "+\t\t//event.keyCode = 0;", "+\t\tevent.character = (char) mEvent.getMacCharCodes();", "+\t}\t", "+\t// AW setInputState (event, mEvent);", "+\tevent.stateMask= mEvent.getStateMask();", "+}"]}], "num": 50700}