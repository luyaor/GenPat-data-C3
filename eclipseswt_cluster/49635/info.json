{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3689725611b1b2c17fe02e81d1962919", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a3f854f4cc92d6fac861510835390a2e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "46392830ad16c4d905392ed9777235d3d36b8b61", "commitAfterChange": "fe69c2ce9bfa3d04e0768e32d6c59e2eab9b3453", "methodNumberBeforeChange": 55, "methodNumberAfterChange": 56, "signatureBeforeChange": "  int kEventWindowGetClickModality (int nextHandler, int theEvent, int userData)", "signatureAfterChange": "  int kEventWindowGetClickModality (int nextHandler, int theEvent, int userData)", "diff": ["+\t", "+\t/*", "+\t* Feature in the Macintosh. ON_TOP shells are in the kFloatingWindowClass window", "+\t* group and are not modal disabled by default. The fix is to detect that it should", "+\t* be disabled and update the event parameters.", "+\t*/", "+\tif ((style & SWT.ON_TOP) != 0) {", "+\t\tShell modalShell = getModalShell ();", "+\t\tif (modalShell != null) {", "+\t\t\tint [] modality = new int [1];", "+\t\t\tint clickResult = OS.kHIModalClickIsModal | OS.kHIModalClickAnnounce;", "+\t\t\tOS.GetWindowModality (modalShell.shellHandle, modality, null);", "+\t\t\tOS.SetEventParameter (theEvent, OS.kEventParamWindowModality, OS.typeWindowModality, 4, modality);", "+\t\t\tOS.SetEventParameter (theEvent, OS.kEventParamModalClickResult, OS.typeModalClickResult, 4, new int[]{clickResult});", "+\t\t\tOS.SetEventParameter (theEvent, OS.kEventParamModalWindow, OS.typeWindowRef, 4, new int[]{modalShell.shellHandle});", "+\t\t}", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2280a4bac8f278bdd46a506dff163e95", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "f25169ac3c4a70d8825991e8452d6ea0a867d627", "commitAfterChange": "78ef2a0bf64cbfe8a445e5a3c8d8cdf0375c2f20", "methodNumberBeforeChange": 56, "methodNumberAfterChange": 56, "signatureBeforeChange": "  int kEventWindowGetClickModality (int nextHandler, int theEvent, int userData)", "signatureAfterChange": "  int kEventWindowGetClickModality (int nextHandler, int theEvent, int userData)", "diff": ["+\t* ", "+\t* Bug in Macintosh.  When a kWindowModalityWindowModal window is active the ", "+\t* default handler of kEventWindowGetClickModality does not properly set the ", "+\t* kEventParamModalClickResult. The fix is to set it ourselves.", "-\tif ((style & SWT.ON_TOP) != 0) {", "-\t\tShell modalShell = getModalShell ();", "-\t\tif (modalShell != null) {", "-\t\t\tint [] modality = new int [1];", "+\tShell modalShell = getModalShell ();", "+\tif (modalShell != null) {", "+\t\tint [] modality = new int [1];", "+\t\tOS.GetWindowModality (modalShell.shellHandle, modality, null);", "+\t\tif ((style & SWT.ON_TOP) != 0 || modality [0] == OS.kWindowModalityWindowModal) {", "-\t\t\tOS.GetWindowModality (modalShell.shellHandle, modality, null);"]}], "num": 49635}