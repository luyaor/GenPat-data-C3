{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "c9ec7c2ade0c36d0f76c9fe040217be5", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "57adf474148fc585fb8403d7db6771b0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Accessibility/gtk/org/eclipse/swt/accessibility/AccessibleObject.java", "commitBeforeChange": "f9528eaf04b9a7bbff7eef46517a4a22f774b385", "commitAfterChange": "aef40797195cb5e2b3bf6818f1b0fa0d190030aa", "methodNumberBeforeChange": 69, "methodNumberAfterChange": 69, "signatureBeforeChange": "  \tstatic int atkText_get_selection (int atkObject, int selection_num, int start_offset, int end_offset)", "signatureAfterChange": "  \tstatic int atkText_get_selection (int atkObject, int selection_num, int start_offset, int end_offset)", "diff": ["+\t\t\t\tif (parentResult != 0) OS.g_free(parentResult);", "-\t\t\t\t\t//TODO return the selected text, should we free parent result", "+\t\t\t\t\tif (parentResult != 0) OS.g_free(parentResult);", "+\t\t\t\t\tString text = object.getText();", "+\t\t\t\t\tif (text != null && text.length () > event.offset && text.length() >= event.offset + event.length) {", "+\t\t\t\t\t\treturn getStringPtr (text.substring(event.offset, event.offset + event.length));", "+\t\t\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "19c08466397823b5fccc6f3a8c00f420", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "e5d64fd81f96f67f474e48cc570d6faada05a8c9", "commitAfterChange": "2460307210ca1c84db4d87d040f55706616b5591", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "diff": ["+\t} else {", "+\t\t/* ", "+\t\t * In a SWT.READ_ONLY Combo with single item, but no selection, ", "+\t\t * the width of the cell returned by cellSize() is smaller than expected.", "+\t\t * Get the correct width by setting and resetting the selected item.", "+\t\t */", "+\t\tNSPopUpButton nsPopUpButton = (NSPopUpButton)view;", "+\t\tif ((nsPopUpButton.numberOfItems () == 1) && (nsPopUpButton.indexOfSelectedItem () == -1)) {", "+\t\t\tnsPopUpButton.selectItemAtIndex (0);", "+\t\t\tsize = viewCell.cellSize ();", "+\t\t\twidth = Math.max (width, (int)Math.ceil (size.width));", "+\t\t\tnsPopUpButton.selectItemAtIndex (-1);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3bde7b3bd8c4831266393062cb858226", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "bb717d59b79c0a782a38ba12420d934c86085f62", "commitAfterChange": "5dc510036d3f589b77ab51681b222b8b9e1a0c26", "methodNumberBeforeChange": 85, "methodNumberAfterChange": 85, "signatureBeforeChange": "  void showItem (TreeItem item, boolean scroll)", "signatureAfterChange": "  void showItem (TreeItem item, boolean scroll)", "diff": ["-\tint count = 0;", "-//\tTreeItem parentItem = item.parentItem;", "-//\twhile (parentItem != null && !parentItem._getExpanded ()) {", "-//\t\tcount++;", "-//\t\tparentItem = parentItem.parentItem;", "-//\t}", "-//\tint index = 0;", "-//\tparentItem = item.parentItem;", "-//\tTreeItem [] path = new TreeItem [count];", "-//\twhile (parentItem != null && !parentItem._getExpanded ()) {", "-//\t\tpath [index++] = parentItem;", "-//\t\tparentItem = parentItem.parentItem;", "-//\t}", "-//\tfor (int i=path.length-1; i>=0; --i) {", "-//\t\tpath [i].setExpanded (true);", "-//\t}", "-//\tif (scroll) {", "-//\t\t/*", "-//\t\t* Bug in the Macintosh.  When there is not room to show a", "-//\t\t* single item in the data browser, RevealDataBrowserItem()", "-//\t\t* scrolls the item such that it is above the top of the data", "-//\t\t* browser.  The fix is to remember the index and scroll when", "-//\t\t* the data browser is resized.", "-//\t\t* ", "-//\t\t* Bug in the Macintosh.  When items are added to the data", "-//\t\t* browser after is has been hidden, RevealDataBrowserItem()", "-//\t\t* when called before the controls behind the data browser", "-//\t\t* are repainted causes a redraw.  This redraw happens right", "-//\t\t* away causing pixel corruption.  The fix is to remember the", "-//\t\t* index and scroll when the data browser is shown.", "-//\t\t*/", "-//\t\tRectangle rect = getClientArea ();", "-//\t\tif (rect.height < getItemHeight () || !OS.IsControlVisible (handle)) {", "-//\t\t\tshowItem = item;", "-//\t\t\treturn;", "-//\t\t}", "-//\t\tshowItem = null;", "-//\t\tRectangle itemRect = item.getBounds ();", "-//\t\tif (!itemRect.isEmpty()) {", "-//\t\t\tif (rect.contains (itemRect.x, itemRect.y)", "-//\t\t\t\t&& rect.contains (itemRect.x, itemRect.y + itemRect.height)) return;", "-//\t\t}", "-//\t\tint [] top = new int [1], left = new int [1];", "-//\t\tOS.GetDataBrowserScrollPosition (handle, top, left);", "-//\t\tint columnId = (columnCount == 0) ? column_id : columns [0].id;", "-//\t\tint options = OS.kDataBrowserRevealWithoutSelecting;", "-//\t\t/*", "-//\t\t* This code is intentionally commented, since kDataBrowserRevealAndCenterInView", "-//\t\t* does not scroll the item to the center always (it seems to scroll to the", "-//\t\t* end in some cases).", "-//\t\t*/", "-//\t\t//options |= OS.kDataBrowserRevealAndCenterInView;", "-//\t\tOS.RevealDataBrowserItem (handle, item.id, columnId, (byte) options);", "-//\t\tint [] newTop = new int [1], newLeft = new int [1];", "-//\t\tif (columnCount == 0) {", "-//\t\t\tboolean fixScroll = false;", "-//\t\t\tRect content = new Rect ();", "-//\t\t\tif (OS.GetDataBrowserItemPartBounds (handle, item.id, columnId, OS.kDataBrowserPropertyContentPart, content) == OS.noErr) {", "-//\t\t\t\tfixScroll = content.left < rect.x || content.left >= rect.x + rect.width;", "-//\t\t\t\tif (!fixScroll) {", "-//\t\t\t\t\tGC gc = new GC (this);", "-//\t\t\t\t\tint contentWidth = calculateWidth (new int[]{item.id}, gc, false, 0, 0);", "-//\t\t\t\t\tgc.dispose ();", "-//\t\t\t\t\tfixScroll =  content.left + contentWidth > rect.x + rect.width;", "-//\t\t\t\t}", "-//\t\t\t}", "-//\t\t\tif (fixScroll) {", "-//\t\t\t\tint leftScroll = getLeftDisclosureInset (columnId);", "-//\t\t\t\tint levelIndent = DISCLOSURE_COLUMN_LEVEL_INDENT;", "-//\t\t\t\tif (OS.VERSION >= 0x1040) {", "-//\t\t\t\t\tfloat [] metric = new float [1];", "-//\t\t\t\t\tOS.DataBrowserGetMetric (handle, OS.kDataBrowserMetricDisclosureColumnPerDepthGap, null, metric);", "-//\t\t\t\t\tlevelIndent = (int) metric [0];", "-//\t\t\t\t}", "-//\t\t\t\tTreeItem temp = item;", "-//\t\t\t\twhile (temp.parentItem != null) {", "-//\t\t\t\t\tleftScroll += levelIndent;", "-//\t\t\t\t\ttemp = temp.parentItem;", "-//\t\t\t\t}", "-//\t\t\t\tOS.GetDataBrowserScrollPosition (handle, newTop, newLeft);", "-//\t\t\t\tOS.SetDataBrowserScrollPosition (handle, newTop [0], leftScroll);", "-//\t\t\t}", "-//\t\t}", "-//", "-//\t\t/*", "-//\t\t* Bug in the Macintosh.  For some reason, when the DataBrowser is scrolled", "-//\t\t* by RevealDataBrowserItem(), the scrollbars are not redrawn.  The fix is to", "-//\t\t* force a redraw.", "-//\t\t*/", "-//\t\tOS.GetDataBrowserScrollPosition (handle, newTop, newLeft);", "-//\t\tif (horizontalBar != null && newLeft [0] != left [0]) horizontalBar.redraw ();", "-//\t\tif (verticalBar != null && newTop [0] != top [0]) verticalBar.redraw ();", "-//\t}", "+\tTreeItem parentItem = item.parentItem;", "+\tif (parentItem != null && !parentItem.expanded) {", "+\t\tshowItem (parentItem, false);", "+\t\tparentItem.setExpanded (true);", "+\t}", "+\tif (scroll) {", "+\t\tNSOutlineView outlineView = (NSOutlineView) view;", "+\t\tint row = outlineView.rowForItem (item.handle);", "+\t\toutlineView.scrollRowToVisible (row);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "debf1efe7deac8d942636dc4d4eaceef", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "b736b4300b016cc6528af9f62c30fdfee607e20c", "commitAfterChange": "ca083c1ee82acb16a5435cb7041be6d577024f30", "methodNumberBeforeChange": 102, "methodNumberAfterChange": 102, "signatureBeforeChange": "  void windowSendEvent (int id, int sel, int event)", "signatureAfterChange": "  void windowSendEvent (int id, int sel, int event)", "diff": ["+\t\t\t", "+\t\t\t// Tooltip updating: Find the widget under the cursor. If it changed, clear the tooltip from", "+\t\t\t// the last tracked item and send a tooltip event to make it visible on the new widget. ", "-\t\t\tif (control != null) target = control.findTooltip (nsEvent.locationInWindow());", "+\t\t\tif (control != null) {", "+\t\t\t\tNSPoint eventPoint = nsEvent.locationInWindow();", "+\t\t\t\tif (hitView[0] != null) {", "+\t\t\t\t\tNSWindow eventWindow = nsEvent.window();", "+", "+\t\t\t\t\t// If a NSMouseMoved happens on an inactive window, convert the", "+\t\t\t\t\t// event coordinates to the window of the target view.", "+\t\t\t\t\tif (eventWindow != null && eventWindow != hitView[0].window()) {", "+\t\t\t\t\t\teventPoint = eventWindow.convertBaseToScreen(eventPoint);", "+\t\t\t\t\t\teventPoint = hitView[0].window().convertScreenToBase(eventPoint);", "+\t\t\t\t\t}", "+\t\t\t\t}\t\t\t\t", "+\t\t\t\ttarget = control.findTooltip (eventPoint);", "+\t\t\t}", "+\t\t\t"]}], "num": 57866}