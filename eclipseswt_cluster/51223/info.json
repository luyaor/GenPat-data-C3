{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "42eb4a088ce9b13b56eb5eed110162c3", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "31636095bb18f35e97200c706eecb800", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/FontDialog.java", "commitBeforeChange": "613386a136aed7f7be85acd46a7cab744bbae94d", "commitAfterChange": "e144c0287be1ac0d08cd8310d65398d20b566a1f", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 33, "signatureBeforeChange": "\r String getSelectedFoundry()", "signatureAfterChange": "\r \r void showBusyWhile (Display display, Runnable runnable)", "diff": ["- */\r", "-String getSelectedFoundry() {\r", "-\tString translatedFaceName = getFaceNameCombo().getText();\r", "-\tString foundry = new String();\r", "-\tint foundryIndex = translatedFaceName.indexOf(\"(\");\r", "-\r", "-\tif (foundryIndex != -1) {\r", "-\t\tfoundry = translatedFaceName.substring(\r", "-\t\t\tfoundryIndex + 1, translatedFaceName.length()-1);\r", "-\t}\r", "-\treturn foundry;\r", "-}\r", "+\r", "+void showBusyWhile (Display display, Runnable runnable) {\r", "+\tInteger busyId = new Integer (nextBusyId);\r", "+\tnextBusyId++;\r", "+\tCursor cursor = new Cursor (display, SWT.CURSOR_WAIT);\r", "+\tShell[] shells = display.getShells ();\r", "+\tfor (int i = 0; i < shells.length; i++) {\r", "+\t\tInteger id = (Integer) shells[i].getData (BUSYID_NAME);\r", "+\t\tif (id == null) {\r", "+\t\t\tshells[i].setCursor (cursor);\r", "+\t\t\tshells[i].setData (BUSYID_NAME, busyId);\r", "+\t\t}\r", "+\t}\r", "+\r", "+\ttry {\r", "+\t\trunnable.run();\r", "+\t} finally {\r", "+\t\tshells = display.getShells();\r", "+\t\tfor (int i = 0; i < shells.length; i++) {\r", "+\t\t\tInteger id = (Integer) shells[i].getData (BUSYID_NAME);\r", "+\t\t\tif (id == busyId) {\r", "+\t\t\t\tshells[i].setCursor (null);\r", "+\t\t\t\tshells[i].setData (BUSYID_NAME, null);\r", "+\t\t\t}\r", "+\t\t}\r", "+\t\tif (cursor != null && !cursor.isDisposed ()) {\r", "+\t\t\tcursor.dispose ();\r", "+\t\t}\r", "+\t}\r", "+}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e2d045500aaffb2d5e82d3c4b20333ca", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/BusyIndicator.java", "commitBeforeChange": "3fb799dcaa7d449679ed92f9829fbed85aa6fd1d", "commitAfterChange": "6c0e3d76ce668620fd159ac504e2b5d9a48852be", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "\r \r public static void showWhile(Display display, Runnable runnable)", "signatureAfterChange": "\r \r public static void showWhile(Display display, Runnable runnable)", "diff": ["-\t\tint[] newCounts = new int[counts.length + 1];\r", "-\t\tSystem.arraycopy(counts, 0, newCounts, 0, counts.length);\r", "-\t\tcounts = newCounts;\r", "-\t\t\r", "-\tif (counts[index] == 0) {\r", "+\tif (cursors[index] == null) {\r", "-\tcounts[index]++;\r", "+\tInteger busyId = new Integer(nextBusyId);\r", "+\tnextBusyId = (++nextBusyId) % 65536;\r", "-\t\tshells[i].setCursor(cursors[index]);\r", "+\t\tInteger id = (Integer)shells[i].getData(BUSYID_NAME);\r", "+\t\tif (id == null) {\r", "+\t\t\tshells[i].setCursor(cursors[index]);\r", "+\t\t\tshells[i].setData(BUSYID_NAME, busyId);\r", "+\t\t}\r", "-\t\tcounts[index]--;\r", "-\t\tif (counts[index] == 0) {\r", "-\t\t\tshells = display.getShells();\r", "-\t\t\tfor (int i = 0; i < shells.length; i++) {\r", "+\t\tshells = display.getShells();\r", "+\t\tfor (int i = 0; i < shells.length; i++) {\r", "+\t\t\tInteger id = (Integer)shells[i].getData(BUSYID_NAME);\r", "+\t\t\tif (id == busyId) {\r", "+\t\t\t\tshells[i].setData(BUSYID_NAME, null);\r", "-\t\t\tcursors[index].dispose();\r", "-\t\t\tcursors[index] = null;\r"]}], "num": 51223}