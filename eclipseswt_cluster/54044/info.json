{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a34d3f7bd0cacc16a818a1633697e3c9", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "44989b69353f9d7d2ec09a1d684b5059", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk1x/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "537648a314508c33dd545c553fdb877c67e2da0d", "commitAfterChange": "691c46b6cd7b5f0859b69052c383113eb415d45f", "methodNumberBeforeChange": 31, "methodNumberAfterChange": 31, "signatureBeforeChange": " public void setControl (Control control)", "signatureAfterChange": " public void setControl (Control control)", "diff": ["-\tif (!isValidThread ()) error (SWT.ERROR_THREAD_INVALID_ACCESS);", "-\tif (!isValidWidget ()) error (SWT.ERROR_WIDGET_DISPOSED);", "+\tcheckWidget ();", "+\tif (control != null) {", "+\t\tif (control.isDisposed ()) error (SWT.ERROR_INVALID_ARGUMENT);", "+\t\tif (control.parent != parent) error (SWT.ERROR_INVALID_PARENT);", "+\t}", "-", "-\tthis.control = control;", "-\tif (control==null) return;", "-", "-\t// first, remove the current control from the box and throw it away", "-\tWidgetTable.remove(handle);", "-\tOS.gtk_widget_destroy(handle);", "-\tWidgetTable.remove(boxHandle);", "-\t", "-\t// put the specified control in the box", "-\thandle = control.topHandle();", "-\tOS.gtk_widget_reparent(handle, boxHandle);", "-\tOS.gtk_widget_show(handle);", "-\tWidgetTable.put(handle, control);", "-\tWidgetTable.put(boxHandle, control);", "+\tControl newControl = control;", "+\tControl oldControl = this.control;", "+\tif (oldControl == newControl) return;", "+\tif (oldControl != null) {", "+\t\tint topHandle = control.topHandle ();", "+\t\tint tempHandle = parent.tempHandle;", "+\t\tOS.gtk_widget_reparent (topHandle, tempHandle);", "+\t}", "+\tthis.control = newControl;", "+\tif (newControl != null) {", "+\t\tif (handle != boxHandle) {", "+\t\t\tWidgetTable.remove (handle);", "+\t\t\tOS.gtk_widget_destroy (handle);", "+\t\t\thandle = boxHandle;", "+\t\t}", "+\t\tint topHandle = control.topHandle ();", "+\t\tOS.gtk_widget_reparent (topHandle, boxHandle);", "+\t\t//OS.gtk_widget_show (topHandle);", "+\t} else {\t\t", "+\t\tboolean isVertical = (parent.getStyle () & SWT.VERTICAL) != 0;", "+\t\thandle = isVertical ? OS.gtk_hseparator_new () : OS.gtk_vseparator_new ();", "+\t\tif (handle == 0) error(SWT.ERROR_NO_HANDLES);", "+\t\tOS.gtk_container_add (boxHandle, handle);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "005140b07103b5eeb80edb6f6d247b6a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "537648a314508c33dd545c553fdb877c67e2da0d", "commitAfterChange": "691c46b6cd7b5f0859b69052c383113eb415d45f", "methodNumberBeforeChange": 31, "methodNumberAfterChange": 31, "signatureBeforeChange": " public void setControl (Control control)", "signatureAfterChange": " public void setControl (Control control)", "diff": ["-\tif (!isValidThread ()) error (SWT.ERROR_THREAD_INVALID_ACCESS);", "-\tif (!isValidWidget ()) error (SWT.ERROR_WIDGET_DISPOSED);", "+\tcheckWidget ();", "+\tif (control != null) {", "+\t\tif (control.isDisposed ()) error (SWT.ERROR_INVALID_ARGUMENT);", "+\t\tif (control.parent != parent) error (SWT.ERROR_INVALID_PARENT);", "+\t}", "-", "-\tthis.control = control;", "-\tif (control==null) return;", "-", "-\t// first, remove the current control from the box and throw it away", "-\tWidgetTable.remove(handle);", "-\tOS.gtk_widget_destroy(handle);", "-\tWidgetTable.remove(boxHandle);", "-\t", "-\t// put the specified control in the box", "-\thandle = control.topHandle();", "-\tOS.gtk_widget_reparent(handle, boxHandle);", "-\tOS.gtk_widget_show(handle);", "-\tWidgetTable.put(handle, control);", "-\tWidgetTable.put(boxHandle, control);", "+\tControl newControl = control;", "+\tControl oldControl = this.control;", "+\tif (oldControl == newControl) return;", "+\tif (oldControl != null) {", "+\t\tint topHandle = control.topHandle ();", "+\t\tint tempHandle = parent.tempHandle;", "+\t\tOS.gtk_widget_reparent (topHandle, tempHandle);", "+\t}", "+\tthis.control = newControl;", "+\tif (newControl != null) {", "+\t\tif (handle != boxHandle) {", "+\t\t\tWidgetTable.remove (handle);", "+\t\t\tOS.gtk_widget_destroy (handle);", "+\t\t\thandle = boxHandle;", "+\t\t}", "+\t\tint topHandle = control.topHandle ();", "+\t\tOS.gtk_widget_reparent (topHandle, boxHandle);", "+\t\t//OS.gtk_widget_show (topHandle);", "+\t} else {\t\t", "+\t\tboolean isVertical = (parent.getStyle () & SWT.VERTICAL) != 0;", "+\t\thandle = isVertical ? OS.gtk_hseparator_new () : OS.gtk_vseparator_new ();", "+\t\tif (handle == 0) error(SWT.ERROR_NO_HANDLES);", "+\t\tOS.gtk_container_add (boxHandle, handle);", "+\t}"]}], "num": 54044}