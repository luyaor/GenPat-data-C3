{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "c3a60ed9560b9201c5eed07d95a1a4f7", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "789af1bf97e93a26000431eef6001f2d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Label.java", "commitBeforeChange": "c63ca636edfbea4cd55ccc07da414186be375ce0", "commitAfterChange": "e38d4aec3f79c42ea6666a7a37c026187a8aa6ea", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 22, "signatureBeforeChange": "  LRESULT wmDrawChild (int wParam, int lParam)", "signatureAfterChange": "  LRESULT wmDrawChild (int wParam, int lParam)", "diff": ["-\t\tif (image != null) {", "-\t\t\tGCData data = new GCData();", "-\t\t\tdata.device = display;", "-\t\t\tGC gc = GC.win32_new (struct.hDC, data);", "-\t\t\tint width = struct.right - struct.left;", "-\t\t\tint height = struct.bottom - struct.top;", "-\t\t\tif (width != 0 && height != 0) {", "-\t\t\t\tint x = 0, y = 0;", "-\t\t\t\tif ((style & SWT.CENTER) != 0) {", "-\t\t\t\t\tRectangle rect = image.getBounds ();", "-\t\t\t\t\tx = Math.max (0, (width - rect.width) / 2);", "-\t\t\t\t} else {", "-\t\t\t\t\tif ((style & SWT.RIGHT) != 0) {", "-\t\t\t\t\t\tRectangle rect = image.getBounds ();", "-\t\t\t\t\t\tx = width - rect.width;", "-\t\t\t\t\t}", "-\t\t\t\t}", "-\t\t\t\tImage drawnImage = getEnabled () ? image : new Image (display, image, SWT.IMAGE_DISABLE);", "-\t\t\t\tgc.drawImage (drawnImage, x, y);", "-\t\t\t\tif (drawnImage != image) drawnImage.dispose ();", "+\t\tint width = struct.right - struct.left;", "+\t\tint height = struct.bottom - struct.top;", "+\t\tif (width != 0 && height != 0) {", "+\t\t\tint imageWidth = 0, imageHeight = 0;", "+\t\t\tif (image != null) {", "+\t\t\t\tRectangle rect = image.getBounds ();", "+\t\t\t\timageWidth = rect.width;", "+\t\t\t\timageHeight = rect.height;", "-\t\t\tgc.dispose ();", "+\t\t\tRECT rect = null;", "+\t\t\tTCHAR buffer = null;", "+\t\t\tint textWidth = 0, textHeight = 0, flags = 0;", "+\t\t\tif (text.length () != 0) {", "+\t\t\t\trect = new RECT ();", "+\t\t\t\tflags = OS.DT_CALCRECT | OS.DT_EDITCONTROL | OS.DT_EXPANDTABS;", "+\t\t\t\tif ((style & SWT.LEFT) != 0) flags |= OS.DT_LEFT;", "+\t\t\t\tif ((style & SWT.CENTER) != 0) flags |= OS.DT_CENTER;", "+\t\t\t\tif ((style & SWT.RIGHT) != 0) flags |= OS.DT_RIGHT;", "+\t\t\t\tif ((style & SWT.WRAP) != 0) {", "+\t\t\t\t\tflags |= OS.DT_WORDBREAK;", "+\t\t\t\t\trect.right = Math.max (0, width - imageWidth - MARGIN);", "+\t\t\t\t}", "+\t\t\t\tbuffer = new TCHAR (getCodePage (), text, true);", "+\t\t\t\tOS.DrawText (struct.hDC, buffer, -1, rect, flags);", "+\t\t\t\ttextWidth = rect.right - rect.left;", "+\t\t\t\ttextHeight = rect.bottom - rect.top;", "+\t\t\t}", "+\t\t\tint x = 0;", "+\t\t\tif ((style & SWT.CENTER) != 0) {", "+\t\t\t\tx = Math.max (0, (width - imageWidth - textWidth - MARGIN) / 2);", "+\t\t\t} else {", "+\t\t\t\tif ((style & SWT.RIGHT) != 0) {", "+\t\t\t\t\tx = width - imageWidth - textWidth - MARGIN;", "+\t\t\t\t}", "+\t\t\t}", "+\t\t\tif (image != null) {", "+\t\t\t\tGCData data = new GCData();", "+\t\t\t\tdata.device = display;", "+\t\t\t\tGC gc = GC.win32_new (struct.hDC, data);", "+\t\t\t\tImage drawnImage = getEnabled () ? image : new Image (display, image, SWT.IMAGE_DISABLE);", "+\t\t\t\tgc.drawImage (drawnImage, x, Math.max (0, (height - imageHeight) / 2));", "+\t\t\t\tif (drawnImage != image) drawnImage.dispose ();", "+\t\t\t\tgc.dispose ();", "+\t\t\t\tx += imageWidth + MARGIN;", "+\t\t\t}", "+\t\t\tif (text.length () != 0) {", "+\t\t\t\tflags &= ~OS.DT_CALCRECT;", "+\t\t\t\trect.left = x;", "+\t\t\t\trect.right += rect.left;", "+\t\t\t\trect.top = Math.max (0, (height - textHeight) / 2);", "+\t\t\t\trect.bottom += rect.top;", "+\t\t\t\tOS.DrawText (struct.hDC, buffer, -1, rect, flags);", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e7e9d0fa7d13694e08b75af276f61d77", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Label.java", "commitBeforeChange": "7e81b84a2c12e711d885a4cd4a47a7eab239d8f4", "commitAfterChange": "edcf7c0e3595e65e30021cf83de1448eadf495c1", "methodNumberBeforeChange": 27, "methodNumberAfterChange": 21, "signatureBeforeChange": "  LRESULT wmDrawChild (int wParam, int lParam)", "signatureAfterChange": "  LRESULT wmDrawChild (int wParam, int lParam)", "diff": ["-\tif ((style & SWT.SHADOW_NONE) != 0) return null;", "-\tRECT rect = new RECT ();", "-\tint lineWidth = OS.GetSystemMetrics (OS.SM_CXBORDER);", "-\tint flags = OS.EDGE_ETCHED;", "-\tif ((style & SWT.SHADOW_IN) != 0) flags = OS.EDGE_SUNKEN;", "-\tif ((style & SWT.HORIZONTAL) != 0) {", "-\t\tint bottom = struct.top + Math.max (lineWidth * 2, (struct.bottom - struct.top) / 2);", "-\t\tOS.SetRect (rect, struct.left, struct.top, struct.right, bottom);", "-\t\tOS.DrawEdge (struct.hDC, rect, flags, OS.BF_BOTTOM);", "+\tif ((style & SWT.SEPARATOR) != 0) {", "+\t\tif ((style & SWT.SHADOW_NONE) != 0) return null;", "+\t\tRECT rect = new RECT ();", "+\t\tint lineWidth = OS.GetSystemMetrics (OS.SM_CXBORDER);", "+\t\tint flags = (style & SWT.SHADOW_IN) != 0 ? OS.EDGE_SUNKEN : OS.EDGE_ETCHED;", "+\t\tif ((style & SWT.HORIZONTAL) != 0) {", "+\t\t\tint bottom = struct.top + Math.max (lineWidth * 2, (struct.bottom - struct.top) / 2);", "+\t\t\tOS.SetRect (rect, struct.left, struct.top, struct.right, bottom);", "+\t\t\tOS.DrawEdge (struct.hDC, rect, flags, OS.BF_BOTTOM);", "+\t\t} else {", "+\t\t\tint right = struct.left + Math.max (lineWidth * 2, (struct.right - struct.left) / 2);", "+\t\t\tOS.SetRect (rect, struct.left, struct.top, right, struct.bottom);", "+\t\t\tOS.DrawEdge (struct.hDC, rect, flags, OS.BF_RIGHT);", "+\t\t}", "-\t\tint right = struct.left + Math.max (lineWidth * 2, (struct.right - struct.left) / 2);", "-\t\tOS.SetRect (rect, struct.left, struct.top, right, struct.bottom);", "-\t\tOS.DrawEdge (struct.hDC, rect, flags, OS.BF_RIGHT);", "+\t\tif (image != null) {", "+\t\t\tGCData data = new GCData();", "+\t\t\tdata.device = display;", "+\t\t\tGC gc = GC.win32_new (struct.hDC, data);", "+\t\t\tint width = struct.right - struct.left;", "+\t\t\tint height = struct.bottom - struct.top;", "+\t\t\tif (width != 0 && height != 0) {", "+\t\t\t\tint x = 0, y = 0;", "+\t\t\t\tif ((style & SWT.CENTER) != 0) {", "+\t\t\t\t\tRectangle rect = image.getBounds ();", "+\t\t\t\t\tx = Math.max (0, (width - rect.width) / 2);", "+\t\t\t\t} else {", "+\t\t\t\t\tif ((style & SWT.RIGHT) != 0) {", "+\t\t\t\t\t\tRectangle rect = image.getBounds ();", "+\t\t\t\t\t\tx = width - rect.width;", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t\tImage drawnImage = getEnabled () ? image : new Image (display, image, SWT.IMAGE_DISABLE);", "+\t\t\t\tgc.drawImage (drawnImage, x, y);", "+\t\t\t\tif (drawnImage != image) drawnImage.dispose ();", "+\t\t\t}", "+\t\t\tgc.dispose ();", "+\t\t}", "+"]}], "num": 37254}