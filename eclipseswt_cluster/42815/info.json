{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "160878f339410071f7a9d0e6188a2f0b", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a096b3a02cb06a39d9f0fdd92865191c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "22182e34c63852d6ad810cea1c40d7cb2b3f0bce", "commitAfterChange": "3b4b1d4ea7d1bdc6eb182e6cf4eab485e831bd1b", "methodNumberBeforeChange": 62, "methodNumberAfterChange": 62, "signatureBeforeChange": " public TreeItem [] getSelection ()", "signatureAfterChange": " public TreeItem [] getSelection ()", "diff": ["-\tTreeItem [] guess = new TreeItem [8];", "+\tTreeItem [] guess = new TreeItem [(style & SWT.VIRTUAL) != 0 ? 8 : 1];", "-\t\tcount = getSelection (hItem, tvItem, guess, 0);", "+\t\tcount = getSelection (hItem, tvItem, guess, 0, true);", "-\tif ((style & SWT.VIRTUAL) != 0) {", "-\t\tTVITEM tvItem = new TVITEM ();", "-\t\ttvItem.mask = OS.TVIF_HANDLE | OS.TVIF_PARAM | OS.TVIF_STATE;", "-\t\tint hItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_ROOT, 0);", "-\t\tgetSelection (hItem, tvItem, result, 0);", "-\t} else {", "-\t\tTVITEM tvItem = null;", "-\t\tif (OS.IsWinCE) {", "-\t\t\ttvItem = new TVITEM ();", "-\t\t\ttvItem.mask = OS.TVIF_STATE;", "-\t\t}", "-\t\tint index = 0;", "-\t\tfor (int i=0; i<items.length; i++) {", "-\t\t\tTreeItem item = items [i];", "-\t\t\tif (item != null) {", "-\t\t\t\tint hItem = item.handle, state = 0;", "-\t\t\t\tif (OS.IsWinCE) {", "-\t\t\t\t\ttvItem.hItem = hItem;", "-\t\t\t\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);", "-\t\t\t\t\tstate = tvItem.state;", "-\t\t\t\t} else {", "-\t\t\t\t\tstate = OS.SendMessage (handle, OS.TVM_GETITEMSTATE, hItem, OS.TVIS_SELECTED);", "-\t\t\t\t}", "-\t\t\t\tif ((state & OS.TVIS_SELECTED) != 0) {", "-\t\t\t\t\tresult [index++] = item;", "-\t\t\t\t}", "-\t\t\t}", "-\t\t}", "+\tTVITEM tvItem = new TVITEM ();", "+\ttvItem.mask = OS.TVIF_HANDLE | OS.TVIF_PARAM | OS.TVIF_STATE;", "+\tint hItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_ROOT, 0);", "+\tif (count != getSelection (hItem, tvItem, result, 0, false)) {", "+\t\tgetSelection (hItem, tvItem, result, 0, true);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f4038ab60f97a1460c2da8fbd911337e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "6834815c2de8a3ec960a5628d18797b387e4272b", "commitAfterChange": "46f8989ac64e00fcc6a9b24cf039634ec9a8e532", "methodNumberBeforeChange": 73, "methodNumberAfterChange": 73, "signatureBeforeChange": "  void setItemCount (int count, int hParent, int hItem)", "signatureAfterChange": "  void setItemCount (int count, int hParent, int hItem)", "diff": ["-\tif (hItem != 0) {", "-\t\tTVITEM tvItem = new TVITEM ();", "-\t\ttvItem.mask = OS.TVIF_HANDLE | OS.TVIF_PARAM;", "-\t\thItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_PREVIOUS, hItem);", "-\t\ttvItem.hItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_NEXT, hItem);", "-\t\twhile (tvItem.hItem != 0) {", "-\t\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);", "-\t\t\tTreeItem item = tvItem.lParam != -1 ? items [tvItem.lParam] : null;", "-\t\t\tif (item != null && !item.isDisposed ()) {", "-\t\t\t\titem.dispose ();", "-\t\t\t} else {", "-\t\t\t\treleaseItem (tvItem.hItem, tvItem, false);", "-\t\t\t\tdestroyItem (null, tvItem.hItem);", "-\t\t\t}", "-\t\t\ttvItem.hItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_NEXT, hItem);", "+\tTVITEM tvItem = new TVITEM ();", "+\ttvItem.mask = OS.TVIF_HANDLE | OS.TVIF_PARAM;", "+\twhile (hItem != 0) {", "+\t\ttvItem.hItem = hItem;", "+\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);", "+\t\thItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_NEXT, hItem);", "+\t\tTreeItem item = tvItem.lParam != -1 ? items [tvItem.lParam] : null;", "+\t\tif (item != null && !item.isDisposed ()) {", "+\t\t\titem.dispose ();", "+\t\t} else {", "+\t\t\treleaseItem (tvItem.hItem, tvItem, false);", "+\t\t\tdestroyItem (null, tvItem.hItem);"]}], "num": 42815}