{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "67f59da121f234458b0022929c343ac1", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "00618f697d28f04516175d55ea8267ba", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "d490923a7006d6548b42bedc706ce6ce5ba16433", "commitAfterChange": "da556c9b17830907056468c4948706802ae67161", "methodNumberBeforeChange": 135, "methodNumberAfterChange": 135, "signatureBeforeChange": "  public void update ()", "signatureAfterChange": "  public void update ()", "diff": ["-\tDisplay display = getDisplay ();", "-\tdisplay.update ();", "+\tint updateRgn = OS.NewRgn ();", "+\tint window = OS.GetControlOwner (handle);", "+\tint port = OS.GetWindowPort (window);", "+\tOS.GetPortVisibleRegion (port, updateRgn);", "+\tif (!OS.EmptyRgn (updateRgn)) {", "+\t\tint [] currentPort = new int[1];", "+\t\tOS.GetPort (currentPort);", "+\t\tOS.SetPort (port);", "+\t\tOS.BeginUpdate (window);", "+\t\tOS.UpdateControls (window, updateRgn);", "+\t\tOS.EndUpdate (window);", "+\t\tOS.SetPort (currentPort [0]);", "+\t}", "+\tOS.DisposeRgn (updateRgn);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8c68eac586a99e8eaf0078b0d68a3b52", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/wpf/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "318109a09b77020cb8d7f8d97b41b87933157e53", "commitAfterChange": "0a91b1bc8ed129ef04fc4f0a9cb0ec8e8a9db239", "methodNumberBeforeChange": 54, "methodNumberAfterChange": 54, "signatureBeforeChange": " public Monitor getPrimaryMonitor ()", "signatureAfterChange": " public Monitor getPrimaryMonitor ()", "diff": ["+\tint screen = OS.Screen_PrimaryScreen ();", "+\tif (screen == 0) error (SWT.ERROR_NO_HANDLES);", "+\tint bounds = OS.Screen_Bounds (screen);", "+\tint workingArea = OS.Screen_WorkingArea (screen);", "-\tmonitor.x = 0; ", "-\tmonitor.y = 0;", "-\tmonitor.width = (int) OS.SystemParameters_PrimaryScreenWidth ();", "-\tmonitor.height = (int) OS.SystemParameters_PrimaryScreenHeight (); ", "-\tmonitor.clientX = (int) OS.SystemParameters_VirtualScreenLeft ();", "-\tmonitor.clientY = (int) OS.SystemParameters_VirtualScreenTop ();", "-\tmonitor.clientWidth = (int) OS.SystemParameters_VirtualScreenWidth ();", "-\tmonitor.clientHeight = (int) OS.SystemParameters_VirtualScreenHeight ();", "+\tmonitor.x = OS.Rectangle_X (bounds); ", "+\tmonitor.y = OS.Rectangle_Y (bounds);", "+\tmonitor.width = OS.Rectangle_Width (bounds);", "+\tmonitor.height = OS.Rectangle_Height (bounds); ", "+\tmonitor.clientX = OS.Rectangle_X (workingArea);", "+\tmonitor.clientY = OS.Rectangle_Y (workingArea);", "+\tmonitor.clientWidth = OS.Rectangle_Width (workingArea);", "+\tmonitor.clientHeight = OS.Rectangle_Height (workingArea);", "+\tOS.GCHandle_Free (workingArea);", "+\tOS.GCHandle_Free (bounds);", "+\tOS.GCHandle_Free (screen);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4ceab11d34cfb5b3e0a01fc09a9dca70", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "d063aea08192e0213a4b6532b27dc31f9dce6e1b", "commitAfterChange": "48ef0056097e65cbe2f990bf125c93e76b95da33", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 17, "signatureBeforeChange": " public int internal_new_GC (GCData data)", "signatureAfterChange": " public int internal_new_GC (GCData data)", "diff": ["-\tif (pixmap == 0) SWT.error(SWT.ERROR_GRAPHIC_DISPOSED);", "+\tif (handle == 0) SWT.error(SWT.ERROR_GRAPHIC_DISPOSED);", "-\tint[] offscreenGWorld = new int[1];", "-\tOS.NewGWorldFromPtr(offscreenGWorld, pixmap);", "-\tint xGC = offscreenGWorld[0];", "-\tif (xGC == 0) SWT.error (SWT.ERROR_NO_HANDLES);", "+\tint width = OS.CGImageGetWidth(handle);", "+\tint height = OS.CGImageGetHeight(handle);", "+\tint bpc = OS.CGImageGetBitsPerComponent(handle);", "+\tint bpr = OS.CGImageGetBytesPerRow(handle);", "+\tint colorspace = OS.CGImageGetColorSpace(handle);", "+\tint context = OS.CGBitmapContextCreate(this.data, width, height, bpc, bpr, colorspace, OS.kCGImageAlphaNoneSkipFirst);", "+\tif (context == 0) SWT.error(SWT.ERROR_NO_HANDLES);", "+\tOS.CGContextScaleCTM(context, 1, -1);", "+\tOS.CGContextTranslateCTM(context, 0, -height);", "-\t\tdata.image = this;", "+\t\tdata.background = device.COLOR_WHITE.handle;", "+\t\tdata.foreground = device.COLOR_BLACK.handle;", "-\t\tdata.foreground = 0x00000000;\t// black", "-\t\tdata.background = 0x00ffffff;\t// white", "+\t\tdata.image = this;", "-\treturn xGC;", "+\treturn context;"]}], "num": 36247}