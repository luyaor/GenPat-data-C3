{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "1007bc75990397fdad61e0833e4c02bf", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "43dc0a4fdee0c95276ce1174c0726701", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/carbon/org/eclipse/swt/dnd/TreeDragUnderEffect.java", "commitBeforeChange": "fd85a9c460077fc39bada144eb3bd6ee30bb8964", "commitAfterChange": "20a2ecced685010e93dcca4b5b21f24f84ebcb76", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": " void setDragUnderEffect(int effect, TreeItem item)", "signatureAfterChange": " void setDragUnderEffect(int effect, TreeItem item)", "diff": ["-\t\t\t\tTreeItem nextItem = null;", "-\t\t\t\tRectangle bounds = item.getBounds();", "-\t\t\t\tRectangle area = tree.getClientArea();", "-\t\t\t\tint headerHeight = tree.getHeaderHeight();", "-\t\t\t\tint itemHeight= tree.getItemHeight();", "-\t\t\t\tif (bounds.y + bounds.height < area.y + headerHeight + 2 * itemHeight) {", "-\t\t\t\t\t// scroll up", "-\t\t\t\t\tTreeItem childItem = item;", "-\t\t\t\t\tTreeItem parentItem = childItem.getParentItem();", "-\t\t\t\t\tint index = parentItem == null ? tree.indexOf(childItem) : parentItem.indexOf(childItem);", "-\t\t\t\t\tif (index == 0) {", "-\t\t\t\t\t\tnextItem = parentItem;", "-\t\t\t\t\t} else {", "-\t\t\t\t\t\tnextItem = parentItem == null ? tree.getItem(index-1) : parentItem.getItem(index-1);", "-\t\t\t\t\t\tint count = nextItem.getItemCount();", "-\t\t\t\t\t\twhile (count > 0 && nextItem.getExpanded()) {", "-\t\t\t\t\t\t\tnextItem = nextItem.getItem(count - 1);", "-\t\t\t\t\t\t\tcount = nextItem.getItemCount();", "-\t\t\t\t\t\t}", "-\t\t\t\t\t}", "-\t\t\t\t}", "-\t\t\t\tif (bounds.y > area.y + area.height - 2 * itemHeight) {", "-\t\t\t\t\t// scroll down", "-\t\t\t\t\tif (item.getExpanded()) {", "-\t\t\t\t\t\tnextItem = item.getItem(0);", "-\t\t\t\t\t} else {", "-\t\t\t\t\t\tTreeItem childItem = item;", "-\t\t\t\t\t\tTreeItem parentItem = childItem.getParentItem();", "-\t\t\t\t\t\tint index = parentItem == null ? tree.indexOf(childItem) : parentItem.indexOf(childItem);", "-\t\t\t\t\t\tint count = parentItem == null ? tree.getItemCount() : parentItem.getItemCount();", "-\t\t\t\t\t\twhile (nextItem == null) { ", "-\t\t\t\t\t\t\tif (index + 1 < count) {", "-\t\t\t\t\t\t\t\tnextItem = parentItem == null ? tree.getItem(index + 1) : parentItem.getItem(index + 1);", "-\t\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\t\tif (parentItem == null) {", "-\t\t\t\t\t\t\t\t\tnextItem = item;", "-\t\t\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\t\t\tchildItem = parentItem;", "-\t\t\t\t\t\t\t\t\tparentItem = childItem.getParentItem();", "-\t\t\t\t\t\t\t\t\tindex = parentItem == null ? tree.indexOf(childItem) : parentItem.indexOf(childItem);", "-\t\t\t\t\t\t\t\t\tcount = parentItem == null ? tree.getItemCount() : parentItem.getItemCount();", "-\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t}", "-\t\t\t\t\t}", "-\t\t\t\t}", "-\t\t\t\tif (nextItem != null) tree.showItem(nextItem);", "+\t\t\t\tscroll(item);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "30dd078c7ffc347718cafedb93cba98a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/carbon/org/eclipse/swt/dnd/TreeDragUnderEffect.java", "commitBeforeChange": "bd8d9571ea050e4c23edda8436d67a1ef053b218", "commitAfterChange": "4894c17964a7684074639c1b3befc4d7c320b687", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": " void scroll(TreeItem item)", "signatureAfterChange": " TreeItem nextItem(TreeItem item)", "diff": ["-void scroll(TreeItem item) {", "-\tTreeItem nextItem = null;", "-\tRectangle bounds = item.getBounds();", "-\tRectangle area = tree.getClientArea();", "-\tint headerHeight = tree.getHeaderHeight();", "-\tint itemHeight= tree.getItemHeight();", "-\tif (bounds.y + bounds.height < area.y + headerHeight + 2 * itemHeight) {", "-\t\t// scroll up", "+TreeItem nextItem(TreeItem item) {", "+\tif (item == null) return null;", "+\tif (item.getExpanded()) {", "+\t\treturn item.getItem(0);", "+\t} else {", "-\t\tif (index == 0) {", "-\t\t\tnextItem = parentItem;", "-\t\t} else {", "-\t\t\tnextItem = parentItem == null ? tree.getItem(index-1) : parentItem.getItem(index-1);", "-\t\t\tint count = nextItem.getItemCount();", "-\t\t\twhile (count > 0 && nextItem.getExpanded()) {", "-\t\t\t\tnextItem = nextItem.getItem(count - 1);", "-\t\t\t\tcount = nextItem.getItemCount();", "-\t\t\t}", "-\t\t}", "-\t}", "-\tif (bounds.y > area.y + area.height - 2 * itemHeight) {", "-\t\t// scroll down", "-\t\tif (item.getExpanded()) {", "-\t\t\tnextItem = item.getItem(0);", "-\t\t} else {", "-\t\t\tTreeItem childItem = item;", "-\t\t\tTreeItem parentItem = childItem.getParentItem();", "-\t\t\tint index = parentItem == null ? tree.indexOf(childItem) : parentItem.indexOf(childItem);", "-\t\t\tint count = parentItem == null ? tree.getItemCount() : parentItem.getItemCount();", "-\t\t\twhile (nextItem == null) { ", "-\t\t\t\tif (index + 1 < count) {", "-\t\t\t\t\tnextItem = parentItem == null ? tree.getItem(index + 1) : parentItem.getItem(index + 1);", "+\t\tint count = parentItem == null ? tree.getItemCount() : parentItem.getItemCount();", "+\t\twhile (true) {", "+\t\t\tif (index + 1 < count) {", "+\t\t\t\treturn parentItem == null ? tree.getItem(index + 1) : parentItem.getItem(index + 1);", "+\t\t\t} else {", "+\t\t\t\tif (parentItem == null) {", "+\t\t\t\t\treturn null;", "-\t\t\t\t\tif (parentItem == null) {", "-\t\t\t\t\t\tnextItem = item;", "-\t\t\t\t\t} else {", "-\t\t\t\t\t\tchildItem = parentItem;", "-\t\t\t\t\t\tparentItem = childItem.getParentItem();", "-\t\t\t\t\t\tindex = parentItem == null ? tree.indexOf(childItem) : parentItem.indexOf(childItem);", "-\t\t\t\t\t\tcount = parentItem == null ? tree.getItemCount() : parentItem.getItemCount();", "-\t\t\t\t\t}", "+\t\t\t\t\tchildItem = parentItem;", "+\t\t\t\t\tparentItem = childItem.getParentItem();", "+\t\t\t\t\tindex = parentItem == null ? tree.indexOf(childItem) : parentItem.indexOf(childItem);", "+\t\t\t\t\tcount = parentItem == null ? tree.getItemCount() : parentItem.getItemCount();", "-\tif (nextItem != null) tree.showItem(nextItem);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5491b7bbf044715978e06afb34bdc5c5", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "70ad0effe5f094be7c9f0fc126e3f2ba49252b61", "commitAfterChange": "d04fb3f614d054ed3cf2600f4c59c394b9406469", "methodNumberBeforeChange": 91, "methodNumberAfterChange": 90, "signatureBeforeChange": "  \tprivate boolean handleContextClick(int cHandle, MacPoint globalPos, MacEvent me)", "signatureAfterChange": "  \tprivate void handleContextClick(Menu cm, MacPoint globalPos, MacEvent me)", "diff": ["-\tprivate boolean handleContextClick(int cHandle, MacPoint globalPos, MacEvent me) {", "-\t\tif (OS.IsShowContextualMenuClick(me.getData())) {", "-\t\t\tWidget wc= WidgetTable.get(cHandle);", "-\t\t\tif (wc instanceof Control) {", "-\t\t\t\tMenu cm= ((Control)wc).getMenu();", "-\t\t\t\tif (cm != null) {", "-\t\t\t\t\tshort[] menuId= new short[1];", "-\t\t\t\t\tshort[] index= new short[1];", "-\t\t\t\t\t", "-\t\t\t\t\tfInContextMenu= true;", "-\t\t\t\t\t", "-\t\t\t\t\tint status= OS.kNoErr;", "-\t\t\t\t\tif (true) {", "-\t\t\t\t\t\tint result= OS.PopUpMenuSelect(cm.handle, (short)globalPos.getY(), (short)globalPos.getX(), (short)1);", "-\t\t\t\t\t\tmenuId[0]= OS.HiWord(result);", "-\t\t\t\t\t\tindex[0]= OS.LoWord(result);", "-\t\t\t\t\t} else {", "-\t\t\t\t\t\t// AW: not ready for primetime", "-\t\t\t\t\t\tstatus= OS.ContextualMenuSelect(cm.handle, globalPos.getData(), menuId, index);", "-\t\t\t\t\t}", "+\tprivate void handleContextClick(Menu cm, MacPoint globalPos, MacEvent me) {", "+\t\t", "+\t\tshort menuId;", "+\t\tshort index;", "+\t\t", "+\t\ttry {", "+\t\t\tfInContextMenu= true;", "+\t\t\tif (true) {", "+\t\t\t\tint result= OS.PopUpMenuSelect(cm.handle, (short)globalPos.getY(), (short)globalPos.getX(), (short)1);", "+\t\t\t\tif (result == OS.kNoErr)", "+\t\t\t\t\treturn;", "+\t\t\t\tmenuId= OS.HiWord(result);", "+\t\t\t\tindex= OS.LoWord(result);", "+\t\t\t} else {", "+\t\t\t\t// AW: not ready for primetime", "+\t\t\t\tshort[] id= new short[1];", "+\t\t\t\tshort[] ix= new short[1];", "+\t\t\t\tif (OS.ContextualMenuSelect(cm.handle, globalPos.getData(), id, ix) != OS.kNoErr)", "+\t\t\t\t\treturn;", "+\t\t\t\tmenuId= id[0];", "+\t\t\t\tindex= ix[0];", "+\t\t\t}", "+\t\t} finally {", "+\t\t\tfInContextMenu= false;", "+\t\t}", "-\t\t\t\t\tfInContextMenu= false;", "-", "-\t\t\t\t\tif (status == OS.kNoErr) {", "-\t\t\t\t\t\tif (menuId[0] != 0) {", "-\t\t\t\t\t\t\tMenu menu2= cm.getShell().findMenu(menuId[0]);", "-\t\t\t\t\t\t\tif (menu2 != null) {", "-\t\t\t\t\t\t\t\t//System.out.println(\"handleMenu: \" + index[0]);", "-\t\t\t\t\t\t\t\tmenu2.handleMenu(index[0]);", "-\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t}", "-\t\t\t\t\t\treturn true;", "-\t\t\t\t\t}", "-\t\t\t\t}", "+\t\tif (menuId != 0) {", "+\t\t\tMenu menu= cm.getShell().findMenu(menuId);", "+\t\t\tif (menu != null) {", "+\t\t\t\t//System.out.println(\"handleMenu: \" + index);", "+\t\t\t\tmenu.handleMenu(index);", "-\t\treturn false;"]}], "num": 59855}