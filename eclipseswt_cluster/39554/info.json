{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "1d2beb5ff8772876af08249f9b184ad6", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "80a5d9e0bb770e8079d8f63bc5922a99", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Printing/gtk/org/eclipse/swt/printing/Printer.java", "commitBeforeChange": "ac473adfcb9983f414d3da15b8b15f56fca50498", "commitAfterChange": "7171ce75440e1c2f381de2d9486e536f525ae21d", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 28, "signatureBeforeChange": " public Rectangle computeTrim(int x, int y, int width, int height)", "signatureAfterChange": " public Rectangle computeTrim(int x, int y, int width, int height)", "diff": ["-\treturn new Rectangle(0,0,0,0);", "+\tcheckDevice();", "+\t//TODO: We are supposed to return this in pixels, but GTK_UNIT_PIXELS is currently not implemented (gtk bug 346245)", "+\tdouble printWidth = OS.gtk_page_setup_get_page_width(pageSetup, OS.GTK_UNIT_POINTS);", "+\tdouble printHeight = OS.gtk_page_setup_get_page_height(pageSetup, OS.GTK_UNIT_POINTS);", "+\tdouble paperWidth = OS.gtk_page_setup_get_paper_width (pageSetup, OS.GTK_UNIT_POINTS);", "+\tdouble paperHeight = OS.gtk_page_setup_get_paper_height (pageSetup, OS.GTK_UNIT_POINTS);", "+\tdouble printX = -OS.gtk_page_setup_get_left_margin(pageSetup, OS.GTK_UNIT_POINTS);", "+\tdouble printY = -OS.gtk_page_setup_get_top_margin(pageSetup, OS.GTK_UNIT_POINTS);", "+\tdouble hTrim = paperWidth - printWidth;", "+\tdouble vTrim = paperHeight - printHeight;", "+\treturn new Rectangle(x + (int)printX, y + (int)printY, width + (int)hTrim, height + (int)vTrim);", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f7b62619e08f8fa46c43473a7e6e7240", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Printing/gtk/org/eclipse/swt/printing/Printer.java", "commitBeforeChange": "ce69b2880832d86c0b304b2378b4131bbb54c4fa", "commitAfterChange": "cc65e22d5c0c66bbe589f586cbf6f1277adb4a12", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": " public int internal_new_GC(GCData data)", "signatureAfterChange": " public int internal_new_GC(GCData data)", "diff": ["-\t\t//TODO: We are supposed to return this in pixels, but GTK_UNIT_PIXELS is currently not implemented (gtk bug 346245)", "-\t\tdata.width = (int)OS.gtk_page_setup_get_paper_width (pageSetup, OS.GTK_UNIT_POINTS);", "-\t\tdata.height = (int)OS.gtk_page_setup_get_paper_height (pageSetup, OS.GTK_UNIT_POINTS);", "+\t\tPoint dpi = getDPI(), screenDPI = getIndependentDPI();", "+\t\tdata.width = (int)(OS.gtk_page_setup_get_paper_width (pageSetup, OS.GTK_UNIT_POINTS) * dpi.x / screenDPI.x);", "+\t\tdata.height = (int)(OS.gtk_page_setup_get_paper_height (pageSetup, OS.GTK_UNIT_POINTS) * dpi.y / screenDPI.y);", "+\t\tCairo.cairo_identity_matrix(cairo);", "+\t\tdouble printX = OS.gtk_page_setup_get_left_margin(pageSetup, OS.GTK_UNIT_POINTS);", "+\t\tdouble printY = OS.gtk_page_setup_get_top_margin(pageSetup, OS.GTK_UNIT_POINTS);", "+\t\tCairo.cairo_translate(cairo, printX, printY);", "+\t\tCairo.cairo_scale(cairo, screenDPI.x / (float)dpi.x, screenDPI.y / (float)dpi.y);"]}], "num": 39554}