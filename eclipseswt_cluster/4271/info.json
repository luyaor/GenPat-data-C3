{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "57425e0cf15c85ec7a655344556dfe6f", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "78bf7d8cfbb3b030d29aa075e48040db", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Composite.java", "commitBeforeChange": "3c8cfdbbd754248da346ff43d9532ef978c8355d", "commitAfterChange": "272b7e6aa07980126e2a1fb1fbd02a4a8d5decd1", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "  void drawBackground (GC gc, int x, int y, int width, int height)", "signatureAfterChange": "  void drawBackground (GC gc, int x, int y, int width, int height)", "diff": ["-\tint /*long*/ gdkGC = gc.handle;", "-\tGdkGCValues values = new GdkGCValues ();", "-\tOS.gdk_gc_get_values (gdkGC, values);", "-\tif (control == null) control = this;", "-\tif (control.backgroundImage != null) {", "-\t\tPoint pt = display.map (this, control, 0, 0);", "-\t\tOS.gdk_gc_set_fill (gdkGC, OS.GDK_TILED);", "-\t\tOS.gdk_gc_set_ts_origin (gdkGC, -pt.x, -pt.y);", "-\t\tOS.gdk_gc_set_tile (gdkGC, control.backgroundImage.pixmap);", "-\t\tgc.fillRectangle (x, y, width, height);", "-\t\tOS.gdk_gc_set_fill (gdkGC, values.fill);", "-\t\tOS.gdk_gc_set_ts_origin (gdkGC, values.ts_x_origin, values.ts_y_origin);", "+\tif (control != null) {", "+\t\tint /*long*/ gdkGC = gc.handle;", "+\t\tGdkGCValues values = new GdkGCValues ();", "+\t\tOS.gdk_gc_get_values (gdkGC, values);", "+\t\tif (control.backgroundImage != null) {", "+\t\t\tPoint pt = display.map (this, control, 0, 0);", "+\t\t\tOS.gdk_gc_set_fill (gdkGC, OS.GDK_TILED);", "+\t\t\tOS.gdk_gc_set_ts_origin (gdkGC, -pt.x, -pt.y);", "+\t\t\tOS.gdk_gc_set_tile (gdkGC, control.backgroundImage.pixmap);", "+\t\t\tgc.fillRectangle (x, y, width, height);", "+\t\t\tOS.gdk_gc_set_fill (gdkGC, values.fill);", "+\t\t\tOS.gdk_gc_set_ts_origin (gdkGC, values.ts_x_origin, values.ts_y_origin);", "+\t\t} else {", "+\t\t\tgc.setBackground (control.getBackground ());", "+\t\t\tgc.fillRectangle (x, y, width, height);", "+\t\t\tGdkColor color = new GdkColor ();", "+\t\t\tcolor.pixel = values.background_pixel;", "+\t\t\tOS.gdk_gc_set_background (gdkGC, color);", "+\t\t}", "-\t\tgc.setBackground (control.getBackground ());", "-\t\tGdkColor color = new GdkColor ();", "-\t\tcolor.pixel = values.background_pixel;", "-\t\tOS.gdk_gc_set_background (gdkGC, color);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c108d6766180bc53912291bf7df9b5eb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Composite.java", "commitBeforeChange": "200eb7eac44cd3abd294d522e4db6be35dbe2d1e", "commitAfterChange": "4fb41486046e62826d702c5ec58e6cd48232783a", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "  void drawBackground (GC gc, int x, int y, int width, int height)", "signatureAfterChange": "  void drawBackground (GC gc, int x, int y, int width, int height)", "diff": ["-\t\tint /*long*/ gdkGC = gc.handle;", "-\t\tGdkGCValues values = new GdkGCValues ();", "-\t\tOS.gdk_gc_get_values (gdkGC, values);", "-\t\tif (control.backgroundImage != null) {", "-\t\t\tPoint pt = display.map (this, control, 0, 0);", "-\t\t\tOS.gdk_gc_set_fill (gdkGC, OS.GDK_TILED);", "-\t\t\tOS.gdk_gc_set_ts_origin (gdkGC, -pt.x, -pt.y);", "-\t\t\tOS.gdk_gc_set_tile (gdkGC, control.backgroundImage.pixmap);", "-\t\t\tgc.fillRectangle (x, y, width, height);", "-\t\t\tOS.gdk_gc_set_fill (gdkGC, values.fill);", "-\t\t\tOS.gdk_gc_set_ts_origin (gdkGC, values.ts_x_origin, values.ts_y_origin);", "+\t\tGCData data = gc.getGCData ();", "+\t\tint /*long*/ cairo = data.cairo;", "+\t\tif (cairo != 0) {", "+\t\t\tCairo.cairo_save (cairo);", "+\t\t\tif (control.backgroundImage != null) {", "+\t\t\t\tPoint pt = display.map (this, control, 0, 0);", "+\t\t\t\tCairo.cairo_translate (cairo, -pt.x, -pt.y);", "+\t\t\t\tx += pt.x;", "+\t\t\t\ty += pt.y;", "+\t\t\t\tint /*long*/ xDisplay = OS.GDK_DISPLAY ();", "+\t\t\t\tint /*long*/ xVisual = OS.gdk_x11_visual_get_xvisual (OS.gdk_visual_get_system());", "+\t\t\t\tint /*long*/ drawable = control.backgroundImage.pixmap;", "+\t\t\t\tint /*long*/ xDrawable = OS.GDK_PIXMAP_XID (drawable);\t\t\t\t", "+\t\t\t\tint [] w = new int [1], h = new int [1];", "+\t\t\t\tOS.gdk_drawable_get_size (drawable, w, h);", "+\t\t\t\tint /*long*/ surface = Cairo.cairo_xlib_surface_create (xDisplay, xDrawable, xVisual, w [0], h [0]);", "+\t\t\t\tif (surface == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\t\t\tint /*long*/ pattern = Cairo.cairo_pattern_create_for_surface (surface);", "+\t\t\t\tif (pattern == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\t\t\tCairo.cairo_pattern_set_extend (pattern, Cairo.CAIRO_EXTEND_REPEAT);", "+\t\t\t\tCairo.cairo_set_source (cairo, pattern);", "+\t\t\t\tCairo.cairo_surface_destroy (surface);", "+\t\t\t\tCairo.cairo_pattern_destroy (pattern);", "+\t\t\t} else {", "+\t\t\t\tGdkColor color = control.getBackgroundColor ();", "+\t\t\t\tCairo.cairo_set_source_rgba (cairo, (color.red & 0xFFFF) / (float)0xFFFF, (color.green & 0xFFFF) / (float)0xFFFF, (color.blue & 0xFFFF) / (float)0xFFFF, data.alpha / (float)0xFF);", "+\t\t\t}\t\t\t", "+\t\t\tCairo.cairo_rectangle (cairo, x, y, width, height);", "+\t\t\tCairo.cairo_fill (cairo);", "+\t\t\tCairo.cairo_restore (cairo);", "-\t\t\tgc.setBackground (control.getBackground ());", "-\t\t\tgc.fillRectangle (x, y, width, height);", "-\t\t\tGdkColor color = new GdkColor ();", "-\t\t\tcolor.pixel = values.background_pixel;", "-\t\t\tOS.gdk_gc_set_background (gdkGC, color);", "+\t\t\tint /*long*/ gdkGC = gc.handle;", "+\t\t\tGdkGCValues values = new GdkGCValues ();", "+\t\t\tOS.gdk_gc_get_values (gdkGC, values);", "+\t\t\tif (control.backgroundImage != null) {", "+\t\t\t\tPoint pt = display.map (this, control, 0, 0);", "+\t\t\t\tOS.gdk_gc_set_fill (gdkGC, OS.GDK_TILED);", "+\t\t\t\tOS.gdk_gc_set_ts_origin (gdkGC, -pt.x, -pt.y);", "+\t\t\t\tOS.gdk_gc_set_tile (gdkGC, control.backgroundImage.pixmap);", "+\t\t\t\tOS.gdk_draw_rectangle (data.drawable, gdkGC, 1, x, y, width, height);", "+\t\t\t\tOS.gdk_gc_set_fill (gdkGC, values.fill);", "+\t\t\t\tOS.gdk_gc_set_ts_origin (gdkGC, values.ts_x_origin, values.ts_y_origin);", "+\t\t\t} else {", "+\t\t\t\tGdkColor color = control.getBackgroundColor ();", "+\t\t\t\tOS.gdk_gc_set_foreground (gdkGC, color);", "+\t\t\t\tOS.gdk_draw_rectangle (data.drawable, gdkGC, 1, x, y, width, height);", "+\t\t\t\tcolor.pixel = values.foreground_pixel;", "+\t\t\t\tOS.gdk_gc_set_foreground (gdkGC, color);", "+\t\t\t}"]}], "num": 4271}