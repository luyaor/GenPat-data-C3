{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b001aee3ef1dccd17f3047b57ec5024b", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a0631a50afddab795627055cff70d33a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "69bc14267fe19febde184663a8df2b4c6b3cf10c", "commitAfterChange": "79158ffb988037d9b3e74646df484646a9027ed7", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "  void hookEvents ()", "signatureAfterChange": "  void hookEvents ()", "diff": ["-\tsignal_connect (eventHandle, \"popup_menu\", SWT.Show, 2);", "-\tsignal_connect (eventHandle, \"button_press_event\", SWT.MouseDown, 3);", "-\tsignal_connect (eventHandle, \"button_release_event\", SWT.MouseUp, 3);", "-\tsignal_connect (eventHandle, \"key_press_event\", SWT.KeyDown, 3);", "-\tsignal_connect (eventHandle, \"key_release_event\", SWT.KeyUp, 3);", "-\tsignal_connect (eventHandle, \"motion_notify_event\", SWT.MouseMove, 3);", "-\tsignal_connect_after (eventHandle, \"button_press_event\", -SWT.MouseDown, 3);", "-\tsignal_connect_after (eventHandle, \"button_release_event\", -SWT.MouseUp, 3);", "-\tsignal_connect_after (eventHandle, \"key_press_event\", -SWT.KeyDown, 3);", "-\tsignal_connect_after (eventHandle, \"key_release_event\", -SWT.KeyUp, 3);", "-\tsignal_connect_after (eventHandle, \"motion_notify_event\", -SWT.MouseMove, 3);", "-\tsignal_connect_after (eventHandle, \"enter_notify_event\", SWT.MouseEnter, 3);", "-\tsignal_connect_after (eventHandle, \"leave_notify_event\", SWT.MouseExit, 3);", "-\tsignal_connect_after (eventHandle, \"focus_in_event\", SWT.FocusIn, 3);", "-\tsignal_connect_after (eventHandle, \"focus_out_event\", SWT.FocusOut, 3);", "-\tsignal_connect_after (eventHandle, \"expose_event\", SWT.Paint, 3);", "+\tDisplay display = getDisplay ();", "+\tint windowProc2 = display.windowProc2;", "+\tint windowProc3 = display.windowProc3;", "+\tOS.gtk_signal_connect (eventHandle, OS.popup_menu, windowProc2, SWT.Show);", "+\tOS.gtk_signal_connect (eventHandle, OS.button_press_event, windowProc3, SWT.MouseDown);", "+\tOS.gtk_signal_connect (eventHandle, OS.button_release_event, windowProc3, SWT.MouseUp);", "+\tOS.gtk_signal_connect (eventHandle, OS.key_press_event, windowProc3, SWT.KeyDown);", "+\tOS.gtk_signal_connect (eventHandle, OS.key_release_event, windowProc3, SWT.KeyUp);", "+\tOS.gtk_signal_connect (eventHandle, OS.motion_notify_event, windowProc3, SWT.MouseMove);", "+\tOS.gtk_signal_connect_after (eventHandle, OS.button_press_event, windowProc3, -SWT.MouseDown);", "+\tOS.gtk_signal_connect_after (eventHandle, OS.button_release_event, windowProc3, -SWT.MouseUp);", "+\tOS.gtk_signal_connect_after (eventHandle, OS.key_press_event, windowProc3, -SWT.KeyDown);", "+\tOS.gtk_signal_connect_after (eventHandle, OS.key_release_event, windowProc3, -SWT.KeyUp);", "+\tOS.gtk_signal_connect_after (eventHandle, OS.motion_notify_event, windowProc3, -SWT.MouseMove);", "+\tOS.gtk_signal_connect_after (eventHandle, OS.enter_notify_event, windowProc3, SWT.MouseEnter);", "+\tOS.gtk_signal_connect_after (eventHandle, OS.leave_notify_event, windowProc3, SWT.MouseExit);", "+\tOS.gtk_signal_connect_after (eventHandle, OS.focus_in_event, windowProc3, SWT.FocusIn);", "+\tOS.gtk_signal_connect_after (eventHandle, OS.focus_out_event, windowProc3, SWT.FocusOut);", "+\tOS.gtk_signal_connect_after (eventHandle, OS.expose_event, windowProc3, SWT.Paint);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0b5aaf067b2ad85c508b3e6aba9327f4", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "4def951fc85e643080de398e85c25cb30ec79f91", "commitAfterChange": "ea10febb5ae3b0d1b19a13c89b6c7b27ab367f3a", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "  void hookEvents ()", "signatureAfterChange": "  void hookEvents ()", "diff": ["+\t//TO DO - get rid of enter/exit for mouse crossing border", "-\tOS.g_signal_connect (eventHandle, OS.popup_menu, windowProc2, SWT.Show);", "-\tOS.g_signal_connect (eventHandle, OS.show_help, windowProc3, SWT.Help);", "-\tOS.g_signal_connect (eventHandle, OS.button_press_event, windowProc3, SWT.MouseDown);", "-\tOS.g_signal_connect (eventHandle, OS.button_release_event, windowProc3, SWT.MouseUp);", "-\tOS.g_signal_connect (eventHandle, OS.key_press_event, windowProc3, SWT.KeyDown);", "-\tOS.g_signal_connect (eventHandle, OS.key_release_event, windowProc3, SWT.KeyUp);", "-\tOS.g_signal_connect (eventHandle, OS.motion_notify_event, windowProc3, SWT.MouseMove);", "-\tOS.g_signal_connect (eventHandle, OS.focus_in_event, windowProc3, SWT.FocusIn);", "-\tOS.g_signal_connect (eventHandle, OS.focus_out_event, windowProc3, SWT.FocusOut);", "-\tOS.g_signal_connect_after (eventHandle, OS.button_press_event, windowProc3, -SWT.MouseDown);", "-\tOS.g_signal_connect_after (eventHandle, OS.button_release_event, windowProc3, -SWT.MouseUp);", "-\tOS.g_signal_connect_after (eventHandle, OS.motion_notify_event, windowProc3, -SWT.MouseMove);", "-\tOS.g_signal_connect_after (eventHandle, OS.enter_notify_event, windowProc3, SWT.MouseEnter);", "-\tOS.g_signal_connect_after (eventHandle, OS.leave_notify_event, windowProc3, SWT.MouseExit);", "-\tOS.g_signal_connect_after (eventHandle, OS.expose_event, windowProc3, SWT.Paint);", "+\tOS.g_signal_connect (eventHandle, OS.popup_menu, windowProc2, POPUP_MENU);", "+\tOS.g_signal_connect (eventHandle, OS.show_help, windowProc3, SHOW_HELP);", "+\tOS.g_signal_connect (eventHandle, OS.button_press_event, windowProc3, BUTTON_PRESS_EVENT);", "+\tOS.g_signal_connect (eventHandle, OS.button_release_event, windowProc3, BUTTON_RELEASE_EVENT);", "+\tOS.g_signal_connect (eventHandle, OS.motion_notify_event, windowProc3, MOTION_NOTIFY_EVENT);", "+\tOS.g_signal_connect (eventHandle, OS.key_press_event, windowProc3, KEY_PRESS_EVENT);", "+\tOS.g_signal_connect (eventHandle, OS.key_release_event, windowProc3, KEY_RELEASE_EVENT);", "+\tOS.g_signal_connect (eventHandle, OS.focus_in_event, windowProc3, FOCUS_IN_EVENT);", "+\tOS.g_signal_connect (eventHandle, OS.focus_out_event, windowProc3, FOCUS_OUT_EVENT);", "+\tOS.g_signal_connect_after (eventHandle, OS.enter_notify_event, windowProc3, ENTER_NOTIFY_EVENT);", "+\tOS.g_signal_connect_after (eventHandle, OS.leave_notify_event, windowProc3, LEAVE_NOTIFY_EVENT);", "+\tOS.g_signal_connect_after (eventHandle, OS.expose_event, windowProc3, EXPOSE_EVENT);", "+\t", "+\t/*", "+\t* Feature in GTK.  Events such as mouse move are propagate up", "+\t* the widget hierarchy and are seen by the parent.  This is the", "+\t* correct GTK behavior but not correct for SWT.  The fix is to", "+\t* hook a signal after and stop the propagation using a negative", "+\t* event number to distinguish this case.", "+\t*/", "+\tOS.g_signal_connect_after (eventHandle, OS.button_press_event, windowProc3, -BUTTON_PRESS_EVENT);", "+\tOS.g_signal_connect_after (eventHandle, OS.button_release_event, windowProc3, -BUTTON_RELEASE_EVENT);", "+\tOS.g_signal_connect_after (eventHandle, OS.motion_notify_event, windowProc3, -MOTION_NOTIFY_EVENT);", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "83e49e052b6faaf0895a95a5bc4fe846", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "e2e7896b3cf0e9c97f6038a8e9fe8cfb357377bf", "commitAfterChange": "d2e697ac12d333462fab7aa686c0fbe95379eed0", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "  void hookEvents ()", "signatureAfterChange": "  void hookEvents ()", "diff": ["-\tOS.gtk_signal_connect (eventHandle, OS.popup_menu, windowProc2, SWT.Show);", "-\tOS.gtk_signal_connect (eventHandle, OS.show_help, windowProc3, SWT.Help);", "-\tOS.gtk_signal_connect (eventHandle, OS.button_press_event, windowProc3, SWT.MouseDown);", "-\tOS.gtk_signal_connect (eventHandle, OS.button_release_event, windowProc3, SWT.MouseUp);", "-\tOS.gtk_signal_connect (eventHandle, OS.key_press_event, windowProc3, SWT.KeyDown);", "-\tOS.gtk_signal_connect (eventHandle, OS.key_release_event, windowProc3, SWT.KeyUp);", "-\tOS.gtk_signal_connect (eventHandle, OS.motion_notify_event, windowProc3, SWT.MouseMove);", "-\tOS.gtk_signal_connect (eventHandle, OS.focus_in_event, windowProc3, SWT.FocusIn);", "-\tOS.gtk_signal_connect (eventHandle, OS.focus_out_event, windowProc3, SWT.FocusOut);", "-\tOS.gtk_signal_connect_after (eventHandle, OS.button_press_event, windowProc3, -SWT.MouseDown);", "-\tOS.gtk_signal_connect_after (eventHandle, OS.button_release_event, windowProc3, -SWT.MouseUp);", "-\tOS.gtk_signal_connect_after (eventHandle, OS.motion_notify_event, windowProc3, -SWT.MouseMove);", "-\tOS.gtk_signal_connect_after (eventHandle, OS.enter_notify_event, windowProc3, SWT.MouseEnter);", "-\tOS.gtk_signal_connect_after (eventHandle, OS.leave_notify_event, windowProc3, SWT.MouseExit);", "-\tOS.gtk_signal_connect_after (eventHandle, OS.expose_event, windowProc3, SWT.Paint);", "+\tOS.g_signal_connect (eventHandle, OS.popup_menu, windowProc2, SWT.Show);", "+\tOS.g_signal_connect (eventHandle, OS.show_help, windowProc3, SWT.Help);", "+\tOS.g_signal_connect (eventHandle, OS.button_press_event, windowProc3, SWT.MouseDown);", "+\tOS.g_signal_connect (eventHandle, OS.button_release_event, windowProc3, SWT.MouseUp);", "+\tOS.g_signal_connect (eventHandle, OS.key_press_event, windowProc3, SWT.KeyDown);", "+\tOS.g_signal_connect (eventHandle, OS.key_release_event, windowProc3, SWT.KeyUp);", "+\tOS.g_signal_connect (eventHandle, OS.motion_notify_event, windowProc3, SWT.MouseMove);", "+\tOS.g_signal_connect (eventHandle, OS.focus_in_event, windowProc3, SWT.FocusIn);", "+\tOS.g_signal_connect (eventHandle, OS.focus_out_event, windowProc3, SWT.FocusOut);", "+\tOS.g_signal_connect_after (eventHandle, OS.button_press_event, windowProc3, -SWT.MouseDown);", "+\tOS.g_signal_connect_after (eventHandle, OS.button_release_event, windowProc3, -SWT.MouseUp);", "+\tOS.g_signal_connect_after (eventHandle, OS.motion_notify_event, windowProc3, -SWT.MouseMove);", "+\tOS.g_signal_connect_after (eventHandle, OS.enter_notify_event, windowProc3, SWT.MouseEnter);", "+\tOS.g_signal_connect_after (eventHandle, OS.leave_notify_event, windowProc3, SWT.MouseExit);", "+\tOS.g_signal_connect_after (eventHandle, OS.expose_event, windowProc3, SWT.Paint);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bc747fb5d79a9f5234cf8185b1a0825c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "9ade075934d06466df3892806ec1a57b1bbcd630", "commitAfterChange": "b6e17b5d4e6e6c4b2e2ee3aeeea4decdd00e9eee", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "  void hookEvents ()", "signatureAfterChange": "  void hookEvents ()", "diff": ["-\t//TODO - get rid of enter/exit for mouse crossing border", "-\tint eventHandle = eventHandle ();", "-\tint mask =", "-\t\tOS.GDK_EXPOSURE_MASK | OS.GDK_POINTER_MOTION_MASK |", "-\t\tOS.GDK_BUTTON_PRESS_MASK | OS.GDK_BUTTON_RELEASE_MASK | ", "-\t\tOS.GDK_ENTER_NOTIFY_MASK | OS.GDK_LEAVE_NOTIFY_MASK | ", "-\t\tOS.GDK_KEY_PRESS_MASK | OS.GDK_KEY_RELEASE_MASK |", "-\t\tOS.GDK_FOCUS_CHANGE_MASK;", "-\tOS.gtk_widget_add_events (eventHandle, mask);", "-\tOS.g_signal_connect (eventHandle, OS.popup_menu, windowProc2, POPUP_MENU);", "-\tOS.g_signal_connect_after (handle, OS.realize, windowProc2, REALIZE);", "-\tOS.g_signal_connect (eventHandle, OS.show_help, windowProc3, SHOW_HELP);", "+\t", "+\t/* Connect the keyboard signals */", "+\tint focusHandle = focusHandle ();", "+\tint focusMask = OS.GDK_KEY_PRESS_MASK | OS.GDK_KEY_RELEASE_MASK | OS.GDK_FOCUS_CHANGE_MASK;", "+\tOS.gtk_widget_add_events (focusHandle, focusMask);", "+\tOS.g_signal_connect (focusHandle, OS.popup_menu, windowProc2, POPUP_MENU);", "+\tOS.g_signal_connect (focusHandle, OS.show_help, windowProc3, SHOW_HELP);", "+\tOS.g_signal_connect (focusHandle, OS.key_press_event, windowProc3, KEY_PRESS_EVENT);", "+\tOS.g_signal_connect (focusHandle, OS.key_release_event, windowProc3, KEY_RELEASE_EVENT);", "+\tOS.g_signal_connect (focusHandle, OS.focus, windowProc3, FOCUS);", "+\tOS.g_signal_connect (focusHandle, OS.focus_in_event, windowProc3, FOCUS_IN_EVENT);", "+\tOS.g_signal_connect (focusHandle, OS.focus_out_event, windowProc3, FOCUS_OUT_EVENT);", "+", "+\t/* Connect the mouse signals */", "+\tint eventHandle = eventHandle ();", "+\tint eventMask = OS.GDK_POINTER_MOTION_MASK | OS.GDK_BUTTON_PRESS_MASK |", "+\t\tOS.GDK_BUTTON_RELEASE_MASK | OS.GDK_ENTER_NOTIFY_MASK |", "+\t\tOS.GDK_LEAVE_NOTIFY_MASK;", "+\tOS.gtk_widget_add_events (eventHandle, eventMask);", "-\tOS.g_signal_connect (eventHandle, OS.key_press_event, windowProc3, KEY_PRESS_EVENT);", "-\tOS.g_signal_connect (eventHandle, OS.key_release_event, windowProc3, KEY_RELEASE_EVENT);", "-\tOS.g_signal_connect (eventHandle, OS.focus, windowProc3, FOCUS);", "-\tOS.g_signal_connect (eventHandle, OS.focus_in_event, windowProc3, FOCUS_IN_EVENT);", "-\tOS.g_signal_connect (eventHandle, OS.focus_out_event, windowProc3, FOCUS_OUT_EVENT);", "-\tOS.g_signal_connect (eventHandle, OS.event_after, windowProc3, EVENT_AFTER);", "-\tOS.g_signal_connect_after (eventHandle, OS.expose_event, windowProc3, EXPOSE_EVENT);", "-\tint imHandle = imHandle ();", "-\tif (imHandle != 0) {", "-\t\tOS.g_signal_connect (handle, OS.unrealize, windowProc2, UNREALIZE);", "-\t\tOS.g_signal_connect (imHandle, OS.commit, windowProc3, COMMIT);", "-\t\tOS.g_signal_connect (imHandle, OS.preedit_changed, windowProc2, PREEDIT_CHANGED);", "-\t}", "+", "+\t/* Connect the event_after signal for both key and mouse */", "+\tOS.g_signal_connect (eventHandle, OS.event_after, windowProc3, EVENT_AFTER);", "+\tif (focusHandle != eventHandle) {", "+\t\tOS.g_signal_connect (focusHandle, OS.event_after, windowProc3, EVENT_AFTER);", "+\t}", "+\t", "+\t/* Connect the paint signal */", "+\tint paintHandle = paintHandle ();", "+\tint paintMask = OS.GDK_EXPOSURE_MASK;", "+\tOS.gtk_widget_add_events (paintHandle, paintMask);", "+\tOS.g_signal_connect_after (paintHandle, OS.expose_event, windowProc3, EXPOSE_EVENT);", "+", "+\t/* Connect the Input Method signals */", "+\tOS.g_signal_connect_after (handle, OS.realize, windowProc2, REALIZE);", "+\tOS.g_signal_connect (handle, OS.unrealize, windowProc2, UNREALIZE);", "+\tint imHandle = imHandle ();", "+\tif (imHandle != 0) {", "+\t\tOS.g_signal_connect (imHandle, OS.commit, windowProc3, COMMIT);", "+\t\tOS.g_signal_connect (imHandle, OS.preedit_changed, windowProc2, PREEDIT_CHANGED);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "049edf835c50d94ad26547ea9bfecf81", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "2858da600f5f99f8d4c9a570e0664f83562d96da", "commitAfterChange": "d8f94e04cbd8372d0ab87d048ebf19030c1ec57e", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 17, "signatureBeforeChange": "  void hookEvents ()", "signatureAfterChange": "  void hookEvents ()", "diff": ["-\t\tint handle = handles [i];", "-\t\tif (handle != 0) {", "-\t\t\tOS.gtk_widget_add_events (handle, mask);", "-\t\t\tOS.g_signal_connect (handle, OS.popup_menu, windowProc2, POPUP_MENU);", "-\t\t\tOS.g_signal_connect (handle, OS.button_press_event, windowProc3, BUTTON_PRESS_EVENT);", "-\t\t\tOS.g_signal_connect (handle, OS.button_release_event, windowProc3, BUTTON_RELEASE_EVENT);", "-\t\t\tOS.g_signal_connect (handle, OS.motion_notify_event, windowProc3, MOTION_NOTIFY_EVENT);", "-\t\t\tOS.g_signal_connect (handle, OS.key_press_event, windowProc3, KEY_PRESS_EVENT);", "-\t\t\tOS.g_signal_connect (handle, OS.key_release_event, windowProc3, KEY_RELEASE_EVENT);", "-\t\t\tOS.g_signal_connect (handle, OS.show_help, windowProc3, SHOW_HELP);", "-\t\t\tOS.g_signal_connect (handle, OS.focus_in_event, windowProc3, FOCUS_IN_EVENT);", "-\t\t\tOS.g_signal_connect (handle, OS.focus_out_event, windowProc3, FOCUS_OUT_EVENT);", "-\t\t\tOS.g_signal_connect (handle, OS.event_after, windowProc3, EVENT_AFTER);", "+\t\tint eventHandle = handles [i];", "+\t\tif (eventHandle != 0) {", "+\t\t\tOS.gtk_widget_add_events (eventHandle, mask);", "+\t\t\tOS.g_signal_connect (eventHandle, OS.popup_menu, windowProc2, POPUP_MENU);", "+\t\t\tOS.g_signal_connect (eventHandle, OS.button_press_event, windowProc3, BUTTON_PRESS_EVENT);", "+\t\t\tOS.g_signal_connect (eventHandle, OS.button_release_event, windowProc3, BUTTON_RELEASE_EVENT);", "+\t\t\tOS.g_signal_connect (eventHandle, OS.motion_notify_event, windowProc3, MOTION_NOTIFY_EVENT);", "+\t\t\tOS.g_signal_connect (eventHandle, OS.key_press_event, windowProc3, KEY_PRESS_EVENT);", "+\t\t\tOS.g_signal_connect (eventHandle, OS.key_release_event, windowProc3, KEY_RELEASE_EVENT);", "+\t\t\tOS.g_signal_connect (eventHandle, OS.show_help, windowProc3, SHOW_HELP);", "+\t\t\tOS.g_signal_connect (eventHandle, OS.focus, windowProc3, FOCUS);", "+\t\t\tOS.g_signal_connect (eventHandle, OS.focus_in_event, windowProc3, FOCUS_IN_EVENT);", "+\t\t\tOS.g_signal_connect (eventHandle, OS.focus_out_event, windowProc3, FOCUS_OUT_EVENT);", "+\t\t\tOS.g_signal_connect (eventHandle, OS.event_after, windowProc3, EVENT_AFTER);", "-\t\t\tOS.g_signal_connect_after (handle, OS.button_press_event, windowProc3, -BUTTON_PRESS_EVENT);", "-\t\t\tOS.g_signal_connect_after (handle, OS.button_release_event, windowProc3, -BUTTON_RELEASE_EVENT);", "-\t\t\tOS.g_signal_connect_after (handle, OS.motion_notify_event, windowProc3, -MOTION_NOTIFY_EVENT);", "+\t\t\tOS.g_signal_connect_after (eventHandle, OS.button_press_event, windowProc3, -BUTTON_PRESS_EVENT);", "+\t\t\tOS.g_signal_connect_after (eventHandle, OS.button_release_event, windowProc3, -BUTTON_RELEASE_EVENT);", "+\t\t\tOS.g_signal_connect_after (eventHandle, OS.motion_notify_event, windowProc3, -MOTION_NOTIFY_EVENT);"]}], "num": 28502}