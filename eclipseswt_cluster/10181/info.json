{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "86972d5bbeadbf94bbcefa23e8a00cf4", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9f2d18e8f7033fe0ece8b69831624c12", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/win32/org/eclipse/swt/dnd/Clipboard.java", "commitBeforeChange": "b91a30793e7e8c5606152cc812bcc01c1c2328b1", "commitAfterChange": "441ed9e06bf32a499ab28cffbd9de4abcf50c019", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 10, "signatureBeforeChange": " public void setContents(Object[] data, Transfer[] dataTypes)", "signatureAfterChange": " public void setContents(Object[] data, Transfer[] dataTypes, int clipboards)", "diff": ["+ */", "+public void setContents(Object[] data, Transfer[] dataTypes, int clipboards) {", "-\tif (data == null || dataTypes == null || data.length != dataTypes.length) {", "+\tif (data == null || dataTypes == null || data.length != dataTypes.length || data.length == 0) {", "-\t", "+\tfor (int i = 0; i < data.length; i++) {", "+\t\tif (data[i] == null || dataTypes[i] == null || !dataTypes[i].validate(data[i])) {", "+\t\t\tDND.error(SWT.ERROR_INVALID_ARGUMENT);", "+\t\t}", "+\t}", "+\tif ((clipboards & DND.CLIPBOARD) == 0) return;", "-", "-\tint result = COM.OleSetClipboard(this.iDataObject.getAddress());", "+\tint result = COM.OleSetClipboard(iDataObject.getAddress());", "-\t\ttry { Thread.sleep(50);} catch (Throwable t) {}", "+\t\ttry {Thread.sleep(50);} catch (Throwable t) {}", "-\t\tCOM.PeekMessage (msg, 0, 0, 0, OS.PM_NOREMOVE | OS.PM_NOYIELD);", "-\t\tresult = COM.OleSetClipboard(this.iDataObject.getAddress());", "+\t\tOS.PeekMessage(msg, 0, 0, 0, OS.PM_NOREMOVE | OS.PM_NOYIELD);", "+\t\tresult = COM.OleSetClipboard(iDataObject.getAddress());"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9edef3d2e9e43e9878e964b72f7d6540", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/photon/org/eclipse/swt/dnd/Clipboard.java", "commitBeforeChange": "e1a7246e7500618d457d414bc8b2570bd2714bb1", "commitAfterChange": "dec50027b24d6d3a09c4ad757638a85ff8c5fe52", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 10, "signatureBeforeChange": " public void setContents(Object[] data, Transfer[] dataTypes)", "signatureAfterChange": " public void setContents(Object[] data, Transfer[] dataTypes, int clipboards)", "diff": ["+ */", "+public void setContents(Object[] data, Transfer[] dataTypes, int clipboards) {", "-\tif (data == null || dataTypes == null || data.length != dataTypes.length) {", "+\tif (data == null || dataTypes == null || data.length != dataTypes.length || data.length == 0) {", "+\tfor (int i = 0; i < data.length; i++) {", "+\t\tif (data[i] == null || dataTypes[i] == null || !dataTypes[i].validate(data[i])) {", "+\t\t\tDND.error(SWT.ERROR_INVALID_ARGUMENT);", "+\t\t}", "+\t}", "+\tif ((clipboards & DND.CLIPBOARD) == 0) return;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "02d6026e72cdaa4d72b642bb5fb51875", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/carbon/org/eclipse/swt/dnd/Clipboard.java", "commitBeforeChange": "0a3250432c091984e54020b803ff60b72c89c419", "commitAfterChange": "6eee8cc76bf8bf747789f3f292824ad582cc9c24", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 10, "signatureBeforeChange": " public void setContents(Object[] data, Transfer[] dataTypes)", "signatureAfterChange": " public void setContents(Object[] data, Transfer[] dataTypes, int clipboards)", "diff": ["+ */", "+public void setContents(Object[] data, Transfer[] dataTypes, int clipboards) {", "-\tif (data == null || dataTypes == null || data.length != dataTypes.length) {", "+\tif (data == null || dataTypes == null || data.length != dataTypes.length || data.length == 0) {", "+\tfor (int i = 0; i < data.length; i++) {", "+\t\tif (data[i] == null || dataTypes[i] == null || !dataTypes[i].validate(data[i])) {", "+\t\t\tDND.error(SWT.ERROR_INVALID_ARGUMENT);", "+\t\t}", "+\t}", "+\tif ((clipboards & DND.CLIPBOARD) == 0) return;", "-\tint[] scrap = new int[1];", "-\tif (OS.GetCurrentScrap(scrap) != OS.noErr) {", "+\tscrap = 0;", "+\tint[] currentScrap = new int[1];", "+\tif (OS.GetCurrentScrap(currentScrap) != OS.noErr) {", "+\tscrap = currentScrap[0];", "-\t\t\tif (OS.PutScrapFlavor(scrap[0], transferData.type, 0, datum.length, datum) != OS.noErr){", "+\t\t\tif (OS.PutScrapFlavor(scrap, transferData.type, 0, datum.length, datum) != OS.noErr){"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9b0b1f03335bf7d7bd1f5134b2396b25", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/motif/org/eclipse/swt/dnd/Clipboard.java", "commitBeforeChange": "e8e496688365659f6f10cecb41db672d7b7c7717", "commitAfterChange": "c5a23ecaba2cdfd1fefa27b27aa4e1ff7bc8c317", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 10, "signatureBeforeChange": " public void setContents(Object[] data, Transfer[] dataTypes)", "signatureAfterChange": " public void setContents(Object[] data, Transfer[] dataTypes, int clipboards)", "diff": ["+ */", "+public void setContents(Object[] data, Transfer[] dataTypes, int clipboards) {", "-\tif (data == null || dataTypes == null || data.length != dataTypes.length) {", "+\tif (data == null || dataTypes == null || data.length != dataTypes.length || data.length == 0) {", "-", "+\tfor (int i = 0; i < data.length; i++) {", "+\t\tif (data[i] == null || dataTypes[i] == null || !dataTypes[i].validate(data[i])) {", "+\t\t\tDND.error(SWT.ERROR_INVALID_ARGUMENT);", "+\t\t}", "+\t}", "+\tif ((clipboards & DND.CLIPBOARD) == 0) return;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e2d8b20fbcf7ba387539ed22e9b3d0f1", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/gtk/org/eclipse/swt/dnd/Clipboard.java", "commitBeforeChange": "e8e496688365659f6f10cecb41db672d7b7c7717", "commitAfterChange": "c5a23ecaba2cdfd1fefa27b27aa4e1ff7bc8c317", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 10, "signatureBeforeChange": " public void setContents(Object[] data, Transfer[] dataTypes)", "signatureAfterChange": " public void setContents(Object[] data, Transfer[] dataTypes, int clipboards)", "diff": ["-\tcheckWidget();", "-\tif (data == null || dataTypes == null || data.length != dataTypes.length) {", "-\t\tDND.error(SWT.ERROR_INVALID_ARGUMENT);", "-\t}", "-\tif (dataTypes.length == 0) return;", "-\tClipboardProxy proxy = ClipboardProxy._getInstance(display);", "-\tif (!proxy.setData(data, dataTypes)) {", "-\t\tDND.error(DND.ERROR_CANNOT_SET_CLIPBOARD);", "-\t}", "+ */", "+public void setContents(Object[] data, Transfer[] dataTypes, int clipboards) {", "+\tcheckWidget();", "+\tif (data == null || dataTypes == null || data.length != dataTypes.length || data.length == 0) {", "+\t\tDND.error(SWT.ERROR_INVALID_ARGUMENT);", "+\t}", "+\tfor (int i = 0; i < data.length; i++) {", "+\t\tif (data[i] == null || dataTypes[i] == null || !dataTypes[i].validate(data[i])) {", "+\t\t\tDND.error(SWT.ERROR_INVALID_ARGUMENT);", "+\t\t}", "+\t}", "+\tClipboardProxy proxy = ClipboardProxy._getInstance(display);", "+\tif (!proxy.setData(data, dataTypes, clipboards)) {", "+\t\tDND.error(DND.ERROR_CANNOT_SET_CLIPBOARD);", "+\t}", "+\tproxy.activeClipboard = this;", "+}"]}], "num": 10181}