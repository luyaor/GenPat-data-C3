{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9e5c76bfbf0e74e4bc6d14b1d4144879", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3bc905992493db790092834554ee69f9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "8549b1db39ac8fd4bb7564c61e5b9a04b5efde6f", "commitAfterChange": "2b3120470b46968368044df3f94129d586bc41d5", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": "  void destroyItem (TableColumn column)", "signatureAfterChange": "  void destroyItem (TableColumn column)", "diff": ["-\tint hwndHeader =  OS.SendMessage (handle, OS.LVM_GETHEADER, 0, 0);", "-\tint count = OS.SendMessage (hwndHeader, OS.HDM_GETITEMCOUNT, 0, 0);", "+\tint hwndHeader = OS.SendMessage (handle, OS.LVM_GETHEADER, 0, 0);", "+\tint columnCount = OS.SendMessage (hwndHeader, OS.HDM_GETITEMCOUNT, 0, 0);", "-\twhile (index < count) {", "+\twhile (index < columnCount) {", "-\tif (index == count) return;", "-\t\tif (count > 1) {", "+\t\tif (columnCount > 1) {", "-\t\t\tLVITEM lvItem = new LVITEM ();", "-\t\t\tlvItem.mask = OS.LVIF_TEXT | OS.LVIF_IMAGE | OS.LVIF_STATE;", "-\t\t\tlvItem.pszText = pszText;", "-\t\t\tlvItem.cchTextMax = cchTextMax;", "-\t\t\tint itemCount = OS.SendMessage (handle, OS.LVM_GETITEMCOUNT, 0, 0);", "-\t\t\tfor (int i=0; i<itemCount; i++) {", "-\t\t\t\tlvItem.iItem = i;", "-\t\t\t\tlvItem.iSubItem = 1;", "-\t\t\t\tOS.SendMessage (handle, OS.LVM_GETITEM, 0, lvItem);", "-\t\t\t\tlvItem.iSubItem = 0;", "-\t\t\t\tOS.SendMessage (handle, OS.LVM_SETITEM, 0, lvItem);", "-\t\t\t\tTCHAR buffer = new TCHAR (getCodePage (), cchTextMax);", "-\t\t\t\tOS.MoveMemory (buffer, pszText, byteCount);", "-\t\t\t\titems [i].text = buffer.toString (0, buffer.strlen ());", "-\t\t\t\tif (imageList != null && lvItem.iImage != -1) {", "-\t\t\t\t\titems [i].image = imageList.get (lvItem.iImage);", "-\t\t\t\t}", "-\t\t\t}", "-\t\t\tOS.SendMessage (handle, OS.LVM_SETCOLUMNWIDTH, 0, OS.LVSCW_AUTOSIZE);", "+\t\t}", "+\t\tif ((parent.style & SWT.VIRTUAL) == 0) {", "+\t\t\tLVITEM lvItem = new LVITEM ();", "+\t\t\tlvItem.mask = OS.LVIF_TEXT | OS.LVIF_IMAGE;", "+\t\t\tlvItem.pszText = OS.LPSTR_TEXTCALLBACK;", "+\t\t\tlvItem.iImage = OS.I_IMAGECALLBACK;", "+\t\t\tint itemCount = OS.SendMessage (handle, OS.LVM_GETITEMCOUNT, 0, 0);", "+\t\t\tfor (int i=0; i<itemCount; i++) {", "+\t\t\t\tlvItem.iItem = i;", "+\t\t\t\tOS.SendMessage (handle, OS.LVM_SETITEM, 0, lvItem);", "+\t\t\t}", "-\tif (count > 1) {", "+\tif (columnCount > 1) {", "-\tSystem.arraycopy (columns, index + 1, columns, index, --count - index);", "-\tcolumns [count] = null;", "-\tif (customDraw && getColumnCount () != 0) {", "-\t\tint columnCount = OS.SendMessage (hwndHeader, OS.HDM_GETITEMCOUNT, 0, 0);", "-\t\tint itemCount = OS.SendMessage (handle, OS.LVM_GETITEMCOUNT, 0, 0);", "-\t\tfor (int i=0; i<itemCount; i++) {", "-\t\t\tif (items [i].cellBackground != null) {", "+\tSystem.arraycopy (columns, index + 1, columns, index, --columnCount - index);", "+\tcolumns [columnCount] = null;", "+\tint itemCount = OS.SendMessage (handle, OS.LVM_GETITEMCOUNT, 0, 0);", "+\tfor (int i=0; i<itemCount; i++) {", "+\t\tString [] strings = items [i].strings;", "+\t\tif (strings != null) {", "+\t\t\tif (columnCount == 0) {", "+\t\t\t\titems [i].strings = null;", "+\t\t\t} else {", "+\t\t\t\tif (index == 0) items [i].text = strings [1];", "+\t\t\t\tString [] temp = new String [columnCount];", "+\t\t\t\tSystem.arraycopy (strings, 0, temp, 0, index);", "+\t\t\t\tSystem.arraycopy (strings, index + 1, temp, index, columnCount - index);", "+\t\t\t\titems [i].strings = temp;", "+\t\t\t}", "+\t\t}", "+\t\tImage [] images = items [i].images;", "+\t\tif (images != null) {", "+\t\t\tif (columnCount == 0) {", "+\t\t\t\titems [i].images = null;", "+\t\t\t} else {", "+\t\t\t\tif (index == 0) items [i].image = images [1];", "+\t\t\t\tImage [] temp = new Image [columnCount];", "+\t\t\t\tSystem.arraycopy (images, 0, temp, 0, index);", "+\t\t\t\tSystem.arraycopy (images, index + 1, temp, index, columnCount - index);", "+\t\t\t\titems [i].images = temp;", "+\t\t\t}", "+\t\t}", "+\t\tif (items [i].cellBackground != null) {", "+\t\t\tif (columnCount == 0) {", "+\t\t\t\titems [i].cellBackground = null;", "+\t\t\t} else {", "-\t\t\tif (items [i].cellForeground != null) {", "+\t\t}", "+\t\tif (items [i].cellForeground != null) {", "+\t\t\tif (columnCount == 0) {", "+\t\t\t\titems [i].cellForeground = null;", "+\t\t\t} else {", "-\t\t\tif (items [i].cellFont != null) {", "+\t\t}", "+\t\tif (items [i].cellFont != null) {", "+\t\t\tif (columnCount == 0) {", "+\t\t\t\titems [i].cellFont = null;", "+\t\t\t} else {", "+\tif (columnCount == 0) setScrollWidth (null, true);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9667db693343585310aa8fb53f7ed0b3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "53d68389d874bf0612678cd48bcc79b21f414a1e", "commitAfterChange": "d3976c81101b5b8e71696348322de538640ebfdd", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "  void createItem (TableColumn column, int index)", "signatureAfterChange": "  void createItem (TableColumn column, int index)", "diff": ["-\tif (count != 0) {", "-\t\tint itemCount = OS.SendMessage (handle, OS.LVM_GETITEMCOUNT, 0, 0);", "-\t\tfor (int i=0; i<itemCount; i++) {", "-\t\t\tTableItem item = items [i];", "-\t\t\tif (item != null) {", "-\t\t\t\tString [] strings = item.strings;", "-\t\t\t\tif (strings != null) {", "-\t\t\t\t\tString [] temp = new String [columnCount];", "-\t\t\t\t\tSystem.arraycopy (strings, 0, temp, 0, index);", "-\t\t\t\t\tSystem.arraycopy (strings, index, temp, index+1, columnCount-index-1);", "-\t\t\t\t\ttemp [index] = \"\";", "-\t\t\t\t\titem.strings = temp;", "+\tint itemCount = OS.SendMessage (handle, OS.LVM_GETITEMCOUNT, 0, 0);", "+\tfor (int i=0; i<itemCount; i++) {", "+\t\tTableItem item = items [i];", "+\t\tif (item != null) {", "+\t\t\tString [] strings = item.strings;", "+\t\t\tif (strings != null) {", "+\t\t\t\tString [] temp = new String [columnCount];", "+\t\t\t\tSystem.arraycopy (strings, 0, temp, 0, index);", "+\t\t\t\tSystem.arraycopy (strings, index, temp, index+1, columnCount-index-1);", "+\t\t\t\titem.strings = temp;", "+\t\t\t}", "+\t\t\tImage [] images = item.images;", "+\t\t\tif (images != null) {", "+\t\t\t\tImage [] temp = new Image [columnCount];", "+\t\t\t\tSystem.arraycopy (images, 0, temp, 0, index);", "+\t\t\t\tSystem.arraycopy (images, index, temp, index+1, columnCount-index-1);", "+\t\t\t\titem.images = temp;", "+\t\t\t}", "+\t\t\tif (index == 0) {", "+\t\t\t\tif (count != 0) {", "+\t\t\t\t\tif (strings == null) {", "+\t\t\t\t\t\titem.strings = new String [columnCount];", "+\t\t\t\t\t\titem.strings [1] = item.text;", "+\t\t\t\t\t}", "+\t\t\t\t\titem.text = \"\";", "+\t\t\t\t\tif (images == null) {", "+\t\t\t\t\t\titem.images = new Image [columnCount];", "+\t\t\t\t\t\titem.images [1] = item.image;", "+\t\t\t\t\t}", "+\t\t\t\t\titem.image = null;", "-\t\t\t\tif (index == 0) item.text = \"\";", "-\t\t\t\tImage [] images = item.images;", "-\t\t\t\tif (images != null) {", "-\t\t\t\t\tImage [] temp = new Image [columnCount];", "-\t\t\t\t\tSystem.arraycopy (images, 0, temp, 0, index);", "-\t\t\t\t\tSystem.arraycopy (images, index, temp, index+1, columnCount-index-1);", "-\t\t\t\t\titem.images = temp;", "-\t\t\t\t}", "-\t\t\t\tif (index == 0) item.image = null;", "-\t\t\t\tif (item.cellBackground != null) {", "-\t\t\t\t\tint [] cellBackground = item.cellBackground;", "-\t\t\t\t\tint [] temp = new int [columnCount];", "-\t\t\t\t\tSystem.arraycopy (cellBackground, 0, temp, 0, index);", "-\t\t\t\t\tSystem.arraycopy (cellBackground, index, temp, index+1, columnCount-index-1);", "-\t\t\t\t\ttemp [index] = -1;", "-\t\t\t\t\titem.cellBackground = temp;", "-\t\t\t\t}", "-\t\t\t\tif (item.cellForeground != null) {", "-\t\t\t\t\tint [] cellForeground = item.cellForeground;", "-\t\t\t\t\tint [] temp = new int [columnCount];", "-\t\t\t\t\tSystem.arraycopy (cellForeground, 0, temp, 0, index);", "-\t\t\t\t\tSystem.arraycopy (cellForeground, index, temp, index+1, columnCount-index-1);", "-\t\t\t\t\ttemp [index] = -1;", "-\t\t\t\t\titem.cellForeground = temp;", "-\t\t\t\t}", "-\t\t\t\tif (item.cellFont != null) {", "-\t\t\t\t\tint [] cellFont = item.cellFont;", "-\t\t\t\t\tint [] temp = new int [columnCount];", "-\t\t\t\t\tSystem.arraycopy (cellFont, 0, temp, 0, index);", "-\t\t\t\t\tSystem.arraycopy (cellFont, index, temp, index+1, columnCount-index-1);", "-\t\t\t\t\ttemp [index] = -1;", "-\t\t\t\t\titem.cellFont = temp;", "-\t\t\t\t}", "+\t\t\t}", "+\t\t\tif (item.cellBackground != null) {", "+\t\t\t\tint [] cellBackground = item.cellBackground;", "+\t\t\t\tint [] temp = new int [columnCount];", "+\t\t\t\tSystem.arraycopy (cellBackground, 0, temp, 0, index);", "+\t\t\t\tSystem.arraycopy (cellBackground, index, temp, index+1, columnCount-index-1);", "+\t\t\t\ttemp [index] = -1;", "+\t\t\t\titem.cellBackground = temp;", "+\t\t\t}", "+\t\t\tif (item.cellForeground != null) {", "+\t\t\t\tint [] cellForeground = item.cellForeground;", "+\t\t\t\tint [] temp = new int [columnCount];", "+\t\t\t\tSystem.arraycopy (cellForeground, 0, temp, 0, index);", "+\t\t\t\tSystem.arraycopy (cellForeground, index, temp, index+1, columnCount-index-1);", "+\t\t\t\ttemp [index] = -1;", "+\t\t\t\titem.cellForeground = temp;", "+\t\t\t}", "+\t\t\tif (item.cellFont != null) {", "+\t\t\t\tint [] cellFont = item.cellFont;", "+\t\t\t\tint [] temp = new int [columnCount];", "+\t\t\t\tSystem.arraycopy (cellFont, 0, temp, 0, index);", "+\t\t\t\tSystem.arraycopy (cellFont, index, temp, index+1, columnCount-index-1);", "+\t\t\t\ttemp [index] = -1;", "+\t\t\t\titem.cellFont = temp;", "-\t\t\tint itemCount = OS.SendMessage (handle, OS.LVM_GETITEMCOUNT, 0, 0);"]}], "num": 33006}