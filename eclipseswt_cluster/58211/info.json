{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a53602532aad28dc9539824713d7b13c", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bea6003a200745d8e15461ae00c1abd3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "c62f1bd2a534c82fe49707e3aab2fa508782a68e", "commitAfterChange": "f25ddda61f232f0142319f523d52aa9a7a312133", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": " public int getLevel (int offset)", "signatureAfterChange": " public int getLevel (int offset)", "diff": ["-\tlength = segmentsText.length();", "-\toffset = translateOffset(offset);\t", "-\tint line;", "-\tfor (line=0; line<runs.length; line++) {", "-\t\tif (lineOffset[line + 1] > offset) break;", "-\t}", "-\tline = Math.min(line, runs.length - 1);", "-\tStyleItem[] lineRuns = runs[line];", "-\tfor (int i=0; i<lineRuns.length; i++) {", "-\t\tStyleItem run = lineRuns[i];", "-\t\tint end = run.start + run.length;", "-\t\tif (end == length) end++;", "-\t\tif (run.start <= offset && offset < end) {", "-\t\t\treturn run.analysis.s.uBidiLevel;", "+\toffset = translateOffset(offset);", "+\tfor (int i=1; i<allRuns.length; i++) {", "+\t\tif (allRuns[i].start > offset) {", "+\t\t\treturn allRuns[i - 1].analysis.s.uBidiLevel;", "-\treturn 0;", "+\treturn (orientation & SWT.RIGHT_TO_LEFT) != 0 ? 1 : 0;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bcdcc37e273515a04b0411be873095b5", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "74c0e792b346f85e2b9067f710416658485a9a3b", "commitAfterChange": "e188a1e4ca35b8a449353a5ac187e7a405693faf", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 20, "signatureBeforeChange": " public int getLineIndex(int offset)", "signatureAfterChange": " public int getLineIndex(int offset)", "diff": ["-\tcomputeRuns();", "-\tint length = text.length();", "-\tif (!(0 <= offset && offset <= length)) SWT.error(SWT.ERROR_INVALID_RANGE);", "-\toffset = translateOffset(offset);", "-\tfor (int line=0; line<lineOffsets.length - 1; line++) {", "-\t\tif (lineOffsets[line + 1] > offset) {", "-\t\t\treturn line;", "+\tNSAutoreleasePool pool = null;", "+\tif (!NSThread.isMainThread()) pool = (NSAutoreleasePool) new NSAutoreleasePool().alloc().init();", "+\ttry {", "+\t\tcomputeRuns();", "+\t\tint length = text.length();", "+\t\tif (!(0 <= offset && offset <= length)) SWT.error(SWT.ERROR_INVALID_RANGE);", "+\t\toffset = translateOffset(offset);", "+\t\tfor (int line=0; line<lineOffsets.length - 1; line++) {", "+\t\t\tif (lineOffsets[line + 1] > offset) {", "+\t\t\t\treturn line;", "+\t\t\t}", "+\t\treturn lineBounds.length - 1;", "+\t} finally {", "+\t\tif (pool != null) pool.release();", "-\treturn lineBounds.length - 1;"]}], "num": 58211}