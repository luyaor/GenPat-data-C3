{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e727cab57ae28236b9cdf50d72367034", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bebc29f2c25c48b83056826929ada625", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "62c32f10f7bbf9398df19b0e066439d5edf4f386", "commitAfterChange": "7cd005e45a7f6d29a760b4c409a19844013e99cf", "methodNumberBeforeChange": 34, "methodNumberAfterChange": 34, "signatureBeforeChange": " public int getOffset (int x, int y, int[] trailing)", "signatureAfterChange": " public int getOffset (int x, int y, int[] trailing)", "diff": ["-\tx -= getLineIndent(line);", "-\tif (x >= lineWidth[line]) x = lineWidth[line] - 1;", "-\tif (x < 0) x = 0;", "-\tint width = 0;", "-\tfor (int i = 0; i < lineRuns.length; i++) {", "-\t\tStyleItem run = lineRuns[i];", "-\t\tif (run.lineBreak && !run.softBreak) return untranslateOffset(run.start);", "-\t\tif (width + run.width > x) {", "-\t\t\tint xRun = x - width;", "+\tint lineIndent = getLineIndent(line);", "+\tif (x >= lineIndent + lineWidth[line]) x = lineIndent + lineWidth[line] - 1;", "+\tif (x < lineIndent) x = lineIndent;", "+\tint low = -1;", "+\tint high = lineRuns.length;", "+\twhile (high - low > 1) {", "+\t\tint index = ((high + low) / 2);", "+\t\tStyleItem run = lineRuns[index];", "+\t\tif (run.x > x) {", "+\t\t\thigh = index;", "+\t\t} else if (run.x + run.width < x) {", "+\t\t\tlow = index;", "+\t\t} else {", "+\t\t\tif (run.lineBreak && !run.softBreak) return untranslateOffset(run.start);", "+\t\t\tint xRun = x - run.x;", "-\t\t\t\tif (trailing != null) trailing[0] = x < (width + run.width / 2) ? 0 : 1;", "+\t\t\t\tif (trailing != null) trailing[0] = x < (run.x + run.width / 2) ? 0 : 1;", "-\t\twidth += run.width;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f6cb451f5d90873ee3bff58327ca57a0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "aad8ecbff6b21f1c3be77176ac706b610032dcc6", "commitAfterChange": "f7406acd19c008a6bbe8432c2bd63b1732730190", "methodNumberBeforeChange": 26, "methodNumberAfterChange": 26, "signatureBeforeChange": " public int getOffset (int x, int y, int[] trailing)", "signatureAfterChange": " public int getOffset (int x, int y, int[] trailing)", "diff": ["-\tStyleItem[] lineRuns = runs[line];\t", "-\tboolean isRTL = (orientation & SWT.RIGHT_TO_LEFT) != 0; ", "-\tif (x < 0) {", "-\t\tStyleItem firstRun = lineRuns[0];", "-\t\tif (firstRun.analysis.fRTL ^ isRTL) {", "-\t\t\tif (trailing != null) trailing[0] = 1;", "-\t\t\treturn untranslateOffset(firstRun.start + firstRun.length - 1);", "-\t\t} else {", "-\t\t\tif (trailing != null) trailing[0] = 0; ", "-\t\t\treturn untranslateOffset(firstRun.start);", "-\t\t}", "-\t}", "-\tif (x > lineWidth[line]) {", "-\t\tint index = lineRuns.length - 1;", "-\t\tif (line == lineCount - 1 && lineRuns.length > 1) index--;", "-\t\tStyleItem lastRun = lineRuns[index];", "-\t\tif (lastRun.analysis.fRTL ^ isRTL) {", "-\t\t\tif (trailing != null) trailing[0] = 0; ", "-\t\t\treturn untranslateOffset(lastRun.start);", "-\t\t} else {", "-\t\t\tif (trailing != null) trailing[0] = 1;", "-\t\t\treturn untranslateOffset(lastRun.start + lastRun.length - 1);", "-\t\t}", "-\t}\t", "+\tStyleItem[] lineRuns = runs[line];", "+\tif (x >= lineWidth[line]) x = lineWidth[line] - 1;", "+\tif (x < 0) x = 0;"]}], "num": 32569}