{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ed8f03111ad387e187d634dec3c2277b", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "68b4e7b5791ce920020ff1aa4c214ac2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/motif/org/eclipse/swt/browser/Browser.java", "commitBeforeChange": "3d8528dbda503461b66680e5763ac0766e62900b", "commitAfterChange": "87ebbed33ff66a3b90abc0019b4613a108b1994b", "methodNumberBeforeChange": 119, "methodNumberAfterChange": 119, "signatureBeforeChange": "    int OnStatusChange(int aWebProgress, int aRequest, int aStatus, int aMessage)", "signatureAfterChange": "    int OnStatusChange(int aWebProgress, int aRequest, int aStatus, int aMessage)", "diff": ["+\t/*", "+\t* Feature in Mozilla.  In Mozilla 1.7.5, navigating to an ", "+\t* HTTPS link without a user profile set causes a crash.", "+\t* Most requests for HTTPS pages are aborted in OnStartURIOpen.", "+\t* However, https page requests that do not initially specify", "+\t* https as their protocol will get past this check since they", "+\t* are resolved afterwards.  The workaround is to check the url", "+\t* whenever there is a status change, and to abort any https", "+\t* requests that are detected.", "+\t*/", "+\tnsIRequest request = new nsIRequest(aRequest);", "+\tint /*long*/ aName = XPCOM.nsEmbedCString_new();", "+\trequest.GetName(aName);", "+\tint length = XPCOM.nsEmbedCString_Length(aName);", "+\tint /*long*/ buffer = XPCOM.nsEmbedCString_get(aName);", "+\tbyte[] bytes = new byte[length];", "+\tXPCOM.memmove(bytes, buffer, length);", "+\tXPCOM.nsEmbedCString_delete(aName);", "+\tString value = new String(bytes);", "+\tif (value.startsWith(XPCOM.HTTPS_PROTOCOL)) {", "+\t\trequest.Cancel(XPCOM.NS_BINDING_ABORTED);", "+\t\treturn XPCOM.NS_OK;", "+\t}", "+", "-\tint length = XPCOM.strlen_PRUnichar(aMessage);", "+\tlength = XPCOM.strlen_PRUnichar(aMessage);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0ed6d4ee32059fed8954cee3e7cc50b7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/gtk/org/eclipse/swt/browser/Browser.java", "commitBeforeChange": "e93f2486223e63a821959269ba87104931e85961", "commitAfterChange": "ecb897396412f10f4d71a3c40a56bec4b1e117be", "methodNumberBeforeChange": 121, "methodNumberAfterChange": 121, "signatureBeforeChange": "    int OnStatusChange(int aWebProgress, int aRequest, int aStatus, int aMessage)", "signatureAfterChange": "    int OnStatusChange(int aWebProgress, int aRequest, int aStatus, int aMessage)", "diff": ["+\t/*", "+\t* Feature in Mozilla.  In Mozilla 1.7.5, navigating to an ", "+\t* HTTPS link without a user profile set causes a crash.", "+\t* Most requests for HTTPS pages are aborted in OnStartURIOpen.", "+\t* However, https page requests that do not initially specify", "+\t* https as their protocol will get past this check since they", "+\t* are resolved afterwards.  The workaround is to check the url", "+\t* whenever there is a status change, and to abort any https", "+\t* requests that are detected.", "+\t*/", "+\tnsIRequest request = new nsIRequest(aRequest);", "+\tint /*long*/ aName = XPCOM.nsEmbedCString_new();", "+\trequest.GetName(aName);", "+\tint length = XPCOM.nsEmbedCString_Length(aName);", "+\tint buffer = XPCOM.nsEmbedCString_get(aName);", "+\tbyte[] bytes = new byte[length];", "+\tXPCOM.memmove(bytes, buffer, length);", "+\tXPCOM.nsEmbedCString_delete(aName);", "+\tString value = new String(bytes);", "+\tif (value.startsWith(XPCOM.HTTPS_PROTOCOL)) {", "+\t\trequest.Cancel(XPCOM.NS_BINDING_ABORTED);", "+\t\treturn XPCOM.NS_OK;", "+\t}", "+", "-\t", "+", "-\tint length = XPCOM.strlen_PRUnichar(aMessage);", "+\tlength = XPCOM.strlen_PRUnichar(aMessage);"]}], "num": 46227}