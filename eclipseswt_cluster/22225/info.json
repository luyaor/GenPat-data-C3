{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e5cf0253a4445424360e48393b0fbc54", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f379cdcc74b7e911cb8189d8a8cf4b19", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/DirectoryDialog.java", "commitBeforeChange": "24afc87cb602db2d27627c2dd7cd871761d9fed7", "commitAfterChange": "4451ea47bf3285433bb2fdce9fc84543d1e914d3", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": " String openChooserDialog ()", "signatureAfterChange": " String openChooserDialog ()", "diff": ["-\t\tif (folder == 0) {", "-\t\t\tOS.gtk_widget_destroy (handle);", "-\t\t\treturn null;", "-\t\t}", "-\t\tint length = OS.strlen (folder);", "-\t\tbyte [] buffer = new byte [length];", "-\t\tOS.memmove (buffer, folder, length);", "+\t\tOS.gtk_widget_destroy (handle);", "+\t\tif (folder == 0) return null;", "+\t\tint /*long*/ utf8Ptr = OS.g_filename_to_utf8 (folder, -1, null, null, null);", "-\t\tanswer = new String (Converter.mbcsToWcs (null, buffer));", "+\t\tif (utf8Ptr == 0) return null;", "+\t\tint /*long*/ [] items_written = new int /*long*/ [1];", "+\t\tint /*long*/ utf16Ptr = OS.g_utf8_to_utf16 (utf8Ptr, -1, null, items_written, null);", "+\t\tOS.g_free (utf8Ptr);", "+\t\tif (utf16Ptr == 0) return null;", "+\t\tint clength = (int)/*64*/items_written [0];", "+\t\tchar [] chars = new char [clength];", "+\t\tOS.memmove (chars, utf16Ptr, clength * 2);", "+\t\tOS.g_free (utf16Ptr);", "+\t\tanswer = new String (chars);", "+\t\treturn answer;", "-\treturn answer;", "+\treturn null;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a6c51497a4c6e8a3f56f00098b6de9e6", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/DirectoryDialog.java", "commitBeforeChange": "c822b04b0a7f26d40530801191fdbf7015845292", "commitAfterChange": "a8570f4449089f9a9c3b96924a6752d262fb5602", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": " public String open ()", "signatureAfterChange": " public String open ()", "diff": ["-\tif (parent!=null) {\r", "-\t\tOS.gtk_window_set_transient_for(handle, parent.topHandle());\r", "+\tif (parent != null) {\r", "+\t\tOS.gtk_window_set_transient_for (handle, parent.topHandle ());\r", "-\t\tbyte [] filterBytes = Converter.wcsToMbcs (null, filterPath, true);\r", "-\t\tOS.gtk_file_selection_set_filename (handle, filterBytes);\r", "+\t\tint length = filterPath.length ();\r", "+\t\tchar [] buffer = new char [length + 1];\r", "+\t\tfilterPath.getChars (0, length, buffer, 0);\r", "+\t\tint utf8Ptr = OS.g_utf16_to_utf8 (buffer, -1, null, null, null);\r", "+\t\tint fileNamePtr = OS.g_filename_from_utf8 (utf8Ptr, -1, null, null, null);\r", "+\t\tOS.gtk_file_selection_set_filename (handle, fileNamePtr);\r", "+\t\tOS.g_free (utf8Ptr);\r", "+\t\tOS.g_free (fileNamePtr);\t\t\r", "-\tGtkFileSelection selection = new GtkFileSelection();\r", "-\tOS.memmove(selection, handle);\r", "+\tGtkFileSelection selection = new GtkFileSelection ();\r", "+\tOS.memmove (selection, handle);\r", "-\tint fileListParent = OS.gtk_widget_get_parent(selection.file_list);\r", "-\tOS.gtk_widget_hide(selection.file_list);\r", "-\tOS.gtk_widget_hide(fileListParent);\r", "-\tint response = OS.gtk_dialog_run(handle);\r", "+\tint fileListParent = OS.gtk_widget_get_parent (selection.file_list);\r", "+\tOS.gtk_widget_hide (selection.file_list);\r", "+\tOS.gtk_widget_hide (fileListParent);\r", "+\tint response = OS.gtk_dialog_run (handle);\r", "-\t\tint lpFilename = OS.gtk_file_selection_get_filename (handle);\r", "-\t\tint filenameLength = OS.strlen (lpFilename);\r", "-\t\tbyte [] filenameBytes = new byte [filenameLength];\r", "-\t\tOS.memmove (filenameBytes, lpFilename, filenameLength);\r", "-\t\tString osAnswer = new String( Converter.mbcsToWcs (null, filenameBytes) );\r", "-\t\tif (osAnswer!=null) {\r", "+\t\tint fileNamePtr = OS.gtk_file_selection_get_filename (handle);\r", "+\t\tint utf8Ptr = OS.g_filename_to_utf8 (fileNamePtr, -1, null, null, null);\r", "+\t\tint [] items_written = new int [1];\r", "+\t\tint utf16Ptr = OS.g_utf8_to_utf16 (utf8Ptr, -1, null, items_written, null);\r", "+\t\tint length = items_written [0];\r", "+\t\tchar [] buffer = new char [length];\r", "+\t\tOS.memmove (buffer, utf16Ptr, length * 2);\r", "+\t\tString osAnswer = new String (buffer);\r", "+\t\tOS.g_free (utf16Ptr);\r", "+\t\tOS.g_free (utf8Ptr);\r", "+\t\tif (osAnswer != null) {\r", "-\t\t\tint separatorIndex = answer.lastIndexOf(separator);\r", "-\t\t\tif (separatorIndex != answer.length() - 1) answer += separator;\r", "+\t\t\tint separatorIndex = answer.lastIndexOf (separator);\r", "+\t\t\tif (separatorIndex != answer.length () - 1) answer += separator;\r", "-\tOS.gtk_widget_destroy(handle);\r", "+\tOS.gtk_widget_destroy (handle);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "37a4b59c2ecf2b484f3587348d2eea2b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/FileDialog.java", "commitBeforeChange": "a8570f4449089f9a9c3b96924a6752d262fb5602", "commitAfterChange": "fc89446b1dc59fa44e0693c0ba93ac47914129f7", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": " public String open ()", "signatureAfterChange": " public String open ()", "diff": ["-\tif (parent!=null) {\r", "-\t\tOS.gtk_window_set_transient_for(handle, parent.topHandle());\r", "+\tif (parent != null) {\r", "+\t\tOS.gtk_window_set_transient_for (handle, parent.topHandle());\r", "-\tpreset();\r", "-\tint response = OS.gtk_dialog_run(handle);\r", "+\tpreset ();\r", "+\tint response = OS.gtk_dialog_run (handle);\r", "-\t\tint lpFilename = OS.gtk_file_selection_get_filename (handle);\r", "-\t\tint filenameLength = OS.strlen (lpFilename);\r", "-\t\tbyte [] filenameBytes = new byte [filenameLength];\r", "-\t\tOS.memmove (filenameBytes, lpFilename, filenameLength);\r", "-\t\tString osAnswer = new String( Converter.mbcsToWcs (null, filenameBytes) );\r", "-\t\tanswer = interpretOsAnswer(osAnswer);\r", "+\t\tint fileNamePtr = OS.gtk_file_selection_get_filename (handle);\r", "+\t\tint utf8Ptr = OS.g_filename_to_utf8 (fileNamePtr, -1, null, null, null);\r", "+\t\tint [] items_written = new int [1];\r", "+\t\tint utf16Ptr = OS.g_utf8_to_utf16 (utf8Ptr, -1, null, items_written, null);\r", "+\t\tint length = items_written [0];\r", "+\t\tchar [] buffer = new char [length];\r", "+\t\tOS.memmove (buffer, utf16Ptr, length * 2);\r", "+\t\tString osAnswer = new String (buffer);\r", "+\t\tOS.g_free (utf16Ptr);\r", "+\t\tOS.g_free (utf8Ptr);\r", "+\t\tanswer = interpretOsAnswer (osAnswer);\r", "-\tOS.gtk_widget_destroy(handle);\r", "+\tOS.gtk_widget_destroy (handle);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2f30ef30597cb8577772204412bc70d7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/DirectoryDialog.java", "commitBeforeChange": "7455548b79659d471207203a503d54741ace5d96", "commitAfterChange": "15cb660bb6a37d9672ae52c108a72d8358c240ab", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": " String openChooserDialog ()", "signatureAfterChange": " String openChooserDialog ()", "diff": ["-\t\tOS.gtk_widget_destroy (handle);", "-\t\tif (folder == 0) return null;", "-\t\tint /*long*/ utf8Ptr = OS.g_filename_to_utf8 (folder, -1, null, null, null);", "-\t\tOS.g_free (folder);", "-\t\tif (utf8Ptr == 0) return null;", "-\t\tint /*long*/ [] items_written = new int /*long*/ [1];", "-\t\tint /*long*/ utf16Ptr = OS.g_utf8_to_utf16 (utf8Ptr, -1, null, items_written, null);", "-\t\tOS.g_free (utf8Ptr);", "-\t\tif (utf16Ptr == 0) return null;", "-\t\tint clength = (int)/*64*/items_written [0];", "-\t\tchar [] chars = new char [clength];", "-\t\tOS.memmove (chars, utf16Ptr, clength * 2);", "-\t\tOS.g_free (utf16Ptr);", "-\t\tanswer = new String (chars);", "-\t\tfilterPath = answer;", "-\t\treturn answer;", "+\t\tif (folder != 0) {", "+\t\t\tint /*long*/ utf8Ptr = OS.g_filename_to_utf8 (folder, -1, null, null, null);", "+\t\t\tif (utf8Ptr != 0) {", "+\t\t\t\tint /*long*/ [] items_written = new int /*long*/ [1];", "+\t\t\t\tint /*long*/ utf16Ptr = OS.g_utf8_to_utf16 (utf8Ptr, -1, null, items_written, null);", "+\t\t\t\tif (utf16Ptr != 0) {", "+\t\t\t\t\tint clength = (int)/*64*/items_written [0];", "+\t\t\t\t\tchar [] chars = new char [clength];", "+\t\t\t\t\tOS.memmove (chars, utf16Ptr, clength * 2);", "+\t\t\t\t\tfilterPath = answer = new String (chars);", "+\t\t\t\t\tOS.g_free (utf16Ptr);", "+\t\t\t\t}", "+\t\t\t\tOS.g_free (utf8Ptr);", "+\t\t\t}", "+\t\t\tOS.g_free (folder);", "+\t\t}", "-\treturn null;", "+\treturn answer;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fa21e34731f926a418afaa8e502ce5fd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/DirectoryDialog.java", "commitBeforeChange": "9a3cfaf5abb5850555a1eaa222d6253c59a41bfa", "commitAfterChange": "ef99308454376741558f5c126ed26e1e2ef85341", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": " String openClassicDialog ()", "signatureAfterChange": " String openClassicDialog ()", "diff": ["-\t\tint /*long*/ [] items_written = new int /*long*/ [1];", "-\t\tint /*long*/ utf16Ptr = OS.g_utf8_to_utf16 (utf8Ptr, -1, null, items_written, null);", "-\t\tint length = (int)/*64*/items_written [0];", "-\t\tchar [] buffer = new char [length];", "-\t\tOS.memmove (buffer, utf16Ptr, length * 2);", "-\t\tString osAnswer = new String (buffer);", "-\t\tOS.g_free (utf16Ptr);", "-\t\tOS.g_free (utf8Ptr);", "-\t\tif (osAnswer != null) {", "-\t\t\t/* remove trailing separator, unless root directory */", "-\t\t\tif (!osAnswer.equals (SEPARATOR) && osAnswer.endsWith (SEPARATOR)) {", "-\t\t\t\tosAnswer = osAnswer.substring (0, osAnswer.length () - 1);", "+\t\tif (utf8Ptr != 0) {", "+\t\t\tint /*long*/ [] items_written = new int /*long*/ [1];", "+\t\t\tint /*long*/ utf16Ptr = OS.g_utf8_to_utf16 (utf8Ptr, -1, null, items_written, null);", "+\t\t\tif (utf16Ptr != 0) {", "+\t\t\t\tint length = (int)/*64*/items_written [0];", "+\t\t\t\tchar [] buffer = new char [length];", "+\t\t\t\tOS.memmove (buffer, utf16Ptr, length * 2);", "+\t\t\t\tString osAnswer = new String (buffer);", "+\t\t\t\tif (osAnswer != null) {", "+\t\t\t\t\t/* remove trailing separator, unless root directory */", "+\t\t\t\t\tif (!osAnswer.equals (SEPARATOR) && osAnswer.endsWith (SEPARATOR)) {", "+\t\t\t\t\t\tosAnswer = osAnswer.substring (0, osAnswer.length () - 1);", "+\t\t\t\t\t}", "+\t\t\t\t\tanswer = filterPath = osAnswer;", "+\t\t\t\t}", "+\t\t\t\tOS.g_free (utf16Ptr);", "-\t\t\tanswer = filterPath = osAnswer;", "+\t\t\tOS.g_free (utf8Ptr);"]}], "num": 22225}