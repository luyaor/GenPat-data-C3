{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9d93bc7990df86d75b35881ea3bea08a", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4729be1b4a5b4d19ad3acdd7fb736d67", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/cocoa/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "4edc576de20a88abac088ae701d29ce3e54ede4f", "commitAfterChange": "c2ec875b36ecf39df432358c14d183b7d7f45fe0", "methodNumberBeforeChange": 41, "methodNumberAfterChange": 42, "signatureBeforeChange": "  void runOpenPanelForFileButtonWithResultListener(int resultListener)", "signatureAfterChange": "  void webView_runOpenPanelForFileButtonWithResultListener(int sender, int resultListenerID)", "diff": ["-void runOpenPanelForFileButtonWithResultListener(int resultListener) {", "+void webView_runOpenPanelForFileButtonWithResultListener(int sender, int resultListenerID) {", "+\tWebOpenPanelResultListener resultListener = new WebOpenPanelResultListener(resultListenerID);", "-\t\tCocoa.objc_msgSend(resultListener, Cocoa.S_cancel);", "+\t\tresultListener.cancel();", "-\tint length = result.length();", "-\tchar[] buffer = new char[length];", "-\tresult.getChars(0, length, buffer, 0);", "-\tint filename = OS.CFStringCreateWithCharacters(0, buffer, length);", "-\tCocoa.objc_msgSend(resultListener, Cocoa.S_chooseFilename, filename);", "-\tOS.CFRelease(filename);", "+\tresultListener.chooseFilename(NSString.stringWith(result));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f5ec199e3d1acad2013a7895b4613f77", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/cocoa/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "4edc576de20a88abac088ae701d29ce3e54ede4f", "commitAfterChange": "c2ec875b36ecf39df432358c14d183b7d7f45fe0", "methodNumberBeforeChange": 53, "methodNumberAfterChange": 54, "signatureBeforeChange": "  void decideDestinationWithSuggestedFilename (int download, int filename)", "signatureAfterChange": "  void download_decideDestinationWithSuggestedFilename(int downloadId, int filename)", "diff": ["-void decideDestinationWithSuggestedFilename (int download, int filename) {", "-\tint length = OS.CFStringGetLength(filename);", "-\tchar[] buffer = new char[length];", "-\tCFRange range = new CFRange();", "-\trange.length = length;", "-\tOS.CFStringGetCharacters(filename, range, buffer);", "+void download_decideDestinationWithSuggestedFilename(int downloadId, int filename) {", "+\tNSString string = new NSString(filename);", "+\tchar[] buffer = new char[string.length()];", "+\tstring.getCharacters_(buffer);", "+\tNSURLDownload download = new NSURLDownload(downloadId);", "-\t\tCocoa.objc_msgSend(download, Cocoa.S_cancel);", "+\t\tdownload.cancel();", "-\tlength = path.length();", "-\tchar[] chars = new char[length];", "-\tpath.getChars(0, length, chars, 0);", "-\tint result = OS.CFStringCreateWithCharacters(0, chars, length);", "-\tCocoa.objc_msgSend(download, Cocoa.S_setDestinationAllowOverwrite, result, 1);", "-\tOS.CFRelease(result);", "+\tdownload.setDestination(NSString.stringWith(path), true);"]}], "num": 14340}