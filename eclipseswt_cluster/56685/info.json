{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "184a89f17e825d2995dccfbd8b7605cb", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a074c2f94ecff26c36cbe9bd6da696ef", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "examples/org.eclipse.swt.examples/org/eclipse/swt/examples/fileviewer/FileViewer.java", "commitBeforeChange": "fb8d980b4cd59472caba9675ffd0e65eaafdf1d2", "commitAfterChange": "136099e2fa4d4fbe2ef98dc28593ab1cbb6126ff", "methodNumberBeforeChange": 59, "methodNumberAfterChange": 61, "signatureBeforeChange": "\r \tboolean moveFileStructure(File oldFile, File newFile)", "signatureAfterChange": "\r \tboolean deleteFileStructure(File oldFile)", "diff": ["-\t */\r", "-\tboolean moveFileStructure(File oldFile, File newFile) {\r", "-\t\tif (oldFile == null || newFile == null) return false;\r", "-\t\tif (! oldFile.exists());\r", "-\t\tif (newFile.exists());\r", "-\t\tif (simulateOnly) {\r", "-\t\t\tSystem.out.println(getResourceString(\"simulate.MoveFromTo.text\",\r", "-\t\t\t\tnew Object[] { oldFile.getPath(), newFile.getPath() }));\r", "-\t\t\treturn true;\r", "-\t\t} else {\r", "-\t\t\treturn oldFile.renameTo(newFile);\r", "-\t\t}\r", "-\t}\r", "+\t */\r", "+\tboolean deleteFileStructure(File oldFile) {\r", "+\t\tif (oldFile == null) return false;\t\t\r", "+\t\tif (oldFile.isDirectory()) {\r", "+\t\t\t/*\r", "+\t\t\t * Delete a directory\r", "+\t\t\t */\r", "+\t\t\tFile[] subFiles = oldFile.listFiles();\r", "+\t\t\tif (subFiles != null) {\r", "+\t\t\t\tfor (int i = 0; i < subFiles.length; i++) {\r", "+\t\t\t\t\tFile oldSubFile = subFiles[i];\r", "+\t\t\t\t\tif (! deleteFileStructure(oldSubFile)) return false;\r", "+\t\t\t\t}\r", "+\t\t\t}\r", "+\t\t}\r", "+\t\tif (simulateOnly) {\r", "+\t\t\tSystem.out.println(getResourceString(\"simulate.Delete.text\",\r", "+\t\t\t\tnew Object[] { oldFile.getPath(), oldFile.getPath() }));\r", "+\t\t\treturn true;\r", "+\t\t} else {\r", "+\t\t\treturn oldFile.delete();\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "be1f8044688dee673bb49db35af6d7e9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "examples/org.eclipse.swt.examples/src/org/eclipse/swt/examples/fileviewer/FileViewer.java", "commitBeforeChange": "fb8d980b4cd59472caba9675ffd0e65eaafdf1d2", "commitAfterChange": "136099e2fa4d4fbe2ef98dc28593ab1cbb6126ff", "methodNumberBeforeChange": 59, "methodNumberAfterChange": 61, "signatureBeforeChange": "\r \tboolean moveFileStructure(File oldFile, File newFile)", "signatureAfterChange": "\r \tboolean deleteFileStructure(File oldFile)", "diff": ["-\t */\r", "-\tboolean moveFileStructure(File oldFile, File newFile) {\r", "-\t\tif (oldFile == null || newFile == null) return false;\r", "-\t\tif (! oldFile.exists());\r", "-\t\tif (newFile.exists());\r", "-\t\tif (simulateOnly) {\r", "-\t\t\tSystem.out.println(getResourceString(\"simulate.MoveFromTo.text\",\r", "-\t\t\t\tnew Object[] { oldFile.getPath(), newFile.getPath() }));\r", "-\t\t\treturn true;\r", "-\t\t} else {\r", "-\t\t\treturn oldFile.renameTo(newFile);\r", "-\t\t}\r", "-\t}\r", "+\t */\r", "+\tboolean deleteFileStructure(File oldFile) {\r", "+\t\tif (oldFile == null) return false;\t\t\r", "+\t\tif (oldFile.isDirectory()) {\r", "+\t\t\t/*\r", "+\t\t\t * Delete a directory\r", "+\t\t\t */\r", "+\t\t\tFile[] subFiles = oldFile.listFiles();\r", "+\t\t\tif (subFiles != null) {\r", "+\t\t\t\tfor (int i = 0; i < subFiles.length; i++) {\r", "+\t\t\t\t\tFile oldSubFile = subFiles[i];\r", "+\t\t\t\t\tif (! deleteFileStructure(oldSubFile)) return false;\r", "+\t\t\t\t}\r", "+\t\t\t}\r", "+\t\t}\r", "+\t\tif (simulateOnly) {\r", "+\t\t\tSystem.out.println(getResourceString(\"simulate.Delete.text\",\r", "+\t\t\t\tnew Object[] { oldFile.getPath(), oldFile.getPath() }));\r", "+\t\t\treturn true;\r", "+\t\t} else {\r", "+\t\t\treturn oldFile.delete();\r"]}], "num": 56685}