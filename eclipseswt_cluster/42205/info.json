{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "630654d0da3999ae3d18c0932c50426e", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "46c411cb7d0ecccc462a9bb2f67c7825", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabItem.java", "commitBeforeChange": "2cef3fa78da7f2885ce55fa509348982e00b2225", "commitAfterChange": "bbeab947327689cb203638e742e58f555e6c1b64", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 13, "signatureBeforeChange": " void onPaint(GC gc, boolean isSelected)", "signatureAfterChange": " void onPaint(GC gc, boolean isSelected)", "diff": ["- */", "-\t", "-\t", "-\tDisplay display = getDisplay();", "-\tColor highlightShadow = display.getSystemColor(SWT.COLOR_WIDGET_HIGHLIGHT_SHADOW);", "-\tColor normalShadow = display.getSystemColor(SWT.COLOR_WIDGET_NORMAL_SHADOW);\t\t", "-", "-\tint index = parent.indexOf(this);", "-\t", "-", "-\t\tRectangle bounds = null;", "-\t\tif (!parent.onBottom) {", "-\t\t\tif (index == parent.topTabIndex) {", "-\t\t\t\tbounds = new Rectangle(x + 1, y + 1, width - 2, height - 1);", "-\t\t\t} else {", "-\t\t\t\tbounds = new Rectangle(x + 2, y + 1, width - 3, height - 1);", "-\t\t\t}", "-\t\t} else {", "-\t\t\tif (index == parent.topTabIndex) {", "-\t\t\t\tbounds = new Rectangle(x + 1, y + 1, width - 2, height - 2);", "-\t\t\t} else {", "-\t\t\t\tbounds = new Rectangle(x + 2, y + 1, width - 3, height - 2);", "-\t\t\t}", "-\t\t}", "-\t\tif (parent.backgroundImage != null) {", "-\t\t\t// draw a background image behind the text", "-\t\t\tRectangle imageRect = parent.backgroundImage.getBounds();", "-\t\t\tgc.drawImage(parent.backgroundImage, 0, 0, imageRect.width, imageRect.height,", "-\t\t\t\tbounds.x, bounds.y, bounds.width, bounds.height);", "-\t\t} else if (parent.gradientColors != null) {", "-\t\t\t// draw a gradient behind the text", "-\t\t\tColor oldBackground = gc.getBackground();", "-\t\t\tif (parent.gradientColors.length == 1) {", "-\t\t\t\tif (parent.gradientColors[0] != null) gc.setBackground(parent.gradientColors[0]);", "-\t\t\t\tgc.fillRectangle(bounds.x, bounds.y, bounds.width, bounds.height);", "-\t\t\t} else {", "-\t\t\t\tColor oldForeground = gc.getForeground();", "-\t\t\t\tColor lastColor = parent.gradientColors[0];", "-\t\t\t\tif (lastColor == null) lastColor = oldBackground;", "-\t\t\t\tfor (int i = 0, pos = 0; i < parent.gradientPercents.length; ++i) {", "-\t\t\t\t\tgc.setForeground(lastColor);", "-\t\t\t\t\tlastColor = parent.gradientColors[i + 1];", "-\t\t\t\t\tif (lastColor == null) lastColor = oldBackground;", "-\t\t\t\t\tgc.setBackground(lastColor);", "-\t\t\t\t\tint gradientWidth = (parent.gradientPercents[i] * bounds.width / 100) - pos;", "-\t\t\t\t\tgc.fillGradientRectangle(bounds.x + pos, bounds.y, gradientWidth, bounds.height, false);", "-\t\t\t\t\tpos += gradientWidth;", "-\t\t\t\t}", "-\t\t\t\tgc.setForeground(oldForeground);", "-\t\t\t}", "-\t\t\tgc.setBackground(oldBackground);", "-\t\t}", "-", "-\t\t// draw tab lines", "-\t\tif (!parent.onBottom) {", "-\t\t\tgc.setForeground(normalShadow);", "-\t\t\tif (index != parent.topTabIndex) {", "-\t\t\t\tgc.drawLine(x + 1, y,              x + 1, y);", "-\t\t\t\tgc.drawLine(x,     y + 1,          x,     y + height - 2);", "-\t\t\t\tgc.drawLine(x,     y + height - 1, x,     y + height - 1);", "-\t\t\t}", "-\t\t\tgc.drawLine(x + width - 1, y,              x + width - 1, y);", "-\t\t\tgc.drawLine(x + width,     y + 1,          x + width,     y + height - 2);", "-\t\t\tgc.drawLine(x + width,     y + height - 1, x + width,     y + height - 1);", "-\t", "-\t\t\tgc.setForeground(highlightShadow);", "-\t\t\tif (index != parent.topTabIndex) {", "-\t\t\t\tgc.drawLine(x + 2, y,              x + 2, y);", "-\t\t\t\tgc.drawLine(x + 1, y + 1,          x + 1, y + height - 2);", "-\t\t\t\tgc.drawLine(x + 1, y + height - 1, x + 1, y + height - 1);", "-\t\t\t} else {", "-\t\t\t\tgc.drawLine(x, y, x, y + height - 1);", "-\t\t\t}", "-\t\t\t", "-\t\t\tgc.drawLine(x + width - 2, y,              x + width - 2, y);", "-\t\t\tgc.drawLine(x + width - 1, y + 1,          x + width - 1, y + height - 2);", "-\t\t\tgc.drawLine(x + width - 1, y + height - 1, x + width - 1, y + height - 1);", "-\t", "-\t\t\t// light line across top", "-\t\t\tif (index != parent.topTabIndex) {", "-\t\t\t\tgc.drawLine(x + 3, y, x + width - 3, y);", "-\t\t\t} else {", "-\t\t\t\tgc.drawLine(x + 1, y, x + width - 3, y);", "-\t\t\t}", "-\t\t} else {", "-\t\t\tgc.setForeground(normalShadow);", "-\t\t\tif (index != parent.topTabIndex) {", "-\t\t\t\tgc.drawLine(x,     y,              x,     y);", "-\t\t\t\tgc.drawLine(x,     y + 1,          x,     y + height - 2);", "-\t\t\t\tgc.drawLine(x + 1, y + height - 1, x + 1, y + height - 1);", "-\t\t\t}", "-\t\t\tgc.drawLine(x + width,     y,              x + width,     y);", "-\t\t\tgc.drawLine(x + width,     y + 1,          x + width,     y + height - 2);", "-\t\t\tgc.drawLine(x + width - 1, y + height - 1, x + width - 1, y + height - 1);", "-\t", "-\t\t\tgc.setForeground(highlightShadow);", "-\t\t\tif (index != parent.topTabIndex) {", "-\t\t\t\tgc.drawLine(x + 1, y,              x + 1, y);", "-\t\t\t\tgc.drawLine(x + 1, y + 1,          x + 1, y + height - 2);", "-\t\t\t\tgc.drawLine(x + 2, y + height - 1, x + 2, y + height - 1);", "-\t\t\t} else {", "-\t\t\t\tgc.drawLine(x, y, x, y + height - 1);", "-\t\t\t}", "-\t\t\t", "-\t\t\tgc.drawLine(x + width - 1, y,              x + width - 1, y);", "-\t\t\tgc.drawLine(x + width - 1, y + 1,          x + width - 1, y + height - 2);", "-\t\t\tgc.drawLine(x + width - 2, y + height - 1, x + width - 2, y + height - 1);", "-\t", "-\t\t\t// light line across top and bottom", "-\t\t\tif (index != parent.topTabIndex) {", "-\t\t\t\tgc.drawLine(x + 1, y, x + width - 2, y);", "-\t\t\t\tgc.drawLine(x + 2, y + height - 1, x + width - 3, y + height - 1);", "-\t\t\t} else {", "-\t\t\t\tgc.drawLine(x + 1, y, x + width - 2, y);", "-\t\t\t\tgc.drawLine(x + 1, y + height - 1, x + width - 3, y + height - 1);", "-\t\t\t}\t\t\t", "-\t\t}", "-\t\tif (parent.isFocusControl()) {", "-\t\t\t// draw a focus rectangle", "-\t\t\tint x1, y1, width1, height1;", "-\t\t\tif (!parent.onBottom) {", "-\t\t\t\tif (index == parent.topTabIndex) {", "-\t\t\t\t\tx1 = x + 1; y1 = y + 1; width1 = width - 2; height1 = height - 1;", "-\t\t\t\t} else {", "-\t\t\t\t\tx1 = x + 2; y1 = y + 1; width1 = width - 3; height1 = height - 1;", "-\t\t\t\t}", "-\t\t\t} else {", "-\t\t\t\tif (index == parent.topTabIndex) {", "-\t\t\t\t\tx1 = x + 1; y1 = y + 1; width1 = width - 2; height1 = height - 2;", "-\t\t\t\t} else {", "-\t\t\t\t\tx1 = x + 2; y1 = y + 1; width1 = width - 3; height1 = height - 2;", "-\t\t\t\t}", "-\t\t\t}", "-\t\t\tgc.setBackground(display.getSystemColor(SWT.COLOR_BLACK));", "-\t\t\tgc.setForeground(display.getSystemColor(SWT.COLOR_WHITE));", "-\t\t\tgc.drawFocus(x1, y1, width1, height1);", "-\t\t}", "+\t\tdrawSelected(gc);", "-\t\t// draw tab lines for unselected items", "-\t\tgc.setForeground(normalShadow);", "-\t\tif (!parent.onBottom) {", "-\t\t\tif (index != parent.topTabIndex && index != parent.getSelectionIndex() + 1) {", "-\t\t\t\tgc.drawLine(x, y, x, y + (height / 2));", "-\t\t\t}", "-\t\t} else {", "-\t\t\tif (index != parent.topTabIndex && index != parent.getSelectionIndex() + 1) {", "-\t\t\t\tgc.drawLine(x, y + (height / 2), x, y + height - 1);", "-\t\t\t}", "-\t\t}", "-\t\t", "+\t\tdrawUnselected(gc);", "-", "-\t// draw Image", "-\tint xDraw = x + LEFT_MARGIN;", "-\t", "-\tImage image = getImage();", "-\tif (!isSelected && image != null) {", "-\t\tImage temp = getDisabledImage();", "-\t\tif (temp != null){", "-\t\t\timage = temp;", "-\t\t}", "-\t}", "-\tif (image != null) {", "-\t\tRectangle imageBounds = image.getBounds();", "-\t\tint imageX = xDraw;", "-\t\tint imageHeight = Math.min(height - BOTTOM_MARGIN - TOP_MARGIN, imageBounds.height);", "-\t\tint imageY = y + (height - imageHeight) / 2;", "-\t\tint imageWidth = imageBounds.width * imageHeight / imageBounds.height;", "-\t\tgc.drawImage(image, ", "-\t\t\t         imageBounds.x, imageBounds.y, imageBounds.width, imageBounds.height,", "-\t\t\t         imageX, imageY, imageWidth, imageHeight);", "-\t\txDraw += imageWidth + INTERNAL_SPACING;", "-\t}", "-\t", "-\t// draw Text", "-\tint textWidth = x + width - xDraw - RIGHT_MARGIN;", "-\tif (isSelected && parent.showClose) {", "-\t\ttextWidth = x + width - xDraw - parent.closeBar.getSize().x - RIGHT_MARGIN;", "-\t}", "-\tif (shortenedText == null || shortenedTextWidth != textWidth) {", "-\t\tshortenedText = shortenText(gc, getText(), textWidth);", "-\t\tshortenedTextWidth = textWidth;", "-\t}", "-\tString text = shortenedText;", "-\t", "-\tif (isSelected && parent.selectionForeground != null) {", "-\t\tgc.setForeground(parent.selectionForeground);", "-\t} else {", "-\t\tgc.setForeground(parent.getForeground());", "-\t}", "-\tint textY = y + (height - gc.textExtent(text, SWT.DRAW_MNEMONIC).y) / 2; \t", "-\tgc.drawText(text, xDraw, textY, SWT.DRAW_TRANSPARENT | SWT.DRAW_MNEMONIC);", "-\t", "-\tgc.setForeground(parent.getForeground());"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a0238598020098ac24702a067a0dd3fa", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "8638de9dc6066de16810669288b64d6b97b4f869", "commitAfterChange": "4ba98f0500f22966d7ccbb27fb9cebbd98c85e85", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 18, "signatureBeforeChange": "\r \r void init(Device device, ImageData i)", "signatureAfterChange": "\r \r void init(Device device, ImageData i)", "diff": ["-void init(Device device, ImageData i) {\r", "-\tif (i == null) SWT.error(SWT.ERROR_NULL_ARGUMENT);\r", "-\tthis.device = device;\r", "-\t\t\r", "-\t\t/* Create the icon */\r", "-\t\tICONINFO info = new ICONINFO();\r", "-\t\tinfo.fIcon = true;\r", "-\t\tinfo.hbmColor = hBitmap;\r", "-\t\tinfo.hbmMask = hMask;\r", "-\t\tint hIcon = OS.CreateIconIndirect(info);\r", "-\t\tif (hIcon == 0) SWT.error(SWT.ERROR_NO_HANDLES);\r", "-\t\tOS.DeleteObject(hBitmap);\r", "-\t\tOS.DeleteObject(hMask);\r", "-\t\tthis.handle = hIcon;\r", "-\t\tthis.type = SWT.ICON;\r", "-\t\tthis.handle = hDib;\r", "-\t\tthis.type = SWT.BITMAP;\r", "-\t\tthis.transparentPixel = i.transparentPixel;\r", "-\t\tif (this.transparentPixel == -1) {\r", "-\t\t\tthis.alpha = i.alpha;\r", "-\t\t\tif (i.alpha == -1 && i.alphaData != null) {\r", "-\t\t\t\tthis.alphaData = new byte[i.alphaData.length];\r", "-\t\t\t\tSystem.arraycopy(i.alphaData, 0, this.alphaData, 0, alphaData.length);\r", "+\r", "+void init(Device device, ImageData i) {\r", "+\tif (i == null) SWT.error(SWT.ERROR_NULL_ARGUMENT);\r", "+\tinit(device, this, i);\r"]}], "num": 42205}