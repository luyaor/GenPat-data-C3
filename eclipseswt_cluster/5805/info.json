{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "89659ccb67722b1f1d2804bc5db0c67f", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e51a2fc355850a3ef1090d29407e525f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "be7a6b56ec36f2937282f99ce8f6d3a09d752bb5", "commitAfterChange": "388089e4bec9dc7b9e91ccd2ec44faabbba9290c", "methodNumberBeforeChange": 33, "methodNumberAfterChange": 33, "signatureBeforeChange": "  int kEventControlTrack (int nextHandler, int theEvent, int userData)", "signatureAfterChange": "  int kEventControlTrack (int nextHandler, int theEvent, int userData)", "diff": ["-\tif (OS.HIVIEW) {", "-\t\tif (isDisposed ()) return OS.noErr;", "-\t\tpartCode = 0;", "-\t\tif (text.length () > 0 && labelHandle != 0) {", "-\t\t\tredrawWidget (labelHandle, false);", "-\t\t}", "-\t\tif (image != null && iconHandle != 0) {", "-\t\t\tOS.SetControlData (iconHandle, OS.kControlEntireControl, OS.kControlIconTransformTag, 2, new short [] {(short) 0});", "-\t\t\tredrawWidget (iconHandle, false);", "-\t\t}", "+\tif (isDisposed ()) return OS.noErr;", "+\tpartCode = 0;", "+\tif (text.length () > 0 && labelHandle != 0) {", "+\t\tredrawWidget (labelHandle, false);", "+\t}", "+\tif (image != null && iconHandle != 0) {", "+\t\tOS.SetControlData (iconHandle, OS.kControlEntireControl, OS.kControlIconTransformTag, 2, new short [] {(short) 0});", "+\t\tredrawWidget (iconHandle, false);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "51cb400883e24c1894d71d525953ede8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "be7a6b56ec36f2937282f99ce8f6d3a09d752bb5", "commitAfterChange": "388089e4bec9dc7b9e91ccd2ec44faabbba9290c", "methodNumberBeforeChange": 32, "methodNumberAfterChange": 32, "signatureBeforeChange": "  int kEventControlHitTest (int nextHandler, int theEvent, int userData)", "signatureAfterChange": "  int kEventControlHitTest (int nextHandler, int theEvent, int userData)", "diff": ["-\tif (OS.HIVIEW) {", "-\t\t/*", "-\t\t* Feature in the Macintosh.  When kWindowCompositingAttribute is", "-\t\t* set in the window, controls within the window are selected when", "-\t\t* any button is pressed, not just the left one.  When the control", "-\t\t* has a menu, this causes both selection and a menu to be displayed.", "-\t\t* The fix is to check for button two and avoid setting the part", "-\t\t* code, which stops the selection from happening.", "-\t\t*/\t\t", "-\t\tif (display.clickCountButton == 2) return OS.noErr;", "-\t\tint [] theControl = new int [1];", "-\t\tOS.GetEventParameter (theEvent, OS.kEventParamDirectObject, OS.typeControlRef, null, 4, null, theControl);", "-\t\tif (theControl [0] == labelHandle) {", "-\t\t\tCGRect rect = new CGRect ();", "-\t\t\tOS.HIViewGetBounds (labelHandle, rect);", "-\t\t\tCGPoint pt = new CGPoint ();", "-\t\t\tOS.GetEventParameter (theEvent, OS.kEventParamMouseLocation, OS.typeHIPoint, null, CGPoint.sizeof, null, pt);", "-\t\t\tif (OS.CGRectContainsPoint (rect, pt) != 0) {", "-\t\t\t\tOS.SetEventParameter (theEvent, OS.kEventParamControlPart, OS.typeControlPartCode, 2, new short[]{(short)1});", "-\t\t\t\treturn OS.noErr;", "-\t\t\t}", "+\t/*", "+\t* Feature in the Macintosh.  When kWindowCompositingAttribute is", "+\t* set in the window, controls within the window are selected when", "+\t* any button is pressed, not just the left one.  When the control", "+\t* has a menu, this causes both selection and a menu to be displayed.", "+\t* The fix is to check for button two and avoid setting the part", "+\t* code, which stops the selection from happening.", "+\t*/\t\t", "+\tif (display.clickCountButton == 2) return OS.noErr;", "+\tint [] theControl = new int [1];", "+\tOS.GetEventParameter (theEvent, OS.kEventParamDirectObject, OS.typeControlRef, null, 4, null, theControl);", "+\tif (theControl [0] == labelHandle) {", "+\t\tCGRect rect = new CGRect ();", "+\t\tOS.HIViewGetBounds (labelHandle, rect);", "+\t\tCGPoint pt = new CGPoint ();", "+\t\tOS.GetEventParameter (theEvent, OS.kEventParamMouseLocation, OS.typeHIPoint, null, CGPoint.sizeof, null, pt);", "+\t\tif (OS.CGRectContainsPoint (rect, pt) != 0) {", "+\t\t\tOS.SetEventParameter (theEvent, OS.kEventParamControlPart, OS.typeControlPartCode, 2, new short[]{(short)1});", "+\t\t\treturn OS.noErr;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4aaf2b4182514a3cc9ba3ad222f8b8f7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "be7a6b56ec36f2937282f99ce8f6d3a09d752bb5", "commitAfterChange": "388089e4bec9dc7b9e91ccd2ec44faabbba9290c", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  int actionProc (int theControl, int partCode)", "signatureAfterChange": "  int actionProc (int theControl, int partCode)", "diff": ["-\tif (OS.HIVIEW) {", "-\t\tif (isDisposed ()) return OS.noErr;", "-\t\tthis.partCode = partCode;", "-\t\tif (text.length () > 0 && theControl == labelHandle) {", "-\t\t\tif (image != null && iconHandle != 0) {", "-\t\t\t\tint transform = partCode != 0 ? OS.kTransformSelected : 0;", "-\t\t\t\tOS.SetControlData (iconHandle, OS.kControlEntireControl, OS.kControlIconTransformTag, 2, new short [] {(short)transform});", "-\t\t\t\tredrawWidget (iconHandle, false);", "-\t\t\t}", "-\t\t\tredrawWidget (labelHandle, false);\t\t", "+\tif (isDisposed ()) return OS.noErr;", "+\tthis.partCode = partCode;", "+\tif (text.length () > 0 && theControl == labelHandle) {", "+\t\tif (image != null && iconHandle != 0) {", "+\t\t\tint transform = partCode != 0 ? OS.kTransformSelected : 0;", "+\t\t\tOS.SetControlData (iconHandle, OS.kControlEntireControl, OS.kControlIconTransformTag, 2, new short [] {(short)transform});", "+\t\t\tredrawWidget (iconHandle, false);", "-\t\tif (image != null && theControl == iconHandle) {", "-\t\t\tredrawWidget (labelHandle, false);", "-\t\t}", "+\t\tredrawWidget (labelHandle, false);\t\t", "+\t}", "+\tif (image != null && theControl == iconHandle) {", "+\t\tredrawWidget (labelHandle, false);"]}], "num": 5805}