{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6c9dc3dfd18264ee739c7eac62f96faf", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "62967343e142028f63ab4afe15916c9a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "d063aea08192e0213a4b6532b27dc31f9dce6e1b", "commitAfterChange": "48ef0056097e65cbe2f990bf125c93e76b95da33", "methodNumberBeforeChange": 52, "methodNumberAfterChange": 51, "signatureBeforeChange": " public void setFont (Font font)", "signatureAfterChange": " public void setFont(Font font)", "diff": ["-public void setFont (Font font) {", "+public void setFont(Font font) {", "-\tif (font == null) {", "-\t\tdata.font = data.device.systemFont;", "-\t} else {", "-\t\tif (font.isDisposed()) SWT.error(SWT.ERROR_INVALID_ARGUMENT);", "-\t\tdata.font = font.handle;", "-\t}", "+\tif (font == null) font = data.device.systemFont;", "+\tif (font.isDisposed()) SWT.error(SWT.ERROR_INVALID_ARGUMENT);", "+\tdata.font = font;", "+\tint ptr = OS.NewPtr(16);", "+\tOS.memcpy(ptr, new int[]{font.handle}, 4); ", "+\tOS.memcpy(ptr + 4, new int[]{font.size << 16}, 4); ", "+\tOS.memcpy(ptr + 8, new byte[]{(font.style & OS.bold) != 0 ? (byte)1 : 0}, 1); ", "+\tOS.memcpy(ptr + 9, new byte[]{(font.style & OS.italic) != 0 ? (byte)1 : 0}, 1); ", "+\tint[] tags = new int[]{OS.kATSUFontTag, OS.kATSUSizeTag, OS.kATSUQDBoldfaceTag, OS.kATSUQDItalicTag};", "+\tint[] sizes = new int[]{4, 4, 1, 1};", "+\tint[] values = new int[]{ptr, ptr + 4, ptr + 8, ptr + 9};", "+\tOS.ATSUSetAttributes(data.style, tags.length, tags, sizes, values);", "+\tOS.DisposePtr(ptr);", "+\tFontInfo info = new FontInfo();", "+\tOS.FetchFontInfo(font.id, font.size, font.style, info);", "+\tdata.fontAscent = info.ascent;", "+\tdata.fontDescent = info.descent;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f35f58d0aa1eb5494817685f82683bdb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "a426dfe82a9e91d317b07fd8784f76f0c1168f1a", "commitAfterChange": "e2a0e224d7476ffa6620fd4fad29d9cf37f1153a", "methodNumberBeforeChange": 52, "methodNumberAfterChange": 52, "signatureBeforeChange": " void setGCFont()", "signatureAfterChange": "  void setGCFont()", "diff": ["+", "-\tint ptr = OS.NewPtr(16);", "-\tOS.memcpy(ptr, new int[]{font.handle}, 4); ", "-\tOS.memcpy(ptr + 4, new int[]{font.size << 16}, 4); ", "-\tOS.memcpy(ptr + 8, new byte[]{(font.style & OS.bold) != 0 ? (byte)1 : 0}, 1); ", "-\tOS.memcpy(ptr + 9, new byte[]{(font.style & OS.italic) != 0 ? (byte)1 : 0}, 1); ", "-\tint[] tags = new int[]{OS.kATSUFontTag, OS.kATSUSizeTag, OS.kATSUQDBoldfaceTag, OS.kATSUQDItalicTag};", "-\tint[] sizes = new int[]{4, 4, 1, 1};", "-\tint[] values = new int[]{ptr, ptr + 4, ptr + 8, ptr + 9};", "-\tOS.ATSUSetAttributes(data.style, tags.length, tags, sizes, values);", "-\tOS.DisposePtr(ptr);", "+\tif (font.atsuiStyle == 0) {", "+\t\tif (data.atsuiStyle != 0) OS.ATSUDisposeStyle(data.atsuiStyle);", "+\t\tdata.atsuiStyle = font.createStyle();", "+\t}"]}], "num": 49902}