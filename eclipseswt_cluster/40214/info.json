{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "34b6d849672ced35b8b127f3b6d7f712", "detectedBy": ["DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cef0db73a399b1914ad62667dddc2be0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/gtk/org/eclipse/swt/dnd/StyledTextDragAndDropEffect.java", "commitBeforeChange": "02a41a72a100251a98dc8e7de59f64c8c32b223d", "commitAfterChange": "801c75677b1aab8c4f677654ebaade9ee0264453", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " void showDropTargetEffect(int effect, int x, int y)", "signatureAfterChange": " void showDropTargetEffect(int effect, int x, int y)", "diff": ["-\tint offset = -1;", "+\tint newOffset = -1;", "-\t\t\t//text.setFocus();\t", "-\t\t\toffset = text.getOffsetAtLocation(pt);", "-\t\t} catch (IllegalArgumentException ex) {", "+\t\t\tnewOffset = text.getOffsetAtLocation(pt);", "+\t\t} catch (IllegalArgumentException ex1) {", "-\t\t\t\t\toffset = maxOffset;", "+\t\t\t\t\tnewOffset = maxOffset;", "-\t\t\t\t\toffset = text.getOffsetAtLocation(new Point(pt.x, maxLocation.y));", "+\t\t\t\t\ttry {", "+\t\t\t\t\t\tnewOffset = text.getOffsetAtLocation(new Point(pt.x, maxLocation.y));", "+\t\t\t\t\t} catch (IllegalArgumentException ex2) {", "+\t\t\t\t\t\tnewOffset = -1;", "+\t\t\t\t\t}", "-\t\t\t\toffset = maxOffset;", "+\t\t\t\ttry {", "+\t\t\t\t\tint startOffset = text.getOffsetAtLocation(new Point(0, pt.y));", "+\t\t\t\t\tint endOffset = maxOffset;", "+\t\t\t\t\tint line = text.getLineAtOffset(startOffset);", "+\t\t\t\t\tint lineCount = text.getLineCount();", "+\t\t\t\t\tif (line + 1 < lineCount) {", "+\t\t\t\t\t\tendOffset = text.getOffsetAtLine(line + 1)  - 1;", "+\t\t\t\t\t}", "+\t\t\t\t\tint lineHeight = text.getLineHeight(startOffset);", "+\t\t\t\t\tfor (int i = endOffset; i >= startOffset; i--) {", "+\t\t\t\t\t\tPoint p = text.getLocationAtOffset(i);", "+\t\t\t\t\t\tif (p.x < pt.x && p.y < pt.y && p.y + lineHeight > pt.y) {", "+\t\t\t\t\t\t\tnewOffset = i;", "+\t\t\t\t\t\t\tbreak;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t} catch (IllegalArgumentException ex2) {", "+\t\t\t\t\tnewOffset = -1;", "+\t\t\t\t}", "-\t\t\t// hide caret", "-\t\t\tdrawCaret();", "-\t\t\tcaretBounds = null; ", "+\t\t// hide caret", "+\t\tdrawCaret();", "+\t\tcaretBounds = null; ", "-\tif (offset != -1) {", "-\t\ttext.setCaretOffset(offset);", "+\tif (newOffset != -1) {", "+\t\ttext.setCaretOffset(newOffset);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "df6018a928068c3cc9e7152adfc9f89a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/motif/org/eclipse/swt/dnd/StyledTextDragAndDropEffect.java", "commitBeforeChange": "272ce17177489cafd1a8a24ec2c3c365d57fb55a", "commitAfterChange": "2d2bba5faabace43be6c1bd867c71724ed82bb37", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " void showDropTargetEffect(int effect, int x, int y)", "signatureAfterChange": " void showDropTargetEffect(int effect, int x, int y)", "diff": ["-\tint offset = -1;", "+\tint newOffset = -1;", "-\t\t\t//text.setFocus();\t", "-\t\t\toffset = text.getOffsetAtLocation(pt);", "-\t\t} catch (IllegalArgumentException ex) {", "+\t\t\tnewOffset = text.getOffsetAtLocation(pt);", "+\t\t} catch (IllegalArgumentException ex1) {", "-\t\t\t\t\toffset = maxOffset;", "+\t\t\t\t\tnewOffset = maxOffset;", "-\t\t\t\t\toffset = text.getOffsetAtLocation(new Point(pt.x, maxLocation.y));", "+\t\t\t\t\ttry {", "+\t\t\t\t\t\tnewOffset = text.getOffsetAtLocation(new Point(pt.x, maxLocation.y));", "+\t\t\t\t\t} catch (IllegalArgumentException ex2) {", "+\t\t\t\t\t\tnewOffset = -1;", "+\t\t\t\t\t}", "-\t\t\t\toffset = maxOffset;", "+\t\t\t\ttry {", "+\t\t\t\t\tint startOffset = text.getOffsetAtLocation(new Point(0, pt.y));", "+\t\t\t\t\tint endOffset = maxOffset;", "+\t\t\t\t\tint line = text.getLineAtOffset(startOffset);", "+\t\t\t\t\tint lineCount = text.getLineCount();", "+\t\t\t\t\tif (line + 1 < lineCount) {", "+\t\t\t\t\t\tendOffset = text.getOffsetAtLine(line + 1)  - 1;", "+\t\t\t\t\t}", "+\t\t\t\t\tint lineHeight = text.getLineHeight(startOffset);", "+\t\t\t\t\tfor (int i = endOffset; i >= startOffset; i--) {", "+\t\t\t\t\t\tPoint p = text.getLocationAtOffset(i);", "+\t\t\t\t\t\tif (p.x < pt.x && p.y < pt.y && p.y + lineHeight > pt.y) {", "+\t\t\t\t\t\t\tnewOffset = i;", "+\t\t\t\t\t\t\tbreak;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t} catch (IllegalArgumentException ex2) {", "+\t\t\t\t\tnewOffset = -1;", "+\t\t\t\t}", "-\t\t\t// hide caret", "-\t\t\tdrawCaret();", "-\t\t\tcaretBounds = null; ", "+\t\t// hide caret", "+\t\tdrawCaret();", "+\t\tcaretBounds = null; ", "-\tif (offset != -1) {", "-\t\ttext.setCaretOffset(offset);", "+\tif (newOffset != -1) {", "+\t\ttext.setCaretOffset(newOffset);"]}], "num": 40214}