{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e26c46bad5702bad59eb2b69cdbb5f01", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "de6e056f4e59cb7411ee18dc5f8166ad", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "285bcb19a810f0b50adfb9ecd453fd68b45ebe38", "commitAfterChange": "1a3e98c76e71d3ea7a1c95324d8e2399fe711f60", "methodNumberBeforeChange": 27, "methodNumberAfterChange": 27, "signatureBeforeChange": "  void fixToolTip ()", "signatureAfterChange": "  void fixToolTip ()", "diff": ["-\tif (toolTipHandle == 0) return;", "-\tTOOLINFO lpti = new TOOLINFO ();", "-\tlpti.cbSize = TOOLINFO.sizeof;", "-\tif (OS.SendMessage (toolTipHandle, OS.TTM_GETCURRENTTOOL, 0, lpti) != 0) {", "-\t\tif ((lpti.uFlags & OS.TTF_IDISHWND) != 0) {", "-\t\t\tOS.SendMessage (toolTipHandle, OS.TTM_DELTOOL, 0, lpti);", "-\t\t\tOS.SendMessage (toolTipHandle, OS.TTM_ADDTOOL, 0, lpti);", "+\t/*", "+\t* Bug in Windows.  On XP, when a tooltip is", "+\t* hidden due to a time out or mouse press,", "+\t* the tooltip remains active although no", "+\t* longer visible and won't show again until", "+\t* another tooltip becomes active.  If there", "+\t* is only one tooltip in the window,  it will", "+\t* never show again.  The fix is to remove the", "+\t* current tooltip and add it again every time", "+\t* the mouse leaves the control.", "+\t*/", "+\tif (OS.COMCTL32_MAJOR >= 6) {", "+\t\tif (toolTipHandle == 0) return;", "+\t\tTOOLINFO lpti = new TOOLINFO ();", "+\t\tlpti.cbSize = TOOLINFO.sizeof;", "+\t\tif (OS.SendMessage (toolTipHandle, OS.TTM_GETCURRENTTOOL, 0, lpti) != 0) {", "+\t\t\tif ((lpti.uFlags & OS.TTF_IDISHWND) != 0) {", "+\t\t\t\tOS.SendMessage (toolTipHandle, OS.TTM_DELTOOL, 0, lpti);", "+\t\t\t\tOS.SendMessage (toolTipHandle, OS.TTM_ADDTOOL, 0, lpti);", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "205fe78d31b76c5fc71f855d19f84ca9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "2b2d583e6998eaef3c63884d6291c60a303f512c", "commitAfterChange": "213e16cc0e52a67ba326603b8fd325a90d7411fd", "methodNumberBeforeChange": 54, "methodNumberAfterChange": 62, "signatureBeforeChange": "  void setToolTipText (int hwnd, String text)", "signatureAfterChange": "  void setToolTipText (int hwnd, String text)", "diff": ["-\tif (toolTipHandle == 0) {", "-\t\ttoolTipHandle = OS.CreateWindowEx (", "-\t\t\t0,", "-\t\t\tnew TCHAR (0, OS.TOOLTIPS_CLASS, true),", "-\t\t\tnull,", "-\t\t\tOS.TTS_ALWAYSTIP,", "-\t\t\tOS.CW_USEDEFAULT, 0, OS.CW_USEDEFAULT, 0,", "-\t\t\thandle,", "-\t\t\t0,", "-\t\t\tOS.GetModuleHandle (null),", "-\t\t\tnull);", "-\t\tif (toolTipHandle == 0) error (SWT.ERROR_NO_HANDLES);\t", "-\t\t/*", "-\t\t* Feature in Windows.  Despite the fact that the", "-\t\t* tool tip text contains \\r\\n, the tooltip will", "-\t\t* not honour the new line unless TTM_SETMAXTIPWIDTH", "-\t\t* is set.  The fix is to set TTM_SETMAXTIPWIDTH to", "-\t\t* a large value.", "-\t\t*/", "-\t\tOS.SendMessage (toolTipHandle, OS.TTM_SETMAXTIPWIDTH, 0, 0x7FFF);", "-\t}", "-\tlpti.uId = hwnd;", "+\tlpti.uId = hwnd;", "+\tint hwndToolTip = toolTipHandle ();", "-\t\tOS.SendMessage (toolTipHandle, OS.TTM_DELTOOL, 0, lpti);", "+\t\tOS.SendMessage (hwndToolTip, OS.TTM_DELTOOL, 0, lpti);", "-\t\tif (OS.SendMessage (toolTipHandle, OS.TTM_GETTOOLINFO, 0, lpti) != 0) {", "-\t\t\tOS.SendMessage (toolTipHandle, OS.TTM_UPDATE, 0, 0);", "+\t\tif (OS.SendMessage (hwndToolTip, OS.TTM_GETTOOLINFO, 0, lpti) != 0) {", "+\t\t\tOS.SendMessage (hwndToolTip, OS.TTM_UPDATE, 0, 0);", "-\t\t\tOS.SendMessage (toolTipHandle, OS.TTM_ADDTOOL, 0, lpti);", "+\t\t\tOS.SendMessage (hwndToolTip, OS.TTM_ADDTOOL, 0, lpti);"]}], "num": 55092}