{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "30c558d690ae3efff192ca3849f89463", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "46794afed8cd0dc93de0d11564654a9d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "b16a097ce1f227d4fd237cb6f8c0ba950eb50b9e", "commitAfterChange": "ad9e4c7cb4e85f9de20630936ecc2b154a562c71", "methodNumberBeforeChange": 61, "methodNumberAfterChange": 70, "signatureBeforeChange": "  void releaseItem (TreeItem item, boolean release)", "signatureAfterChange": "  void releaseItem (TreeItem item, boolean release)", "diff": ["+\tTreeItem parentItem = item.parentItem;", "+\tint [] ids = parentItem == null ? childIds : parentItem.childIds;", "+\tint index = -1;", "+\tfor (int i = 0; i < ids.length; i++) {", "+\t\tif (ids [i] == id) {", "+\t\t\tindex = i; break;", "+\t\t}", "+\t}", "+\tif (index != -1) {", "+\t\tSystem.arraycopy(ids, 0, ids, 0, index);", "+\t\tSystem.arraycopy(ids, index+1, ids, index, ids.length - index - 1);", "+\t\tids [ids.length -1] = 0;", "+\t}", "+\tif (parentItem != null) {", "+\t\tparentItem.itemCount--;", "+\t\tif (parentItem.itemCount == 0) parentItem.childIds = null;", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "99a4c0d53559678ac0a368199c1002ea", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "b16a097ce1f227d4fd237cb6f8c0ba950eb50b9e", "commitAfterChange": "ad9e4c7cb4e85f9de20630936ecc2b154a562c71", "methodNumberBeforeChange": 39, "methodNumberAfterChange": 47, "signatureBeforeChange": "  int getItemCount (TreeItem item)", "signatureAfterChange": "  int getItemCount (TreeItem parentItem)", "diff": ["-int getItemCount (TreeItem item) {", "-\tcheckWidget ();", "-\tint count = 0;", "-\tfor (int i=0; i<items.length; i++) {", "-\t\tif (items [i] != null && items [i].parentItem == item) count++;", "+int getItemCount (TreeItem parentItem) {", "+\tif (parentItem == null) {", "+\t\tint [] count = new int [1];", "+\t\tif (OS.GetDataBrowserItemCount (handle, OS.kDataBrowserNoItem, false, OS.kDataBrowserItemAnyState, count) == OS.noErr) {", "+\t\t\treturn count [0];", "+\t\t}", "+\t\treturn 0;", "-\treturn count;", "+\treturn parentItem.itemCount;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5c2d732ee345b05c2f0f6fb16cef0282", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "b16a097ce1f227d4fd237cb6f8c0ba950eb50b9e", "commitAfterChange": "ad9e4c7cb4e85f9de20630936ecc2b154a562c71", "methodNumberBeforeChange": 56, "methodNumberAfterChange": 65, "signatureBeforeChange": "  int itemDataProc (int browser, int id, int property, int itemData, int setValue)", "signatureAfterChange": "  int itemDataProc (int browser, int id, int property, int itemData, int setValue)", "diff": ["-\tint index = id - 1;", "-\tif (!(0 <= index && index < items.length)) return OS.noErr;", "-\tTreeItem item = items [index];", "+\tif (!(0 < id && id <= items.length)) return OS.noErr;", "+\t\t\tTreeItem item = _getItem (id, true);", "-\t\t\tfor (int i=0; i<items.length; i++) {", "-\t\t\t\tif (items [i] != null && items [i].parentItem == item) {", "-\t\t\t\t\tOS.SetDataBrowserItemDataBooleanValue (itemData, true);", "-\t\t\t\t\tbreak;", "-\t\t\t\t}", "+\t\t\tTreeItem item = _getItem (id, true);", "+\t\t\tif (item.itemCount > 0) {", "+\t\t\t\tOS.SetDataBrowserItemDataBooleanValue (itemData, true);"]}], "num": 47236}