{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e369c31816d0aea88cecaebe81127c66", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4ab8499c2ae3871e000905acd1988ffa", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Menu.java", "commitBeforeChange": "67757731da579a59654098483d6139401cbf836d", "commitAfterChange": "4262af9d6f5eb3a66abd44c53d24cb9c1331cdcb", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "  public void _setVisible (boolean visible)", "signatureAfterChange": "  public void _setVisible (boolean visible)", "diff": ["-\tint index = defaultItem != null ? indexOf (defaultItem) + 1 : lastIndex;", "-\t", "-\tint h= OS.GetMenuHeight(handle);", "-\tif (h != -1) {", "-\t\tint gdevice = OS.DMGetFirstScreenDevice(true);", "-\t\twhile (gdevice != 0) {", "-\t\t\tint[] ptr = new int[1];", "-\t\t\tOS.memcpy(ptr, gdevice, 4);", "-\t\t\tGDevice device = new GDevice();", "-\t\t\tOS.memcpy(device, ptr[0], GDevice.sizeof);", "-\t\t\tRect rect = new Rect();", "-\t\t\tOS.GetPixBounds(device.gdPMap, rect);", "-\t\t\tRectangle r= new Rectangle(rect.left, rect.top, rect.right - rect.left, rect.bottom - rect.top);", "-\t\t\tif (r.contains(left, top)) {", "-\t\t\t\tint s= top+h+10 - r.height;\t// 10 keeps a margin between menu and screen border", "-\t\t\t\tif (s > 0) top -= s;", "-\t\t\t}", "-\t\t\tgdevice = OS.DMGetNextScreenDevice(gdevice, true);", "-\t\t}", "-\t}", "-\t", "-\tint result = OS.PopUpMenuSelect (handle, (short)top, (short)left, (short)(index));", "-\tlastIndex = OS.LoWord (result);", "+\tOS.PopUpMenuSelect (handle, (short)top, (short)left, (short)-1);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8a9492f13e28b5862a91637570b72cfb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Widget.java", "commitBeforeChange": "be7a6b56ec36f2937282f99ce8f6d3a09d752bb5", "commitAfterChange": "388089e4bec9dc7b9e91ccd2ec44faabbba9290c", "methodNumberBeforeChange": 34, "methodNumberAfterChange": 34, "signatureBeforeChange": "  Rectangle getControlBounds (int control)", "signatureAfterChange": "  Rectangle getControlBounds (int control)", "diff": ["-\tif (OS.HIVIEW) {", "-\t\tCGRect rect = new CGRect ();", "-\t\tOS.HIViewGetFrame (control, rect);", "-\t\tRect inset = getInset ();", "-\t\trect.x -= inset.left;", "-\t\trect.y -= inset.top;", "-\t\trect.width += inset.right + inset.left;", "-\t\trect.height += inset.bottom + inset.top;", "-\t\treturn new Rectangle ((int) rect.x, (int) rect.y, (int) rect.width, (int) rect.height);", "-\t}", "-\tRect rect = new Rect();", "-\tOS.GetControlBounds (control, rect);", "-\tint window = OS.GetControlOwner (control);", "-\tint [] theRoot = new int [1];", "-\tOS.GetRootControl (window, theRoot);", "-\tint [] parentHandle = new int [1];", "-\tOS.GetSuperControl (control, parentHandle);", "-\tif (parentHandle [0] != theRoot [0]) {", "-\t\tRect parentRect = new Rect ();", "-\t\tOS.GetControlBounds (parentHandle [0], parentRect);", "-\t\tOS.OffsetRect (rect, (short) -parentRect.left, (short) -parentRect.top);", "-\t}", "+\tCGRect rect = new CGRect ();", "+\tOS.HIViewGetFrame (control, rect);", "-\trect.left -= inset.left;", "-\trect.top -= inset.top;", "-\trect.right += inset.right;", "-\trect.bottom += inset.bottom;", "-\treturn new Rectangle (rect.left, rect.top, rect.right - rect.left, rect.bottom - rect.top);", "+\trect.x -= inset.left;", "+\trect.y -= inset.top;", "+\trect.width += inset.right + inset.left;", "+\trect.height += inset.bottom + inset.top;", "+\treturn new Rectangle ((int) rect.x, (int) rect.y, (int) rect.width, (int) rect.height);"]}], "num": 59491}