{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "57d1c2c1d825553c41203dd924209da3", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "657563a7cc338731f049fcf4ee946374", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/MenuItem.java", "commitBeforeChange": "374a9aef6d3cdbe23142c7622f439f5425ecaa80", "commitAfterChange": "ed307d3f65dabf3aa5aefbc1cbd79da8679af838", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 20, "signatureBeforeChange": " public void setAccelerator (int accelerator)", "signatureAfterChange": " public void setAccelerator (int accelerator)", "diff": ["-\tshort [] outIndex = new short [1];", "-\tif (OS.GetIndMenuItemWithCommandID (parent.handle, id, 1, null, outIndex) != OS.noErr) {", "-\t\treturn;", "-\t}", "-\tboolean update = (this.accelerator == 0 && accelerator != 0) || (this.accelerator != 0 && accelerator == 0);", "+\t", "-\tboolean inSetVirtualKey = false;", "-\tint inModifiers = OS.kMenuNoModifiers, inGlyph = OS.kMenuNullGlyph, inKey = 0;", "-\tif (accelerator != 0) {", "-\t\tinKey = accelerator & ~(SWT.SHIFT | SWT.CONTROL | SWT.ALT | SWT.COMMAND);", "-\t\tif (MacUtil.KEEP_MAC_SHORTCUTS) {", "-\t\t\tif ((accelerator & SWT.COMMAND) != 0)", "-\t\t\t\tif (inKey == 'H' || inKey == 'Q') return;", "-\t\t}", "-\t\tinGlyph = keyGlyph (inKey);", "-\t\tint virtualKey = Display.untranslateKey (inKey);", "-\t\tif (virtualKey != 0) {", "-\t\t\tinSetVirtualKey = true;", "-\t\t\tinKey = virtualKey;", "-\t\t} else {", "-\t\t\tinKey = Character.toUpperCase ((char)inKey);", "-\t\t}", "-\t\tinModifiers = (byte) OS.kMenuNoCommandModifier;", "-\t\tif ((accelerator & SWT.SHIFT) != 0) inModifiers |= OS.kMenuShiftModifier;", "-\t\tif ((accelerator & SWT.CONTROL) != 0) inModifiers |= OS.kMenuControlModifier;", "-\t\tif ((accelerator & SWT.COMMAND) != 0) inModifiers &= ~OS.kMenuNoCommandModifier;", "-\t\tif ((accelerator & SWT.ALT) != 0) inModifiers |= OS.kMenuOptionModifier;", "-\t}", "-\tOS.SetMenuItemModifiers (parent.handle, outIndex [0], (byte)inModifiers);", "-\tOS.SetMenuItemCommandKey (parent.handle, outIndex [0], inSetVirtualKey, (char)inKey);", "-\tOS.SetMenuItemKeyGlyph (parent.handle, outIndex [0], (short)inGlyph);", "-\tif (update) updateText ();", "+\tparent.destroyAcceleratorTable ();", "+\t\t", "+\tint hMenu= parent.handle;", "+\tshort[] index= new short[1];", "+\tOS.GetIndMenuItemWithCommandID(hMenu, id, 1, null, index);", "+\tif (index[0] > 0)", "+\t\tsetAccelerator(hMenu, index[0], accelerator);", "+\telse", "+\t\terror (SWT.ERROR_CANNOT_SET_TEXT);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e37fc19e7a41dc204c9b469c7583ed8c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/MenuItem.java", "commitBeforeChange": "1ecd9180e0c0cae33976661992b5e6fd4cfeb7d2", "commitAfterChange": "3653e895c04d4e1a98c580b9fbd1029f3c604015", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 23, "signatureBeforeChange": " public void setAccelerator (int accelerator)", "signatureAfterChange": " public void setAccelerator (int accelerator)", "diff": ["-\t", "-//\tint index = parent.indexOf (this);", "-//\tif (index == -1) return;", "-//\tboolean update = (this.accelerator == 0 && accelerator != 0) || (this.accelerator != 0 && accelerator == 0);", "-//\tthis.accelerator = accelerator;", "-//\tboolean inSetVirtualKey = false;", "-//\tint inModifiers = OS.kMenuNoModifiers, inGlyph = OS.kMenuNullGlyph, inKey = 0;", "-//\tif (accelerator != 0) {", "-//\t\tinKey = accelerator & SWT.KEY_MASK;", "-//\t\tinGlyph = keyGlyph (inKey);", "-//\t\tint virtualKey = Display.untranslateKey (inKey);", "-//\t\tif (inKey == ' ') virtualKey = 49;", "-//\t\tif (virtualKey != 0) {", "-//\t\t\tinSetVirtualKey = true;", "-//\t\t\tinKey = virtualKey;", "-//\t\t} else {", "-//\t\t\tinKey = Character.toUpperCase ((char)inKey);", "-//\t\t}", "-//\t\tinModifiers = (byte) OS.kMenuNoCommandModifier;", "-//\t\tif ((accelerator & SWT.SHIFT) != 0) inModifiers |= OS.kMenuShiftModifier;", "-//\t\tif ((accelerator & SWT.CONTROL) != 0) inModifiers |= OS.kMenuControlModifier;", "-//\t\tif ((accelerator & SWT.COMMAND) != 0) inModifiers &= ~OS.kMenuNoCommandModifier;", "-//\t\tif ((accelerator & SWT.ALT) != 0) inModifiers |= OS.kMenuOptionModifier;", "-//\t}", "-//\tshort menuIndex = (short) (index + 1);", "-//\tOS.SetMenuItemModifiers (parent.handle, menuIndex, (byte)inModifiers);", "-//\tOS.SetMenuItemCommandKey (parent.handle, menuIndex, inSetVirtualKey, (char)inKey);", "-//\tOS.SetMenuItemKeyGlyph (parent.handle, menuIndex, (short)inGlyph);", "-//\tif (update) updateText (menuIndex);", "+\tif ((this.accelerator == 0 && accelerator != 0) || (this.accelerator != 0 && accelerator == 0)) {", "+\t\tupdateText ();", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "be893bcab435e20fb2b7963c4344ec2e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/MenuItem.java", "commitBeforeChange": "13163ffb801b68fe75798ba09db22dc411fc60ae", "commitAfterChange": "e9cef2704b8fbeb607e5cdb6bad1b13dc87829dd", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 23, "signatureBeforeChange": " public void setAccelerator (int accelerator)", "signatureAfterChange": " public void setAccelerator (int accelerator)", "diff": ["-\t", "+\tshort [] outIndex = new short [1];", "+\tif (OS.GetIndMenuItemWithCommandID (parent.handle, id, 1, null, outIndex) != OS.kNoErr) {", "+\t\treturn;", "+\t}", "+\tboolean update = (this.accelerator == 0 && accelerator != 0) || (this.accelerator != 0 && accelerator == 0);", "-\tparent.destroyAcceleratorTable ();", "-\t\t", "-\tint hMenu= parent.handle;", "-\tshort[] index= new short[1];", "-\tOS.GetIndMenuItemWithCommandID(hMenu, id, 1, null, index);", "-\tif (index[0] > 0)", "-\t\tsetAccelerator(hMenu, index[0], accelerator);", "-\telse", "-\t\terror (SWT.ERROR_CANNOT_SET_TEXT);", "+\tboolean inSetVirtualKey = false;", "+\tint inModifiers = OS.kMenuNoModifiers, inGlyph = OS.kMenuNullGlyph, inKey = 0;", "+\tif (accelerator != 0) {", "+\t\tinKey = accelerator & ~(SWT.SHIFT | SWT.CONTROL | SWT.ALT | SWT.COMMAND);", "+\t\tif (MacUtil.KEEP_MAC_SHORTCUTS) {", "+\t\t\tif ((accelerator & SWT.COMMAND) != 0)", "+\t\t\t\tif (inKey == 'H' || inKey == 'Q') return;", "+\t\t}", "+\t\tinGlyph = keyGlyph (inKey);", "+\t\tint virtualKey = Display.untranslateKey (inKey);", "+\t\tif (virtualKey != 0) {", "+\t\t\tinSetVirtualKey = true;", "+\t\t\tinKey = virtualKey;", "+\t\t} else {", "+\t\t\tinKey = Character.toUpperCase ((char)inKey);", "+\t\t}", "+\t\tinModifiers = (byte) OS.kMenuNoCommandModifier;", "+\t\tif ((accelerator & SWT.SHIFT) != 0) inModifiers |= OS.kMenuShiftModifier;", "+\t\tif ((accelerator & SWT.CONTROL) != 0) inModifiers |= OS.kMenuControlModifier;", "+\t\tif ((accelerator & SWT.COMMAND) != 0) inModifiers &= ~OS.kMenuNoCommandModifier;", "+\t\tif ((accelerator & SWT.ALT) != 0) inModifiers |= OS.kMenuOptionModifier;", "+\t}", "+\tOS.SetMenuItemModifiers (parent.handle, outIndex [0], (byte)inModifiers);", "+\tOS.SetMenuItemCommandKey (parent.handle, outIndex [0], inSetVirtualKey, (char)inKey);", "+\tOS.SetMenuItemKeyGlyph (parent.handle, outIndex [0], (short)inGlyph);", "+\tif (update) updateText ();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5d2298568c27de8815186c9b0bdcc6ac", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/MenuItem.java", "commitBeforeChange": "1cdb6ac60d808b5abe4b3260c8c5ac8c7e554559", "commitAfterChange": "79dc2e0426425c125758f7e958dd88564888758f", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 22, "signatureBeforeChange": " public void setAccelerator (int accelerator)", "signatureAfterChange": " public void setAccelerator (int accelerator)", "diff": ["-\t", "+\tshort [] outIndex = new short [1];", "+\tif (OS.GetIndMenuItemWithCommandID (parent.handle, id, 1, null, outIndex) != OS.noErr) {", "+\t\treturn;", "+\t}", "+\tboolean update = (this.accelerator == 0 && accelerator != 0) || (this.accelerator != 0 && accelerator == 0);", "-\tparent.destroyAcceleratorTable ();", "-\t\t", "-\tint hMenu= parent.handle;", "-\tshort[] index= new short[1];", "-\tOS.GetIndMenuItemWithCommandID(hMenu, id, 1, null, index);", "-\tif (index[0] > 0)", "-\t\tsetAccelerator(hMenu, index[0], accelerator);", "-\telse", "-\t\terror (SWT.ERROR_CANNOT_SET_TEXT);", "+\tboolean inSetVirtualKey = false;", "+\tint inModifiers = OS.kMenuNoModifiers, inGlyph = OS.kMenuNullGlyph, inKey = 0;", "+\tif (accelerator != 0) {", "+\t\tinKey = accelerator & ~(SWT.SHIFT | SWT.CONTROL | SWT.ALT | SWT.COMMAND);", "+\t\tif (MacUtil.KEEP_MAC_SHORTCUTS) {", "+\t\t\tif ((accelerator & SWT.COMMAND) != 0)", "+\t\t\t\tif (inKey == 'H' || inKey == 'Q') return;", "+\t\t}", "+\t\tinGlyph = keyGlyph (inKey);", "+\t\tint virtualKey = Display.untranslateKey (inKey);", "+\t\tif (virtualKey != 0) {", "+\t\t\tinSetVirtualKey = true;", "+\t\t\tinKey = virtualKey;", "+\t\t} else {", "+\t\t\tinKey = Character.toUpperCase ((char)inKey);", "+\t\t}", "+\t\tinModifiers = (byte) OS.kMenuNoCommandModifier;", "+\t\tif ((accelerator & SWT.SHIFT) != 0) inModifiers |= OS.kMenuShiftModifier;", "+\t\tif ((accelerator & SWT.CONTROL) != 0) inModifiers |= OS.kMenuControlModifier;", "+\t\tif ((accelerator & SWT.COMMAND) != 0) inModifiers &= ~OS.kMenuNoCommandModifier;", "+\t\tif ((accelerator & SWT.ALT) != 0) inModifiers |= OS.kMenuOptionModifier;", "+\t}", "+\tOS.SetMenuItemModifiers (parent.handle, outIndex [0], (byte)inModifiers);", "+\tOS.SetMenuItemCommandKey (parent.handle, outIndex [0], inSetVirtualKey, (char)inKey);", "+\tOS.SetMenuItemKeyGlyph (parent.handle, outIndex [0], (short)inGlyph);", "+\tif (update) updateText ();"]}], "num": 42302}