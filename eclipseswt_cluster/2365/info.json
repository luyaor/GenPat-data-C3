{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4657713d1e745bdcce1425a5c5aa36e2", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "18963954d50b8e56ec326442c1bb693c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CBannerLayout.java", "commitBeforeChange": "812ce2cd254a369914fe5983b7241485fb62fea3", "commitAfterChange": "f66a4a73251b732245b8db8390004bf1eb1dc677", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "  protected Point computeSize(Composite composite, int wHint, int hHint, boolean flushCache)", "signatureAfterChange": "  protected Point computeSize(Composite composite, int wHint, int hHint, boolean flushCache)", "diff": ["-\t\tint w = wHint == SWT.DEFAULT ? SWT.DEFAULT : width - trim;", "+\t\tint w = wHint == SWT.DEFAULT ? SWT.DEFAULT : Math.max(0, width - trim);", "-\t\tif (hHint != SWT.DEFAULT) {", "-\t\t\tbottomSize.y = Math.min(bottomSize.y, height);", "-\t\t\theight -= bottomSize.y + CBanner.BORDER_TOP + CBanner.BORDER_STRIPE + CBanner.BORDER_BOTTOM;", "-\t\t}", "-\t}", "-\tif (showCurve && hHint != SWT.DEFAULT ) {", "-\t\theight -= CBanner.BORDER_TOP + CBanner.BORDER_BOTTOM + 2*CBanner.BORDER_STRIPE;", "-\t\tint w = banner.rightWidth == SWT.DEFAULT ? SWT.DEFAULT : banner.rightWidth - trim;", "-\t\tint h = banner.rightWidth == SWT.DEFAULT ? SWT.DEFAULT : height;", "-\t\trightSize = computeChildSize(right, w, h, flushCache);", "+\t\tint w = SWT.DEFAULT;", "+\t\tif (banner.rightWidth != SWT.DEFAULT) {", "+\t\t\tw = banner.rightWidth - trim;", "+\t\t\tif (left != null) {", "+\t\t\t\tw = Math.min(w, width - banner.curve_width + 2* banner.curve_indent - CBanner.MIN_LEFT - trim);", "+\t\t\t}", "+\t\t\tw = Math.max(0, w);", "+\t\t}", "+\t\trightSize = computeChildSize(right, w, SWT.DEFAULT, flushCache);", "-\t\t\trightSize.x = Math.min(rightSize.x, width);", "-\t\t\twidth = Math.max(width, CBanner.MIN_LEFT);", "-\t\tint w = wHint == SWT.DEFAULT ? SWT.DEFAULT : width - trim;", "+\t\tint w = wHint == SWT.DEFAULT ? SWT.DEFAULT : Math.max(0, width - trim);", "-\tif (bottom != null) {", "+\tif (bottom != null && (left != null || right != null)) {", "-\t\theight += right == null ? leftSize.y : Math.max(leftSize.y, banner.rightMinHeight);", "+\t\tif (right == null) {", "+\t\t\theight += leftSize.y;", "+\t\t} else {", "+\t\t\theight += Math.max(leftSize.y, banner.rightMinHeight == SWT.DEFAULT ? rightSize.y : banner.rightMinHeight);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "86116c60d9b8875b3f9ba383a20eef12", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CBannerLayout.java", "commitBeforeChange": "812ce2cd254a369914fe5983b7241485fb62fea3", "commitAfterChange": "f66a4a73251b732245b8db8390004bf1eb1dc677", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": " protected void layout(Composite composite, boolean flushCache)", "signatureAfterChange": " protected void layout(Composite composite, boolean flushCache)", "diff": ["-\t\tint w = width - trim;", "+\t\tint w = Math.max(0, width - trim);", "-\t\tbottomSize.y = Math.min(bottomSize.y, height);", "-\t\theight -= bottomSize.y + CBanner.BORDER_TOP + CBanner.BORDER_BOTTOM + CBanner.BORDER_STRIPE;", "+\t\theight -= bottomSize.y + CBanner.BORDER_STRIPE + 2;", "-\t", "-\t\tint trimX = 0;", "-\t\tint trimY = 0;", "-\t\tif (right instanceof Scrollable) {", "-\t\t\tRectangle rect = ((Scrollable) right).computeTrim (0, 0, 0, 0);", "-\t\t\ttrimX = rect.width;", "-\t\t\ttrimY = rect.height;", "-\t\t} else {", "-\t\t\ttrimX = trimY = right.getBorderWidth () * 2;", "+\t\tint trim = computeTrim(right);", "+\t\tint w = SWT.DEFAULT;", "+\t\tif (banner.rightWidth != SWT.DEFAULT) {", "+\t\t\tw = banner.rightWidth - trim;", "+\t\t\tif (left != null) {", "+\t\t\t\tw = Math.min(w, width - banner.curve_width + 2* banner.curve_indent - CBanner.MIN_LEFT - trim);", "+\t\t\t}", "+\t\t\tw = Math.max(0, w);", "-\t\tint rightW = banner.rightWidth == SWT.DEFAULT ? SWT.DEFAULT : banner.rightWidth - trimX;", "-\t\tint rightH = banner.rightWidth == SWT.DEFAULT ? SWT.DEFAULT : height - trimY;", "-\t\trightSize = computeChildSize(right, rightW, rightH, flushCache);", "-\t\trightSize.x = Math.min(rightSize.x, width);", "-\t\twidth -= rightSize.x + banner.curve_width - 2*banner.curve_indent;", "-\t\twidth = Math.max(width, CBanner.MIN_LEFT); ", "+\t\trightSize = computeChildSize(right, w, SWT.DEFAULT, flushCache);", "+\t\twidth -= rightSize.x + banner.curve_width - 2*banner.curve_indent; ", "-", "-\t\tleftSize = computeChildSize(left, width - trim, SWT.DEFAULT, flushCache);", "+\t\tint w = Math.max(0, width - trim);", "+\t\tleftSize = computeChildSize(left, w, SWT.DEFAULT, flushCache);", "+\t\tif (left != null) {", "+\t\t\trightSize.y = Math.max(leftSize.y, banner.rightMinHeight == SWT.DEFAULT ? rightSize.y : banner.rightMinHeight);", "+\t\t}"]}], "num": 2365}