{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9768246f588a91179c388667353b2887", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "513817d00df1a0b7b381010d9a2bd578", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "592fd31261f874251936ca94343b0a4b4e33ed56", "commitAfterChange": "85b8baf1efb6a545680cc9553a80da0d7364e4a0", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": " void drawImage(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple, int imgWidth, int imgHeight, int depth)", "signatureAfterChange": " void drawImage(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple, int imgWidth, int imgHeight, int depth)", "diff": ["+\tint /*long*/ cairo = data.cairo;", "+\tif (cairo != 0) {", "+\t\tif (srcImage.surface == 0) {", "+\t\t\tint /*long*/ xDisplay = data.display;", "+\t\t\tint /*long*/ xDrawable = srcImage.pixmap;", "+\t\t\tint /*long*/ xVisual = OS.XDefaultVisual(xDisplay, OS.XDefaultScreen(xDisplay));", "+\t\t\tint /*long*/ xColormap = data.colormap;", "+\t\t\tsrcImage.surface = Cairo.cairo_xlib_surface_create(xDisplay, xDrawable, xVisual, 0, xColormap);", "+\t\t}", "+\t\tCairo.cairo_save(cairo);", "+\t\t//TODO - draw a piece of the image", "+//\t\tif (srcX != 0 || srcY != 0) {", "+//\t\t\tCairo.cairo_rectangle(cairo, destX, destY, destWidth, destHeight);", "+//\t\t\tCairo.cairo_clip(cairo);", "+//\t\t\tCairo.cairo_new_path(cairo);", "+//\t\t}", "+\t\tCairo.cairo_translate(cairo, destX - srcX, destY - srcY);", "+\t\tif (srcWidth != destWidth || srcHeight != destHeight) {", "+\t\t\tCairo.cairo_scale(cairo, destWidth / (float)srcWidth,  destHeight / (float)srcHeight);", "+\t\t}", "+\t\tCairo.cairo_show_surface(cairo, srcImage.surface, imgWidth, imgHeight);", "+\t\tCairo.cairo_restore(cairo);", "+\t\treturn;", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "90383ce8730176b4f387d17a03c22e12", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "592fd31261f874251936ca94343b0a4b4e33ed56", "commitAfterChange": "85b8baf1efb6a545680cc9553a80da0d7364e4a0", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": " void drawImage(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple, int imgWidth, int imgHeight)", "signatureAfterChange": " void drawImage(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple, int imgWidth, int imgHeight)", "diff": ["+\tint /*long*/ cairo = data.cairo;", "+\tif (cairo != 0) {", "+\t\tif (srcImage.surface == 0) {", "+\t\t\tint /*long*/ xDisplay = OS.GDK_DISPLAY();", "+\t\t\tint /*long*/ xDrawable = OS.GDK_PIXMAP_XID(srcImage.pixmap);", "+\t\t\tint /*long*/ xVisual = OS.gdk_x11_visual_get_xvisual(OS.gdk_visual_get_system());", "+\t\t\tint /*long*/ xColormap = OS.gdk_x11_colormap_get_xcolormap(OS.gdk_colormap_get_system());", "+\t\t\tsrcImage.surface = Cairo.cairo_xlib_surface_create(xDisplay, xDrawable, xVisual, 0, xColormap);", "+\t\t}", "+\t\tCairo.cairo_save(cairo);", "+\t\t//TODO - draw a piece of the image", "+//\t\tif (srcX != 0 || srcY != 0) {", "+//\t\t\tCairo.cairo_rectangle(cairo, destX, destY, destWidth, destHeight);", "+//\t\t\tCairo.cairo_clip(cairo);", "+//\t\t\tCairo.cairo_new_path(cairo);", "+//\t\t}", "+\t\t//TODO - need 0.5 to draw at 0,0 with no transformation ???", "+\t\tSystem.out.println(\"filter=\"+ Cairo.cairo_surface_get_filter(srcImage.surface));", "+\t\tCairo.cairo_surface_set_filter(srcImage.surface, 5);", "+\t\tSystem.out.println(\"\\tfilter=\"+ Cairo.cairo_surface_get_filter(srcImage.surface));", "+\t\tCairo.cairo_translate(cairo, destX - srcX + 0.5, destY - srcY);", "+\t\tif (srcWidth != destWidth || srcHeight != destHeight) {", "+\t\t\tCairo.cairo_scale(cairo, destWidth / (float)srcWidth,  destHeight / (float)srcHeight);", "+\t\t}", "+\t\tCairo.cairo_show_surface(cairo, srcImage.surface, imgWidth, imgHeight);", "+\t\tCairo.cairo_restore(cairo);", "+\t\treturn;", "+\t}"]}], "num": 19298}