{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "58bc30c06206e783492c876ffed81465", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "773b67adf7b9f9ed001a35da6fda5cd3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "examples/org.eclipse.swt.examples/src/org/eclipse/swt/examples/fileviewer/FileViewer.java", "commitBeforeChange": "b2da8a118902d606ae445a20741ea4a19a768aa3", "commitAfterChange": "47884fba258eaf32953b79a2e1cef98747fa3e4e", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 55, "signatureBeforeChange": " File[] validateDrop(DropTargetEvent event, File targetFile)", "signatureAfterChange": "\r \tvoid validateDropTarget(DropTargetEvent event, File targetFile)", "diff": ["-\t/* package */ File[] validateDrop(DropTargetEvent event, File targetFile) {\r", "-\t\tfinal int dropMode = (event.detail != DND.DROP_NONE) ? event.detail : DND.DROP_MOVE;\r", "-\t\tevent.detail = DND.DROP_NONE; // simplify error reporting\r", "-\r\t\t// Validate the target\r", "-\t\tif (targetFile == null) return null;\r", "-\t\tif (! targetFile.isDirectory()) return null;\r", "-\r", "-\t\t// Get dropped data (an array of filenames)\r", "-\t\tfinal String[] names = (String[]) event.data;\r", "-\t\tfinal File[] files;\r", "-\t\tif (names != null) {\t\t\t\r", "-\t\t\t// Validate the source\r", "-\t\t\tfiles = new File[names.length];\r", "-\t\t\tfor (int i = 0; i < names.length; ++i) {\r", "-\t\t\t\tfiles[i] = new File(names[i]);\r", "-\t\t\t\tif (files[i].equals(targetFile)) return null;\r", "+\tvoid validateDropTarget(DropTargetEvent event, File targetFile) {\r", "+\t\tif (targetFile != null && targetFile.isDirectory()) {\r", "+\t\t\tif (event.detail != DND.DROP_COPY && event.detail != DND.DROP_MOVE) {\r", "+\t\t\t\tevent.detail = DND.DROP_MOVE;\r", "-\t\t\t// Files not available yet\r", "-\t\t\tfiles = null;\r", "+\t\t\tevent.detail = DND.DROP_NONE;\r", "-\t\tevent.detail = dropMode;\r", "-\t\treturn files;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fa118527d1477e71ea3224d532d1fea5", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "examples/org.eclipse.swt.examples/org/eclipse/swt/examples/fileviewer/FileViewer.java", "commitBeforeChange": "b2da8a118902d606ae445a20741ea4a19a768aa3", "commitAfterChange": "47884fba258eaf32953b79a2e1cef98747fa3e4e", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 55, "signatureBeforeChange": " File[] validateDrop(DropTargetEvent event, File targetFile)", "signatureAfterChange": "\r \tvoid validateDropTarget(DropTargetEvent event, File targetFile)", "diff": ["-\t/* package */ File[] validateDrop(DropTargetEvent event, File targetFile) {\r", "-\t\tfinal int dropMode = (event.detail != DND.DROP_NONE) ? event.detail : DND.DROP_MOVE;\r", "-\t\tevent.detail = DND.DROP_NONE; // simplify error reporting\r", "-\r\t\t// Validate the target\r", "-\t\tif (targetFile == null) return null;\r", "-\t\tif (! targetFile.isDirectory()) return null;\r", "-\r", "-\t\t// Get dropped data (an array of filenames)\r", "-\t\tfinal String[] names = (String[]) event.data;\r", "-\t\tfinal File[] files;\r", "-\t\tif (names != null) {\t\t\t\r", "-\t\t\t// Validate the source\r", "-\t\t\tfiles = new File[names.length];\r", "-\t\t\tfor (int i = 0; i < names.length; ++i) {\r", "-\t\t\t\tfiles[i] = new File(names[i]);\r", "-\t\t\t\tif (files[i].equals(targetFile)) return null;\r", "+\tvoid validateDropTarget(DropTargetEvent event, File targetFile) {\r", "+\t\tif (targetFile != null && targetFile.isDirectory()) {\r", "+\t\t\tif (event.detail != DND.DROP_COPY && event.detail != DND.DROP_MOVE) {\r", "+\t\t\t\tevent.detail = DND.DROP_MOVE;\r", "-\t\t\t// Files not available yet\r", "-\t\t\tfiles = null;\r", "+\t\t\tevent.detail = DND.DROP_NONE;\r", "-\t\tevent.detail = dropMode;\r", "-\t\treturn files;\r"]}], "num": 18312}