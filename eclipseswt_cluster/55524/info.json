{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f61ec74f88ac77bf03352d565e41a8ae", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8c01a973e0ea6e9d08589a5ca2b2b00c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "30da8be87bc22b7280e4efbcaf1c8144d67dba2a", "commitAfterChange": "527998c9e4be5c58a908b0f0d6081466df8efc7f", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "  LRESULT CDDS_ITEMPOSTPAINT (int wParam, int lParam)", "signatureAfterChange": "  LRESULT CDDS_ITEMPOSTPAINT (int wParam, int lParam)", "diff": ["-\tif (findImageControl () != null || ignoreDrawSelected) {", "+\tif (findImageControl () != null || ignoreDrawSelection) {", "-\t\t\t\tif ((selected || findImageControl () == null) && !ignoreDraw && !ignoreDrawSelected) {", "+\t\t\t\tif ((selected || findImageControl () == null) && !ignoreDrawSelection && !ignoreDrawBackground) {", "-\t\t\tRECT rect = new RECT ();", "+\t\t\tRECT rect = new RECT (), backgroundRect = null;", "-\t\t\t\tif (selected && !ignoreDraw && !ignoreDrawSelected) {", "+\t\t\t\tif (selected && !ignoreDrawSelection && !ignoreDrawBackground) {", "+\t\t\t\tbackgroundRect = rect;", "+\t\t\t\t\tif ((style & SWT.FULL_SELECTION) != 0) {", "+\t\t\t\t\t\tbackgroundRect = rect;", "+\t\t\t\t\t} else {", "+\t\t\t\t\t\tbackgroundRect = item.getBounds (index, true, false, false, false, true, hDC);", "+\t\t\t\t\t}", "-\t\t\t\ttextColor = -1;", "-\t\t\t\tignoreDraw = ignoreDrawSelected = false;", "+\t\t\t\tselectionForeground = -1;", "+\t\t\t\tignoreDraw = ignoreDrawSelection = ignoreDrawBackground = false;", "+\t\t\t\tbackgroundRect = rect;", "-\t\t\tif (textColor != -1) clrText = textColor;", "+\t\t\tif (selectionForeground != -1) clrText = selectionForeground;", "-\t\t\t\t\t\tdata.foreground = clrText != -1 ? clrText : OS.GetTextColor (hDC);", "-\t\t\t\t\t\tdata.background = clrTextBk != -1 ? clrTextBk : OS.GetBkColor (hDC);", "+\t\t\t\t\t\tdata.foreground = OS.GetTextColor (hDC);", "+\t\t\t\t\t\tdata.background = OS.GetBkColor (hDC);", "+\t\t\t\t\t\tif (!selected) {", "+\t\t\t\t\t\t\tif (clrText != -1) data.foreground = clrText;", "+\t\t\t\t\t\t\tif (clrTextBk != -1) data.background = clrTextBk;", "+\t\t\t\t\t\t}", "-\t\t\t\t\t\tif (selected) event.detail |= SWT.SELECTED;", "-\t\t\t\t\t\tif ((nmcd.uItemState & OS.CDIS_FOCUS) != 0) event.detail |= SWT.FOCUSED;", "+\t\t\t\t\t\tevent.detail |= SWT.FOREGROUND;", "+\t\t\t\t\t\tif (clrTextBk != -1) event.detail |= SWT.BACKGROUND;", "+\t\t\t\t\t\tif (selected && (style & SWT.FULL_SELECTION) != 0) event.detail |= SWT.SELECTED;", "+\t\t\t\t\t\tif ((nmcd.uItemState & OS.CDIS_FOCUS) != 0) {", "+\t\t\t\t\t\t\tif (/*nmcd.iSubItem == 0 ||*/ (style & SWT.FULL_SELECTION) != 0) {", "+\t\t\t\t\t\t\t\tif (handle == OS.GetFocus ()) {", "+\t\t\t\t\t\t\t\t\tint uiState = OS.SendMessage (handle, OS.WM_QUERYUISTATE, 0, 0);", "+\t\t\t\t\t\t\t\t\tif ((uiState & OS.UISF_HIDEFOCUS) == 0) event.detail |= SWT.FOCUSED;", "+\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t}", "-\t\t\t\t\t\tignoreDraw = !event.doit;", "-\t\t\t\t\t\tif ((event.detail & SWT.SELECTED) != 0) {", "+\t\t\t\t\t\tignoreDraw = (event.detail & SWT.FOREGROUND) == 0;", "+\t\t\t\t\t\tignoreDrawSelection = (event.detail & SWT.SELECTED) == 0;", "+\t\t\t\t\t\tignoreDrawBackground = (event.detail & SWT.BACKGROUND) == 0;", "+\t\t\t\t\t\tif (!ignoreDrawSelection) {", "-\t\t\t\t\t\t\t\ttextColor = OS.GetSysColor (OS.COLOR_HIGHLIGHTTEXT);", "+\t\t\t\t\t\t\t\tselectionForeground = OS.GetSysColor (OS.COLOR_HIGHLIGHTTEXT);", "-\t\t\t\t\t\t\tif (selected) textColor = newTextClr;", "-\t\t\t\t\t\t\tignoreDrawSelected = true;", "+\t\t\t\t\t\t\tif (selected) selectionForeground = newTextClr;", "-\t\t\t\t\tif (textColor != -1) clrText = textColor;", "+\t\t\t\t\tif (selectionForeground != -1) clrText = selectionForeground;", "-\t\t\t\tif (!ignoreDraw && !ignoreDrawSelected) {", "+\t\t\t\tif (!ignoreDrawBackground) {", "-\t\t\t\t\t\tif (drawBackground) fillBackground (hDC, clrTextBk, rect);", "+\t\t\t\t\t\tif (drawBackground) fillBackground (hDC, clrTextBk, backgroundRect);", "-\t\t\t\t\t\t\t\tif (handle == OS.GetFocus ()) {", "-\t\t\t\t\t\t\t\t\tint uiState = OS.SendMessage (handle, OS.WM_QUERYUISTATE, 0, 0);", "-\t\t\t\t\t\t\t\t\tif ((uiState & OS.UISF_HIDEFOCUS) == 0) {", "-\t\t\t\t\t\t\t\t\t\tint hItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_CARET, 0);", "-\t\t\t\t\t\t\t\t\t\tif (hItem == item.handle) {", "-\t\t\t\t\t\t\t\t\t\t\tif ((style & SWT.FULL_SELECTION) != 0) {", "-\t\t\t\t\t\t\t\t\t\t\t\tfocusRect = new RECT ();", "-\t\t\t\t\t\t\t\t\t\t\t\tOS.SetRect (focusRect, nmcd.left, nmcd.top, nmcd.right, nmcd.bottom);", "-\t\t\t\t\t\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\t\t\t\t\t\tfocusRect = item.getBounds (index, true, false, false, false, true, hDC);", "+\t\t\t\t\t\t\t\tif (!ignoreDrawSelection) {", "+\t\t\t\t\t\t\t\t\tif (handle == OS.GetFocus ()) {", "+\t\t\t\t\t\t\t\t\t\tint uiState = OS.SendMessage (handle, OS.WM_QUERYUISTATE, 0, 0);", "+\t\t\t\t\t\t\t\t\t\tif ((uiState & OS.UISF_HIDEFOCUS) == 0) {", "+\t\t\t\t\t\t\t\t\t\t\tint hItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_CARET, 0);", "+\t\t\t\t\t\t\t\t\t\t\tif (hItem == item.handle) {", "+\t\t\t\t\t\t\t\t\t\t\t\tif ((style & SWT.FULL_SELECTION) != 0) {", "+\t\t\t\t\t\t\t\t\t\t\t\t\tfocusRect = new RECT ();", "+\t\t\t\t\t\t\t\t\t\t\t\t\tOS.SetRect (focusRect, nmcd.left, nmcd.top, nmcd.right, nmcd.bottom);", "+\t\t\t\t\t\t\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\t\t\t\t\t\t\tfocusRect = item.getBounds (index, true, false, false, false, true, hDC);", "+\t\t\t\t\t\t\t\t\t\t\t\t}", "-\t\t\tif (textColor != -1) clrText = textColor;", "+\t\t\tif (selectionForeground != -1) clrText = selectionForeground;", "-\t\t\t\tdata.foreground = clrText != -1 ? clrText : OS.GetTextColor (hDC);", "-\t\t\t\tdata.background = clrTextBk != -1 ? clrTextBk : OS.GetBkColor (hDC);", "+\t\t\t\tdata.foreground = OS.GetTextColor (hDC);", "+\t\t\t\tdata.background = OS.GetBkColor (hDC);", "+\t\t\t\tif (!selected) {", "+\t\t\t\t\tif (clrText != -1) data.foreground = clrText;", "+\t\t\t\t\tif (clrTextBk != -1) data.background = clrTextBk;", "+\t\t\t\t}", "-\t\t\t\tif (selected) event.detail |= SWT.SELECTED;", "-\t\t\t\tif ((nmcd.uItemState & OS.CDIS_FOCUS) != 0) event.detail |= SWT.FOCUSED;", "+\t\t\t\tevent.detail |= SWT.FOREGROUND;", "+\t\t\t\tif (selected && (i == 0 /*nmcd.iSubItem == 0*/ || (style & SWT.FULL_SELECTION) != 0)) {", "+\t\t\t\t\tevent.detail |= SWT.SELECTED;", "+\t\t\t\t}", "+\t\t\t\tif ((nmcd.uItemState & OS.CDIS_FOCUS) != 0) {", "+\t\t\t\t\tif (i == 0 /*nmcd.iSubItem == 0*/ || (style & SWT.FULL_SELECTION) != 0) {", "+\t\t\t\t\t\tif (handle == OS.GetFocus ()) {", "+\t\t\t\t\t\t\tint uiState = OS.SendMessage (handle, OS.WM_QUERYUISTATE, 0, 0);", "+\t\t\t\t\t\t\tif ((uiState & OS.UISF_HIDEFOCUS) == 0) event.detail |= SWT.FOCUSED;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t}\t\t\t\t"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "be2faed9d6ca2bfe2939c140c92d9631", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "30da8be87bc22b7280e4efbcaf1c8144d67dba2a", "commitAfterChange": "527998c9e4be5c58a908b0f0d6081466df8efc7f", "methodNumberBeforeChange": 76, "methodNumberAfterChange": 76, "signatureBeforeChange": "  void sendEraseItemEvent (TableItem item, NMLVCUSTOMDRAW nmcd, int lParam)", "signatureAfterChange": "  void sendEraseItemEvent (TableItem item, NMLVCUSTOMDRAW nmcd, int lParam)", "diff": ["+\tboolean drawSelected = false, drawBackground = false;", "+\t\t\t\tdrawSelected = true;", "+\t\t\t\tdrawSelected = (style & SWT.HIDE_SELECTION) == 0;", "+\t\t\tdrawBackground = clrTextBk != -1;", "-\t\tdata.foreground = OS.GetTextColor (hDC);", "+\t\tdata.foreground = OS.GetSysColor (OS.COLOR_GRAYTEXT);", "+\tevent.detail |= SWT.FOREGROUND;", "-\t\tevent.detail |= SWT.FOCUSED;", "+\t\tif (nmcd.iSubItem == 0 || (style & SWT.FULL_SELECTION) != 0) {", "+\t\t\tif (handle == OS.GetFocus ()) {", "+\t\t\t\tint uiState = OS.SendMessage (handle, OS.WM_QUERYUISTATE, 0, 0);", "+\t\t\t\tif ((uiState & OS.UISF_HIDEFOCUS) == 0) event.detail |= SWT.FOCUSED;", "+\t\t\t}", "+\t\t}", "-\tif (selected) event.detail |= SWT.SELECTED;", "+\tif (drawSelected) event.detail |= SWT.SELECTED;", "+\tif (drawBackground) event.detail |= SWT.BACKGROUND;", "-\tif (selected) {", "-\t\tif ((event.detail & SWT.SELECTED) == 0) {", "-\t\t\tignoreDrawSelected = true;", "+\tignoreDraw = (event.detail & SWT.FOREGROUND) == 0;", "+\tignoreDrawSelection = (event.detail & SWT.SELECTED) == 0;", "+\tignoreDrawBackground = (event.detail & SWT.BACKGROUND) == 0;", "+\tif (drawSelected) {", "+\t\tif (ignoreDrawSelection) {", "-\t\t\t\ttextColor = clrSelectionText;", "+\t\t\t\tselectionForeground = clrSelectionText;", "-\t\t\tnmcd.uItemState &= ~OS.CDIS_SELECTED;", "+\t\t\tnmcd.uItemState &= ~(OS.CDIS_SELECTED | OS.CDIS_FOCUS);", "-\t\tif ((event.detail & SWT.SELECTED) != 0) {", "+\t\tif (ignoreDrawSelection) {", "-\tignoreDraw = !event.doit;", "-\t\tboolean fullText = (style & SWT.FULL_SELECTION) != 0;", "+\t\tint hwndHeader = OS.SendMessage (handle, OS.LVM_GETHEADER, 0, 0);", "+\t\tboolean firstColumn = nmcd.iSubItem == OS.SendMessage (hwndHeader, OS.HDM_ORDERTOINDEX, 0, 0);", "+\t\tboolean fullText = (style & SWT.FULL_SELECTION) != 0 || !firstColumn;", "-\t\tif (!ignoreDrawSelected && clrSelectionBk != -1) {", "+\t\tif (!ignoreDrawBackground && drawBackground) {", "+\t\t\tRECT backgroundRect = item.getBounds (nmcd.dwItemSpec, nmcd.iSubItem, true, false, true, false, hDC);", "+\t\t\tfillBackground (hDC, clrTextBk, backgroundRect);", "+\t\t}", "+\t\tif (!ignoreDrawSelection && clrSelectionBk != -1) {"]}], "num": 55524}