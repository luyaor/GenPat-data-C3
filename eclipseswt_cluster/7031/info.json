{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "c00829a67383a3e8298b406a610d0bae", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6a152b225c777a8bb2b235c6e62f00f9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "b8f9d45a80c733a8f5884af87c95e68f3463aaa7", "commitAfterChange": "e2ae18014fd9c71ab4dc0b52900b77c1d3a0f5b7", "methodNumberBeforeChange": 220, "methodNumberAfterChange": 221, "signatureBeforeChange": "\r void showBidiCaret()", "signatureAfterChange": "\r void showBidiCaret()", "diff": ["-\tboolean scrolled = scrollCaret();\r", "-\tif (scrolled == false) {\r", "-\t\tsetBidiCaretLocation();\r", "+\tint line = content.getLineAtOffset(caretOffset);\r", "+\tint lineOffset = content.getOffsetAtLine(line);\r", "+\tint offsetInLine = caretOffset - lineOffset;\r", "+\tString lineText = content.getLine(line);\r", "+\tint xAtOffset = 0;\r", "+\tboolean scrolled = false;\t\t\r", "+\tGC gc = new GC(this);\r", "+\tStyledTextBidi bidi = getStyledTextBidi(lineText, lineOffset, gc);\r", "+\r", "+\t// getXAtOffset, inlined for better performance\r", "+\txAtOffset = bidiTextWidth(lineText, lineOffset, 0, offsetInLine, 0, bidi);\r", "+\tif (offsetInLine > lineText.length()) {\r", "+\t\t// offset is not on the line. return an x location one character \r", "+\t\t// after the line to indicate the line delimiter.\r", "+\t\txAtOffset += lineEndSpaceWidth;\r", "+\txAtOffset -= horizontalScrollOffset;\r", "+\t//\r", "+\tscrolled = showLocation(xAtOffset, line);\r", "+\tif (scrolled == false) {\r", "+\t\tsetBidiCaretLocation(bidi);\r", "+\t}\r", "+\tgc.dispose();\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "77bbd59aabae22652e000db8ac4dad6a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "5544ce1d748561f71c4f1d1997c431f82e5c4c86", "commitAfterChange": "24e0049851c0d0a09cb9f25e5892d112e2936fed", "methodNumberBeforeChange": 273, "methodNumberAfterChange": 271, "signatureBeforeChange": " void showBidiCaret()", "signatureAfterChange": " void setCaretLocation()", "diff": ["- */", "-void showBidiCaret() {", "-\tint line = content.getLineAtOffset(caretOffset);", "-\tint lineOffset = content.getOffsetAtLine(line);", "-\tint offsetInLine = caretOffset - lineOffset;", "-\tString lineText = content.getLine(line);", "-\tint xAtOffset = 0;", "-\tboolean scrolled = false;\t\t", "-\tGC gc = getGC();", "-\tStyledTextBidi bidi = getStyledTextBidi(lineText, lineOffset, gc);", "-\t// getXAtOffset, inlined for better performance", "-\txAtOffset = getBidiTextPosition(lineText, offsetInLine, bidi) + leftMargin;", "-\tif (offsetInLine > lineText.length()) {", "-\t\t// offset is not on the line. return an x location one character ", "-\t\t// after the line to indicate the line delimiter.", "-\t\txAtOffset += lineEndSpaceWidth;", "-\t}", "-\txAtOffset -= horizontalScrollOffset;", "-\t//", "-\tscrolled = showLocation(xAtOffset, line);", "-\tif (scrolled == false) {", "-\t\tsetBidiCaretLocation(bidi);", "-\t}", "-\tgc.dispose();", "-}", "+\tint lineIndex = getCaretLine();", "+\tString line = content.getLine(lineIndex);", "+\tint lineOffset = content.getOffsetAtLine(lineIndex);", "+\tint offsetInLine = caretOffset - lineOffset;", "+\tint newCaretX = getXAtOffset(line, lineIndex, offsetInLine);", "+\tsetCaretLocation(newCaretX, lineIndex, getCaretDirection());"]}], "num": 7031}