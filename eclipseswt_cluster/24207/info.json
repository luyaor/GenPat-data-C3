{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8419c6017f8033828b6b5e7538aa7d13", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7cf0d806ba22e4fe3ff79075f23c7913", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "810eb254cbe71a3e1637e56f044fa70b981eb39d", "commitAfterChange": "803bd538f4c4c40e1d60df10cb6937bfea9dab26", "methodNumberBeforeChange": 125, "methodNumberAfterChange": 114, "signatureBeforeChange": "  boolean updateItems(int showIndex)", "signatureAfterChange": "  boolean updateItems(int showIndex)", "diff": ["+\tGC gc = new GC(this);", "-\t\t\tint maxWidth = getRightItemEdge() - borderLeft;", "-\t\t\tif (!simple) maxWidth -= curveWidth - 2*curveIndent;", "+\t\t\tRectangle trim = renderer.computeTrim(CTabFolderRenderer.PART_HEADER, SWT.NONE, 0, 0, 0, 0);", "+\t\t\tint borderLeft = -trim.x;", "+\t\t\tint maxWidth = getRightItemEdge(gc) - borderLeft;", "-\t\t\tGC gc = new GC(this);", "-\t\t\t\twidths[i] = items[i].preferredWidth(gc, i == selectedIndex, true);", "+\t\t\t\tint state = CTabFolderRenderer.MINIMUM_SIZE;", "+\t\t\t\tif (i == selectedIndex) state |= SWT.SELECTED;", "+\t\t\t\twidths[i] = renderer.computeSize(i, state, gc).x;", "-\t\t\t\t\tif (widths[i] == 0) widths[i] = items[i].preferredWidth(gc, i == selectedIndex, true);", "+\t\t\t\t\tint state = CTabFolderRenderer.MINIMUM_SIZE;", "+\t\t\t\t\tif (i == selectedIndex) state |= SWT.SELECTED;", "+\t\t\t\t\tif (widths[i] == 0) widths[i] = renderer.computeSize(i, state, gc).x;", "-\t\t\t\t\twidths[i] = items[i].preferredWidth(gc, i == selectedIndex, true);", "+\t\t\t\t\tint state = CTabFolderRenderer.MINIMUM_SIZE;", "+\t\t\t\t\tif (i == selectedIndex) state |= SWT.SELECTED;", "+\t\t\t\t\twidths[i] = renderer.computeSize(i, state, gc).x;", "-\t\t\t\t\t\tif (widths[i] == 0) widths[i] = items[i].preferredWidth(gc, i == selectedIndex, true);", "+\t\t\t\t\t\tint state = CTabFolderRenderer.MINIMUM_SIZE;", "+\t\t\t\t\t\tif (i == selectedIndex) state |= SWT.SELECTED;", "+\t\t\t\t\t\tif (widths[i] == 0) widths[i] = renderer.computeSize(i, state, gc).x;", "-\t\t\tgc.dispose();", "+\t\t", "-\tboolean changed = setItemSize();", "-\tchanged |= setItemLocation();", "-\tsetButtonBounds();", "+\tboolean changed = setItemSize(gc);", "+\tchanged |= setItemLocation(gc);", "+\tsetButtonBounds(gc);", "+\tgc.dispose();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "df942a5f07581f88c2d8b2f0c123eb8e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "810eb254cbe71a3e1637e56f044fa70b981eb39d", "commitAfterChange": "803bd538f4c4c40e1d60df10cb6937bfea9dab26", "methodNumberBeforeChange": 89, "methodNumberAfterChange": 81, "signatureBeforeChange": " boolean setItemLocation()", "signatureAfterChange": " boolean setItemLocation(GC gc)", "diff": ["-boolean setItemLocation() {", "+boolean setItemLocation(GC gc) {", "+\tRectangle trim = renderer.computeTrim(CTabFolderRenderer.PART_BORDER, SWT.NONE, 0, 0, 0, 0);", "+\tint borderLeft = -trim.x;", "+\tint borderBottom = trim.height + trim.y;", "+\tint borderTop = -trim.y;", "+\tPoint closeButtonSize = renderer.computeSize(CTabFolderRenderer.PART_CLOSE_BUTTON, 0, gc);", "-\t\t\t\t\titem.closeRect.x = borderLeft + CTabItem.LEFT_MARGIN;", "-\t\t\t\t\titem.closeRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - BUTTON_SIZE)/2: borderTop + (tabHeight - BUTTON_SIZE)/2;", "+\t\t\t\t\titem.closeRect.x = borderLeft - renderer.computeTrim(i, SWT.NONE, 0, 0, 0, 0).x;", "+\t\t\t\t\titem.closeRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - closeButtonSize.y)/2: borderTop + (tabHeight - closeButtonSize.y)/2;", "-\t\tint rightItemEdge = getRightItemEdge();", "+\t\tint rightItemEdge = getRightItemEdge(gc);", "-\t\t\tif (!simple && priority[i] == selectedIndex) width += curveWidth - 2*curveIndent;", "-\t\t\t\tif (i == selectedIndex) {", "-\t\t\t\t\tint edge = Math.min(item.x + item.width, rightItemEdge);", "-\t\t\t\t\titem.closeRect.x = edge - CTabItem.RIGHT_MARGIN - BUTTON_SIZE;", "-\t\t\t\t} else {", "-\t\t\t\t\titem.closeRect.x = item.x + item.width - CTabItem.RIGHT_MARGIN - BUTTON_SIZE;", "-\t\t\t\t}", "-\t\t\t\titem.closeRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - BUTTON_SIZE)/2: borderTop + (tabHeight - BUTTON_SIZE)/2;", "+\t\t\t\tint state = SWT.NONE;", "+\t\t\t\tif (i == selectedIndex) state |= SWT.SELECTED;", "+\t\t\t\tRectangle edgeTrim = renderer.computeTrim(i, state, 0, 0, 0, 0);", "+\t\t\t\titem.closeRect.x = item.x + item.width  - (edgeTrim.width + edgeTrim.x) - closeButtonSize.x;", "+\t\t\t\titem.closeRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - closeButtonSize.y)/2: borderTop + (tabHeight - closeButtonSize.y)/2;", "-\t\t\t\tif (!simple && i == selectedIndex) x += curveWidth - 2*curveIndent;", "+\t\t\t\tif (!simple && i == selectedIndex) x -= renderer.curveIndent; //TODO: fix next item position "]}], "num": 24207}