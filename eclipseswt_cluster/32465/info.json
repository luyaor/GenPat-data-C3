{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "030ad1a386f827b29608bd0fdc377f99", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dc011b14e9865684749af0e88aeb2d61", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "ddcc940c6ea8c0ef46cce8c3fd6eb2724417989a", "commitAfterChange": "9235085653f7600cdbdbab5c29cabffa32bf07f8", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": " void computeRuns (GC gc)", "signatureAfterChange": " void computeRuns (GC gc)", "diff": ["-\tif (srcHdc != 0) OS.DeleteDC(srcHdc);", "-\tif (gc == null) device.internal_dispose_GC(hDC, null);", "+\t\t\tif (lineRunCount == 1 && i == allRuns.length - 1) {", "+\t\t\t\tTEXTMETRIC lptm = OS.IsUnicode ? (TEXTMETRIC)new TEXTMETRICW() : new TEXTMETRICA();", "+\t\t\t\tOS.SelectObject(srcHdc, getItemFont(run));", "+\t\t\t\tOS.GetTextMetrics(srcHdc, lptm);", "+\t\t\t\trun.height = lptm.tmHeight;", "+\t\t\t\tlineHeight = run.height + lineSpacing;", "+\t\t\t}", "+\tif (srcHdc != 0) OS.DeleteDC(srcHdc);", "+\tif (gc == null) device.internal_dispose_GC(hDC, null);\t"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "713e4236c609d818d6a7906e2bc7a303", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "046dc52b7f8c45021a6c2fb3d54effdf9455e5c6", "commitAfterChange": "95064d9c43834d31420a1ed4831413308c49bbd8", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 19, "signatureBeforeChange": " public FontMetrics getLineMetrics (int lineIndex)", "signatureAfterChange": " public FontMetrics getLineMetrics (int lineIndex)", "diff": ["-\tint hdc = device.internal_new_GC(null);", "+\tint hDC = device.internal_new_GC(null);", "+\tint srcHdc = OS.CreateCompatibleDC(hDC);", "-\t\tOS.SelectObject(hdc, font.handle);", "-\t\tOS.GetTextMetrics(hdc, lptm);", "+\t\tOS.SelectObject(srcHdc, font.handle);", "+\t\tOS.GetTextMetrics(srcHdc, lptm);", "-\t\t\tOS.SelectObject(hdc, getItemFont(run));", "-\t\t\tOS.GetTextMetrics(hdc, lptm);", "+\t\t\tOS.SelectObject(srcHdc, getItemFont(run));", "+\t\t\tOS.GetTextMetrics(srcHdc, lptm);", "-\tdevice.internal_dispose_GC(hdc, null);", "+\tif (srcHdc != 0) OS.DeleteDC(srcHdc);", "+\tdevice.internal_dispose_GC(hDC, null);"]}], "num": 32465}