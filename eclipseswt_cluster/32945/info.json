{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "84b46b97d0c29db0d1c033a10a04b33a", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "273167cdf20f9c40e404834bfb01d5f2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/TrayItem.java", "commitBeforeChange": "6d2109680e67f01ec005aa6e7ba9c30428f9e77a", "commitAfterChange": "dd2aca966bc039ce9a2eb77aaa5738d3e28bb872", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "  void createHandle (int index)", "signatureAfterChange": "  void createHandle (int index)", "diff": ["-\tif (OS.GTK_VERSION >= OS.VERSION (2, 10, 0)) {", "-\t\thandle = OS.gtk_status_icon_new ();", "-\t\tif (handle == 0) error (SWT.ERROR_NO_HANDLES);", "-\t\timageHandle = OS.gtk_image_new ();", "-\t\tOS.gtk_status_icon_set_visible (handle,true);", "-\t} else {", "-\t\thandle = OS.gtk_plug_new (0);", "-\t\tif (handle == 0) error (SWT.ERROR_NO_HANDLES);", "-\t\timageHandle = OS.gtk_image_new ();", "-\t\tif (imageHandle == 0) error (SWT.ERROR_NO_HANDLES);", "-\t\tOS.gtk_container_add (handle, imageHandle);", "-\t\tOS.gtk_widget_show (handle);", "-\t\tOS.gtk_widget_show (imageHandle);", "-\t\tlong /*int*/ id = OS.gtk_plug_get_id (handle);", "-\t\tint monitor = 0;", "-\t\tlong /*int*/ screen = OS.gdk_screen_get_default ();", "-\t\tif (screen != 0) {", "-\t\t\tmonitor = OS.gdk_screen_get_number (screen);", "-\t\t}", "-\t\tbyte [] trayBuffer = Converter.wcsToMbcs (null, \"_NET_SYSTEM_TRAY_S\" + monitor, true);", "-\t\tlong /*int*/ trayAtom = OS.gdk_atom_intern (trayBuffer, true);", "-\t\tlong /*int*/ xTrayAtom = OS.gdk_x11_atom_to_xatom (trayAtom);", "-\t\tlong /*int*/ xDisplay = OS.gdk_x11_display_get_xdisplay(OS.gdk_display_get_default());", "-\t\tlong /*int*/ trayWindow = OS.XGetSelectionOwner (xDisplay, xTrayAtom);", "-\t\tbyte [] messageBuffer = Converter.wcsToMbcs (null, \"_NET_SYSTEM_TRAY_OPCODE\", true);", "-\t\tlong /*int*/ messageAtom = OS.gdk_atom_intern (messageBuffer, true);", "-\t\tlong /*int*/ xMessageAtom = OS.gdk_x11_atom_to_xatom (messageAtom);", "-\t\tXClientMessageEvent event = new XClientMessageEvent ();", "-\t\tevent.type = OS.ClientMessage;", "-\t\tevent.window = trayWindow;", "-\t\tevent.message_type = xMessageAtom;", "-\t\tevent.format = 32;", "-\t\tevent.data [0] = OS.GDK_CURRENT_TIME;", "-\t\tevent.data [1] = OS.SYSTEM_TRAY_REQUEST_DOCK;", "-\t\tevent.data [2] = id;", "-\t\tlong /*int*/ clientEvent = OS.g_malloc (XClientMessageEvent.sizeof);", "-\t\tOS.memmove (clientEvent, event, XClientMessageEvent.sizeof);", "-\t\tOS.XSendEvent (xDisplay, trayWindow, false, OS.NoEventMask, clientEvent);", "-\t\tOS.g_free (clientEvent);", "-\t}", "+\thandle = OS.gtk_status_icon_new ();", "+\tif (handle == 0) error (SWT.ERROR_NO_HANDLES);", "+\timageHandle = OS.gtk_image_new ();", "+\tOS.gtk_status_icon_set_visible (handle,true);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "df8fbe1d0bdb6995dadb89f0a445fcbd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "108b9dd38cc7c1124205fb1899f8aad5ad317989", "commitAfterChange": "5014eebfedd0f623cdc5c8c21ddc6fda2b771129", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "diff": ["-\tif (OS.GTK_VERSION >= OS.VERSION (2, 4, 0)) {", "-\t\treturn computeNativeSize (handle, wHint, hHint, changed);", "-\t}", "-\tif (wHint != SWT.DEFAULT && wHint < 0) wHint = 0;", "-\tif (hHint != SWT.DEFAULT && hHint < 0) hHint = 0;", "-\tint[] w = new int [1], h = new int [1];", "-\tOS.gtk_widget_realize (entryHandle);", "-\tint /*long*/ layout = OS.gtk_entry_get_layout (entryHandle);", "-\tOS.pango_layout_get_size (layout, w, h);", "-\tint xborder = Display.INNER_BORDER, yborder = Display.INNER_BORDER;", "-\tint /*long*/ style = OS.gtk_widget_get_style (entryHandle);", "-\txborder += OS.gtk_style_get_xthickness (style);", "-\tyborder += OS.gtk_style_get_ythickness (style);", "-\tint [] property = new int [1];", "-\tOS.gtk_widget_style_get (entryHandle, OS.interior_focus, property, 0);", "-\tif (property [0] == 0) {", "-\t\tOS.gtk_widget_style_get (entryHandle, OS.focus_line_width, property, 0);", "-\t\txborder += property [0];", "-\t\tyborder += property [0];", "-\t}", "-\tint width = OS.PANGO_PIXELS (w [0]) + xborder  * 2;", "-\tint height = OS.PANGO_PIXELS (h [0]) + yborder  * 2;", "-", "-\tGtkRequisition arrowRequesition = new GtkRequisition ();", "-\tOS.gtk_widget_size_request (buttonHandle, arrowRequesition);", "-\tGtkRequisition listRequesition = new GtkRequisition ();", "-\tint /*long*/ listParent = OS.gtk_widget_get_parent (listHandle);", "-\tOS.gtk_widget_size_request (listParent != 0 ? listParent : listHandle, listRequesition);", "-\t", "-\twidth = Math.max (listRequesition.width, width) + arrowRequesition.width + 4;", "-\twidth = wHint == SWT.DEFAULT ? width : wHint;", "-\theight = hHint == SWT.DEFAULT ? height : hHint;", "-\treturn new Point (width, height);", "+\treturn computeNativeSize (handle, wHint, hHint, changed);"]}], "num": 32945}