{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a903fe0c562408033f63cf24f94bb1c8", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8afcbc1fd75af3f98598ce6c9909cb2c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Tree2.java", "commitBeforeChange": "780deeed6b8d04c7f8256f57ee4b8ba670998a62", "commitAfterChange": "f6545bdd05853b79e0ef79ea07a3cd61ab49eba2", "methodNumberBeforeChange": 40, "methodNumberAfterChange": 39, "signatureBeforeChange": "\r \t\r \tint handleItemNotificationCallback(int item, int message)", "signatureAfterChange": "\r \t\r \tint handleItemNotificationCallback(int item, int message)", "diff": ["+\t\tEvent event= null;\r", "+\t\t\r", "+\t\t\tevent= new Event ();\r", "+\t\t\tevent.item= ti;\r", "+\t\t\t/*\r", "+\t\t\t* It is possible (but unlikely), that application\r", "+\t\t\t* code could have disposed the widget in the expand\r", "+\t\t\t* or collapse event.  If this happens, end the\r", "+\t\t\t* processing of the Windows message by returning\r", "+\t\t\t* zero as the result of the window proc.\r", "+\t\t\t*/\r", "+\t\t\tsendEvent (SWT.Expand, event);\r", "+\t\t\t//if (isDisposed ()) return LRESULT.ZERO;\r", "-\t\tcase OS.kDataBrowserContainerClosed:\t/* Container is closed (y'all come back now!) */\t\t\r", "+\t\tcase OS.kDataBrowserContainerClosing:\t/* Container is about to be closed */\r", "+\t\t\tint[] ids= MacUtil.getSelectionIDs(handle, ti.handle, true);\r", "+\t\t\tif (ids.length > 0 && ids[0] != 0)\r", "+\t\t\t\tOS.SetDataBrowserSelectedItems(handle, 1, new int[] { ti.handle }, OS.kDataBrowserItemsAssign);\r", "+\t\t\tbreak;\r", "+\t\t\t\r", "+\t\tcase OS.kDataBrowserContainerClosed:\t/* Container is closed */\t\t\r", "+\t\t\tevent= new Event ();\r", "+\t\t\tevent.item= ti;\r", "+\t\t\t/*\r", "+\t\t\t* It is possible (but unlikely), that application\r", "+\t\t\t* code could have disposed the widget in the expand\r", "+\t\t\t* or collapse event.  If this happens, end the\r", "+\t\t\t* processing of the Windows message by returning\r", "+\t\t\t* zero as the result of the window proc.\r", "+\t\t\t*/\r", "+\t\t\tsendEvent (SWT.Collapse, event);\r", "+\t\t\t//if (isDisposed ()) return LRESULT.ZERO;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b7ab3ec796d168d1fed530d029faf136", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "a3fea13989cd18710fe0a6c63fa431cff5fb77dc", "commitAfterChange": "8a56311dae67c9ed61879e2fad29106bc7dbfad3", "methodNumberBeforeChange": 58, "methodNumberAfterChange": 58, "signatureBeforeChange": "  LRESULT wmNotifyChild (int wParam, int lParam)", "signatureAfterChange": "  LRESULT wmNotifyChild (int wParam, int lParam)", "diff": ["+\t\t\tbreak;", "-\t\t\t\t/*", "-\t\t\t\t* It is possible (but unlikely), that application", "-\t\t\t\t* code could have disposed the widget in the expand", "-\t\t\t\t* or collapse event.  If this happens, end the", "-\t\t\t\t* processing of the Windows message by returning", "-\t\t\t\t* zero as the result of the window proc.", "-\t\t\t\t*/", "-\t\t\t\tif (action [0] == OS.TVE_EXPAND) {", "-\t\t\t\t\tsendEvent (SWT.Expand, event);", "-\t\t\t\t\tif (isDisposed ()) return LRESULT.ZERO;", "-\t\t\t\t}", "-\t\t\t\tif (action [0] == OS.TVE_COLLAPSE) {", "-\t\t\t\t\tsendEvent (SWT.Collapse, event);", "-\t\t\t\t\tif (isDisposed ()) return LRESULT.ZERO;", "+\t\t\t\tswitch (action [0]) {", "+\t\t\t\t\tcase OS.TVE_EXPAND:", "+\t\t\t\t\t\t/*", "+\t\t\t\t\t\t* Bug in Windows.  When the numeric keypad asterisk", "+\t\t\t\t\t\t* key is used to expand every item in the tree, Windows", "+\t\t\t\t\t\t* sends TVN_ITEMEXPANDING to items in the tree that", "+\t\t\t\t\t\t* have already been expanded.  The fix is to detect", "+\t\t\t\t\t\t* that the item is already expanded and ignore the", "+\t\t\t\t\t\t* notification.", "+\t\t\t\t\t\t*/", "+\t\t\t\t\t\tif ((tvItem.state & OS.TVIS_EXPANDED) == 0) {", "+\t\t\t\t\t\t\tsendEvent (SWT.Expand, event);", "+\t\t\t\t\t\t\tif (isDisposed ()) return LRESULT.ZERO;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t\tbreak;", "+\t\t\t\t\tcase OS.TVE_COLLAPSE:", "+\t\t\t\t\t\tsendEvent (SWT.Collapse, event);", "+\t\t\t\t\t\tif (isDisposed ()) return LRESULT.ZERO;", "+\t\t\t\t\t\tbreak;"]}], "num": 50106}