{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "da7ae8ff09fb7b6e33f1f0bbe0d056ec", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "65f8e2cabaa86e3c33a5f97729336e44", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/MenuItem.java", "commitBeforeChange": "2788992449f42c68294c7306e4dbf7f44afd21ac", "commitAfterChange": "5e84f7bd99a883a2b08c1d596f44e1e38be759a1", "methodNumberBeforeChange": 45, "methodNumberAfterChange": 47, "signatureBeforeChange": "  boolean updateAcceleratorText (boolean show)", "signatureAfterChange": " boolean updateAcceleratorText (boolean show)", "diff": ["+}", "-\tint mask = 0, keysym = 0;", "+\tMaskKeysym maskKeysym = null;", "-\t\tint accelIndex = text.indexOf ('\\t');", "-\t\tif (accelIndex == -1) return true;", "-\t\tint start = accelIndex + 1;", "-\t\tint plusIndex = text.indexOf('+', start);", "-\t\twhile (plusIndex != -1) {", "-\t\t\tString maskStr = text.substring(start, plusIndex);", "-\t\t\tif (maskStr.equals(\"Ctrl\")) mask |= OS.GDK_CONTROL_MASK;", "-\t\t\tif (maskStr.equals(\"Shift\")) mask |= OS.GDK_SHIFT_MASK;", "-\t\t\tif (maskStr.equals(\"Alt\")) mask |= OS.GDK_MOD1_MASK;", "-\t\t\tstart = plusIndex + 1;", "-\t\t\tplusIndex = text.indexOf('+', start);", "-\t\t}", "-\t\tswitch (text.length() - start) {", "-\t\t\tcase 1:", "-\t\t\t\tkeysym = text.charAt(start);", "-\t\t\t\tkeysym = Display.wcsToMbcs ((char) keysym);", "-\t\t\t\tbreak;", "-\t\t\tcase 2:", "-\t\t\t\tif (text.charAt(start) == 'F') {", "-\t\t\t\t\tswitch (text.charAt(start + 1)) {", "-\t\t\t\t\t\tcase '1': keysym = OS.GDK_F1; break;", "-\t\t\t\t\t\tcase '2': keysym = OS.GDK_F2; break;", "-\t\t\t\t\t\tcase '3': keysym = OS.GDK_F3; break;", "-\t\t\t\t\t\tcase '4': keysym = OS.GDK_F4; break;", "-\t\t\t\t\t\tcase '5': keysym = OS.GDK_F5; break;", "-\t\t\t\t\t\tcase '6': keysym = OS.GDK_F6; break;", "-\t\t\t\t\t\tcase '7': keysym = OS.GDK_F7; break;", "-\t\t\t\t\t\tcase '8': keysym = OS.GDK_F8; break;", "-\t\t\t\t\t\tcase '9': keysym = OS.GDK_F9; break;", "-\t\t\t\t\t}", "-\t\t\t\t}", "-\t\t\t\tbreak;", "-\t\t\tcase 3:", "-\t\t\t\tif (text.charAt(start) == 'F' && text.charAt(start + 1) == '1') {", "-\t\t\t\t\tswitch (text.charAt(start + 2)) {", "-\t\t\t\t\t\tcase '0': keysym = OS.GDK_F10; break;", "-\t\t\t\t\t\tcase '1': keysym = OS.GDK_F11; break;", "-\t\t\t\t\t\tcase '2': keysym = OS.GDK_F12; break;", "-\t\t\t\t\t\tcase '3': keysym = OS.GDK_F13; break;", "-\t\t\t\t\t\tcase '4': keysym = OS.GDK_F14; break;", "-\t\t\t\t\t\tcase '5': keysym = OS.GDK_F15; break;", "-\t\t\t\t\t}", "-\t\t\t\t}", "-\t\t\t\tbreak;", "-\t\t}", "+\t\tmaskKeysym = getMaskKeysym();", "-\tif (keysym != 0) {", "+\tif (maskKeysym == null) return true;", "+\tif (maskKeysym.keysym != 0) {", "-\t\t\tOS.gtk_widget_add_accelerator (handle, OS.activate, accelGroup, keysym, mask, OS.GTK_ACCEL_VISIBLE);", "+\t\t\tOS.gtk_widget_add_accelerator (handle, OS.activate, accelGroup, maskKeysym.keysym, maskKeysym.mask, OS.GTK_ACCEL_VISIBLE);", "-\t\t\tOS.gtk_widget_remove_accelerator (handle, accelGroup, keysym, mask);", "+\t\t\tOS.gtk_widget_remove_accelerator (handle, accelGroup, maskKeysym.keysym, maskKeysym.mask);", "-\treturn keysym != 0;", "+\treturn maskKeysym.keysym != 0;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2d6367e6c789e11e0ef8fc5e7c7516a9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/MenuItem.java", "commitBeforeChange": "8f74400627fe378267067a48a1bbad7ee433b09b", "commitAfterChange": "f782649f9c4385d36a04cc7610f645dfe37046dc", "methodNumberBeforeChange": 33, "methodNumberAfterChange": 34, "signatureBeforeChange": " \t void updateText()", "signatureAfterChange": " \t void updateText()", "diff": ["+\tif (accelerator == 0) {", "+\t\tint mask = 0, key = 0;", "+\t\tif (i < buffer.length && buffer [i] == '\\t') {", "+\t\t\tfor (j = i + 1; j < buffer.length; j++) {", "+\t\t\t\tswitch (buffer [j]) {", "+\t\t\t\t\tcase '\\u2303': mask |= OS.NSControlKeyMask; i++; break;", "+\t\t\t\t\tcase '\\u2325': mask |= OS.NSAlternateKeyMask; i++; break;", "+\t\t\t\t\tcase '\\u21E7': mask |= OS.NSShiftKeyMask; i++; break;", "+\t\t\t\t\tcase '\\u2318': mask |= OS.NSCommandKeyMask; i++; break;", "+\t\t\t\t\tdefault:", "+\t\t\t\t\t\tj = buffer.length;", "+\t\t\t\t\t\tbreak;", "+\t\t\t\t}", "+\t\t\t}", "+\t\t\tswitch (buffer.length - i - 1) {", "+\t\t\t\tcase 1:", "+\t\t\t\t\tkey = buffer [i + 1];", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase 2:", "+\t\t\t\t\tif (buffer [i + 1] == 'F') {", "+\t\t\t\t\t\tswitch (buffer [i + 2]) {", "+\t\t\t\t\t\t\tcase '1': key = 0xF704; break;", "+\t\t\t\t\t\t\tcase '2': key = 0xF705; break;", "+\t\t\t\t\t\t\tcase '3': key = 0xF706; break;", "+\t\t\t\t\t\t\tcase '4': key = 0xF707; break;", "+\t\t\t\t\t\t\tcase '5': key = 0xF708; break;", "+\t\t\t\t\t\t\tcase '6': key = 0xF709; break;", "+\t\t\t\t\t\t\tcase '7': key = 0xF70A; break;", "+\t\t\t\t\t\t\tcase '8': key = 0xF70B; break;", "+\t\t\t\t\t\t\tcase '9': key = 0xF70C; break;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase 3:", "+\t\t\t\t\tif (buffer [i + 1] == 'F' && buffer [i + 2] == '1') {", "+\t\t\t\t\t\tswitch (buffer [i + 3]) {", "+\t\t\t\t\t\t\tcase '0': key = 0xF70D; break;", "+\t\t\t\t\t\t\tcase '1': key = 0xF70E; break;", "+\t\t\t\t\t\t\tcase '2': key = 0xF70F; break;", "+\t\t\t\t\t\t\tcase '3': key = 0xF710; break;", "+\t\t\t\t\t\t\tcase '4': key = 0xF711; break;", "+\t\t\t\t\t\t\tcase '5': key = 0xF712; break;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t\tbreak;", "+\t\t\t}", "+\t\t}", "+\t\tNSString string = NSString.stringWith (key == 0 ? \"\" : (char)key + \"\");", "+\t\tnsItem.setKeyEquivalentModifierMask (mask);", "+\t\tnsItem.setKeyEquivalent (string.lowercaseString ());", "+\t\t//TODO - only hide when key != 0 (fix all places)", "+\t\tnsItem.setHidden (key != 0 || mask != 0);", "+\t}"]}], "num": 32683}