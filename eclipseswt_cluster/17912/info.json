{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "287092b649c38cc387c9b9d13ea1dada", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ec123980f06a4c298d055f92ff759dac", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "d063aea08192e0213a4b6532b27dc31f9dce6e1b", "commitAfterChange": "48ef0056097e65cbe2f990bf125c93e76b95da33", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 5, "signatureBeforeChange": " Point computeSize ()", "signatureAfterChange": "  Point computeSize ()", "diff": ["-}", "+", "-\tif ((style & SWT.SEPARATOR) != 0) {", "-\t\tMacRect bounds= new MacRect();", "-\t\tOS.GetControlBounds(handle, bounds.getData());", "-\t\treturn bounds.getSize();", "-\t}", "-\t/* AW", "-\tint [] argList = {", "-\t\tOS.XmNmarginHeight, 0,", "-\t\tOS.XmNmarginWidth, 0,", "-\t\tOS.XmNshadowThickness, 0,", "-\t};", "-\tOS.XtGetValues (handle, argList, argList.length / 2);", "-\tint marginHeight = argList [1], marginWidth = argList [3];", "-\tint shadowThickness = argList [5];", "-\t*/", "-\tint marginHeight = 2, marginWidth = 2;", "-\tint shadowThickness = 1;", "-\tif ((parent.style & SWT.FLAT) != 0) {", "-\t\tDisplay display = getDisplay ();", "-\t\tshadowThickness = Math.min (2, display.buttonShadowThickness);", "-\t}", "-\tint textWidth = 0, textHeight = 0;", "-\tif (text.length () != 0) {", "-\t\tGC gc = new GC (parent);", "-\t\tint flags = SWT.DRAW_DELIMITER | SWT.DRAW_TAB | SWT.DRAW_MNEMONIC;", "-\t\tPoint textExtent = gc.textExtent (text, flags);", "-\t\ttextWidth = textExtent.x;", "-\t\ttextHeight = textExtent.y;", "-\t\tgc.dispose ();", "-\t}", "-\tint imageWidth = 0, imageHeight = 0;", "-\tif (image != null) {", "-\t\tRectangle rect = image.getBounds ();", "-\t\timageWidth = rect.width;", "-\t\timageHeight = rect.height;", "-\t}", "+\tcheckWidget();", "-\tif ((parent.style & SWT.RIGHT) != 0) {", "-\t\twidth = imageWidth + textWidth;", "-\t\theight = Math.max (imageHeight, textHeight);", "-\t\tif (imageWidth != 0 && textWidth != 0) width += 2;", "+\tif ((style & SWT.SEPARATOR) != 0) {", "+\t\tif ((style & SWT.HORIZONTAL) != 0) {", "+\t\t\twidth = getWidth ();", "+\t\t\theight = DEFAULT_HEIGHT;", "+\t\t} else {", "+\t\t\twidth = DEFAULT_WIDTH;", "+\t\t\theight = getWidth ();", "+\t\t}", "-\t\theight = imageHeight + textHeight;", "-\t\tif (imageHeight != 0 && textHeight != 0) height += 2;", "-\t\twidth = Math.max (imageWidth, textWidth);", "-\t}", "-\tif ((style & SWT.DROP_DOWN) != 0) width += 12;", "-\t", "-\tif (width != 0) {", "-\t\twidth += (marginWidth + shadowThickness) * 2 + 2;", "-\t} else {", "-\t\twidth = DEFAULT_WIDTH;", "-\t}", "-\tif (height != 0) {", "-\t\theight += (marginHeight + shadowThickness) * 2 + 2;", "-\t} else {", "-\t\theight = DEFAULT_HEIGHT;", "+\t\tint space = 0;", "+\t\tint stringWidth = 0, stringHeight = 0;", "+\t\tif (text.length () != 0) {", "+\t\t\tGC gc = new GC (parent);", "+\t\t\tPoint size = gc.stringExtent (text);", "+\t\t\tstringWidth = size.x;", "+\t\t\tstringHeight = size.y;", "+\t\t\tgc.dispose ();", "+\t\t}", "+\t\tint imageWidth = 0, imageHeight = 0;", "+\t\tif (image != null) {", "+\t\t\tif (text.length () != 0) space = 2;", "+\t\t\tRectangle rect = image.getBounds ();", "+\t\t\timageWidth = rect.width;", "+\t\t\timageHeight = rect.height;", "+\t\t}", "+\t\tif ((parent.style & SWT.RIGHT) != 0) {", "+\t\t\twidth = stringWidth + imageWidth;", "+\t\t\theight = Math.max (stringHeight, imageHeight);", "+\t\t} else {", "+\t\t\twidth = Math.max (stringWidth, imageWidth);", "+\t\t\theight = stringHeight + imageHeight;", "+\t\t}", "+\t\tif ((style & SWT.DROP_DOWN) != 0) {", "+\t\t\tint arrowWidth = 6; //NOT DONE", "+\t\t\twidth += 3 + arrowWidth;", "+\t\t}", "+\t\tint inset = 3;", "+\t\twidth += space + inset * 2;", "+\t\theight += space + inset * 2;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b5dc1201b00cd12d480ca57ef1f41afb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "d063aea08192e0213a4b6532b27dc31f9dce6e1b", "commitAfterChange": "48ef0056097e65cbe2f990bf125c93e76b95da33", "methodNumberBeforeChange": 28, "methodNumberAfterChange": 33, "signatureBeforeChange": " void setBounds (int x, int y, int width, int height)", "signatureAfterChange": "  void setBounds (int x, int y, int width, int height)", "diff": ["- */", "+", "-", "-\tif (control != null)", "-\t\tcontrol.setBounds(x, y, width, height);", "-\t", "-\twidth = Math.max(width, 0);", "-\theight = Math.max(height, 0);", "-\t", "-\tif (MacUtil.USE_FRAME) {", "-\t\tfloat[] f= new float[4];", "-\t\tOS.HIViewGetFrame(handle, f);", "-\t\tif (f[0] != x || f[1] != y || f[2] != width || f[3] != height)", "-\t\t\tOS.HIViewSetFrame(handle, x, y, width, height);", "-\t} else {", "-\t\tshort[] bounds= new short[4];", "-\t\tshort[] pbounds= new short[4];", "-\t\tOS.GetControlBounds(handle, bounds);", "-\t\tOS.GetControlBounds(parent.handle, pbounds);", "-\t\t\t", "-\t\tboolean sameOrigin = (bounds[1]-pbounds[1]) == x && (bounds[0]-pbounds[0]) == y;", "-\t\tboolean sameExtent = (bounds[3]-bounds[1]) == width && (bounds[2]-bounds[0]) == height;", "-\t\tif (!sameOrigin || !sameExtent)", "-\t\t\tOS.SetControlBounds(handle, new MacRect(pbounds[1]+x, pbounds[0]+y, width, height).getData());", "+\tif (control != null) control.setBounds (x, y, width, height);", "+\tsetBounds (handle, x, y, width, height, true, true, false);", "+\tif ((style & SWT.SEPARATOR) != 0) return;", "+\tint space = 0;", "+\tint inset = 3;", "+\tint stringWidth = 0, stringHeight = 0;", "+\tif (text.length () != 0) {", "+\t\tGC gc = new GC (parent);", "+\t\tPoint size = gc.stringExtent (text);", "+\t\tstringWidth = size.x;", "+\t\tstringHeight = size.y;", "+\t\tgc.dispose ();", "-", "-\tif (parent.fGotSize)", "-\t\tOS.HIViewSetVisible(handle, true);", "+\tint imageWidth = 0, imageHeight = 0;", "+\tif (image != null) {", "+\t\tif (text.length () != 0) space = 2;", "+\t\tRectangle rect = image.getBounds ();", "+\t\timageWidth = rect.width;", "+\t\timageHeight = rect.height;", "+\t}", "+\tint arrowWidth = 0, arrowHeight = 0;", "+\tif ((style & SWT.DROP_DOWN) != 0) {", "+\t\tarrowWidth = 6;", "+\t\tarrowHeight = 4; //NOT DONE", "+\t}", "+\tif ((parent.style & SWT.RIGHT) != 0) {", "+\t\tint imageX = inset;", "+\t\tint imageY = inset + (height - (inset * 2) - imageHeight) / 2;", "+\t\tsetBounds (iconHandle, imageX, imageY, imageWidth, imageHeight, true, true, false);", "+\t\tint labelX = imageX + imageWidth + space;", "+\t\tint labelY = inset + (height - (inset * 2) - stringHeight) / 2;", "+\t\tsetBounds (labelHandle, labelX, labelY, stringWidth, stringHeight, true, true, false);", "+\t} else {", "+\t\tint imageX = inset + (width - (inset * 2) - (arrowWidth + 3) - imageWidth) / 2;", "+\t\tint imageY = inset;", "+\t\tsetBounds (iconHandle, imageX, imageY, imageWidth, imageHeight, true, true, false);", "+\t\tint labelX = inset + (width - (inset * 2) - (arrowWidth + 3) - stringWidth) / 2;", "+\t\tint labelY = imageY + imageHeight + space;", "+\t\tsetBounds (labelHandle, labelX, labelY, stringWidth, stringHeight, true, true, false);", "+\t}", "+\tif ((style & SWT.DROP_DOWN) != 0) {", "+\t\tint arrowX = width - inset - arrowWidth;", "+\t\tint arrowY = inset + (height - (inset * 2) - arrowHeight) / 2;", "+\t\tsetBounds (arrowHandle, arrowX, arrowY, arrowWidth, arrowHeight, true, true, false);", "+\t}"]}], "num": 17912}