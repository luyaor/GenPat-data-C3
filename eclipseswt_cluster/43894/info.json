{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ec7fc34bad59a83f704259d42ee6fb53", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3b5aed2cada1b5a4180d952e8360fe79", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/carbon/org/eclipse/swt/dnd/TreeDragUnderEffect.java", "commitBeforeChange": "bd8d9571ea050e4c23edda8436d67a1ef053b218", "commitAfterChange": "4894c17964a7684074639c1b3befc4d7c320b687", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 5, "signatureBeforeChange": " void setDragUnderEffect(int effect, TreeItem item)", "signatureAfterChange": " void show(int effect, int x, int y)", "diff": ["-void setDragUnderEffect(int effect, TreeItem item) {", "+}", "+void show(int effect, int x, int y) {", "+\teffect = checkEffect(effect);", "+\tTreeItem item = (TreeItem)getItem(x, y);", "-\t\tscrollIndex = null;", "+\t\tscrollItem = null;", "-\t\tif (item != null && item.equals(scrollIndex)  && scrollBeginTime != 0) {", "+\t\tif (item != null && item.equals(scrollItem)  && scrollBeginTime != 0) {", "-\t\t\t\tscroll(item);", "+\t\t\t\tRectangle area = tree.getClientArea();", "+\t\t\t\tint headerHeight = tree.getHeaderHeight();", "+\t\t\t\tint itemHeight= tree.getItemHeight();", "+\t\t\t\tPoint pt = new Point(x, y);", "+\t\t\t\tpt = tree.getDisplay().map(null, tree, pt);", "+\t\t\t\tTreeItem nextItem = null;", "+\t\t\t\tif (pt.y < area.y + headerHeight + 2 * itemHeight) {", "+\t\t\t\t\tnextItem = previousItem(item);", "+\t\t\t\t}", "+\t\t\t\tif (pt.y > area.y + area.height - 2 * itemHeight) {", "+\t\t\t\t\tnextItem = nextItem(item);", "+\t\t\t\t}", "+\t\t\t\tif (nextItem != null) tree.showItem(nextItem);", "-\t\t\t\tscrollIndex = null;", "+\t\t\t\tscrollItem = null;", "-\t\t\tscrollIndex = item;", "+\t\t\tscrollItem = item;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1be67f5408bbbf91decdaa636e18adbd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet349.java", "commitBeforeChange": "0823cf4bc08e82e90c28fa7763336b07a609cd38", "commitAfterChange": "cf09d7119e15812c00a68e57966f883138813a2b", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "  public static void main(String [] args)", "signatureAfterChange": "  public static void main(String [] args)", "diff": ["+\tfinal String KEY_WIDTHS = \"widths\";", "+\tfinal String KEY_IMAGES = \"images\";", "-\ttable.setLinesVisible(true);\t\t\t", "+\t\tImage[] itemImages = new Image[COLUMN_COUNT];", "+\t\titem.setData(KEY_IMAGES, itemImages);", "-\t\t\tImage image = images[(i * COLUMN_COUNT + j) % images.length];", "-\t\t\tif (image != null) {", "-\t\t\t\titem.setImage(j, image);", "-\t\t\t}", "+\t\t\titemImages[j] = images[(i * COLUMN_COUNT + j) % images.length];", "+\tfinal int itemHeight = table.getItemHeight();", "+\tGC gc = new GC (table);", "+\tFontMetrics metrics = gc.getFontMetrics();", "+\tfinal int fontHeight = metrics.getHeight();", "+\tgc.dispose();", "-\t\t\t\t\tImage image = item.getImage(column);", "+\t\t\t\t\tImage[] images = (Image[])item.getData(KEY_IMAGES);", "+\t\t\t\t\tImage image = images[column];", "-\t\t\t\t\tint[] cachedWidths = (int[])item.getData();", "+\t\t\t\t\tint[] cachedWidths = (int[])item.getData(KEY_WIDTHS);", "-\t\t\t\t\t\titem.setData(cachedWidths);", "+\t\t\t\t\t\titem.setData(KEY_WIDTHS, cachedWidths);", "-\t\t\t\t\tImage image = item.getImage(column);", "+\t\t\t\t\tImage[] images = (Image[])item.getData(KEY_IMAGES);", "+\t\t\t\t\tImage image = images[column];", "-\t\t\t\t\tImage image = item.getImage(column);", "+\t\t\t\t\tImage[] images = (Image[])item.getData(KEY_IMAGES);", "+\t\t\t\t\tImage image = images[column];", "-\t\t\t\t\tevent.gc.drawImage(image, x, event.y);", "+\t\t\t\t\tevent.gc.drawImage(image, x, event.y + (itemHeight - image.getBounds().height) / 2);", "-\t\t\t\t\tevent.gc.drawString(item.getText(column), x, event.y);", "+\t\t\t\t\tevent.gc.drawString(item.getText(column), x, event.y + (itemHeight - fontHeight) / 2);", "-\tshell.setSize(500, 200);", "+\tshell.pack();"]}], "num": 43894}