{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4ea2a7726e364d778d8992c64c28ed1d", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ab7d297c5c2745dd539a6b2575cf769e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/MenuItem.java", "commitBeforeChange": "89c7bd58cc0f196b206506434a742780b967e190", "commitAfterChange": "bd91d6fde8acd820d94d5b8688df3f086edb9944", "methodNumberBeforeChange": 39, "methodNumberAfterChange": 39, "signatureBeforeChange": " @Override public void setImage (Image image)", "signatureAfterChange": " @Override public void setImage (Image image)", "diff": ["-\tif (!OS.GTK_IS_IMAGE_MENU_ITEM (handle)) return;", "-\t\tlong /*int*/ imageHandle = OS.gtk_image_new_from_pixbuf (pixbuf);", "-\t\tOS.gtk_image_menu_item_set_image (handle, imageHandle);", "+\t\tif (OS.GTK3) {", "+\t\t\tif (!OS.GTK_IS_MENU_ITEM (handle)) return;", "+\t\t\tif (OS.SWT_PADDED_MENU_ITEMS && imageHandle != 0) {", "+\t\t\t\tOS.gtk_image_set_from_pixbuf(imageHandle, pixbuf);", "+\t\t\t} else {", "+\t\t\t\tif (imageHandle == 0 && boxHandle != 0) {", "+\t\t\t\t\timageHandle = OS.gtk_image_new_from_pixbuf (pixbuf);", "+\t\t\t\t\tOS.gtk_container_add (boxHandle, imageHandle);", "+\t\t\t\t\tOS.gtk_box_reorder_child (boxHandle, imageHandle, 0);", "+\t\t\t\t} else {", "+\t\t\t\t\tOS.gtk_image_set_from_pixbuf(imageHandle, pixbuf);", "+\t\t\t\t}", "+\t\t\t\tif (boxHandle == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\t\t}", "+\t\t} else {", "+\t\t\tif (!OS.GTK_IS_IMAGE_MENU_ITEM (handle)) return;", "+\t\t\timageHandle = OS.gtk_image_new_from_pixbuf (pixbuf);", "+\t\t\tOS.gtk_image_menu_item_set_image (handle, imageHandle);", "+\t\t\t}", "+\t\tif (imageHandle == 0) error (SWT.ERROR_NO_HANDLES);", "-\t\tOS.gtk_image_menu_item_set_image (handle, 0);", "+\t\tif (OS.GTK3) {", "+\t\t\tif (imageHandle != 0 && boxHandle != 0) {", "+\t\t\t\tif (OS.SWT_PADDED_MENU_ITEMS) {", "+\t\t\t\t\tOS.gtk_container_remove(boxHandle, imageHandle);", "+\t\t\t\t\timageHandle = OS.gtk_image_new ();", "+\t\t\t\t\tif (imageHandle == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\t\t\t\tOS.gtk_image_set_pixel_size (imageHandle, 16);", "+\t\t\t\t\tOS.gtk_container_add (boxHandle, imageHandle);", "+\t\t\t\t\tOS.gtk_widget_show (imageHandle);", "+\t\t\t\t} else {", "+\t\t\t\t\tOS.gtk_container_remove(boxHandle, imageHandle);", "+\t\t\t\t\timageHandle = 0;", "+\t\t\t\t}", "+\t\t\t}", "+\t\t} else {", "+\t\t\tif (!OS.GTK_IS_IMAGE_MENU_ITEM (handle)) return;", "+\t\t\tOS.gtk_image_menu_item_set_image (handle, 0);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b72f768bc75b9d080bf490cae51dab75", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "08891e5255c23450175b59bb5067da77488c2671", "commitAfterChange": "3113638aba6faa66376fb46290077a732c1404f3", "methodNumberBeforeChange": 59, "methodNumberAfterChange": 66, "signatureBeforeChange": "  int windowProc (int hwnd, int msg, int wParam, int lParam)", "signatureAfterChange": "  int windowProc (int hwnd, int msg, int wParam, int lParam)", "diff": ["+\t\t\t\t/* Keyboard messages */", "+", "+\t\t\t\t/* Context menu messages */", "-\t\t\t\t\tresult = WM_CONTEXTMENU (handle, lParam); break;", "+\t\t\t\t\tresult = WM_CONTEXTMENU (handle, lParam);", "+\t\t\t\t\tbreak;", "+\t\t\t\t\t", "+\t\t\t\t/* Clipboard messages */", "+\t\t\t\tcase OS.WM_CLEAR:", "+\t\t\t\tcase OS.WM_CUT:", "+\t\t\t\tcase OS.WM_PASTE:", "+\t\t\t\tcase OS.WM_UNDO:", "+\t\t\t\tcase OS.EM_UNDO:", "+\t\t\t\tcase OS.WM_SETTEXT:", "+\t\t\t\t\tif (hwnd == hwndText) {", "+\t\t\t\t\t\tresult = wmClipboard (hwndText, msg, wParam, lParam);", "+\t\t\t\t\t}", "+\t\t\t\t\tbreak;", "-\t}\t", "+\t}", "+\tif (msg == OS.CB_SETCURSEL) {", "+\t\tif ((style & SWT.READ_ONLY) != 0) {", "+\t\t\tif (hooks (SWT.Verify) || filters (SWT.Verify)) {", "+\t\t\t\tString oldText = getText (), newText = null;", "+\t\t\t\tif (wParam == -1) {", "+\t\t\t\t\tnewText = \"\";", "+\t\t\t\t} else {", "+\t\t\t\t\tif (0 <= wParam && wParam < getItemCount ()) {", "+\t\t\t\t\t\tnewText = getItem (wParam);", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t\tif (newText != null && !newText.equals (oldText)) {", "+\t\t\t\t\tint length = OS.GetWindowTextLength (handle);", "+\t\t\t\t\toldText = newText;", "+\t\t\t\t\tnewText = verifyText (newText, 0, length, null);", "+\t\t\t\t\tif (newText == null) return 0;", "+\t\t\t\t\tif (!newText.equals (oldText)) {", "+\t\t\t\t\t\tint index = indexOf (newText);", "+\t\t\t\t\t\tif (index != -1 && index != wParam) {", "+\t\t\t\t\t\t\treturn callWindowProc (OS.CB_SETCURSEL, index, lParam);", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t}", "+\t\t}", "+\t}"]}], "num": 13876}