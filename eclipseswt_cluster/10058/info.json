{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3da56e51685d69ac0e6527f04645e627", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6de572d496ef9a77fc549b1f43d8466d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "8b52693b27ad7a680f5249df9eae769646079478", "commitAfterChange": "bce9e4e374b50f19654eeae29718189d30d9ce10", "methodNumberBeforeChange": 79, "methodNumberAfterChange": 79, "signatureBeforeChange": " boolean setButtonBounds()", "signatureAfterChange": " boolean setButtonBounds()", "diff": ["-\tif (items.length > 1) {", "-\t\tif (single && selectedIndex > -1){", "-\t\t\tCTabItem item = items[selectedIndex];", "+\tif (single) {", "+\t\tif (selectedIndex == -1 || items.length > 1){", "-\t\t\tchevronRect.x = Math.min(item.x +item.width + 3, size.x - borderRight - minRect.width - maxRect.width - topRightRect.width - chevronRect.width + 3);", "-\t\t\tif (borderRight > 0) chevronRect.x += 1;", "-\t\t} else {", "-\t\t\tint rightEdge = getRightItemEdge();", "-\t\t\tCTabItem item = items[items.length-1];", "-\t\t\tif (firstIndex > 0 || item.x + item.width >= rightEdge) {", "-\t\t\t\tchevronRect.width = 3*BUTTON_SIZE/2;", "-\t\t\t\tchevronRect.height = BUTTON_SIZE;", "-\t\t\t\tchevronRect.x = size.x - borderRight - minRect.width - maxRect.width - topRightRect.width - chevronRect.width - 3;", "-\t\t\t\tif (borderRight > 0) chevronRect.x += 1;", "-\t\t\t\tchevronRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - chevronRect.height)/2: borderTop + (tabHeight - chevronRect.height)/2;", "+\t\t\tif (selectedIndex > -1) {", "+\t\t\t\tCTabItem item = items[selectedIndex];\t\t\t\t", "+\t\t\t\tchevronRect.x = Math.min(item.x +item.width + 3, size.x - borderRight - minRect.width - maxRect.width - topRightRect.width - chevronRect.width);", "+\t\t\t} else {", "+\t\t\t\tchevronRect.x = size.x - borderRight - minRect.width - maxRect.width - topRightRect.width - chevronRect.width;", "+\t\t\tif (borderRight > 0) chevronRect.x += 1;", "+\t\t}", "+\t} else {", "+\t\tint lastIndex = getLastIndex();", "+\t\tif (firstIndex > 0 || lastIndex < items.length - 1) {", "+\t\t\tchevronRect.width = 3*BUTTON_SIZE/2;", "+\t\t\tchevronRect.height = BUTTON_SIZE;", "+\t\t\tlastIndex = getLastIndex(); // last index may change when chevron is present", "+\t\t\tCTabItem lastItem = items[lastIndex];", "+\t\t\tchevronRect.x = Math.min(lastItem.x +lastItem.width + 3, size.x - borderRight - minRect.width - maxRect.width - topRightRect.width - chevronRect.width);", "+\t\t\tchevronRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - chevronRect.height)/2 : borderTop + (tabHeight - chevronRect.height)/2;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "81afa0a89bb3fee67218d6863051c399", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "32d236acbf212260d8a15aaf10bd60f40727bbee", "commitAfterChange": "b459fd332b98f905fe0dcf3d944f407b97f6b8e6", "methodNumberBeforeChange": 76, "methodNumberAfterChange": 77, "signatureBeforeChange": " boolean setButtonBounds()", "signatureAfterChange": " boolean setButtonBounds()", "diff": ["-\t\t\tchevronRect.x = Math.min(item.x +item.width - 3, size.x - borderRight - minRect.width - maxRect.width - topRightRect.width - BUTTON_SIZE - 3);", "-\t\t\tif (borderRight > 0) chevronRect.x += 1;", "-\t\t\tchevronRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - BUTTON_SIZE)/2: borderTop + (tabHeight - BUTTON_SIZE)/2;", "-\t\t\tchevronRect.width = BUTTON_SIZE;", "+\t\t\tchevronRect.width = 3*BUTTON_SIZE/2;", "+\t\t\tchevronRect.x = Math.min(item.x +item.width + 3, size.x - borderRight - minRect.width - maxRect.width - topRightRect.width - chevronRect.width + 3);", "+\t\t\tchevronRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - chevronRect.height)/2 : borderTop + (tabHeight - chevronRect.height)/2;", "+\t\t\tif (borderRight > 0) chevronRect.x += 1;", "-\t\t\tif (topTabIndex > 0 || item.x + item.width >= rightEdge) {", "-\t\t\t\tchevronRect.x = size.x - borderRight - minRect.width - maxRect.width - topRightRect.width - BUTTON_SIZE - 3;", "-\t\t\t\tif (borderRight > 0) chevronRect.x += 1;", "-\t\t\t\tchevronRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - BUTTON_SIZE)/2: borderTop + (tabHeight - BUTTON_SIZE)/2;", "-\t\t\t\tchevronRect.width = BUTTON_SIZE;", "+\t\t\tif (firstIndex > 0 || item.x + item.width >= rightEdge) {", "+\t\t\t\tchevronRect.width = 3*BUTTON_SIZE/2;", "+\t\t\t\tchevronRect.x = size.x - borderRight - minRect.width - maxRect.width - topRightRect.width - chevronRect.width - 3;", "+\t\t\t\tif (borderRight > 0) chevronRect.x += 1;", "+\t\t\t\tchevronRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - chevronRect.height)/2: borderTop + (tabHeight - chevronRect.height)/2;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "38e7142c5043411323bef02ea6abf844", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "d3976c81101b5b8e71696348322de538640ebfdd", "commitAfterChange": "becffb11b40151983fdeaba1ed69a62868999dd4", "methodNumberBeforeChange": 87, "methodNumberAfterChange": 87, "signatureBeforeChange": " boolean setItemSize()", "signatureAfterChange": " boolean setItemSize()", "diff": ["-\tif (isDisposed()) return false;", "+\tboolean changed = false;", "+\tif (isDisposed()) return changed;", "-\tint[] widths = new int[items.length];", "-\twidths = new int[items.length];", "-\tif (size.x <= 0 || size.y <= 0 || items.length == 0) return false;", "+\tif (size.x <= 0 || size.y <= 0 || items.length == 0) return changed;", "+\tif (single) {", "+\t\tshowChevron = true;", "+\t\tif (selectedIndex != -1) {", "+\t\t\tCTabItem tab = items[selectedIndex];", "+\t\t\tint width = getRightItemEdge() - borderLeft;", "+\t\t\tif (tab.height != tabHeight || tab.width != width) {", "+\t\t\t\tchanged = true;", "+\t\t\t\ttab.shortenedText = null;", "+\t\t\t\ttab.shortenedTextWidth = 0;", "+\t\t\t\ttab.height = tabHeight;", "+\t\t\t\ttab.width = width;", "+\t\t\t\ttab.closeRect.width = tab.closeRect.height = 0;", "+\t\t\t\tif (showClose || tab.showClose) {", "+\t\t\t\t\ttab.closeRect.width = BUTTON_SIZE;", "+\t\t\t\t\ttab.closeRect.height = BUTTON_SIZE;", "+\t\t\t\t}", "+\t\t\t}", "+\t\t}", "+\t\treturn changed;", "+\t}", "+\tint[] widths = new int[items.length];", "+\twidths = new int[items.length];", "-\t", "-\tshowChevron = single ? true : false;", "-\t", "-\tif (!single && items.length > 1) {", "+\tshowChevron = false;", "+\tif (items.length > 1) {", "-\tint totalWidth = 0;", "-\tboolean changed = false;", "+\t", "-\t\tif (!simple && !single && i == selectedIndex) widths[i] += curveWidth - curveIndent;", "+\t\tif (!simple && i == selectedIndex) widths[i] += curveWidth - curveIndent;", "-\t\t}", "-\t\ttab.height = tabHeight;", "-\t\ttab.width = widths[i];", "-\t\ttab.closeRect.width = tab.closeRect.height = 0;", "-\t\tif (showClose || tab.showClose) {", "-\t\t\tif (i == selectedIndex || showUnselectedClose) {", "-\t\t\t\ttab.closeRect.width = BUTTON_SIZE;", "-\t\t\t\ttab.closeRect.height = BUTTON_SIZE;", "+\t\t\ttab.height = tabHeight;", "+\t\t\ttab.width = widths[i];", "+\t\t\ttab.closeRect.width = tab.closeRect.height = 0;", "+\t\t\tif (showClose || tab.showClose) {", "+\t\t\t\tif (i == selectedIndex || showUnselectedClose) {", "+\t\t\t\t\ttab.closeRect.width = BUTTON_SIZE;", "+\t\t\t\t\ttab.closeRect.height = BUTTON_SIZE;", "+\t\t\t\t}", "-\t\ttotalWidth += widths[i];"]}], "num": 10058}