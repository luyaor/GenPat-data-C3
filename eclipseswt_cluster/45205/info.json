{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "35f94574db1bc96c8d1f2e928faf2eae", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f9a93a0da13d54554193c243ac95450a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Printing/cocoa/org/eclipse/swt/printing/Printer.java", "commitBeforeChange": "3654966d37611f4d9d2c9f01b9ca8fa3554b426a", "commitAfterChange": "b2b34fbc2579012e9628a9fa709c082791d6ec37", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": " protected void create(DeviceData deviceData)", "signatureAfterChange": " protected void create(DeviceData deviceData)", "diff": ["-\t\tprintInfo.setOrientation(data.orientation == PrinterData.LANDSCAPE ? OS.NSLandscapeOrientation : OS.NSPortraitOrientation);", "+\t\tif (data.duplex != SWT.DEFAULT) {", "+\t\t\tint /*long*/ settings = printInfo.PMPrintSettings();", "+\t\t\tint duplex = data.duplex == PrinterData.DUPLEX_SHORT_EDGE ? OS.kPMDuplexTumble", "+\t\t\t\t\t: data.duplex == PrinterData.DUPLEX_LONG_EDGE ? OS.kPMDuplexNoTumble", "+\t\t\t\t\t: OS.kPMDuplexNone;", "+\t\t\tOS.PMSetDuplex(settings, duplex);", "+\t\t}", "+\t\t/* Updating printInfo from PMPrintSettings overrides values in the printInfo dictionary. */", "+\t\tprintInfo.updateFromPMPrintSettings();", "+\t\tdict.setValue(NSNumber.numberWithInt(data.orientation == PrinterData.LANDSCAPE ? OS.NSLandscapeOrientation : OS.NSPortraitOrientation), OS.NSPrintOrientation);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dd19d97ab0623af9755e017fc2942028", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Printing/cocoa/org/eclipse/swt/printing/PrintDialog.java", "commitBeforeChange": "3654966d37611f4d9d2c9f01b9ca8fa3554b426a", "commitAfterChange": "b2b34fbc2579012e9628a9fa709c082791d6ec37", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": " public PrinterData open()", "signatureAfterChange": " public PrinterData open()", "diff": ["-\tprintInfo.setOrientation(printerData.orientation == PrinterData.LANDSCAPE ? OS.NSLandscapeOrientation : OS.NSPortraitOrientation);", "-\tNSMutableDictionary dict = printInfo.dictionary();\t", "+\tif (printerData.duplex != SWT.DEFAULT) {", "+\t\tint /*long*/ settings = printInfo.PMPrintSettings();", "+\t\tint duplex = printerData.duplex == PrinterData.DUPLEX_SHORT_EDGE ? OS.kPMDuplexTumble", "+\t\t\t\t: printerData.duplex == PrinterData.DUPLEX_LONG_EDGE ? OS.kPMDuplexNoTumble", "+\t\t\t\t: OS.kPMDuplexNone;", "+\t\tOS.PMSetDuplex(settings, duplex);", "+\t}", "+\t/* Updating printInfo from PMPrintSettings overrides values in the printInfo dictionary. */", "+\tprintInfo.updateFromPMPrintSettings();", "+\tNSMutableDictionary dict = printInfo.dictionary();", "+\tdict.setValue(NSNumber.numberWithInt(printerData.orientation == PrinterData.LANDSCAPE ? OS.NSLandscapeOrientation : OS.NSPortraitOrientation), OS.NSPrintOrientation);", "-\t\tdata.orientation = printInfo.orientation() == OS.NSLandscapeOrientation ? PrinterData.LANDSCAPE : PrinterData.PORTRAIT;", "+\t\tdata.orientation = new NSNumber(dict.objectForKey(OS.NSPrintOrientation)).intValue() == OS.NSLandscapeOrientation ? PrinterData.LANDSCAPE : PrinterData.PORTRAIT;", "+\t\tint /*long*/ settings = printInfo.PMPrintSettings();", "+\t\tint outDuplexSetting[] = new int[1];", "+\t\tOS.PMGetDuplex(settings, outDuplexSetting);", "+\t\tdata.duplex = outDuplexSetting[0] == OS.kPMDuplexTumble ? PrinterData.DUPLEX_SHORT_EDGE", "+\t\t\t\t: outDuplexSetting[0] == OS.kPMDuplexNoTumble ? PrinterData.DUPLEX_LONG_EDGE", "+\t\t\t\t: PrinterData.DUPLEX_NONE;"]}], "num": 45205}