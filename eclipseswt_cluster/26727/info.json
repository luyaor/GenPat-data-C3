{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "17ea3fdfbe4faefa703d360a0c2709c5", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "15fde0b8b34908b888342b74306d1130", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Accessibility/win32/org/eclipse/swt/accessibility/Accessible.java", "commitBeforeChange": "b2a57ac5aeda1a37b1c7d7c906ff837c3c7313d8", "commitAfterChange": "f3828846066629968a44d377ba246bddf80a917b", "methodNumberBeforeChange": 41, "methodNumberAfterChange": 50, "signatureBeforeChange": "\r \t\r \tint get_accDescription(int varChild_vt, int varChild_reserved1, int varChild_lVal, int varChild_reserved2, int pszDescription)", "signatureAfterChange": "\r \t\r \tint get_accDescription(int varChild_vt, int varChild_reserved1, int varChild_lVal, int varChild_reserved2, int pszDescription)", "diff": ["-\t\tif (accessibleListeners.size() == 0) {\r", "-\t\t\treturn iaccessible.get_accDescription(varChild_vt, varChild_reserved1, varChild_lVal, varChild_reserved2, pszDescription);\r", "-\t\t}\r", "-\r", "+\t\tif (iaccessible == null) return COM.CO_E_OBJNOTCONNECTED;\r", "+\t\t\r", "+\t\t/* Get the default description from the OS. */\r", "+\t\tString osDescription = null;\r", "+\t\tint code = iaccessible.get_accDescription(varChild_vt, varChild_reserved1, varChild_lVal, varChild_reserved2, pszDescription);\r", "+\t\tif (code == COM.E_INVALIDARG) code = COM.S_FALSE; // proxy doesn't know about app childID\r", "+\t\tif (accessibleListeners.size() == 0) return code;\r", "+\t\tif (code == COM.S_OK) {\r", "+\t\t\tint[] pDescription = new int[1];\r", "+\t\t\tCOM.MoveMemory(pDescription, pszDescription, 4);\r", "+\t\t\tint size = COM.SysStringByteLen(pDescription[0]);\r", "+\t\t\tif (size > 0) {\r", "+\t\t\t\tchar[] buffer = new char[(size + 1) /2];\r", "+\t\t\t\tCOM.MoveMemory(buffer, pDescription[0], size);\r", "+\t\t\t\tosDescription = new String(buffer);\r", "+\t\t\t}\r", "+\t\t}\r", "+\t\t\r", "-\t\tevent.childID = varChild_lVal - 1;\r", "+\t\tevent.childID = (varChild_lVal == COM.CHILDID_SELF) ? ACC.CHILDID_SELF : varChild_lVal - 1;\r", "+\t\tevent.result = osDescription;\r", "-\t\tif (event.result == null) return COM.S_FALSE;\r", "+\t\tif (event.result == null) return code;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "31527ce2cc8e10a4c141c6e7e27c549d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Accessibility/win32/org/eclipse/swt/accessibility/Accessible.java", "commitBeforeChange": "b2a57ac5aeda1a37b1c7d7c906ff837c3c7313d8", "commitAfterChange": "f3828846066629968a44d377ba246bddf80a917b", "methodNumberBeforeChange": 43, "methodNumberAfterChange": 52, "signatureBeforeChange": "\r \t\r \tint get_accHelp(int varChild_vt, int varChild_reserved1, int varChild_lVal, int varChild_reserved2, int pszHelp)", "signatureAfterChange": "\r \t\r \tint get_accHelp(int varChild_vt, int varChild_reserved1, int varChild_lVal, int varChild_reserved2, int pszHelp)", "diff": ["-\t\tif (accessibleListeners.size() == 0) {\r", "-\t\t\treturn iaccessible.get_accHelp(varChild_vt, varChild_reserved1, varChild_lVal, varChild_reserved2, pszHelp);\r", "+\t\tif (iaccessible == null) return COM.CO_E_OBJNOTCONNECTED;\r", "+\t\tif ((varChild_vt & 0xFFFF) != COM.VT_I4) return COM.E_INVALIDARG;\r", "+\t\t\r", "+\t\t/* Get the default help string from the OS. */\r", "+\t\tString osHelp = null;\r", "+\t\tint code = iaccessible.get_accHelp(varChild_vt, varChild_reserved1, varChild_lVal, varChild_reserved2, pszHelp);\r", "+\t\tif (code == COM.E_INVALIDARG) code = COM.S_FALSE; // proxy doesn't know about app childID\r", "+\t\tif (accessibleListeners.size() == 0) return code;\r", "+\t\tif (code == COM.S_OK) {\r", "+\t\t\tint[] pHelp = new int[1];\r", "+\t\t\tCOM.MoveMemory(pHelp, pszHelp, 4);\r", "+\t\t\tint size = COM.SysStringByteLen(pHelp[0]);\r", "+\t\t\tif (size > 0) {\r", "+\t\t\t\tchar[] buffer = new char[(size + 1) /2];\r", "+\t\t\t\tCOM.MoveMemory(buffer, pHelp[0], size);\r", "+\t\t\t\tosHelp = new String(buffer);\r", "+\t\t\t}\r", "-\t\tif ((varChild_vt & 0xFFFF) != COM.VT_I4) return COM.E_INVALIDARG;\r", "-\t\tevent.childID = varChild_lVal - 1;\r", "+\t\tevent.childID = (varChild_lVal == COM.CHILDID_SELF) ? ACC.CHILDID_SELF : varChild_lVal - 1;\r", "+\t\tevent.result = osHelp;\r", "-\t\tif (event.result == null) return COM.S_FALSE;\r", "+\t\tif (event.result == null) return code;\r"]}], "num": 26727}