{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d9659f80c6a1883481be07ebe23fecee", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "288e833c28e43af4ecdee211466949b9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "50c2a94aa41394b55be67563e26f09a2902ba9c5", "commitAfterChange": "23a6e4d7db732d0428975af5e7322c5d3d73123d", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 18, "signatureBeforeChange": " public TreeItem getItem (Point point)", "signatureAfterChange": " public TreeItem getItem (Point point)", "diff": ["-\t\tint [] index = new int [1];", "-\t\tOS.gtk_tree_model_get (modelHandle, iter, ID_COLUMN, index, -1);", "-\t\titem = items [index [0]];", "+\t\tboolean overExpander = false;", "+\t\tif (OS.gtk_tree_model_iter_n_children (modelHandle, iter) > 0) {", "+\t\t\tint[] buffer = new int [1];", "+\t\t\tGdkRectangle rect = new GdkRectangle ();", "+\t\t\tOS.gtk_tree_view_get_cell_area (handle, path [0], columnHandle, rect);\t", "+\t\t\tOS.gtk_widget_style_get (handle, OS.expander_size, buffer, 0);", "+\t\t\tint expanderSize = buffer [0] + TreeItem.EXPANDER_EXTRA_PADDING;", "+\t\t\toverExpander = rect.x - 1 <= point.x && point.x < rect.x + expanderSize;", "+\t\t}", "+\t\tif (!overExpander) {", "+\t\t\tint [] index = new int [1];", "+\t\t\tOS.gtk_tree_model_get (modelHandle, iter, ID_COLUMN, index, -1);", "+\t\t\titem = items [index [0]];", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6c1b832b9fd1655b99fb86fe06224db3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "08ed4d34906d3cb004511badd9a3286f04d40b7a", "commitAfterChange": "3587c6fb9068182d41169c6c886f0d5faa0219e6", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 11, "signatureBeforeChange": " public TreeItem getItem (Point point)", "signatureAfterChange": " public TreeItem getItem (Point point)", "diff": ["-\tint [] row = new int [1], column = new int [1];", "-\tif (OS.gtk_clist_get_selection_info (handle, point.x, point.y, row, column) == 0) {", "-\t\treturn null;", "-\t}", "-\tint node = OS.gtk_ctree_node_nth (handle, row [0]);", "-\tif (node == 0) return null;", "-\tint index = OS.gtk_ctree_node_get_row_data (handle, node) - 1;", "-\tif (index == -1) return null;", "-\treturn items [index];", "+\tint [] path = new int [1];\t", "+\tif (!OS.gtk_tree_view_get_path_at_pos(handle, point.x, point.y, path, null, null, null)) return null;", "+\tif (path[0]==0) return null;", "+\tint iter = OS.g_malloc(OS.GtkTreeIter_sizeof());", "+\tOS.gtk_tree_model_get_iter(modelHandle, iter, path[0]);", "+\tint[] index = new int[1];", "+\tOS.gtk_tree_model_get(modelHandle, iter, 4, index, -1);", "+\tOS.g_free(iter);", "+\treturn items[index[0]];"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "846cf916851b3811a862f20e49cf01d6", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "6c4a2c166738e67832efca98869d4a51c06db92b", "commitAfterChange": "84d56fe220646f29848300da6bc168504ddc3a77", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 26, "signatureBeforeChange": " public TableItem getItem (Point pt)", "signatureAfterChange": " public TableItem getItem (Point pt)", "diff": ["-\tint clientX = pt.x;", "-\tint clientY = pt.y - OS.GTK_CLIST_COLUMN_TITLE_AREA_HEIGHT (handle);", "-\tint [] row = new int [1], column = new int [1];", "-\tif (OS.gtk_clist_get_selection_info (handle, clientX, clientY, row, column) == 0) {", "-\t\treturn null;", "-\t}", "-\tif (row [0] < 0 || row [0] >= itemCount) return null;", "-\treturn items [row [0]];", "+\tint[] path = new int[1];", "+\tint[] column = new int[1];", "+\tint clientY = pt.y - getHeaderHeight();", "+\tif (!OS.gtk_tree_view_get_path_at_pos(handle, pt.x, clientY, path, column, null, null)) return null;", "+\tint indexPtr = OS.gtk_tree_path_get_indices(path[0]);", "+\tif (indexPtr==0) return null;", "+\tint[] indices = new int[1];", "+\tOS.memmove(indices, indexPtr, 4);", "+\treturn items [indices[0]];"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3aa0bd871cf68e41434420982511a8ca", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/TreeItem.java", "commitBeforeChange": "08ed4d34906d3cb004511badd9a3286f04d40b7a", "commitAfterChange": "3587c6fb9068182d41169c6c886f0d5faa0219e6", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": " public TreeItem getParentItem ()", "signatureAfterChange": " public TreeItem getParentItem ()", "diff": ["-\tint data = OS.g_list_nth_data (handle, 0);\r", "-\tGtkCTreeRow row = new GtkCTreeRow ();\r", "-\tOS.memmove (row, data, GtkCTreeRow.sizeof);\r", "-\tif (row.parent == 0) return null;\r", "-\tint ctree = parent.handle;\r", "-\tint index = OS.gtk_ctree_node_get_row_data (ctree, row.parent) - 1;\r", "-\treturn parent.items [index];\r", "+\tint path = OS.gtk_tree_model_get_path(parent.modelHandle, handle);\r", "+\tif (OS.gtk_tree_path_get_depth(path)<2) {\r", "+\t\tOS.gtk_tree_path_free(path);\r", "+\t\treturn null;\r", "+\t}\r", "+\tOS.gtk_tree_path_up(path);\r", "+\tint iter = OS.g_malloc(OS.GtkTreeIter_sizeof());\r", "+\tOS.gtk_tree_model_get_iter(parent.modelHandle, iter, path);\r", "+\tint[] index = new int[1];\r", "+\tOS.gtk_tree_model_get(parent.modelHandle, iter, 4, index, -1);\r", "+\tOS.g_free(iter);\r", "+\tOS.gtk_tree_path_free(path);\r", "+\treturn parent.items[index[0]];\r"]}], "num": 62511}