{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a13e4dc56bda9898459c78d59d63748b", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "666eaef5d6ef364a000e0db493d9b26c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "9be50f235bbc31557960b17275b7cebd73643650", "commitAfterChange": "10db8dbc96013208bcbf8d30efcda65b3990ef39", "methodNumberBeforeChange": 27, "methodNumberAfterChange": 27, "signatureBeforeChange": " public static synchronized Display findDisplay (Thread thread)", "signatureAfterChange": " public static Display findDisplay (Thread thread)", "diff": ["-public static synchronized Display findDisplay (Thread thread) {", "-\tfor (int i=0; i<Displays.length; i++) {", "-\t\tDisplay display = Displays [i];", "-\t\tif (display != null && display.thread == thread) {", "-\t\t\treturn display;", "+public static Display findDisplay (Thread thread) {", "+\tsynchronized (Device.class) {", "+\t\tfor (int i=0; i<Displays.length; i++) {", "+\t\t\tDisplay display = Displays [i];", "+\t\t\tif (display != null && display.thread == thread) {", "+\t\t\t\treturn display;", "+\t\t\t}", "+\t\treturn null;", "-\treturn null;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bd1d203bf52556c806525fcfcc5f1988", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "9be50f235bbc31557960b17275b7cebd73643650", "commitAfterChange": "10db8dbc96013208bcbf8d30efcda65b3990ef39", "methodNumberBeforeChange": 79, "methodNumberAfterChange": 79, "signatureBeforeChange": " public Thread getThread ()", "signatureAfterChange": " public Thread getThread ()", "diff": ["-\tif (isDisposed ()) error (SWT.ERROR_DEVICE_DISPOSED);", "-\treturn thread;", "+\tsynchronized (Device.class) {", "+\t\tif (isDisposed ()) error (SWT.ERROR_DEVICE_DISPOSED);", "+\t\treturn thread;", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "02226b825b808cfe8a672ba3435356b7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "9be50f235bbc31557960b17275b7cebd73643650", "commitAfterChange": "10db8dbc96013208bcbf8d30efcda65b3990ef39", "methodNumberBeforeChange": 57, "methodNumberAfterChange": 57, "signatureBeforeChange": " public static synchronized Display getDefault ()", "signatureAfterChange": " public static Display getDefault ()", "diff": ["-public static synchronized Display getDefault () {", "-\tif (Default == null) Default = new Display ();", "-\treturn Default;", "+public static Display getDefault () {", "+\tsynchronized (Device.class) {", "+\t\tif (Default == null) Default = new Display ();", "+\t\treturn Default;", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0e6f3cf5cc581be8b3e73157aa968654", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "9be50f235bbc31557960b17275b7cebd73643650", "commitAfterChange": "10db8dbc96013208bcbf8d30efcda65b3990ef39", "methodNumberBeforeChange": 97, "methodNumberAfterChange": 97, "signatureBeforeChange": " public boolean post (Event event)", "signatureAfterChange": " public boolean post (Event event)", "diff": ["-\tif (isDisposed ()) error (SWT.ERROR_DEVICE_DISPOSED);", "-\tif (event == null) error (SWT.ERROR_NULL_ARGUMENT);", "-\tif (!OS.GDK_WINDOWING_X11()) return false;", "-\tint /*long*/ xDisplay = OS.GDK_DISPLAY ();", "-\tint type = event.type;", "-\tswitch (type) {", "-\t\tcase SWT.KeyDown:", "-\t\tcase SWT.KeyUp: {", "-\t\t\tint keyCode = 0;", "-\t\t\tint /*long*/ keysym = untranslateKey (event.keyCode);", "-\t\t\tif (keysym != 0) keyCode = OS.XKeysymToKeycode (xDisplay, keysym);", "-\t\t\tif (keyCode == 0) {", "-\t\t\t\tchar key = event.character;", "-\t\t\t\tswitch (key) {", "-\t\t\t\t\tcase SWT.BS: keysym = OS.GDK_BackSpace; break;", "-\t\t\t\t\tcase SWT.CR: keysym = OS.GDK_Return; break;", "-\t\t\t\t\tcase SWT.DEL: keysym = OS.GDK_Delete; break;", "-\t\t\t\t\tcase SWT.ESC: keysym = OS.GDK_Escape; break;", "-\t\t\t\t\tcase SWT.TAB: keysym = OS.GDK_Tab; break;", "-\t\t\t\t\tcase SWT.LF: keysym = OS.GDK_Linefeed; break;", "-\t\t\t\t\tdefault:", "-\t\t\t\t\t\tkeysym = wcsToMbcs (key);", "+\tsynchronized (Device.class) {", "+\t\tif (isDisposed ()) error (SWT.ERROR_DEVICE_DISPOSED);", "+\t\tif (event == null) error (SWT.ERROR_NULL_ARGUMENT);", "+\t\tif (!OS.GDK_WINDOWING_X11()) return false;", "+\t\tint /*long*/ xDisplay = OS.GDK_DISPLAY ();", "+\t\tint type = event.type;", "+\t\tswitch (type) {", "+\t\t\tcase SWT.KeyDown:", "+\t\t\tcase SWT.KeyUp: {", "+\t\t\t\tint keyCode = 0;", "+\t\t\t\tint /*long*/ keysym = untranslateKey (event.keyCode);", "+\t\t\t\tif (keysym != 0) keyCode = OS.XKeysymToKeycode (xDisplay, keysym);", "+\t\t\t\tif (keyCode == 0) {", "+\t\t\t\t\tchar key = event.character;", "+\t\t\t\t\tswitch (key) {", "+\t\t\t\t\t\tcase SWT.BS: keysym = OS.GDK_BackSpace; break;", "+\t\t\t\t\t\tcase SWT.CR: keysym = OS.GDK_Return; break;", "+\t\t\t\t\t\tcase SWT.DEL: keysym = OS.GDK_Delete; break;", "+\t\t\t\t\t\tcase SWT.ESC: keysym = OS.GDK_Escape; break;", "+\t\t\t\t\t\tcase SWT.TAB: keysym = OS.GDK_Tab; break;", "+\t\t\t\t\t\tcase SWT.LF: keysym = OS.GDK_Linefeed; break;", "+\t\t\t\t\t\tdefault:", "+\t\t\t\t\t\t\tkeysym = wcsToMbcs (key);", "+\t\t\t\t\t}", "+\t\t\t\t\tkeyCode = OS.XKeysymToKeycode (xDisplay, keysym);", "+\t\t\t\t\tif (keyCode == 0) return false;", "-\t\t\t\tkeyCode = OS.XKeysymToKeycode (xDisplay, keysym);", "-\t\t\t\tif (keyCode == 0) return false;", "+\t\t\t\tOS.XTestFakeKeyEvent (xDisplay, keyCode, type == SWT.KeyDown, 0);", "+\t\t\t\treturn true;", "-\t\t\tOS.XTestFakeKeyEvent (xDisplay, keyCode, type == SWT.KeyDown, 0);", "-\t\t\treturn true;", "-\t\t}", "-\t\tcase SWT.MouseDown:", "-\t\tcase SWT.MouseMove: ", "-\t\tcase SWT.MouseUp: {", "-\t\t\tif (type == SWT.MouseMove) {", "-\t\t\t\tOS.XTestFakeMotionEvent (xDisplay, -1, event.x, event.y, 0);", "-\t\t\t} else {", "-\t\t\t\tint button = event.button;", "-\t\t\t\tswitch (button) {", "-\t\t\t\t\tcase 1:", "-\t\t\t\t\tcase 2:", "-\t\t\t\t\tcase 3:\tbreak;", "-\t\t\t\t\tcase 4: button = 6;\tbreak;", "-\t\t\t\t\tcase 5: button = 7;\tbreak;", "-\t\t\t\t\tdefault: return false;", "+\t\t\tcase SWT.MouseDown:", "+\t\t\tcase SWT.MouseMove: ", "+\t\t\tcase SWT.MouseUp: {", "+\t\t\t\tif (type == SWT.MouseMove) {", "+\t\t\t\t\tOS.XTestFakeMotionEvent (xDisplay, -1, event.x, event.y, 0);", "+\t\t\t\t} else {", "+\t\t\t\t\tint button = event.button;", "+\t\t\t\t\tswitch (button) {", "+\t\t\t\t\t\tcase 1:", "+\t\t\t\t\t\tcase 2:", "+\t\t\t\t\t\tcase 3:\tbreak;", "+\t\t\t\t\t\tcase 4: button = 6;\tbreak;", "+\t\t\t\t\t\tcase 5: button = 7;\tbreak;", "+\t\t\t\t\t\tdefault: return false;", "+\t\t\t\t\t}", "+\t\t\t\t\tOS.XTestFakeButtonEvent (xDisplay, button, type == SWT.MouseDown, 0);", "-\t\t\t\tOS.XTestFakeButtonEvent (xDisplay, button, type == SWT.MouseDown, 0);", "+\t\t\t\treturn true;", "-\t\t\treturn true;", "+\t\t\t/*", "+\t\t\t* This code is intentionally commented. After posting a", "+\t\t\t* mouse wheel event the system may respond unpredictably", "+\t\t\t* to subsequent mouse actions.", "+\t\t\t*/", "+//\t\t\tcase SWT.MouseWheel: {", "+//\t\t\t\tif (event.count == 0) return false;", "+//\t\t\t\tint button = event.count < 0 ? 5 : 4;", "+//\t\t\t\tOS.XTestFakeButtonEvent (xDisplay, button, type == SWT.MouseWheel, 0);\t\t\t", "+//\t\t\t}", "-\t\t/*", "-\t\t* This code is intentionally commented. After posting a", "-\t\t* mouse wheel event the system may respond unpredictably", "-\t\t* to subsequent mouse actions.", "-\t\t*/", "-//\t\tcase SWT.MouseWheel: {", "-//\t\t\tif (event.count == 0) return false;", "-//\t\t\tint button = event.count < 0 ? 5 : 4;", "-//\t\t\tOS.XTestFakeButtonEvent (xDisplay, button, type == SWT.MouseWheel, 0);\t\t\t", "-//\t\t}", "+\t\treturn false;", "-\treturn false;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0f5a6548cb874bbc8e64a1c4f57a4783", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "9be50f235bbc31557960b17275b7cebd73643650", "commitAfterChange": "10db8dbc96013208bcbf8d30efcda65b3990ef39", "methodNumberBeforeChange": 72, "methodNumberAfterChange": 72, "signatureBeforeChange": " public Thread getSyncThread ()", "signatureAfterChange": " public Thread getSyncThread ()", "diff": ["-\tif (isDisposed ()) error (SWT.ERROR_DEVICE_DISPOSED);", "-\treturn synchronizer.syncThread;", "+\tsynchronized (Device.class) {", "+\t\tif (isDisposed ()) error (SWT.ERROR_DEVICE_DISPOSED);", "+\t\treturn synchronizer.syncThread;", "+\t}"]}], "num": 33523}