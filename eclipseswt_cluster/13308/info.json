{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a525fae0505971a3728618451854b8c3", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6ac78e3678290f1a8ca18cbd6f2536d2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/carbon/org/eclipse/swt/dnd/TextTransfer.java", "commitBeforeChange": "452d871fcea68f1621418c4579396b2b44eb318a", "commitAfterChange": "fc6114a34cc30ee561685ecb8204f4bd2bd64753", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " public void javaToNative (Object object, TransferData transferData)", "signatureAfterChange": " public void javaToNative (Object object, TransferData transferData)", "diff": ["-\t} ", "-\tbyte [] buffer = Converter.wcsToMbcs (null, (String)object, true);", "+\t}", "+\tString string = (String)object;", "+\tchar[] chars = new char[string.length()];", "+\tstring.getChars (0, chars.length, chars, 0);", "+\tint ptr = OS.CFStringCreateWithCharacters(OS.kCFAllocatorDefault, chars, chars.length);", "+\tif (ptr == 0) {", "+\t\ttransferData.result = -1;", "+\t\treturn;", "+\t}", "+\tCFRange range = new CFRange();", "+\trange.length = chars.length;", "+\tint encoding = OS.CFStringGetSystemEncoding();", "+\tint[] size = new int[1];", "+\tOS.CFStringGetBytes(ptr, range, encoding, (byte)'?', true, null, 0, size);", "+\tbyte[] buffer = new byte[size[0]];", "+\tOS.CFStringGetBytes(ptr, range, encoding, (byte)'?', true, buffer, size [0], size);", "+\tOS.CFRelease(ptr);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "57f0c5534bb4ede424fdec943e303deb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/carbon/org/eclipse/swt/dnd/RTFTransfer.java", "commitBeforeChange": "bd377d5ede28b82ea37a0902d7d539f96218e9fe", "commitAfterChange": "c03f2bbcabd697f87ad83444a1e4e58283e6ab32", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " public void javaToNative (Object object, TransferData transferData)", "signatureAfterChange": " public void javaToNative (Object object, TransferData transferData)", "diff": ["-\tif (object == null || !(object instanceof String)) return;", "-\tbyte [] buffer = Converter.wcsToMbcs (null, (String)object, true);", "+\tif (object == null || !(object instanceof String)) {", "+\t\ttransferData.result = -1;", "+\t\treturn;", "+\t}", "+\tString string = (String)object;", "+\tchar[] chars = new char[string.length()];", "+\tstring.getChars (0, chars.length, chars, 0);", "+\tint ptr = OS.CFStringCreateWithCharacters(OS.kCFAllocatorDefault, chars, chars.length);", "+\tif (ptr == 0) {", "+\t\ttransferData.result = -1;", "+\t\treturn;", "+\t}", "+\tCFRange range = new CFRange();", "+\trange.length = chars.length;", "+\tint encoding = OS.CFStringGetSystemEncoding();", "+\tint[] size = new int[1];", "+\tOS.CFStringGetBytes(ptr, range, encoding, (byte)'?', true, null, 0, size);", "+\tbyte[] buffer = new byte[size[0]];", "+\tOS.CFStringGetBytes(ptr, range, encoding, (byte)'?', true, buffer, size [0], size);", "+\tOS.CFRelease(ptr);"]}], "num": 13308}