{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "799f8495ef8cddc5ac438dd8e381c55e", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "637bbb2801d125e0e14530bf15a2dd08", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "f873a5e536bc324b9546bd9afbfa96c060b9f76e", "commitAfterChange": "c897ae21534e07170db934f50fc4eaad2e3589aa", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": " public Rectangle getBounds ()", "signatureAfterChange": " public Rectangle getBounds ()", "diff": ["-\tint x = OS.GTK_WIDGET_X (topHandle);", "-\tint y = OS.GTK_WIDGET_Y (topHandle);", "-\tint width = OS.GTK_WIDGET_WIDTH (topHandle);", "-\tint height = OS.GTK_WIDGET_HEIGHT (topHandle);", "+\tint x, y, width, height;", "+\t/*", "+\t* Bug in GTK.  Toolbar items are only allocated their minimum size", "+\t* in versions before 2.4.0.  The fix is to use the total size", "+\t* available minus any borders.", "+\t*/", "+\tif (OS.GTK_VERSION < OS.VERSION (2, 4, 0) && control != null && !control.isDisposed ()) {", "+\t\tint border = OS.gtk_container_get_border_width (parent.handle);", "+\t\tbyte [] shadowType = Converter.wcsToMbcs (null, \"shadow_type\", true);", "+\t\tint [] shadow = new int [1];", "+\t\tOS.gtk_widget_style_get (parent.handle, shadowType, shadow, 0);", "+\t\tif (shadow [0] != OS.GTK_SHADOW_NONE) {", "+\t\t\tborder += OS.gtk_style_get_xthickness (OS.gtk_widget_get_style (parent.handle));", "+\t\t}", "+\t\tif ((parent.style & SWT.VERTICAL) != 0) {", "+\t\t\tx = border;", "+\t\t\ty = OS.GTK_WIDGET_Y (topHandle) + border;", "+\t\t\twidth = OS.GTK_WIDGET_WIDTH (parent.handle) - border*2;", "+\t\t\theight = OS.GTK_WIDGET_HEIGHT (topHandle);\t\t\t", "+\t\t} else {", "+\t\t\tx = OS.GTK_WIDGET_X (topHandle) + border;", "+\t\t\ty = border;", "+\t\t\twidth = OS.GTK_WIDGET_WIDTH (topHandle);", "+\t\t\theight = OS.GTK_WIDGET_HEIGHT (parent.handle) - border*2;", "+\t\t}", "+\t} else {", "+\t\tx = OS.GTK_WIDGET_X (topHandle);", "+\t\ty = OS.GTK_WIDGET_Y (topHandle);", "+\t\twidth = OS.GTK_WIDGET_WIDTH (topHandle);", "+\t\theight = OS.GTK_WIDGET_HEIGHT (topHandle);\t\t", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e4db6500ef1f29615a1d61cd1f19e671", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "9cc72cd00c181250b1f51b95a0528a6b993c1ed9", "commitAfterChange": "1c6100db3e7e2869dd9939a388c01ffe02266ae6", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": " public Rectangle getBounds ()", "signatureAfterChange": " public Rectangle getBounds ()", "diff": ["-\t/*", "-\t* Bug in GTK.  Toolbar items are only allocated their minimum size", "-\t* in versions before 2.4.0.  The fix is to use the total size", "-\t* available minus any borders.", "-\t*/", "-\tif (OS.GTK_VERSION < OS.VERSION (2, 4, 0) && control != null && !control.isDisposed ()) {", "-\t\tint border = OS.gtk_container_get_border_width (parent.handle);", "-\t\tbyte [] shadowType = Converter.wcsToMbcs (null, \"shadow_type\", true);", "-\t\tint [] shadow = new int [1];", "-\t\tOS.gtk_widget_style_get (parent.handle, shadowType, shadow, 0);", "-\t\tif (shadow [0] != OS.GTK_SHADOW_NONE) {", "-\t\t\tborder += OS.gtk_style_get_xthickness (OS.gtk_widget_get_style (parent.handle));", "-\t\t}", "-\t\tif ((parent.style & SWT.VERTICAL) != 0) {", "-\t\t\tx = border;", "-\t\t\ty = OS.GTK_WIDGET_Y (topHandle) + border;", "-\t\t\twidth = OS.GTK_WIDGET_WIDTH (parent.handle) - border*2;", "-\t\t\theight = OS.GTK_WIDGET_HEIGHT (topHandle);\t\t\t", "-\t\t} else {", "-\t\t\tx = OS.GTK_WIDGET_X (topHandle) + border;", "-\t\t\ty = border;", "-\t\t\twidth = OS.GTK_WIDGET_WIDTH (topHandle);", "-\t\t\theight = OS.GTK_WIDGET_HEIGHT (parent.handle) - border*2;", "-\t\t}", "-\t} else {", "-\t\tx = OS.GTK_WIDGET_X (topHandle);", "-\t\ty = OS.GTK_WIDGET_Y (topHandle);", "-\t\twidth = OS.GTK_WIDGET_WIDTH (topHandle);", "-\t\theight = OS.GTK_WIDGET_HEIGHT (topHandle);\t\t", "-\t}", "+\tx = OS.GTK_WIDGET_X (topHandle);", "+\ty = OS.GTK_WIDGET_Y (topHandle);", "+\twidth = OS.GTK_WIDGET_WIDTH (topHandle);", "+\theight = OS.GTK_WIDGET_HEIGHT (topHandle);"]}], "num": 47509}