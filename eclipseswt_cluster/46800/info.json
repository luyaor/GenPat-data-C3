{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6af1a039bdb8a311c0478891026665b7", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "27856b1d16ce360587b1724420eb1e02", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Caret.java", "commitBeforeChange": "ee35d27d8f4e73e2435cc1829ff0629ac5f7f27d", "commitAfterChange": "bfcd4ac053f4f3d49b0df64a71b09d81feee02a5", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "  boolean drawCaret ()", "signatureAfterChange": "  boolean drawCaret ()", "diff": ["-\tint /*long*/ gc = OS.gdk_gc_new (window);", "-\tGdkColor color = new GdkColor ();", "-\tcolor.red = (short) 0xffff;", "-\tcolor.green = (short) 0xffff;", "-\tcolor.blue = (short) 0xffff;", "-\tint /*long*/ colormap = OS.gdk_colormap_get_system ();", "-\tOS.gdk_colormap_alloc_color (colormap, color, true, true);", "-\tOS.gdk_gc_set_foreground (gc, color);", "-\tOS.gdk_gc_set_function (gc, OS.GDK_XOR);", "-\tif (image != null && !image.isDisposed() && image.mask == 0) {", "-\t\tint[] width = new int[1]; int[] height = new int[1];", "-\t \tOS.gdk_drawable_get_size(image.pixmap, width, height);", "-\t \tint nX = x;", "-\t\tif ((parent.style & SWT.MIRRORED) != 0) nX = parent.getClientWidth () - width[0] - nX;", "-\t \tOS.gdk_draw_drawable(window, gc, image.pixmap, 0, 0, nX, y, width[0], height[0]);", "+\tif (OS.USE_CAIRO) {", "+\t\tint /*long*/ cairo = OS.gdk_cairo_create(window);", "+\t\tif (cairo == 0) SWT.error(SWT.ERROR_NO_HANDLES);", "+\t\tCairo.cairo_set_source_rgb(cairo, 1, 1, 1);", "+\t\tCairo.cairo_set_operator(cairo, Cairo.CAIRO_OPERATOR_DIFFERENCE);", "+\t\tif (image != null && !image.isDisposed() && image.mask == 0) {", "+\t\t\tint /*long*/ surface = Cairo.cairo_get_target(cairo);", "+\t\t\tint nWidth = 0;", "+\t\t\tswitch (Cairo.cairo_surface_get_type(surface)) {", "+\t\t\t\tcase Cairo.CAIRO_SURFACE_TYPE_IMAGE:", "+\t\t\t\t\tnWidth = Cairo.cairo_image_surface_get_width(surface);", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase Cairo.CAIRO_SURFACE_TYPE_XLIB: ", "+\t\t\t\t\tnWidth = Cairo.cairo_xlib_surface_get_width(surface);", "+\t\t\t\t\tbreak;", "+\t\t\t}", "+\t\t\tint nX = x;", "+\t\t\tif ((parent.style & SWT.MIRRORED) != 0) nX = parent.getClientWidth () - nWidth - nX;", "+\t\t\tCairo.cairo_translate(cairo, nX, y); ", "+\t\t\tCairo.cairo_set_source_surface(cairo, image.surface, 0, 0);", "+\t\t\tCairo.cairo_paint(cairo);", "+\t\t} else {", "+\t\t\tint nWidth = width, nHeight = height;", "+\t\t\tif (nWidth <= 0) nWidth = DEFAULT_WIDTH;", "+\t\t\tint nX = x;", "+\t\t\tif ((parent.style & SWT.MIRRORED) != 0) nX = parent.getClientWidth () - nWidth - nX;", "+\t\t\tCairo.cairo_rectangle(cairo, nX, y, nWidth, nHeight);", "+\t\t}", "+\t\tCairo.cairo_fill(cairo);", "+\t\tCairo.cairo_destroy(cairo);", "-\t\tint nWidth = width, nHeight = height;", "-\t\tif (nWidth <= 0) nWidth = DEFAULT_WIDTH;", "-\t\tint nX = x;", "-\t\tif ((parent.style & SWT.MIRRORED) != 0) nX = parent.getClientWidth () - nWidth - nX;", "-\t\tOS.gdk_draw_rectangle (window, gc, 1, nX, y, nWidth, nHeight);", "+\t\tint /*long*/ gc = OS.gdk_gc_new (window);", "+\t\tGdkColor color = new GdkColor ();", "+\t\tcolor.red = (short) 0xffff;", "+\t\tcolor.green = (short) 0xffff;", "+\t\tcolor.blue = (short) 0xffff;", "+\t\tint /*long*/ colormap = OS.gdk_colormap_get_system ();", "+\t\tOS.gdk_colormap_alloc_color (colormap, color, true, true);", "+\t\tOS.gdk_gc_set_foreground (gc, color);", "+\t\tOS.gdk_gc_set_function (gc, OS.GDK_XOR);", "+\t\tif (image != null && !image.isDisposed() && image.mask == 0) {", "+\t\t\tint[] width = new int[1]; int[] height = new int[1];", "+\t\t\tOS.gdk_drawable_get_size(image.pixmap, width, height);", "+\t\t\tint nX = x;", "+\t\t\tif ((parent.style & SWT.MIRRORED) != 0) nX = parent.getClientWidth () - width[0] - nX;", "+\t\t\tOS.gdk_draw_drawable(window, gc, image.pixmap, 0, 0, nX, y, width[0], height[0]);", "+\t\t} else {", "+\t\t\tint nWidth = width, nHeight = height;", "+\t\t\tif (nWidth <= 0) nWidth = DEFAULT_WIDTH;", "+\t\t\tint nX = x;", "+\t\t\tif ((parent.style & SWT.MIRRORED) != 0) nX = parent.getClientWidth () - nWidth - nX;", "+\t\t\tOS.gdk_draw_rectangle (window, gc, 1, nX, y, nWidth, nHeight);", "+\t\t}", "+\t\tOS.g_object_unref (gc);", "+\t\tOS.gdk_colormap_free_colors (colormap, color, 1);", "-\tOS.g_object_unref (gc);", "-\tOS.gdk_colormap_free_colors (colormap, color, 1);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "18ca9e9656a477033f83e1cd9a680f14", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "966531c8bcdaaa6d602257d97118cca4cedf54d7", "commitAfterChange": "d03ee3ef48d55db63b28ee70d6aa938a064ef2bb", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "  void drawBackground (Control control, int window, int region, int x, int y, int width, int height)", "signatureAfterChange": "  void drawBackground (Control control, int window, int region, int x, int y, int width, int height)", "diff": ["+\tif (OS.USE_CAIRO_SURFACE) {", "+\t\tint /*long*/ cairo = OS.gdk_cairo_create(window);", "+\t\tif (cairo == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\tif (region != 0) OS.gdk_cairo_region(cairo, region);", "+\t\tif (control.backgroundImage != null) {", "+\t\t\tint /*long*/ pattern = Cairo.cairo_pattern_create_for_surface (control.backgroundImage.surface);", "+\t\t\tif (pattern == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\t\tCairo.cairo_pattern_set_extend (pattern, Cairo.CAIRO_EXTEND_REPEAT);", "+\t\t\tif ((style & SWT.MIRRORED) != 0) {", "+\t\t\t\tdouble[] matrix = {-1, 0, 0, 1, 0, 0};", "+\t\t\t\tCairo.cairo_pattern_set_matrix(pattern, matrix);", "+\t\t\t}", "+\t\t\tCairo.cairo_set_source (cairo, pattern);", "+\t\t\tCairo.cairo_pattern_destroy (pattern);", "+\t\t} else {", "+\t\t\tGdkColor color = control.getBackgroundColor ();", "+\t\t\tCairo.cairo_set_source_rgba (cairo, (color.red & 0xFFFF) / (float)0xFFFF, (color.green & 0xFFFF) / (float)0xFFFF, (color.blue & 0xFFFF) / (float)0xFFFF, 1);", "+\t\t}", "+\t\tCairo.cairo_rectangle (cairo, x, y, width, height);", "+\t\tCairo.cairo_fill (cairo);", "+\t\tCairo.cairo_destroy(cairo);", "+\t\treturn;", "+\t}"]}], "num": 46800}