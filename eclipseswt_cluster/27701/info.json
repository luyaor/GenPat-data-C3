{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "442f9ac174302d42474ceac98159480f", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d966b12c4014dd32717e765f9bf62882", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Program/cocoa/org/eclipse/swt/program/Program.java", "commitBeforeChange": "18a77004921c958d7933e6a4bf2f9879ef0cfdc3", "commitAfterChange": "235449f60e73b051bff45b523d24758455cf4aa9", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": " public boolean execute (String fileName)", "signatureAfterChange": " public boolean execute (String fileName)", "diff": ["-//\tif (OS.VERSION < 0x1040) return launch(fileName);", "-//\tint rc = -1;", "-//\tint fsRefPtr = OS.NewPtr(fsRef.length);", "-//\tif (fsRefPtr != 0) {", "-//\t\tOS.memmove(fsRefPtr, fsRef, fsRef.length);", "-//\t\tLSApplicationParameters params = new LSApplicationParameters();", "-//\t\tparams.version = 0;", "-//\t\tparams.flags = 0;", "-//\t\tparams.application = fsRefPtr;", "-//\t\tif (fileName.length() == 0) {", "-//\t\t\trc = OS.LSOpenApplication(params, null);", "-//\t\t} else {", "-//\t\t\tif (fileName.indexOf(':') == -1) fileName = \"file://\" + fileName;", "-//\t\t\tchar[] chars = new char[fileName.length()];", "-//\t\t\tfileName.getChars(0, chars.length, chars, 0);", "-//\t\t\tint str = OS.CFStringCreateWithCharacters(0, chars, chars.length);", "-//\t\t\tif (str != 0) {", "-//\t\t\t\tint unscapedStr = OS.CFStringCreateWithCharacters(0, new char[]{'%'}, 1);", "-//\t\t\t\tint escapedStr = OS.CFURLCreateStringByAddingPercentEscapes(OS.kCFAllocatorDefault, str, unscapedStr, 0, OS.kCFStringEncodingUTF8);", "-//\t\t\t\tif (escapedStr != 0) {", "-//\t\t\t\t\tint urls = OS.CFArrayCreateMutable(OS.kCFAllocatorDefault, 1, 0);", "-//\t\t\t\t\tif (urls != 0) {", "-//\t\t\t\t\t\tint url = OS.CFURLCreateWithString(OS.kCFAllocatorDefault, escapedStr, 0);", "-//\t\t\t\t\t\tif (url != 0) {", "-//\t\t\t\t\t\t\tOS.CFArrayAppendValue(urls, url);", "-//\t\t\t\t\t\t\trc = OS.LSOpenURLsWithRole(urls, OS.kLSRolesAll, 0, params, null, 0);", "-//\t\t\t\t\t\t}", "-//\t\t\t\t\t\tOS.CFRelease(urls);", "-//\t\t\t\t\t}", "-//\t\t\t\t\tOS.CFRelease(escapedStr);", "-//\t\t\t\t}", "-//\t\t\t\tif (unscapedStr != 0) OS.CFRelease(unscapedStr);", "-//\t\t\t\tOS.CFRelease(str);", "-//\t\t\t}", "-//\t\t}", "-//\t\tOS.DisposePtr(fsRefPtr);", "-//\t}", "-//\treturn rc == OS.noErr;", "-\treturn false;", "+\tNSWorkspace workspace = NSWorkspace.sharedWorkspace();", "+\tNSString fullPath = NSString.stringWith(fileName);", "+\treturn workspace.openFile_withApplication_(fullPath, NSString.stringWith(name));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e32c08a8f38740a2a2774e8f4417e9e2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Program/carbon/org/eclipse/swt/program/Program.java", "commitBeforeChange": "b6666a5139ca22ba429077362792bdaf8b234877", "commitAfterChange": "c75fa2aaa81cd96400f0b4207d26c662b67c5bce", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 5, "signatureBeforeChange": " public static boolean launch (String fileName)", "signatureAfterChange": " public static boolean launch (String fileName)", "diff": ["-\tchar[] unescapedChars = new char[] {'%'};", "-\tString lowercaseName = fileName.toLowerCase ();", "-\tif (lowercaseName.startsWith (PREFIX_HTTP) || lowercaseName.startsWith (PREFIX_HTTPS)) {", "-\t\tunescapedChars = new char[] {'%', '#'};", "-\t} else {", "-\t\tif (!lowercaseName.startsWith (PREFIX_FILE)) {", "-\t\t\tfileName = PREFIX_FILE + fileName;", "-\t\t}", "-\t}", "-\tchar[] chars = new char[fileName.length()];", "-\tfileName.getChars(0, chars.length, chars, 0);", "-\tint str = OS.CFStringCreateWithCharacters(0, chars, chars.length);", "-\tif (str != 0) {", "-\t\tint unescapedStr = OS.CFStringCreateWithCharacters(0, unescapedChars, unescapedChars.length);", "-\t\tint escapedStr = OS.CFURLCreateStringByAddingPercentEscapes(OS.kCFAllocatorDefault, str, unescapedStr, 0, OS.kCFStringEncodingUTF8);", "-\t\tif (escapedStr != 0) {", "-\t\t\tint url = OS.CFURLCreateWithString(OS.kCFAllocatorDefault, escapedStr, 0);", "-\t\t\tif (url != 0) {", "-\t\t\t\trc = OS.LSOpenCFURLRef(url, null);", "-\t\t\t\tOS.CFRelease(url);", "-\t\t\t}", "-\t\t\tOS.CFRelease(escapedStr);", "-\t\t}", "-\t\tif (unescapedStr != 0) OS.CFRelease(unescapedStr);", "-\t\tOS.CFRelease(str);", "+\tint url = getURL(fileName);", "+\tif (url != 0) {", "+\t\trc = OS.LSOpenCFURLRef(url, null);", "+\t\tOS.CFRelease(url);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e02054d3e0fa7695bfa9205f96bfec9d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Program/carbon/org/eclipse/swt/program/Program.java", "commitBeforeChange": "b6666a5139ca22ba429077362792bdaf8b234877", "commitAfterChange": "c75fa2aaa81cd96400f0b4207d26c662b67c5bce", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 6, "signatureBeforeChange": " public boolean execute (String fileName)", "signatureAfterChange": " public boolean execute (String fileName)", "diff": ["-\t\t\tchar[] unescapedChars = new char[] {'%'};", "-\t\t\tString lowercaseName = fileName.toLowerCase ();", "-\t\t\tif (lowercaseName.startsWith (PREFIX_HTTP) || lowercaseName.startsWith (PREFIX_HTTPS)) {", "-\t\t\t\tunescapedChars = new char[] {'%', '#'};", "-\t\t\t} else {", "-\t\t\t\tif (!lowercaseName.startsWith (PREFIX_FILE)) {", "-\t\t\t\t\tfileName = PREFIX_FILE + fileName;", "+\t\t\tint url = getURL(fileName);", "+\t\t\tif (url != 0) {", "+\t\t\t\tint urls = OS.CFArrayCreateMutable(OS.kCFAllocatorDefault, 1, OS.kCFTypeArrayCallBacks ());", "+\t\t\t\tif (urls != 0) {", "+\t\t\t\t\tOS.CFArrayAppendValue(urls, url);", "+\t\t\t\t\trc = OS.LSOpenURLsWithRole(urls, OS.kLSRolesAll, 0, params, null, 0);", "+\t\t\t\t\tOS.CFRelease(urls);", "-\t\t\t}", "-\t\t\tchar[] chars = new char[fileName.length()];", "-\t\t\tfileName.getChars(0, chars.length, chars, 0);", "-\t\t\tint str = OS.CFStringCreateWithCharacters(0, chars, chars.length);", "-\t\t\tif (str != 0) {", "-\t\t\t\tint unescapedStr = OS.CFStringCreateWithCharacters(0, unescapedChars, unescapedChars.length);", "-\t\t\t\tint escapedStr = OS.CFURLCreateStringByAddingPercentEscapes(OS.kCFAllocatorDefault, str, unescapedStr, 0, OS.kCFStringEncodingUTF8);", "-\t\t\t\tif (escapedStr != 0) {", "-\t\t\t\t\tint urls = OS.CFArrayCreateMutable(OS.kCFAllocatorDefault, 1, OS.kCFTypeArrayCallBacks ());", "-\t\t\t\t\tif (urls != 0) {", "-\t\t\t\t\t\tint url = OS.CFURLCreateWithString(OS.kCFAllocatorDefault, escapedStr, 0);", "-\t\t\t\t\t\tif (url != 0) {", "-\t\t\t\t\t\t\tOS.CFArrayAppendValue(urls, url);", "-\t\t\t\t\t\t\tOS.CFRelease(url);", "-\t\t\t\t\t\t\trc = OS.LSOpenURLsWithRole(urls, OS.kLSRolesAll, 0, params, null, 0);", "-\t\t\t\t\t\t}", "-\t\t\t\t\t\tOS.CFRelease(urls);", "-\t\t\t\t\t}", "-\t\t\t\t\tOS.CFRelease(escapedStr);", "-\t\t\t\t}", "-\t\t\t\tif (unescapedStr != 0) OS.CFRelease(unescapedStr);", "-\t\t\t\tOS.CFRelease(str);", "+\t\t\t\tOS.CFRelease(url);"]}], "num": 27701}