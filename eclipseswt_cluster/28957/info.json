{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "1135317be7fd15cfd4b8bcdf42745331", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "516621d930ea52162769038f478754bd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder2.java", "commitBeforeChange": "bcdacd458fe7822094caa6c49744e969b163d36c", "commitAfterChange": "fe0a468ded9e6315703957fbc16daf8daad41be6", "methodNumberBeforeChange": 56, "methodNumberAfterChange": 56, "signatureBeforeChange": " void onMouse(Event event)", "signatureAfterChange": " void onMouse(Event event)", "diff": ["+\t\t\tif (upCount > 0) upCount++;", "-\t\t\tif (single && items.length > 1) {", "-\t\t\t\tfor (int i=0; i<items.length; i++) {", "-\t\t\t\t\tRectangle bounds = items[i].getBounds();", "-\t\t\t\t\tif (bounds.contains(x, y)) {", "-\t\t\t\t\t\tRectangle rect = new Rectangle(bounds.x, bounds.y, bounds.width, bounds.height);", "-\t\t\t\t\t\trect.y += onBottom ? -HIGHLIGHT_HEADER :HIGHLIGHT_HEADER;", "-\t\t\t\t\t\tif (listListeners.length == 0) {", "-\t\t\t\t\t\t\tshowList(rect, SWT.LEFT);", "-\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\tCTabFolderEvent e = new CTabFolderEvent(this);", "-\t\t\t\t\t\t\te.widget = this;", "-\t\t\t\t\t\t\te.time = event.time;", "-\t\t\t\t\t\t\te.rect = rect;", "-\t\t\t\t\t\t\tfor (int j = 0; j < listListeners.length; j++) {", "-\t\t\t\t\t\t\t\tlistListeners[j].showList(e);", "+\t\t\tif (upCount == 0 && single && selectedIndex != -1) {", "+\t\t\t\tRectangle bounds = items[selectedIndex].getBounds();", "+\t\t\t\tif (bounds.contains(x, y)) {", "+\t\t\t\t\tupCount = 1;", "+\t\t\t\t\tDisplay display = getDisplay();", "+\t\t\t\t\tint time = 3 * display.getDoubleClickTime() / 2;", "+\t\t\t\t\tdisplay.timerExec (time, new Runnable() {", "+\t\t\t\t\t\tpublic void run () {", "+\t\t\t\t\t\t\tif (!isDisposed() && upCount == 1 && selectedIndex != -1) {", "+\t\t\t\t\t\t\t\tRectangle rect = items[selectedIndex].getBounds();", "+\t\t\t\t\t\t\t\trect.y += onBottom ? -HIGHLIGHT_HEADER :HIGHLIGHT_HEADER;", "+\t\t\t\t\t\t\t\tCTabFolderEvent e = new CTabFolderEvent(CTabFolder2.this);", "+\t\t\t\t\t\t\t\te.widget = CTabFolder2.this;", "+\t\t\t\t\t\t\t\te.time = (int)System.currentTimeMillis();", "+\t\t\t\t\t\t\t\te.rect = rect;", "+\t\t\t\t\t\t\t\tif (listListeners.length == 0) {", "+\t\t\t\t\t\t\t\t\tshowList(e.rect, SWT.LEFT);", "+\t\t\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\t\t\tfor (int j = 0; j < listListeners.length; j++) {", "+\t\t\t\t\t\t\t\t\t\tlistListeners[j].showList(e);", "+\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\tupCount = 0;", "-\t\t\t\t\t\treturn;", "-\t\t\t\t\t}", "+\t\t\t\t\t});"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b4bd86f8978752a15133a6c58f28df49", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "32d236acbf212260d8a15aaf10bd60f40727bbee", "commitAfterChange": "b459fd332b98f905fe0dcf3d944f407b97f6b8e6", "methodNumberBeforeChange": 104, "methodNumberAfterChange": 105, "signatureBeforeChange": " void showList (Rectangle rect, int alignment)", "signatureAfterChange": " void showList (Rectangle rect, int alignment)", "diff": ["+\t// if all items are showing, no list is required", "+\tint lastIndex = getLastIndex();", "+\tif (!single && firstIndex == 0 && lastIndex == items.length - 1) return;", "+\tif (single && items.length == 1 && selectedIndex != -1) return;", "+\tfinal String id = \"CTabFolder_showList_Index\";", "+\t\tif (single) {", "+\t\t\tif (i == selectedIndex) continue;", "+\t\t} else {", "+\t\t\tif (i >= firstIndex && i <= lastIndex) continue;", "+\t\t}", "+\t\titem.setData(id, tab);", "-\t\t\t\tMenu menu = item.getParent();", "-\t\t\t\tint index = menu.indexOf(item);", "+\t\t\t\tint index = indexOf((CTabItem)item.getData(id));", "-\tPoint location = toDisplay(new Point(alignment == SWT.LEFT ? rect.x : rect.x + rect.width, rect.y + rect.height));", "+\tPoint size = menu.getSize();", "+\t// Code commented due to bug 53404", "+\t//int x = alignment == SWT.LEFT ? rect.x : rect.x + rect.width - size.x;", "+\t//int y = onBottom ? rect.y - size.y : rect.y + rect.height;", "+\tint x = rect.x;", "+\tint y = rect.y + rect.height;", "+\tPoint location = getDisplay().map(this, null, x, y);", "-\twhile (menu.isVisible()) {", "+\twhile (!menu.isDisposed() && menu.isVisible()) {"]}], "num": 28957}