{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d0e475c110f7553ca2eb4c111bba3b3c", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1787bcb5c0cc5b504512c0e27fe75138", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/carbon/org/eclipse/swt/dnd/DragSource.java", "commitBeforeChange": "4664a27a77c00f4a18425c1e6c5f951f1e08c071", "commitAfterChange": "0fcbe45f6737f225a306bf1a7ad2ba2157a1efe9", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "  private void drag(Event dragEvent)", "signatureAfterChange": "  private void drag(Event dragEvent)", "diff": ["-\t", "-\tint index = 0;", "+", "-\t\tfor (int j = 0; j < types.length; j++) {", "-\t\t\tOS.AddDragItemFlavor(theDrag[0], index++, types[j], null, 0, 0);\t", "-\t\t}\t", "-\t}", "-", "-\tif (index == 0) {", "-\t\tOS.DisposeDrag(theDrag[0]);", "-\t\tevent = new DNDEvent();", "-\t\tevent.widget = this;", "-\t\tevent.time = (int)System.currentTimeMillis();", "-\t\tevent.doit = false;", "-\t\tevent.detail = DND.DROP_NONE; ", "-\t\tnotifyListeners(DND.DragEnd, event);", "-\t\treturn;", "+\t\tif (transferAgents[i] instanceof FileTransfer) {", "+\t\t\tTransferData transferData = new TransferData();", "+\t\t\ttransferData.type = types[0];", "+\t\t\tevent = new DNDEvent();", "+\t\t\tevent.widget = this;", "+\t\t\tevent.time = (int)System.currentTimeMillis(); ", "+\t\t\tevent.dataType = transferData; ", "+\t\t\tnotifyListeners(DND.DragSetData, event);", "+\t\t\tif (event.data == null) return;", "+\t\t\tTransfer transferAgent = transferAgents[i];", "+\t\t\tfor (int j = 0; j < types.length; j++) {", "+\t\t\t\ttransferData.type = types[j];", "+\t\t\t\ttransferAgent.javaToNative(event.data, transferData);", "+\t\t\t\tif (transferData.result != OS.noErr) return;", "+\t\t\t\tfor (int k = 0; k < transferData.data.length; k++) {", "+\t\t\t\t\tbyte[] datum = transferData.data[k];", "+\t\t\t\t\tOS.AddDragItemFlavor(theDrag[0], 1 + k, types[j], datum, datum.length, 0);", "+\t\t\t\t}", "+\t\t\t}", "+\t\t} else {", "+\t\t\tfor (int j = 0; j < types.length; j++) {", "+\t\t\t\tOS.AddDragItemFlavor(theDrag[0], 1, types[j], null, 0, 0);\t", "+\t\t\t}\t", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3bbdd4a22ff5c08abd017aa368f168fe", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/cocoa/org/eclipse/swt/dnd/DragSource.java", "commitBeforeChange": "985a33eeda71c14e46669dd934a3b705e26d6a54", "commitAfterChange": "b5d451ff73cab660cce26aede8484184ae7203e0", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "  void drag(Event dragEvent)", "signatureAfterChange": "  void drag(Event dragEvent)", "diff": ["+\tTransfer fileTrans = null;", "+", "+\t\t\tif (transfer instanceof FileTransfer) {", "+\t\t\t\tfileTrans = transfer;", "+\t\t\t}\t\t\t", "+\tif (fileTrans != null) {", "+\t\tint[] types = fileTrans.getTypeIds();", "+\t\tTransferData transferData = new TransferData();", "+\t\ttransferData.type = types[0];", "+\t\tDNDEvent event2 = new DNDEvent();", "+\t\tevent2.widget = this;", "+\t\tevent2.time = (int)System.currentTimeMillis(); ", "+\t\tevent2.dataType = transferData; ", "+\t\tnotifyListeners(DND.DragSetData, event2);", "+\t\tif (event2.data != null) {", "+\t\t\tfor (int j = 0; j < types.length; j++) {", "+\t\t\t\ttransferData.type = types[j];", "+\t\t\t\tfileTrans.javaToNative(event2.data, transferData);", "+\t\t\t\tif (transferData.data != null) {", "+\t\t\t\t\tdragBoard.setPropertyList(transferData.data, OS.NSFilenamesPboardType);", "+\t\t\t\t}", "+\t\t\t}", "+\t\t}", "+\t}", "+"]}], "num": 2345}