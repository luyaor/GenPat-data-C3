{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "cbf2ecf0b51f8e09aeb7da05ba2b0f5f", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1b37ebf3794107be8b2daa44ed131f72", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "08809cd76478f88cb5fd681fd07e7cb686d89c90", "commitAfterChange": "8df88f0445bc8cb1b3e937ac645be0ab48f7aa47", "methodNumberBeforeChange": 180, "methodNumberAfterChange": 180, "signatureBeforeChange": " int getCaretDirection()", "signatureAfterChange": " int getCaretDirection()", "diff": ["-\tTextLayout layout = renderer.getTextLayout(line, lineOffset);", "-\tint level = layout.getLevel(offset);", "-\twhile (offset > 0 && level > 1) level = layout.getLevel(--offset);", "-\trenderer.disposeTextLayout(layout);", "-\tif (offset == 0 && level > 1) return isMirrored() ? SWT.RIGHT : SWT.LEFT;", "-\tint direction = SWT.LEFT;", "-\tif ((level & 1) != 0) direction = SWT.RIGHT;", "-\tif (isMirrored()) {", "-\t\tdirection = direction == SWT.LEFT ? SWT.RIGHT : SWT.LEFT;", "+\tif (offset == lineLength && offset > 0) offset--;", "+\twhile (offset > 0 && Character.isDigit(line.charAt(offset))) offset--;", "+\tif (offset == 0 && Character.isDigit(line.charAt(offset))) {", "+\t\treturn isMirrored() ? SWT.RIGHT : SWT.LEFT;", "-\treturn direction;", "+\tTextLayout layout = renderer.getTextLayout(line, lineOffset);", "+\tint level = layout.getLevel(offset);", "+\trenderer.disposeTextLayout(layout);", "+\treturn ((level & 1) != 0) ? SWT.RIGHT : SWT.LEFT;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0fdb93f6fa7e482173c494ae6c549a0e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "5544ce1d748561f71c4f1d1997c431f82e5c4c86", "commitAfterChange": "24e0049851c0d0a09cb9f25e5892d112e2936fed", "methodNumberBeforeChange": 276, "methodNumberAfterChange": 180, "signatureBeforeChange": " void setBidiCaretDirection()", "signatureAfterChange": " int getCaretDirection()", "diff": ["+int getCaretDirection() {", "+\tif (!isBidi()) return SWT.DEFAULT;", "+\tint caretLine = getCaretLine();", "+\tint lineOffset = content.getOffsetAtLine(caretLine);", "+\tString line = content.getLine(caretLine);", "+\tint offset = caretOffset - lineOffset;", "+\tint lineLength = line.length();", "+\tif (lineLength == 0) return isMirrored() ? SWT.RIGHT : SWT.LEFT;", "+\tTextLayout layout = renderer.getTextLayout(line, lineOffset, null);", "+\tif (advancing && offset > 0) offset--;", "+\tint level = layout.getLevel(offset);", "+\twhile (offset > 0 && level > 1) level = layout.getLevel(--offset);", "+\trenderer.disposeTextLayout(layout, null);", "+\tif (offset == 0 && level > 1) return isMirrored() ? SWT.RIGHT : SWT.LEFT;", "+\tint direction = SWT.LEFT;", "+\tif ((level & 1) != 0) direction = SWT.RIGHT;", "+\tif (isMirrored()) {", "+\t\tdirection = direction == SWT.LEFT ? SWT.RIGHT : SWT.LEFT;", "+\t}", "+\treturn direction;", "+}", "-void setBidiCaretDirection() {", "-\tint direction = StyledTextBidi.getKeyboardLanguageDirection();", "-\t\tcaret.setImage(null);", "-\t} ", "-\telse ", "-\t\tcaret.setImage(leftCaretBitmap);\t\t\t", "-\t} ", "-\telse ", "-\t\tcaret.setImage(rightCaretBitmap);\t\t\t", "-\t}", "-}"]}], "num": 28010}