{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "dc058eaba2242f44df120cf03334f477", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1f1cd31bd209f11b6c42b9c08fa9a4d2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "9deefd18be8de01a672cfca15620a560b1ae5f22", "commitAfterChange": "d67b8caceb3f10df6a8e238427498db262144133", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 38, "signatureBeforeChange": " public void getClipping(Region region)", "signatureAfterChange": " public void getClipping(Region region)", "diff": ["- */", "-public void getClipping(Region region) {\t", "-\tif (region == null) error(SWT.ERROR_NULL_ARGUMENT);", "-\tint hRegion = region.handle;", "-\tif (data.clipRgn == 0) {", "-\t\tint[] width = new int[1]; int[] height = new int[1];", "-\t\tOS.gdk_drawable_get_size(data.drawable, width, height);", "-\t\thRegion = OS.gdk_region_new();", "-\t\tGdkRectangle rect = new GdkRectangle();", "-\t\trect.x = 0; rect.y = 0;", "-\t\trect.width = (short)width[0]; rect.height = (short)height[0];", "-\t\tregion.handle = OS.gdk_region_union_with_rect(hRegion, rect);", "-\t\treturn;", "-\t}", "-\thRegion = OS.gdk_region_new();", "-\tregion.handle = OS.gdk_regions_union(data.clipRgn, hRegion);", "-}", "+ */", "+public void getClipping(Region region) {\t", "+\tif (handle == 0) SWT.error(SWT.ERROR_GRAPHIC_DISPOSED);", "+\tif (region == null) SWT.error(SWT.ERROR_NULL_ARGUMENT);", "+\tint hRegion = region.handle;", "+\tint clipRgn = data.clipRgn;", "+\tOS.gdk_region_subtract(hRegion, hRegion);", "+\tif (data.clipRgn == 0) {", "+\t\tint[] width = new int[1]; int[] height = new int[1];", "+\t\tOS.gdk_drawable_get_size(data.drawable, width, height);", "+\t\tGdkRectangle rect = new GdkRectangle();", "+\t\trect.x = 0; rect.y = 0;", "+\t\trect.width = width[0]; rect.height = height[0];", "+\t\tOS.gdk_region_union_with_rect(hRegion, rect);", "+\t\treturn;", "+\t}", "+\tOS.gdk_region_union(hRegion, clipRgn);", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "37e85bb0b5b156065332c0cebef3c49e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "978a5068b13063ede30b740ed3c44a97b7570e39", "commitAfterChange": "20cec0fcfd39844bd15ec0f72029c909ca9e3777", "methodNumberBeforeChange": 115, "methodNumberAfterChange": 115, "signatureBeforeChange": "  int gtk_visibility_notify_event (int widget, int event)", "signatureAfterChange": "  int gtk_visibility_notify_event (int widget, int event)", "diff": ["-\tif (gdkEvent.state == OS.GDK_VISIBILITY_FULLY_OBSCURED) {", "-\t\tstate |= OBSCURED;", "-\t} else {", "-\t\tif ((state & OBSCURED) != 0) {", "-\t\t\tint /*long*/ window = gdkEvent.window;", "-\t\t\tint [] width = new int [1], height = new int [1];", "-\t\t\tOS.gdk_drawable_get_size (window, width, height);", "-\t\t\tGdkRectangle rect = new GdkRectangle ();", "-\t\t\trect.width = width [0];", "-\t\t\trect.height = height [0];", "-\t\t\tOS.gdk_window_invalidate_rect (window, rect, true);", "+\tint /*long*/ paintWindow = paintWindow();", "+\tint /*long*/ window = gdkEvent.window;", "+\tif (window == paintWindow) {", "+\t\tif (gdkEvent.state == OS.GDK_VISIBILITY_FULLY_OBSCURED) {", "+\t\t\tstate |= OBSCURED;", "+\t\t} else {", "+\t\t\tif ((state & OBSCURED) != 0) {\t\t", "+\t\t\t\tint [] width = new int [1], height = new int [1];", "+\t\t\t\tOS.gdk_drawable_get_size (window, width, height);", "+\t\t\t\tGdkRectangle rect = new GdkRectangle ();", "+\t\t\t\trect.width = width [0];", "+\t\t\t\trect.height = height [0];", "+\t\t\t\tOS.gdk_window_invalidate_rect (window, rect, true);", "+\t\t\t}", "+\t\t\tstate &= ~OBSCURED;", "-\t\tstate &= ~OBSCURED;"]}], "num": 62190}