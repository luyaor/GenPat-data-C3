{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0be667d9854d3fdacc112ee975d92a8a", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1d3b9d067b41174d04ace79620f50e96", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "221110a7aad28344b4f9f22b1f6605ef072c3371", "commitAfterChange": "d05580e4c422bafa00cde82dd6220c7f18658c59", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 113, "signatureBeforeChange": "  void checkBackground ()", "signatureAfterChange": "  void setBackground ()", "diff": ["-void checkBackground () {", "-\tShell shell = getShell ();", "-\tComposite control = parent;", "-\tdo {", "-\t\tint mode = control.backgroundMode;", "-\t\tif (mode != 0) {", "-\t\t\tupdateBackgroundMode (mode);", "-\t\t\treturn;", "-\t\t}", "-\t\tif (control == shell) break;", "-\t\tcontrol = control.parent;", "-\t} while (control != null);", "-}", "+void setBackground () {", "+\tShell shell = getShell ();", "+\tif (this == shell) return;", "+\tComposite composite = parent;", "+\tdo {", "+\t\tint mode = composite.backgroundMode;", "+\t\tif (mode != 0) {", "+\t\t\tif (mode == SWT.INHERIT_DEFAULT) {", "+\t\t\t\tControl control = this;", "+\t\t\t\tdo {", "+\t\t\t\t\tif ((control.state & THEME_BACKGROUND) == 0) return;", "+\t\t\t\t\tcontrol = control.parent;", "+\t\t\t\t} while (control != composite);", "+\t\t\t}", "+\t\t\tstate |= PARENT_BACKGROUND;", "+\t\t\tControl control = findBackgroundControl ();", "+\t\t\tif (control == null) return;", "+\t\t\tif (control.backgroundImage != null) {", "+\t\t\t\tshell.releaseBrushes ();", "+\t\t\t\tupdateBackgroundImage ();\t\t", "+\t\t\t} else {", "+\t\t\t\tupdateBackgroundColor ();", "+\t\t\t}", "+\t\t\treturn;", "+\t\t}", "+\t\tif (composite == shell) break;", "+\t\tcomposite = composite.parent;", "+\t} while (true);", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cd095463b88f2540b573eea6e59307c1", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "bc390e523ad33cdcb413efc8c75a8067340424aa", "commitAfterChange": "def9dd3c9ed5f5f9d15cae6222faadd9db6a4bfc", "methodNumberBeforeChange": 113, "methodNumberAfterChange": 114, "signatureBeforeChange": "  void setBackground ()", "signatureAfterChange": "  void setBackground ()", "diff": ["-\tShell shell = getShell ();", "-\tif (this == shell) return;", "-\tComposite composite = parent;", "-\tdo {", "-\t\tint mode = composite.backgroundMode;", "-\t\tif (mode != 0) {", "-\t\t\tif (mode == SWT.INHERIT_DEFAULT) {", "-\t\t\t\tControl control = this;", "-\t\t\t\tdo {", "-\t\t\t\t\tif ((control.state & THEME_BACKGROUND) == 0) return;", "-\t\t\t\t\tcontrol = control.parent;", "-\t\t\t\t} while (control != composite);", "-\t\t\t}", "-\t\t\tstate |= PARENT_BACKGROUND;", "-\t\t\tControl control = findBackgroundControl ();", "-\t\t\tif (control == null) return;", "-\t\t\tif (control.backgroundImage != null) {", "-\t\t\t\tshell.releaseBrushes ();", "-\t\t\t\tupdateBackgroundImage ();\t\t", "-\t\t\t} else {", "-\t\t\t\tupdateBackgroundColor ();", "-\t\t\t}", "-\t\t\treturn;", "-\t\t}", "-\t\tif (composite == shell) break;", "-\t\tcomposite = composite.parent;", "-\t} while (true);", "+\tControl control = findBackgroundControl ();", "+\tif (control == null) control = this;", "+\tif (control.backgroundImage != null) {", "+\t\tShell shell = getShell ();", "+\t\tshell.releaseBrushes ();", "+\t\tsetBackgroundImage (control.backgroundImage.handle);", "+\t} else {", "+\t\tsetBackgroundPixel (control.background == -1 ? control.defaultBackground() : control.background);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3808161493cb9d72d7bbd536e26386d3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "bc390e523ad33cdcb413efc8c75a8067340424aa", "commitAfterChange": "def9dd3c9ed5f5f9d15cae6222faadd9db6a4bfc", "methodNumberBeforeChange": 111, "methodNumberAfterChange": 112, "signatureBeforeChange": " void setBackground ()", "signatureAfterChange": " void setBackground ()", "diff": ["-\tShell shell = getShell ();", "-\tif (this == shell) return;", "-\tComposite composite = parent;", "-\tdo {", "-\t\tint mode = composite.backgroundMode;", "-\t\tif (mode != 0) {", "-\t\t\tif (mode == SWT.INHERIT_DEFAULT) {", "-\t\t\t\tControl control = this;", "-\t\t\t\tdo {", "-\t\t\t\t\tif ((control.state & THEME_BACKGROUND) == 0) return;", "-\t\t\t\t\tcontrol = control.parent;", "-\t\t\t\t} while (control != composite);", "-\t\t\t}", "-\t\t\tstate |= PARENT_BACKGROUND;", "-\t\t\treturn;", "+\tif ((state & PARENT_BACKGROUND) != 0 && (state & BACKGROUND) == 0 && backgroundImage == null) {", "+\t\tsetParentBackground ();", "+\t} else {", "+\t\tif (backgroundImage != null) {", "+\t\t\tint [] argList = {OS.XmNbackgroundPixmap, backgroundImage.pixmap};", "+\t\t\tOS.XtSetValues (handle, argList, argList.length / 2);", "+\t\t} else {", "+\t\t\t/* Ensure the resource value changes, otherwise XtSetValues() does nothing */", "+\t\t\tint pixel = getBackgroundPixel ();", "+\t\t\tsetBackgroundPixel (pixel + 1);", "+\t\t\tsetBackgroundPixel (pixel);", "-\t\tif (composite == shell) break;", "-\t\tcomposite = composite.parent;", "-\t} while (true);", "+\t}", "+\tredrawWidget (0, 0, 0, 0, true, false, false);"]}], "num": 33616}