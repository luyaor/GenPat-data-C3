{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5a3935c5c3939148c06e75905aa0205f", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c95a35b1c640846809539e85e0a6a60d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon2/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "64cbe9dba56fd19153259107fd9e294dc23f8148", "commitAfterChange": "f3c932634f01c615b66ab97c33ec9f24e06338d1", "methodNumberBeforeChange": 31, "methodNumberAfterChange": 31, "signatureBeforeChange": "  int itemNotificationProc (int browser, int id, int message)", "signatureAfterChange": "  int itemNotificationProc (int browser, int id, int message)", "diff": ["+\t\tcase OS.kDataBrowserContainerClosing: {", "+\t\t\t/*", "+\t\t\t* Bug in the Macintosh.  For some reason, if the selected sub items of an item", "+\t\t\t* get a kDataBrowserItemDeselected notificaton when the item is collapsed, a", "+\t\t\t* call to GetDataBrowserSelectionAnchor () will cause a segment fault.  The", "+\t\t\t* fix is to deselect these items ignoring kDataBrowserItemDeselected and them", "+\t\t\t* issue a selection event.", "+\t\t\t*/", "+\t\t\tint ptr = OS.NewHandle (0);", "+\t\t\tif (OS.GetDataBrowserItems (handle, item.id, true, OS.kDataBrowserItemIsSelected, ptr) == OS.noErr) {", "+\t\t\t\tint count = OS.GetHandleSize (ptr) / 4;", "+\t\t\t\tif (count > 0) {", "+\t\t\t\t\tint [] ids = new int [count];", "+\t\t\t\t\tOS.HLock (ptr);", "+\t\t\t\t\tint [] start = new int [1];", "+\t\t\t\t\tOS.memcpy (start, ptr, 4);", "+\t\t\t\t\tOS.memcpy (ids, start [0], count * 4);", "+\t\t\t\t\tOS.HUnlock (ptr);", "+\t\t\t\t\tignoreSelect = true;", "+\t\t\t\t\tOS.SetDataBrowserSelectedItems (handle, ids.length, ids, OS.kDataBrowserItemsRemove);", "+\t\t\t\t\tignoreSelect = false;", "+\t\t\t\t\tEvent event = new Event ();", "+\t\t\t\t\tevent.item = item;", "+\t\t\t\t\tif (ignoreExpand) {", "+\t\t\t\t\t\tsendEvent (SWT.Selection, event);", "+\t\t\t\t\t} else {", "+\t\t\t\t\t\tpostEvent (SWT.Selection, event);", "+\t\t\t\t\t}\t\t\t\t\t\t ", "+\t\t\t\t}", "+\t\t\t}", "+\t\t\tOS.DisposeHandle (ptr);", "+\t\t\tbreak;", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ed1c370f2c8004075fae2b2ea23a2862", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/List.java", "commitBeforeChange": "d063aea08192e0213a4b6532b27dc31f9dce6e1b", "commitAfterChange": "48ef0056097e65cbe2f990bf125c93e76b95da33", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 31, "signatureBeforeChange": "  \t\tPair(String v)", "signatureAfterChange": "  int itemNotificationProc (int browser, int id, int message)", "diff": ["-", "-\t\tPair(String v) {", "-\t\t\tfValue= v;", "-\t\t\tfId= fRowID++;", "-\t\t}", "+", "+int itemNotificationProc (int browser, int id, int message) {", "+\tswitch (message) {", "+\t\tcase OS.kDataBrowserItemSelected:", "+\t\tcase OS.kDataBrowserItemDeselected: {", "+\t\t\tif (ignoreSelect) break;", "+\t\t\tint [] first = new int [1], last = new int [1];", "+\t\t\tOS.GetDataBrowserSelectionAnchor (handle, first, last);", "+\t\t\tboolean selected = false;", "+\t\t\tif ((style & SWT.MULTI) != 0) {", "+\t\t\t\tint modifiers = OS.GetCurrentEventKeyModifiers ();", "+\t\t\t\tif ((modifiers & OS.shiftKey) != 0) {", "+\t\t\t\t\tif (message == OS.kDataBrowserItemSelected) {", "+\t\t\t\t\t\tselected = first [0] == id || last [0] == id;", "+\t\t\t\t\t} else {", "+\t\t\t\t\t\tselected = id == anchorFirst || id == anchorLast;", "+\t\t\t\t\t}", "+\t\t\t\t} else {", "+\t\t\t\t\tif ((modifiers & OS.cmdKey) != 0) {", "+\t\t\t\t\t\tselected = true;", "+\t\t\t\t\t} else {", "+\t\t\t\t\t\tselected = first [0] == last [0];", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t} else {", "+\t\t\t\tselected = message == OS.kDataBrowserItemSelected;", "+\t\t\t}", "+\t\t\tif (selected) {", "+\t\t\t\tanchorFirst = first [0];", "+\t\t\t\tanchorLast = last [0];", "+\t\t\t\tpostEvent (SWT.Selection);", "+\t\t\t}", "+\t\t\tbreak;", "+\t\t}\t", "+\t\tcase OS.kDataBrowserItemDoubleClicked: {", "+\t\t\tpostEvent (SWT.DefaultSelection);", "+\t\t\tbreak;", "+\t\t}", "+\t}", "+\treturn OS.noErr;", "+}"]}], "num": 25208}