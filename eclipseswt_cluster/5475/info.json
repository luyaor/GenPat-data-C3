{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "7330fe16e075c7770ad2bfc0370a51bf", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "35c59a4d3f919b313367a01cc347ecfb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "724febd58ffeab21e913a74b79ef57e921733a87", "commitAfterChange": "18f55040fb554a39c6260254cb75ab87d1140b9e", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": " public void draw (GC gc, int x, int y, int selectionStart, int selectionEnd, Color selectionForeground, Color selectionBackground, int flags)", "signatureAfterChange": " public void draw (GC gc, int x, int y, int selectionStart, int selectionEnd, Color selectionForeground, Color selectionBackground, int flags)", "diff": ["-\t\t\tif (drawX > clip.x + clip.width && !hasAdorners) break;", "-\t\t\tif (drawX + run.width >= clip.x || hasAdorners) {", "+\t\t\tif (drawX > clip.x + clip.width) break;", "+\t\t\tif (drawX + run.width >= clip.x) {", "-\t\t\t\t\t\tunderlineClip = drawUnderlineGDIP(gdipGraphics, x, drawY + baseline, lineUnderlinePos, drawY + lineHeight, lineRuns, i, gdipFg, gdipSelForeground, underlineClip, pRect, selectionStart, selectionEnd, alpha);", "-\t\t\t\t\t\tstrikeoutClip = drawStrikeoutGDIP(gdipGraphics, x, drawY + baseline, lineRuns, i, gdipFg, gdipSelForeground, strikeoutClip, pRect, selectionStart, selectionEnd, alpha);", "-\t\t\t\t\t\tborderClip = drawBorderGDIP(gdipGraphics, x, drawY, lineHeight, lineRuns, i, gdipFg, gdipSelForeground, borderClip, pRect, selectionStart, selectionEnd, alpha);", "+\t\t\t\t\t\tunderlineClip = drawUnderlineGDIP(gdipGraphics, x, drawY + baseline, lineUnderlinePos, drawY + lineHeight, lineRuns, i, gdipFg, gdipSelForeground, underlineClip, pRect, selectionStart, selectionEnd, alpha, clip);", "+\t\t\t\t\t\tstrikeoutClip = drawStrikeoutGDIP(gdipGraphics, x, drawY + baseline, lineRuns, i, gdipFg, gdipSelForeground, strikeoutClip, pRect, selectionStart, selectionEnd, alpha, clip);", "+\t\t\t\t\t\tborderClip = drawBorderGDIP(gdipGraphics, x, drawY, lineHeight, lineRuns, i, gdipFg, gdipSelForeground, borderClip, pRect, selectionStart, selectionEnd, alpha, clip);", "-\t\t\t\t\t\tunderlineClip = drawUnderline(hdc, x, drawY + baseline, lineUnderlinePos, drawY + lineHeight, lineRuns, i, fg, selForeground, underlineClip, pRect, selectionStart, selectionEnd);", "-\t\t\t\t\t\tstrikeoutClip = drawStrikeout(hdc, x, drawY + baseline, lineRuns, i, fg, selForeground, strikeoutClip, pRect, selectionStart, selectionEnd);", "-\t\t\t\t\t\tborderClip = drawBorder(hdc, x, drawY, lineHeight, lineRuns, i, fg, selForeground, borderClip, pRect,  selectionStart, selectionEnd);", "+\t\t\t\t\t\tunderlineClip = drawUnderline(hdc, x, drawY + baseline, lineUnderlinePos, drawY + lineHeight, lineRuns, i, fg, selForeground, underlineClip, pRect, selectionStart, selectionEnd, clip);", "+\t\t\t\t\t\tstrikeoutClip = drawStrikeout(hdc, x, drawY + baseline, lineRuns, i, fg, selForeground, strikeoutClip, pRect, selectionStart, selectionEnd, clip);", "+\t\t\t\t\t\tborderClip = drawBorder(hdc, x, drawY, lineHeight, lineRuns, i, fg, selForeground, borderClip, pRect,  selectionStart, selectionEnd, clip);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "06778943e1ae9892f4951684d9c42acb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "364ae706089766a8dc4b724eef63613a541bd3cb", "commitAfterChange": "5aebd96e6e03d77d1ec1be3bdce35459d0a39900", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": " public void draw (GC gc, int x, int y, int selectionStart, int selectionEnd, Color selectionForeground, Color selectionBackground, int flags)", "signatureAfterChange": " public void draw (GC gc, int x, int y, int selectionStart, int selectionEnd, Color selectionForeground, Color selectionBackground, int flags)", "diff": ["-\tint /*long*/ foregroundBrush = 0;", "+\tint /*long*/ gdipForeground = 0;", "-\t\tforegroundBrush = gc.getFgBrush();", "+\t\tgdipForeground = gc.getFgBrush();", "-\tint /*long*/ selBrush = 0, selPen = 0, selBrushFg = 0, gdipFont = 0, lastHFont = 0;", "+\tint /*long*/ gdipSelBackground = 0, gdipSelForeground = 0, gdipFont = 0, lastHFont = 0;", "+\tint /*long*/ selBackground = 0;", "+\tint selForeground = 0;", "-\t\t\tselBrush = createGdipBrush(selectionBackground, alpha);", "-\t\t\tselBrushFg = createGdipBrush(selectionForeground, alpha);", "-\t\t\tselPen = Gdip.Pen_new(selBrushFg, 1);", "+\t\t\tgdipSelBackground = createGdipBrush(selectionBackground, alpha);", "+\t\t\tgdipSelForeground = createGdipBrush(selectionForeground, alpha);", "-\t\t\tselBrush = OS.CreateSolidBrush(selectionBackground.handle);", "-\t\t\tselPen = OS.CreatePen(OS.PS_SOLID, 1, selectionForeground.handle);", "+\t\t\tselBackground = OS.CreateSolidBrush(selectionBackground.handle);", "+\t\t\tselForeground = selectionForeground.handle;", "-\t\t\t\t\tGdip.Graphics_FillRectangle(gdipGraphics, selBrush, drawX + lineWidth[line], drawY, width, lineHeight);", "+\t\t\t\t\tGdip.Graphics_FillRectangle(gdipGraphics, gdipSelBackground, drawX + lineWidth[line], drawY, width, lineHeight);", "-\t\t\t\t\tOS.SelectObject(hdc, selBrush);", "+\t\t\t\t\tOS.SelectObject(hdc, selBackground);", "-\t\t\t\t\t\tdrawRunBackgroundGDIP(run, gdipGraphics, rect, selectionStart, selectionEnd, alpha, selBrush, hasSelection);", "+\t\t\t\t\t\tdrawRunBackgroundGDIP(run, gdipGraphics, rect, selectionStart, selectionEnd, alpha, gdipSelBackground, hasSelection);", "-\t\t\t\t\t\tdrawRunBackground(run, hdc, rect, selectionStart, selectionEnd, selBrush, hasSelection);", "+\t\t\t\t\t\tdrawRunBackground(run, hdc, rect, selectionStart, selectionEnd, selBackground, hasSelection);", "-\t\t\t\t\t\tpRect = drawRunTextGDIP(gdipGraphics, run, rect, gdipFont, baseline, foregroundBrush, selBrushFg, selectionStart, selectionEnd, alpha);", "-\t\t\t\t\t\tunderlineClip = drawUnderlineGDIP(gdipGraphics, x, drawY + baseline, lineUnderlinePos, drawY + lineHeight, lineRuns, i, foregroundBrush, selBrushFg, underlineClip, pRect, selectionStart, selectionEnd, alpha);", "-\t\t\t\t\t\tstrikeoutClip = drawStrikeoutGDIP(gdipGraphics, x, drawY + baseline, lineRuns, i, foregroundBrush, selBrushFg, strikeoutClip, pRect, selectionStart, selectionEnd, alpha);", "-\t\t\t\t\t\tborderClip = drawBorderGDIP(gdipGraphics, x, drawY, lineHeight, lineRuns, i, foregroundBrush, selBrushFg, borderClip, pRect, selectionStart, selectionEnd, alpha);", "+\t\t\t\t\t\tpRect = drawRunTextGDIP(gdipGraphics, run, rect, gdipFont, baseline, gdipForeground, gdipSelForeground, selectionStart, selectionEnd, alpha);", "+\t\t\t\t\t\tunderlineClip = drawUnderlineGDIP(gdipGraphics, x, drawY + baseline, lineUnderlinePos, drawY + lineHeight, lineRuns, i, gdipForeground, gdipSelForeground, underlineClip, pRect, selectionStart, selectionEnd, alpha);", "+\t\t\t\t\t\tstrikeoutClip = drawStrikeoutGDIP(gdipGraphics, x, drawY + baseline, lineRuns, i, gdipForeground, gdipSelForeground, strikeoutClip, pRect, selectionStart, selectionEnd, alpha);", "+\t\t\t\t\t\tborderClip = drawBorderGDIP(gdipGraphics, x, drawY, lineHeight, lineRuns, i, gdipForeground, gdipSelForeground, borderClip, pRect, selectionStart, selectionEnd, alpha);", "-\t\t\t\t\t\tint /*long*/ selForeground = selectionForeground != null ? selectionForeground.handle : 0;", "-\t\t\t\t\t\tborderClip = drawBorder(hdc, x, drawY, lineHeight, lineRuns, i,foreground, selForeground, borderClip, pRect,  selectionStart, selectionEnd);", "+\t\t\t\t\t\tborderClip = drawBorder(hdc, x, drawY, lineHeight, lineRuns, i, foreground, selForeground, borderClip, pRect,  selectionStart, selectionEnd);", "-\tif (gdip) {", "-\t\tif (selBrush != 0) Gdip.SolidBrush_delete(selBrush);", "-\t\tif (selBrushFg != 0) Gdip.SolidBrush_delete(selBrushFg);", "-\t\tif (selPen != 0) Gdip.Pen_delete(selPen);", "-\t\tif (gdipFont != 0) Gdip.Font_delete(gdipFont);", "-\t} else {", "-\t\tOS.RestoreDC(hdc, state);", "-\t\tif (gdipGraphics != 0) Gdip.Graphics_ReleaseHDC(gdipGraphics, hdc);", "-\t\tif (selBrush != 0) OS.DeleteObject (selBrush);", "-\t\tif (selPen != 0) OS.DeleteObject (selPen);", "-\t}", "+\tif (gdipSelBackground != 0) Gdip.SolidBrush_delete(gdipSelBackground);", "+\tif (gdipSelForeground != 0) Gdip.SolidBrush_delete(gdipSelForeground);", "+\tif (gdipFont != 0) Gdip.Font_delete(gdipFont);", "+\tif (state != 0)\tOS.RestoreDC(hdc, state);", "+\tif (selBackground != 0) OS.DeleteObject (selBackground);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "38d010c91fcad2db81b72777e42cc483", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "1e9c1ec7845fc7679853761e73cc73dbe189ed39", "commitAfterChange": "b84283a91e582d2270aa3a7806c977cb6509440e", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 14, "signatureBeforeChange": " public void draw (GC gc, int x, int y, int selectionStart, int selectionEnd, Color selectionForeground, Color selectionBackground, int flags)", "signatureAfterChange": " public void draw (GC gc, int x, int y, int selectionStart, int selectionEnd, Color selectionForeground, Color selectionBackground, int flags)", "diff": ["+\tint linkColor = OS.GetSysColor (OS.COLOR_HOTLIGHT);", "+\tint /*long*/ gdipLinkColor = 0;", "-\t\t\t\t\t\tif (gdipFont != 0) {", "-\t\t\t\t\t\t\tpRect = drawRunTextGDIP(gdipGraphics, run, rect, gdipFont, baseline, gdipForeground, gdipSelForeground, selectionStart, selectionEnd, alpha);", "-\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\tpRect = drawRunTextGDIPRaster(gdipGraphics, run, rect, baseline, foreground, selForeground, selectionStart, selectionEnd);", "+\t\t\t\t\t\tint /*long*/ gdipFg = gdipForeground;", "+\t\t\t\t\t\tif (style != null && style.underline && style.underlineStyle == SWT.UNDERLINE_LINK) {", "+\t\t\t\t\t\t\tif (gdipLinkColor == 0) gdipLinkColor = createGdipBrush(linkColor, alpha);", "+\t\t\t\t\t\t\tgdipFg = gdipLinkColor;", "-\t\t\t\t\t\tunderlineClip = drawUnderlineGDIP(gdipGraphics, x, drawY + baseline, lineUnderlinePos, drawY + lineHeight, lineRuns, i, gdipForeground, gdipSelForeground, underlineClip, pRect, selectionStart, selectionEnd, alpha);", "-\t\t\t\t\t\tstrikeoutClip = drawStrikeoutGDIP(gdipGraphics, x, drawY + baseline, lineRuns, i, gdipForeground, gdipSelForeground, strikeoutClip, pRect, selectionStart, selectionEnd, alpha);", "-\t\t\t\t\t\tborderClip = drawBorderGDIP(gdipGraphics, x, drawY, lineHeight, lineRuns, i, gdipForeground, gdipSelForeground, borderClip, pRect, selectionStart, selectionEnd, alpha);", "+\t\t\t\t\t\tif (gdipFont != 0) {", "+\t\t\t\t\t\t\tpRect = drawRunTextGDIP(gdipGraphics, run, rect, gdipFont, baseline, gdipFg, gdipSelForeground, selectionStart, selectionEnd, alpha);", "+\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\tint fg = style != null && style.underline && style.underlineStyle == SWT.UNDERLINE_LINK ? linkColor : foreground;", "+\t\t\t\t\t\t\tpRect = drawRunTextGDIPRaster(gdipGraphics, run, rect, baseline, fg, selForeground, selectionStart, selectionEnd);", "+\t\t\t\t\t\t}", "+\t\t\t\t\t\tunderlineClip = drawUnderlineGDIP(gdipGraphics, x, drawY + baseline, lineUnderlinePos, drawY + lineHeight, lineRuns, i, gdipFg, gdipSelForeground, underlineClip, pRect, selectionStart, selectionEnd, alpha);", "+\t\t\t\t\t\tstrikeoutClip = drawStrikeoutGDIP(gdipGraphics, x, drawY + baseline, lineRuns, i, gdipFg, gdipSelForeground, strikeoutClip, pRect, selectionStart, selectionEnd, alpha);", "+\t\t\t\t\t\tborderClip = drawBorderGDIP(gdipGraphics, x, drawY, lineHeight, lineRuns, i, gdipFg, gdipSelForeground, borderClip, pRect, selectionStart, selectionEnd, alpha);", "-\t\t\t\t\t\tpRect = drawRunText(hdc, run, rect, baseline, foreground, selForeground, selectionStart, selectionEnd);", "-\t\t\t\t\t\tunderlineClip = drawUnderline(hdc, x, drawY + baseline, lineUnderlinePos, drawY + lineHeight, lineRuns, i, foreground, selForeground, underlineClip, pRect, selectionStart, selectionEnd);", "-\t\t\t\t\t\tstrikeoutClip = drawStrikeout(hdc, x, drawY + baseline, lineRuns, i, foreground, selForeground, strikeoutClip, pRect, selectionStart, selectionEnd);", "-\t\t\t\t\t\tborderClip = drawBorder(hdc, x, drawY, lineHeight, lineRuns, i, foreground, selForeground, borderClip, pRect,  selectionStart, selectionEnd);", "+\t\t\t\t\t\tint fg = style != null && style.underline && style.underlineStyle == SWT.UNDERLINE_LINK ? linkColor : foreground;", "+\t\t\t\t\t\tpRect = drawRunText(hdc, run, rect, baseline, fg, selForeground, selectionStart, selectionEnd);", "+\t\t\t\t\t\tunderlineClip = drawUnderline(hdc, x, drawY + baseline, lineUnderlinePos, drawY + lineHeight, lineRuns, i, fg, selForeground, underlineClip, pRect, selectionStart, selectionEnd);", "+\t\t\t\t\t\tstrikeoutClip = drawStrikeout(hdc, x, drawY + baseline, lineRuns, i, fg, selForeground, strikeoutClip, pRect, selectionStart, selectionEnd);", "+\t\t\t\t\t\tborderClip = drawBorder(hdc, x, drawY, lineHeight, lineRuns, i, fg, selForeground, borderClip, pRect,  selectionStart, selectionEnd);", "+\tif (gdipLinkColor != 0) Gdip.SolidBrush_delete(gdipLinkColor);"]}], "num": 5475}