{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ead0b5c54a0552b8ad8c8f28236ba6b8", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c1fe52460f39fa9e4333bb84f44a82ad", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/ScrollBar.java", "commitBeforeChange": "7f5b2a8724a4c99b1e98e42d9c1071c198082c79", "commitAfterChange": "bd06d2d690b55a088d99d6410c5c4965d4f62897", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 25, "signatureBeforeChange": "  void sendSelection ()", "signatureAfterChange": "  void sendSelection ()", "diff": ["-\tboolean disableFlush = target == null;", "-\ttry {", "-\t\tif (disableFlush) {", "-\t\t\twindow.retain ();", "-\t\t\twindow.disableFlushWindow ();", "-\t\t}", "-\t\tint value = 0;", "-\t\tif (target != null) {", "-\t\t\tview.sendAction(actionSelector, target);", "-\t\t} else {", "-\t\t\tvalue = getSelection ();", "-\t\t}", "-\t\tNSPoint point;", "-\t\tNSEvent nsEvent = NSApplication.sharedApplication().currentEvent();", "-\t\tif (nsEvent != null) {", "-\t\t\tpoint = nsEvent.locationInWindow();", "-\t\t\tif (nsEvent.window() == null) point = window.convertScreenToBase(point);", "-\t\t} else {", "-\t\t\tpoint = window.mouseLocationOutsideOfEventStream();", "-\t\t}", "-\t\tint hitPart = (int)/*64*/((NSScroller)view).testPart(point);", "-\t\tEvent event = new Event();", "-\t\tswitch (hitPart) {", "-\t\t    case OS.NSScrollerDecrementLine:", "-\t\t        value -= increment;", "-\t\t        event.detail = SWT.ARROW_UP;", "-\t\t        break;", "-\t\t    case OS.NSScrollerDecrementPage:", "-\t\t        value -= pageIncrement;", "-\t\t        event.detail = SWT.PAGE_UP;", "-\t\t        break;", "-\t\t    case OS.NSScrollerIncrementLine:", "-\t\t        value += increment;", "-\t\t        event.detail = SWT.ARROW_DOWN;", "-\t\t        break;", "-\t\t    case OS.NSScrollerIncrementPage:", "-\t\t        value += pageIncrement;", "-\t\t        event.detail = SWT.PAGE_DOWN;", "-\t\t        break;", "-\t\t    case OS.NSScrollerKnob:", "-\t\t\t\tevent.detail = SWT.DRAG;", "-\t\t        break;", "-\t\t}", "-\t\tif (target == null) {", "-\t\t\tif (event.detail != SWT.DRAG) {", "-\t\t\t\tsetSelection(value);", "-\t\t\t}", "-\t\t}", "-\t\tsendSelectionEvent(SWT.Selection, event, true);", "-\t} finally {", "-\t\tif (disableFlush) {", "-\t\t\twindow.enableFlushWindow ();", "-\t\t\twindow.release ();", "+\tif (target == null) parent.getShell().deferFlushing();", "+\tint value = 0;", "+\tif (target != null) {", "+\t\tview.sendAction(actionSelector, target);", "+\t} else {", "+\t\tvalue = getSelection ();", "+\t}", "+\tNSPoint point;", "+\tNSEvent nsEvent = NSApplication.sharedApplication().currentEvent();", "+\tif (nsEvent != null) {", "+\t\tpoint = nsEvent.locationInWindow();", "+\t\tif (nsEvent.window() == null) point = window.convertScreenToBase(point);", "+\t} else {", "+\t\tpoint = window.mouseLocationOutsideOfEventStream();", "+\t}", "+\tint hitPart = (int)/*64*/((NSScroller)view).testPart(point);", "+\tEvent event = new Event();", "+\tswitch (hitPart) {", "+\tcase OS.NSScrollerDecrementLine:", "+\t\tvalue -= increment;", "+\t\tevent.detail = SWT.ARROW_UP;", "+\t\tbreak;", "+\tcase OS.NSScrollerDecrementPage:", "+\t\tvalue -= pageIncrement;", "+\t\tevent.detail = SWT.PAGE_UP;", "+\t\tbreak;", "+\tcase OS.NSScrollerIncrementLine:", "+\t\tvalue += increment;", "+\t\tevent.detail = SWT.ARROW_DOWN;", "+\t\tbreak;", "+\tcase OS.NSScrollerIncrementPage:", "+\t\tvalue += pageIncrement;", "+\t\tevent.detail = SWT.PAGE_DOWN;", "+\t\tbreak;", "+\tcase OS.NSScrollerKnob:", "+\t\tevent.detail = SWT.DRAG;", "+\t\tbreak;", "+\t}", "+\tif (target == null) {", "+\t\tif (event.detail != SWT.DRAG) {", "+\t\t\tsetSelection(value);", "+\tsendSelectionEvent(SWT.Selection, event, true);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7e6477c108520fa510c5138ae7a7a8e3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Composite.java", "commitBeforeChange": "7f5b2a8724a4c99b1e98e42d9c1071c198082c79", "commitAfterChange": "bd06d2d690b55a088d99d6410c5c4965d4f62897", "methodNumberBeforeChange": 45, "methodNumberAfterChange": 45, "signatureBeforeChange": "  void scrollWheel (int id, int sel, int theEvent)", "signatureAfterChange": "  void scrollWheel (int id, int sel, int theEvent)", "diff": ["-\t\t\tNSWindow window = view.window ();", "-\t\t\ttry {", "-\t\t\t\twindow.retain ();", "-\t\t\t\twindow.disableFlushWindow ();", "-\t\t\t\tNSEvent nsEvent = new NSEvent(theEvent);", "-\t\t\t\tboolean handled = false;", "-\t\t\t\tfloat /*double*/ delta = nsEvent.deltaY();", "-\t\t\t\tif (delta != 0) {", "-\t\t\t\t\tboolean doit = true;", "-\t\t\t\t\tif (hooks (SWT.MouseWheel) || filters (SWT.MouseWheel)) {", "-\t\t\t\t\t\tdoit = sendMouseEvent(nsEvent, SWT.MouseWheel, true);", "-\t\t\t\t\t}", "-\t\t\t\t\tScrollBar bar = verticalBar;", "-\t\t\t\t\tif (doit && bar != null && bar.getEnabled ()) {", "-\t\t\t\t\t\tif (-1 < delta && delta < 0) delta = -1;", "-\t\t\t\t\t\tif (0 < delta && delta < 1) delta = 1;", "-\t\t\t\t\t\tint selection = Math.max (0, (int)(0.5f + bar.getSelection () - bar.getIncrement () * delta));", "-\t\t\t\t\t\tbar.setSelection (selection);", "-\t\t\t\t\t\tEvent event = new Event ();", "-\t\t\t\t\t    event.detail = delta > 0 ? SWT.PAGE_UP : SWT.PAGE_DOWN;\t", "-\t\t\t\t\t\tbar.sendSelectionEvent (SWT.Selection, event, true);", "-\t\t\t\t\t\thandled = true;", "-\t\t\t\t\t}", "-\t\t\t\t\tif (!doit) handled = true;", "+\t\t\tgetShell().deferFlushing();", "+\t\t\tNSEvent nsEvent = new NSEvent(theEvent);", "+\t\t\tboolean handled = false;", "+\t\t\tfloat /*double*/ delta = nsEvent.deltaY();", "+\t\t\tif (delta != 0) {", "+\t\t\t\tboolean doit = true;", "+\t\t\t\tif (hooks (SWT.MouseWheel) || filters (SWT.MouseWheel)) {", "+\t\t\t\t\tdoit = sendMouseEvent(nsEvent, SWT.MouseWheel, true);", "-\t\t\t\tdelta = nsEvent.deltaX ();", "-\t\t\t\tif (delta != 0) {", "-\t\t\t\t\tboolean doit = true;", "-\t\t\t\t\tif (hooks (SWT.MouseHorizontalWheel) || filters (SWT.MouseHorizontalWheel)) {", "-\t\t\t\t\t\tdoit = sendMouseEvent(nsEvent, SWT.MouseHorizontalWheel, true);", "-\t\t\t\t\t}", "-\t\t\t\t\tScrollBar bar = horizontalBar;", "-\t\t\t\t\tif (doit && bar != null && bar.getEnabled ()) {", "-\t\t\t\t\t\tif (-1 < delta && delta < 0) delta = -1;", "-\t\t\t\t\t\tif (0 < delta && delta < 1) delta = 1;", "-\t\t\t\t\t\tint selection = Math.max (0, (int)(0.5f + bar.getSelection () - bar.getIncrement () * delta));", "-\t\t\t\t\t\tbar.setSelection (selection);", "-\t\t\t\t\t\tEvent event = new Event ();", "-\t\t\t\t\t    event.detail = delta > 0 ? SWT.PAGE_UP : SWT.PAGE_DOWN;\t", "-\t\t\t\t\t\tbar.sendSelectionEvent (SWT.Selection, event, true);", "-\t\t\t\t\t\thandled = true;", "-\t\t\t\t\t}", "-\t\t\t\t\tif (!doit) handled = true;", "+\t\t\t\tScrollBar bar = verticalBar;", "+\t\t\t\tif (doit && bar != null && bar.getEnabled ()) {", "+\t\t\t\t\tif (-1 < delta && delta < 0) delta = -1;", "+\t\t\t\t\tif (0 < delta && delta < 1) delta = 1;", "+\t\t\t\t\tint selection = Math.max (0, (int)(0.5f + bar.getSelection () - bar.getIncrement () * delta));", "+\t\t\t\t\tbar.setSelection (selection);", "+\t\t\t\t\tEvent event = new Event ();", "+\t\t\t\t\tevent.detail = delta > 0 ? SWT.PAGE_UP : SWT.PAGE_DOWN;\t", "+\t\t\t\t\tbar.sendSelectionEvent (SWT.Selection, event, true);", "+\t\t\t\t\thandled = true;", "-\t\t\t\tif (!handled) view.superview().scrollWheel(nsEvent);", "-\t\t\t} finally {", "-\t\t\t\twindow.enableFlushWindow ();", "-\t\t\t\twindow.release ();", "+\t\t\t\tif (!doit) handled = true;", "+\t\t\tdelta = nsEvent.deltaX ();", "+\t\t\tif (delta != 0) {", "+\t\t\t\tboolean doit = true;", "+\t\t\t\tif (hooks (SWT.MouseHorizontalWheel) || filters (SWT.MouseHorizontalWheel)) {", "+\t\t\t\t\tdoit = sendMouseEvent(nsEvent, SWT.MouseHorizontalWheel, true);", "+\t\t\t\t}", "+\t\t\t\tScrollBar bar = horizontalBar;", "+\t\t\t\tif (doit && bar != null && bar.getEnabled ()) {", "+\t\t\t\t\tif (-1 < delta && delta < 0) delta = -1;", "+\t\t\t\t\tif (0 < delta && delta < 1) delta = 1;", "+\t\t\t\t\tint selection = Math.max (0, (int)(0.5f + bar.getSelection () - bar.getIncrement () * delta));", "+\t\t\t\t\tbar.setSelection (selection);", "+\t\t\t\t\tEvent event = new Event ();", "+\t\t\t\t\tevent.detail = delta > 0 ? SWT.PAGE_UP : SWT.PAGE_DOWN;\t", "+\t\t\t\t\tbar.sendSelectionEvent (SWT.Selection, event, true);", "+\t\t\t\t\thandled = true;", "+\t\t\t\t}", "+\t\t\t\tif (!doit) handled = true;", "+\t\t\t}", "+\t\t\tif (!handled) view.superview().scrollWheel(nsEvent);"]}], "num": 8595}