{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "1675dc7289156a2eb26798343af2d171", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a5bf79378be214ae5986e4841708bbef", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "8b753b0ebc77f81709855554fdc470c17af87b20", "commitAfterChange": "2582197191fb20feaee2c873f27f037e4402a98c", "methodNumberBeforeChange": 140, "methodNumberAfterChange": 141, "signatureBeforeChange": "  boolean runSettings ()", "signatureAfterChange": "  boolean runSettings ()", "diff": ["-\tinitColors ();", "+\t", "+\tboolean ignoreColorChange = false;", "+\t/**", "+\t * Feature in Cocoa: When dark mode is enabled on OSX version >= 10.10 and a SWT TrayItem (NSStatusItem) is present in the menubar,", "+\t * changing the OSX appearance or changing the configuration of attached displays causes the textColor and textBackground color to change. ", "+\t * This sets the text foreground of several widgets as white and hence text is invisible. The workaround is to detect this case and prevent ", "+\t * the update of LIST_FOREGROUND, LIST_BACKGROUND and COLOR_WIDGET_FOREGROUND colors.", "+\t */", "+\tif (OS.VERSION_MMB >= OS.VERSION_MMB (10, 10, 0) && tray != null && tray.itemCount > 0) {", "+\t\t/* ", "+\t\t * osxMode will be \"Dark\" when in OSX dark mode. Otherwise, it'll be null.", "+\t\t */", "+\t\tNSString osxMode = NSUserDefaults.standardUserDefaults ().stringForKey (NSString.stringWith (\"AppleInterfaceStyle\"));", "+\t\tif (osxMode != null && \"Dark\".equals (osxMode.getString ())) {", "+\t\t\tignoreColorChange = true;", "+\t\t}", "+\t}", "+\tinitColors (ignoreColorChange);", "+\t"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d3de5719cd09995860e2ced12fbf5f12", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "a8b74e75ae0bc2282703c2c3690d1eb9e1e969ec", "commitAfterChange": "7e81b84a2c12e711d885a4cd4a47a7eab239d8f4", "methodNumberBeforeChange": 246, "methodNumberAfterChange": 246, "signatureBeforeChange": "  LRESULT wmColorChild (int wParam, int lParam)", "signatureAfterChange": "  LRESULT wmColorChild (int wParam, int lParam)", "diff": ["-\tif (background == -1 && foreground == -1) return null;", "+\tControl control = null;", "+\tif ((state & TRANSPARENT) != 0) {", "+\t\tif (OS.COMCTL32_MAJOR >= 6 && OS.IsAppThemed ()) {", "+\t\t\tcontrol = findThemeControl ();", "+\t\t}", "+\t}", "+\tif (background == -1 && foreground == -1 && control == null) {", "+\t\treturn null;", "+\t}", "+\tif (control != null) {", "+\t\tRECT rect = new RECT ();", "+\t\tOS.GetClientRect (handle, rect);", "+\t\tcontrol.drawThemeBackground (wParam, handle, rect);", "+\t\tOS.SetBkMode (wParam, OS.TRANSPARENT);", "+\t\treturn new LRESULT (OS.GetStockObject (OS.NULL_BRUSH));", "+\t}"]}], "num": 30355}