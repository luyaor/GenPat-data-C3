{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "65b0ab455e53cd07befd2b3820111c36", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "aa3d6d1fbf47c6b07fb549a9ba221a45", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/treetable/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "ed6471c0ec0d0ee0c1436d2bdeadc8ba513ab4fd", "commitAfterChange": "034d8fba7f4ca7576ddaeee539a2fb56ee664327", "methodNumberBeforeChange": 138, "methodNumberAfterChange": 113, "signatureBeforeChange": " String trimItemText(String text, int maxWidth, GC gc)", "signatureAfterChange": " void updateVerticalBar ()", "diff": ["-String trimItemText(String text, int maxWidth, GC gc) {", "-\tint textWidth;", "-\tint dotsWidth;", "-", "-\tif (text != null && text.length() > 1) {", "-\t\ttextWidth = gc.stringExtent(text).x;", "-\t\tif (textWidth > maxWidth) {", "-\t\t\tdotsWidth = gc.stringExtent(Table.DOT_STRING).x;", "-\t\t\twhile (textWidth + dotsWidth > maxWidth && text.length() > 1) {", "-\t\t\t\ttext = text.substring(0, text.length() - 1);\t\t// chop off one character at the end", "-\t\t\t\ttextWidth = gc.stringExtent(text).x;", "-\t\t\t}", "-\t\t\ttext = text.concat(Table.DOT_STRING);", "-\treturn text;", "+}", "+void updateVerticalBar () {", "+\tint pageSize = (getClientArea ().height - getHeaderHeight ()) / itemHeight;", "+\tint maximum = Math.max (1, items.length);", "+\tScrollBar vBar = getVerticalBar ();", "+\tif (maximum != vBar.getMaximum ()) {", "+\t\tvBar.setMaximum (maximum);", "+\t}", "+\tint thumb = Math.min (pageSize, maximum);", "+\tif (thumb != vBar.getThumb ()) {", "+\t\tvBar.setThumb (thumb);", "+\t\tvBar.setPageIncrement (thumb);", "+\t}", "+\tvBar.setVisible (pageSize < maximum);", "+", "+\t/* reclaim any space now left on the bottom */", "+\tif (maximum < topIndex + thumb) {", "+\t\ttopIndex = maximum - thumb;", "+\t\tvBar.setSelection (topIndex);", "+\t\tredraw ();", "+\t} else {", "+\t\tint selection = vBar.getSelection ();", "+\t\tif (selection != topIndex) {", "+\t\t\ttopIndex = selection;", "+\t\t\tredraw ();", "+\t\t}", "+\t}", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "156bad9cc13f1f3d1eb2c09f39ec5343", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/treetable/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "12a19590db7140a002ffd2afe42fdd32d55daa4b", "commitAfterChange": "bb98914e56f73f1ca23a4cdd034bd772d1d14c5d", "methodNumberBeforeChange": 98, "methodNumberAfterChange": 98, "signatureBeforeChange": " void updateVerticalBar ()", "signatureAfterChange": " void updateVerticalBar ()", "diff": ["-\tScrollBar vBar = getVerticalBar ();", "-\tint maximum = Math.max (1, availableItems.length);", "-\tint barMaximum = vBar.getMaximum ();", "-\tif (maximum == barMaximum) return;", "-", "-\tif (maximum <= pageSize && barMaximum <= pageSize) return;", "-\tpageSize = Math.min (pageSize, maximum);", "-", "-\tvBar.setMaximum (maximum);", "-\tvBar.setThumb (pageSize);", "-\tvBar.setPageIncrement (pageSize);", "+\tint maximum = Math.max (1, availableItems.length);", "+\tScrollBar vBar = getVerticalBar ();", "+\tif (maximum != vBar.getMaximum ()) {", "+\t\tvBar.setMaximum (maximum);", "+\t}", "+\tint thumb = Math.min (pageSize, maximum);", "+\tif (thumb != vBar.getThumb ()) {", "+\t\tvBar.setThumb (thumb);", "+\t\tvBar.setPageIncrement (thumb);", "+\t}", "+\tvBar.setVisible (pageSize < maximum);", "-\tif (maximum < topIndex + pageSize) {", "-\t\ttopIndex = maximum - pageSize;", "+\tif (maximum < topIndex + thumb) {", "+\t\ttopIndex = maximum - thumb;"]}], "num": 53727}