{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ff3dac3ec7c5e145b2ca8b68f5cba3fd", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f219566e62f63341f170df5b70c1f86a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/carbon/org/eclipse/swt/dnd/FileTransfer.java", "commitBeforeChange": "e72f7bd4d44706289b63f67ce457d62232713387", "commitAfterChange": "cd6d057fe97b58ab42a52702e1bea64749013640", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": " public Object nativeToJava(TransferData transferData)", "signatureAfterChange": " public Object nativeToJava(TransferData transferData)", "diff": ["-", "-\tbyte[] data = (byte[])super.nativeToJava(transferData);", "-\tif (data == null) return null;", "-\tString string  = new String(data);", "-\t// parse data and convert string to array of files", "-\tint start = string.indexOf(\"file:\");", "-\tif (start == -1) return null;", "-\tstart += 5;", "-\tString[] fileNames = new String[0];", "-\twhile (start < string.length()) { ", "-\t\tint end = string.indexOf(\"\\r\", start);", "-\t\tif (end == -1) end = string.length() - 1;", "-\t\t", "-\t\tString fileName = string.substring(start, end);", "-\t\tString[] newFileNames = new String[fileNames.length + 1];", "-\t\tSystem.arraycopy(fileNames, 0, newFileNames, 0, fileNames.length);", "-\t\tnewFileNames[fileNames.length] = fileName;", "-\t\tfileNames = newFileNames;", "-", "-\t\tstart = string.indexOf(\"file:\", end);", "-\t\tif (start == -1) break;", "-\t\tstart += 5;", "-\t}", "-\treturn fileNames;", "+\treturn null;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "11e6b7fafb382b94d797de691bacb560", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/carbon/org/eclipse/swt/dnd/FileTransfer.java", "commitBeforeChange": "8727d22e38059537dcc917ca55f0d6ddcedac706", "commitAfterChange": "0e7716ec8b85ed8b2a10afa69a4dfa63fe12298f", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": " public Object nativeToJava(TransferData transferData)", "signatureAfterChange": " public Object nativeToJava(TransferData transferData)", "diff": ["-\treturn null;", "+", "+\tbyte[] data = (byte[])super.nativeToJava(transferData);", "+\tif (data == null) return null;", "+\tchar[] unicode = Converter.mbcsToWcs(null, data);", "+\tString string  = new String(unicode);", "+\t// parse data and convert string to array of files", "+\tint start = string.indexOf(\"file:\");", "+\tif (start == -1) return null;", "+\tstart += 5;", "+\tString[] fileNames = new String[0];", "+\twhile (start < string.length()) { ", "+\t\tint end = string.indexOf(\"\\r\", start);", "+\t\tif (end == -1) end = string.length() - 1;", "+\t\tString fileName = string.substring(start, end);", "+\t\t", "+\t\tString[] newFileNames = new String[fileNames.length + 1];", "+\t\tSystem.arraycopy(fileNames, 0, newFileNames, 0, fileNames.length);", "+\t\tnewFileNames[fileNames.length] = fileName;", "+\t\tfileNames = newFileNames;", "+", "+\t\tstart = string.indexOf(\"file:\", end);", "+\t\tif (start == -1) break;", "+\t\tstart += 5;", "+\t}", "+\treturn fileNames;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e70be53a5d4b3c43da100447720ab736", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/photon/org/eclipse/swt/dnd/FileTransfer.java", "commitBeforeChange": "da5b2096f70170c1ee5967072f15746afe644075", "commitAfterChange": "e1a1a9a2764b9fd42d3fd4db27d8d960a32582f7", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "\r public Object nativeToJava(TransferData transferData)", "signatureAfterChange": "\r public Object nativeToJava(TransferData transferData)", "diff": ["-\r", "-\tbyte[] data = (byte[])super.nativeToJava(transferData);\r", "-\tif (data == null) return null;\r", "-\tString string  = new String(data);\r", "-\t// parse data and convert string to array of files\r", "-\tint start = string.indexOf(\"file:\");\r", "-\tif (start == -1) return null;\r", "-\tstart += 5;\r", "-\tString[] fileNames = new String[0];\r", "-\twhile (start < string.length()) { \r", "-\t\tint end = string.indexOf(\"\\r\", start);\r", "-\t\tif (end == -1) end = string.length() - 1;\r", "-\t\t\r", "-\t\tString fileName = string.substring(start, end);\r", "-\t\tString[] newFileNames = new String[fileNames.length + 1];\r", "-\t\tSystem.arraycopy(fileNames, 0, newFileNames, 0, fileNames.length);\r", "-\t\tnewFileNames[fileNames.length] = fileName;\r", "-\t\tfileNames = newFileNames;\r", "-\r", "-\t\tstart = string.indexOf(\"file:\", end);\r", "-\t\tif (start == -1) break;\r", "-\t\tstart += 5;\r", "-\t}\r", "-\treturn fileNames;\r", "+\tDND.error(org.eclipse.swt.SWT.ERROR_NOT_IMPLEMENTED);\r", "+\treturn null;\r"]}], "num": 38020}