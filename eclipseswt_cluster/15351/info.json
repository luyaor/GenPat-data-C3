{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "da08baf13532828b84ffd56dd7402b7e", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "90a7ad245c6f64c1002361701d4135d7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "d3e6e1240786b37729a4402b475774900289164f", "commitAfterChange": "37e38fc8a2a2f0d1ea6ec96886a9dec8af756c5e", "methodNumberBeforeChange": 43, "methodNumberAfterChange": 43, "signatureBeforeChange": " public void getClipping(Region region)", "signatureAfterChange": " public void getClipping(Region region)", "diff": ["-\tif (data.clipRgn == 0) {", "+\tif (data.control == 0) {", "-\t\tif (data.control != 0) {", "-\t\t\tRect bounds = new Rect();", "-\t\t\tOS.GetControlBounds(data.control, bounds);", "-\t\t\twidth = bounds.right - bounds.left;", "-\t\t\theight = bounds.bottom - bounds.top;", "-\t\t}", "-\tOS.CopyRgn(data.clipRgn, region.handle);", "+\tRect bounds = new Rect();", "+\tOS.GetControlBounds(data.control, bounds);", "+\tint clipping = region.handle;", "+\tOS.RectRgn(clipping, bounds);", "+\tOS.OffsetRgn(clipping, (short)-bounds.left, (short)-bounds.top);", "+\tif (data.clipRgn != 0) OS.SectRgn(data.clipRgn, clipping, clipping);", "+\tif (data.visibleRgn != 0) {", "+\t\tOS.OffsetRgn(data.visibleRgn, (short)-bounds.left, (short)-bounds.top);", "+\t\tOS.SectRgn(data.visibleRgn, clipping, clipping);", "+\t\tOS.OffsetRgn(data.visibleRgn, bounds.left, bounds.top);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "878ee1a716077bcd2351267f74723933", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "d3e6e1240786b37729a4402b475774900289164f", "commitAfterChange": "37e38fc8a2a2f0d1ea6ec96886a9dec8af756c5e", "methodNumberBeforeChange": 42, "methodNumberAfterChange": 42, "signatureBeforeChange": " public Rectangle getClipping()", "signatureAfterChange": " public Rectangle getClipping()", "diff": ["-\tif (data.clipRgn == 0) {", "+\tif (data.control == 0) {", "-\t\tif (data.control != 0) {", "-\t\t\tRect bounds = new Rect();", "-\t\t\tOS.GetControlBounds(data.control, bounds);", "-\t\t\twidth = bounds.right - bounds.left;", "-\t\t\theight = bounds.bottom - bounds.top;", "-\t\t}", "-\tOS.GetRegionBounds(data.clipRgn, bounds);", "+\tOS.GetControlBounds(data.control, bounds);", "+\tif (data.clipRgn == 0 && data.visibleRgn == 0) {", "+\t\tint width = bounds.right - bounds.left;", "+\t\tint height = bounds.bottom - bounds.top;", "+\t\treturn new Rectangle(0, 0, width, height);", "+\t}", "+\tint clipping = OS.NewRgn();", "+\tOS.RectRgn(clipping, bounds);", "+\tOS.OffsetRgn(clipping, (short)-bounds.left, (short)-bounds.top);", "+\tif (data.clipRgn != 0) OS.SectRgn(data.clipRgn, clipping, clipping);", "+\tif (data.visibleRgn != 0) {", "+\t\tOS.OffsetRgn(data.visibleRgn, (short)-bounds.left, (short)-bounds.top);", "+\t\tOS.SectRgn(data.visibleRgn, clipping, clipping);", "+\t\tOS.OffsetRgn(data.visibleRgn, bounds.left, bounds.top);", "+\t}", "+\tOS.GetRegionBounds(clipping, bounds);", "+\tOS.DisposeRgn(clipping);"]}], "num": 15351}