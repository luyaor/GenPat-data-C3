{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "af0b21c108fe9cef8a81bc2226493e37", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ce4d577ebde47cf418ffa0f02fbe0bdb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "5f75e2dae2083c0061842ac6356ab5d489381754", "commitAfterChange": "528027af0b27ada34be52afa13892d4c48dca57c", "methodNumberBeforeChange": 63, "methodNumberAfterChange": 63, "signatureBeforeChange": " public TreeItem getTopItem ()", "signatureAfterChange": " public TreeItem getTopItem ()", "diff": ["-\tcheckWidget();", "-\t//TODO - optimize", "-\tRect rect = new Rect ();", "-\tint y = getBorderWidth () + getHeaderHeight ();", "-\tfor (int i=0; i<items.length; i++) {", "-\t\tTreeItem item = items [i];", "-\t\tif (item != null) {", "-\t\t\tint columnId = (columnCount == 0) ? column_id : columns [0].id;", "-\t\t\tif (OS.GetDataBrowserItemPartBounds (handle, item.id, columnId, OS.kDataBrowserPropertyEnclosingPart, rect) == OS.noErr) {", "-\t\t\t\tif (rect.top <= y && y <= rect.bottom) return item;", "-\t\t\t}", "-\t\t}", "-\t}", "+\tcheckWidget ();", "+\t/* Find the topItem by calculating its row position */", "+\tint[] top = new int[1], left = new int[1];", "+\tOS.GetDataBrowserScrollPosition (handle, top, left);\t\t", "+\tint row = top[0] / getItemHeight ();;", "+\tint [] itemId = new int[1];", "+\tint result = OS.GetDataBrowserTableViewItemID (handle, row, itemId);", "+\tif (result == OS.noErr) return _getItem (itemId[0], false);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8c5b82bc6bbd2e29b35d1ad0eb1d55e8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "ee054c20e0dd5d1277e7f3c98b9369ae5d373a0a", "commitAfterChange": "0da1d9ee2ac0bdfdcae7f38dcbbe13245efb8b74", "methodNumberBeforeChange": 51, "methodNumberAfterChange": 52, "signatureBeforeChange": " public TreeItem getTopItem ()", "signatureAfterChange": " public TreeItem getTopItem ()", "diff": ["-//\t//TODO - optimize", "-//\tRect rect = new Rect ();", "-//\tint y = getBorder () + getHeaderHeight ();", "-//\tfor (int i=0; i<items.length; i++) {", "-//\t\tTreeItem item = items [i];", "-//\t\tif (item != null) {", "-//\t\t\tint columnId = (columnCount == 0) ? column_id : columns [0].id;", "-//\t\t\tif (OS.GetDataBrowserItemPartBounds (handle, item.id, columnId, OS.kDataBrowserPropertyEnclosingPart, rect) == OS.noErr) {", "-//\t\t\t\tif (rect.top <= y && y <= rect.bottom) return item;", "-//\t\t\t}", "-//\t\t}", "-//\t}", "-\treturn null;", "+\t//TODO - partial item at the top", "+\tNSRect rect = scrollView.documentVisibleRect ();", "+\tNSPoint point = new NSPoint ();", "+\tpoint.x = rect.x;", "+\tpoint.y = rect.y;", "+\tNSOutlineView outlineView = (NSOutlineView)view;", "+\tint /*long*/ index = outlineView.rowAtPoint (point);", "+\tif (index == -1) return null; /* empty */", "+\tid item = outlineView.itemAtRow (index);", "+\treturn (TreeItem)display.getWidget (item.id);"]}], "num": 14976}