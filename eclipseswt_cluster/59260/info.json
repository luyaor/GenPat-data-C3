{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d6aa7eddf3ddab632face173c740110b", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "66c9c2a1d1b328048ffb82bb35713af7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/TableColumn.java", "commitBeforeChange": "700b9da7b57dd076496e6f3b755b2d275ccc859b", "commitAfterChange": "a4c38a5499b7661171c9c6cec483dfebcf3bc42a", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 24, "signatureBeforeChange": "  void setSortDirection (int direction)", "signatureAfterChange": "  void setSortDirection (int direction)", "diff": ["-\t\t\tRECT rect = new RECT (), itemRect = new RECT ();", "+\t\t\tRECT rect = new RECT (), headerRect = new RECT ();", "-\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, oldColumn, itemRect);", "-\t\t\t\trect.left = itemRect.left;", "-\t\t\t\trect.right = itemRect.right;", "-\t\t\t\tOS.InvalidateRect (hwnd, rect, true);", "+\t\t\t\tif (OS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, oldColumn, headerRect) != 0) {", "+\t\t\t\t\tOS.MapWindowPoints (hwndHeader, hwnd, headerRect, 2);", "+\t\t\t\t\trect.left = headerRect.left;", "+\t\t\t\t\trect.right = headerRect.right;", "+\t\t\t\t\tOS.InvalidateRect (hwnd, rect, true);", "+\t\t\t\t}", "-\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, newColumn, itemRect);", "-\t\t\t\trect.left = itemRect.left;", "-\t\t\t\trect.right = itemRect.right;", "-\t\t\t\tOS.InvalidateRect (hwnd, rect, true);", "+\t\t\t\tif (OS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, newColumn, headerRect) != 0) {", "+\t\t\t\t\tOS.MapWindowPoints (hwndHeader, hwnd, headerRect, 2);", "+\t\t\t\t\trect.left = headerRect.left;", "+\t\t\t\t\trect.right = headerRect.right;", "+\t\t\t\t\tOS.InvalidateRect (hwnd, rect, true);", "+\t\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "58f98de53e0ba31d9f046dbf3e02e05a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/TableColumn.java", "commitBeforeChange": "69f10c5f144237c67cf1408986df9dacc080db1a", "commitAfterChange": "40634514573e7f2f3f0aa3adf15533b3fe3a2345", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": "  void setSortDirection (int direction)", "signatureAfterChange": "  void setSortDirection (int direction)", "diff": ["+\t\t* Bug in Windows.  When LVM_SETSELECTEDCOLUMN is used to", "+\t\t* specify a selected column, Windows does not redraw either", "+\t\t* the new or the previous selected column.  The fix is to", "+\t\t* force a redraw of both.", "+\t\t* ", "+\t\tparent.forceResize ();", "+\t\tRECT rect = new RECT ();", "+\t\tOS.GetClientRect (hwnd, rect);", "-\t\t\t/* ", "-\t\t\t* Bug in Windows.  When LVM_SETSELECTEDCOLUMN is used to", "-\t\t\t* specify a selected column, Windows does not redraw either", "-\t\t\t* the new or the previous selected column.  The fix is to", "-\t\t\t* force a redraw of both.", "-\t\t\t*/", "-\t\t\tparent.forceResize ();", "-\t\t\tRECT rect = new RECT (), headerRect = new RECT ();", "-\t\t\tOS.GetClientRect (hwnd, rect);", "+\t\t\tRECT headerRect = new RECT ();", "-\t\t\tif (newColumn != -1) {", "-\t\t\t\tif (OS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, newColumn, headerRect) != 0) {", "-\t\t\t\t\tOS.MapWindowPoints (hwndHeader, hwnd, headerRect, 2);", "-\t\t\t\t\trect.left = headerRect.left;", "-\t\t\t\t\trect.right = headerRect.right;", "-\t\t\t\t\tOS.InvalidateRect (hwnd, rect, true);", "-\t\t\t\t}", "-\t\t\t}", "+\t\t}", "+\t\tRECT headerRect = new RECT ();", "+\t\tif (OS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, index, headerRect) != 0) {", "+\t\t\tOS.MapWindowPoints (hwndHeader, hwnd, headerRect, 2);", "+\t\t\trect.left = headerRect.left;", "+\t\t\trect.right = headerRect.right;", "+\t\t\tOS.InvalidateRect (hwnd, rect, true);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "80a67cf07b267e6815d869d3bda38e07", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/TableColumn.java", "commitBeforeChange": "d394748baa45afbd580331c831b85672b97b114e", "commitAfterChange": "5f321000d94eb71bd024c1f4d113ca6eeea25bd0", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 25, "signatureBeforeChange": "  void setSortDirection (int direction)", "signatureAfterChange": "  void setSortDirection (int direction)", "diff": ["-\t\t\tint column = direction == SWT.NONE ? -1 : index;", "-\t\t\tOS.SendMessage (hwnd, OS.LVM_SETSELECTEDCOLUMN, column, 0);", "+\t\t\tint oldColumn = OS.SendMessage (hwnd, OS.LVM_GETSELECTEDCOLUMN, 0, 0);", "+\t\t\tint newColumn = direction == SWT.NONE ? -1 : index;", "+\t\t\tOS.SendMessage (hwnd, OS.LVM_SETSELECTEDCOLUMN, newColumn, 0);", "+\t\t\t/* ", "+\t\t\t* Bug in Windows.  When LVM_SETSELECTEDCOLUMN is set, Windows", "+\t\t\t* does not redraw either the new or the previous selected column.", "+\t\t\t* The fix is to force a redraw.", "+\t\t\t*/", "+\t\t\tparent.forceResize ();", "+\t\t\tRECT rect = new RECT (), itemRect = new RECT ();", "+\t\t\tOS.GetClientRect (hwnd, rect);", "+\t\t\tif (oldColumn != -1) {", "+\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, oldColumn, itemRect);", "+\t\t\t\trect.left = itemRect.left;", "+\t\t\t\trect.right = itemRect.right;", "+\t\t\t\tOS.InvalidateRect (hwnd, rect, true);", "+\t\t\t}", "+\t\t\tif (newColumn != -1) {", "+\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, newColumn, itemRect);", "+\t\t\t\trect.left = itemRect.left;", "+\t\t\t\trect.right = itemRect.right;", "+\t\t\t\tOS.InvalidateRect (hwnd, rect, true);", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e9ece38260b88ee84db8829c4eb71738", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "f53adb34530c9ea79987a97ca8b1f0d90d3f49f9", "commitAfterChange": "dab9408fe75fa7845756fb5f59bebb963ba6f502", "methodNumberBeforeChange": 130, "methodNumberAfterChange": 131, "signatureBeforeChange": "  LRESULT WM_NOTIFY (int wParam, int lParam)", "signatureAfterChange": "  LRESULT WM_NOTIFY (int wParam, int lParam)", "diff": ["-\t\t\t\t\t\tRECT rect = new RECT (), itemRect = new RECT ();", "+\t\t\t\t\t\tRECT rect = new RECT (), headerRect = new RECT ();", "-\t\t\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, order [start], itemRect);", "-\t\t\t\t\t\trect.left = Math.max (rect.left, itemRect.left);", "-\t\t\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, order [end], itemRect);", "-\t\t\t\t\t\trect.right = Math.min (rect.right, itemRect.right);", "+\t\t\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, order [start], headerRect);", "+\t\t\t\t\t\trect.left = Math.max (rect.left, headerRect.left);", "+\t\t\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, order [end], headerRect);", "+\t\t\t\t\t\trect.right = Math.min (rect.right, headerRect.right);", "-\t\t\t\t\t\tRECT itemRect = new RECT ();", "+\t\t\t\t\t\tRECT headerRect = new RECT ();", "-\t\t\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, index, itemRect);", "-\t\t\t\t\t\trect.right = Math.max (rect.right, itemRect.right);", "-\t\t\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, phdn.iItem, itemRect);", "+\t\t\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, index, headerRect);", "+\t\t\t\t\t\trect.right = Math.max (rect.right, headerRect.right);", "+\t\t\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, phdn.iItem, headerRect);", "-\t\t\t\t\t\trect.left = itemRect.right - gridWidth;", "+\t\t\t\t\t\trect.left = headerRect.right - gridWidth;", "-\t\t\t\t\t\t\trect.left = itemRect.left;", "-\t\t\t\t\t\t\trect.right = itemRect.right;", "+\t\t\t\t\t\t\trect.left = headerRect.left;", "+\t\t\t\t\t\t\trect.right = headerRect.right;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f1c1c97e00dec7293eba8484049d8f0e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "e7255dd0401a8f22aea419c5ffbac41d139e34e7", "commitAfterChange": "93ea26f494ae101434d52dc07618679fb6d831a8", "methodNumberBeforeChange": 150, "methodNumberAfterChange": 150, "signatureBeforeChange": "  LRESULT wmNotify (NMHDR hdr, int wParam, int lParam)", "signatureAfterChange": "  LRESULT wmNotify (NMHDR hdr, int wParam, int lParam)", "diff": ["-\t\t\t\t\t\tRECT headerRect = new RECT ();", "-\t\t\t\t\t\tint count = OS.SendMessage (hwndHeader, OS.HDM_GETITEMCOUNT, 0, 0);", "-\t\t\t\t\t\tint index = OS.SendMessage (hwndHeader, OS.HDM_ORDERTOINDEX, count - 1, 0);", "-\t\t\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, index, headerRect);", "-\t\t\t\t\t\trect.right = Math.max (rect.right, headerRect.right);", "-\t\t\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, phdn.iItem, headerRect);", "-\t\t\t\t\t\tint gridWidth = linesVisible ? GRID_WIDTH : 0;", "-\t\t\t\t\t\trect.left = headerRect.right - gridWidth;", "+\t\t\t\t\t\tRECT headerRect = new RECT ();", "+\t\t\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEMRECT, phdn.iItem, headerRect);", "+\t\t\t\t\t\tint gridWidth = linesVisible ? GRID_WIDTH : 0;", "+\t\t\t\t\t\trect.left = headerRect.right - gridWidth;", "+\t\t\t\t\t\tint newX = rect.left + deltaX;", "+\t\t\t\t\t\trect.right = Math.max (rect.right, rect.left + Math.abs (deltaX));", "-\t\t\t\t\t\t\trect.right = headerRect.right;", "+\t\t\t\t\t\t\trect.right = newX;"]}], "num": 59260}