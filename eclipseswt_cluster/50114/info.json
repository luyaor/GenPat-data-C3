{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2cfa69df7f792e0790611cb12bc38105", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "856e1eecff1e3d98807837d24f8a4a6a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "5e05c860c75fb9386e23dd52fa60db7a593598e0", "commitAfterChange": "82a1c09af233bc8cd6f0c7fc54f4d78ed4a74ece", "methodNumberBeforeChange": 98, "methodNumberAfterChange": 99, "signatureBeforeChange": " public void setLineDash(int[] dashes)", "signatureAfterChange": " public void setLineDash(int[] dashes)", "diff": ["+\tint[] lineDashes = data.lineDashes;", "-\t\tbyte[] dash_list = new byte[dashes.length];", "+\t\tboolean changed = lineDashes == null || lineDashes.length != dashes.length;", "-\t\t\tdash_list[i] = (byte)dash;", "+\t\t\tif (!changed && lineDashes[i] != dash) changed = true;", "-\t\tOS.gdk_gc_set_dashes(handle, 0, dash_list, dash_list.length);", "-\t\tdata.dashes = new int[dashes.length];", "-\t\tSystem.arraycopy(dashes, 0, data.dashes, 0, dashes.length);", "+\t\tif (!changed) return;", "+\t\tdata.lineDashes = new int[dashes.length];", "+\t\tSystem.arraycopy(dashes, 0, data.lineDashes, 0, dashes.length);", "-\t\tdata.dashes = null;", "+\t\tif (lineDashes == null || lineDashes.length == 0) return;", "+\t\tdata.lineDashes = null;", "-\tGdkGCValues values = new GdkGCValues();", "-\tOS.gdk_gc_get_values(handle, values);", "-\tint line_style = data.lineStyle == SWT.LINE_SOLID ? OS.GDK_LINE_SOLID : OS.GDK_LINE_ON_OFF_DASH;", "-\tOS.gdk_gc_set_line_attributes(handle, values.line_width, line_style, values.cap_style, values.join_style);", "-\tint /*long*/ cairo = data.cairo;", "-\tif (cairo != 0) {", "-\t\tif (data.dashes != null) {", "-\t\t\tdouble[] cairoDashes = new double[data.dashes.length];", "-\t\t\tfor (int i = 0; i < dashes.length; i++) {", "-\t\t\t\tcairoDashes[i] = data.dashes[i];", "-\t\t\t}", "-\t\t\tCairo.cairo_set_dash(cairo, cairoDashes, cairoDashes.length, 0);", "-\t\t} else {", "-\t\t\tCairo.cairo_set_dash(cairo, null, 0, 0);", "-\t\t}", "-\t}", "+\tdata.state &= ~LINE_STYLE;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b4eef9e15d985d9d5d711f9bb578a028", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "5e05c860c75fb9386e23dd52fa60db7a593598e0", "commitAfterChange": "82a1c09af233bc8cd6f0c7fc54f4d78ed4a74ece", "methodNumberBeforeChange": 100, "methodNumberAfterChange": 101, "signatureBeforeChange": " public void setLineDash(int[] dashes)", "signatureAfterChange": " public void setLineDash(int[] dashes)", "diff": ["-\tint xDisplay = data.display;", "-\tif (dashes != null && dashes.length != 0) {", "-\t\tbyte[] dash_list = new byte[dashes.length];", "+\tint[] lineDashes = data.lineDashes;", "+\tif (dashes != null && dashes.length > 0) {", "+\t\tboolean changed = lineDashes == null || lineDashes.length != dashes.length;", "-\t\t\tdash_list[i] = (byte)dash;", "+\t\t\tif (!changed && lineDashes[i] != dash) changed = true;", "-\t\tOS.XSetDashes(xDisplay, handle, 0, dash_list, dash_list.length);", "-\t\tdata.dashes = new int[dashes.length];", "-\t\tSystem.arraycopy(dashes, 0, data.dashes, 0, dashes.length);", "+\t\tif (!changed) return;", "+\t\tdata.lineDashes = new int[dashes.length];", "+\t\tSystem.arraycopy(dashes, 0, data.lineDashes, 0, dashes.length);", "-\t\tdata.dashes = null;", "+\t\tif (lineDashes == null || lineDashes.length == 0) return;", "+\t\tdata.lineDashes = null;", "-\tXGCValues values = new XGCValues();", "-\tOS.XGetGCValues(xDisplay, handle, OS.GCLineWidth | OS.GCCapStyle | OS.GCJoinStyle, values);", "-\tint line_style = data.lineStyle == SWT.LINE_SOLID ? OS.LineSolid : OS.LineOnOffDash;", "-\tOS.XSetLineAttributes(xDisplay, handle, values.line_width, line_style, values.cap_style, values.join_style);", "-\tint /*long*/ cairo = data.cairo;", "-\tif (cairo != 0) {", "-\t\tif (data.dashes != null) {", "-\t\t\tdouble[] cairoDashes = new double[data.dashes.length];", "-\t\t\tfor (int i = 0; i < dashes.length; i++) {", "-\t\t\t\tcairoDashes[i] = data.dashes[i];", "-\t\t\t}", "-\t\t\tCairo.cairo_set_dash(cairo, cairoDashes, cairoDashes.length, 0);", "-\t\t} else {", "-\t\t\tCairo.cairo_set_dash(cairo, null, 0, 0);", "-\t\t}", "-\t}", "+\tdata.state &= ~LINE_STYLE;"]}], "num": 50114}