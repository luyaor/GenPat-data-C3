{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ab1f7c016ab6ad4e19b82ee6fc21b716", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e204705454451f2ae99f3bca976eb7a5", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "600117323003db9ea522ed0baf12ee909172c3dc", "commitAfterChange": "c44dd21c1a1b0072edf7d53333363f735a817f14", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 20, "signatureBeforeChange": "  static int createPixbuf(Image image)", "signatureAfterChange": "  static int createPixbuf(Image image)", "diff": ["-\tboolean hasMask = image.mask != 0;", "+\tboolean hasMask = image.mask != 0 && OS.gdk_drawable_get_depth (image.mask) == 1;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cd135c6d607e7d7920ba0a0da155a73a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/TrayItem.java", "commitBeforeChange": "600117323003db9ea522ed0baf12ee909172c3dc", "commitAfterChange": "c44dd21c1a1b0072edf7d53333363f735a817f14", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "  int gtk_size_allocate (int widget, int allocation)", "signatureAfterChange": "  int gtk_size_allocate (int widget, int allocation)", "diff": ["-\t\tint xoffset = (int) Math.floor (OS.GTK_WIDGET_X (widget) + ((OS.GTK_WIDGET_WIDTH (widget) - OS.GTK_WIDGET_REQUISITION_WIDTH (widget)) * 0.5) + 0.5);", "-\t\tint yoffset = (int) Math.floor (OS.GTK_WIDGET_Y (widget) + ((OS.GTK_WIDGET_HEIGHT (widget) - OS.GTK_WIDGET_REQUISITION_HEIGHT (widget)) * 0.5) + 0.5);", "-\t\tRectangle b = image.getBounds();", "-\t\tint /*long*/ gdkImagePtr = OS.gdk_drawable_get_image (image.mask, 0, 0, b.width, b.height);", "-\t\tGdkImage gdkImage = new GdkImage();", "-\t\tOS.memmove (gdkImage, gdkImagePtr);", "-\t\tbyte[] maskData = new byte [gdkImage.bpl * gdkImage.height];", "-\t\tOS.memmove (maskData, gdkImage.mem, maskData.length);", "-\t\tOS.g_object_unref (gdkImagePtr);", "-\t\tRegion region = new Region (display);", "-\t\tfor (int y = 0; y < b.height; y++) {", "-\t\t\tfor (int x = 0; x < b.width; x++) {", "-\t\t\t\tint index = (y * gdkImage.bpl) + (x >> 3);", "-\t\t\t\tint theByte = maskData [index] & 0xFF;", "-\t\t\t\tint mask = 1 << (x & 0x7);", "-\t\t\t\tif ((theByte & mask) != 0) {", "-\t\t\t\t\tregion.add (xoffset + x, yoffset + y, 1, 1);", "+\t\tif (OS.gdk_drawable_get_depth (image.mask) == 1) {", "+\t\t\tint xoffset = (int) Math.floor (OS.GTK_WIDGET_X (widget) + ((OS.GTK_WIDGET_WIDTH (widget) - OS.GTK_WIDGET_REQUISITION_WIDTH (widget)) * 0.5) + 0.5);", "+\t\t\tint yoffset = (int) Math.floor (OS.GTK_WIDGET_Y (widget) + ((OS.GTK_WIDGET_HEIGHT (widget) - OS.GTK_WIDGET_REQUISITION_HEIGHT (widget)) * 0.5) + 0.5);", "+\t\t\tRectangle b = image.getBounds();", "+\t\t\tint /*long*/ gdkImagePtr = OS.gdk_drawable_get_image (image.mask, 0, 0, b.width, b.height);", "+\t\t\tGdkImage gdkImage = new GdkImage();", "+\t\t\tOS.memmove (gdkImage, gdkImagePtr);", "+\t\t\tbyte[] maskData = new byte [gdkImage.bpl * gdkImage.height];", "+\t\t\tOS.memmove (maskData, gdkImage.mem, maskData.length);", "+\t\t\tOS.g_object_unref (gdkImagePtr);", "+\t\t\tRegion region = new Region (display);", "+\t\t\tfor (int y = 0; y < b.height; y++) {", "+\t\t\t\tfor (int x = 0; x < b.width; x++) {", "+\t\t\t\t\tint index = (y * gdkImage.bpl) + (x >> 3);", "+\t\t\t\t\tint theByte = maskData [index] & 0xFF;", "+\t\t\t\t\tint mask = 1 << (x & 0x7);", "+\t\t\t\t\tif ((theByte & mask) != 0) {", "+\t\t\t\t\t\tregion.add (xoffset + x, yoffset + y, 1, 1);", "+\t\t\t\t\t}", "+\t\t\tOS.gtk_widget_realize (handle);", "+\t\t\tint /*long*/ window = OS.GTK_WIDGET_WINDOW (handle);", "+\t\t\tOS.gdk_window_shape_combine_region (window, region.handle, 0, 0);", "+\t\t\tregion.dispose ();", "-\t\tOS.gtk_widget_realize (handle);", "-\t\tint /*long*/ window = OS.GTK_WIDGET_WINDOW (handle);", "-\t\tOS.gdk_window_shape_combine_region (window, region.handle, 0, 0);", "-\t\tregion.dispose ();"]}], "num": 18985}