{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a6cf6476e3a005e6d328c03e7ec3a432", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0831907e4f2e666aeb294dc1d36d7bad", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Menu.java", "commitBeforeChange": "df118cfee649740c3cfc2ab13c4b8610502d4d4e", "commitAfterChange": "49ca7a603b8ba36618c52950618a40e222d8f456", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "  void createItem (MenuItem item, int index)", "signatureAfterChange": "  void createItem (MenuItem item, int index)", "diff": ["-\tint attributes = 0;", "-\tif ((item.style & SWT.SEPARATOR) != 0) attributes = OS.kMenuItemAttrSeparator;", "-\tint result = OS.InsertMenuItemTextWithCFString (handle, 0, (short) index, attributes, item.id);", "-\tif (result != OS.noErr) {", "+\tboolean success = false;", "+\t/*", "+\tif (OS.IsWinCE) {", "+\t\tint flags = OS.MF_BYPOSITION;", "+\t\tif ((style & SWT.SEPARATOR) != 0) flags |= OS.MF_SEPARATOR;", "+\t\tsuccess = OS.InsertMenu (handle, index, flags, item.id, null); ", "+\t} else {", "+\t\tint hHeap = OS.GetProcessHeap ();", "+\t\tint pszText = OS.HeapAlloc (hHeap, OS.HEAP_ZERO_MEMORY, TCHAR.sizeof);", "+\t\tMENUITEMINFO info = new MENUITEMINFO ();", "+\t\tinfo.cbSize = MENUITEMINFO.sizeof;", "+\t\tinfo.fMask = OS.MIIM_ID | OS.MIIM_TYPE;", "+\t\tinfo.wID = item.id;", "+\t\tinfo.fType = item.widgetStyle ();", "+\t\tinfo.dwTypeData = pszText;", "+\t\tsuccess = OS.InsertMenuItem (handle, index, true, info);", "+\t\tif (pszText != 0) OS.HeapFree (hHeap, 0, pszText);", "+\t}", "+\t*/", "+\t", "+\t/*", "+\tif ((style & SWT.SEPARATOR) != 0) return OS.MFT_SEPARATOR;", "+\tif ((style & SWT.RADIO) != 0) return OS.MFT_RADIOCHECK;", "+\treturn OS.MFT_STRING;", "+\t*/", "+\t", "+\tint attributes= 0;", "+\tif ((item.style & SWT.SEPARATOR) != 0) ", "+\t\tattributes= OS.kMenuItemAttrSeparator;", "+\tif (OS.InsertMenuItemTextWithCFString(handle, 0, (short) index, attributes, item.id) == OS.noErr)", "+\t\tsuccess= true;", "+\t", "+\tif (!success) {", "-\tif ((style & SWT.BAR) != 0) {", "-\t\tDisplay display = getDisplay ();", "-\t\tshort menuID = display.nextMenuId ();", "-\t\tint outMenuRef [] = new int [1];", "-\t\tif (OS.CreateNewMenu (menuID, 0, outMenuRef) != OS.noErr) {", "-\t\t\terror (SWT.ERROR_NO_HANDLES);", "-\t\t}", "-\t\tOS.SetMenuItemHierarchicalMenu (handle, (short) (index + 1), outMenuRef [0]);", "-\t}", "+\t/* AW\t", "+\tredraw ();", "+\t*/"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ddcd54fbf8c55aa249375538ef1855ef", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Menu.java", "commitBeforeChange": "f6e418ce08de208f524d556323de8e3b12653f8f", "commitAfterChange": "df118cfee649740c3cfc2ab13c4b8610502d4d4e", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "  void createItem (MenuItem item, int index)", "signatureAfterChange": "  void createItem (MenuItem item, int index)", "diff": ["-\tboolean success = false;", "-\t/*", "-\tif (OS.IsWinCE) {", "-\t\tint flags = OS.MF_BYPOSITION;", "-\t\tif ((style & SWT.SEPARATOR) != 0) flags |= OS.MF_SEPARATOR;", "-\t\tsuccess = OS.InsertMenu (handle, index, flags, item.id, null); ", "-\t} else {", "-\t\tint hHeap = OS.GetProcessHeap ();", "-\t\tint pszText = OS.HeapAlloc (hHeap, OS.HEAP_ZERO_MEMORY, TCHAR.sizeof);", "-\t\tMENUITEMINFO info = new MENUITEMINFO ();", "-\t\tinfo.cbSize = MENUITEMINFO.sizeof;", "-\t\tinfo.fMask = OS.MIIM_ID | OS.MIIM_TYPE;", "-\t\tinfo.wID = item.id;", "-\t\tinfo.fType = item.widgetStyle ();", "-\t\tinfo.dwTypeData = pszText;", "-\t\tsuccess = OS.InsertMenuItem (handle, index, true, info);", "-\t\tif (pszText != 0) OS.HeapFree (hHeap, 0, pszText);", "-\t}", "-\t*/", "-\t", "-\t/*", "-\tif ((style & SWT.SEPARATOR) != 0) return OS.MFT_SEPARATOR;", "-\tif ((style & SWT.RADIO) != 0) return OS.MFT_RADIOCHECK;", "-\treturn OS.MFT_STRING;", "-\t*/", "-\t", "-\tint attributes= 0;", "-\tif ((item.style & SWT.SEPARATOR) != 0) ", "-\t\tattributes= OS.kMenuItemAttrSeparator;", "-\tif (OS.InsertMenuItemTextWithCFString(handle, 0, (short) index, attributes, item.id) == OS.noErr)", "-\t\tsuccess= true;", "-\t", "-\tif (!success) {", "+\tint attributes = 0;", "+\tif ((item.style & SWT.SEPARATOR) != 0) attributes = OS.kMenuItemAttrSeparator;", "+\tint result = OS.InsertMenuItemTextWithCFString (handle, 0, (short) index, attributes, item.id);", "+\tif (result != OS.noErr) {", "-\t/* AW\t", "-\tredraw ();", "-\t*/", "+\tif ((style & SWT.BAR) != 0) {", "+\t\tDisplay display = getDisplay ();", "+\t\tshort menuID = display.nextMenuId ();", "+\t\tint outMenuRef [] = new int [1];", "+\t\tif (OS.CreateNewMenu (menuID, 0, outMenuRef) != OS.noErr) {", "+\t\t\terror (SWT.ERROR_NO_HANDLES);", "+\t\t}", "+\t\tOS.SetMenuItemHierarchicalMenu (handle, (short) (index + 1), outMenuRef [0]);", "+\t}"]}], "num": 41203}