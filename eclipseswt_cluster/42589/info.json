{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "1014a0afc111a56054565ae03c4623a6", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "82703cc1fb4160930a54cb4d56358e83", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "e6f7b585199d6ba44254014a4c1731f439c2cf11", "commitAfterChange": "c422792f476daef88e3a0eb93a50d34c1718ea55", "methodNumberBeforeChange": 43, "methodNumberAfterChange": 43, "signatureBeforeChange": "  int kEventRawKey (int nextHandler, int theEvent, int userData)", "signatureAfterChange": "  int kEventTextInputUnicodeForKeyEvent (int nextHandler, int theEvent, int userData)", "diff": ["-int kEventRawKey (int nextHandler, int theEvent, int userData) {", "-\tint result = super.kEventRawKey (nextHandler, theEvent, userData);", "+int kEventTextInputUnicodeForKeyEvent (int nextHandler, int theEvent, int userData) {", "+\tint result = super.kEventTextInputUnicodeForKeyEvent (nextHandler, theEvent, userData);", "+\tint [] keyboardEvent = new int [1];", "+\tOS.GetEventParameter (theEvent, OS.kEventParamTextInputSendKeyboardEvent, OS.typeEventRef, null, keyboardEvent.length * 4, null, keyboardEvent);", "-\tOS.GetEventParameter (theEvent, OS.kEventParamKeyModifiers, OS.typeUInt32, null, 4, null, modifiers);", "+\tOS.GetEventParameter (keyboardEvent [0], OS.kEventParamKeyModifiers, OS.typeUInt32, null, 4, null, modifiers);", "-\t\tOS.GetEventParameter (theEvent, OS.kEventParamKeyCode, OS.typeUInt32, null, keyCode.length * 4, null, keyCode);", "+\t\tOS.GetEventParameter (keyboardEvent [0], OS.kEventParamKeyCode, OS.typeUInt32, null, keyCode.length * 4, null, keyCode);", "-\t\tOS.GetEventParameter (theEvent, OS.kEventParamKeyCode, OS.typeUInt32, null, keyCode.length * 4, null, keyCode);", "+\t\tOS.GetEventParameter (keyboardEvent [0], OS.kEventParamKeyCode, OS.typeUInt32, null, keyCode.length * 4, null, keyCode);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0769f81400e1160f544d6d0df2b48a24", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/carbon/org/eclipse/swt/browser/MozillaDelegate.java", "commitBeforeChange": "2291cc53864300688c3a58c6df5ee259c93044d9", "commitAfterChange": "05a8cbba5a9312a46e3a6b81585ac0edaa21107d", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "  static int eventProc3 (int nextHandler, int theEvent, int userData)", "signatureAfterChange": "  static int eventProc3 (int nextHandler, int theEvent, int userData)", "diff": ["+\t\t\t\tint result = OS.noErr;", "-\t\t\t\tint result = OS.CallNextEventHandler (nextHandler, theEvent);", "+", "+\t\t\t\t/*", "+\t\t\t\t* Pressing the OSX shortcut to put focus into the menu bar does not work in", "+\t\t\t\t* embedded mozilla.  If this shortcut is not handled here then it falls through", "+\t\t\t\t* all of the key handlers for some reason.  The workaround is to detect this", "+\t\t\t\t* shortcut here and put focus into the menu bar.", "+\t\t\t\t*/", "+\t\t\t\tint [] modifiers = new int [1];", "+\t\t\t\tOS.GetEventParameter (theEvent, OS.kEventParamKeyModifiers, OS.typeUInt32, null, modifiers.length * 4, null, modifiers);", "+\t\t\t\tint [] keyCode = new int [1];", "+\t\t\t\tOS.GetEventParameter (theEvent, OS.kEventParamKeyCode, OS.typeUInt32, null, keyCode.length * 4, null, keyCode);", "+\t\t\t\tif (keyCode [0] == 120 /* F2 */ && (modifiers[0] & (OS.controlKey | OS.cmdKey | OS.optionKey)) == OS.controlKey) {", "+\t\t\t\t\tint[] event = new int[1];", "+\t\t\t\t\tOS.CreateEvent (0, OS.kEventClassApplication, OS.kEventAppFocusMenuBar, 0.0, 0, event);", "+\t\t\t\t\tif (event [0] != 0) {", "+\t\t\t\t\t\tOS.SetEventParameter (event [0], OS.kEventParamKeyModifiers, OS.typeUInt32, 4, modifiers);", "+\t\t\t\t\t\tresult = OS.SendEventToEventTarget (event [0], OS.GetApplicationEventTarget ());", "+\t\t\t\t\t\tOS.ReleaseEvent (event [0]);", "+\t\t\t\t\t}", "+\t\t\t\t} else {", "+\t\t\t\t\tresult = OS.CallNextEventHandler (nextHandler, theEvent);", "+\t\t\t\t}", "+"]}], "num": 42589}