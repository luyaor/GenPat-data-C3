{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "7fd89ffdf10c14134d0761ef94ee682d", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ac8a06c58fd2b1aaa752006aa70238bc", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "97fd072af6f318acadb846fa5d1a96cdf45e8a3d", "commitAfterChange": "f4cf3d6e03683b2a6cdbd10adda0fba73e537e38", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 10, "signatureBeforeChange": " public void clearSelection ()", "signatureAfterChange": " public void clearSelection ()", "diff": ["-\t\tshort [] selection = new short [2];", "-\t\tOS.GetControlData (handle, (short)OS.kHIComboBoxEditTextPart, OS.kControlEditTextSelectionTag, 4, selection, null);", "-\t\tselection [1] = selection [0];", "-\t\tOS.SetControlData (handle, OS.kHIComboBoxEditTextPart, OS.kControlEditTextSelectionTag, 4, selection);", "+\t\tPoint selection = getSelection ();", "+\t\tselection.y = selection.x;", "+\t\tsetSelection (selection);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ae48befabf0b7af61014a414b901f420", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "97fd072af6f318acadb846fa5d1a96cdf45e8a3d", "commitAfterChange": "f4cf3d6e03683b2a6cdbd10adda0fba73e537e38", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 25, "signatureBeforeChange": " public Point getSelection ()", "signatureAfterChange": " public Point getSelection ()", "diff": ["-\t\tshort [] selection = new short [2];", "-\t\tOS.GetControlData (handle, (short) OS.kHIComboBoxEditTextPart, OS.kControlEditTextSelectionTag, 4, selection, null);", "-\t\treturn new Point (selection [0], selection [1]);", "+\t\tControlEditTextSelectionRec selection;", "+\t\tif (this.selection != null) {", "+\t\t\tselection = this.selection;", "+\t\t} else {", "+\t\t\tselection = new ControlEditTextSelectionRec ();", "+\t\t\tOS.GetControlData (handle, (short) OS.kHIComboBoxEditTextPart, OS.kControlEditTextSelectionTag, 4, selection, null);", "+\t\t}", "+\t\treturn new Point (selection.selStart, selection.selEnd);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "52f51268629e9ae2ec5d706340ad1f5b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "97fd072af6f318acadb846fa5d1a96cdf45e8a3d", "commitAfterChange": "f4cf3d6e03683b2a6cdbd10adda0fba73e537e38", "methodNumberBeforeChange": 58, "methodNumberAfterChange": 59, "signatureBeforeChange": " public void setSelection (Point selection)", "signatureAfterChange": " public void setSelection (Point selection)", "diff": ["-\t\tshort [] s = new short [] {(short)selection.x, (short)selection.y};", "-\t\tOS.SetControlData (handle, OS.kHIComboBoxEditTextPart, OS.kControlEditTextSelectionTag, 4, s);", "+\t\tint length = getCharCount ();", "+\t\tint start = selection.x, end = selection.y;", "+\t\tControlEditTextSelectionRec sel = new ControlEditTextSelectionRec ();", "+\t\tsel.selStart = (short) Math.min (Math.max (Math.min (start, end), 0), length);", "+\t\tsel.selEnd = (short) Math.min (Math.max (Math.max (start, end), 0), length);", "+\t\tif (hasFocus ()) {", "+\t\t\tOS.SetControlData (handle, OS.kHIComboBoxEditTextPart, OS.kControlEditTextSelectionTag, 4, sel);", "+\t\t} else {", "+\t\t\tthis.selection = sel;", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f373a451900e81202d542721377b39fc", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "2a454fe804b800bda7308985ff1c504f23c6c2df", "commitAfterChange": "73435a29b3d514274292dbf94b7cddcffcdcd978", "methodNumberBeforeChange": 31, "methodNumberAfterChange": 33, "signatureBeforeChange": " public Point getSelection ()", "signatureAfterChange": " public Point getSelection ()", "diff": ["-\tint [] oStartOffset = new int [1], oEndOffset = new int [1];", "-\tOS.TXNGetSelection (txnObject, oStartOffset, oEndOffset);", "-\treturn new Point (oStartOffset [0], oEndOffset [0]);", "+\tif (txnObject == 0) {", "+\t\tControlEditTextSelectionRec selection;", "+\t\tif (this.selection != null) {", "+\t\t\tselection = this.selection;", "+\t\t} else {", "+\t\t\tselection = new ControlEditTextSelectionRec ();", "+\t\t\tOS.GetControlData (handle, (short) OS.kControlEntireControl, OS.kControlEditTextSelectionTag, 4, selection, null);", "+\t\t}", "+\t\treturn new Point (selection.selStart, selection.selEnd);", "+\t} else {", "+\t\tint [] oStartOffset = new int [1], oEndOffset = new int [1];", "+\t\tOS.TXNGetSelection (txnObject, oStartOffset, oEndOffset);", "+\t\treturn new Point (oStartOffset [0], oEndOffset [0]);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2e2a937fcb3589b9ada0081e7857ca3d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "f5f68fabf893d045dff7842a39ab757567d0bd9c", "commitAfterChange": "34cc11d9be7c6799a286a4b7f0c7efe8288cddc9", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 26, "signatureBeforeChange": " public Point getSelection ()", "signatureAfterChange": " public Point getSelection ()", "diff": ["-//\t\tControlEditTextSelectionRec selection;", "-//\t\tif (this.selection != null) {", "-//\t\t\tselection = this.selection;", "-//\t\t} else {", "-//\t\t\tselection = new ControlEditTextSelectionRec ();", "-//\t\t\tOS.GetControlData (handle, (short) OS.kHIComboBoxEditTextPart, OS.kControlEditTextSelectionTag, 4, selection, null);", "-//\t\t}", "-//\t\treturn new Point (selection.selStart, selection.selEnd);", "-\t\treturn null;", "+\t\tif (selection == null) return new Point(0, 0);", "+\t\treturn new Point(selection.location, selection.location + selection.length);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cff93a0167af09e3d595f8241372dfc7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "1879f0110762a14d14725c1ff98b0c876188176a", "commitAfterChange": "ec0b807b1bde11bc567a2a3419e26587b448a196", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 22, "signatureBeforeChange": " public Point getSelection ()", "signatureAfterChange": " public Point getSelection ()", "diff": ["-\tPoint selection;", "-\t\t// NEEDS WORK", "-\t\tselection = new Point(0, 0);", "+\t\treturn new Point (0, getCharCount ());", "-\t\tshort [] s = new short [2];", "-\t\tOS.GetControlData (handle, (short)OS.kHIComboBoxEditTextPart, OS.kControlEditTextSelectionTag, 4, s, null);", "-\t\tselection = new Point (s[0], s[1]);", "+\t\tshort [] selection = new short [2];", "+\t\tOS.GetControlData (handle, (short) OS.kHIComboBoxEditTextPart, OS.kControlEditTextSelectionTag, 4, selection, null);", "+\t\treturn new Point (selection [0], selection [1]);", "-\treturn selection;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5c93fd20c112f775a647275fbf229c79", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "a2fd7c534ad8ed7fb283f541212479d3dd690ff1", "commitAfterChange": "a6b30ebd4792ebe6274d74b03b55ca9d53aa302f", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": " public void clearSelection ()", "signatureAfterChange": " public void clearSelection ()", "diff": ["-\t\tchar [] buffer = new char [0];", "-\t\tint ptr = OS.CFStringCreateWithCharacters (OS.kCFAllocatorDefault, buffer, buffer.length);", "-\t\tif (ptr == 0) return;\t", "-\t\tOS.SetControlData (handle, OS.kHIComboBoxEditTextPart, OS.kControlEditTextCFStringTag, 4, new int[] {ptr});", "-\t\tOS.CFRelease (ptr);", "+\t\tshort [] selection = new short [2];", "+\t\tOS.GetControlData (handle, (short)OS.kHIComboBoxEditTextPart, OS.kControlEditTextSelectionTag, 4, selection, null);", "+\t\tselection [1] = selection [0];", "+\t\tOS.SetControlData (handle, OS.kHIComboBoxEditTextPart, OS.kControlEditTextSelectionTag, 4, selection);"]}], "num": 6844}