{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "aea67ed6b4fd60b4941ed17a8289119c", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5397869efe8d3df8131cec57a13930f2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Button.java", "commitBeforeChange": "d063aea08192e0213a4b6532b27dc31f9dce6e1b", "commitAfterChange": "48ef0056097e65cbe2f990bf125c93e76b95da33", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 12, "signatureBeforeChange": " int processFocusOut ()", "signatureAfterChange": "  int kEventControlDraw (int nextHandler, int theEvent, int userData)", "diff": ["+", "+int kEventControlDraw (int nextHandler, int theEvent, int userData) {", "+\tint result = super.kEventControlDraw (nextHandler, theEvent, userData);", "+\tif (isImage && image != null && (style & SWT.PUSH) != 0 && (style & SWT.FLAT) == 0) {", "+\t\tRect rect = new Rect();", "+\t\tOS.GetControlBounds (handle, rect);", "+\t\tint width = OS.CGImageGetWidth (image.handle);", "+\t\tint height = OS.CGImageGetHeight (image.handle);", "+\t\tint x = Math.max (0, (rect.right - rect.left - width) / 2);", "+\t\tint y = Math.max (0, (rect.bottom - rect.top - height) / 2);", "+\t\tGCData data = new GCData ();", "+\t\tdata.paintEvent = theEvent;", "+\t\tGC gc = GC.carbon_new (this, data);", "+\t\tgc.drawImage (image, x, y);", "+\t\tgc.dispose ();", "+\t\treturn OS.noErr;", "+\treturn result;", "-}", "-int processFocusOut () {", "-\tsuper.processFocusOut ();", "-\t// widget could be disposed at this point", "-\tif (handle == 0) return 0;", "-\tif ((style & SWT.PUSH) == 0) return 0;", "-\tif (getDefault ()) {", "-\t\tgetShell ().setDefaultButton (null, false);", "-\t}", "-\treturn 0;", "-}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "38e523dd432256f7afe560daab26b8fe", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Button.java", "commitBeforeChange": "57ba14e6c85a310ef7b864ed8adc6fa366dc3d6e", "commitAfterChange": "e983d4a13eb008de83ecbad342d94b6462cebe78", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "  void drawWidget (int control, int damageRgn, int visibleRgn, int theEvent)", "signatureAfterChange": "  void drawWidget (int control, int damageRgn, int visibleRgn, int theEvent)", "diff": ["-\t\tRect rect = new Rect();", "-\t\tOS.GetControlBounds (handle, rect);", "-\t\tint width = OS.CGImageGetWidth (image.handle);", "-\t\tint height = OS.CGImageGetHeight (image.handle);", "-\t\tint x = Math.max (0, (rect.right - rect.left - width) / 2);", "-\t\tint y = Math.max (0, (rect.bottom - rect.top - height) / 2);", "+\t\tRect bounds = new Rect(), content = new Rect();", "+\t\tOS.GetControlBounds (handle, bounds);", "+\t\tThemeButtonDrawInfo drawInfo = new ThemeButtonDrawInfo();", "+\t\tdrawInfo.state = OS.IsControlActive (handle) ? OS.kThemeStateActive : OS.kThemeStateInactive;", "+\t\tdrawInfo.adornment = OS.kThemeAdornmentDefault;", "+\t\tOS.GetThemeButtonContentBounds (bounds, OS.kThemePushButton, drawInfo, content);", "+\t\tint width = image == null ? 0 : OS.CGImageGetWidth (image.handle);", "+\t\tint height = image == null ? 0 : OS.CGImageGetHeight (image.handle);", "+\t\tint x = (bounds.right - bounds.left - width) / 2;", "+\t\tint y = (content.bottom - content.top - height) / 2;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "98fc25fba236aee47ece5233c7261b4e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Button.java", "commitBeforeChange": "ad7faf2331d33c7f68735fad69a11baef3deb362", "commitAfterChange": "169f4f3eed024153ecdf584bb52e3a3a80efd99a", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 6, "signatureBeforeChange": "  int kEventControlDraw (int nextHandler, int theEvent, int userData)", "signatureAfterChange": "  void drawWidget (int control, int damageRgn, int visibleRgn, int theEvent)", "diff": ["+void drawWidget (int control, int damageRgn, int visibleRgn, int theEvent) {", "+\tif (isImage && image != null && (style & SWT.PUSH) != 0 && (style & SWT.FLAT) == 0) {", "+\t\tRect rect = new Rect();", "+\t\tOS.GetControlBounds (handle, rect);", "+\t\tint width = OS.CGImageGetWidth (image.handle);", "+\t\tint height = OS.CGImageGetHeight (image.handle);", "+\t\tint x = Math.max (0, (rect.right - rect.left - width) / 2);", "+\t\tint y = Math.max (0, (rect.bottom - rect.top - height) / 2);", "+\t\tGCData data = new GCData ();", "+\t\tdata.paintEvent = theEvent;", "+\t\tdata.visibleRgn = visibleRgn;", "+\t\tGC gc = GC.carbon_new (this, data);", "+\t\tgc.drawImage (image, x, y);", "+\t\tgc.dispose ();", "+\t}", "+\tsuper.drawWidget (control, damageRgn, visibleRgn, theEvent);", "+}", "-", "-int kEventControlDraw (int nextHandler, int theEvent, int userData) {", "-\tint result = super.kEventControlDraw (nextHandler, theEvent, userData);", "-\tif (result == -1) return result;", "-\tif (isImage && image != null && (style & SWT.PUSH) != 0 && (style & SWT.FLAT) == 0) {", "-\t\tRect rect = new Rect();", "-\t\tOS.GetControlBounds (handle, rect);", "-\t\tint width = OS.CGImageGetWidth (image.handle);", "-\t\tint height = OS.CGImageGetHeight (image.handle);", "-\t\tint x = Math.max (0, (rect.right - rect.left - width) / 2);", "-\t\tint y = Math.max (0, (rect.bottom - rect.top - height) / 2);", "-\t\tGCData data = new GCData ();", "-\t\tdata.paintEvent = theEvent;", "-\t\tGC gc = GC.carbon_new (this, data);", "-\t\tgc.drawImage (image, x, y);", "-\t\tgc.dispose ();", "-\t\treturn OS.noErr;", "-\t}", "-\treturn result;"]}], "num": 10012}