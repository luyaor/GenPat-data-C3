{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "653f9eeaa0989a03852cc06305f15160", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e7e9d0fa7d13694e08b75af276f61d77", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Label.java", "commitBeforeChange": "7e81b84a2c12e711d885a4cd4a47a7eab239d8f4", "commitAfterChange": "edcf7c0e3595e65e30021cf83de1448eadf495c1", "methodNumberBeforeChange": 27, "methodNumberAfterChange": 21, "signatureBeforeChange": "  LRESULT wmDrawChild (int wParam, int lParam)", "signatureAfterChange": "  LRESULT wmDrawChild (int wParam, int lParam)", "diff": ["-\tif ((style & SWT.SHADOW_NONE) != 0) return null;", "-\tRECT rect = new RECT ();", "-\tint lineWidth = OS.GetSystemMetrics (OS.SM_CXBORDER);", "-\tint flags = OS.EDGE_ETCHED;", "-\tif ((style & SWT.SHADOW_IN) != 0) flags = OS.EDGE_SUNKEN;", "-\tif ((style & SWT.HORIZONTAL) != 0) {", "-\t\tint bottom = struct.top + Math.max (lineWidth * 2, (struct.bottom - struct.top) / 2);", "-\t\tOS.SetRect (rect, struct.left, struct.top, struct.right, bottom);", "-\t\tOS.DrawEdge (struct.hDC, rect, flags, OS.BF_BOTTOM);", "+\tif ((style & SWT.SEPARATOR) != 0) {", "+\t\tif ((style & SWT.SHADOW_NONE) != 0) return null;", "+\t\tRECT rect = new RECT ();", "+\t\tint lineWidth = OS.GetSystemMetrics (OS.SM_CXBORDER);", "+\t\tint flags = (style & SWT.SHADOW_IN) != 0 ? OS.EDGE_SUNKEN : OS.EDGE_ETCHED;", "+\t\tif ((style & SWT.HORIZONTAL) != 0) {", "+\t\t\tint bottom = struct.top + Math.max (lineWidth * 2, (struct.bottom - struct.top) / 2);", "+\t\t\tOS.SetRect (rect, struct.left, struct.top, struct.right, bottom);", "+\t\t\tOS.DrawEdge (struct.hDC, rect, flags, OS.BF_BOTTOM);", "+\t\t} else {", "+\t\t\tint right = struct.left + Math.max (lineWidth * 2, (struct.right - struct.left) / 2);", "+\t\t\tOS.SetRect (rect, struct.left, struct.top, right, struct.bottom);", "+\t\t\tOS.DrawEdge (struct.hDC, rect, flags, OS.BF_RIGHT);", "+\t\t}", "-\t\tint right = struct.left + Math.max (lineWidth * 2, (struct.right - struct.left) / 2);", "-\t\tOS.SetRect (rect, struct.left, struct.top, right, struct.bottom);", "-\t\tOS.DrawEdge (struct.hDC, rect, flags, OS.BF_RIGHT);", "+\t\tif (image != null) {", "+\t\t\tGCData data = new GCData();", "+\t\t\tdata.device = display;", "+\t\t\tGC gc = GC.win32_new (struct.hDC, data);", "+\t\t\tint width = struct.right - struct.left;", "+\t\t\tint height = struct.bottom - struct.top;", "+\t\t\tif (width != 0 && height != 0) {", "+\t\t\t\tint x = 0, y = 0;", "+\t\t\t\tif ((style & SWT.CENTER) != 0) {", "+\t\t\t\t\tRectangle rect = image.getBounds ();", "+\t\t\t\t\tx = Math.max (0, (width - rect.width) / 2);", "+\t\t\t\t} else {", "+\t\t\t\t\tif ((style & SWT.RIGHT) != 0) {", "+\t\t\t\t\t\tRectangle rect = image.getBounds ();", "+\t\t\t\t\t\tx = width - rect.width;", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t\tImage drawnImage = getEnabled () ? image : new Image (display, image, SWT.IMAGE_DISABLE);", "+\t\t\t\tgc.drawImage (drawnImage, x, y);", "+\t\t\t\tif (drawnImage != image) drawnImage.dispose ();", "+\t\t\t}", "+\t\t\tgc.dispose ();", "+\t\t}", "+"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1fa98473575f3adfaeed9bb4aecc175d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/win32/org/eclipse/swt/dnd/TreeDragAndDropEffect.java", "commitBeforeChange": "47bb44901049b6289bf7804a5ce16cc367c03824", "commitAfterChange": "2cea1d33bc1f2deae063fe599ec13e14a0331a33", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "  void showDropTargetEffect(int effect, int x, int y)", "signatureAfterChange": "  void showDropTargetEffect(int effect, int x, int y)", "diff": ["-\t\t\t\tint topItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_FIRSTVISIBLE, 0);", "-\t\t\t\tint nextItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, hItem == topItem ? OS.TVGN_PREVIOUSVISIBLE : OS.TVGN_NEXTVISIBLE, hItem);", "-\t\t\t\tOS.ImageList_DragShowNolock(false);", "-\t\t\t\tOS.SendMessage (handle, OS.TVM_ENSUREVISIBLE, 0, nextItem);", "-\t\t\t\ttree.update();", "-\t\t\t\tOS.ImageList_DragShowNolock(true);", "+\t\t\t\tint topItem = OS.SendMessage(handle, OS.TVM_GETNEXTITEM, OS.TVGN_FIRSTVISIBLE, 0);", "+\t\t\t\tint nextItem = OS.SendMessage(handle, OS.TVM_GETNEXTITEM, hItem == topItem ? OS.TVGN_PREVIOUSVISIBLE : OS.TVGN_NEXTVISIBLE, hItem);", "+\t\t\t\tboolean scroll = true;", "+\t\t\t\tif (hItem == topItem) {", "+\t\t\t\t\tscroll = nextItem != 0;", "+\t\t\t\t} else {", "+\t\t\t\t\tRECT itemRect = new RECT ();", "+\t\t\t\t\titemRect.left = nextItem;", "+\t\t\t\t\tif (OS.SendMessage (handle, OS.TVM_GETITEMRECT, 1, itemRect) != 0) {", "+\t\t\t\t\t\tRECT rect = new RECT ();", "+\t\t\t\t\t\tOS.GetClientRect (handle, rect);", "+\t\t\t\t\t\tPOINT pt = new POINT ();", "+\t\t\t\t\t\tpt.x = itemRect.left;", "+\t\t\t\t\t\tpt.y = itemRect.top;", "+\t\t\t\t\t\tif (OS.PtInRect (rect, pt)) {", "+\t\t\t\t\t\t\tpt.y = itemRect.bottom;", "+\t\t\t\t\t\t\tif (OS.PtInRect (rect, pt)) scroll = false;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t\tif (scroll) {", "+\t\t\t\t\tOS.ImageList_DragShowNolock(false);", "+\t\t\t\t\tOS.SendMessage (handle, OS.TVM_ENSUREVISIBLE, 0, nextItem);", "+\t\t\t\t\ttree.update();", "+\t\t\t\t\tOS.ImageList_DragShowNolock(true);", "+\t\t\t\t}", "-\t\t\t\tOS.ImageList_DragShowNolock(false);", "-\t\t\t\tOS.SendMessage (handle, OS.TVM_EXPAND, OS.TVE_EXPAND, hItem);", "-\t\t\t\ttree.update();", "-\t\t\t\tOS.ImageList_DragShowNolock(true);", "+\t\t\t\tif (OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_CHILD, hItem) != 0) {", "+\t\t\t\t\tTVITEM tvItem = new TVITEM ();", "+\t\t\t\t\ttvItem.hItem = hItem;", "+\t\t\t\t\ttvItem.mask = OS.TVIF_STATE;", "+\t\t\t\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);", "+\t\t\t\t\tif ((tvItem.state & OS.TVIS_EXPANDED) == 0) {", "+\t\t\t\t\t\tOS.ImageList_DragShowNolock(false);", "+\t\t\t\t\t\tOS.SendMessage (handle, OS.TVM_EXPAND, OS.TVE_EXPAND, hItem);", "+\t\t\t\t\t\ttree.update();", "+\t\t\t\t\t\tOS.ImageList_DragShowNolock(true);", "+\t\t\t\t\t}", "+\t\t\t\t}"]}], "num": 21413}