{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9bf6f1febe83d2f06da8abc12ecf0bcf", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0c654472556a6e8a99b0fd06183bb30a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk1x/org/eclipse/swt/widgets/FileDialog.java", "commitBeforeChange": "916a82a1e8077ce8a47e1d541c88cb101ff5ee36", "commitAfterChange": "5d6c8208629922fa8cd36b0d3a68c3e57119239e", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 11, "signatureBeforeChange": "\r int okFunc (int widget, int callData)", "signatureAfterChange": "\r \r boolean getAnswer()", "diff": ["-int okFunc (int widget, int callData) {\r", "-\tcancel = false;\r", "-\tchar separator = System.getProperty (\"file.separator\").charAt (0);\r", "-\tint lpFilename = OS.gtk_file_selection_get_filename (callData);\r", "-\tint filenameLength = OS.strlen (lpFilename);\r", "-\tbyte [] filenameBytes = new byte [filenameLength];\r", "-\tOS.memmove (filenameBytes, lpFilename, filenameLength);\r", "-\tfullPath = new String (Converter.mbcsToWcs (null, filenameBytes));\r", "-\t\r", "-\t/* Calculate fileName and filterPath */\r", "-\tint separatorIndex = fullPath.indexOf (separator);\r", "-\tint index = separatorIndex;\r", "-\twhile (index != -1) {\r", "-\t\tseparatorIndex = index;\r", "-\t\tindex = fullPath.indexOf (separator, index + 1);\r", "-\t}\r", "-\tfileName = fullPath.substring (separatorIndex + 1, fullPath.length ());\r", "-\tfilterPath = fullPath.substring (0, separatorIndex);\r", "-\tOS.gtk_widget_destroy (callData);\r", "-\treturn 0;\r", "-}\r", "+\r", "+boolean getAnswer() {\r", "+\tString fileNameFromOS = getFileNameFromOS();\r", "+\tint separatorIndex = calculateLastSeparatorIndex(fileNameFromOS);\r", "+\tif (separatorIndex+1 == fileNameFromOS.length()) return false;  // the user selected a directory\r", "+\tfullPath = answer = fileNameFromOS;\r", "+\tfileName = fullPath.substring (separatorIndex + 1, fullPath.length ());\r", "+\tfilterPath = fullPath.substring (0, separatorIndex);\r", "+\treturn true;\r", "+}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0437b9145bd9a0d2a659ee0e076891ed", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/FileDialog.java", "commitBeforeChange": "916a82a1e8077ce8a47e1d541c88cb101ff5ee36", "commitAfterChange": "5d6c8208629922fa8cd36b0d3a68c3e57119239e", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 11, "signatureBeforeChange": "\r int okFunc (int widget, int callData)", "signatureAfterChange": "\r \r boolean getAnswer()", "diff": ["-int okFunc (int widget, int callData) {\r", "-\tcancel = false;\r", "-\tchar separator = System.getProperty (\"file.separator\").charAt (0);\r", "-\tint lpFilename = OS.gtk_file_selection_get_filename (callData);\r", "-\tint filenameLength = OS.strlen (lpFilename);\r", "-\tbyte [] filenameBytes = new byte [filenameLength];\r", "-\tOS.memmove (filenameBytes, lpFilename, filenameLength);\r", "-\tfullPath = new String (Converter.mbcsToWcs (null, filenameBytes));\r", "-\t\r", "-\t/* Calculate fileName and filterPath */\r", "-\tint separatorIndex = fullPath.indexOf (separator);\r", "-\tint index = separatorIndex;\r", "-\twhile (index != -1) {\r", "-\t\tseparatorIndex = index;\r", "-\t\tindex = fullPath.indexOf (separator, index + 1);\r", "-\t}\r", "-\tfileName = fullPath.substring (separatorIndex + 1, fullPath.length ());\r", "-\tfilterPath = fullPath.substring (0, separatorIndex);\r", "-\tOS.gtk_widget_destroy (callData);\r", "-\treturn 0;\r", "-}\r", "+\r", "+boolean getAnswer() {\r", "+\tString fileNameFromOS = getFileNameFromOS();\r", "+\tint separatorIndex = calculateLastSeparatorIndex(fileNameFromOS);\r", "+\tif (separatorIndex+1 == fileNameFromOS.length()) return false;  // the user selected a directory\r", "+\tfullPath = answer = fileNameFromOS;\r", "+\tfileName = fullPath.substring (separatorIndex + 1, fullPath.length ());\r", "+\tfilterPath = fullPath.substring (0, separatorIndex);\r", "+\treturn true;\r", "+}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4ec1d7c1528b7faf8de7fdf082757c3f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/FileDialog.java", "commitBeforeChange": "7996d8405892a4a58e0083da5d5bc47199c1a1a1", "commitAfterChange": "a70d2e9009f5c248af33f97a37a3226fb19f6ab1", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 13, "signatureBeforeChange": "\r int okFunc (int widget, int callData)", "signatureAfterChange": "\r \r void interpretOsAnswer(String osAnswer)", "diff": ["-int okFunc (int widget, int callData) {\r", "-\tcancel = false;\r", "-\tchar separator = System.getProperty (\"file.separator\").charAt (0);\r", "-\tint lpFilename = OS.gtk_file_selection_get_filename (callData);\r", "-\tint filenameLength = OS.strlen (lpFilename);\r", "-\tbyte [] filenameBytes = new byte [filenameLength];\r", "-\tOS.memmove (filenameBytes, lpFilename, filenameLength);\r", "-\tfullPath = new String (Converter.mbcsToWcs (null, filenameBytes));\r", "-\t\r", "-\t/* Calculate fileName and filterPath */\r", "-\tint separatorIndex = fullPath.indexOf (separator);\r", "-\tint index = separatorIndex;\r", "-\twhile (index != -1) {\r", "-\t\tseparatorIndex = index;\r", "-\t\tindex = fullPath.indexOf (separator, index + 1);\r", "-\t}\r", "-\tfileName = fullPath.substring (separatorIndex + 1, fullPath.length ());\r", "-\tfilterPath = fullPath.substring (0, separatorIndex);\r", "-\tOS.gtk_widget_destroy (callData);\r", "-\treturn 0;\r", "-}\r", "+\r", "+void interpretOsAnswer(String osAnswer) {\r", "+\tif (osAnswer==null) return;\r", "+\tint separatorIndex = calculateLastSeparatorIndex(osAnswer);\r", "+\tif (separatorIndex+1 == osAnswer.length()) {\r", "+\t\t/*\r", "+\t\t * the selected thing is a directory\r", "+\t\t */\r", "+\t\tanswer = null;\r", "+\t\treturn;\r", "+\t}\r", "+\tanswer = fullPath = osAnswer;\r", "+\tfileName = answer.substring(separatorIndex+1);\r", "+}\r"]}], "num": 44634}