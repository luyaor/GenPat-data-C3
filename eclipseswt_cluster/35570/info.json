{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "1f166b8df2d09c12a4c60ee1fd21b704", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "74f6f7d4297567f891a84ee9f37e06e2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/photon/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "c9992cb98fd2a837c866ff6f32642b9e42588c7e", "commitAfterChange": "284cfb84460ae80dee15a8cf75ffb27f2ba56fed", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": " public void copyArea(int x, int y, int width, int height, int destX, int destY)", "signatureAfterChange": " public void copyArea(int x, int y, int width, int height, int destX, int destY)", "diff": ["-\t\t\tint[] child_tiles = new int[1];\r", "-\t\t\tint child_clip = getClipping(widget, data.topWidget, true, true, child_tiles);\r", "+\t\t\tint[] child_tiles_buffer = new int[1];\r", "+\t\t\tint child_clip = getClipping(widget, data.topWidget, true, true, child_tiles_buffer);\r", "+\t\t\tint child_tiles = child_tiles_buffer[0];\r", "-\t\t\t\tdest_tiles = OS.PhClipTilings(dest_tiles, child_tiles[0], null);\r", "+\t\t\t\tif (child_tiles != 0) {\r", "+\t\t\t\t\tdest_tiles = OS.PhClipTilings(dest_tiles, child_tiles, null);\r", "+\t\t\t\t}\r", "-\t\t\tint widget_damage_tiles = OS.PhIntersectTilings(src, child_tiles[0], unused);\r", "-\t\t\tOS.PhTranslateTiles(widget_damage_tiles, delta);\r", "+\t\t\tint widget_damage_tiles = 0;\r", "+\t\t\tif (child_tiles != 0) {\r", "+\t\t\t\twidget_damage_tiles = OS.PhIntersectTilings(src, child_tiles, unused);\r", "+\t\t\t\tOS.PhTranslateTiles(widget_damage_tiles, delta);\r", "+\t\t\t}\r", "-\t\t\tint damage_tiles = OS.PhAddMergeTiles(src_damage_tiles, widget_damage_tiles, null);\r", "+\t\t\tint damage_tiles = src_damage_tiles;\r", "+\t\t\tif (widget_damage_tiles != 0) {\r", "+\t\t\t\tdamage_tiles = OS.PhAddMergeTiles(src_damage_tiles, widget_damage_tiles, null);\r", "+\t\t\t}\r", "+\t\t\t\r", "+//\t\t\tNOT SURE\t\t\t\r", "+//\t\t\tsrc = OS.PhGetTile();\r", "+//\t\t\tOS.memmove(src, rect, PhRect_t.sizeof);\r", "+//\t\t\tint widget_tile = OS.PhGetTile();\r", "+//\t\t\tOS.PtWidgetCanvas(widget, widget_tile); // NOTE: widget_tile->rect\r", "+//\t\t\tOS.PhDeTranslateTiles(widget_tile, widget_tile); // NOTE: widget_tile->rect.ul\r", "+//\t\t\tsrc = OS.PhClipTilings(src, widget_tile, null);\r", "+//\t\t\tOS.PhTranslateTiles(src, delta);\r", "+//\t\t\tdamage_tiles = OS.PhAddMergeTiles(damage_tiles, src, null);\r", "-\t\t\tdamage_tiles = OS.PhClipTilings(damage_tiles, child_tiles[0], null);\r", "+\t\t\tdamage_tiles = OS.PhClipTilings(damage_tiles, child_tiles, null);\r", "-\t\t\tOS.PhFreeTiles (child_tiles[0]);\r", "+\t\t\tOS.PhFreeTiles (child_tiles);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ea679a91ab3816e6d19a91adfe7a16a0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "2a454fe804b800bda7308985ff1c504f23c6c2df", "commitAfterChange": "73435a29b3d514274292dbf94b7cddcffcdcd978", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 18, "signatureBeforeChange": "  void drawWidget (int control, int damageRgn, int visibleRgn, int theEvent)", "signatureAfterChange": "  void drawWidget (int control, int context, int damageRgn, int visibleRgn, int theEvent)", "diff": ["-void drawWidget (int control, int damageRgn, int visibleRgn, int theEvent) {", "-\tsuper.drawWidget (control, damageRgn, visibleRgn, theEvent);", "+void drawWidget (int control, int context, int damageRgn, int visibleRgn, int theEvent) {", "+\tsuper.drawWidget (control, context, damageRgn, visibleRgn, theEvent);", "+\t", "-\tint[] context = new int [1];", "-\tint port = OS.GetWindowPort (shellHandle);", "-\tRect portRect = new Rect ();", "-\tOS.GetPortBounds (port, portRect);", "-\tOS.QDBeginCGContext (port, context);", "-\tOS.CGContextScaleCTM (context [0], 1, -1);", "-\tOS.CGContextTranslateCTM (context [0], 0, portRect.top - portRect.bottom);", "+\tint port; ", "+\tint [] buffer;", "+\tif (!OS.HIVIEW) {", "+\t\tbuffer = new int [1];", "+\t\tRect portRect = new Rect ();", "+\t\tport = OS.GetWindowPort (shellHandle);", "+\t\tOS.GetPortBounds (port, portRect);", "+\t\tOS.QDBeginCGContext (port, buffer);", "+\t\tcontext = buffer [0];", "+\t\tOS.CGContextScaleCTM (context, 1, -1);", "+\t\tOS.CGContextTranslateCTM (context, 0, portRect.top - portRect.bottom);", "+\t}", "-\t\tOS.CGContextClearRect (context [0], cgRect);", "+\t\tOS.CGContextClearRect (context, cgRect);", "-\t\tOS.CGContextClearRect (context [0], cgRect);", "+\t\tOS.CGContextClearRect (context, cgRect);", "-\tOS.CGContextSynchronize (context [0]);", "-\tOS.QDEndCGContext (port, context);", "+\tOS.CGContextSynchronize (context);", "+\tif (!OS.HIVIEW) OS.QDEndCGContext (port, buffer);"]}], "num": 35570}