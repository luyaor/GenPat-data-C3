{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "40b674eaef687d952fd09a09769533cc", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7ab626e81eb241d195b08a838d47683c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "6ef57fc0e6f6427596d6abd342b6a7b03248370d", "commitAfterChange": "9cf20db2863a33762a4a7c547242d28c6ec2ffdf", "methodNumberBeforeChange": 100, "methodNumberAfterChange": 99, "signatureBeforeChange": "\r void doMouseLocationChange(int x, int y, boolean select)", "signatureAfterChange": "\r void doMouseLocationChange(int x, int y, boolean select)", "diff": ["+\tint newCaretOffset;\r", "+\tint newCaretLine;\r", "-\tif (line == 0 || (isSingleLine() == false && line > 0)) {\r", "-\t\tint newCaretOffset = getOffsetAtMouseLocation(x, line);\r", "-\t\t\r", "+\tif (line < 0 || (isSingleLine() && line > 0)) {\r", "+\t\treturn;\r", "+\t}\r", "+\tif (isBidi()) {\r", "+\t\tnewCaretOffset = getBidiOffsetAtMouseLocation(x, line);\t\r", "+\t}\r", "+\telse {\r", "+\t\tnewCaretOffset = getOffsetAtMouseLocation(x, line);\r", "+\t}\r", "+\tif (mouseDoubleClick) {\r", "+\t\t// double click word select the previous/next word. fixes bug 15610\r", "+\t\tnewCaretOffset = doMouseWordSelect(x, newCaretOffset, line);\r", "+\t}\r", "+\tnewCaretLine = content.getLineAtOffset(newCaretOffset);\r", "+\tif (x >= 0 || \r", "+\t\tnewCaretLine != content.getLineAtOffset(caretOffset)) {\r", "+\t\t// Only change the caret offset when the mouse is within \r", "+\t\t// the left client area border or on a different line. \r", "+\t\t// Otherwise the autoscroll selection may be reset. \r", "+\t\t// Fixes 1GKM3XS\r", "-\t\t\tcaretLine = line;\r", "+\t\t\tcaretLine = newCaretLine;\r", "-\t\t\tsetCaretLocation();\r", "+\t\t\tshowCaret();\r", "-\t\tif (select == false) {\r", "-\t\t\tclearSelection(true);\r", "-\t\t}\r", "+\t}\r", "+\tif (select == false) {\r", "+\t\tclearSelection(true);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "aa80d1d6a16b256abdba8ebe38ebcb83", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "bc224c2a2fcbef7d8e73e3f7b7b518fc99abc8ef", "commitAfterChange": "56d7d44784ad7e2547a3e9a0ea84e65586278aec", "methodNumberBeforeChange": 83, "methodNumberAfterChange": 83, "signatureBeforeChange": " int doMouseWordSelect(int x, int newCaretOffset, int line)", "signatureAfterChange": " int doMouseWordSelect(int x, int newCaretOffset, int line)", "diff": ["-\t\tint wordOffset;", "-\t\t// find the previous/next word", "+\t\tboolean wordSelect = (clickCount & 1) == 0;", "-\t\t\twordOffset = getWordPrevious(newCaretOffset, SWT.MOVEMENT_WORD_START);", "+\t\t\tif (wordSelect) {", "+\t\t\t\tnewCaretOffset = getWordPrevious(newCaretOffset, SWT.MOVEMENT_WORD_START);", "+\t\t\t} else {", "+\t\t\t\tnewCaretOffset = content.getOffsetAtLine(line);", "+\t\t\t}", "-\t\t\twordOffset = getWordNext(newCaretOffset, SWT.MOVEMENT_WORD_END);", "-\t\t}", "-\t\t// mouse word select only on same line mouse cursor is on", "-\t\tif (content.getLineAtOffset(wordOffset) == line) {", "-\t\t\tnewCaretOffset = wordOffset;", "+\t\t\tif (wordSelect) {", "+\t\t\t\tnewCaretOffset = getWordNext(newCaretOffset, SWT.MOVEMENT_WORD_END);", "+\t\t\t} else {", "+\t\t\t\tint lineEnd = content.getCharCount();", "+\t\t\t\tif (line + 1 < content.getLineCount()) {", "+\t\t\t\t\tlineEnd = content.getOffsetAtLine(line + 1);", "+\t\t\t\t}", "+\t\t\t\tnewCaretOffset = lineEnd; ", "+\t\t\t}"]}], "num": 26757}