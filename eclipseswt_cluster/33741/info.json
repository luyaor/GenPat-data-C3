{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3016a0bca48c8adea156d469bad005f5", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dee33bba9911001b006bfa965116aee8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "3579a2ddd16250f990aade0121aaa1a5408189d3", "commitAfterChange": "bfeb9363264aadeff1b9dc0fbf580745ee5514cb", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "\r void drawImageAlpha(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple, int imgWidth, int imgHeight, int depth)", "signatureAfterChange": "\r void drawImageAlpha(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple, int imgWidth, int imgHeight, int depth)", "diff": ["+\t\t\tint srcRedMask = xSrcImage.red_mask;\r", "+\t\t\tint srcGreenMask = xSrcImage.green_mask;\r", "+\t\t\tint srcBlueMask = xSrcImage.blue_mask;\r", "+\t\t\tint destRedMask = xDestImage.red_mask;\r", "+\t\t\tint destGreenMask = xDestImage.green_mask;\r", "+\t\t\tint destBlueMask = xDestImage.blue_mask;\r", "+\t\t\t\r", "+\t\t\t/*\r", "+\t\t\t* Feature in X.  XGetImage does not retrieve the RGB masks if the drawable\r", "+\t\t\t* is a Pixmap.  The fix is to detect that the masks are not valid and use\r", "+\t\t\t* the default visual masks instead.\r", "+\t\t\t* \r", "+\t\t\t* NOTE: It is safe to use the default Visual masks, since we always\r", "+\t\t\t* create images with these masks. \r", "+\t\t\t*/\r", "+\t\t\tint visual = OS.XDefaultVisual(xDisplay, OS.XDefaultScreen(xDisplay));\r", "+\t\t\tVisual xVisual = new Visual();\r", "+\t\t\tOS.memmove(xVisual, visual, Visual.sizeof);\r", "+\t\t\tif (srcRedMask == 0 && srcGreenMask == 0 && srcBlueMask == 0) {\r", "+\t\t\t\tsrcRedMask = xVisual.red_mask;\r", "+\t\t\t\tsrcGreenMask = xVisual.green_mask;\r", "+\t\t\t\tsrcBlueMask = xVisual.blue_mask;\r", "+\t\t\t}\r", "+\t\t\tif (destRedMask == 0 && destGreenMask == 0 && destBlueMask == 0) {\r", "+\t\t\t\tdestRedMask = xVisual.red_mask;\r", "+\t\t\t\tdestGreenMask = xVisual.green_mask;\r", "+\t\t\t\tdestBlueMask = xVisual.blue_mask;\r", "+\t\t\t}\r", "+\t\t\t\r", "-\t\t\t\tsrcData, xSrcImage.bits_per_pixel, xSrcImage.bytes_per_line, srcOrder, 0, 0, srcWidth, srcHeight, xDestImage.red_mask, xDestImage.green_mask, xDestImage.blue_mask,\r", "+\t\t\t\tsrcData, xSrcImage.bits_per_pixel, xSrcImage.bytes_per_line, srcOrder, 0, 0, srcWidth, srcHeight, srcRedMask, srcGreenMask, srcBlueMask,\r", "-\t\t\t\tdestData, xDestImage.bits_per_pixel, xDestImage.bytes_per_line, destOrder, 0, 0, destWidth, destHeight, xDestImage.red_mask, xDestImage.green_mask, xDestImage.blue_mask,\r", "+\t\t\t\tdestData, xDestImage.bits_per_pixel, xDestImage.bytes_per_line, destOrder, 0, 0, destWidth, destHeight, destRedMask, destGreenMask, destBlueMask,\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4d968aa236aeef6304a259430b82fdfb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "1946f53da43fe63bcaa044f1e6b67fe7f1fdae23", "commitAfterChange": "4431f3ef3b71f09021d71b21b34cc8ed79456e38", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "\r static int scalePixmap(int display, int pixmap, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean flipX, boolean flipY)", "signatureAfterChange": "\r static int scalePixmap(int display, int pixmap, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean flipX, boolean flipY)", "diff": ["-\t\t\tint order = xSrcImage.bits_per_pixel == 1 ? xSrcImage.bitmap_bit_order : xSrcImage.byte_order;\r", "-\t\t\tint srcOrder = order == OS.MSBFirst ? ImageData.MSB_FIRST : ImageData.LSB_FIRST;\r", "-\t\t\torder = xImage.bits_per_pixel == 1 ? xImage.bitmap_bit_order : xImage.byte_order;\r", "-\t\t\tint destOrder = order == OS.MSBFirst ? ImageData.MSB_FIRST : ImageData.LSB_FIRST;\r", "+\t\t\tint srcOrder = xSrcImage.bits_per_pixel == 8 ? xSrcImage.byte_order : xSrcImage.bitmap_bit_order;\r", "+\t\t\tint destOrder = xImage.bits_per_pixel == 8 ? xImage.byte_order : xImage.bitmap_bit_order;\r", "-\t\t\t\tsrcData, xSrcImage.bits_per_pixel, xSrcImage.bytes_per_line, ImageData.MSB_FIRST, 0, 0, srcWidth, srcHeight, 0, 0, 0,\r", "+\t\t\t\tsrcData, xSrcImage.bits_per_pixel, xSrcImage.bytes_per_line, xSrcImage.byte_order, 0, 0, srcWidth, srcHeight, 0, 0, 0,\r", "-\t\t\t\tbuf, xImage.bits_per_pixel, xImage.bytes_per_line, ImageData.MSB_FIRST, 0, 0, destWidth, destHeight, 0, 0, 0,\r", "+\t\t\t\tbuf, xImage.bits_per_pixel, xImage.bytes_per_line, xImage.byte_order, 0, 0, destWidth, destHeight, 0, 0, 0,\r"]}], "num": 33741}