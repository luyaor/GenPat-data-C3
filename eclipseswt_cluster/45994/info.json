{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b0b7c6b6cb643529cc0aa012b2bed7df", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c95afc7cb97ad77662785911eca3c825", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cairo/org/eclipse/swt/graphics/Path.java", "commitBeforeChange": "73975c256a3584f0bc295ffc796bd9322b645d25", "commitAfterChange": "457faea14ee904538aebbb601dcac7e617f88af3", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": " public void getBounds(float[] bounds)", "signatureAfterChange": " public void getBounds(float[] bounds)", "diff": ["-\tdouble[] extents = new double[4];", "-\tCairo.cairo_extents(handle, extents);", "-\tbounds[0] = (float)extents[0];", "-\tbounds[1] = (float)extents[1];", "-\tbounds[2] = (float)(extents[2] - extents[0]);", "-\tbounds[3] = (float)(extents[3] - extents[1]);", "+\tint /*path*/ copy = Cairo.cairo_copy_path(handle);", "+\tif (copy == 0) SWT.error(SWT.ERROR_NO_HANDLES);", "+\tcairo_path_t path = new cairo_path_t();", "+\tCairo.memmove(path, copy, cairo_path_t.sizeof);", "+\tdouble minX = 0, minY = 0, maxX = 0, maxY = 0;", "+\tif (path.num_data > 0) {", "+\t\tint i = 0;", "+\t\tdouble[] points = new double[6]; ", "+\t\tcairo_path_data_t data = new cairo_path_data_t();", "+\t\twhile (i < path.num_data) {", "+\t\t\tint offset = path.data + i * cairo_path_data_t.sizeof;", "+\t\t\tCairo.memmove(data, offset, cairo_path_data_t.sizeof);", "+\t\t\tswitch (data.type) {", "+\t\t\t\tcase Cairo.CAIRO_PATH_MOVE_TO:", "+\t\t\t\t\tCairo.memmove(points, offset + cairo_path_data_t.sizeof, cairo_path_data_t.sizeof);", "+\t\t\t\t\tminX = Math.min(minX, points[0]);", "+\t\t\t\t\tminY = Math.min(minY, points[1]);", "+\t\t\t\t\tmaxX = Math.max(maxX, points[0]);", "+\t\t\t\t\tmaxY = Math.max(maxY, points[1]);", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase Cairo.CAIRO_PATH_LINE_TO:", "+\t\t\t\t\tCairo.memmove(points, offset + cairo_path_data_t.sizeof, cairo_path_data_t.sizeof);", "+\t\t\t\t\tminX = Math.min(minX, points[0]);", "+\t\t\t\t\tminY = Math.min(minY, points[1]);", "+\t\t\t\t\tmaxX = Math.max(maxX, points[0]);", "+\t\t\t\t\tmaxY = Math.max(maxY, points[1]);", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase Cairo.CAIRO_PATH_CURVE_TO:", "+\t\t\t\t\tCairo.memmove(points, offset + cairo_path_data_t.sizeof, cairo_path_data_t.sizeof * 3);", "+\t\t\t\t\tminX = Math.min(minX, points[0]);", "+\t\t\t\t\tminY = Math.min(minY, points[1]);", "+\t\t\t\t\tmaxX = Math.max(maxX, points[0]);", "+\t\t\t\t\tmaxY = Math.max(maxY, points[1]);", "+\t\t\t\t\tminX = Math.min(minX, points[2]);", "+\t\t\t\t\tminY = Math.min(minY, points[3]);", "+\t\t\t\t\tmaxX = Math.max(maxX, points[2]);", "+\t\t\t\t\tmaxY = Math.max(maxY, points[3]);", "+\t\t\t\t\tminX = Math.min(minX, points[4]);", "+\t\t\t\t\tminY = Math.min(minY, points[5]);", "+\t\t\t\t\tmaxX = Math.max(maxX, points[4]);", "+\t\t\t\t\tmaxY = Math.max(maxY, points[5]);", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase Cairo.CAIRO_PATH_CLOSE_PATH: break;", "+\t\t\t}", "+\t\t\ti += data.length;", "+\t\t}", "+\t}", "+\tbounds[0] = (float)minX;", "+\tbounds[1] = (float)minY;", "+\tbounds[2] = (float)(maxX - minX);", "+\tbounds[3] = (float)(maxY - minY);", "+\tCairo.cairo_path_destroy(copy);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8a4a1f7539406ae98317349d85c73efc", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cairo/org/eclipse/swt/graphics/Path.java", "commitBeforeChange": "73975c256a3584f0bc295ffc796bd9322b645d25", "commitAfterChange": "457faea14ee904538aebbb601dcac7e617f88af3", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": " public PathData getPathData()", "signatureAfterChange": " public PathData getPathData()", "diff": ["-\tint[] n_types = new int[1];", "-\tint[] n_points = new int[1];", "-\tCairo.cairo_points(handle, n_types, n_points, null, null);", "-\tbyte[] types = new byte[n_types[0]];", "-\tfloat[] points = new float[n_points[0] * 2];", "-\tCairo.cairo_points(handle, n_types, n_points, types, points);", "+\tint /*path*/ copy = Cairo.cairo_copy_path(handle);", "+\tif (copy == 0) SWT.error(SWT.ERROR_NO_HANDLES);", "+\tcairo_path_t path = new cairo_path_t();", "+\tCairo.memmove(path, copy, cairo_path_t.sizeof);", "+\tbyte[] types = new byte[path.num_data];", "+\tfloat[] pts = new float[path.num_data * 6];", "+\tint typeIndex = 0, ptsIndex = 0;", "+\tif (path.num_data > 0) {", "+\t\tint i = 0;", "+\t\tdouble[] points = new double[6]; ", "+\t\tcairo_path_data_t data = new cairo_path_data_t();", "+\t\twhile (i < path.num_data) {", "+\t\t\tint offset = path.data + i * cairo_path_data_t.sizeof;", "+\t\t\tCairo.memmove(data, offset, cairo_path_data_t.sizeof);", "+\t\t\tswitch (data.type) {", "+\t\t\t\tcase Cairo.CAIRO_PATH_MOVE_TO:", "+\t\t\t\t\ttypes[typeIndex++] = SWT.PATH_MOVE_TO;", "+\t\t\t\t\tCairo.memmove(points, offset + cairo_path_data_t.sizeof, cairo_path_data_t.sizeof);", "+\t\t\t\t\tpts[ptsIndex++] = (float)points[0];", "+\t\t\t\t\tpts[ptsIndex++] = (float)points[1];", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase Cairo.CAIRO_PATH_LINE_TO:", "+\t\t\t\t\ttypes[typeIndex++] = SWT.PATH_LINE_TO;", "+\t\t\t\t\tCairo.memmove(points, offset + cairo_path_data_t.sizeof, cairo_path_data_t.sizeof);", "+\t\t\t\t\tpts[ptsIndex++] = (float)points[0];", "+\t\t\t\t\tpts[ptsIndex++] = (float)points[1];", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase Cairo.CAIRO_PATH_CURVE_TO:", "+\t\t\t\t\ttypes[typeIndex++] = SWT.PATH_CUBIC_TO;", "+\t\t\t\t\tCairo.memmove(points, offset + cairo_path_data_t.sizeof, cairo_path_data_t.sizeof * 3);", "+\t\t\t\t\tpts[ptsIndex++] = (float)points[0];", "+\t\t\t\t\tpts[ptsIndex++] = (float)points[1];", "+\t\t\t\t\tpts[ptsIndex++] = (float)points[2];", "+\t\t\t\t\tpts[ptsIndex++] = (float)points[3];", "+\t\t\t\t\tpts[ptsIndex++] = (float)points[4];", "+\t\t\t\t\tpts[ptsIndex++] = (float)points[5];", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase Cairo.CAIRO_PATH_CLOSE_PATH:", "+\t\t\t\t\ttypes[typeIndex++] = SWT.PATH_CLOSE;", "+\t\t\t\t\tbreak;", "+\t\t\t}", "+\t\t\ti += data.length;", "+\t\t}", "+\t}", "+\tif (typeIndex != types.length) {", "+\t\tbyte[] newTypes = new byte[typeIndex];", "+\t\tSystem.arraycopy(types, 0, newTypes, 0, typeIndex);", "+\t\ttypes = newTypes;", "+\t}", "+\tif (ptsIndex != pts.length) {", "+\t\tfloat[] newPts = new float[ptsIndex];", "+\t\tSystem.arraycopy(pts, 0, newPts, 0, ptsIndex);", "+\t\tpts = newPts;", "+\t}", "+\tCairo.cairo_path_destroy(copy);", "-\tresult.points = points;", "+\tresult.points = pts;"]}], "num": 45994}