{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "cc4ce1e54fa63a5b64618ec4c38c1f47", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "eac130f3e2ecf270d6c20fa10b5fa0cf", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "4edc576de20a88abac088ae701d29ce3e54ede4f", "commitAfterChange": "c2ec875b36ecf39df432358c14d183b7d7f45fe0", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": " public void draw(GC gc, int x, int y, int selectionStart, int selectionEnd, Color selectionForeground, Color selectionBackground, int flags)", "signatureAfterChange": " public void draw(GC gc, int x, int y, int selectionStart, int selectionEnd, Color selectionForeground, Color selectionBackground, int flags)", "diff": ["-//\tNSPoint pt = new NSPoint();", "-//\tpt.x = x;", "-//\tpt.y = y;", "-//\tNSColor selectionColor = NSColor.colorWithDeviceRed(1, 0, 0, 1);", "-//\tselectionColor.set();", "-//\tNSRange range = new NSRange();", "-//\trange.length = layoutManager.numberOfGlyphs();", "-//\tlayoutManager.drawBackgroundForGlyphRange(range, pt);", "-//\ttextStorage.drawAtPoint(pt);", "-\tNSRect rect = new NSRect();", "-\trect.x = x;", "-\trect.y = y;", "-\tNSSize size = textContainer.containerSize();", "-\trect.width = size.width;", "-\trect.height = size.height;", "-\ttextStorage.drawInRect(rect);", "+\tgc.checkGC(GC.CLIPPING | GC.TRANSFORM | GC.FOREGROUND);", "+//\tfloat[] foreground = gc.data.foreground;", "+//\tNSColor color = NSColor.colorWithDeviceRed(foreground[0], foreground[1], foreground[2], foreground[3]);", "+//\ttextStorage.setForegroundColor(color);", "+\tNSPoint pt = new NSPoint();", "+\tpt.x = x;", "+\tpt.y = y;", "+\tNSRange range = new NSRange();", "+\trange.length = layoutManager.numberOfGlyphs();", "+\tboolean hasSelection = selectionStart <= selectionEnd && selectionStart != -1 && selectionEnd != -1;", "+\tNSRange selectionRange = null;", "+\tif (hasSelection) {", "+\t\tselectionRange = new NSRange();", "+\t\tselectionRange.location = selectionStart;", "+\t\tselectionRange.length = selectionEnd - selectionStart + 1;", "+\t\tif (selectionBackground == null) selectionBackground = device.getSystemColor(SWT.COLOR_LIST_SELECTION);", "+\t\tNSColor selectionColor = NSColor.colorWithDeviceRed(selectionBackground.handle[0], selectionBackground.handle[1], selectionBackground.handle[2], selectionBackground.handle[3]);", "+\t\tlayoutManager.addTemporaryAttribute(OS.NSBackgroundColorAttributeName, selectionColor, selectionRange);", "+\t}", "+\tlayoutManager.drawBackgroundForGlyphRange(range, pt);", "+\tlayoutManager.drawGlyphsForGlyphRange(range, pt);", "+\tif (selectionRange != null) {", "+\t\tlayoutManager.removeTemporaryAttribute(OS.NSBackgroundColorAttributeName, selectionRange);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "de94622f5946c2e2c93899ee5712c114", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "48512dc20e32e369917d3e1ccfb92109c9724e7e", "commitAfterChange": "1942f64e0b774317e0a8e6ec44902bb736bb7790", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 3, "signatureBeforeChange": "  void createHandle (int index)", "signatureAfterChange": "  void createHandle (int index)", "diff": ["-\tint bits = SWT.SEPARATOR | SWT.RADIO | SWT.CHECK | SWT.PUSH;", "-\tswitch (style & bits) {", "-\t\tcase SWT.RADIO:", "-\t\tcase SWT.CHECK:", "-\t\t\t_createToggleHandle(index);  return;", "-\t\tcase SWT.SEPARATOR:", "-\t\t\t_createSeparatorHandle(index);  return;", "+\tswitch (style & (SWT.SEPARATOR | SWT.RADIO | SWT.CHECK | SWT.PUSH)) {", "+\t\tcase 0:", "+\t\t\thandle = OS.gtk_toolbar_insert_element (parent.handle,", "+\t\t\tOS.GTK_TOOLBAR_CHILD_BUTTON(),", "+\t\t\t0, new byte[1], null, null,", "+\t\t\t0, 0, 0,", "+\t\t\tindex);", "+\t\t\treturn;", "+\t\tcase SWT.RADIO:", "+\t\t\thandle = OS.gtk_toolbar_insert_element (parent.handle,", "+\t\t\t\tOS.GTK_TOOLBAR_CHILD_RADIOBUTTON(),", "+\t\t\t\t0, new byte[1], null, null,", "+\t\t\t\t0, 0, 0,", "+\t\t\t\tindex);", "+\t\t\treturn;", "+\t\tcase SWT.CHECK:", "+\t\t\thandle = OS.gtk_toolbar_insert_element (parent.handle,", "+\t\t\t\tOS.GTK_TOOLBAR_CHILD_TOGGLEBUTTON(),", "+\t\t\t\t0, new byte[1], null, null,", "+\t\t\t\t0, 0, 0,", "+\t\t\t\tindex);", "+\t\t\treturn;", "+\t\tcase SWT.SEPARATOR:", "+\t\t\tboxHandle = OS.gtk_event_box_new();", "+\t\t\tif (boxHandle==0) error(SWT.ERROR_NO_HANDLES);", "+\t\t\tboolean isVertical = (parent.getStyle()&SWT.VERTICAL) != 0;", "+\t\t\thandle = isVertical? OS.gtk_hseparator_new() : OS.gtk_vseparator_new();", "+\t\t\tif (handle==0) error(SWT.ERROR_NO_HANDLES);", "+\t\t\tOS.gtk_toolbar_insert_widget (", "+\t\t\t\tparent.handle,", "+\t\t\t\tboxHandle,", "+\t\t\t\tnew byte[1], new byte[1],", "+\t\t\t\tindex);", "+\t\t\tOS.gtk_container_add(boxHandle, handle);", "+\t\t\tOS.gtk_widget_show(boxHandle);", "+\t\t\tOS.gtk_widget_show(handle);", "+\t\t\treturn;", "-\t\t\t_createPushHandle(index);  return;", "+\t\t\t/*", "+\t\t\t * Can not specify more than one style", "+\t\t\t */", "+\t\t\terror(SWT.ERROR_ITEM_NOT_ADDED);"]}], "num": 44380}