{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d06225a91a9d0a38c522c6903b1bfdb6", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "db5947daa27148e3e5f23e6c7a2a0acd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "d86ccf7311b1b26cf1d62a483694e7a1700908ba", "commitAfterChange": "aecaa6269b337935ec99f9a6d9b790e4662ca557", "methodNumberBeforeChange": 214, "methodNumberAfterChange": 214, "signatureBeforeChange": " void handleMouseDown(Event event)", "signatureAfterChange": " void handleMouseDown(Event event)", "diff": ["-\tif (clickCount == 1 || blockSelection) {", "-\t\tboolean select = (event.stateMask & SWT.MOD2) != 0 && !blockSelection;", "+\tif (clickCount == 1) {", "+\t\tboolean select = (event.stateMask & SWT.MOD2) != 0;", "+\t\t\tboolean wordSelect = (clickCount & 1) == 0;", "-\t\t\tint lineEnd = content.getCharCount();", "-\t\t\tif (lineIndex + 1 < content.getLineCount()) {", "-\t\t\t\tlineEnd = content.getOffsetAtLine(lineIndex + 1);", "-\t\t\t}", "-\t\t\tint start, end;", "-\t\t\tif ((clickCount & 1) == 0) {", "-\t\t\t\tstart = Math.max(0, getWordPrevious(offset, SWT.MOVEMENT_WORD_START));", "-\t\t\t\tend = Math.min(content.getCharCount(), getWordNext(start, SWT.MOVEMENT_WORD_END));", "+\t\t\tif (wordSelect) {", "+\t\t\t\tint min = blockSelection ? lineOffset : 0;", "+\t\t\t\tint max = blockSelection ? lineOffset + content.getLine(lineIndex).length() : content.getCharCount();", "+\t\t\t\tint start = Math.max(min, getWordPrevious(offset, SWT.MOVEMENT_WORD_START));", "+\t\t\t\tint end = Math.min(max, getWordNext(start, SWT.MOVEMENT_WORD_END));", "+\t\t\t\tsetSelection(start, end - start, true, true);", "-\t\t\t\tstart = lineOffset;", "-\t\t\t\tend = lineEnd;", "+\t\t\t\tif (blockSelection) {", "+\t\t\t\t\tsetBlockSelectionLocation(leftMargin, event.y, clientAreaWidth - rightMargin, event.y);", "+\t\t\t\t} else {", "+\t\t\t\t\tint lineEnd = content.getCharCount();", "+\t\t\t\t\tif (lineIndex + 1 < content.getLineCount()) {", "+\t\t\t\t\t\tlineEnd = content.getOffsetAtLine(lineIndex + 1);", "+\t\t\t\t\t}", "+\t\t\t\t\tsetSelection(lineOffset, lineEnd - lineOffset, true, false);", "+\t\t\t\t}", "-\t\t\tsetSelection(start, end - start, true, false);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7898daf71199c93ab8309ee075d45507", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "bc224c2a2fcbef7d8e73e3f7b7b518fc99abc8ef", "commitAfterChange": "56d7d44784ad7e2547a3e9a0ea84e65586278aec", "methodNumberBeforeChange": 200, "methodNumberAfterChange": 199, "signatureBeforeChange": " void handleMouseDown(Event event)", "signatureAfterChange": " void handleMouseDown(Event event)", "diff": ["-\tmouseDoubleClick = false;", "-\t", "-\t", "+\t\t", "+\t//drag detect", "-\t", "-\tmouseDown = true;\t", "+\t\t", "+\t//paste clipboard selection", "+\t", "+\t//set selection", "-\tboolean select = (event.stateMask & SWT.MOD2) != 0;", "-\tdoMouseLocationChange(event.x, event.y, select);", "+\tclickCount = event.count;", "+\tif (clickCount == 1) {", "+\t\tboolean select = (event.stateMask & SWT.MOD2) != 0;", "+\t\tdoMouseLocationChange(event.x, event.y, select);", "+\t} else {", "+\t\tif (doubleClickEnabled) {", "+\t\t\tclearSelection(false);", "+\t\t\tint offset = getOffsetAtPoint(event.x, event.y);", "+\t\t\tint lineIndex = content.getLineAtOffset(offset);", "+\t\t\tint lineOffset = content.getOffsetAtLine(lineIndex);", "+\t\t\tint lineEnd = content.getCharCount();", "+\t\t\tif (lineIndex + 1 < content.getLineCount()) {", "+\t\t\t\tlineEnd = content.getOffsetAtLine(lineIndex + 1);", "+\t\t\t}", "+\t\t\tint start, end;", "+\t\t\tif ((clickCount & 1) == 0) {", "+\t\t\t\tstart = Math.max(lineOffset, getWordPrevious(offset, SWT.MOVEMENT_WORD_START));", "+\t\t\t\tend = Math.min(lineEnd, getWordNext(start, SWT.MOVEMENT_WORD_END));", "+\t\t\t} else {", "+\t\t\t\tstart = lineOffset;", "+\t\t\t\tend = lineEnd;", "+\t\t\t}", "+\t\t\tselection.x = selection.y = start;", "+\t\t\tselectionAnchor = -1;", "+\t\t\tcaretOffset = end;", "+\t\t\tshowCaret();", "+\t\t\tdoMouseSelection();", "+\t\t\tdoubleClickSelection = new Point(selection.x, selection.y);", "+\t\t}", "+\t}"]}], "num": 47978}