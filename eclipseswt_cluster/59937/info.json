{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e3e83596bbd7497a2d2a58e5bd03bd6c", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d8d0544308583cb8f04536c88698e948", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "642c99978dc17bd02e442edba68d88ae6a941ded", "commitAfterChange": "8aec71c6494fc7005fd705025c1598018aa78fdd", "methodNumberBeforeChange": 31, "methodNumberAfterChange": 31, "signatureBeforeChange": "  int drawItemProc (int browser, int id, int property, int itemState, int theRect, int gdDepth, int colorDevice)", "signatureAfterChange": "  int drawItemProc (int browser, int id, int property, int itemState, int theRect, int gdDepth, int colorDevice)", "diff": ["-\tboolean draw = true;", "-\tboolean selected = (itemState & (OS.kDataBrowserItemIsSelected | OS.kDataBrowserItemIsDragTarget)) != 0, wasSelected = selected;", "-\tboolean itemBg = item.background != null || (item.cellBackground != null && item.cellBackground [columnIndex] != null);", "-\tif (selected && ((style & SWT.FULL_SELECTION) != 0 || columnIndex == 0)) {", "+\tint drawState = SWT.FOREGROUND;", "+\tif (item.background != null || (item.cellBackground != null && item.cellBackground [columnIndex] != null)) drawState |= SWT.BACKGROUND;", "+\tif ((itemState & (OS.kDataBrowserItemIsSelected | OS.kDataBrowserItemIsDragTarget)) != 0) drawState |= SWT.SELECTED;", "+\tboolean wasSelected = (drawState & SWT.SELECTED) != 0;", "+\tif ((drawState & SWT.SELECTED) != 0 && ((style & SWT.FULL_SELECTION) != 0 || columnIndex == 0)) {", "-\t\tif (selected) event.detail |= SWT.SELECTED;", "-\t\tif (itemBg) event.detail |= SWT.BACKGROUND;", "+\t\tevent.detail = drawState;", "-\t\tdraw = event.doit;", "-\t\tselected = (event.detail & SWT.SELECTED) != 0;", "+\t\tdrawState = event.detail;", "-\t\tif (selected && ((style & SWT.FULL_SELECTION) != 0 || columnIndex == 0)) {", "+\t\tif ((drawState & SWT.SELECTED) != 0 && ((style & SWT.FULL_SELECTION) != 0 || columnIndex == 0)) {", "-\tboolean drawBackground = itemBg;", "-\tif (selected && ((style & SWT.FULL_SELECTION) != 0 || columnIndex == 0)) {", "+\tif ((drawState & SWT.SELECTED) != 0 && ((style & SWT.FULL_SELECTION) != 0 || columnIndex == 0)) {", "-\t\t\t\tdrawBackground = false;", "+\t\t\t\tdrawState &= ~SWT.BACKGROUND;", "-\t\t\t\tdrawBackground = false;", "+\t\t\t\tdrawState &= ~SWT.BACKGROUND;", "-\t\t\t //TODO - funny thing", "-\t\t\t if (itemBg) gc.setBackground (background);", "+\t\t\t if ((drawState & SWT.BACKGROUND) != 0) gc.setBackground (background);", "-\tif (draw) {", "-\t\tif (drawBackground) {", "-\t\t\tgc.fillRectangle (itemX, itemY, itemWidth, itemHeight);", "-\t\t}", "+\tif ((drawState & SWT.BACKGROUND) != 0) {", "+\t\tgc.fillRectangle (itemX, itemY, itemWidth, itemHeight);", "+\t}", "+\tif ((drawState & SWT.FOREGROUND) != 0) {", "-\t\tif (selected) event.detail |= SWT.SELECTED;", "-\t\tif (itemBg) event.detail |= SWT.BACKGROUND;", "+\t\tevent.detail = drawState;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "343fe0aef049a0c2bde478774cf3bf23", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon2/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "636645cd71825a27e2f84e61e7bf769366dad642", "commitAfterChange": "1ddb2e7c3fc0d32ea2fcd254616fd28253c4cd77", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "  int drawItemProc (int browser, int id, int property, int itemState, int theRect, int gdDepth, int colorDevice)", "signatureAfterChange": "  int drawItemProc (int browser, int id, int property, int itemState, int theRect, int gdDepth, int colorDevice)", "diff": ["-", "-//\tif (false) {", "-//\t\tint [] port = new int [1], gdh = new int [1];", "-//\t\tOS.GetGWorld (port, gdh);", "-//\t\tbyte [] buffer = item.text.getBytes();", "-//\t\tRect rect = new Rect ();", "-//\t\tOS.memcpy (rect, theRect, Rect.sizeof);", "-//\t\tDisplay display = getDisplay ();", "-//\t\tColor foreground = null, background = null;", "-//\t\tif ((itemState & OS.kDataBrowserItemIsSelected) != 0)  {", "-//\t\t\tforeground = display.getSystemColor (SWT.COLOR_LIST_SELECTION_TEXT);", "-//\t\t\tbackground = display.getSystemColor (SWT.COLOR_LIST_SELECTION);", "-//\t\t} else {", "-//\t\t\tforeground = display.getSystemColor (SWT.COLOR_LIST_FOREGROUND);", "-//\t\t\tbackground = display.getSystemColor (SWT.COLOR_LIST_BACKGROUND);", "-//\t\t}", "-//\t\tint red = (short) (background.handle [0] * 255);", "-//\t\tint green = (short) (background.handle [1] * 255);", "-//\t\tint blue = (short) (background.handle [2] * 255);", "-//\t\tRGBColor color = new RGBColor ();", "-//\t\tcolor.red = (short) (red << 8 | red);", "-//\t\tcolor.green = (short) (green << 8 | green);", "-//\t\tcolor.blue = (short) (blue << 8 | blue);", "-//\t\tOS.RGBForeColor (color);", "-//\t\tOS.PaintRect (rect);", "-//\t\tred = (short) (foreground.handle [0] * 255);", "-//\t\tgreen = (short) (foreground.handle [1] * 255);", "-//\t\tblue = (short) (foreground.handle [2] * 255);", "-//\t\tcolor.red = (short) (red << 8 | red);", "-//\t\tcolor.green = (short) (green << 8 | green);", "-//\t\tcolor.blue = (short) (blue << 8 | blue);", "-//\t\tOS.RGBForeColor (color);", "-//\t\tOS.MoveTo (rect.left, (short)(rect.top + 13));", "-//\t\tOS.DrawText (buffer, (short) 0, (short) buffer.length);", "-//\t\tOS.SetGWorld (port [0], gdh [0]);", "-////\t\tSystem.out.println(\"x=\" + rect.left + \" y=\" + rect.top + \" width=\" + (rect.right - rect.left) + \" height=\" + (rect.bottom - rect.top));", "-//\t\treturn OS.noErr;", "-//\t} ", "-", "-//\tSystem.out.println(\"x=\" + rect.left + \" y=\" + rect.top + \" width=\" + (rect.right - rect.left) + \" height=\" + (rect.bottom - rect.top));", "-\tGC gc = paintGC == null ? new GC (this) :  paintGC;", "+\tGC gc = paintGC;", "+\tif (gc == null) {", "+\t\tGCData data = new GCData ();", "+\t\tint [] port = new int [1];", "+\t\tOS.GetPort (port);", "+\t\tdata.port = port [0];", "+\t\tgc = GC.carbon_new (this, data);", "+\t}", "-\tColor foreground = item.foreground != null ? item.foreground : display.getSystemColor (SWT.COLOR_LIST_FOREGROUND);", "-\tgc.setForeground (foreground);", "-\t\tgc.drawImage (image, 0, 0, bounds.width, bounds.height, x, y, bounds.width, height);", "+\t\tgc.drawImage (image, 0, 0, bounds.width, bounds.height, x, y + (height - bounds.height) / 2, bounds.width, bounds.height);", "-\t\tgc.fillRectangle (x, y, extent.x, height);", "+\t\tgc.fillRectangle (x - 1, y, extent.x + 2, height);", "+\t} else {", "+\t\tColor foreground = item.foreground != null ? item.foreground : display.getSystemColor (SWT.COLOR_LIST_FOREGROUND);", "+\t\tgc.setForeground (foreground);", "-\tgc.drawString (item.text, x, y + (Math.max (0, (height - extent.y) / 2)));", "-\tif (paintGC == null) gc.dispose ();", "+\tgc.drawString (item.text, x, y + (height - extent.y) / 2);", "+\tif (gc != paintGC) gc.dispose ();", "+}"]}], "num": 59937}