{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4897219fbdfdd6e1d7882beb15378aee", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c6271ca96ba04a9e9cb767cda2831369", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "0b6d387de04a68abdd2ec5aa38e9df440673507d", "commitAfterChange": "7d174ced5ddaf68e948a401545865d725093fd11", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": " public Rectangle getBounds()", "signatureAfterChange": " public Rectangle getBounds()", "diff": ["-\tfor (int i=0; i<breaks.length; i++) {", "-\t\twidth = Math.max(width, lineWidth[i]);", "-\t\theight += lineHeight[i];", "+\tint length = text.length();", "+\tif (length == 0) {", "+\t\tFont font = this.font != null ? this.font : device.getSystemFont();", "+\t\tFontInfo info = new FontInfo();", "+\t\tOS.FetchFontInfo(font.id, font.size, font.style, info);", "+\t\tint ascent = Math.max(info.ascent, this.ascent);", "+\t\tint descent = Math.max(info.descent + info.leading, this.descent);", "+\t\theight = ascent + descent;", "+\t} else {", "+\t\tfor (int i=0; i<breaks.length; i++) {", "+\t\t\twidth = Math.max(width, lineWidth[i]);", "+\t\t\theight += lineHeight[i];", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0cd2eae3d7cfeb0889c6f1aafa5d8b84", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/FontMetrics.java", "commitBeforeChange": "48512dc20e32e369917d3e1ccfb92109c9724e7e", "commitAfterChange": "1942f64e0b774317e0a8e6ec44902bb736bb7790", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "\r public static FontMetrics gtk_new(int fontHandle)", "signatureAfterChange": "\r public static FontMetrics gtk_new(int gdk_font)", "diff": ["-public static FontMetrics gtk_new(int fontHandle) {\r", "-\tGdkFont f = new GdkFont();\r", "-\tOS.memmove (f, fontHandle, GdkFont.sizeof);\r", "-\t\r", "+public static FontMetrics gtk_new(int gdk_font) {\r", "-\tfontMetrics.ascent = f.ascent;\r", "-\tfontMetrics.descent = f.descent;\r", "-\tfontMetrics.averageCharWidth = OS.gdk_char_width(fontHandle, (byte)'a');\r", "+\tfontMetrics.ascent = OS.GDK_FONT_ASCENT(gdk_font);\r", "+\tfontMetrics.descent = OS.GDK_FONT_DESCENT(gdk_font);\r", "+\tfontMetrics.averageCharWidth = OS.gdk_char_width(gdk_font, (byte)'a');\r"]}], "num": 36330}