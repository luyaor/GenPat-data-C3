{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b6e54f7dbc4868b6ca4db36937212c28", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "68cc902978f4d31bfa3b79714b826009", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "31fd280be8e8a42a84f11af93d2167a17b14eb6c", "commitAfterChange": "897b53cfc07404bb405be201646e27c750abe5b5", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "  Point computeSize ()", "signatureAfterChange": "  Point computeSize (GC gc)", "diff": ["-Point computeSize () {", "+Point computeSize (GC gc) {", "+\t\tif (control != null) {", "+\t\t\theight = Math.max (height, control.getMininumHeight ());", "+\t\t}", "-\t\tint stringWidth = 0, stringHeight = 0;", "-\t\tif (text.length () != 0) {", "-\t\t\tGC gc = new GC (parent);", "-\t\t\tint flags = SWT.DRAW_DELIMITER | SWT.DRAW_TAB | SWT.DRAW_MNEMONIC | SWT.DRAW_TRANSPARENT;", "-\t\t\tPoint size = gc.textExtent (text, flags);", "-\t\t\tstringWidth = size.x;", "-\t\t\tstringHeight = size.y;", "-\t\t\tgc.dispose ();", "-\t\t}", "-\t\tint imageWidth = 0, imageHeight = 0;", "-\t\tif (image != null) {", "-\t\t\tif (text.length () != 0) space = 2;", "-\t\t\tRectangle rect = image.getBounds ();", "-\t\t\timageWidth = rect.width;", "-\t\t\timageHeight = rect.height;", "-\t\t}", "-\t\tif ((parent.style & SWT.RIGHT) != 0) {", "-\t\t\twidth = stringWidth + imageWidth;", "-\t\t\theight = Math.max (stringHeight, imageHeight);", "+\t\tif (text.length () != 0 || image != null) {", "+\t\t\tint stringWidth = 0, stringHeight = 0;", "+\t\t\tif (text.length () != 0) {", "+\t\t\t\tint flags = SWT.DRAW_DELIMITER | SWT.DRAW_TAB | SWT.DRAW_MNEMONIC | SWT.DRAW_TRANSPARENT;", "+\t\t\t\tPoint size = gc.textExtent (text, flags);", "+\t\t\t\tstringWidth = size.x;", "+\t\t\t\tstringHeight = size.y;", "+\t\t\t}", "+\t\t\tint imageWidth = 0, imageHeight = 0;", "+\t\t\tif (image != null) {", "+\t\t\t\tif (text.length () != 0) space = 2;", "+\t\t\t\tRectangle rect = image.getBounds ();", "+\t\t\t\timageWidth = rect.width;", "+\t\t\t\timageHeight = rect.height;", "+\t\t\t}", "+\t\t\tif ((parent.style & SWT.RIGHT) != 0) {", "+\t\t\t\twidth = stringWidth + imageWidth;", "+\t\t\t\theight = Math.max (stringHeight, imageHeight);", "+\t\t\t} else {", "+\t\t\t\twidth = Math.max (stringWidth, imageWidth);", "+\t\t\t\theight = stringHeight + imageHeight;", "+\t\t\t}", "-\t\t\twidth = Math.max (stringWidth, imageWidth);", "-\t\t\theight = stringHeight + imageHeight;", "+\t\t\twidth = DEFAULT_WIDTH;", "+\t\t\theight = DEFAULT_HEIGHT;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "33e30f1535a935b14e1425c465229322", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "0279ac89ad933bec67322b956321e83b2a1ac93a", "commitAfterChange": "dbc3f579c8454ac59e01ac2d56752eda0d58b6cd", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "  Point computeSize ()", "signatureAfterChange": "  Point computeSize ()", "diff": ["+\t\t// In the unified toolbar case the width is ignored if 0, DEFAULT, or SEPARATOR_FILL.", "+\t\t\tif (width == SWT.DEFAULT) width = DEFAULT_SEPARATOR_WIDTH;", "+\t\t\tif (height == SWT.DEFAULT) width = DEFAULT_SEPARATOR_WIDTH;", "-\t\t\tNSButton widget = (NSButton)button;", "-\t\t\tNSSize size = widget.cell().cellSize();", "+\t\t\tNSSize size = button.cell().cellSize();", "-\t\twidth += INSET * 2;", "-\t\theight += INSET * 2;", "+\t\t", "+\t\tif (parent.nsToolbar == null || image != null) {", "+\t\t\twidth += INSET * 2;", "+\t\t\theight += INSET * 2;", "+\t\t} else {", "+\t\t\theight -= 2;", "+\t\t}"]}], "num": 50415}