{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "7712d71f00559f6953b0b86eb5352d5f", "detectedBy": ["DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5054a66d00c3f5de36cca26325170452", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "9deefd18be8de01a672cfca15620a560b1ae5f22", "commitAfterChange": "d67b8caceb3f10df6a8e238427498db262144133", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 52, "signatureBeforeChange": " public void setClipping(Region region)", "signatureAfterChange": " public void setClipping(Region region)", "diff": ["- */", "-public void setClipping(Region region) {\t", "-/*\tif (data.clipRgn == 0) data.clipRgn = OS.gdk_region_new();", "-\tif (region == null) {", "-\t\tdata.clipRgn = OS.gdk_regions_subtract(data.clipRgn, data.clipRgn);", "-\t\tOS.gdk_gc_set_clip_mask(handle, OS.GDK_NONE);", "-\t} else {", "-\t\tdata.clipRgn = OS.gdk_regions_subtract(data.clipRgn, data.clipRgn);", "-\t\tdata.clipRgn = OS.gdk_regions_union(region.handle, data.clipRgn);", "-\t\tOS.gdk_gc_set_clip_region(handle, region.handle);", "-\t}*/", "-}", "+ */", "+public void setClipping(Region region) {", "+\tif (handle == 0) SWT.error(SWT.ERROR_GRAPHIC_DISPOSED);", "+\tint clipRgn = data.clipRgn;", "+\tif (region == null) {", "+\t\tOS.gdk_gc_set_clip_region(handle, 0);", "+\t\tif (clipRgn != 0) {", "+\t\t\tOS.gdk_region_destroy(clipRgn);", "+\t\t\tdata.clipRgn = clipRgn = 0;", "+\t\t}", "+\t} else {", "+\t\tif (clipRgn == 0) {", "+\t\t\tdata.clipRgn = clipRgn = OS.gdk_region_new();", "+\t\t} else {", "+\t\t\tOS.gdk_region_subtract(clipRgn, clipRgn);", "+\t\t}", "+\t\tOS.gdk_region_union(clipRgn, region.handle);", "+\t\tOS.gdk_gc_set_clip_region(handle, clipRgn);", "+\t}", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e869c27f33ea74c04da8d8ffe4d4d7dc", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "9deefd18be8de01a672cfca15620a560b1ae5f22", "commitAfterChange": "d67b8caceb3f10df6a8e238427498db262144133", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 50, "signatureBeforeChange": " public void setClipping(int x, int y, int width, int height)", "signatureAfterChange": " public void setClipping(int x, int y, int width, int height)", "diff": ["- */", "-public void setClipping(int x, int y, int width, int height) {", "-/*\tif (data.clipRgn == 0) data.clipRgn = OS.gdk_region_new();", "-\tGdkRectangle rect = new GdkRectangle();", "-\trect.x = (short)x;  rect.y = (short)y;", "-\trect.width = (short)width;  rect.height = (short)height;", "-\tOS.gdk_gc_set_clip_rectangle(handle, rect);", "-\tdata.clipRgn = OS.gdk_regions_subtract(data.clipRgn, data.clipRgn);", "-\tdata.clipRgn = OS.gdk_region_union_with_rect(data.clipRgn, rect);*/", "-}", "+ */", "+public void setClipping(int x, int y, int width, int height) {", "+\tif (handle == 0) SWT.error(SWT.ERROR_GRAPHIC_DISPOSED);", "+\tint clipRgn = data.clipRgn;", "+\tif (clipRgn == 0) {", "+\t\tdata.clipRgn = clipRgn = OS.gdk_region_new();", "+\t} else {", "+\t\tOS.gdk_region_subtract(clipRgn, clipRgn);", "+\t}", "+\tGdkRectangle rect = new GdkRectangle();", "+\trect.x = x;  rect.y = y;", "+\trect.width = width;  rect.height = height;", "+\tOS.gdk_gc_set_clip_rectangle(handle, rect);", "+\tOS.gdk_region_union_with_rect(clipRgn, rect);", "+}"]}], "num": 17429}