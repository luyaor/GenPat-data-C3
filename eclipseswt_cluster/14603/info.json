{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "921ac2bbbf4c14f5441217167865d03b", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "915a5bfbe5a82aca1119884c0eda01f0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "9400b8cc1297c3416fa56d889416bd6ae5db6ffb", "commitAfterChange": "1f16167b4ace424073e0d4b18690e2ef728391c8", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": " public void draw (GC gc, int x, int y, int selectionStart, int selectionEnd, Color selectionForeground, Color selectionBackground, int flags)", "signatureAfterChange": " public void draw (GC gc, int x, int y, int selectionStart, int selectionEnd, Color selectionForeground, Color selectionBackground, int flags)", "diff": ["-\tif (hasSelection || (flags & SWT.LAST_LINE_SELECTION) != 0) {", "-\t\tselectionStart = Math.min(Math.max(0, selectionStart), length - 1);", "-\t\tselectionEnd = Math.min(Math.max(0, selectionEnd), length - 1);", "-\t\tif (selectionForeground == null) selectionForeground = device.getSystemColor(SWT.COLOR_LIST_SELECTION_TEXT);", "-\t\tif (selectionBackground == null) selectionBackground = device.getSystemColor(SWT.COLOR_LIST_SELECTION);", "-\t\tselectionStart = translateOffset(selectionStart);", "-\t\tselectionEnd = translateOffset(selectionEnd);", "-\t}", "-\tRECT rect = new RECT();", "+\t\tif (selectionForeground == null) selectionForeground = device.getSystemColor(SWT.COLOR_LIST_SELECTION_TEXT);", "+\t\tif (selectionBackground == null) selectionBackground = device.getSystemColor(SWT.COLOR_LIST_SELECTION);", "+\t\tif (hasSelection) {", "+\t\t\tselectionStart = translateOffset(Math.min(Math.max(0, selectionStart), length - 1));", "+\t\t\tselectionEnd = translateOffset(Math.min(Math.max(0, selectionEnd), length - 1));", "+\t\t}", "+\tRECT rect = new RECT();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "24fcf448ddd74b1e3303b82fd5584e76", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "34cc11d9be7c6799a286a4b7f0c7efe8288cddc9", "commitAfterChange": "c9e6ebd32564e7c38d92ed3bd14ecff35522294d", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": " public void draw(GC gc, int x, int y, int selectionStart, int selectionEnd, Color selectionForeground, Color selectionBackground, int flags)", "signatureAfterChange": " public void draw(GC gc, int x, int y, int selectionStart, int selectionEnd, Color selectionForeground, Color selectionBackground, int flags)", "diff": ["+\tNSColor selectionColor = null;", "+\tif (hasSelection || (flags & SWT.LAST_LINE_SELECTION) != 0) {", "+\t\tif (selectionBackground == null) selectionBackground = device.getSystemColor(SWT.COLOR_LIST_SELECTION);", "+\t\tselectionColor = NSColor.colorWithDeviceRed(selectionBackground.handle[0], selectionBackground.handle[1], selectionBackground.handle[2], selectionBackground.handle[3]);", "+\t}", "-\t\tif (selectionBackground == null) selectionBackground = device.getSystemColor(SWT.COLOR_LIST_SELECTION);", "-\t\tNSColor selectionColor = NSColor.colorWithDeviceRed(selectionBackground.handle[0], selectionBackground.handle[1], selectionBackground.handle[2], selectionBackground.handle[3]);", "-\t//TODO draw selection for flags (LAST_LINE_SELECTION and FULL_SELECTION)", "+\t//TODO draw selection for flags (DELIMITER_SELECTION)", "+\tif ((flags & SWT.LAST_LINE_SELECTION) != 0) {", "+\t\tNSRect bounds = lineBounds[lineBounds.length - 1];", "+\t\tNSRect rect = new NSRect();", "+\t\trect.x = pt.x + bounds.x + bounds.width;", "+\t\trect.y = y + bounds.y;", "+\t\trect.width = (flags & SWT.FULL_SELECTION) != 0 ? 0x7fffffff : bounds.height / 3;", "+\t\trect.height = bounds.height;", "+\t\tselectionColor.setFill();", "+\t\tNSBezierPath path = NSBezierPath.bezierPath();", "+\t\tpath.appendBezierPathWithRect(rect);", "+\t\tpath.fill();", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f52a944b0884423d6d0cd4f19db32f56", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "76ab2bff9687097770b69d6152d79307ecc64468", "commitAfterChange": "4c685c20ee3329f2cae9418eb791958f58b91fc3", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": " public void draw (GC gc, int x, int y, int selectionStart, int selectionEnd, Color selectionForeground, Color selectionBackground, int flags)", "signatureAfterChange": " public void draw (GC gc, int x, int y, int selectionStart, int selectionEnd, Color selectionForeground, Color selectionBackground, int flags)", "diff": ["-\t\tif (selectionForeground == null) selectionForeground = device.getSystemColor(SWT.COLOR_LIST_SELECTION_TEXT);", "-\t\tif (selectionBackground == null) selectionBackground = device.getSystemColor(SWT.COLOR_LIST_SELECTION);", "+\t\tint fgSel = selectionForeground != null ? selectionForeground.handle : OS.GetSysColor (OS.COLOR_HIGHLIGHTTEXT); ", "+\t\tint bgSel = selectionBackground != null ? selectionBackground.handle : OS.GetSysColor (OS.COLOR_HIGHLIGHT); ", "+\t\tif (gdip) {", "+\t\t\tgdipSelBackground = createGdipBrush(bgSel, alpha);", "+\t\t\tgdipSelForeground = createGdipBrush(fgSel, alpha);", "+\t\t} else {", "+\t\t\tselBackground = OS.CreateSolidBrush(bgSel);", "+\t\t\tselForeground = fgSel;", "+\t\t}", "-\t\t}", "-\t\tif (gdip) {", "-\t\t\tgdipSelBackground = createGdipBrush(selectionBackground, alpha);", "-\t\t\tgdipSelForeground = createGdipBrush(selectionForeground, alpha);", "-\t\t} else {", "-\t\t\tselBackground = OS.CreateSolidBrush(selectionBackground.handle);", "-\t\t\tselForeground = selectionForeground.handle;"]}], "num": 14603}