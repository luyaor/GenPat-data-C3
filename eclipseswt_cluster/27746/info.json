{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b11df124806b237d6acec0c2781a002c", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "69548332731815ea28602e2133d13629", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/motif/org/eclipse/swt/browser/WindowCreator.java", "commitBeforeChange": "52d421691c8934819ff002e87fe87a962da98da1", "commitAfterChange": "c90c21a634fe9a89a57eed369d3d157891aa1a42", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "  int CreateChromeWindow(int parent, int chromeFlags, int _retval)", "signatureAfterChange": "  int CreateChromeWindow(int parent, int chromeFlags, int _retval)", "diff": ["-\tif (parent == 0) return XPCOM.NS_ERROR_NOT_IMPLEMENTED;", "-\tnsIWebBrowserChrome browserChromeParent = new nsIWebBrowserChrome(parent);", "-\tint[] aWebBrowser = new int[1];", "-\tint rc = browserChromeParent.GetWebBrowser(aWebBrowser);", "-\tif (rc != XPCOM.NS_OK) Browser.error(rc);", "-\tif (aWebBrowser[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);", "-\t", "-\tnsIWebBrowser webBrowser = new nsIWebBrowser(aWebBrowser[0]);", "-\tint[] result = new int[1];", "-\trc = webBrowser.QueryInterface(nsIBaseWindow.NS_IBASEWINDOW_IID, result);", "-\tif (rc != XPCOM.NS_OK) Browser.error(rc);", "-\tif (result[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);", "-\twebBrowser.Release();", "-\t", "-\tnsIBaseWindow baseWindow = new nsIBaseWindow(result[0]);", "-\tresult[0] = 0;", "-\tint[] aParentNativeWindow = new int[1];", "-\trc = baseWindow.GetParentNativeWindow(aParentNativeWindow);", "-\tif (rc != XPCOM.NS_OK) Browser.error(rc);", "-\tif (aParentNativeWindow[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);", "-\tbaseWindow.Release();", "+\tif (parent == 0 && (chromeFlags & nsIWebBrowserChrome.CHROME_MODAL) == 0) {", "+\t\treturn XPCOM.NS_ERROR_NOT_IMPLEMENTED;", "+\t}", "-\tDisplay display = Display.getCurrent();", "-\tBrowser src = Browser.findBrowser(aParentNativeWindow[0]);", "+\tBrowser src = null;", "+\tif (parent != 0) {", "+\t\tnsIWebBrowserChrome browserChromeParent = new nsIWebBrowserChrome(parent);", "+\t\tint[] aWebBrowser = new int[1];", "+\t\tint rc = browserChromeParent.GetWebBrowser(aWebBrowser);", "+\t\tif (rc != XPCOM.NS_OK) Browser.error(rc);", "+\t\tif (aWebBrowser[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);", "+", "+\t\tnsIWebBrowser webBrowser = new nsIWebBrowser(aWebBrowser[0]);", "+\t\tint[] result = new int[1];", "+\t\trc = webBrowser.QueryInterface(nsIBaseWindow.NS_IBASEWINDOW_IID, result);", "+\t\tif (rc != XPCOM.NS_OK) Browser.error(rc);", "+\t\tif (result[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);", "+\t\twebBrowser.Release();", "+", "+\t\tnsIBaseWindow baseWindow = new nsIBaseWindow(result[0]);", "+\t\tresult[0] = 0;", "+\t\tint[] aParentNativeWindow = new int[1];", "+\t\trc = baseWindow.GetParentNativeWindow(aParentNativeWindow);", "+\t\tif (rc != XPCOM.NS_OK) Browser.error(rc);", "+\t\tif (aParentNativeWindow[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);", "+\t\tbaseWindow.Release();", "+", "+\t\tsrc = Browser.findBrowser(aParentNativeWindow[0]);", "+\t}", "-\t\tfinal Shell shell = new Shell(src.getShell(), SWT.DIALOG_TRIM | SWT.APPLICATION_MODAL);", "+\t\tfinal Shell shell = src == null ?", "+\t\t\tnew Shell(SWT.DIALOG_TRIM | SWT.APPLICATION_MODAL) :", "+\t\t\tnew Shell(src.getShell(), SWT.DIALOG_TRIM | SWT.APPLICATION_MODAL);", "-\t\tevent.display = display;", "+\t\tevent.display = src.getDisplay();", "-\t\tfor (int i = 0; i < src.openWindowListeners.length; i++)", "+\t\tfor (int i = 0; i < src.openWindowListeners.length; i++) {", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f852b868b46fa7cd20d865d1d893a5d2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/motif/org/eclipse/swt/browser/WindowCreator.java", "commitBeforeChange": "56779bf37ed572facc0d0fe8a8a8848b8f7703f1", "commitAfterChange": "b8f738e4a2bba8bedd7b8fa6bd83bd041997e138", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "\r \r int CreateChromeWindow(int parent, int chromeFlags, int _retval)", "signatureAfterChange": "  int CreateChromeWindow(int parent, int chromeFlags, int _retval)", "diff": ["-\r", "-int CreateChromeWindow(int parent, int chromeFlags, int _retval) {\r", "-\tnsIWebBrowserChrome browserChromeParent = new nsIWebBrowserChrome(parent);\r", "-\tint[] aWebBrowser = new int[1];\r", "-\tint rc = browserChromeParent.GetWebBrowser(aWebBrowser);\r", "-\tif (rc != XPCOM.NS_OK) Browser.error(rc);\r", "-\tif (aWebBrowser[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);\r", "-\t\r", "-\tnsIWebBrowser webBrowser = new nsIWebBrowser(aWebBrowser[0]);\r", "-\tint[] result = new int[1];\r", "-\trc = webBrowser.QueryInterface(nsIBaseWindow.NS_IBASEWINDOW_IID, result);\r", "-\tif (rc != XPCOM.NS_OK) Browser.error(rc);\r", "-\tif (result[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);\r", "-\twebBrowser.Release();\r", "-\t\r", "-\tnsIBaseWindow baseWindow = new nsIBaseWindow(result[0]);\r", "-\tresult[0] = 0;\r", "-\tint[] aParentNativeWindow = new int[1];\r", "-\trc = baseWindow.GetParentNativeWindow(aParentNativeWindow);\r", "-\tif (rc != XPCOM.NS_OK) Browser.error(rc);\r", "-\tif (aParentNativeWindow[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);\r", "-\tbaseWindow.Release();\r", "-\r", "-\tDisplay display = Display.getCurrent();\r", "-\tShell[] shells = display.getShells();\r", "-\tBrowser src = null;\r", "-\tfor (int i = 0; i < shells.length; i++) {\r", "-\t\tsrc = Browser.findBrowser(shells[i], aParentNativeWindow[0]);\r", "-\t\tif (src != null) break;\r", "-\t}\r", "-\tOpenWindowEvent event = new OpenWindowEvent(src);\r", "-\tevent.display = display;\r", "-\tevent.widget = src;\r", "-\tfor (int i = 0; i < src.openWindowListeners.length; i++)\r", "-\t\tsrc.openWindowListeners[i].open(event);\r", "-\tBrowser browser = event.browser;\r", "-\tboolean doit = browser != null && !browser.isDisposed();\r", "-\tif (doit) {\r", "-\t\tint address = browser.webBrowserChrome.getAddress();\r", "-\t\tnsIWebBrowserChrome webBrowserChrome = new nsIWebBrowserChrome(address);\r", "-\t\twebBrowserChrome.AddRef();\r", "-\t\tXPCOM.memmove(_retval, new int[] {address}, 4);\r", "-\t}\t\t\r", "-\treturn doit ? XPCOM.NS_OK : XPCOM.NS_ERROR_NOT_IMPLEMENTED;\r", "-}\r", "+", "+int CreateChromeWindow(int parent, int chromeFlags, int _retval) {", "+\tnsIWebBrowserChrome browserChromeParent = new nsIWebBrowserChrome(parent);", "+\tint[] aWebBrowser = new int[1];", "+\tint rc = browserChromeParent.GetWebBrowser(aWebBrowser);", "+\tif (rc != XPCOM.NS_OK) Browser.error(rc);", "+\tif (aWebBrowser[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);", "+\t", "+\tnsIWebBrowser webBrowser = new nsIWebBrowser(aWebBrowser[0]);", "+\tint[] result = new int[1];", "+\trc = webBrowser.QueryInterface(nsIBaseWindow.NS_IBASEWINDOW_IID, result);", "+\tif (rc != XPCOM.NS_OK) Browser.error(rc);", "+\tif (result[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);", "+\twebBrowser.Release();", "+\t", "+\tnsIBaseWindow baseWindow = new nsIBaseWindow(result[0]);", "+\tresult[0] = 0;", "+\tint[] aParentNativeWindow = new int[1];", "+\trc = baseWindow.GetParentNativeWindow(aParentNativeWindow);", "+\tif (rc != XPCOM.NS_OK) Browser.error(rc);", "+\tif (aParentNativeWindow[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);", "+\tbaseWindow.Release();", "+", "+\tDisplay display = Display.getCurrent();", "+\tShell[] shells = display.getShells();", "+\tBrowser src = null;", "+\tfor (int i = 0; i < shells.length; i++) {", "+\t\tsrc = Browser.findBrowser(shells[i], aParentNativeWindow[0]);", "+\t\tif (src != null) break;", "+\t}", "+\tWindowEvent event = new WindowEvent(src);", "+\tevent.display = display;", "+\tevent.widget = src;", "+\tfor (int i = 0; i < src.openWindowListeners.length; i++)", "+\t\tsrc.openWindowListeners[i].open(event);", "+\tBrowser browser = event.browser;", "+\tboolean doit = browser != null && !browser.isDisposed();", "+\tif (doit) {", "+\t\tint address = browser.webBrowserChrome.getAddress();", "+\t\tnsIWebBrowserChrome webBrowserChrome = new nsIWebBrowserChrome(address);", "+\t\twebBrowserChrome.AddRef();", "+\t\tXPCOM.memmove(_retval, new int[] {address}, 4);", "+\t}\t\t", "+\treturn doit ? XPCOM.NS_OK : XPCOM.NS_ERROR_NOT_IMPLEMENTED;", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8e9a648ddf5ecb6d5e85d43d53370c2b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/mozilla/org/eclipse/swt/browser/WindowCreator.java", "commitBeforeChange": "af04b4714afaa5b0b6e71d9f7e9d42f7b7fe113a", "commitAfterChange": "52d421691c8934819ff002e87fe87a962da98da1", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "  int CreateChromeWindow(int parent, int chromeFlags, int _retval)", "signatureAfterChange": "  int CreateChromeWindow(int parent, int chromeFlags, int _retval)", "diff": ["-\tif (parent == 0) return XPCOM.NS_ERROR_NOT_IMPLEMENTED;", "-\tnsIWebBrowserChrome browserChromeParent = new nsIWebBrowserChrome(parent);", "-\tint /*long*/[] aWebBrowser = new int /*long*/[1];", "-\tint rc = browserChromeParent.GetWebBrowser(aWebBrowser);", "-\tif (rc != XPCOM.NS_OK) Browser.error(rc);", "-\tif (aWebBrowser[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);", "-\t", "-\tnsIWebBrowser webBrowser = new nsIWebBrowser(aWebBrowser[0]);", "-\tint /*long*/[] result = new int /*long*/[1];", "-\trc = webBrowser.QueryInterface(nsIBaseWindow.NS_IBASEWINDOW_IID, result);", "-\tif (rc != XPCOM.NS_OK) Browser.error(rc);", "-\tif (result[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);", "-\twebBrowser.Release();", "-\t", "-\tnsIBaseWindow baseWindow = new nsIBaseWindow(result[0]);", "-\tresult[0] = 0;", "-\tint /*long*/[] aParentNativeWindow = new int /*long*/[1];", "-\trc = baseWindow.GetParentNativeWindow(aParentNativeWindow);", "-\tif (rc != XPCOM.NS_OK) Browser.error(rc);", "-\tif (aParentNativeWindow[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);", "-\tbaseWindow.Release();", "+\tif (parent == 0 && (chromeFlags & nsIWebBrowserChrome.CHROME_MODAL) == 0) {", "+\t\treturn XPCOM.NS_ERROR_NOT_IMPLEMENTED;", "+\t}", "+\tBrowser src = null; ", "+\tif (parent != 0) {", "+\t\tnsIWebBrowserChrome browserChromeParent = new nsIWebBrowserChrome(parent);", "+\t\tint /*long*/[] aWebBrowser = new int /*long*/[1];", "+\t\tint rc = browserChromeParent.GetWebBrowser(aWebBrowser);", "+\t\tif (rc != XPCOM.NS_OK) Browser.error(rc);", "+\t\tif (aWebBrowser[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);", "-\tDisplay display = Display.getCurrent();", "-\tBrowser src = Browser.findBrowser(aParentNativeWindow[0]);", "+\t\tnsIWebBrowser webBrowser = new nsIWebBrowser(aWebBrowser[0]);", "+\t\tint /*long*/[] result = new int /*long*/[1];", "+\t\trc = webBrowser.QueryInterface(nsIBaseWindow.NS_IBASEWINDOW_IID, result);", "+\t\tif (rc != XPCOM.NS_OK) Browser.error(rc);", "+\t\tif (result[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);", "+\t\twebBrowser.Release();", "+", "+\t\tnsIBaseWindow baseWindow = new nsIBaseWindow(result[0]);", "+\t\tresult[0] = 0;", "+\t\tint /*long*/[] aParentNativeWindow = new int /*long*/[1];", "+\t\trc = baseWindow.GetParentNativeWindow(aParentNativeWindow);", "+\t\tif (rc != XPCOM.NS_OK) Browser.error(rc);", "+\t\tif (aParentNativeWindow[0] == 0) Browser.error(XPCOM.NS_ERROR_NO_INTERFACE);", "+\t\tbaseWindow.Release();", "+\t", "+\t\tsrc = Browser.findBrowser(aParentNativeWindow[0]);", "+\t}", "-\t\tfinal Shell shell = new Shell(src.getShell(), SWT.DIALOG_TRIM | SWT.APPLICATION_MODAL);", "+\t\tfinal Shell shell = src == null ?", "+\t\t\tnew Shell(SWT.DIALOG_TRIM | SWT.APPLICATION_MODAL) :", "+\t\t\tnew Shell(src.getShell(), SWT.DIALOG_TRIM | SWT.APPLICATION_MODAL);", "-\t\tevent.display = display;", "+\t\tevent.display = src.getDisplay();"]}], "num": 27746}