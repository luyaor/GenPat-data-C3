{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "61658abb468e917525f929cf2c00bb90", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e8d6df7968309d9bcb433a82bc770807", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "d063aea08192e0213a4b6532b27dc31f9dce6e1b", "commitAfterChange": "48ef0056097e65cbe2f990bf125c93e76b95da33", "methodNumberBeforeChange": 38, "methodNumberAfterChange": 40, "signatureBeforeChange": "  int processResize (Object callData)", "signatureAfterChange": "  int kEventWindowHidden (int nextHandler, int theEvent, int userData)", "diff": ["+", "+int kEventWindowHidden (int nextHandler, int theEvent, int userData) {", "+\tint result = super.kEventWindowHidden (nextHandler, theEvent, userData);", "+\tif (result == OS.noErr) return result;", "+\tShell [] shells = getShells ();", "+\tfor (int i=0; i<shells.length; i++) {", "+\t\tShell shell = shells [i];", "+\t\tif (!shell.isDisposed ()) shell.setWindowVisible (false);", "+\t}", "+\treturn OS.eventNotHandledErr;", "+}", "-int processResize (Object callData) {", "-", "-\tMacRect bounds= new MacRect();", "-", "-\t// outside bounds and location", "-\tOS.GetWindowBounds(shellHandle, OS.kWindowStructureRgn, bounds.getData());", "-\tint x= bounds.getX();", "-\tint y= bounds.getY();", "-", "-\t// inside bounds and location", "-\tOS.GetWindowBounds(shellHandle, OS.kWindowContentRgn, bounds.getData());", "-\tint w= bounds.getWidth();", "-\tint h= bounds.getHeight();", "-\t\t", "-\tboolean positionChanged= (oldX != x || oldY != y);", "-\tboolean sizeChanged= (oldWidth != w || oldHeight != h);", "-", "-\tif (scrolledHandle != 0 && sizeChanged) {", "-\t\thandleResize(scrolledHandle, new MacRect(0, 0, w, h));", "-\t}", "-\t", "-\tif (positionChanged) {", "-\t\t//System.out.println(\"Shell.send: SWT.Move\");", "-\t\tsendEvent(SWT.Move);", "-\t}", "-\t", "-\tif (sizeChanged) {", "-\t\t//System.out.println(\"Shell.send: SWT.Resize\");", "-\t\tsendEvent (SWT.Resize);", "-\t\tif (layout != null)", "-\t\t\tlayout (false);", "-\t}", "-\t", "-\tif (!OS.IsWindowVisible(shellHandle))", "-\t\treturn 0;", "-", "-\t", "-\tif (x != 0) oldX = x;", "-\tif (y != 0) oldY = y;", "-\toldWidth = w;", "-\toldHeight = h;", "-", "-    /* AW", "-\tXConfigureEvent xEvent = new XConfigureEvent ();", "-\tOS.memmove (xEvent, callData, XConfigureEvent.sizeof);", "-\tswitch (xEvent.type) {", "-\t\tcase OS.ReparentNotify: {", "-\t\t\tif (reparented) return 0;", "-\t\t\treparented = true;", "-\t\t\tshort [] root_x = new short [1], root_y = new short [1];", "-\t\t\tOS.XtTranslateCoords (scrolledHandle, (short) 0, (short) 0, root_x, root_y);", "-\t\t\tint [] argList = {OS.XmNwidth, 0, OS.XmNheight, 0};", "-\t\t\tOS.XtGetValues (scrolledHandle, argList, argList.length / 2);", "-\t\t\txEvent.x = root_x [0];  xEvent.y = root_y [0];", "-\t\t\txEvent.width = argList [1];  xEvent.height = argList [3];", "-\t\t\t// fall through", "-\t\t}", "-\t\tcase OS.ConfigureNotify:", "-\t\t\tif (!reparented) return 0;", "-\t\t\tif (oldX != xEvent.x || oldY != xEvent.y) sendEvent (SWT.Move);", "-\t\t\tif (oldWidth != xEvent.width || oldHeight != xEvent.height) {", "-\t\t\t\tsendEvent (SWT.Resize);", "-\t\t\t\tif (layout != null) layout (false);", "-\t\t\t}", "-\t\t\tif (xEvent.x != 0) oldX = xEvent.x;", "-\t\t\tif (xEvent.y != 0) oldY = xEvent.y;", "-\t\t\toldWidth = xEvent.width;", "-\t\t\toldHeight = xEvent.height;", "-\t\t\treturn 0;", "-\t\tcase OS.UnmapNotify:", "-\t\t\tint [] argList = {OS.XmNmappedWhenManaged, 0};", "-\t\t\tOS.XtGetValues (shellHandle, argList, argList.length / 2);", "-\t\t\tif (argList [1] != 0) {", "-\t\t\t\tminimized = true;", "-\t\t\t\tsendEvent (SWT.Iconify);", "-\t\t\t}", "-\t\t\treturn 0;", "-\t\tcase OS.MapNotify:", "-\t\t\tif (minimized) {", "-\t\t\t\tminimized = false;", "-\t\t\t\tsendEvent (SWT.Deiconify);", "-\t\t\t}", "-\t\t\treturn 0;", "-\t}", "-    */", "-\treturn 0;", "-}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a551aa654c4e53573289fbbceccdfe6f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "ff2fb9f01a196c14560d822c32e5adc6eee40368", "commitAfterChange": "e15381d72c440181a26a8b1a5c9d9efb3d5969f9", "methodNumberBeforeChange": 49, "methodNumberAfterChange": 48, "signatureBeforeChange": "  \tprivate void syncBounds(MacRect b)", "signatureAfterChange": " \t \tprivate void selectionToClipboard()", "diff": ["-\tprivate void syncBounds(MacRect b) {", "-\t\tif (fTX == 0)", "-\t\t\treturn;", "-\t", "-\t\tif (b == null) {", "-\t\t\tb= new MacRect();", "-\t\t\tOS.GetControlBounds(handle, b.getData());", "-\t\t}", "-\t", "-\t\tint[] textBounds= new int[4];", "-\t\tOS.TXNGetRectBounds(fTX, null, null, textBounds);", "-\t\tint h= textBounds[2]-textBounds[0];", "-\t\tint x= b.getX() + FOCUS_BORDER + 1;", "-\t\tint y= b.getY() + (b.getHeight()-h)/2;", "-\t\tint w= b.getWidth() - BUTTON_WIDTH - 2*FOCUS_BORDER - 4;", "-\t", "-\t\tRectangle oldRect= fFrameRect;", "-\t\tfFrameRect= new Rectangle(x, y, w, h);", "-\t\tif (oldRect == null || !oldRect.equals(fFrameRect)) {", "-\t\t\tOS.TXNSetFrameBounds(fTX, y, x, y+h, x+w, fFrameID);", "-\t\t}", "-\t", "-\t\tOS.TXNDraw(fTX, 0);", "-\t}", "+\t", "+\tprivate void selectionToClipboard() {", "+\t\tshort[] s= new short[2];", "+\t\tOS.GetControlData(handle, OS.kHIComboBoxEditTextPart, OS.kControlEditTextSelectionTag, s);", "+\t\tif (s[0] != s[1]) {", "+\t\t\tint[] t= new int[1];", "+\t\t\tOS.GetControlData(handle, OS.kHIComboBoxEditTextPart, OS.kControlEditTextCFStringTag, t);", "+\t\t\tString txt= MacUtil.getStringAndRelease(t[0]);", "+\t\t\ttxt= txt.substring(s[0], s[1]);", "+\t", "+\t\t\tClipboard clipboard= new Clipboard(getDisplay());", "+\t\t\tclipboard.setContents(new Object[] { txt }, new Transfer[]{ TextTransfer.getInstance() });", "+\t\t\tclipboard.dispose();", "+\t\t}", "+\t}"]}], "num": 5583}