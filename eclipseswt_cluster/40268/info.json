{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e0635e4f7c4bc87fb091a4681a1b379c", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d80420991c2a230b605a99f1377a95fe", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/TreeItem.java", "commitBeforeChange": "7c0db4cce542218140ce6c30379439b537db632b", "commitAfterChange": "9e9764b5a832a13a26dd86c5d1540dde145507bb", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 20, "signatureBeforeChange": " public boolean getExpanded ()", "signatureAfterChange": " public boolean getExpanded ()", "diff": ["-\t/*", "-\t* Bug in Windows.  Despite the fact that TVM_GETITEMSTATE claims", "-\t* to return only the bits specified by the stateMask, when called", "-\t* with TVIS_EXPANDED, the entire state is returned.  The fix is", "-\t* to explicitly check for the TVIS_EXPANDED bit.", "-\t*/", "-\tint hwnd = parent.handle;", "-\tint state = OS.SendMessage (hwnd, OS.TVM_GETITEMSTATE, handle, OS.TVIS_EXPANDED);", "+\tint hwnd = parent.handle, state = 0;", "+\tif (OS.IsWinCE) {", "+\t\tTVITEM tvItem = new TVITEM ();", "+\t\ttvItem.hItem = handle;", "+\t\ttvItem.mask = OS.TVIF_STATE;", "+\t\tOS.SendMessage (hwnd, OS.TVM_GETITEM, 0, tvItem);", "+\t\tstate = tvItem.state;", "+\t} else {", "+\t\t/*", "+\t\t* Bug in Windows.  Despite the fact that TVM_GETITEMSTATE claims", "+\t\t* to return only the bits specified by the stateMask, when called", "+\t\t* with TVIS_EXPANDED, the entire state is returned.  The fix is", "+\t\t* to explicitly check for the TVIS_EXPANDED bit.", "+\t\t*/", "+\t\tstate = OS.SendMessage (hwnd, OS.TVM_GETITEMSTATE, handle, OS.TVIS_EXPANDED);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d25d66589199ed7dc74dfd0f522e6fc1", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "3fafa2e421e7269f122ee7e3ef0204815c641892", "commitAfterChange": "c307f973d25ce6068653aed4d1b35536a735cbf7", "methodNumberBeforeChange": 90, "methodNumberAfterChange": 90, "signatureBeforeChange": "  void setItemCount (int count, int hParent, int hItem)", "signatureAfterChange": "  void setItemCount (int count, int hParent, int hItem)", "diff": ["+\tboolean expanded = false;", "+\tif (!redraw && (style & SWT.VIRTUAL) != 0) {", "+\t\tif (OS.IsWinCE) {", "+\t\t\ttvItem.hItem = hParent;", "+\t\t\ttvItem.mask = OS.TVIF_STATE;", "+\t\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);", "+\t\t\texpanded = (tvItem.state & OS.TVIS_EXPANDED) != 0;", "+\t\t} else {", "+\t\t\t/*", "+\t\t\t* Bug in Windows.  Despite the fact that TVM_GETITEMSTATE claims", "+\t\t\t* to return only the bits specified by the stateMask, when called", "+\t\t\t* with TVIS_EXPANDED, the entire state is returned.  The fix is", "+\t\t\t* to explicitly check for the TVIS_EXPANDED bit.", "+\t\t\t*/", "+\t\t\tint state = (int)/*64*/OS.SendMessage (handle, OS.TVM_GETITEMSTATE, hParent, OS.TVIS_EXPANDED);", "+\t\t\texpanded = (state & OS.TVIS_EXPANDED) != 0;", "+\t\t}", "+\t}", "+\t\t\tif (expanded) ignoreShrink = true;", "+\t\t\tif (expanded) ignoreShrink = false;"]}], "num": 40268}