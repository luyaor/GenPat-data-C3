{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "05826755068c3449e62cf1fc97182802", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "74e1f6fb2d1183b92fcf34f1f130fa46", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "4ae7c7f058994a04613cca5e83c6754094e0435f", "commitAfterChange": "630867c677acb403ca1cea9965df17e2af419fee", "methodNumberBeforeChange": 85, "methodNumberAfterChange": 85, "signatureBeforeChange": "  static void setCairoClip(int cairo, int clipRgn)", "signatureAfterChange": "  static void setCairoClip(int cairo, int clipRgn)", "diff": ["-\tint[] nRects = new int[1];", "-\tint /*long*/[] rects = new int /*long*/[1];", "-\tOS.gdk_region_get_rectangles(clipRgn, rects, nRects);", "-\tGdkRectangle rect = new GdkRectangle();", "-\tfor (int i=0; i<nRects[0]; i++) {", "-\t\tOS.memmove(rect, rects[0] + (i * GdkRectangle.sizeof), GdkRectangle.sizeof);", "-\t\tCairo.cairo_rectangle(cairo, rect.x, rect.y, rect.width, rect.height);", "+\tif (OS.GTK_VERSION >= OS.VERSION(2, 8, 0)) {", "+\t\tOS.gdk_cairo_region(cairo, clipRgn);", "+\t} else {", "+\t\tint[] nRects = new int[1];", "+\t\tint /*long*/[] rects = new int /*long*/[1];", "+\t\tOS.gdk_region_get_rectangles(clipRgn, rects, nRects);", "+\t\tGdkRectangle rect = new GdkRectangle();", "+\t\tfor (int i=0; i<nRects[0]; i++) {", "+\t\t\tOS.memmove(rect, rects[0] + (i * GdkRectangle.sizeof), GdkRectangle.sizeof);", "+\t\t\tCairo.cairo_rectangle(cairo, rect.x, rect.y, rect.width, rect.height);", "+\t\t}", "+\t\tif (rects[0] != 0) OS.g_free(rects[0]);", "-\tCairo.cairo_new_path(cairo);", "-\tif (rects[0] != 0) OS.g_free(rects[0]);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a35c553eadcda97afcfe3e63aee4f295", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "d0e5518df22e58dc57183eaed3faf8586ec9045a", "commitAfterChange": "058843ec5debf78b5e1461b60991c47cc05c23d3", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": "  void createDisplay (DeviceData data)", "signatureAfterChange": "  void createDisplay (DeviceData data)", "diff": ["-\tif (OS.GDK_WINDOWING_X11 ()) xDisplay = OS.gdk_x11_display_get_xdisplay(OS.gdk_display_get_default());", "+\tif (OS.GDK_WINDOWING_X11 ()) {", "+\t\tif (OS.GTK_VERSION >= OS.VERSION(3, 0, 0)) {", "+\t\t\txDisplay = OS.gdk_x11_get_default_xdisplay();", "+\t\t} else {", "+\t\t\txDisplay = OS.gdk_x11_display_get_xdisplay(OS.gdk_display_get_default());", "+\t\t}", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f49d1690b8718cd3f46b9b2ab827fc23", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/ToolTip.java", "commitBeforeChange": "9ef4324d53b9a731c1016f0319ea780ff7e16145", "commitAfterChange": "88dc3a4dc3c68bb6669db018f4d6d63689ecddba", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "  void createHandle (int index)", "signatureAfterChange": "  void createHandle (int index)", "diff": ["-\tstate |= HANDLE;", "+\t\tstate |= HANDLE;", "-\t\thandle = OS.gtk_tooltips_new ();", "-\t\tif (handle == 0) error (SWT.ERROR_NO_HANDLES);", "-\t\t/*", "-\t\t* Bug in Solaris-GTK.  Invoking gtk_tooltips_force_window()", "-\t\t* can cause a crash in older versions of GTK.  The fix is", "-\t\t* to avoid this call if the GTK version is older than 2.2.x.", "-\t\t* The call is to be avoided on GTK versions newer than 2.12.0", "-\t\t* where it's deprecated.", "-\t\t*/", "-\t\tif (OS.GTK_VERSION >= OS.VERSION (2, 2, 1)) { ", "-\t\t\tOS.gtk_tooltips_force_window (handle);", "+\t\tif (OS.GTK_VERSION >= OS.VERSION (2, 12, 0)) {", "+\t\t\tstate |= HANDLE;", "+\t\t\thandle = OS.gtk_tooltips_new ();", "+\t\t\tif (handle == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\t\t/*", "+\t\t\t* Bug in Solaris-GTK.  Invoking gtk_tooltips_force_window()", "+\t\t\t* can cause a crash in older versions of GTK.  The fix is", "+\t\t\t* to avoid this call if the GTK version is older than 2.2.x.", "+\t\t\t* The call is to be avoided on GTK versions newer than 2.12.0", "+\t\t\t* where it's deprecated.", "+\t\t\t*/", "+\t\t\tif (OS.GTK_VERSION >= OS.VERSION (2, 2, 1)) { ", "+\t\t\t\tOS.gtk_tooltips_force_window (handle);", "+\t\t\t}", "+\t\t\tOS.g_object_ref (handle);", "+\t\t\tg_object_ref_sink (handle);", "-\t\tOS.g_object_ref (handle);", "-\t\tg_object_ref_sink (handle);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7c17a1235682bfbc2098bd3a87b26a1b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "faaf962699fce0033b23b7367efc2b2325ceb06d", "commitAfterChange": "05cffc8dc400b90b624030aa360f968df9158b87", "methodNumberBeforeChange": 89, "methodNumberAfterChange": 89, "signatureBeforeChange": "  void updateModal ()", "signatureAfterChange": "  void updateModal ()", "diff": ["+\tif (OS.GTK_VERSION < OS.VERSION (2, 4, 0)) {", "+\t\tfixModal (group, modalGroup);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a5a68b28299504113b10bfbd256fed08", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT OpenGL/gtk/org/eclipse/swt/opengl/GLCanvas.java", "commitBeforeChange": "09f1692137fcd35dbae7ea8049913ec763ba69df", "commitAfterChange": "26da329d593c3d3e2d59fbd6c7fdc55bac80984c", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": " public GLCanvas (Composite parent, int style, GLData data)", "signatureAfterChange": " public GLCanvas (Composite parent, int style, GLData data)", "diff": ["-\txWindow = OS.gdk_x11_drawable_get_xid (glWindow);", "+\tif (OS.GTK_VERSION >= OS.VERSION(3, 0, 0)) {", "+\t\txWindow = OS.gdk_x11_window_get_xid (glWindow);", "+\t} else {", "+\t\txWindow = OS.gdk_x11_drawable_get_xid (glWindow);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e6b13ed654d6f6b3ac9999a77c9a0933", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/ExpandItem.java", "commitBeforeChange": "564af48002efb7dde4608cffc2bddfed66929de1", "commitAfterChange": "25e834c280324b3e7770e2b3f82a7d7ca7a1f981", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 30, "signatureBeforeChange": "  public void setText (String string)", "signatureAfterChange": "  public void setText (String string)", "diff": ["-\tbyte [] buffer = Converter.wcsToMbcs (null, string, true);", "-\tOS.gtk_label_set_text (labelHandle, buffer);", "+\tif (OS.GTK_VERSION >= OS.VERSION (2, 4, 0)) {", "+\t\tbyte [] buffer = Converter.wcsToMbcs (null, string, true);", "+\t\tOS.gtk_label_set_text (labelHandle, buffer);", "+\t} else {", "+\t\tredraw ();", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "85af10490d42778e8dfacffa4d99064f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "81fc4fbb51e1206ed8a526050d3bdcad1a2f0496", "commitAfterChange": "8448d197b76473a9bbdfd0dc7b5d890dae31fb27", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "  void createHandle (int index)", "signatureAfterChange": "  void createHandle (int index)", "diff": ["-\t\thandle = OS.gtk_combo_box_entry_new_text ();", "+\t\tif (OS.GTK_VERSION >= OS.VERSION(3, 0, 0)) {", "+\t\t\thandle = OS.gtk_combo_box_text_new_with_entry();", "+\t\t} else {", "+\t\t\thandle = OS.gtk_combo_box_entry_new_text ();", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a13b9e6b2e069c5ece65d00d5ad9c4d1", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "5d702d1f1c4daf5aadda87ebe154e07af60b51ac", "commitAfterChange": "0eca4ceb4b73c304aa698da22e77c215f055707d", "methodNumberBeforeChange": 47, "methodNumberAfterChange": 47, "signatureBeforeChange": "  void moveHandle (int x, int y)", "signatureAfterChange": "  void moveHandle (int x, int y)", "diff": ["-\t* fix is temporarily make the parent not visible during the move.", "+\t* fix is temporarily mark the parent not visible during the move.", "+\t* ", "+\t* NOTE: There is no API in GTK 3 to only set the GTK_VISIBLE bit.", "-\tboolean visible = gtk_widget_get_visible (parentHandle);", "-\tgtk_widget_set_visible (parentHandle, false);", "+\tboolean reset = false;", "+\tif (OS.GTK_VERSION < OS.VERSION(3, 0, 0)) {", "+\t\treset = gtk_widget_get_visible (parentHandle);", "+\t\tgtk_widget_set_visible (parentHandle, false);", "+\t}", "-\tif (visible) {", "+\tif (reset) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9845f8388fb18a17b4a0884ccb5e4d88", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Canvas.java", "commitBeforeChange": "e208f486a52a3b7b770c405399407101b62242b4", "commitAfterChange": "1f910fb2129bc04b508cae95ff4a02f4aa339c24", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": " public void scroll (int destX, int destY, int x, int y, int width, int height, boolean all)", "signatureAfterChange": " public void scroll (int destX, int destY, int x, int y, int width, int height, boolean all)", "diff": ["+\t/*", "+\t * Due to overlay drawing of scrollbars current method of scrolling leaves scrollbar and notifiers for them inside the canvas", "+\t * after scroll. Fix is to redraw once done.", "+\t */", "+\tif (OS.GTK_VERSION >= OS.VERSION(3, 16, 0)) {", "+\t\tredraw(false);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0040fa61b06616372ac7a14f391518ad", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "405d7ddbabc2696efafbefe12342e48a64ef7ac2", "commitAfterChange": "53c5711ae65b9356d75391082eda16d3c64e59aa", "methodNumberBeforeChange": 85, "methodNumberAfterChange": 85, "signatureBeforeChange": "  int setBounds (int x, int y, int width, int height, boolean move, boolean resize)", "signatureAfterChange": "  int setBounds (int x, int y, int width, int height, boolean move, boolean resize)", "diff": ["+\t/*", "+\t* Bug in GTK.  An empty GtkTreeView fails to repaint the focus rectangle", "+\t* correctly when resized on versions before 2.6.0.  The fix is to force", "+\t* the widget to redraw.", "+\t*/", "+\tif (OS.GTK_VERSION < OS.VERSION (2, 6, 0) && itemCount == 0) redraw (false);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9a6fd0e7298a4ecac9192f00cabbb883", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "35abf1d60eb998ade8720f416c3a5f2e8288efad", "commitAfterChange": "e718eb89dd160ed3d7ecf97e64e3a4c645670f88", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "  void createHandle (int index)", "signatureAfterChange": "  void createHandle (int index)", "diff": ["-\t\thandle = OS.gtk_combo_box_new_text ();", "+\t\tif (OS.GTK_VERSION >= OS.VERSION(3, 0, 0)) {", "+\t\t\thandle = OS.gtk_combo_box_text_new ();", "+\t\t} else {", "+\t\t\thandle = OS.gtk_combo_box_new_text ();", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "14d263c6e3d3bfda1d8526eda49f917f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "ad7a9e5b3b139f6b5bd4c2f25f8cf8b336105a91", "commitAfterChange": "52d678e47ee00e0c9d7473cd6841b89c8499131e", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 23, "signatureBeforeChange": " public void deselectAll ()", "signatureAfterChange": " public void deselectAll ()", "diff": ["-\tignoreSelect = true;", "-\tOS.gtk_list_unselect_all (listHandle);", "-\tOS.gtk_entry_set_text (entryHandle, new byte[1]);", "-\tignoreSelect = false;", "+\tif (OS.GTK_VERSION >= OS.VERSION (2, 4, 0)) {", "+\t\tclearText ();", "+\t} else {", "+\t\tignoreSelect = true;", "+\t\tOS.gtk_list_unselect_all (listHandle);", "+\t\tOS.gtk_entry_set_text (entryHandle, new byte[1]);", "+\t\tignoreSelect = false;", "+\t}"]}], "num": 41108}