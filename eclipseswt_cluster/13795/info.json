{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "eb7cc341992827d22688e4703fdd1d84", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3847867323a25c304fa19492b25ad245", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/gtk/org/eclipse/swt/dnd/RTFTransfer.java", "commitBeforeChange": "f5c7e4c9254cd6daa97b7649a31d13c6c5d0de6c", "commitAfterChange": "189429edfa9fbff796a0033ed821365347e21fb7", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " public void javaToNative (Object object, TransferData transferData)", "signatureAfterChange": " public void javaToNative (Object object, TransferData transferData)", "diff": ["-\tif (object == null || !(object instanceof String)) return;", "-\tbyte [] buffer = Converter.wcsToMbcs (null, (String)object, true);", "-\tsuper.javaToNative(buffer, transferData);", "+\ttransferData.result = 0;", "+\tif (object == null || !(object instanceof String) || !isSupportedType(transferData)) return;", "+\tString string = (String)object;", "+\tif (string.length() == 0) return;", "+\tbyte [] buffer = Converter.wcsToMbcs (null, string, true);", "+\tint pValue = OS.g_malloc(buffer.length);", "+\tif (pValue == 0) return;", "+\tOS.memmove(pValue, buffer, buffer.length);", "+\ttransferData.length = buffer.length;", "+\ttransferData.format = 8;", "+\ttransferData.pValue = pValue;", "+\ttransferData.result = 1;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "44f9e62dfd7360b005879c6fc86160eb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/motif/org/eclipse/swt/dnd/RTFTransfer.java", "commitBeforeChange": "147d1615f621339f30d0227193f0b040907c9480", "commitAfterChange": "4f94a8e41c5f58fd8cc31f50891f992413c14d7f", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " public void javaToNative (Object object, TransferData transferData)", "signatureAfterChange": " public void javaToNative (Object object, TransferData transferData)", "diff": ["-\tif (object == null || !(object instanceof String)) return;", "-\tbyte [] buffer = Converter.wcsToMbcs (null, (String)object, true);", "-\tsuper.javaToNative(buffer, transferData);", "+\ttransferData.result = 0;", "+\tif (object == null || !(object instanceof String) || !isSupportedType(transferData)) return;", "+\tString string = (String)object;", "+\tif (string.length() == 0) return;", "+\tbyte [] buffer = Converter.wcsToMbcs (null, string, true);", "+\tint pValue = OS.XtMalloc(buffer.length);", "+\tif (pValue == 0) return;", "+\tOS.memmove(pValue, buffer, buffer.length);", "+\ttransferData.length = buffer.length;", "+\ttransferData.format = 8;", "+\ttransferData.pValue = pValue;", "+\ttransferData.result = 1;"]}], "num": 13795}