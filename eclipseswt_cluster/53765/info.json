{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "05987575f7e117ffe3ce38925c06edad", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c492832a89cf39d455e12c476542044b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "56841c266e70b057433b04a08e8be6a0ab1b2983", "commitAfterChange": "63477b7849bcacc5e0a7d2ea5349c169b0dff337", "methodNumberBeforeChange": 55, "methodNumberAfterChange": 55, "signatureBeforeChange": " public void setSelection (int start, int end)", "signatureAfterChange": " public void setSelection (int start, int end)", "diff": ["-\t\tstart = Math.min (Math.max (Math.min (start, end), 0), length);", "-\t\tend = Math.min (Math.max (Math.max (start, end), 0), length);", "+\t\tint selStart = Math.min (Math.max (Math.min (start, end), 0), length);", "+\t\tint selEnd = Math.min (Math.max (Math.max (start, end), 0), length);", "-\t\tselectionRange.location = start;", "-\t\tselectionRange.length = end - start;", "+\t\tselectionRange.location = selStart;", "+\t\tselectionRange.length = selEnd - selStart;", "-\t\t//TODO - range test", "+\t\tint length = ((NSTextView)view).textStorage().length();", "+\t\tint selStart = Math.min (Math.max (Math.min (start, end), 0), length);", "+\t\tint selEnd = Math.min (Math.max (Math.max (start, end), 0), length);", "-\t\trange.location = start;", "-\t\trange.length = end - start;", "+\t\trange.location = selStart;", "+\t\trange.length = selEnd - selStart;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "51a8dd44483637fc58fa674c43eff0f7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "2a454fe804b800bda7308985ff1c504f23c6c2df", "commitAfterChange": "73435a29b3d514274292dbf94b7cddcffcdcd978", "methodNumberBeforeChange": 68, "methodNumberAfterChange": 72, "signatureBeforeChange": " public void setSelection (int start, int end)", "signatureAfterChange": " public void setSelection (int start, int end)", "diff": ["-\tint length = OS.TXNDataSize (txnObject) / 2;", "-\tint nStart = Math.min (Math.max (Math.min (start, end), 0), length);", "-\tint nEnd = Math.min (Math.max (Math.max (start, end), 0), length);", "-\tOS.TXNSetSelection (txnObject, nStart, nEnd);", "-\tOS.TXNShowSelection (txnObject, false);", "+\tif (txnObject == 0) {", "+\t\tint length = getCharCount ();", "+\t\tControlEditTextSelectionRec selection = new ControlEditTextSelectionRec ();", "+\t\tselection.selStart = (short) Math.min (Math.max (Math.min (start, end), 0), length);", "+\t\tselection.selEnd = (short) Math.min (Math.max (Math.max (start, end), 0), length);", "+\t\tif (hasFocus ()) {", "+\t\t\tOS.SetControlData (handle, OS.kControlEntireControl, OS.kControlEditTextSelectionTag, 4, selection);", "+\t\t} else {", "+\t\t\tthis.selection = selection;", "+\t\t}", "+\t} else {", "+\t\tint length = OS.TXNDataSize (txnObject) / 2;", "+\t\tint nStart = Math.min (Math.max (Math.min (start, end), 0), length);", "+\t\tint nEnd = Math.min (Math.max (Math.max (start, end), 0), length);", "+\t\tOS.TXNSetSelection (txnObject, nStart, nEnd);", "+\t\tOS.TXNShowSelection (txnObject, false);", "+\t}"]}], "num": 53765}