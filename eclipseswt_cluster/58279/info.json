{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "122abca9766a8660c041a7e346d1f20c", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c0a5b43d30730100fe913f58aa2dde88", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "635a9e5d0a5f495ec272194dbb750eddc745876f", "commitAfterChange": "e83d77b7ddccf5500d06ea30a64ce0d090ac4b10", "methodNumberBeforeChange": 402, "methodNumberAfterChange": 263, "signatureBeforeChange": " void setCaretLocation(int newCaretX, int line, int direction)", "signatureAfterChange": " void setCaretLocation(Point location, int direction)", "diff": ["-void setCaretLocation(int newCaretX, int line, int direction) {", "+}", "+void setCaretLocation(Point location, int direction) {", "+\t\tint lineHeight = renderer.getLineHeight();", "+\t\tint caretHeight = lineHeight;", "+\t\tif (!isFixedLineHeight()) {", "+\t\t\tint caretLine = content.getLineAtOffset(caretOffset);", "+\t\t\tint lineOffset = content.getOffsetAtLine(caretLine);", "+\t\t\tTextLayout layout = renderer.getTextLayout(caretLine);", "+\t\t\tint lineInParagraph = layout.getLineIndex(caretOffset - lineOffset);", "+\t\t\tcaretHeight = layout.getLineBounds(lineInParagraph).height;", "+\t\t\trenderer.disposeTextLayout(layout);", "+\t\t\tif (caretHeight != lineHeight) {", "+\t\t\t\tdirection = SWT.DEFAULT;", "+\t\t\t}", "+\t\t}", "-\t\t\tnewCaretX -= (caret.getSize().x - 1);", "+\t\t\tlocation.x -= (caret.getSize().x - 1);", "-\t\tint newCaretY = line * lineHeight - verticalScrollOffset + topMargin;", "-\t\tcaret.setLocation(newCaretX, newCaretY);", "+\t\tcaret.setBounds(location.x, location.y, 0, caretHeight);", "-\t\t\tcaret.setSize(caret.getSize().x, lineHeight);", "-\tcolumnX = newCaretX;", "-}", "+\tcolumnX = location.x;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ec7359411d799f2ec15df3d44420687c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "4827c2d4b1aa7b247c59385b3537a6f15b2dbc3c", "commitAfterChange": "636180aff5bfa10aac67244a1cf386398eb5e399", "methodNumberBeforeChange": 63, "methodNumberAfterChange": 63, "signatureBeforeChange": "  boolean sendKeyEvent (NSEvent nsEvent, int type)", "signatureAfterChange": "  boolean sendKeyEvent (NSEvent nsEvent, int type)", "diff": ["-\tint stateMask = 0;", "-\tif ((modifierFlags & OS.NSAlternateKeyMask) != 0) stateMask |= SWT.ALT;", "-\tif ((modifierFlags & OS.NSShiftKeyMask) != 0) stateMask |= SWT.SHIFT;", "-\tif ((modifierFlags & OS.NSControlKeyMask) != 0) stateMask |= SWT.CONTROL;", "-\tif ((modifierFlags & OS.NSCommandKeyMask) != 0) stateMask |= SWT.COMMAND;", "-\tif (stateMask == SWT.COMMAND) {", "+\tif ((modifierFlags & OS.NSCommandKeyMask) != 0) {", "+\t\t\tcase 0: /* A */", "+\t\t\t\tNSApplication.sharedApplication().sendAction(OS.sel_selectAll_, null, NSApplication.sharedApplication());", "+\t\t\t\treturn false;", "+\t\t\tcase 6: /* Z */", "+\t\t\t\tNSUndoManager undoManager = view.undoManager();", "+\t\t\t\tif (undoManager == null && (style & SWT.SINGLE) != 0) {", "+\t\t\t\t\tNSText fieldEditor = ((NSTextField) view).currentEditor ();", "+\t\t\t\t\tundoManager = fieldEditor.undoManager();", "+\t\t\t\t}", "+\t\t\t\tif (undoManager != null) {", "+\t\t\t\t\tif ((modifierFlags & OS.NSShiftKeyMask) != 0) {", "+\t\t\t\t\t\tif (undoManager.canRedo()) {", "+\t\t\t\t\t\t\tundoManager.redo();", "+\t\t\t\t\t\t\treturn false;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t} else {", "+\t\t\t\t\t\tif (undoManager.canUndo()) {", "+\t\t\t\t\t\t\tundoManager.undo();", "+\t\t\t\t\t\t\treturn false;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t\tbreak;", "+\tif (isDisposed()) return false;"]}], "num": 58279}