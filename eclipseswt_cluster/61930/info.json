{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "397459f522fabea4fa6b763dbede3551", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "aeabd72a57ce7562014871d4b8c543d0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledTextRenderer.java", "commitBeforeChange": "404d54366486dc87e085a0a1c5187273fbd5d883", "commitAfterChange": "d57ce4c847d12740eaea9c78b892a134f6a3cb64", "methodNumberBeforeChange": 43, "methodNumberAfterChange": 43, "signatureBeforeChange": " void setStyleRanges (int[] newRanges, StyleRange[] newStyles)", "signatureAfterChange": " void setStyleRanges (int[] newRanges, StyleRange[] newStyles)", "diff": ["-\t\t}\t\t", "+\t\t}", "-\t\t\tint newStart = newStyles[i].start;", "-\t\t\tint newEnd = newStart + newStyles[i].length;", "+\t\t\tStyleRange newStyle = newStyles[i], style; ", "+\t\t\tint newStart = newStyle.start;", "+\t\t\tint newEnd = newStart + newStyle.length;", "-\t\t\tif (styles[modifyStart].start < newStart && newStart < styles[modifyStart].start + styles[modifyStart].length) {", "-\t\t\t\tStyleRange style = mergeStyles[mergeCount++] = (StyleRange)styles[modifyStart].clone();", "+\t\t\tstyle = styles[modifyStart];", "+\t\t\tif (style.start < newStart && newStart < style.start + style.length) {", "+\t\t\t\tstyle = mergeStyles[mergeCount++] = (StyleRange)style.clone();", "-\t\t\tmergeStyles[mergeCount++] = newStyles[i];", "-\t\t\tif (modifyEnd < styleCount && styles[modifyEnd].start < newEnd && newEnd < styles[modifyEnd].start + styles[modifyEnd].length) {", "-\t\t\t\tStyleRange style = mergeStyles[mergeCount++] = (StyleRange)styles[modifyEnd].clone();", "-\t\t\t\tstyle.start = newEnd;", "-\t\t\t\tstyle.length = styles[modifyEnd].start + styles[modifyEnd].length - newEnd;", "-\t\t\t\tmodifyLast = 1;", "+\t\t\tmergeStyles[mergeCount++] = newStyle;", "+\t\t\tif (modifyEnd < styleCount) {", "+\t\t\t\tstyle = styles[modifyEnd];", "+\t\t\t\tif (style.start < newEnd && newEnd < style.start + style.length) {", "+\t\t\t\t\tstyle = mergeStyles[mergeCount++] = (StyleRange)style.clone();", "+\t\t\t\t\tstyle.length += style.start - newEnd;", "+\t\t\t\t\tstyle.start = newEnd;", "+\t\t\t\t\tmodifyLast = 1;", "+\t\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "24c4b595f1056b0626e0111b2693d547", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledTextRenderer.java", "commitBeforeChange": "afd478deaa7778cf295d4bea972aeb3e541e8185", "commitAfterChange": "6c8b5dc7173523fb08f82253cc9e4e6076e2d218", "methodNumberBeforeChange": 45, "methodNumberAfterChange": 45, "signatureBeforeChange": " void setStyleRanges (int[] newRanges, StyleRange[] newStyles)", "signatureAfterChange": " void setStyleRanges (int[] newRanges, StyleRange[] newStyles)", "diff": ["-\t\tint end = newRanges[newRanges.length - 2] + newRanges[newRanges.length - 1];", "-\t\tint modifyStart = getRangeIndex(start, -1, rangeCount);", "-\t\tint modifyEnd = getRangeIndex(end, modifyStart - 1, rangeCount);", "-\t\tif (modifyStart == modifyEnd) {", "-\t\t\taddMerge(newRanges, newStyles, newRanges.length, modifyStart, modifyEnd);", "+\t\tint modifyStart = getRangeIndex(start, -1, rangeCount), modifyEnd;", "+\t\tboolean fastInsert = modifyStart == rangeCount;", "+\t\tif (!fastInsert) {", "+\t\t\tint end = newRanges[newRanges.length - 2] + newRanges[newRanges.length - 1];", "+\t\t\tmodifyEnd = getRangeIndex(end, modifyStart - 1, rangeCount);", "+\t\t\tfastInsert = modifyStart == modifyEnd && ranges[modifyStart] >= end;", "+\t\t}", "+\t\tif (fastInsert) {", "+\t\t\taddMerge(newRanges, newStyles, newRanges.length, modifyStart, modifyStart);", "-\t\tint end = newStyles[newStyles.length - 1].start + newStyles[newStyles.length - 1].length;", "-\t\tint modifyStart = getRangeIndex(start, -1, styleCount);", "-\t\tint modifyEnd = getRangeIndex(end, modifyStart - 1, styleCount);", "-\t\tif (modifyStart == modifyEnd) {", "+\t\tint modifyStart = getRangeIndex(start, -1, styleCount), modifyEnd;", "+\t\tboolean fastInsert = modifyStart == styleCount;", "+\t\tif (!fastInsert) {", "+\t\t\tint end = newStyles[newStyles.length - 1].start + newStyles[newStyles.length - 1].length;", "+\t\t\tmodifyEnd = getRangeIndex(end, modifyStart - 1, styleCount);", "+\t\t\tfastInsert = modifyStart == modifyEnd && styles[modifyStart].start >= end;", "+\t\t}", "+\t\tif (fastInsert) {"]}], "num": 61930}