{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "839ee5c38e466975936ac30efaa4f9a9", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8546ed4eca0a37a3585309d471acdbb9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "6d400f7fdace917b46262205e4bec5b0110965c2", "commitAfterChange": "6c5d4ad7530503847f9580cf094d04e37d4a5c66", "methodNumberBeforeChange": 31, "methodNumberAfterChange": 31, "signatureBeforeChange": "  void createDisplay (DeviceData data)", "signatureAfterChange": "  void createDisplay (DeviceData data)", "diff": ["-\t\tif (APP_NAME != null) {", "-\t\t\tbyte[] buffer = new byte[APP_NAME.length () + 1];", "-\t\t\tfor (int i = 0; i < buffer.length - 1; i++) {", "-\t\t\t\tbuffer[i] = (byte) APP_NAME.charAt (i);\t\t\t\t\t", "+\t\tint pid = OS.getpid ();", "+\t\tbyte [] buffer = null;", "+\t\tint ptr = OS.getenv (ascii (\"APP_NAME_\" + pid));", "+\t\tif (ptr != 0) {", "+\t\t\tbuffer = new byte [OS.strlen (ptr) + 1];", "+\t\t\tOS.memcpy (buffer, ptr, buffer.length);", "+\t\t} else {", "+\t\t\tif (APP_NAME != null) {", "+\t\t\t\tchar [] chars = new char [APP_NAME.length ()];", "+\t\t\t\tAPP_NAME.getChars (0, chars.length, chars, 0);", "+\t\t\t\tint cfstring = OS.CFStringCreateWithCharacters (OS.kCFAllocatorDefault, chars, chars.length);", "+\t\t\t\tif (cfstring != 0) {", "+\t\t\t\t\tCFRange range = new CFRange ();", "+\t\t\t\t\trange.length = chars.length;", "+\t\t\t\t\tint encoding = OS.CFStringGetSystemEncoding ();", "+\t\t\t\t\tint [] size = new int [1];", "+\t\t\t\t\tint numChars = OS.CFStringGetBytes (cfstring, range, encoding, (byte) '?', true, null, 0, size);", "+\t\t\t\t\tif (numChars != 0) {", "+\t\t\t\t\t\tbuffer = new byte [size [0] + 1];", "+\t\t\t\t\t\tnumChars = OS.CFStringGetBytes (cfstring, range, encoding, (byte) '?', true, buffer, size [0], size);", "+\t\t\t\t\t}", "+\t\t\t\t\tOS.CFRelease (cfstring);", "+\t\t\t\t}", "-\t\t\tOS.CPSSetProcessName (psn, buffer);", "+\t\tif (buffer != null) OS.CPSSetProcessName (psn, buffer);\t", "-\t\tint ptr = OS.getenv (ascii (\"APP_ICON_\" + OS.getpid()));", "+\t\tptr = OS.getenv (ascii (\"APP_ICON_\" + pid));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b1cac8c9a9787c8d486b29530490fd41", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "593a20e14cabc307ffcbb96ca3baba1cabda4153", "commitAfterChange": "b4b4915a8b6d503d1a91832f2e2cbbca416027d4", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 22, "signatureBeforeChange": "  void createDisplay (DeviceData data)", "signatureAfterChange": "  void createDisplay (DeviceData data)", "diff": ["-//\t\tint pid = OS.getpid ();", "-//\t\tbyte [] buffer = null;", "-//\t\tint ptr = OS.getenv (ascii (\"APP_NAME_\" + pid));", "-//\t\tif (ptr != 0) {", "-//\t\t\tbuffer = new byte [OS.strlen (ptr) + 1];", "-//\t\t\tOS.memmove (buffer, ptr, buffer.length);", "-//\t\t} else {", "-//\t\t\tif (APP_NAME != null) {", "-//\t\t\t\tchar [] chars = new char [APP_NAME.length ()];", "-//\t\t\t\tAPP_NAME.getChars (0, chars.length, chars, 0);", "-//\t\t\t\tint cfstring = OS.CFStringCreateWithCharacters (OS.kCFAllocatorDefault, chars, chars.length);", "-//\t\t\t\tif (cfstring != 0) {", "-//\t\t\t\t\tCFRange range = new CFRange ();", "-//\t\t\t\t\trange.length = chars.length;", "-//\t\t\t\t\tint encoding = OS.CFStringGetSystemEncoding ();", "-//\t\t\t\t\tint [] size = new int [1];", "-//\t\t\t\t\tint numChars = OS.CFStringGetBytes (cfstring, range, encoding, (byte) '?', true, null, 0, size);", "-//\t\t\t\t\tif (numChars != 0) {", "-//\t\t\t\t\t\tbuffer = new byte [size [0] + 1];", "-//\t\t\t\t\t\tnumChars = OS.CFStringGetBytes (cfstring, range, encoding, (byte) '?', true, buffer, size [0], size);", "-//\t\t\t\t\t}", "-//\t\t\t\t\tOS.CFRelease (cfstring);", "-//\t\t\t\t}", "-//\t\t\t}", "-//\t\t}", "-//\t\tif (buffer != null) OS.CPSSetProcessName (psn, buffer);\t", "+\t\tint ptr = OS.getenv (ascii (\"APP_NAME_\" + OS.getpid ()));", "+\t\tif (ptr  == 0 && APP_NAME != null) {", "+\t\t\tptr = NSString.stringWith(APP_NAME).UTF8String();\t", "+\t\t}", "+\t\tif (ptr != 0) OS.CPSSetProcessName (psn, ptr);"]}], "num": 62599}