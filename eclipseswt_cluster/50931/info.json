{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6fffb53fed3a2813d3a241bac6d977b4", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "347e0826bbc04bf2a5ff5ad6b4dfe519", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Program/cocoa/org/eclipse/swt/program/Program.java", "commitBeforeChange": "1a876750782f037ea9cd2cbd6b3dfc67d39d1b46", "commitAfterChange": "4152cddcd37ba1ab9b8d34e3a41677daf8cc810f", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " public static Program findProgram (String extension)", "signatureAfterChange": " public static Program findProgram (String extension)", "diff": ["-\tif (extension == null) SWT.error (SWT.ERROR_NULL_ARGUMENT);", "-\tif (extension.length () == 0) return null;", "-\tProgram program = null;", "-\tchar[] chars;", "-\tif (extension.charAt (0) != '.') {", "-\t\tchars = new char[extension.length()];", "-\t\textension.getChars(0, chars.length, chars, 0);", "-\t} else {", "-\t\tchars = new char[extension.length() - 1];", "-\t\textension.getChars(1, extension.length(), chars, 0);\t\t", "-\t}", "-\tNSString ext = NSString.stringWithCharacters(chars, chars.length);", "-\tif (ext != null) {", "-\t\tbyte[] fsRef = new byte[80];", "-\t\tif (OS.LSGetApplicationForInfo(OS.kLSUnknownType, OS.kLSUnknownCreator, ext.id, OS.kLSRolesAll, fsRef, null) == OS.noErr) {", "-\t\t\tint /*long*/ url = OS.CFURLCreateFromFSRef(OS.kCFAllocatorDefault(), fsRef);", "-\t\t\tif (url != 0) {", "-\t\t\t\tNSString bundlePath = new NSURL(url).path();", "-\t\t\t\tNSBundle bundle = NSBundle.bundleWithPath(bundlePath);", "-\t\t\t\tprogram = getProgram(bundle);", "-\t\t\t\tOS.CFRelease(url);", "+\tNSAutoreleasePool pool = (NSAutoreleasePool) new NSAutoreleasePool().alloc().init();", "+\ttry {", "+\t\tif (extension == null) SWT.error (SWT.ERROR_NULL_ARGUMENT);", "+\t\tif (extension.length () == 0) return null;", "+\t\tProgram program = null;", "+\t\tchar[] chars;", "+\t\tif (extension.charAt (0) != '.') {", "+\t\t\tchars = new char[extension.length()];", "+\t\t\textension.getChars(0, chars.length, chars, 0);", "+\t\t} else {", "+\t\t\tchars = new char[extension.length() - 1];", "+\t\t\textension.getChars(1, extension.length(), chars, 0);\t\t", "+\t\t}", "+\t\tNSString ext = NSString.stringWithCharacters(chars, chars.length);", "+\t\tif (ext != null) {", "+\t\t\tbyte[] fsRef = new byte[80];", "+\t\t\tif (OS.LSGetApplicationForInfo(OS.kLSUnknownType, OS.kLSUnknownCreator, ext.id, OS.kLSRolesAll, fsRef, null) == OS.noErr) {", "+\t\t\t\tint /*long*/ url = OS.CFURLCreateFromFSRef(OS.kCFAllocatorDefault(), fsRef);", "+\t\t\t\tif (url != 0) {", "+\t\t\t\t\tNSString bundlePath = new NSURL(url).path();", "+\t\t\t\t\tNSBundle bundle = NSBundle.bundleWithPath(bundlePath);", "+\t\t\t\t\tprogram = getProgram(bundle);", "+\t\t\t\t\tOS.CFRelease(url);", "+\t\t\t\t}", "+\t\treturn program;", "+\t} finally {", "+\t\tpool.release();", "-\treturn program;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "265ee6bfed55bac6f4787fcc80b1bc92", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Program/cocoa/org/eclipse/swt/program/Program.java", "commitBeforeChange": "4edc576de20a88abac088ae701d29ce3e54ede4f", "commitAfterChange": "c2ec875b36ecf39df432358c14d183b7d7f45fe0", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " public static Program findProgram (String extension)", "signatureAfterChange": " public static Program findProgram (String extension)", "diff": ["-\tchar[] chars;", "-\tif (extension.charAt (0) != '.') {", "-\t\tchars = new char[extension.length()];", "-\t\textension.getChars(0, chars.length, chars, 0);", "-\t} else {", "-\t\tchars = new char[extension.length() - 1];", "-\t\textension.getChars(1, extension.length(), chars, 0);\t\t", "-\t}", "-\tint ext = OS.CFStringCreateWithCharacters(OS.kCFAllocatorDefault, chars, chars.length);", "-\tProgram program = null;", "-\tif (ext != 0) {", "-\t\tbyte[] fsRef = new byte[80];", "-\t\tif (OS.LSGetApplicationForInfo(OS.kLSUnknownType, OS.kLSUnknownCreator, ext, OS.kLSRolesAll, fsRef, null) == OS.noErr) {", "-\t\t\tprogram = getProgram(fsRef);", "-\t\t}", "-\t\tOS.CFRelease(ext);", "-\t}", "-\treturn program;", "+//\tchar[] chars;", "+//\tif (extension.charAt (0) != '.') {", "+//\t\tchars = new char[extension.length()];", "+//\t\textension.getChars(0, chars.length, chars, 0);", "+//\t} else {", "+//\t\tchars = new char[extension.length() - 1];", "+//\t\textension.getChars(1, extension.length(), chars, 0);\t\t", "+//\t}", "+//\tint ext = OS.CFStringCreateWithCharacters(OS.kCFAllocatorDefault, chars, chars.length);", "+//\tProgram program = null;", "+//\tif (ext != 0) {", "+//\t\tbyte[] fsRef = new byte[80];", "+//\t\tif (OS.LSGetApplicationForInfo(OS.kLSUnknownType, OS.kLSUnknownCreator, ext, OS.kLSRolesAll, fsRef, null) == OS.noErr) {", "+//\t\t\tprogram = getProgram(fsRef);", "+//\t\t}", "+//\t\tOS.CFRelease(ext);", "+//\t}", "+//\treturn program;", "+\treturn null;"]}], "num": 50931}