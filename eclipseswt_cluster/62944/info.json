{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d249b5257a768c0623abba034e0ed0f2", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dafc598f83747d8b0ee20b17a970cc15", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "4def951fc85e643080de398e85c25cb30ec79f91", "commitAfterChange": "ea10febb5ae3b0d1b19a13c89b6c7b27ab367f3a", "methodNumberBeforeChange": 41, "methodNumberAfterChange": 38, "signatureBeforeChange": "  int processDispose (int int0, int int1, int int2)", "signatureAfterChange": "  int gtk_delete_range (int widget, int iter1, int iter2)", "diff": ["+", "+int gtk_delete_range (int widget, int iter1, int iter2) {", "+\tif (!hooks (SWT.Verify) && !filters (SWT.Verify)) return 0;", "+\tbyte [] startIter =  new byte [ITER_SIZEOF];", "+\tbyte [] endIter =  new byte [ITER_SIZEOF];", "+\tOS.memmove (startIter, iter1, startIter.length);", "+\tOS.memmove (endIter, iter2, endIter.length);", "+\tint start = OS.gtk_text_iter_get_offset (startIter);", "+\tint end = OS.gtk_text_iter_get_offset (endIter);", "+\tint address = OS.gtk_text_buffer_get_text (bufferHandle, startIter, endIter, true);", "+\tbyte [] buffer = new byte [end - start];", "+\tOS.memmove (buffer, address, buffer.length);", "+\tString oldText = new String (Converter.mbcsToWcs (null, buffer));", "+\tString newText = verifyText (oldText, start, end);", "+\tif (newText == null) {", "+\t\tOS.g_signal_stop_emission_by_name (bufferHandle, OS.delete_range);", "+\t}", "+\treturn 0;", "+}", "-", "-int processDispose (int int0, int int1, int int2) {", "-\tif (!hooks (SWT.Verify) && !filters (SWT.Verify)) return 0;", "-\tif ((style & SWT.SINGLE) != 0) {", "-\t\tint address = OS.gtk_editable_get_chars (handle, int0, int1);", "-\t\tint length = OS.strlen (address);", "-\t\tbyte [] buffer = new byte [length];", "-\t\tOS.memmove (buffer, address, length);", "-\t\tOS.g_free (address);", "-\t\tString oldText = new String (Converter.mbcsToWcs (null, buffer));", "-\t\tString newText = verifyText (oldText, int0, int1);", "-\t\tif (newText == null) {", "-\t\t\tOS.g_signal_stop_emission_by_name (handle, OS.delete_text);", "-\t\t\treturn 0;", "-\t\t}", "-\t} else {", "-\t\tbyte [] startIter =  new byte [ITER_SIZEOF];", "-\t\tbyte [] endIter =  new byte [ITER_SIZEOF];", "-\t\tOS.memmove (startIter, int0, startIter.length);", "-\t\tOS.memmove (endIter, int1, endIter.length);", "-\t\tint start = OS.gtk_text_iter_get_offset (startIter);", "-\t\tint end = OS.gtk_text_iter_get_offset (endIter);", "-\t\tint address = OS.gtk_text_buffer_get_text (bufferHandle, startIter, endIter, true);", "-\t\tbyte [] buffer = new byte [end - start];", "-\t\tOS.memmove (buffer, address, buffer.length);", "-\t\tString oldText = new String (Converter.mbcsToWcs (null, buffer));", "-\t\tString newText = verifyText (oldText, start, end);", "-\t\tif (newText == null) {", "-\t\t\tOS.g_signal_stop_emission_by_name (bufferHandle, OS.delete_range);", "-\t\t\treturn 0;", "-\t\t}", "-\t}", "-\treturn 0;", "-}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "315633d64908a54d497c19d55e476d67", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "e2e7896b3cf0e9c97f6038a8e9fe8cfb357377bf", "commitAfterChange": "d2e697ac12d333462fab7aa686c0fbe95379eed0", "methodNumberBeforeChange": 38, "methodNumberAfterChange": 44, "signatureBeforeChange": "  int processVerify (int int0, int int1, int int2)", "signatureAfterChange": "  int processVerify (int int0, int int1, int int2)", "diff": ["-\tif (int2 != 0) {", "-\t\t// Insert ", "-\t\tif (int0 == 0 || int1==0){", "-\t\t\t return 0;", "-\t\t}", "-//\t\tint length = OS.strlen (int0);", "-\t\tbyte [] buffer1 = new byte [int1];", "-\t\tOS.memmove (buffer1, int0, buffer1.length);", "-\t\tchar [] buffer2 = Converter.mbcsToWcs (null, buffer1);", "-\t\tString oldText = new String (buffer2, 0, buffer2.length);", "+\tif ((style & SWT.SINGLE) != 0) {", "+\t\tif (int0 == 0 || int1==0) return 0;", "+\t\tbyte [] buffer = new byte [int1];", "+\t\tOS.memmove (buffer, int0, buffer.length);", "+\t\tString oldText = new String (Converter.mbcsToWcs (null, buffer));", "-\t\tif (position [0] == -1) position [0] = OS.gtk_text_get_length (handle);", "+\t\tif (position [0] == -1) position [0] = getCharCount ();", "-\t\t\tOS.gtk_signal_emit_stop_by_name (handle, OS.insert_text);", "+\t\t\tOS.g_signal_stop_emission_by_name (handle, OS.insert_text);", "-\t\t\tint windowProc5 = getDisplay ().windowProc5;", "-\t\t\tOS.gtk_signal_handler_block_by_func (handle, windowProc5, SWT.Verify);", "+\t\t\tblockSignal (bufferHandle, SWT.Verify);", "-\t\t\tOS.gtk_signal_handler_unblock_by_func (handle, windowProc5, SWT.Verify);", "-\t\t\tOS.gtk_signal_emit_stop_by_name (handle, OS.insert_text);", "+\t\t\tunblockSignal (bufferHandle, SWT.Verify);", "+\t\t\tOS.g_signal_stop_emission_by_name (handle, OS.insert_text);", "-\t\t// Delete ", "-\t\tint address = OS.gtk_editable_get_chars (handle, int0, int1);", "-\t\tint length = OS.strlen (address);", "-\t\tbyte [] buffer1 = new byte [length];", "-\t\tOS.memmove (buffer1, address, length);", "-\t\tOS.g_free (address);", "-\t\tchar [] buffer2 = Converter.mbcsToWcs (null, buffer1);", "-\t\tString oldText = new String (buffer2, 0, buffer2.length);", "-\t\tString newText = verifyText (oldText, int0, int1);", "+\t\tbyte [] iter = new byte [ITER_SIZEOF];", "+\t\tOS.memmove (iter, int0, iter.length);", "+\t\tint start = OS.gtk_text_iter_get_offset (iter);", "+\t\tbyte [] buffer = new byte [int2];", "+\t\tOS.memmove (buffer, int1, buffer.length);", "+\t\tString oldText = new String (Converter.mbcsToWcs (null, buffer));", "+\t\tString newText = verifyText (oldText, start, start);", "-\t\t\tOS.gtk_signal_emit_stop_by_name (handle, OS.delete_text);", "+\t\t\tOS.g_signal_stop_emission_by_name (bufferHandle, OS.insert_text);", "+\t\t\treturn 0;", "+\t\t}", "+\t\tif (newText != oldText) {", "+\t\t\tbyte [] buffer1 = Converter.wcsToMbcs (null, newText);", "+\t\t\tblockSignal (bufferHandle, SWT.Verify);", "+\t\t\tOS.gtk_text_buffer_insert (bufferHandle, iter, buffer1, buffer1.length);", "+\t\t\tunblockSignal (bufferHandle, SWT.Verify);", "+\t\t\tOS.g_signal_stop_emission_by_name (bufferHandle, OS.insert_text);"]}], "num": 62944}