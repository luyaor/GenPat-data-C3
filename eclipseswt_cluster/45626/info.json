{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8268bbdac783cd98eabeb8fe1772efbd", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6423a767d7b10f0d54ac2624bbd53cd6", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/graphics/Font.java", "commitBeforeChange": "d07e719160ad9b5428874b3929f88d189e7c89ac", "commitAfterChange": "c834e343fe7b1e9703499118bb4656485bc6fc8e", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 9, "signatureBeforeChange": "\r int matchFont(int xDisplay, FontData fd)", "signatureAfterChange": "\r int matchFont(int xDisplay, FontData fd, boolean fontSet)", "diff": ["-int matchFont(int xDisplay, FontData fd) {\t\r", "-\tint fontStruct = loadFont(xDisplay, fd);\r", "-\tif (fontStruct != 0) return fontStruct;\r", "+}\r", "+int matchFont(int xDisplay, FontData fd, boolean fontSet) {\t\r", "+\tint font = fontSet ? loadFontSet(xDisplay, fd) : loadFont(xDisplay, fd);\r", "+\tif (font != 0) return font;\r", "-\t\tfontStruct = loadFont(xDisplay, fd);\r", "-\t\tif (fontStruct != 0) return fontStruct;\r", "+\t\tfont = fontSet ? loadFontSet(xDisplay, fd) : loadFont(xDisplay, fd);\r", "+\t\tif (font != 0) return font;\r", "-\t\tfontStruct = loadFont(xDisplay, fd);\r", "-\t\tif (fontStruct != 0) return fontStruct;\r", "+\t\tfont = fontSet ? loadFontSet(xDisplay, fd) : loadFont(xDisplay, fd);\r", "+\t\tif (font != 0) return font;\r", "-\t\tfontStruct = loadFont(xDisplay, fd);\r", "-\t\tif (fontStruct != 0) return fontStruct;\r", "+\t\tfont = fontSet ? loadFontSet(xDisplay, fd) : loadFont(xDisplay, fd);\r", "+\t\tif (font != 0) return font;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9b132af746ac7954eee24776f9b80f37", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/FontDialog.java", "commitBeforeChange": "26deca8787366594b00e667c8e5b7c6af5b33172", "commitAfterChange": "4a3495d33f0b113ef7f986d31f986971a3cf6245", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": " public FontData open ()", "signatureAfterChange": " public FontData open ()", "diff": ["-\tDisplay display = parent != null ? parent.display : Display.getCurrent ();", "-\t", "+\tDisplay display = parent != null ? parent.display : Display.getCurrent ();\t", "-\tif (fontData != null) {", "-\t\tFont font = new Font(display, fontData);", "-\t\tNSFontManager.sharedFontManager().setSelectedFont(font.handle, false);", "-\t\tfont.dispose();", "-\t}", "+\tboolean create = fontData != null;", "+\tFont font = create ? new Font(display, fontData) : display.getSystemFont();", "+\tpanel.setPanelFont(font.handle, false);", "+\tselected = false;", "+\tif (selected) {", "+\t\tNSFont nsFont = panel.panelConvertFont(font.handle);", "+\t\tfontData = Font.cocoa_new(display, nsFont).getFontData()[0];", "+\t}", "-\tNSFont font = NSFontManager.sharedFontManager().selectedFont();", "-\tif (font != null) {", "-\t\t//TODO - this does not work", "-\t\tfontData = Font.cocoa_new(display, font).getFontData()[0];", "-\t}", "+\tif (create) font.dispose();"]}], "num": 45626}