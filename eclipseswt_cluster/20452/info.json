{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2e88e5b6068c6599d6ac74ef052afe3a", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4eb568347b8ee6edd66c499ac6e6e402", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/motif/org/eclipse/swt/browser/Browser.java", "commitBeforeChange": "b1cf5c7b98958d9bc4a0f5cb5e7060b6e5bd12f6", "commitAfterChange": "1072e463912879946238a4c960d6fefca78cac15", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": " \t\t public Browser(Composite parent, int style)", "signatureAfterChange": " \t\t public Browser(Composite parent, int style)", "diff": ["-\tif (!isLinux) return;", "-\tbrowserCount++;", "-\tGTK.gtk_init_check(new int[1], null);", "-\tif (browserCount == 1) {", "-\t\tfinal Display display = getDisplay();", "-\t\tdisplay.asyncExec(new Runnable() {", "-\t\t\tpublic void run() {", "-\t\t\t\twhile (GTK.gtk_events_pending() != 0) {", "-\t\t\t\t\tGTK.gtk_main_iteration();", "-\t\t\t\t}", "-\t\t\t\tif (browserCount == 0) return;", "-\t\t\t\tdisplay.timerExec(25, this);\t\t", "-\t\t\t}", "-\t\t});", "-\t}", "-\tparent.getShell().setFocus();", "-\tgtkHandle = GTK.gtk_plug_new(embeddedHandle);", "-\tint[] result = new int[1];", "-\tif (browserCount == 1) {", "-\t\tString mozillaPath = GRE.mozillaPath;", "-\t\tif (mozillaPath == null) throw new SWTError(XPCOM.errorMsg(XPCOM.NS_ERROR_FAILURE));", "+\tif (!isLinux) {", "+\t\tdispose();", "+\t\tSWT.error(SWT.ERROR_NO_HANDLES);\t\t", "+\t}", "+\tint[] result = new int[1];", "+\tif (browserCount == 0) {", "+\t\ttry {", "+\t\t\tLibrary.loadLibrary(\"swt-gtk\"); //$NON-NLS-1$", "+\t\t\tLibrary.loadLibrary (\"swt-mozilla\"); //$NON-NLS-1$", "+\t\t} catch (UnsatisfiedLinkError e) {", "+\t\t\tdispose();", "+\t\t\tSWT.error(SWT.ERROR_NO_HANDLES);", "+\t\t}", "+\t\t", "+\t\tString mozillaPath = GRE.mozillaPath;", "+\t\tif (mozillaPath == null) {", "+\t\t\tdispose();", "+\t\t\tSWT.error(SWT.ERROR_NO_HANDLES);", "+\t\t}", "+\t\t", "-\t\tif (rc != XPCOM.NS_OK) throw new SWTError(XPCOM.errorMsg(rc));", "-\t\tlocalFile.Release(); ", "+\t\tlocalFile.Release();", "+\t\tif (rc != XPCOM.NS_OK) {", "+\t\t\tlocProvider.Release();", "+\t\t\tlocProvider = null;", "+\t\t\tdispose();", "+\t\t\tSWT.error(SWT.ERROR_NO_HANDLES);", "+\t\t}", "+\tbrowserCount++;", "+\tif (browserCount == 1) {", "+\t\tGTK.gtk_init_check(new int[1], null);", "+\t\tfinal Display display = getDisplay();", "+\t\tdisplay.asyncExec(new Runnable() {", "+\t\t\tpublic void run() {", "+\t\t\t\twhile (GTK.gtk_events_pending() != 0) {", "+\t\t\t\t\tGTK.gtk_main_iteration();", "+\t\t\t\t}", "+\t\t\t\tif (browserCount == 0) return;", "+\t\t\t\tdisplay.timerExec(25, this);\t\t", "+\t\t\t}", "+\t\t});", "+\t}", "+\tparent.getShell().setFocus();", "+\tgtkHandle = GTK.gtk_plug_new(embeddedHandle);", "+"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c348cd6ce4b45716df1b317b4ca5a43c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/mozilla/org/eclipse/swt/browser/Browser.java", "commitBeforeChange": "36e64893324aed478d030f7598a602621a5bcfe8", "commitAfterChange": "534780413e6ae17f100718b437459385b1a7c041", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": " public Browser(Composite parent, int style)", "signatureAfterChange": " public Browser(Composite parent, int style)", "diff": ["-\tbrowserCount++;", "-\tif (browserCount == 1) {", "+\tif (browserCount == 0) {", "+\t\ttry {", "+\t\t\tLibrary.loadLibrary (\"swt-mozilla\"); //$NON-NLS-1$", "+\t\t} catch (UnsatisfiedLinkError e) {", "+\t\t\tdispose();", "+\t\t\tSWT.error(SWT.ERROR_NO_HANDLES);", "+\t\t}", "+\t\t", "-\t\tif (mozillaPath == null) throw new SWTError(XPCOM.errorMsg(XPCOM.NS_ERROR_FAILURE));", "+\t\tif (mozillaPath == null) {", "+\t\t\tdispose();", "+\t\t\tSWT.error(SWT.ERROR_NO_HANDLES);", "+\t\t}", "-\t\tif (rc != XPCOM.NS_OK) throw new SWTError(XPCOM.errorMsg(rc));", "-\t\tlocalFile.Release(); ", "+\t\tlocalFile.Release();", "+\t\tif (rc != XPCOM.NS_OK) {", "+\t\t\tlocProvider.Release();", "+\t\t\tlocProvider = null;", "+\t\t\tdispose();", "+\t\t\tSWT.error(SWT.ERROR_NO_HANDLES);", "+\t\t}", "+\tbrowserCount++;"]}], "num": 20452}