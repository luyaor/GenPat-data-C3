{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "7dbee49fb19898405f91a783f6d88956", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2c0d22b37c20b65d72a63f6992ad2c43", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/cocoa/org/eclipse/swt/dnd/DragSource.java", "commitBeforeChange": "da3d4495fe00ba97e34c97e55de867847bec3e2f", "commitAfterChange": "e2c506916268d43dd7bdb8d26d08bd9f92cda43b", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "  void drag(Event dragEvent)", "signatureAfterChange": "  void drag(Event dragEvent)", "diff": ["-\tImage newImage = null;", "+\tImage defaultDragImage = null;", "-\t\t\tnewImage = new Image(Display.getCurrent(), 20, 20);", "-\t\t\tGC imageGC = new GC(newImage);", "-\t\t\timageGC.setForeground(new Color(Display.getCurrent(), 50, 50, 50));", "+\t\t\tImage newDragImage = new Image(Display.getCurrent(), 20, 20);", "+\t\t\tGC imageGC = new GC(newDragImage);", "+\t\t\tColor grayColor = new Color(Display.getCurrent(), 50, 50, 50);", "+\t\t\timageGC.setForeground(grayColor);", "-\t\t\tImageData newImageData = newImage.getImageData();", "+\t\t\tImageData newImageData = newDragImage.getImageData();", "-\t\t\tImage newImageWithAlpha = new Image(Display.getCurrent(), newImageData);", "-\t\t\timage = newImageWithAlpha;", "+\t\t\tdefaultDragImage = new Image(Display.getCurrent(), newImageData);", "+\t\t\tnewDragImage.dispose();", "+\t\t\tgrayColor.dispose();", "+\t\t\timage = defaultDragImage;", "-\t\tif (newImage != null) newImage.dispose();", "+\t\tif (defaultDragImage != null) defaultDragImage.dispose();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c06bdeb9d82e8fb1d5a45cdfa36650ca", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "3fb799dcaa7d449679ed92f9829fbed85aa6fd1d", "commitAfterChange": "6c0e3d76ce668620fd159ac504e2b5d9a48852be", "methodNumberBeforeChange": 46, "methodNumberAfterChange": 45, "signatureBeforeChange": "\r \r private void initCloseButton(Color foreground, Color background)", "signatureAfterChange": "\r \r private void initCloseButtonImages()", "diff": ["-private void initCloseButton(Color foreground, Color background) {\r", "-\tif (closeImage != null) {\r", "-\t\tcloseImage.dispose();\r", "+private void initCloseButtonImages() {\r", "+\tif (closeImage != null) return;\r", "+\r", "+\ttry {\r", "+\t\tDisplay display = getDisplay();\r", "+\t\tImage image = new Image(display, CTabFolder.class.getResourceAsStream(\"close.gif\"));\r", "+\t\tImageData source = image.getImageData();\r", "+\t\tImageData mask = source.getTransparencyMask();\r", "+\t\timage.dispose();\r", "+\t\tcloseImage = new Image(display, source, mask);\r", "+\t} catch (Error e) {\r", "+\t\treturn;\r", "-\tcloseImage = drawCloseImage(foreground, background);\r", "-\tcloseBar.setBackground(background);\r", "-\tcloseBar.setForeground(foreground);\r", "+\t\r", "+\tcloseItem.setDisabledImage(closeImage);\r", "-}\r", "+\tinactiveCloseItem.setDisabledImage(closeImage);\r", "+\tinactiveCloseItem.setImage(closeImage);\r", "+\tint height = getTabHeight();\r", "+\tPoint size = closeBar.computeSize(SWT.DEFAULT, height);\r", "+\tcloseBar.setSize(size);\r", "+\tinactiveCloseBar.setSize(size);\r", "+}\r"]}], "num": 25725}