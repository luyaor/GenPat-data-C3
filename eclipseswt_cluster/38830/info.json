{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b5b5685e0008b0244e4ff9dc6be30e30", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8904403990fa21a27cda58a7be4f6b93", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "b70eece9fa211b52cf66a04a6e755c2252498108", "commitAfterChange": "b87ca47e323c90369c28285f7daf0d6d4b2db3c2", "methodNumberBeforeChange": 78, "methodNumberAfterChange": 78, "signatureBeforeChange": " public Point computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "\r public Point computeSize (int wHint, int hHint, boolean changed)", "diff": ["- */", "-public Point computeSize (int wHint, int hHint, boolean changed) {", "-\tcheckWidget();", "-\tint count, width, height;", "-\tboolean singleLine = (getStyle() & SWT.SINGLE) != 0;", "-\t", "-\tif (singleLine) {", "-\t\tcount = 1;", "-\t} else {", "-\t\tcount = content.getLineCount();", "-\t}", "-\tif (wHint != SWT.DEFAULT) {", "-\t\twidth = wHint;", "-\t} ", "-\telse {", "-\t\twidth = DEFAULT_WIDTH;", "-\t}", "-", "-\tif (wordWrap) {", "-\t\tif (((WrappedContent) content).getVisualLineCount() != 0) {", "-\t\t\t// lines have already been wrapped to a specific width.", "-\t\t\t// use existing line count. fixes bug 9191", "-\t\t\tif (wHint == SWT.DEFAULT) {", "-\t\t\t\twidth = lineCache.getWidth();", "-\t\t\t} else {", "-\t\t\t\t((WrappedContent) content).wrapLines(width);", "-\t\t\t  \t// caret may be on a different line after a rewrap", "-\t\t  \t\tsetCaretLocation();", "-\t\t\t}\t", "-\t\t\tif (singleLine == false) {", "-\t\t\t\tcount = content.getLineCount();", "-\t\t\t}", "-\t\t}", "-\t\telse {", "-\t\t\tif (singleLine == false) {", "-\t\t\t\t((WrappedContent) content).wrapLines(width);", "-\t\t\t  \t// caret may be on a different line after a rewrap", "-\t\t  \t\tsetCaretLocation();", "-\t\t\t\tcount = content.getLineCount();", "-\t\t\t}", "-\t\t}", "-\t}", "-\telse if (wHint == SWT.DEFAULT) {", "-\t\t// Only calculate what can actually be displayed.", "-\t\t// Do this because measuring each text line is a ", "-\t\t// time-consuming process.", "-\t\tint visibleCount = Math.min (count, getDisplay().getBounds().height / lineHeight);", "-\t\tlineCache.calculate(0, visibleCount);", "-\t\twidth = lineCache.getWidth() + leftMargin + rightMargin;", "-\t}", "-\tif (hHint != SWT.DEFAULT) {", "-\t\theight = hHint;", "-\t} ", "-\telse {", "-\t\theight = count * lineHeight + topMargin + bottomMargin;", "-\t}", "-\t// Use default values if no text is defined.", "-\tif (width == 0) {", "-\t\twidth = DEFAULT_WIDTH;", "-\t}", "-\tif (height == 0) {", "-\t\tif (singleLine) {", "-\t\t\theight = lineHeight;", "-\t\t}", "-\t\telse {", "-\t\t\theight = DEFAULT_HEIGHT;", "-\t\t}", "-\t}", "-\tRectangle rect = computeTrim(0, 0, width, height);", "-\treturn new Point (rect.width, rect.height);", "-}", "+ */\r", "+public Point computeSize (int wHint, int hHint, boolean changed) {\r", "+\tcheckWidget();\r", "+\tint count, width, height;\r", "+\tboolean singleLine = (getStyle() & SWT.SINGLE) != 0;\r", "+\t\r", "+\tif (singleLine) {\r", "+\t\tcount = 1;\r", "+\t} else {\r", "+\t\tcount = content.getLineCount();\r", "+\t}\r", "+\tif (wHint != SWT.DEFAULT) {\r", "+\t\twidth = wHint;\r", "+\t} \r", "+\telse {\r", "+\t\twidth = DEFAULT_WIDTH;\r", "+\t}\r", "+\tif (wHint == SWT.DEFAULT) {\r", "+\t\tLineCache computeLineCache = lineCache;\r", "+\t\tif (wordWrap) {\r", "+\t\t\t// set non-wrapping content width calculator. Ensures ideal line width \r", "+\t\t\t// that does not required wrapping. Fixes bug 31195.\r", "+\t\t\tcomputeLineCache = new ContentWidthCache(this, logicalContent);\r", "+\t\t\tif (singleLine == false) {\r", "+\t\t\t\tcount = logicalContent.getLineCount();\r", "+\t\t\t}\r", "+\t\t}\r", "+\t\t// Only calculate what can actually be displayed.\r", "+\t\t// Do this because measuring each text line is a \r", "+\t\t// time-consuming process.\r", "+\t\tint visibleCount = Math.min (count, getDisplay().getBounds().height / lineHeight);\r", "+\t\tcomputeLineCache.calculate(0, visibleCount);\r", "+\t\twidth = computeLineCache.getWidth() + leftMargin + rightMargin;\r", "+\t}\r", "+\telse\r", "+\tif (wordWrap && singleLine == false) {\r", "+\t\t// calculate to wrap to width hint. Fixes bug 20377. \r", "+\t\t// don't wrap live content. Fixes bug 38344.\r", "+\t\tWrappedContent wrappedContent = new WrappedContent(renderer, logicalContent);\r", "+\t\twrappedContent.wrapLines(width);\r", "+\t\tcount = wrappedContent.getLineCount();\r", "+\t}\r", "+\tif (hHint != SWT.DEFAULT) {\r", "+\t\theight = hHint;\r", "+\t} \r", "+\telse {\r", "+\t\theight = count * lineHeight + topMargin + bottomMargin;\r", "+\t}\r", "+\t// Use default values if no text is defined.\r", "+\tif (width == 0) {\r", "+\t\twidth = DEFAULT_WIDTH;\r", "+\t}\r", "+\tif (height == 0) {\r", "+\t\tif (singleLine) {\r", "+\t\t\theight = lineHeight;\r", "+\t\t}\r", "+\t\telse {\r", "+\t\t\theight = DEFAULT_HEIGHT;\r", "+\t\t}\r", "+\t}\r", "+\tRectangle rect = computeTrim(0, 0, width, height);\r", "+\treturn new Point (rect.width, rect.height);\r", "+}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "28a9276fa728bb0d5993995432fe12c4", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "b70eece9fa211b52cf66a04a6e755c2252498108", "commitAfterChange": "b87ca47e323c90369c28285f7daf0d6d4b2db3c2", "methodNumberBeforeChange": 58, "methodNumberAfterChange": 58, "signatureBeforeChange": " public StyledText(Composite parent, int style)", "signatureAfterChange": "\r public StyledText(Composite parent, int style)", "diff": ["- */", "-public StyledText(Composite parent, int style) {", "-\tsuper(parent, checkStyle(style | SWT.NO_REDRAW_RESIZE | SWT.NO_BACKGROUND));", "-\t// set the bg/fg in the OS to ensure that these are the same as StyledText, necessary", "-\t// for ensuring that the bg/fg the IME box uses is the same as what StyledText uses", "-\tsuper.setForeground(getForeground());", "-\tsuper.setBackground(getBackground());", "-\tDisplay display = getDisplay();", "-\tboolean isRightOriented = (getStyle() & SWT.MIRRORED) != 0;", "-\tisBidi = StyledTextBidi.isBidiPlatform() || isRightOriented;", "-\tif ((style & SWT.READ_ONLY) != 0) {", "-\t\tsetEditable(false);", "-\t}", "-\tif ((style & SWT.BORDER) == 0 || (style & SWT.SINGLE) == 0) {", "-\t\tleftMargin = topMargin = rightMargin = bottomMargin = 0;", "-\t}", "-\tclipboard = new Clipboard(display);", "-\tinstallDefaultContent();", "-\tinitializeRenderer();", "-\tif ((style & SWT.WRAP) != 0) {", "-\t\tsetWordWrap(true);", "-\t}", "-\telse {", "-\t    lineCache = new ContentWidthCache(this, content.getLineCount());", "-\t}\t", "-\tif (isBidi() == false) {", "-\t\tCaret caret = new Caret(this, SWT.NULL);", "-\t\tcaret.setSize(1, caret.getSize().y);", "-\t} ", "-\telse {", "-\t\tcreateCaretBitmaps();", "-\t\tif (isRightOriented) {", "-\t\t\tBidiUtil.setKeyboardLanguage(BidiUtil.KEYBOARD_BIDI);", "-\t\t}", "-\t\tnew Caret(this, SWT.NULL);\t\t\t", "-\t\tsetBidiCaretDirection();", "-\t\tRunnable runnable = new Runnable() {", "-\t\t\tpublic void run() {", "-\t\t\t\t// setBidiCaretLocation calculates caret location like during ", "-\t\t\t\t// cursor movement and takes keyboard language into account. ", "-\t\t\t\t// Fixes 1GKPYMK", "-\t\t\t\tsetBidiCaretLocation(null);", "-\t\t\t}", "-\t\t};", "-\t\tStyledTextBidi.addLanguageListener(this, runnable);", "-\t}", "-\t", "-\tString platform= SWT.getPlatform();", "-\tisCarbon = \"carbon\".equals(platform);\t", "-\t", "-\t// set the caret width, the height of the caret will default to the line height", "-\tcalculateScrollBars();", "-\tcreateKeyBindings();", "-\tibeamCursor = new Cursor(display, SWT.CURSOR_IBEAM);", "-\tsetCursor(ibeamCursor);", "-\tinstallListeners();", "-\tinstallDefaultLineStyler();", "-}", "+ */\r", "+public StyledText(Composite parent, int style) {\r", "+\tsuper(parent, checkStyle(style | SWT.NO_REDRAW_RESIZE | SWT.NO_BACKGROUND));\r", "+\t// set the bg/fg in the OS to ensure that these are the same as StyledText, necessary\r", "+\t// for ensuring that the bg/fg the IME box uses is the same as what StyledText uses\r", "+\tsuper.setForeground(getForeground());\r", "+\tsuper.setBackground(getBackground());\r", "+\tDisplay display = getDisplay();\r", "+\tboolean isRightOriented = (getStyle() & SWT.MIRRORED) != 0;\r", "+\tisBidi = StyledTextBidi.isBidiPlatform() || isRightOriented;\r", "+\tif ((style & SWT.READ_ONLY) != 0) {\r", "+\t\tsetEditable(false);\r", "+\t}\r", "+\tif ((style & SWT.BORDER) == 0 || (style & SWT.SINGLE) == 0) {\r", "+\t\tleftMargin = topMargin = rightMargin = bottomMargin = 0;\r", "+\t}\r", "+\tclipboard = new Clipboard(display);\r", "+\tinstallDefaultContent();\r", "+\tinitializeRenderer();\r", "+\tif ((style & SWT.WRAP) != 0) {\r", "+\t\tsetWordWrap(true);\r", "+\t}\r", "+\telse {\r", "+\t    lineCache = new ContentWidthCache(this, content);\r", "+\t}\t\r", "+\tif (isBidi() == false) {\r", "+\t\tCaret caret = new Caret(this, SWT.NULL);\r", "+\t\tcaret.setSize(1, caret.getSize().y);\r", "+\t} \r", "+\telse {\r", "+\t\tcreateCaretBitmaps();\r", "+\t\tif (isRightOriented) {\r", "+\t\t\tBidiUtil.setKeyboardLanguage(BidiUtil.KEYBOARD_BIDI);\r", "+\t\t}\r", "+\t\tnew Caret(this, SWT.NULL);\t\t\t\r", "+\t\tsetBidiCaretDirection();\r", "+\t\tRunnable runnable = new Runnable() {\r", "+\t\t\tpublic void run() {\r", "+\t\t\t\t// setBidiCaretLocation calculates caret location like during \r", "+\t\t\t\t// cursor movement and takes keyboard language into account. \r", "+\t\t\t\t// Fixes 1GKPYMK\r", "+\t\t\t\tsetBidiCaretLocation(null);\r", "+\t\t\t}\r", "+\t\t};\r", "+\t\tStyledTextBidi.addLanguageListener(this, runnable);\r", "+\t}\r", "+\t\r", "+\tString platform= SWT.getPlatform();\r", "+\tisCarbon = \"carbon\".equals(platform);\t\r", "+\t\r", "+\t// set the caret width, the height of the caret will default to the line height\r", "+\tcalculateScrollBars();\r", "+\tcreateKeyBindings();\r", "+\tibeamCursor = new Cursor(display, SWT.CURSOR_IBEAM);\r", "+\tsetCursor(ibeamCursor);\r", "+\tinstallListeners();\r", "+\tinstallDefaultLineStyler();\r", "+}\r"]}], "num": 38830}