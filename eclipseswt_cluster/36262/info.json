{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "60f02c2f1bf1d4badb0245debcd64d50", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "346be98428413ddb8e9807d9e45a8daa", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder2.java", "commitBeforeChange": "461f69d95e1525940205ac6d46b7f66dd515a881", "commitAfterChange": "b1f186e4983cbf382bfc5943906e3bd9967996ec", "methodNumberBeforeChange": 99, "methodNumberAfterChange": 99, "signatureBeforeChange": " void showList (Rectangle rect, int alignment)", "signatureAfterChange": " void showList (Rectangle rect, int alignment)", "diff": ["-\tfinal Shell shell = new Shell(getShell(), SWT.BORDER | SWT.ON_TOP);", "-\tshell.setLayout(new FillLayout());", "-\tfinal Table table = new Table(shell, SWT.NONE);", "-//\ttable.setBackground(selectionBackground);", "-//\ttable.setForeground(selectionForeground);", "+\tMenu menu = new Menu(this);", "-\t\tTableItem item = new TableItem(table, SWT.NONE);", "+\t\tMenuItem item = new MenuItem(menu, SWT.NONE);", "-\t}", "-\tif (selectedIndex != -1) {", "-\t\ttable.setSelection(selectedIndex);", "-\t}", "-\tListener listener = new Listener() {", "-\t\tpublic void handleEvent(Event e) {", "-\t\t\tswitch (e.type) {", "-\t\t\t\tcase SWT.FocusOut:", "-\t\t\t\t\tshell.dispose();", "-\t\t\t\t\tbreak;", "-\t\t\t\tcase SWT.DefaultSelection:", "-\t\t\t\tcase SWT.MouseUp:", "-\t\t\t\t\tint index = table.getSelectionIndex();\t\t\t\t\t\t", "-\t\t\t\t\tif (index != -1) {", "-\t\t\t\t\t\tsetSelection(index, true);", "-\t\t\t\t\t\t//setFocus();", "-\t\t\t\t\t}", "-\t\t\t\t\tshell.dispose();", "-\t\t\t\t\tbreak;", "+\t\titem.addSelectionListener(new SelectionAdapter() {", "+\t\t\tpublic void widgetSelected(SelectionEvent e) {", "+\t\t\t\tMenuItem item = (MenuItem)e.widget;", "+\t\t\t\tMenu menu = item.getParent();", "+\t\t\t\tint index = menu.indexOf(item);", "+\t\t\t\tCTabFolder2.this.setSelection(index, true);", "-\t\t}", "-\t};", "-\ttable.addListener(SWT.MouseUp, listener);", "-\ttable.addListener(SWT.DefaultSelection, listener);", "-\ttable.addListener(SWT.FocusOut, listener);", "-\tPoint size = shell.computeSize(SWT.DEFAULT, SWT.DEFAULT);", "-\tRectangle displayRect = getMonitor().getClientArea();", "-\tRectangle clientArea = getClientArea();", "-\tsize.y = Math.min(displayRect.height/3, size.y);", "-\tshell.setSize(size);", "-\tPoint p1 = getDisplay().map(this, null, clientArea.x, clientArea.y);", "-\tPoint p2 = getDisplay().map(this, null, rect.x, rect.y);", "-\tint x = 0, y = 0;", "-\tif (alignment == SWT.LEFT) {", "-\t\tx = p2.x;", "-\t} else { // Left", "-\t\tx = p2.x + rect.width - size.x;", "+\t\t});", "-\tif (x < displayRect.x) x = displayRect.x;", "-\tif (x + size.x > displayRect.x + displayRect.width) x = displayRect.x + displayRect.width - size.x;", "-\tif (onBottom) {", "-\t\ty = p1.y + clientArea.height - size.y;", "-\t\tif (y < displayRect.y) y = p2.y + rect.height;", "-\t} else {", "-\t\ty = p1.y;", "-\t\tif (y + size.y > displayRect.y + displayRect.height) y = p2.y - size.y;", "+\tPoint location = toDisplay(new Point(alignment == SWT.LEFT ? rect.x : rect.x + rect.width, rect.y + rect.height));", "+\tmenu.setLocation(location.x, location.y);", "+\tmenu.setVisible(true);", "+\tDisplay display = getDisplay();", "+\twhile (menu.isVisible()) {", "+\t\tif (!display.readAndDispatch())", "+\t\t\tdisplay.sleep();", "-\tshell.setLocation(x, y);", "-\tshell.open();", "-\ttable.setFocus();", "+\tmenu.dispose();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0228d69e0fcf8d75b0d372c8a8947cfa", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "461f69d95e1525940205ac6d46b7f66dd515a881", "commitAfterChange": "b1f186e4983cbf382bfc5943906e3bd9967996ec", "methodNumberBeforeChange": 99, "methodNumberAfterChange": 99, "signatureBeforeChange": " void showList (Rectangle rect, int alignment)", "signatureAfterChange": " void showList (Rectangle rect, int alignment)", "diff": ["-\tfinal Shell shell = new Shell(getShell(), SWT.BORDER | SWT.ON_TOP);", "-\tshell.setLayout(new FillLayout());", "-\tfinal Table table = new Table(shell, SWT.NONE);", "-//\ttable.setBackground(selectionBackground);", "-//\ttable.setForeground(selectionForeground);", "+\tMenu menu = new Menu(this);", "-\t\tTableItem item = new TableItem(table, SWT.NONE);", "+\t\tMenuItem item = new MenuItem(menu, SWT.NONE);", "-\t}", "-\tif (selectedIndex != -1) {", "-\t\ttable.setSelection(selectedIndex);", "-\t}", "-\tListener listener = new Listener() {", "-\t\tpublic void handleEvent(Event e) {", "-\t\t\tswitch (e.type) {", "-\t\t\t\tcase SWT.FocusOut:", "-\t\t\t\t\tshell.dispose();", "-\t\t\t\t\tbreak;", "-\t\t\t\tcase SWT.DefaultSelection:", "-\t\t\t\tcase SWT.MouseUp:", "-\t\t\t\t\tint index = table.getSelectionIndex();\t\t\t\t\t\t", "-\t\t\t\t\tif (index != -1) {", "-\t\t\t\t\t\tsetSelection(index, true);", "-\t\t\t\t\t\t//setFocus();", "-\t\t\t\t\t}", "-\t\t\t\t\tshell.dispose();", "-\t\t\t\t\tbreak;", "+\t\titem.addSelectionListener(new SelectionAdapter() {", "+\t\t\tpublic void widgetSelected(SelectionEvent e) {", "+\t\t\t\tMenuItem item = (MenuItem)e.widget;", "+\t\t\t\tMenu menu = item.getParent();", "+\t\t\t\tint index = menu.indexOf(item);", "+\t\t\t\tCTabFolder.this.setSelection(index, true);", "-\t\t}", "-\t};", "-\ttable.addListener(SWT.MouseUp, listener);", "-\ttable.addListener(SWT.DefaultSelection, listener);", "-\ttable.addListener(SWT.FocusOut, listener);", "-\tPoint size = shell.computeSize(SWT.DEFAULT, SWT.DEFAULT);", "-\tRectangle displayRect = getMonitor().getClientArea();", "-\tRectangle clientArea = getClientArea();", "-\tsize.y = Math.min(displayRect.height/3, size.y);", "-\tshell.setSize(size);", "-\tPoint p1 = getDisplay().map(this, null, clientArea.x, clientArea.y);", "-\tPoint p2 = getDisplay().map(this, null, rect.x, rect.y);", "-\tint x = 0, y = 0;", "-\tif (alignment == SWT.LEFT) {", "-\t\tx = p2.x;", "-\t} else { // Left", "-\t\tx = p2.x + rect.width - size.x;", "+\t\t});", "-\tif (x < displayRect.x) x = displayRect.x;", "-\tif (x + size.x > displayRect.x + displayRect.width) x = displayRect.x + displayRect.width - size.x;", "-\tif (onBottom) {", "-\t\ty = p1.y + clientArea.height - size.y;", "-\t\tif (y < displayRect.y) y = p2.y + rect.height;", "-\t} else {", "-\t\ty = p1.y;", "-\t\tif (y + size.y > displayRect.y + displayRect.height) y = p2.y - size.y;", "+\tPoint location = toDisplay(new Point(alignment == SWT.LEFT ? rect.x : rect.x + rect.width, rect.y + rect.height));", "+\tmenu.setLocation(location.x, location.y);", "+\tmenu.setVisible(true);", "+\tDisplay display = getDisplay();", "+\twhile (menu.isVisible()) {", "+\t\tif (!display.readAndDispatch())", "+\t\t\tdisplay.sleep();", "-\tshell.setLocation(x, y);", "-\tshell.open();", "-\ttable.setFocus();", "+\tmenu.dispose();"]}], "num": 36262}