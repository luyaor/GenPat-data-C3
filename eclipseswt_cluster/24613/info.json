{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a152a39f217c48b036e2581dc76de675", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7ac97a2fa5a648a035303ad8c7371c6b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "d063aea08192e0213a4b6532b27dc31f9dce6e1b", "commitAfterChange": "48ef0056097e65cbe2f990bf125c93e76b95da33", "methodNumberBeforeChange": 39, "methodNumberAfterChange": 42, "signatureBeforeChange": "  int processSetFocus (Object callData)", "signatureAfterChange": "  void layoutControl ()", "diff": ["+", "+void layoutControl () {", "+\tRect rect = new Rect ();", "+\tOS.GetWindowBounds (shellHandle, (short)  OS.kWindowContentRgn, rect);", "+\tint control = scrolledHandle != 0 ? scrolledHandle : handle;", "+\tsetBounds (control, 0, 0, rect.right - rect.left, rect.bottom - rect.top, false, true, false);", "+\tsuper.layoutControl ();", "+}", "-", "-int processSetFocus (Object callData) {", "-    /* AW", "-\tXFocusChangeEvent xEvent = new XFocusChangeEvent ();", "-\tOS.memmove (xEvent, callData, XFocusChangeEvent.sizeof);", "-\tint handle = OS.XtWindowToWidget (xEvent.display, xEvent.window);", "-\t*/", "-\tint handle = shellHandle; // AW FIXME fake", "-\tif (handle != shellHandle) return super.processSetFocus (callData);", "-\t", "-\t/* AW", "-\tif (xEvent.mode != OS.NotifyNormal) return 0;", "-\tif (xEvent.detail != OS.NotifyNonlinear) return 0;", "-\tswitch (xEvent.type) {", "-\t\tcase OS.FocusIn:", "-\t\t\tpostEvent (SWT.Activate);", "-\t\t\tbreak;", "-\t\tcase OS.FocusOut:", "-\t\t\tpostEvent (SWT.Deactivate);", "-\t\t\tbreak;", "-\t}", "-    */", "-\t\t", "-\tMenu menuBar= getMenuBar();", "-\tBoolean b= (Boolean) callData;", "-\t", "-\t/*", "-\tif (OS.IsWindowActive(shellHandle) != b.booleanValue()) {", "-\t\tSystem.out.println(\"Shell.processSetFocus: \" + b);", "-\t\treturn 0;", "-\t}", "-\t*/", "-\t", "-\tif (b.booleanValue()) {", "-\t\tif (menuBar != null) {", "-\t\t\tOS.SetRootMenu(menuBar.handle);", "-\t\t}", "-\t\tpostEvent (SWT.Activate);", "-\t\t/*", "-\t\tif (!isDisposed())", "-\t\t\trestoreFocus ();", "-\t\t*/", "-\t} else {", "-\t\t//if (menuBar != null)", "-\t\t//\tOS.ReleaseMenu(menuBar.handle);", "-\t\t", "-\t\t/*", "-\t\tsetActiveControl (null);", "-\t\t", "-\t\tif (isDisposed()) return 0;", "-\t\t*/", "-\t\tpostEvent (SWT.Deactivate);", "-\t\t/*", "-\t\tif (!isDisposed())", "-\t\t\tsaveFocus ();", "-\t\t*/", "-\t}", "-\treturn 0;", "-}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7ad9925011079a463356542accaef029", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "f42c053356303e47bc6d7d2682ada8c7675ed0fc", "commitAfterChange": "e37c5d247d99282f597655a55a69f15eb55de4d4", "methodNumberBeforeChange": 39, "methodNumberAfterChange": 60, "signatureBeforeChange": "\r \r int processSetFocus (int callData)", "signatureAfterChange": "\r int XFocusChange (int w, int client_data, int call_data, int continue_to_dispatch)", "diff": ["-\r", "-int processSetFocus (int callData) {\r", "-\tXFocusChangeEvent xEvent = new XFocusChangeEvent ();\r", "-\tOS.memmove (xEvent, callData, XFocusChangeEvent.sizeof);\r", "-\tint handle = OS.XtWindowToWidget (xEvent.display, xEvent.window);\r", "-\tif (handle != shellHandle) return super.processSetFocus (callData);\r", "-\tif (xEvent.mode != OS.NotifyNormal) return 0;\r", "-\tswitch (xEvent.detail) {\r", "-\t\tcase OS.NotifyNonlinear:\r", "-\t\tcase OS.NotifyNonlinearVirtual: {\r", "-\t\t\tswitch (xEvent.type) {\r", "-\t\t\t\tcase OS.FocusIn: \r", "-\t\t\t\t\tpostEvent (SWT.Activate);\r", "-\t\t\t\t\tbreak;\r", "-\t\t\t\tcase OS.FocusOut:\r", "-\t\t\t\t\tpostEvent (SWT.Deactivate);\r", "-\t\t\t\t\tbreak;\r", "-\t\t\t}\r", "-\t\t}\r", "-\t}\r", "-\treturn 0;\r", "+int XFocusChange (int w, int client_data, int call_data, int continue_to_dispatch) {\r", "+\tXFocusChangeEvent xEvent = new XFocusChangeEvent ();\r", "+\tOS.memmove (xEvent, call_data, XFocusChangeEvent.sizeof);\r", "+\tint handle = OS.XtWindowToWidget (xEvent.display, xEvent.window);\r", "+\tif (handle != shellHandle) return super.XFocusChange (w, client_data, call_data, continue_to_dispatch);\r", "+\tif (xEvent.mode != OS.NotifyNormal) return 0;\r", "+\tswitch (xEvent.detail) {\r", "+\t\tcase OS.NotifyNonlinear:\r", "+\t\tcase OS.NotifyNonlinearVirtual: {\r", "+\t\t\tswitch (xEvent.type) {\r", "+\t\t\t\tcase OS.FocusIn: \r", "+\t\t\t\t\tpostEvent (SWT.Activate);\r", "+\t\t\t\t\tbreak;\r", "+\t\t\t\tcase OS.FocusOut:\r", "+\t\t\t\t\tpostEvent (SWT.Deactivate);\r", "+\t\t\t\t\tbreak;\r", "+\t\t\t}\r", "+\t\t}\r", "+\t}\r", "+\treturn 0;\r", "+}\r"]}], "num": 24613}