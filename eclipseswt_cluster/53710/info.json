{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "bb209d898d8fb1d82e3ee4d94663214a", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ddec6e0d0572497c92d22f5eb284b551", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Program/gtk/org/eclipse/swt/program/Program.java", "commitBeforeChange": "31d0622ae5f0aaeab4f73c52677b1f743494c824", "commitAfterChange": "7a67a43071d4868b77d14e6e1a4a8b1c56cc6ca0", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "  private static boolean isGnomeDesktop(Display display)", "signatureAfterChange": "  private static boolean isGnomeDesktop()", "diff": ["-private static boolean isGnomeDesktop(Display display) {", "-\t/* disabled */", "-\treturn false;", "+private static boolean isGnomeDesktop() {", "-\tbyte[] name = Converter.wcsToMbcs(null, \"_WIN_SUPPORTING_WM_CHECK\", true);", "-\tint atome_set = OS.gdk_atom_intern(name, true);", "-\treturn atome_set != 0;", "+\t* Bug in GTK.   gdk_atom_intern() ignores the only_if_exists", "+\t* argument.   It always creates a new atom if the requested", "+\t* one does not exist.  The workaround is to directly call", "+\t* XInternAtom(). ", "+\t* Note.  This introduces a dependency on X which is", "+\t* unwanted on GTK ports to non X platforms.  ", "+\tint display = OS.GDK_DISPLAY();", "+\tbyte[] name = Converter.wcsToMbcs(null, \"_WIN_SUPPORTING_WM_CHECK\", true);", "+\tint atom = OS.XInternAtom(display, name, true);", "+\treturn atom != OS.None;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "227bf04f3f3f7b3b08bf37d65f6dc014", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Program/motif/org/eclipse/swt/program/Program.java", "commitBeforeChange": "6215640175ccfe897f3840a8201a886b754fe47e", "commitAfterChange": "45ceafadc60325534082e286f4aafee627d1de0d", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 8, "signatureBeforeChange": "   static String gnome_getDataDirectory(String dirName)", "signatureAfterChange": "   private static boolean isGnomeDesktop(Display display)", "diff": ["+", "+private static boolean isGnomeDesktop(Display display) {", "+\tint xDisplay = display.xDisplay;", "+\tbyte[] name = Converter.wcsToMbcs(null, \"_WIN_SUPPORTING_WM_CHECK\", true);", "+\tint atom_set = OS.XInternAtom(xDisplay, name, true);", "+\treturn atom_set != OS.None;", "+}", "-", "-static String gnome_getDataDirectory(String dirName) {", "-\t/* Use the character encoding for the default locale */", "-\tbyte [] nameBuffer = Converter.wcsToMbcs (null, dirName, true);", "-\tint ptr = GNOME.gnome_datadir_file(nameBuffer);", "-\tif (ptr == 0) return null;", "-\tint length = OS.strlen(ptr);", "-\tbyte[] dirBuffer = new byte[length];", "-\tOS.memmove(dirBuffer, ptr, length);", "-\t/* Use the character encoding for the default locale */", "-\treturn new String(Converter.mbcsToWcs(null, dirBuffer));", "-}"]}], "num": 53710}