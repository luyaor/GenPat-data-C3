{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "16206d0ba39048e735880c565bdc3e65", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9d78afe57516906a69e4cb8795ada6d5", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/wpf/org/eclipse/swt/widgets/TableItem.java", "commitBeforeChange": "73afbc11d644f3a6a19b56b1895d8f85e15587c1", "commitAfterChange": "c49ba6cb6492cb93eb51d880dd4bc2efa218d7e5", "methodNumberBeforeChange": 29, "methodNumberAfterChange": 29, "signatureBeforeChange": " public Rectangle getTextBounds (int index)", "signatureAfterChange": " public Rectangle getTextBounds (int index)", "diff": ["-\tint parentHandle = parent.topHandle ();", "-\tint part = findPart (index, Table.TEXT_PART_NAME);", "+\tint parentHandle = parent.topHandle (); ", "-\tint location = OS.UIElement_TranslatePoint (part, point, parentHandle);", "-\tint x = (int) OS.Point_X (location);", "-\tint y = (int) OS.Point_Y (location);", "+\tint textBlock = findPart (index, Table.TEXT_PART_NAME);", "+\tint renderPanel = findPart (index, Table.RENDER_PANEL_NAME);", "+\tRectangle result = new Rectangle (0, 0, 0, 0);", "+\tif (textBlock != 0 && renderPanel != 0) {", "+\t\tint location = OS.UIElement_TranslatePoint (textBlock, point, parentHandle);", "+\t\tint x = (int) OS.Point_X (location);", "+\t\tint y = (int) OS.Point_Y (location);", "+\t\tOS.GCHandle_Free (location);", "+\t\tdouble textWidth = OS.FrameworkElement_ActualWidth (textBlock);", "+\t\tint panelLocation = OS.UIElement_TranslatePoint (textBlock, point, renderPanel);", "+\t\tdouble visibleWidth = Math.max (0, OS.FrameworkElement_ActualWidth (renderPanel) - OS.Point_X (panelLocation));", "+\t\tOS.GCHandle_Free (panelLocation);", "+\t\tint width = (int) Math.min (textWidth, visibleWidth);", "+\t\tint height = (int) OS.FrameworkElement_ActualHeight (textBlock);", "+\t\tresult = new Rectangle (x, y, width, height);", "+\t}", "-\tOS.GCHandle_Free (location);", "-\tint width = (int) OS.FrameworkElement_ActualWidth (part);", "-\tint height = (int) OS.FrameworkElement_ActualHeight (part);", "-\tOS.GCHandle_Free (part);", "-\treturn new Rectangle (x, y, width, height);", "+\tif (textBlock != 0) OS.GCHandle_Free (textBlock);", "+\tif (renderPanel != 0) OS.GCHandle_Free (renderPanel);", "+\treturn result;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7832c70ca696e335df389bce60a0172b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/wpf/org/eclipse/swt/widgets/TreeItem.java", "commitBeforeChange": "73afbc11d644f3a6a19b56b1895d8f85e15587c1", "commitAfterChange": "c49ba6cb6492cb93eb51d880dd4bc2efa218d7e5", "methodNumberBeforeChange": 38, "methodNumberAfterChange": 38, "signatureBeforeChange": " public Rectangle getTextBounds (int index)", "signatureAfterChange": " public Rectangle getTextBounds (int index)", "diff": ["-\tint part = findPart (index, Tree.TEXT_PART_NAME);", "-\tint location = OS.UIElement_TranslatePoint (part, point, parentHandle);", "-\tint x = (int) OS.Point_X (location);", "-\tint y = (int) OS.Point_Y (location);", "+\tint textBlock = findPart (index, Tree.TEXT_PART_NAME);", "+\tint renderPanel = findPart (index, Table.RENDER_PANEL_NAME);", "+\tRectangle result = new Rectangle (0, 0, 0, 0);", "+\tif (textBlock != 0 && renderPanel != 0) {", "+\t\tint location = OS.UIElement_TranslatePoint (textBlock, point, parentHandle);", "+\t\tint x = (int) OS.Point_X (location);", "+\t\tint y = (int) OS.Point_Y (location);", "+\t\tOS.GCHandle_Free (location);", "+\t\tdouble textWidth = OS.FrameworkElement_ActualWidth (textBlock);", "+\t\tint panelLocation = OS.UIElement_TranslatePoint (textBlock, point, renderPanel);", "+\t\tdouble visibleWidth = Math.max (0, OS.FrameworkElement_ActualWidth (renderPanel) - OS.Point_X (panelLocation));", "+\t\tOS.GCHandle_Free (panelLocation);", "+\t\tint width = (int) Math.min (textWidth, visibleWidth);", "+\t\tint height = (int) OS.FrameworkElement_ActualHeight (textBlock);", "+\t\tresult = new Rectangle (x, y, width, height);", "+\t}", "-\tOS.GCHandle_Free (location);", "-\tint width = (int) OS.FrameworkElement_ActualWidth (part);", "-\tint height = (int) OS.FrameworkElement_ActualHeight (part);", "-\tOS.GCHandle_Free (part);", "-\treturn new Rectangle (x, y, width, height);", "+\tif (textBlock != 0) OS.GCHandle_Free (textBlock);", "+\tif (renderPanel != 0) OS.GCHandle_Free (renderPanel);", "+\treturn result;"]}], "num": 46364}