{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "005e1b6259be39b5a86a0e722da8d9cd", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4885abda5be66a9d36371b6bbfb44729", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "0bcce8701fee7076e5f1dd2db6410f49b6638dae", "commitAfterChange": "bd48e2b84a6482ec594a06a3c3531b924107c392", "methodNumberBeforeChange": 96, "methodNumberAfterChange": 96, "signatureBeforeChange": "\r void doLineEnd()", "signatureAfterChange": "\r void doLineEnd()", "diff": ["-\tint line = content.getLineAtOffset(caretOffset);\r", "-\tint lineOffset = content.getOffsetAtLine(line);\t\r", "-\tint lineLength = content.getLine(line).length();\r", "+\tint caretLine = getCaretLine();\r", "+\tint lineOffset = content.getOffsetAtLine(caretLine);\t\r", "+\tint lineLength = content.getLine(caretLine).length();\r", "-\tif (wordWrap && line != caretLine) {\r", "-\t\t// caret is at the start of a visual line\r", "-\t\tlineEndOffset = content.getOffsetAtLine(caretLine) + content.getLine(caretLine).length();\r", "-\t}\t\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3fc7079ca4f5d2a7f0ef3dc7a603a45e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "d636f4503e6c6894569c1f5530b46b3e87886345", "commitAfterChange": "d2bd83a1a061070b632f8cef24791707051becdb", "methodNumberBeforeChange": 231, "methodNumberAfterChange": 241, "signatureBeforeChange": "\r public void setStyleRanges(StyleRange[] ranges)", "signatureAfterChange": "\r public void setStyleRanges(StyleRange[] ranges)", "diff": ["-\t\tif (last.start + last.length > content.getCharCount()) {\r", "+ \t\tint lastEnd = last.start + last.length;\r", "+\t\tint firstLine = content.getLineAtOffset(ranges[0].start);\r", "+\t\tint lastLine;\r", "+\r", "+\t\tif (lastEnd > content.getCharCount()) {\r", "+\t\tlastLine = content.getLineAtOffset(lastEnd);\r", "+\t\t// reset all lines affected by the style change\r", "+\t\tcontentWidth.reset(firstLine, lastLine - firstLine);\r", "+ \t}\r", "+ \telse {\r", "+\t\t// reset all lines\r", "+\t\tcontentWidth.reset(0, content.getLineCount());\r"]}], "num": 35086}