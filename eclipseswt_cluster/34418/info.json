{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f488bd933afa1eacfb52b3193b427802", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4193dee46d320ca5718844953be4500d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt.tools/Mac Generation/org/eclipse/swt/tools/internal/DOMWriter.java", "commitBeforeChange": "8ed739aeb6bdf363f7b0e5c8d1e2c8f2b47241eb", "commitAfterChange": "37dd049635a9e27d1a8ac8a9fdb6deee1a837896", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 5, "signatureBeforeChange": "\r\r\tpublic void print(Node node)", "signatureAfterChange": "\r\t\r\tpublic void print(Node node, int level)", "diff": ["-/*******************************************************************************\r * Copyright (c) 2008 IBM Corporation and others.\r * All rights reserved. This program and the accompanying materials\r * are made available under the terms of the Eclipse Public License v1.0\r * which accompanies this distribution, and is available at\r * http://www.eclipse.org/legal/epl-v10.html\r *\r * Contributors:\r *     IBM Corporation - initial API and implementation\r *******************************************************************************/\rpackage org.eclipse.swt.tools.internal;\r\rimport java.io.PrintStream;\rimport java.util.Arrays;\rimport java.util.Comparator;\r\rimport org.w3c.dom.Attr;\rimport org.w3c.dom.Document;\rimport org.w3c.dom.NamedNodeMap;\rimport org.w3c.dom.Node;\rimport org.w3c.dom.NodeList;\r\rpublic class DOMWriter {\r\r\tstatic String ENCONDING = \"UTF8\";\r\tPrintStream out;\r\tboolean canonical;\r\r\tpublic DOMWriter(PrintStream out, boolean canonical) {\r\t\tthis.out = new PrintStream(out);\r\t\tthis.canonical = canonical;\r\t}\r\r\tString nodeName(Node node) {\r\t\t// TODO use getLocalName()?\r\t\treturn node.getNodeName();\r\t}\r\t\r\tvoid print(String str) {\r\t\tout.print(str);\r\t}\r\tvoid println() {\r\t\tout.println();\r\t}\r\r\tpublic void print(Node node) {\r\t\tif (node == null)\r\t\t\treturn;\r\t\tint type = node.getNodeType();\r\t\tswitch (type) {\r\t\t\tcase Node.DOCUMENT_NODE: {\r\t\t\t\tif (!canonical) {\r\t\t\t\t\tString Encoding = ENCONDING;\r\t\t\t\t\tprint(\"<?xml version=\\\"1.0\\\" encoding=\\\"\");\r\t\t\t\t\tprint(Encoding);\r\t\t\t\t\tprint(\"\\\"?>\");\r\t\t\t\t\tprintln();\r\t\t\t\t}\r\t\t\t\tprint(((Document) node).getDocumentElement());\r\t\t\t\tout.flush();\r\t\t\t\tbreak;\r\t\t\t}\r\t\t\tcase Node.ELEMENT_NODE: {\r\t\t\t\tprint(\"<\");\r\t\t\t\tprint(nodeName(node));\r\t\t\t\tAttr attrs[] = sort(node.getAttributes());\r\t\t\t\tfor (int i = 0; i < attrs.length; i++) {\r\t\t\t\t\tAttr attr = attrs[i];\r\t\t\t\t\tprint(\" \");\r\t\t\t\t\tprint(nodeName(attr));\r\t\t\t\t\tprint(\"=\\\"\");\r\t\t\t\t\tprint(normalize(attr.getNodeValue()));\r\t\t\t\t\tprint(\"\\\"\");\r\t\t\t\t}\r\t\t\t\tprint(\">\");\r\t\t\t\tNodeList children = node.getChildNodes();\r\t\t\t\tif (children != null) {\r\t\t\t\t\tint len = children.getLength();\r\t\t\t\t\tfor (int i = 0; i < len; i++) {\r\t\t\t\t\t\tprint(children.item(i));\r\t\t\t\t\t}\r\t\t\t\t}\r\t\t\t\tbreak;\r\t\t\t}\r\t\t\tcase Node.ENTITY_REFERENCE_NODE: {\r\t\t\t\tif (canonical) {\r\t\t\t\t\tNodeList children = node.getChildNodes();\r\t\t\t\t\tif (children != null) {\r\t\t\t\t\t\tint len = children.getLength();\r\t\t\t\t\t\tfor (int i = 0; i < len; i++) {\r\t\t\t\t\t\t\tprint(children.item(i));\r\t\t\t\t\t\t}\r\t\t\t\t\t}\r\t\t\t\t} else {\r\t\t\t\t\tprint(\"&\");\r\t\t\t\t\tprint(nodeName(node));\r\t\t\t\t\tprint(\";\");\r\t\t\t\t}\r\t\t\t\tbreak;\r\t\t\t}\r\t\t\tcase Node.CDATA_SECTION_NODE: {\r\t\t\t\tif (canonical) {\r\t\t\t\t\tprint(normalize(node.getNodeValue()));\r\t\t\t\t} else {\r\t\t\t\t\tprint(\"<![CDATA[\");\r\t\t\t\t\tprint(node.getNodeValue());\r\t\t\t\t\tprint(\"]]>\");\r\t\t\t\t}\r\t\t\t\tbreak;\r\t\t\t}\r\t\t\tcase Node.TEXT_NODE: {\r\t\t\t\tprint(normalize(node.getNodeValue()));\r\t\t\t\tbreak;\r\t\t\t}\r\t\t\tcase Node.PROCESSING_INSTRUCTION_NODE: {\r\t\t\t\tprint(\"<?\");\r\t\t\t\tprint(nodeName(node));\r\t\t\t\tString data = node.getNodeValue();\r\t\t\t\tif (data != null && data.length() > 0) {\r\t\t\t\t\tprint(\" \");\r\t\t\t\t\tprint(data);\r\t\t\t\t}\r\t\t\t\tprint(\"?>\");\r\t\t\t\tbreak;\r\t\t\t}\r\t\t}\r\t\tif (type == Node.ELEMENT_NODE) {\r\t\t\tprint(\"</\");\r\t\t\tprint(nodeName(node));\r\t\t\tprint(\">\");\r\t\t}\r\t\tout.flush();\r\t}\r\r\tAttr[] sort(NamedNodeMap attrs) {\r\t\tif (attrs == null)\r\t\t\treturn new Attr[0];\r\t\tAttr result[] = new Attr[attrs.getLength()];\r\t\tfor (int i = 0; i < result.length; i++) {\r\t\t\tresult[i] = (Attr) attrs.item(i);\r\t\t}\r\t\tArrays.sort(result, new Comparator() {\r\t\t\tpublic int compare(Object arg0, Object arg1) {\r\t\t\t\treturn nodeName((Node) arg0).compareTo(nodeName((Node) arg1));\r\t\t\t}\r\t\t});\r\t\treturn result;\r\t}\r\r\tString normalize(String s) {\r\t\tif (s == null) return \"\";\r\t\tStringBuffer str = new StringBuffer();\r\t\tfor (int i = 0, length = s.length(); i < length; i++) {\r\t\t\tchar ch = s.charAt(i);\r\t\t\tswitch (ch) {\r\t\t\t\tcase '\"': str.append(\"\\\"\"); break;\r\t\t\t\tcase '\\r':\r\t\t\t\tcase '\\n':\r\t\t\t\t\tif (canonical) {\r\t\t\t\t\t\tstr.append(\"&#\");\r\t\t\t\t\t\tstr.append(Integer.toString(ch));\r\t\t\t\t\t\tstr.append(';');\r\t\t\t\t\t\tbreak;\r\t\t\t\t\t}\r\t\t\t\t\t// FALL THROUGH\r\t\t\t\tdefault: str.append(ch);\r\t\t\t}\r\t\t}\r\t\treturn str.toString();\r\t}\r}", "\\ No newline at end of file", "+/*******************************************************************************\r * Copyright (c) 2008 IBM Corporation and others.\r * All rights reserved. This program and the accompanying materials\r * are made available under the terms of the Eclipse Public License v1.0\r * which accompanies this distribution, and is available at\r * http://www.eclipse.org/legal/epl-v10.html\r *\r * Contributors:\r *     IBM Corporation - initial API and implementation\r *******************************************************************************/\rpackage org.eclipse.swt.tools.internal;\r\rimport java.io.PrintStream;\rimport java.util.Arrays;\rimport java.util.Comparator;\r\rimport org.w3c.dom.Attr;\rimport org.w3c.dom.Document;\rimport org.w3c.dom.NamedNodeMap;\rimport org.w3c.dom.Node;\rimport org.w3c.dom.NodeList;\r\rpublic class DOMWriter {\r\r\tstatic String ENCONDING = \"UTF8\";\r\tPrintStream out;\r\tboolean canonical, pretty = true;\r\r\tpublic DOMWriter(PrintStream out, boolean canonical) {\r\t\tthis.out = new PrintStream(out);\r\t\tthis.canonical = canonical;\r\t}\r\r\tString nodeName(Node node) {\r\t\t// TODO use getLocalName()?\r\t\treturn node.getNodeName();\r\t}\r\t\r\tvoid print(String str) {\r\t\tout.print(str);\r\t}\r\tvoid println() {\r\t\tout.println();\r\t}\r\r\tpublic void print(Node node) {\r\t\tprint(node, 0);\r\t}\r\t\r\tpublic void print(Node node, int level) {\r\t\tif (node == null)\r\t\t\treturn;\r\t\tint type = node.getNodeType();\r\t\tswitch (type) {\r\t\t\tcase Node.DOCUMENT_NODE: {\r\t\t\t\tif (!canonical) {\r\t\t\t\t\tprint(\"<?xml version=\\\"1.0\\\" encoding=\\\"\");\r\t\t\t\t\tprint(ENCONDING);\r\t\t\t\t\tprint(\"\\\"?>\");\r\t\t\t\t\tprintln();\r\t\t\t\t}\r\t\t\t\tprint(((Document) node).getDocumentElement());\r\t\t\t\tout.flush();\r\t\t\t\tbreak;\r\t\t\t}\r\t\t\tcase Node.ELEMENT_NODE: {\r\t\t\t\tif (!canonical && pretty) {\r\t\t\t\t\tprintln();\r\t\t\t\t\tfor (int i = 0; i < level; i++) print(\"\\t\");\r\t\t\t\t}\r\t\t\t\tprint(\"<\");\r\t\t\t\tprint(nodeName(node));\r\t\t\t\tAttr attrs[] = sort(node.getAttributes());\r\t\t\t\tfor (int i = 0; i < attrs.length; i++) {\r\t\t\t\t\tAttr attr = attrs[i];\r\t\t\t\t\tprint(\" \");\r\t\t\t\t\tprint(nodeName(attr));\r\t\t\t\t\tprint(\"=\\\"\");\r\t\t\t\t\tprint(normalize(attr.getNodeValue()));\r\t\t\t\t\tprint(\"\\\"\");\r\t\t\t\t}\r\t\t\t\tprint(\">\");\r\t\t\t\tNodeList children = node.getChildNodes();\r\t\t\t\tif (children != null) {\r\t\t\t\t\tint len = children.getLength();\r\t\t\t\t\tfor (int i = 0; i < len; i++) {\r\t\t\t\t\t\tprint(children.item(i), level + 1);\r\t\t\t\t\t}\r\t\t\t\t}\r\t\t\t\tbreak;\r\t\t\t}\r\t\t\tcase Node.ENTITY_REFERENCE_NODE: {\r\t\t\t\tif (canonical) {\r\t\t\t\t\tNodeList children = node.getChildNodes();\r\t\t\t\t\tif (children != null) {\r\t\t\t\t\t\tint len = children.getLength();\r\t\t\t\t\t\tfor (int i = 0; i < len; i++) {\r\t\t\t\t\t\t\tprint(children.item(i), level + 1);\r\t\t\t\t\t\t}\r\t\t\t\t\t}\r\t\t\t\t} else {\r\t\t\t\t\tprint(\"&\");\r\t\t\t\t\tprint(nodeName(node));\r\t\t\t\t\tprint(\";\");\r\t\t\t\t}\r\t\t\t\tbreak;\r\t\t\t}\r\t\t\tcase Node.CDATA_SECTION_NODE: {\r\t\t\t\tif (canonical) {\r\t\t\t\t\tprint(normalize(node.getNodeValue()));\r\t\t\t\t} else {\r\t\t\t\t\tprint(\"<![CDATA[\");\r\t\t\t\t\tprint(node.getNodeValue());\r\t\t\t\t\tprint(\"]]>\");\r\t\t\t\t}\r\t\t\t\tbreak;\r\t\t\t}\r\t\t\tcase Node.TEXT_NODE: {\r\t\t\t\tprint(normalize(node.getNodeValue()));\r\t\t\t\tbreak;\r\t\t\t}\r\t\t\tcase Node.PROCESSING_INSTRUCTION_NODE: {\r\t\t\t\tprint(\"<?\");\r\t\t\t\tprint(nodeName(node));\r\t\t\t\tString data = node.getNodeValue();\r\t\t\t\tif (data != null && data.length() > 0) {\r\t\t\t\t\tprint(\" \");\r\t\t\t\t\tprint(data);\r\t\t\t\t}\r\t\t\t\tprint(\"?>\");\r\t\t\t\tbreak;\r\t\t\t}\r\t\t}\r\t\tif (type == Node.ELEMENT_NODE) {\r\t\t\tif (!canonical && pretty) {\r\t\t\t\tif (node.getChildNodes().getLength() > 0) {\r\t\t\t\t\tprintln();\r\t\t\t\t\tfor (int i = 0; i < level; i++) print(\"\\t\");\r\t\t\t\t}\t\t\t\t\r\t\t\t}\r\t\t\tprint(\"</\");\r\t\t\tprint(nodeName(node));\r\t\t\tprint(\">\");\r\t\t}\r\t\tout.flush();\r\t}\r\r\tAttr[] sort(NamedNodeMap attrs) {\r\t\tif (attrs == null)\r\t\t\treturn new Attr[0];\r\t\tAttr result[] = new Attr[attrs.getLength()];\r\t\tfor (int i = 0; i < result.length; i++) {\r\t\t\tresult[i] = (Attr) attrs.item(i);\r\t\t}\r\t\tArrays.sort(result, new Comparator() {\r\t\t\tpublic int compare(Object arg0, Object arg1) {\r\t\t\t\treturn nodeName((Node) arg0).compareTo(nodeName((Node) arg1));\r\t\t\t}\r\t\t});\r\t\treturn result;\r\t}\r\r\tString normalize(String s) {\r\t\tif (s == null) return \"\";\r\t\tStringBuffer str = new StringBuffer();\r\t\tfor (int i = 0, length = s.length(); i < length; i++) {\r\t\t\tchar ch = s.charAt(i);\r\t\t\tswitch (ch) {\r\t\t\t\tcase '\"': str.append(\"\\\"\"); break;\r\t\t\t\tcase '\\r':\r\t\t\t\tcase '\\n':\r\t\t\t\t\tif (canonical) {\r\t\t\t\t\t\tstr.append(\"&#\");\r\t\t\t\t\t\tstr.append(Integer.toString(ch));\r\t\t\t\t\t\tstr.append(';');\r\t\t\t\t\t\tbreak;\r\t\t\t\t\t}\r\t\t\t\t\t// FALL THROUGH\r\t\t\t\tdefault: str.append(ch);\r\t\t\t}\r\t\t}\r\t\treturn str.toString();\r\t}\r}", "\\ No newline at end of file"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c8d4aa8972a8e298fea151176a036990", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Tree2.java", "commitBeforeChange": "780deeed6b8d04c7f8256f57ee4b8ba670998a62", "commitAfterChange": "f6545bdd05853b79e0ef79ea07a3cd61ab49eba2", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 22, "signatureBeforeChange": "\r \r int imageIndex (Image image)", "signatureAfterChange": "\r \r void releaseItems (TreeItem2 [] nodes)", "diff": ["-\t/* AW\r", "-\t*/\r", "-\treturn 0;\r", "+void releaseItems (TreeItem2 [] nodes /*, TVITEM tvItem */) {\r", "+\t\t\treleaseItems (sons /*, tvItem */);\r", "+\t\t/* AW\r", "+\t\t*/\r", "+\t\t\t/* AW\r", "+\t\t\t*/\r", "+\t\t\titems [hItem - FIRST_ROW_ID] = null;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "38e3402eaa18505f6a7d3682c2f103bf", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt.tools/JNI Generation/org/eclipse/swt/tools/internal/NativesGenerator.java", "commitBeforeChange": "d7b73d46c22502d651b01475d699f2c79498b0d0", "commitAfterChange": "b9867f0b90962f343a200b905e642393e214faf1", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 2, "signatureBeforeChange": "  public void generate(Class clazz)", "signatureAfterChange": "  public void generate(Class clazz)", "diff": ["-\tClassData classData = getMetaData().getMetaData(clazz);", "-\tif (classData.getFlag(\"no_gen\")) return;", "-\tgenerateMetaData(\"swt_copyright\");", "-\tgenerateMetaData(\"swt_includes\");", "-\tisCPP = classData.getFlag(\"cpp\");", "+\tMethod[] methods = clazz.getDeclaredMethods();", "+\tint i = 0;", "+\tfor (; i < methods.length; i++) {", "+\t\tMethod method = methods[i];", "+\t\tif ((method.getModifiers() & Modifier.NATIVE) != 0) break;", "+\t}", "+\tif (i == methods.length) return;", "+\tsort(methods);", "-\tMethod[] methods = clazz.getDeclaredMethods();", "-\tsort(methods);"]}], "num": 34418}