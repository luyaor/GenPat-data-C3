{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "042eb7b1f9a966e69482f99539780a58", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1d0596f5ef734ca909e773ecfa1affdd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/graphics/Cursor.java", "commitBeforeChange": "ef785e65c5666e705660b195ef7d2da7b6c1f35c", "commitAfterChange": "1571b21a3b1e60f5ff0c7a9bc19396983f515d5e", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " public Cursor (Device device, ImageData source, ImageData mask, int hotspotX, int hotspotY)", "signatureAfterChange": " public Cursor (Device device, ImageData source, ImageData mask, int hotspotX, int hotspotY)", "diff": ["-\t/* Swap the bits if necessary */", "-\t/*", "-\t * Make sure the source is padded properly. Unix requires icon sources", "-\t * to have a scanline pad of 1.", "-\t */", "-\tif (source.scanlinePad != 1) {", "-\t\tint bytesPerLine = (source.width + 7) / 8;", "-\t\tbyte[] newSourceData = new byte[bytesPerLine * source.height];", "-\t\tImageData newSource = new ImageData(source.width, source.height, 1, source.palette, 1, newSourceData);", "-\t\tint[] sourcePixels = new int[source.width];", "-\t\tfor (int y = 0; y < source.height; y++) {", "-\t\t\tsource.getPixels(0, y, source.width, sourcePixels, 0);", "-\t\t\tnewSource.setPixels(0, y, newSource.width, sourcePixels, 0);", "-\t\t}", "-\t\tsource = newSource;", "-\t}", "-\t/* Swap the bits in each byte */", "+\t/* Swap the bits in each byte and convert scanline pad to 2 */", "-\t/*", "-\t * Make sure the mask is padded properly. Unix requires icon masks", "-\t * to have a scanline pad of 1.", "-\t */", "-\tif (mask.scanlinePad != 1) {", "-\t\tint bytesPerLine = (mask.width + 7) / 8;", "-\t\tbyte[] newMaskData = new byte[bytesPerLine * mask.height];", "-\t\tImageData newMask = new ImageData(mask.width, mask.height, 1, mask.palette, 1, newMaskData);", "-\t\tint[] maskPixels = new int[mask.width];", "-\t\tfor (int y = 0; y < mask.height; y++) {", "-\t\t\tmask.getPixels(0, y, mask.width, maskPixels, 0);", "-\t\t\tnewMask.setPixels(0, y, newMask.width, maskPixels, 0);", "-\t\t}", "-\t\tmask = newMask;", "-\t}", "+\tsourceData = ImageData.convertPad(sourceData, source.width, source.height, source.depth, source.scanlinePad, 2);", "+\tmaskData = ImageData.convertPad(maskData, mask.width, mask.height, mask.depth, mask.scanlinePad, 2);", "+\t/* Create bitmaps */"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ee2f46ef6c7d56978f2f173b1d4947b8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/Cursor.java", "commitBeforeChange": "1571b21a3b1e60f5ff0c7a9bc19396983f515d5e", "commitAfterChange": "d58fca053bfd8af0ab62017d6a7317d79cadaca3", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " public Cursor(Device device, ImageData source, ImageData mask, int hotspotX, int hotspotY)", "signatureAfterChange": " public Cursor(Device device, ImageData source, ImageData mask, int hotspotX, int hotspotY)", "diff": ["-\t/* Swap the bits if necessary */", "+\t/* Swap the bits in each byte and convert scanline pad to 2 */", "-\t/*", "-\t * Make sure the source is padded properly. Unix requires icon sources", "-\t * to have a scanline pad of 1.", "-\t */", "-\tif (source.scanlinePad != 1) {", "-\t\tint bytesPerLine = (source.width + 7) / 8;", "-\t\tbyte[] newSourceData = new byte[bytesPerLine * source.height];", "-\t\tImageData newSource = new ImageData(source.width, source.height, 1, source.palette, 1, newSourceData);", "-\t\tint[] sourcePixels = new int[source.width];", "-\t\tfor (int y = 0; y < source.height; y++) {", "-\t\t\tsource.getPixels(0, y, source.width, sourcePixels, 0);", "-\t\t\tnewSource.setPixels(0, y, newSource.width, sourcePixels, 0);", "-\t\t}", "-\t\tsource = newSource;", "-\t}", "-\t/* Swap the bits in each byte */", "-\t/*", "-\t * Make sure the mask is padded properly. Unix requires icon masks", "-\t * to have a scanline pad of 1.", "-\t */", "-\tif (mask.scanlinePad != 1) {", "-\t\tint bytesPerLine = (mask.width + 7) / 8;", "-\t\tbyte[] newMaskData = new byte[bytesPerLine * mask.height];", "-\t\tImageData newMask = new ImageData(mask.width, mask.height, 1, mask.palette, 1, newMaskData);", "-\t\tint[] maskPixels = new int[mask.width];", "-\t\tfor (int y = 0; y < mask.height; y++) {", "-\t\t\tmask.getPixels(0, y, mask.width, maskPixels, 0);", "-\t\t\tnewMask.setPixels(0, y, newMask.width, maskPixels, 0);", "-\t\t}", "-\t\tmask = newMask;", "-\t}", "+\tsourceData = ImageData.convertPad(sourceData, source.width, source.height, source.depth, source.scanlinePad, 2);", "+\tmaskData = ImageData.convertPad(maskData, mask.width, mask.height, mask.depth, mask.scanlinePad, 2);", "+\t/* Create bitmaps */", "-\tforeground.red = 0;", "-\tforeground.green = 0;", "-\tforeground.blue = 0;", "+"]}], "num": 32178}