{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b80594c78b14e8daedcb70e454a6e83c", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "763e3f44dac1460f8953a17246ed9dab", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "tests/org.eclipse.swt.tests/JUnit Tests/org/eclipse/swt/tests/junit/performance/Test_org_eclipse_swt_graphics_Region.java", "commitBeforeChange": "f96a08824309f410a2ad72d1c8d4c3602e7d7b80", "commitAfterChange": "a0435f6f76ed9cee36c44c9344ae544a477c7cda", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "  public void test_dispose()", "signatureAfterChange": "  public void test_dispose()", "diff": ["-\tfinal int COUNT = 9000;\t// 10000 causes No More Handles error", "-\t", "-\tRegion[] regions = new Region [COUNT];", "-\tfor (int i = 0; i < COUNT; i++) {", "-\t\tregions[i] = new Region(display);", "-\t\tregions[i].add(new Rectangle(i, i, i+5, i+5));", "-\t}", "-\t", "-\tPerformanceMeter meter = createMeter(\"Region dispose - typical\");", "-\tmeter.start();", "-\tfor (int i = 0; i < COUNT; i++) {", "-\t\tregions[i].dispose();\t// dispose", "-\t}", "-\tmeter.stop();", "-\t", "-    disposeMeter(meter);", "+\tfinal int COUNT = 50000000;", "+", "+\t/*", "+\t* The tests for the constructors cover the base dispose case since", "+\t* they have to dispose of created Regions within their timer blocks.  ", "+\t*/", "-\tmeter = createMeter(\"Region dispose - disposed\");", "+\tRegion region = new Region(display);", "+\tregion.dispose();", "+\t", "+\tPerformanceMeter meter = createMeter(\"Region dispose - disposed\");", "+\t", "-\t\tregions[i].dispose();\t// dispose disposed", "+\t\tregion.dispose();\t// dispose disposed"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a9ba535db3fcfbc4e134dc36abffbea6", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "tests/org.eclipse.swt.tests/JUnit Tests/org/eclipse/swt/tests/junit/performance/Test_org_eclipse_swt_graphics_Color.java", "commitBeforeChange": "19989c4fec88a024fca05eb48c8712aef47d01b1", "commitAfterChange": "723b9d78269ceb7b4a2397c183dc68eac7b42d6d", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "  public void test_dispose()", "signatureAfterChange": "  public void test_dispose()", "diff": ["-\tfinal int COUNT = 1000000;\t// 5000000 causes OOM ", "-\tColor[] colors = new Color [COUNT];", "-\tfor (int i = 0; i < COUNT; i++) {", "-\t\tcolors[i] = new Color(display, 255,0,128);", "-\t}", "+\tint count = 20000000; ", "-\tfor (int i = 0; i < COUNT; i++) {", "-\t\tcolors[i].dispose();\t// dispose", "+\tfor (int i = 0; i < count; i++) {", "+\t\t/*", "+\t\t* This test is not really valid since it's measuring both creation and", "+\t\t* disposal of the Colors.  This is done because attempting to pre-create", "+\t\t* more than 3500000 Colors for disposal causes an Out Of Memory error.", "+\t\t*/ ", "+\t\tnew Color(display, 255, 0, 128).dispose();", "+", "+\tcount *= 3;", "+\tColor disposedColor = new Color (display, 255, 0, 128);", "+\tdisposedColor.dispose();", "+", "-\tfor (int i = 0; i < COUNT; i++) {", "-\t\tcolors[i].dispose();\t// dispose disposed", "+\tfor (int i = 0; i < count; i++) {", "+\t\tdisposedColor.dispose();\t// dispose disposed"]}], "num": 32403}