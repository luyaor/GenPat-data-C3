{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f1c620da34b027a5e62618c1ae004ab5", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1fd1d417b98a38015fcb9bcf4c0b25af", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/graphics/Font.java", "commitBeforeChange": "697358ce3235fa7c9f7df6b81c2eaac5ddca47d9", "commitAfterChange": "e1bf9260ea1f50e37be0963527711193b2483e02", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "\r void init (Device device, FontData fd)", "signatureAfterChange": "\r void init (Device device, FontData fd)", "diff": ["+\tint horizontalResolution = fd.horizontalResolution;\r", "+\tint verticalResolution = fd.verticalResolution;\r", "+\tif (device.setDPI) {\r", "+\t\tPoint dpi = device.getDPI();\r", "+\t\tif (fd.horizontalResolution == 0) fd.horizontalResolution  = dpi.x;\r", "+\t\tif (fd.verticalResolution == 0)\tfd.verticalResolution = dpi.y;\r", "+\t}\r", "+\t\tnewFD.horizontalResolution = fd.horizontalResolution;\r", "+\t\tnewFD.verticalResolution = fd.verticalResolution;\r", "+\tfd.horizontalResolution = horizontalResolution;\r", "+\tfd.verticalResolution = verticalResolution;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d832fc340428f36459edc5f50137218c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "c738133a2fdbe3d60fd9dfabbfd9e737153e1aa5", "commitAfterChange": "c9992cb98fd2a837c866ff6f32642b9e42588c7e", "methodNumberBeforeChange": 40, "methodNumberAfterChange": 40, "signatureBeforeChange": " public FontMetrics getFontMetrics()", "signatureAfterChange": " public FontMetrics getFontMetrics()", "diff": ["-//\tint fontHandle = _getGCFont();", "-//\tif (fontHandle==0) {", "-//\t\tSWT.error(SWT.ERROR_UNSPECIFIED);", "-//\t}", "-//\treturn FontMetrics.gtk_new(fontHandle);", "-\treturn null;", "+\tint context = data.context;", "+\tint font = OS.pango_context_get_font_description(context);", "+\tint metrics = OS.pango_context_get_metrics(context, font, null);", "+\tFontMetrics fm = new FontMetrics();", "+\tfm.ascent = OS.pango_font_metrics_get_ascent(metrics);", "+\tfm.descent = OS.pango_font_metrics_get_descent(metrics);", "+\tfm.averageCharWidth = OS.pango_font_metrics_get_approximate_char_width(metrics);", "+\tfm.height = fm.ascent + fm.descent;", "+\treturn fm;"]}], "num": 59184}