{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "94cd6d8cbc76d9efab298463888e3270", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0c776c300ee94208064903a17477735e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/cocoa/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "4edc576de20a88abac088ae701d29ce3e54ede4f", "commitAfterChange": "c2ec875b36ecf39df432358c14d183b7d7f45fe0", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 19, "signatureBeforeChange": "  public boolean setUrl(String url)", "signatureAfterChange": "  public boolean setUrl(String url)", "diff": ["-", "-\t", "-\tint length = buffer.length();", "-\tchar[] chars = new char[length];", "-\tbuffer.getChars(0, length, chars, 0);", "-\tint sHandle = OS.CFStringCreateWithCharacters(0, chars, length);", "-", "-\t/*", "-\t* Note.  URLWithString uses autorelease.  The resulting URL", "-\t* does not need to be released.", "-\t* inURL = [NSURL URLWithString:(NSString *)sHandle]", "-\t*/\t", "-\tint inURL= Cocoa.objc_msgSend(Cocoa.C_NSURL, Cocoa.S_URLWithString, sHandle);", "-\tOS.CFRelease(sHandle);", "-\t\t", "-\t//request = [NSURLRequest requestWithURL:(NSURL*)inURL];", "-\tint request= Cocoa.objc_msgSend(Cocoa.C_NSURLRequest, Cocoa.S_requestWithURL, inURL);", "-\t", "-\tint webView = Cocoa.HIWebViewGetWebView(webViewHandle);", "-\t", "-\t//mainFrame = [webView mainFrame];", "-\tint mainFrame= Cocoa.objc_msgSend(webView, Cocoa.S_mainFrame);", "-", "-\t//[mainFrame loadRequest:request];", "-\tCocoa.objc_msgSend(mainFrame, Cocoa.S_loadRequest, request);", "-", "+\tNSURL inURL = NSURL.static_URLWithString_(NSString.stringWith(buffer.toString()));", "+\tNSURLRequest request = NSURLRequest.static_requestWithURL_(inURL);", "+\tWebFrame mainFrame= webView.mainFrame();", "+\tmainFrame.loadRequest(request);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f5ec199e3d1acad2013a7895b4613f77", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/cocoa/org/eclipse/swt/browser/Safari.java", "commitBeforeChange": "4edc576de20a88abac088ae701d29ce3e54ede4f", "commitAfterChange": "c2ec875b36ecf39df432358c14d183b7d7f45fe0", "methodNumberBeforeChange": 53, "methodNumberAfterChange": 54, "signatureBeforeChange": "  void decideDestinationWithSuggestedFilename (int download, int filename)", "signatureAfterChange": "  void download_decideDestinationWithSuggestedFilename(int downloadId, int filename)", "diff": ["-void decideDestinationWithSuggestedFilename (int download, int filename) {", "-\tint length = OS.CFStringGetLength(filename);", "-\tchar[] buffer = new char[length];", "-\tCFRange range = new CFRange();", "-\trange.length = length;", "-\tOS.CFStringGetCharacters(filename, range, buffer);", "+void download_decideDestinationWithSuggestedFilename(int downloadId, int filename) {", "+\tNSString string = new NSString(filename);", "+\tchar[] buffer = new char[string.length()];", "+\tstring.getCharacters_(buffer);", "+\tNSURLDownload download = new NSURLDownload(downloadId);", "-\t\tCocoa.objc_msgSend(download, Cocoa.S_cancel);", "+\t\tdownload.cancel();", "-\tlength = path.length();", "-\tchar[] chars = new char[length];", "-\tpath.getChars(0, length, chars, 0);", "-\tint result = OS.CFStringCreateWithCharacters(0, chars, length);", "-\tCocoa.objc_msgSend(download, Cocoa.S_setDestinationAllowOverwrite, result, 1);", "-\tOS.CFRelease(result);", "+\tdownload.setDestination(NSString.stringWith(path), true);"]}], "num": 61338}