{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b82d63da508199cd5c0b3bbaca639f4c", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f98fd95b239c2805da42d8a0cb1e7459", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/treetable/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "ed568a606dfba062e77bacc7c7f799741b60cbf4", "commitAfterChange": "3e04f21595fe557524d009b946647c76885ec76f", "methodNumberBeforeChange": 45, "methodNumberAfterChange": 30, "signatureBeforeChange": " int itemAction(TreeItem item, int x, int y)", "signatureAfterChange": " TreeItem[] getAllItems()", "diff": ["+TreeItem[] getAllItems() {", "+\tint childCount = items.length;", "+\tTreeItem[][] childResults = new TreeItem[childCount][];", "+\tint count = 0;", "+\tfor (int i = 0; i < childCount; i++) {", "+\t\tchildResults[i] = items[i].computeAllDescendents();", "+\t\tcount += childResults[i].length;", "+\tTreeItem[] result = new TreeItem[count];", "+\tint index = 0;", "+\tfor (int i = 0; i < childCount; i++) {", "+\t\tSystem.arraycopy(childResults[i], 0, result, index, childResults[i].length);", "+\t\tindex += childResults[i].length;", "+\t}", "+\treturn result;", "- */", "-int itemAction(TreeItem item, int x, int y) {", "-\tint action = ActionNone;", "-\tint itemHeight = getItemHeight();", "-\tint offsetX;", "-\tint offsetY;", "-\tPoint offsetPoint;", "-", "-\tif (item != null) {", "-\t\toffsetX = x - item.getPaintStartX();", "-\t\toffsetY = y - itemHeight * (y / itemHeight);\t", "-\t\toffsetPoint = new Point(offsetX, offsetY);\t", "-\t\tif ((item.isLeaf() == false) &&", "-\t\t\t(getHierarchyIndicatorRect().contains(offsetPoint) == true)) {", "-\t\t\taction |= ActionExpandCollapse;", "-\t\t}", "-\t\telse", "-\t\tif (item.isSelectionHit(offsetPoint) == true) {", "-\t\t\taction |= ActionSelect;", "-\t\t}", "-\t\telse", "-\t\tif (item.isCheckHit(new Point(x, y)) == true) {", "-\t\t\taction |= ActionCheck;", "-\t\t}", "-\t}", "-\treturn action;", "-}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "201f1b57cb43bde2a1ad2d4d4426d7a8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/treetable/org/eclipse/swt/widgets/TreeItem.java", "commitBeforeChange": "ed568a606dfba062e77bacc7c7f799741b60cbf4", "commitAfterChange": "3e04f21595fe557524d009b946647c76885ec76f", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 7, "signatureBeforeChange": " void calculateVisibleItemCount()", "signatureAfterChange": " TreeItem[] computeAllDescendents ()", "diff": ["- */", "-void calculateVisibleItemCount() {", "-\tVector children;", "-\tTreeItem child;", "-\tint visibleItemCount = 0;", "-\t", "-\t// check isExpanded field directly for performance", "-\tif (internalGetExpanded() == true) {", "-\t\tchildren = getChildren();", "-\t\tvisibleItemCount = children.size();", "-\t\tfor (int i = 0; i < children.size(); i++) {", "-\t\t\tchild = (TreeItem) children.elementAt(i);", "-\t\t\tvisibleItemCount += child.getVisibleItemCount();", "-\t\t}", "-\tsetVisibleItemCount(visibleItemCount);", "-\tcalculateVisibleItemCountParent();", "+TreeItem[] computeAllDescendents () {", "+\tint childCount = items.length;", "+\tTreeItem[][] childResults = new TreeItem[childCount][];", "+\tint count = 1;\t/* self */", "+\tfor (int i = 0; i < childCount; i++) {", "+\t\tchildResults[i] = items[i].computeAllDescendents ();", "+\t\tcount += childResults[i].length;", "+\tTreeItem[] result = new TreeItem[count];", "+\tint index = 0;", "+\tresult[index++] = this;", "+\tfor (int i = 0; i < childCount; i++) {", "+\t\tSystem.arraycopy (childResults[i], 0, result, index, childResults[i].length);", "+\t\tindex += childResults[i].length;", "+\t}", "+\treturn result;"]}], "num": 1701}