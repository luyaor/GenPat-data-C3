{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "62201ef6ad6c061867921bdf1d50c982", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "327308d7a74bb80708c47fa03bc965f5", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "2e1d4f1edb38f328e42b3609901d5dc9bbd1df90", "commitAfterChange": "f4207e45586ff87b9b7a7f47bb9213373f97cd25", "methodNumberBeforeChange": 152, "methodNumberAfterChange": 152, "signatureBeforeChange": "  static int applicationDelegateProc(int id, int sel, int arg0)", "signatureAfterChange": "  static int applicationDelegateProc(int id, int sel, int arg0)", "diff": ["-\t\tNSBundle javaFrameworkBundle = NSBundle.bundleWithIdentifier(NSString.stringWith(\"com.apple.JavaVM\"));", "-\t\tNSString defaultAppNib = javaFrameworkBundle.pathForResource(NSString.stringWith(\"DefaultApp\"), NSString.stringWith(\"nib\"));", "+\t\tNSBundle bundle = NSBundle.bundleWithIdentifier(NSString.stringWith(\"com.apple.JavaVM\"));", "-\t\tif (!NSBundle.loadNibFile(defaultAppNib, dict, 0)) {", "-\t\t\t//TEMPORARY CODE", "-\t\t\tSystem.out.println(\"*** SSQ path=\" + defaultAppNib != null ? defaultAppNib.getString() : \" defaultAppNib=null\");", "-\t\t\tdefaultAppNib = javaFrameworkBundle.resourcePath().stringByAppendingString(NSString.stringWith(\"/English.lproj/DefaultApp.nib\"));", "-\t\t\tNSBundle.loadNibFile(defaultAppNib, dict, 0);", "+\t\tNSString path = bundle.pathForResource(NSString.stringWith(\"DefaultApp\"), NSString.stringWith(\"nib\"));", "+\t\tboolean succed = false;", "+\t\tif (!succed) succed = path != null && NSBundle.loadNibFile(path, dict, 0);", "+\t\tif (!succed) {", "+\t\t\tNSString resourcePath = bundle.resourcePath();", "+\t\t\tpath = resourcePath != null ? resourcePath.stringByAppendingString(NSString.stringWith(\"/English.lproj/DefaultApp.nib\")) : null;", "+\t\t\tsucced = path != null && NSBundle.loadNibFile(path, dict, 0);", "+\t\t}", "+\t\tif (!succed) {", "+\t\t\tpath = NSString.stringWith(\"/System/Library/Frameworks/JavaVM.framework/Resources/English.lproj/DefaultApp.nib\");", "+\t\t\tsucced = path != null && NSBundle.loadNibFile(path, dict, 0);", "+\t\t}", "+\t\tif (!succed) {", "+\t\t\tpath = NSString.stringWith(\"/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Resources/English.lproj/DefaultApp.nib\");", "+\t\t\tsucced = path != null && NSBundle.loadNibFile(path, dict, 0);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4cdc71743d59012f74e551fe315cc94d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "4a9cee6826af103781424b5433033d8cfb7ebf4e", "commitAfterChange": "fe7f4979e1155132a35847cc5f229732c363ec5c", "methodNumberBeforeChange": 175, "methodNumberAfterChange": 175, "signatureBeforeChange": "  void applicationWillFinishLaunching (int id, int sel, int notification)", "signatureAfterChange": "  void applicationWillFinishLaunching (int id, int sel, int notification)", "diff": ["+\t/*", "+\t * Get the default locale's language, and then the display name of the language. Some Mac OS X localizations use the ", "+\t * display name of the language, but many use the ISO two-char abbreviation instead.", "+\t */", "+\tLocale loc = Locale.getDefault();", "+\tString languageISOValue = loc.getLanguage();", "+\tNSLocale englishLocale = (NSLocale) new NSLocale().alloc();", "+\tenglishLocale = new NSLocale(englishLocale.initWithLocaleIdentifier(NSString.stringWith(\"en_US\")));", "+\tNSString languageDisplayName = englishLocale.displayNameForKey(OS.NSLocaleLanguageCode, NSString.stringWith(languageISOValue));", "+\tif (englishLocale != null) englishLocale.release();", "+\t", "+\t/* To find the nib look for each of these paths, in order, until one is found:", "+\t * \t\t/System/Library/..../Resources/<display name>.lproj/DefaultApp.nib", "+\t * \t\t/System/Library/..../Resources/<language>.lproj/DefaultApp.nib", "+\t * \t\t/System/Library/..../Resources/<user's default language>.lproj/DefaultApp.nib", "+\t * \t\t/System/Library/..../Resources/English.lproj/DefaultApp.nib.", "+\t */", "-\tNSString path = bundle.pathForResource(NSString.stringWith(\"DefaultApp\"), NSString.stringWith(\"nib\"));", "+\tNSString path = bundle.pathForResource(NSString.stringWith(\"DefaultApp\"), NSString.stringWith(\"nib\"), null, languageDisplayName);", "+\tif (path == null) path = bundle.pathForResource(NSString.stringWith(\"DefaultApp\"), NSString.stringWith(\"nib\"), null, NSString.stringWith(languageISOValue));", "+\tif (path == null) path = bundle.pathForResource(NSString.stringWith(\"DefaultApp\"), NSString.stringWith(\"nib\"));", "+\t"]}], "num": 610}