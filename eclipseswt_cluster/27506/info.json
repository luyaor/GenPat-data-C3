{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "782dca2467109654b7394fffea8058a1", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2430d379be8829cde56375c9f477789c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Link.java", "commitBeforeChange": "fd48f1038f78b11a089cce1dff82a2e75ba45935", "commitAfterChange": "b6e1dfbb6c67b65776d109a1647ed8268f4264ac", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "diff": ["-\t\tTCHAR buffer = new TCHAR (getCodePage (), parse (text), false);", "-\t\tRECT rect = new RECT ();", "-\t\tint flags = OS.DT_CALCRECT | OS.DT_NOPREFIX;", "-\t\tif (wHint != SWT.DEFAULT) {", "-\t\t\tflags |= OS.DT_WORDBREAK;", "-\t\t\trect.right = wHint;", "+\t\tif (text.length () > 0) {", "+\t\t\tTCHAR buffer = new TCHAR (getCodePage (), parse (text), false);", "+\t\t\tRECT rect = new RECT ();", "+\t\t\tint flags = OS.DT_CALCRECT | OS.DT_NOPREFIX;", "+\t\t\tif (wHint != SWT.DEFAULT) {", "+\t\t\t\tflags |= OS.DT_WORDBREAK;", "+\t\t\t\trect.right = wHint;", "+\t\t\t}", "+\t\t\tOS.DrawText (hDC, buffer, buffer.length (), rect, flags);", "+\t\t\twidth = rect.right - rect.left;", "+\t\t\theight = rect.bottom;", "+\t\t} else {", "+\t\t\tTEXTMETRIC lptm = OS.IsUnicode ? (TEXTMETRIC)new TEXTMETRICW () : new TEXTMETRICA ();", "+\t\t\tOS.GetTextMetrics (hDC, lptm);", "+\t\t\twidth = 0;", "+\t\t\theight = lptm.tmHeight;", "-\t\tOS.DrawText (hDC, buffer, buffer.length (), rect, flags);", "-\t\twidth = rect.right - rect.left;", "-\t\theight = rect.bottom;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ee35e7133b5f784c8348c917997af326", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/TableItem.java", "commitBeforeChange": "128f1189a73a60197af2683c6e15c2a2112e6073", "commitAfterChange": "acc21159cc14e3be904c8a50271f4864dae2c9f9", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "  RECT getBounds (int row, int column, boolean getText, boolean getImage, boolean fullText, boolean fullImage, int hDC)", "signatureAfterChange": "  RECT getBounds (int row, int column, boolean getText, boolean getImage, boolean fullText, boolean fullImage, int hDC)", "diff": ["-\t\t\tRECT textRect = new RECT ();", "-\t\t\tTCHAR buffer = new TCHAR (parent.getCodePage (), text, false);", "-\t\t\tint flags = OS.DT_NOPREFIX | OS.DT_SINGLELINE | OS.DT_CALCRECT;", "-\t\t\tOS.DrawText (hDC, buffer, buffer.length (), textRect, flags);", "-\t\t\trect.right += textRect.right - textRect.left + Table.INSET * 3 + 1;", "+\t\t\tif (getText) {", "+\t\t\t\tRECT textRect = new RECT ();", "+\t\t\t\tTCHAR buffer = new TCHAR (parent.getCodePage (), text, false);", "+\t\t\t\tint flags = OS.DT_NOPREFIX | OS.DT_SINGLELINE | OS.DT_CALCRECT;", "+\t\t\t\tOS.DrawText (hDC, buffer, buffer.length (), textRect, flags);", "+\t\t\t\tif (!getImage) rect.left = rect.right;", "+\t\t\t\trect.right += textRect.right - textRect.left + Table.INSET * 3 + 1;", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e6b6c6e521f39aeb44644e5e2d5a9140", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Spinner.java", "commitBeforeChange": "0fe0e789edc99baaa0ef377f6d40692c6b08f013", "commitAfterChange": "b1cc243c2a014d8968b54382daf6c28f7205ac7f", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "signatureAfterChange": "  public Point computeSize (int wHint, int hHint, boolean changed)", "diff": ["-\t\tint length = OS.GetWindowTextLength (hwndText);", "-\t\tif (length != 0) {", "-\t\t\tRECT rect = new RECT ();", "-\t\t\tTCHAR buffer = new TCHAR (getCodePage (), length + 1);", "-\t\t\tOS.GetWindowText (hwndText, buffer, length + 1);", "-\t\t\tint flags = OS.DT_CALCRECT | OS.DT_EDITCONTROL | OS.DT_NOPREFIX;", "-\t\t\tOS.DrawText (hDC, buffer, length, rect, flags);", "-\t\t\twidth = rect.right - rect.left;", "-\t\t}", "+\t\tRECT rect = new RECT ();", "+\t\tint [] max = new int [1];", "+\t\tOS.SendMessage (hwndUpDown , OS.UDM_GETRANGE32, null, max);", "+\t\tTCHAR buffer = new TCHAR (getCodePage (), String.valueOf (max [0]), false);", "+\t\tint flags = OS.DT_CALCRECT | OS.DT_EDITCONTROL | OS.DT_NOPREFIX;", "+\t\tOS.DrawText (hDC, buffer, buffer.length (), rect, flags);", "+\t\twidth = rect.right - rect.left;", "-\t\ttrim.height = Math.max (trim.height, OS.GetSystemMetrics(OS.SM_CYVSCROLL));", "+\t\ttrim.height = Math.max (trim.height, OS.GetSystemMetrics (OS.SM_CYVSCROLL));"]}], "num": 27506}