{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "efbbe1ce319c045d66924d68fca76ea6", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fd9d0522ec1592ebff332bb5d4c0a3a0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "d063aea08192e0213a4b6532b27dc31f9dce6e1b", "commitAfterChange": "48ef0056097e65cbe2f990bf125c93e76b95da33", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 20, "signatureBeforeChange": " public void setBackground(Color color)", "signatureAfterChange": " public void setBackground(Color color)", "diff": ["-\t/* Generate the mask if necessary. */", "-\tif (mask == 0) createMask();", "-    /* AW", "-\tRectangle bounds = getBounds();", "-\tint[] unused = new int[1];", "-\tint[] depth = new int[1];", "-\tint xDisplay = device.xDisplay;", "- \tOS.XGetGeometry(xDisplay, pixmap, unused, unused, unused, unused, unused, unused, depth);", "-\tint drawable = OS.XDefaultRootWindow(xDisplay);", "-\tint tempPixmap = OS.XCreatePixmap(xDisplay, drawable, bounds.width, bounds.height, depth[0]);", "-\tint xGC = OS.XCreateGC(xDisplay, tempPixmap, 0, null);", "-\tOS.XSetForeground(xDisplay, xGC, color.handle.pixel);", "-\tOS.XFillRectangle(xDisplay, tempPixmap, xGC, 0, 0, bounds.width, bounds.height);", "-\tOS.XSetClipMask(xDisplay, xGC, mask);", "-\tOS.XCopyArea(xDisplay, pixmap, tempPixmap, xGC, 0, 0, bounds.width, bounds.height, 0, 0);", "-\tOS.XSetClipMask(xDisplay, xGC, OS.None);", "-\tOS.XCopyArea(xDisplay, tempPixmap, pixmap, xGC, 0, 0, bounds.width, bounds.height, 0, 0);", "-\tOS.XFreePixmap(xDisplay, tempPixmap);", "-\tOS.XFreeGC(xDisplay, xGC);", "-    */", "-\t/* Destroy the receiver's mask if the there is a GC created on it */", "-\tif (memGC != null) destroyMask();", "+\t//NOT DONE"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4e37a246209b8ec1847d1106b16582ea", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "bc0159e1f232b2994f90bfab06507bbdbd612bc8", "commitAfterChange": "4bf0b224a9caf7edd2d827277068ffb2c6e7bf23", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 18, "signatureBeforeChange": " void init(Device device, int width, int height)", "signatureAfterChange": " void init(Device device, int width, int height)", "diff": ["-    /* AW", "-\tint xDisplay = device.xDisplay;", "-\tint screen = OS.XDefaultScreenOfDisplay(xDisplay);", "-\tint depth = OS.XDefaultDepthOfScreen(screen);", "-\t*/", "-\tint depth= 32;", "-\t/* AW", "-\tint screenNum = OS.XDefaultScreen(xDisplay);", "-\tint drawable = OS.XDefaultRootWindow(xDisplay);", "-\tint pixmap = OS.XCreatePixmap(xDisplay, drawable, width, height, depth);", "-\t*/", "-\tint pixmap = createPixMap(width, height, depth, null, null, null, null);", "+\tint pixmap = createPixMap(width, height, device.fScreenDepth);", "-    /* AW", "-\tint xGC = OS.XCreateGC(xDisplay, drawable, 0, null);", "-\tOS.XSetForeground(xDisplay, xGC, OS.XWhitePixel(xDisplay, screenNum));", "-\tOS.XFillRectangle(xDisplay, pixmap, xGC, 0, 0, width, height);", "-\tOS.XFreeGC(xDisplay, xGC);", "-    */", "-\t// AW", "-\t/*", "-\t// FIXME: we set the pixmap to black or white in NewPixMap for now", "+    int[] offscreenGWorld= new int[1];", "+\tOS.NewGWorldFromPtr(offscreenGWorld, pixmap);", "+\tint xGC = offscreenGWorld[0];", "+\tif (xGC == 0) SWT.error (SWT.ERROR_NO_HANDLES);", "+", "-\tMacRect mr= new MacRect();", "-\tOS.GetPixBounds(pixmap, mr.getData());", "-\tOS.EraseRect(mr.getData());", "-\tOS.FrameRect(mr.getData());", "+\tOS.EraseRect(new short[] { 0, 0, (short)width, (short)height } );", "-\t*/", "-\t// AW", "+\t", "+\tOS.DisposeGWorld(xGC);", "+\t"]}], "num": 15821}