{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5ec2ff62fedf9ae6f8660b582afb627b", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bb245d49d3d3a274ae47c3cc4854f886", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "196dbae5884fb1fca30ca960c1359654ee38114b", "commitAfterChange": "305b37f15f650c259a3bc4f70ff9d8984c10b80a", "methodNumberBeforeChange": 32, "methodNumberAfterChange": 32, "signatureBeforeChange": "  void drawWithFrame_inView (int id, int sel, int cellFrame, int view)", "signatureAfterChange": "  void drawWithFrame_inView (int id, int sel, int cellFrame, int view)", "diff": ["+\t\t\t/*", "+\t\t\t* Bug in Cocoa.  For some reason, it is not possible to change the", "+\t\t\t* foreground color to black when the cell is highlighted. The text", "+\t\t\t* still draws white.  The fix is to draw the text and not call super.", "+\t\t\t*/", "-\t\t\tNSColor nsColor = NSColor.colorWithDeviceRed(color[0], color[1], color[2], color[3]);", "-\t\t\tcell.setTextColor(nsColor);", "+\t\t\tif (color[0] == 0 && color[1] == 0 && color[2] == 0 && color[3] == 1) {", "+\t\t\t\tNSMutableAttributedString newStr = new NSMutableAttributedString(cell.attributedStringValue().mutableCopy());", "+\t\t\t\tNSRange range = new NSRange();", "+\t\t\t\trange.length = newStr.length();", "+\t\t\t\tnewStr.removeAttribute(OS.NSForegroundColorAttributeName, range);", "+\t\t\t\tNSRect newRect = new NSRect();", "+\t\t\t\tnewRect.x = rect.x + TEXT_GAP;", "+\t\t\t\tnewRect.y = rect.y;", "+\t\t\t\tnewRect.width = rect.width - TEXT_GAP;", "+\t\t\t\tnewRect.height = rect.height;", "+\t\t\t\tNSSize size = newStr.size();", "+\t\t\t\tif (newRect.height > size.height) {", "+\t\t\t\t\tnewRect.y += (newRect.height - size.height) / 2;", "+\t\t\t\t\tnewRect.height = size.height;", "+\t\t\t\t}", "+\t\t\t\tnewStr.drawInRect(newRect);", "+\t\t\t\tnewStr.release();", "+\t\t\t} else {", "+\t\t\t\tNSColor nsColor = NSColor.colorWithDeviceRed(color[0], color[1], color[2], color[3]);", "+\t\t\t\tcell.setTextColor(nsColor);", "+\t\t\t\tcallSuper (id, sel, rect, view);", "+\t\t\t}\t\t\t", "+\t\t} else {", "+\t\t\tcallSuper (id, sel, rect, view);", "-\t\tcallSuper (id, sel, rect, view);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d8c7585c8ef424c887cf0a4615130b59", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "196dbae5884fb1fca30ca960c1359654ee38114b", "commitAfterChange": "305b37f15f650c259a3bc4f70ff9d8984c10b80a", "methodNumberBeforeChange": 33, "methodNumberAfterChange": 33, "signatureBeforeChange": "  void drawWithFrame_inView (int id, int sel, int cellFrame, int view)", "signatureAfterChange": "  void drawWithFrame_inView (int id, int sel, int cellFrame, int view)", "diff": ["+\t\t\t/*", "+\t\t\t* Bug in Cocoa.  For some reason, it is not possible to change the", "+\t\t\t* foreground color to black when the cell is highlighted. The text", "+\t\t\t* still draws white.  The fix is to draw the text and not call super.", "+\t\t\t*/", "-\t\t\tNSColor nsColor = NSColor.colorWithDeviceRed(color[0], color[1], color[2], color[3]);", "-\t\t\tcell.setTextColor(nsColor);", "+\t\t\tif (color[0] == 0 && color[1] == 0 && color[2] == 0 && color[3] == 1) {", "+\t\t\t\tNSMutableAttributedString newStr = new NSMutableAttributedString(cell.attributedStringValue().mutableCopy());", "+\t\t\t\tNSRange range = new NSRange();", "+\t\t\t\trange.length = newStr.length();", "+\t\t\t\tnewStr.removeAttribute(OS.NSForegroundColorAttributeName, range);", "+\t\t\t\tNSRect newRect = new NSRect();", "+\t\t\t\tnewRect.x = rect.x + TEXT_GAP;", "+\t\t\t\tnewRect.y = rect.y;", "+\t\t\t\tnewRect.width = rect.width - TEXT_GAP;", "+\t\t\t\tnewRect.height = rect.height;", "+\t\t\t\tNSSize size = newStr.size();", "+\t\t\t\tif (newRect.height > size.height) {", "+\t\t\t\t\tnewRect.y += (newRect.height - size.height) / 2;", "+\t\t\t\t\tnewRect.height = size.height;", "+\t\t\t\t}", "+\t\t\t\tnewStr.drawInRect(newRect);", "+\t\t\t\tnewStr.release();", "+\t\t\t} else {", "+\t\t\t\tNSColor nsColor = NSColor.colorWithDeviceRed(color[0], color[1], color[2], color[3]);", "+\t\t\t\tcell.setTextColor(nsColor);", "+\t\t\t\tcallSuper (id, sel, rect, view);", "+\t\t\t}\t\t\t", "+\t\t} else {", "+\t\t\tcallSuper (id, sel, rect, view);", "-\t\tcallSuper (id, sel, rect, view);"]}], "num": 18747}