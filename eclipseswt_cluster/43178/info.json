{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a51aa668d0672c602d071ac605770f91", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1794502d87ef9ea8c87d825b74938177", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "abfdcfb2a80c73d1ca40740cee6b7363f053a0e4", "commitAfterChange": "0504548696e73ed8e85a9f8d88ac00a2de9be404", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": " public void copyArea(Image image, int x, int y)", "signatureAfterChange": " public void copyArea(Image image, int x, int y)", "diff": ["-\t//TODO fix for USE_CAIRO", "+\tif (OS.USE_CAIRO) {", "+\t\tint /*long*/ cairo = Cairo.cairo_create(image.surface);", "+\t\tif (data.image != null) {", "+\t\t\tCairo.cairo_set_source_surface(cairo, data.image.surface, x, y);", "+\t\t} else if (OS.GTK_VERSION >= OS.VERSION(2, 24, 0)) {", "+\t\t\tOS.gdk_cairo_set_source_window(cairo, data.drawable, x, y);", "+\t\t} else {", "+\t\t\tint[] w = new int[1], h = new int[1];", "+\t\t\tOS.gdk_drawable_get_size(data.drawable, w, h);", "+\t\t\tint width = w[0], height = h[0];", "+\t\t\tint /*long*/ xDisplay = OS.GDK_DISPLAY();", "+\t\t\tint /*long*/ xDrawable = OS.gdk_x11_drawable_get_xid(data.drawable);", "+\t\t\tint /*long*/ xVisual = OS.gdk_x11_visual_get_xvisual(OS.gdk_visual_get_system());", "+\t\t\tint /*long*/ srcSurface = Cairo.cairo_xlib_surface_create(xDisplay, xDrawable, xVisual, width, height);", "+\t\t\tCairo.cairo_set_source_surface(cairo, srcSurface, x, y);", "+\t\t}", "+\t\tCairo.cairo_paint(cairo);", "+\t\tCairo.cairo_destroy(cairo);", "+        return;", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "60bdba95241693e41e4dfcb15906066d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/wpf/org/eclipse/swt/widgets/Canvas.java", "commitBeforeChange": "da73e4e9d77d3d189a51ac8699bc35dc6a7e1a25", "commitAfterChange": "da27f2fb43178376570f08fa3646e1091c342061", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": " public void drawBackground (GC gc, int x, int y, int width, int height)", "signatureAfterChange": " public void drawBackground (GC gc, int x, int y, int width, int height)", "diff": ["-\t//int pixel = background == -1 ? gc.getBackground ().handle : -1;", "-\t//TODO WHAT COLOR TO USE ?", "-\t", "-\tgc.fillRectangle (x, y, width, height);", "-//\tint drawingContext = gc.handle;", "-//\tint color = getBackgroundColor ();", "-//\tint brush = OS.gcnew_SolidColorBrush (color);", "-//\tint rect = OS.gcnew_Rect (x, y, width, height);", "-//\tOS.DrawingContext_DrawRectangle (drawingContext, brush, 0, rect);", "-//\tOS.GCHandle_Free (rect);", "-//\tOS.GCHandle_Free (brush);", "+\tControl control = findBackgroundControl ();", "+\tif (control != null) {", "+\t\tif (width < 0) {", "+\t\t\tx = x + width;", "+\t\t\twidth = -width;", "+\t\t}", "+\t\tif (height < 0) {", "+\t\t\ty = y + height;", "+\t\t\theight = -height;", "+\t\t}", "+\t\tPoint pt = display.map (this, control, 0, 0);", "+\t\tint transform = OS.gcnew_TranslateTransform (-pt.x, -pt.y);", "+\t\tOS.DrawingContext_PushTransform (gc.handle, transform);", "+\t\tx += pt.x;", "+\t\ty += pt.y;", "+\t\tint rect = OS.gcnew_Rect (x, y, width, height);", "+\t\tint backgroundHandle = control.backgroundHandle ();", "+\t\tint property = backgroundProperty ();", "+\t\tint brush = OS.DependencyObject_GetValue (backgroundHandle, property);", "+\t\tOS.GCHandle_Free (property);", "+\t\tOS.DrawingContext_DrawRectangle (gc.handle, brush, 0, rect);", "+\t\tOS.DrawingContext_Pop (gc.handle);", "+\t\tOS.GCHandle_Free (transform);", "+\t\tOS.GCHandle_Free (rect);", "+\t\tOS.GCHandle_Free (brush);", "+\t} else {", "+\t\tgc.fillRectangle (x, y, width, height);", "+\t}", "+"]}], "num": 43178}