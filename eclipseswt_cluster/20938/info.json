{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e4a06f9796ef53e78a8050be888aa0d4", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e3fe7999892d65e86c75fd53e6fd3a38", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledTextRenderer.java", "commitBeforeChange": "b59b2c9c83dff7d247f5293493520244610ab7b3", "commitAfterChange": "caefa6ee44d118fcdfc9a890470791a160f9ad68", "methodNumberBeforeChange": 41, "methodNumberAfterChange": 42, "signatureBeforeChange": " void setLineBullet(int startLine, int count, Bullet bullet)", "signatureAfterChange": " void setLineBullet(int startLine, int count, Bullet bullet)", "diff": ["-\tif (lines == null) lines = new LineInfo[lineCount];", "-\tfor (int i = startLine; i < startLine + count; i++) {", "-\t\tif (lines[i] == null) {", "-\t\t\tlines[i] = new LineInfo();", "+\tif (bulletsIndices != null) {", "+\t\tbulletsIndices = null;", "+\t\tbullets = null;", "+\t}", "+\tif (bullets == null) {", "+\t\tif (bullet == null) return;", "+\t\tbullets = new Bullet[1];", "+\t\tbullets[0] = bullet;", "+\t}", "+\tint index = 0;", "+\twhile (index < bullets.length) {", "+\t\tif (bullet == bullets[index]) break;", "+\t\tindex++;", "+\t}", "+\tif (bullet != null) {", "+\t\tif (index == bullets.length) {", "+\t\t\tBullet[] newBulletsList = new Bullet[bullets.length + 1];", "+\t\t\tSystem.arraycopy(bullets, 0, newBulletsList, 0, bullets.length);", "+\t\t\tnewBulletsList[index] = bullet;", "+\t\t\tbullets = newBulletsList;", "-\t\tlines[i].flags |= BULLET;", "-\t\tlines[i].bullet = bullet;", "+\t\tbullet.addIndices(startLine, count);", "+\t} else {", "+\t\tupdateBullets(startLine, count, 0, false);", "+\t\tstyledText.redrawLinesBullet(redrawLines);", "+\t\tredrawLines = null;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1feb1ae46e82c89aa2857ea0c0d1ea8c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "22ef6cb2f9d6090c9cecda0b3ee039cf6ee05768", "commitAfterChange": "76259957c0dc1e3a8f1409712b7f4ad2dd038794", "methodNumberBeforeChange": 59, "methodNumberAfterChange": 59, "signatureBeforeChange": " public void setClipping(int x, int y, int width, int height)", "signatureAfterChange": "  void setClipping(int clipRgn)", "diff": ["+void setClipping(int /*long*/ clipRgn) {", "+\tif (clipRgn == 0) {", "+\t\tif (data.clipRgn != 0) {", "+\t\t\tOS.gdk_region_destroy(data.clipRgn);", "+\t\t\tdata.clipRgn = 0;", "+\t\t}", "+\t\tint /*long*/ clipping = data.damageRgn != 0 ? data.damageRgn : 0;", "+\t\tOS.gdk_gc_set_clip_region(handle, clipping);", "+\t} else {", "+\t\tif (data.clipRgn == 0) data.clipRgn = OS.gdk_region_new();", "+\t\tOS.gdk_region_subtract(data.clipRgn, data.clipRgn);", "+\t\tOS.gdk_region_union(data.clipRgn, clipRgn);", "+\t\tint /*long*/ clipping = clipRgn;", "+\t\tif (data.damageRgn != 0) {", "+\t\t\tclipping = OS.gdk_region_new();", "+\t\t\tOS.gdk_region_union(clipping, clipRgn);", "+\t\t\tOS.gdk_region_intersect(clipping, data.damageRgn);", "+\t\t}", "+\t\tOS.gdk_gc_set_clip_region(handle, clipping);", "+\t\tif (clipping != clipRgn) OS.gdk_region_destroy(clipping);", "+\t}", "+}", "-\tint /*long*/ clipRgn = data.clipRgn;", "-\tif (clipRgn == 0) {", "-\t\tdata.clipRgn = clipRgn = OS.gdk_region_new();", "-\t} else {", "-\t\tOS.gdk_region_subtract(clipRgn, clipRgn);", "-\t}", "-\trect.x = x;  rect.y = y;", "-\trect.width = width;  rect.height = height;", "-\tOS.gdk_gc_set_clip_rectangle(handle, rect);"]}], "num": 20938}