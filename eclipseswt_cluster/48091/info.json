{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5d328ca62a047f6e70146f49d453e0e6", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dd8ae040ed5a0e98f5911aa60e020101", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/CoolBar.java", "commitBeforeChange": "a08da956b3919d96fc26850b26171899e6aa4ea9", "commitAfterChange": "fa823c434008ea53c7f2ea796b1cfcbe3b183518", "methodNumberBeforeChange": 27, "methodNumberAfterChange": 27, "signatureBeforeChange": "\r void setItemSizes (Point [] sizes)", "signatureAfterChange": "\r void setItemSizes (Point [] sizes)", "diff": ["-\tCoolItem [] items = getItems ();\r", "-\tif (sizes.length != items.length) error (SWT.ERROR_INVALID_ARGUMENT);\r", "-\tfor (int i = 0; i < items.length; i++) {\r", "-\t\titems [i].setSize(sizes [i]);\r", "+\tint count = OS.SendMessage (handle, OS.RB_GETBANDCOUNT, 0, 0);\r", "+\tif (sizes.length != count) error (SWT.ERROR_NULL_ARGUMENT);\r", "+\tfor (int i=0; i<count; i++) {\r", "+\t\tRECT rect = new RECT ();\r", "+\t\tOS.SendMessage (handle, OS.RB_GETBANDBORDERS, i, rect);\r", "+\t\tREBARBANDINFO rbBand = new REBARBANDINFO ();\r", "+\t\trbBand.cbSize = REBARBANDINFO.sizeof;\r", "+\t\trbBand.fMask = OS.RBBIM_CHILDSIZE | OS.RBBIM_SIZE | OS.RBBIM_IDEALSIZE;\r", "+\t\tint width = sizes [i].x, height = sizes [i].y;\r", "+\t\trbBand.cx = width;\r", "+\t\trbBand.cxIdeal = width - rect.left - rect.right;\r", "+\t\trbBand.cyChild = rbBand.cyMinChild = rbBand.cyMaxChild = height;\r", "+\t\tOS.SendMessage (handle, OS.RB_SETBANDINFO, i, rbBand);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d4c26005084a65d66610d7a9887fcbe1", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/CoolBar.java", "commitBeforeChange": "a08da956b3919d96fc26850b26171899e6aa4ea9", "commitAfterChange": "fa823c434008ea53c7f2ea796b1cfcbe3b183518", "methodNumberBeforeChange": 28, "methodNumberAfterChange": 28, "signatureBeforeChange": "\r public void setWrapIndices (int [] indices)", "signatureAfterChange": "\r public void setWrapIndices (int [] indices)", "diff": ["-\tif (indices == null) error (SWT.ERROR_NULL_ARGUMENT);\r", "-\tCoolItem [] items = getItems ();\r", "-\tfor (int i = 0; i < items.length; i++) {\r", "-\t\titems [i].setWrap (false);\r", "+\tif (indices == null) indices = new int [0];\r", "+\tint count = OS.SendMessage (handle, OS.RB_GETBANDCOUNT, 0, 0);\r", "+\tfor (int i=0; i<indices.length; i++) {\r", "+\t\tif (indices [i] < 0 || indices [i] >= count) error (SWT.ERROR_INVALID_ARGUMENT);\t\r", "-\tfor (int i = 0; i < indices.length; i++) {\r", "-\t\tint index = indices [i];\r", "-\t\titems [index].setWrap (true);\r", "+\tREBARBANDINFO rbBand = new REBARBANDINFO ();\r", "+\trbBand.cbSize = REBARBANDINFO.sizeof;\r", "+\trbBand.fMask = OS.RBBIM_STYLE;\r", "+\tfor (int i=0; i<count; i++) {\r", "+\t\tOS.SendMessage (handle, OS.RB_GETBANDINFO, i, rbBand);\r", "+\t\trbBand.fStyle &= ~OS.RBBS_BREAK;\r", "+\t\tOS.SendMessage (handle, OS.RB_SETBANDINFO, i, rbBand);\r", "+\t}\r", "+\tfor (int i=0; i<indices.length; i++) {\r", "+\t\tOS.SendMessage (handle, OS.RB_GETBANDINFO, indices [i], rbBand);\r", "+\t\trbBand.fStyle |= OS.RBBS_BREAK;\r", "+\t\tOS.SendMessage (handle, OS.RB_SETBANDINFO, indices [i], rbBand);\r"]}], "num": 48091}