{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "118db2b3e8b6efeac1be50d3cfced6cf", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0a37aec27a4052ba204fd5a8cc7f5e33", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/StyledText.java", "commitBeforeChange": "08809cd76478f88cb5fd681fd07e7cb686d89c90", "commitAfterChange": "8df88f0445bc8cb1b3e937ac645be0ab48f7aa47", "methodNumberBeforeChange": 129, "methodNumberAfterChange": 129, "signatureBeforeChange": " int getOffsetAtX(String line, int lineOffset, int lineXOffset)", "signatureAfterChange": " int getOffsetAtX(String line, int lineOffset, int lineXOffset)", "diff": ["-\tint offset;", "-\tint[] trailing;", "-\tTextLayout layout;", "-\tlayout = renderer.getTextLayout(line, lineOffset);", "-\tRectangle rect = layout.getLineBounds(0);", "-\tif (x < rect.x) {", "-\t\toffset = 0;", "-\t} else if (x > rect.x + rect.width) {", "-\t\toffset = line.length();", "-\t} else {", "-\t\ttrailing = new int[1];", "-\t\toffset = layout.getOffset(x, 0, trailing);", "-\t\tadvancing = false;", "-\t\tif (trailing[0] != 0) {", "-\t\t\tint level = layout.getLevel(offset) & 0x1;", "-\t\t\toffset = Math.min(line.length(), offset + trailing[0]);", "-\t\t\tint trailingLevel = layout.getLevel(offset) & 0x1;", "+\tTextLayout layout = renderer.getTextLayout(line, lineOffset);", "+\tint[] trailing = new int[1];", "+\tint offsetInLine = layout.getOffset(x, 0, trailing);", "+\tadvancing = false;", "+\tif (trailing[0] != 0) {", "+\t\tint lineLength = line.length();", "+\t\tif (offsetInLine + trailing[0] >= lineLength) {", "+\t\t\toffsetInLine = lineLength;", "+\t\t\tadvancing = true;", "+\t\t} else {", "+\t\t\tint level;", "+\t\t\tint offset = offsetInLine;", "+\t\t\twhile (offset > 0 && Character.isDigit(line.charAt(offset))) offset--;", "+\t\t\tif (offset == 0 && Character.isDigit(line.charAt(offset))) {", "+\t\t\t\tlevel = isMirrored() ? 1 : 0;", "+\t\t\t} else {", "+\t\t\t\tlevel = layout.getLevel(offset) & 0x1;", "+\t\t\t}", "+\t\t\toffsetInLine += trailing[0];", "+\t\t\tint trailingLevel = layout.getLevel(offsetInLine) & 0x1;", "-\treturn offset;", "+\treturn offsetInLine;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a61cada504ca0ddbe8f92c0d7f791c43", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/common/org/eclipse/swt/internal/image/PngHuffmanTable.java", "commitBeforeChange": "c8ee37b226ec26ccc7ca503d438005c23cc78913", "commitAfterChange": "47dc3f8abc95e84166365502a0f0491889cd46ca", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " \t private void generateTable(int[] lengths)", "signatureAfterChange": " \t private void generateTable(int[] lengths)", "diff": ["-\t// Sort the values. Primary key is code size. Secondary key is value.", "-\tfor (int i = 0; i < lengths.length - 1; i++) {", "-\t\tfor (int j = i + 1; j < lengths.length; j++) {", "-\t\t\tif (lengths[j] < lengths[i]", "-\t\t\t\t|| (lengths[j] == lengths[i]", "-\t\t\t\t&& codeValues[j] < codeValues[i]))", "-\t\t\t{", "-\t\t\t\tint tmp;", "-\t\t\t\ttmp = lengths[j];", "-\t\t\t\tlengths[j] = lengths[i];", "-\t\t\t\tlengths[i] = tmp;", "-\t\t\t\ttmp = codeValues[j];", "-\t\t\t\tcodeValues[j] = codeValues[i];", "-\t\t\t\tcodeValues[i] = tmp;", "+\t// Sort the values using shellsort. Primary key is code size. Secondary key is value.", "+\tint codeValuesTemp;", "+\tfor (int k = 0; k < 16; k++) {", "+\t\tfor (int h = incs[k], i = h; i < lengths.length; i++) {", "+\t\t\tint v = lengths[i];", "+\t\t\tcodeValuesTemp = codeValues[i];", "+\t\t\tint j = i;", "+\t\t\twhile (j >= h && (lengths[j - h] > v || (lengths[j - h] == v && codeValues[j - h] > codeValuesTemp))) {", "+\t\t\t\tlengths[j] = lengths[j - h];", "+\t\t\t\tcodeValues[j] = codeValues[j - h];", "+\t\t\t\tj -= h;", "+\t\t\tlengths[j] = v;", "+\t\t\tcodeValues[j] = codeValuesTemp;"]}], "num": 14630}