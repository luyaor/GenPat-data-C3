{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "cb2a011b707b61ef7d126b60ff3c84e1", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "426df64d4ea2dd16a0146ad97eb52c3d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Button.java", "commitBeforeChange": "d063aea08192e0213a4b6532b27dc31f9dce6e1b", "commitAfterChange": "48ef0056097e65cbe2f990bf125c93e76b95da33", "methodNumberBeforeChange": 27, "methodNumberAfterChange": 24, "signatureBeforeChange": " public void setText (String string)", "signatureAfterChange": "  public void setText (String string)", "diff": ["- */", "+", "-\t", "-\tint sHandle= 0;", "-\ttry {", "-\t\tsHandle= OS.CFStringCreateWithCharacters(MacUtil.removeMnemonics(string));", "-\t\tif (OS.SetControlTitleWithCFString(handle, sHandle) != OS.kNoErr)", "-\t\t\terror (SWT.ERROR_CANNOT_SET_TEXT);", "-\t} finally {", "-\t\tif (sHandle != 0)", "-\t\t\tOS.CFRelease(sHandle);", "+\ttext = string;", "+\tif (isImage) {", "+\t\tControlButtonContentInfo inContent = new ControlButtonContentInfo();", "+\t\tinContent.contentType = (short)OS.kControlContentTextOnly;", "+\t\tOS.SetBevelButtonContentInfo(handle, inContent);", "-}", "+\tisImage = false;", "+\tint length = text.length ();", "+\tString s = (length == 0) ? \" \": text;", "+\tchar [] buffer = new char [length];", "+\ts.getChars (0, buffer.length, buffer, 0);", "+\tint i=0, j=0;", "+\twhile (i < buffer.length) {", "+\t\tif ((buffer [j++] = buffer [i++]) == Mnemonic) {", "+\t\t\tif (i == buffer.length) {continue;}", "+\t\t\tif (buffer [i] == Mnemonic) {i++; continue;}", "+\t\t\tj--;", "+\t\t}", "+\tint ptr = OS.CFStringCreateWithCharacters (OS.kCFAllocatorDefault, buffer, j);", "+\tif (ptr == 0) error (SWT.ERROR_CANNOT_SET_TEXT);", "+\tOS.SetControlTitleWithCFString (handle, ptr);", "+\tOS.CFRelease (ptr);", "+\tredraw ();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c50646da06c9de7e0ccb7ea8e540990e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Group.java", "commitBeforeChange": "d063aea08192e0213a4b6532b27dc31f9dce6e1b", "commitAfterChange": "48ef0056097e65cbe2f990bf125c93e76b95da33", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 9, "signatureBeforeChange": " public void setText (String string)", "signatureAfterChange": " public void setText (String string)", "diff": ["-\tint sHandle= 0;", "-\ttry {", "-\t\tsHandle= OS.CFStringCreateWithCharacters(MacUtil.removeMnemonics(string));", "-\t\tOS.SetControlTitleWithCFString(handle, sHandle);", "-\t} finally {", "-\t\tif (sHandle != 0)", "-\t\t\tOS.CFRelease(sHandle);", "+\tif ((style & SWT.ARROW) != 0) return;", "+\ttext = string;", "+\tchar [] buffer = new char [text.length ()];", "+\ttext.getChars (0, buffer.length, buffer, 0);", "+\tint i=0, j=0;", "+\twhile (i < buffer.length) {", "+\t\tif ((buffer [j++] = buffer [i++]) == Mnemonic) {", "+\t\t\tif (i == buffer.length) {continue;}", "+\t\t\tif (buffer [i] == Mnemonic) {i++; continue;}", "+\t\t\tj--;", "+\t\t}", "+\tint ptr = OS.CFStringCreateWithCharacters (OS.kCFAllocatorDefault, buffer, j);", "+\tif (ptr == 0) error (SWT.ERROR_CANNOT_SET_TEXT);", "+\tOS.SetControlTitleWithCFString (handle, ptr);", "+\tOS.CFRelease (ptr);"]}], "num": 9862}