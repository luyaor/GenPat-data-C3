{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a41057ef3a8f063007b0d89d5fce1851", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "613854c01a600115ddfb277a06b05685", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/internal/Converter.java", "commitBeforeChange": "5f80bb3b53d7e26adb3e7ce4f4f973204cc40174", "commitAfterChange": "5fbe5d6518706b4f002ddbbebf7e1f63d1877af8", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "\r \r public static byte [] wcsToMbcs (String codePage, String string, boolean terminate)", "signatureAfterChange": "\r \r public static byte [] wcsToMbcs (String codePage, String string, boolean terminate)", "diff": ["-\t//SLOW AND BOGUS\r", "-\tint count = string.length ();\r", "-\tif (terminate) count++;\r", "-\tchar [] buffer = new char [count];\r", "-\tstring.getChars (0, string.length (), buffer, 0);\r", "-\treturn wcsToMbcs (codePage, buffer, false);\r", "+\tint length = string.length ();\r", "+\tchar [] buffer = new char [length];\r", "+\tstring.getChars (0, length, buffer, 0);\r", "+\treturn wcsToMbcs (codePage, buffer, terminate);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dca7c6ac9d9445e3e282ddb2e8a37bbd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/photon/org/eclipse/swt/internal/Converter.java", "commitBeforeChange": "7f53a19a8ca78d6c8f1f3c2e394b3cec56a28171", "commitAfterChange": "f1331a11098658ad6c3161dd120f5f98a3b5a1b5", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "\r public static byte [] wcsToMbcs (String codePage, String string, boolean terminate)", "signatureAfterChange": "\r public static byte [] wcsToMbcs (String codePage, String string, boolean terminate)", "diff": ["-\tint count = string.length ();\r", "-\tif (terminate) count++;\r", "-\tchar [] buffer = new char [count];\r", "-\tstring.getChars (0, string.length (), buffer, 0);\r", "-\treturn wcsToMbcs (codePage, buffer, false);\r", "+\tif (!terminate) return string.getBytes ();\r", "+\tbyte [] buffer1 = string.getBytes ();\r", "+\tbyte [] buffer2 = new byte [buffer1.length + 1];\r", "+\tSystem.arraycopy (buffer1, 0, buffer2, 0, buffer1.length);\r", "+\treturn buffer2;\r"]}], "num": 7989}