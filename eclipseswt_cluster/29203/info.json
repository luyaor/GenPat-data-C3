{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3f14b2f5efe0622d5f589e800b0828e3", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d569e1fad189577118d0cd4057dcd3e2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "d063aea08192e0213a4b6532b27dc31f9dce6e1b", "commitAfterChange": "48ef0056097e65cbe2f990bf125c93e76b95da33", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 11, "signatureBeforeChange": " public void drawLine (int x1, int y1, int x2, int y2)", "signatureAfterChange": " public void drawLine(int x1, int y1, int x2, int y2)", "diff": ["-public void drawLine (int x1, int y1, int x2, int y2) {", "+public void drawLine(int x1, int y1, int x2, int y2) {", "-\ttry {", "-\t\tif (focus(true, null)) {", "-\t\t\tMacUtil.RGBForeColor(data.foreground);", "-\t\t\tOS.PenSize((short) fLineWidth, (short) fLineWidth);", "-\t\t\tOS.MoveTo((short)x1, (short)y1);", "-\t\t\tOS.LineTo((short)x2, (short)y2);", "-\t\t}", "-\t} finally {", "-\t\tunfocus(true);", "-\t}", "+\tOS.CGContextBeginPath(handle);", "+\tOS.CGContextMoveToPoint(handle, x1, y1);", "+\tOS.CGContextAddLineToPoint(handle, x2, y2);", "+\tOS.CGContextStrokePath(handle);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7c9547b998273b42b345e01c69df3a3b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "e126ad021104dbb3243e0172869102689e47d9ea", "commitAfterChange": "0e8a570081bb69ceef90ce876916fc7851c390a5", "methodNumberBeforeChange": 60, "methodNumberAfterChange": 60, "signatureBeforeChange": " public void setClipping(Rectangle r)", "signatureAfterChange": " public void setClipping(Rectangle r)", "diff": ["-\t\t} else {", "-\t\t\treturn;", "+\t\t\tdata.updateClip = true;", "-\t} else {", "-\t\tif (data.clipRgn == 0) data.clipRgn = OS.NewRgn();", "-\t\tOS.SetRectRgn(data.clipRgn, (short)r.x, (short)r.y, (short)(r.x + r.width), (short)(r.y + r.height));", "+\t\treturn;", "-\tdata.updateClip = true;", "+\tsetClipping (r.x, r.y, r.width, r.height);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "54db6a47b349bb8e684a5e8d23d0b9e1", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/Region.java", "commitBeforeChange": "e374066af9b5f7a250b40b2ea904bff5a5794575", "commitAfterChange": "d3637803405248f313cb5e98d2200534b9e9eeb6", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": " public void add(Rectangle rect)", "signatureAfterChange": " public void add (int[] pointArray)", "diff": ["+ */", "+public void add (int[] pointArray) {", "+\tif (isDisposed()) SWT.error(SWT.ERROR_GRAPHIC_DISPOSED);", "+\tif (pointArray == null) SWT.error(SWT.ERROR_NULL_ARGUMENT);", "+\tint polyRgn = OS.gdk_region_polygon(pointArray, pointArray.length / 2, OS.GDK_EVEN_ODD_RULE);", "+\tOS.gdk_region_union(handle, polyRgn);", "+\tOS.gdk_region_destroy(polyRgn);", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "db7f4580d5c43a0cfb7a6ae71442f85a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/Region.java", "commitBeforeChange": "cca20cc35c662465b59b7de40e7f076472dd1445", "commitAfterChange": "5260c59e8c29a1f3e9622ba11d34d5eb775d9540", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": " public void add(Rectangle rect)", "signatureAfterChange": " public void add(Rectangle rect)", "diff": ["+\tadd (rect.x, rect.y, rect.width, rect.height);", "+}", "-\tOS.SetRect(r, (short)rect.x, (short)rect.y, (short)(rect.x + rect.width),(short)(rect.y + rect.height));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9caef382278b87e5b8997981d68bee60", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Caret.java", "commitBeforeChange": "ffffc7867bd181639d306b3c13c7650c4d7eb6b8", "commitAfterChange": "07ebdcfac59891978ad91f3df578012ddb3ec897", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "  void move ()", "signatureAfterChange": "  void move ()", "diff": ["-\tif (OS.IsDBLocale) {", "-\t\tPOINT ptCurrentPos = new POINT ();", "-\t\tif (!OS.GetCaretPos (ptCurrentPos)) return;", "-\t\tCOMPOSITIONFORM lpCompForm = new COMPOSITIONFORM ();", "-\t\tlpCompForm.dwStyle = OS.CFS_POINT;", "-\t\tlpCompForm.x = ptCurrentPos.x;", "-\t\tlpCompForm.y = ptCurrentPos.y;", "-\t\tint hwnd = parent.handle;", "-\t\tint hIMC = OS.ImmGetContext (hwnd);", "-\t\tOS.ImmSetCompositionWindow (hIMC, lpCompForm);", "-\t\tOS.ImmReleaseContext (hwnd, hIMC);", "-\t}", "+\tresizeIME ();", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b3130f61bdf950adcdfffb23bf688e0b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "8f1164987597bdcfb3f7ffdca71e5b39dcf3a485", "commitAfterChange": "45b1561398a90cbad1f5547f03d92bd48ffc136c", "methodNumberBeforeChange": 57, "methodNumberAfterChange": 57, "signatureBeforeChange": " public void setClipping(Region region)", "signatureAfterChange": " public void setClipping(Region region)", "diff": ["-\t\t/*", "-\t\t* Bug in the Macintosh. In kEventWindowGetRegion, ", "-\t\t* Carbon assumes the origin of the Region is (0, 0)", "-\t\t* and ignores the actual origin.  This causes the ", "-\t\t* window to be shifted.  The fix is to modify the origin.", "-\t\t*/", "-\t\t// TODO - find a better fix", "-\t\tRect r = new Rect ();", "-\t\tOS.GetRegionBounds (clipRgn, r);", "-\t\tif (r.left != 0 || r.top != 0) {", "-\t\t\tOS.SetRect (r, (short)0, (short)0, (short)1, (short)1);", "-\t\t\tint rectRgn = OS.NewRgn ();", "-\t\t\tOS.RectRgn (rectRgn, r);", "-\t\t\tOS.UnionRgn (rectRgn, clipRgn, clipRgn);", "-\t\t\tOS.DisposeRgn (rectRgn);", "-\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "29ae2b0bf52823ba3ec34dacea816738", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "6dc9967069dd28c50603bd1249587ea05c6cccac", "commitAfterChange": "73689a8a220b036d97224b0ca3c5b0b6a7948c55", "methodNumberBeforeChange": 61, "methodNumberAfterChange": 62, "signatureBeforeChange": "  public void setBounds (int x, int y, int width, int height)", "signatureAfterChange": "  public void setBounds (int x, int y, int width, int height)", "diff": ["-\twidth = Math.max (0, width);", "-\theight = Math.max (0, height);", "+\tsetBounds (x, y, Math.max (0, width), Math.max (0, height), true, true);", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e9a5408d56dccef0cdcc5fe2671f5143", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "6dc9967069dd28c50603bd1249587ea05c6cccac", "commitAfterChange": "73689a8a220b036d97224b0ca3c5b0b6a7948c55", "methodNumberBeforeChange": 69, "methodNumberAfterChange": 73, "signatureBeforeChange": "  public void setSize (int width, int height)", "signatureAfterChange": "  public void setSize (int width, int height)", "diff": ["-\twidth = Math.max (0, width);", "-\theight = Math.max (0, height);", "-\tRect rect = new Rect ();", "-\tOS.GetWindowBounds (shellHandle, (short) OS.kWindowStructureRgn, rect);", "-\tOS.SetRect (rect, rect.left, rect.top, (short)(rect.left + width), (short)(rect.top + height));", "-\tOS.SetWindowBounds (shellHandle, (short) OS.kWindowStructureRgn, rect);", "+\tsetBounds (0, 0, Math.max (0, width), Math.max (0, height), false, true);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8ae69a16c66d49ecb01f29ebad82d166", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "6dc9967069dd28c50603bd1249587ea05c6cccac", "commitAfterChange": "73689a8a220b036d97224b0ca3c5b0b6a7948c55", "methodNumberBeforeChange": 65, "methodNumberAfterChange": 67, "signatureBeforeChange": "  public void setLocation (int x, int y)", "signatureAfterChange": "  public void setLocation (int x, int y)", "diff": ["-\tRect rect = new Rect ();", "-\tOS.GetWindowBounds (shellHandle, (short) OS.kWindowStructureRgn, rect);", "-\tint width = rect.right - rect.left;", "-\tint height = rect.bottom - rect.top;", "-\tOS.SetRect (rect, (short) x, (short) y, (short) (x + width), (short) (y + height));", "-\tOS.SetWindowBounds (shellHandle, (short) OS.kWindowStructureRgn, rect);", "+\tsetBounds (x, y, 0, 0, true, false);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "15de39d5b3d296f46c95f3b5f945187b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/Region.java", "commitBeforeChange": "c9dce9050611e52b5ed16d05fe44b022d208883b", "commitAfterChange": "dcb9a08c8c80007f5d921d5c153a6b8228155665", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": " public void add (Rectangle rect)", "signatureAfterChange": " public void add (int[] pointArray)", "diff": ["+ */", "+public void add (int[] pointArray) {", "+\tif (isDisposed()) SWT.error(SWT.ERROR_GRAPHIC_DISPOSED);", "+\tif (pointArray == null) SWT.error(SWT.ERROR_NULL_ARGUMENT);", "+\tint polyRgn = OS.CreatePolygonRgn(pointArray, pointArray.length / 2, 2);", "+\tOS.CombineRgn (handle, handle, polyRgn, OS.RGN_OR);", "+\tOS.DeleteObject (polyRgn);", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e148bf3995c940de42393001222cc3da", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "b7a00bf87c6bba490035767725a315da54b8693f", "commitAfterChange": "27a42a02f1d3398db6d0fbf73906bf95e2b7693c", "methodNumberBeforeChange": 75, "methodNumberAfterChange": 75, "signatureBeforeChange": "  public void redraw (int x, int y, int width, int height, boolean all)", "signatureAfterChange": "  public void redraw (int x, int y, int width, int height, boolean all)", "diff": ["-\tif (getDrawCount () > 0) return;", "-\tif (!OS.IsControlVisible (handle)) return;", "-\tRect rect = new Rect ();", "-\tOS.GetControlBounds (handle, rect);", "-\tx += rect.left;", "-\ty += rect.top;", "-\tOS.SetRect (rect, (short) x, (short) y, (short)(x + width), (short)(y + height));", "-\tint window = OS.GetControlOwner (handle);", "-\tOS.InvalWindowRect (window, rect);", "+\tredrawWidget (handle, x, y, width, height, all);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9081e4579df69822c36b018c603087fd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/Region.java", "commitBeforeChange": "031854108dce79b6050aa09904e44b11fa1544ac", "commitAfterChange": "cca20cc35c662465b59b7de40e7f076472dd1445", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": " public void add (Rectangle rect)", "signatureAfterChange": " public void add (Rectangle rect)", "diff": ["-\tif (rect.width < 0 || rect.height < 0) SWT.error(SWT.ERROR_INVALID_ARGUMENT);", "-\t", "-\tint rectRgn = OS.CreateRectRgn (rect.x, rect.y, rect.x + rect.width, rect.y + rect.height);", "+\tadd (rect.x, rect.y, rect.width, rect.height);", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "21599bc002bd0e51585d2f0e31624cd8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/Device.java", "commitBeforeChange": "ee51aee1297e2b584abafbb83679f8027c21fe26", "commitAfterChange": "bc920490eea86ebb3a995ca14379bf52e5d10620", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": " public Rectangle getBounds ()", "signatureAfterChange": " public Rectangle getBounds ()", "diff": ["-\tint bitmapHandle= OS.NewBitMap((short)0, (short)0, (short)0);", "-\tint bitmap= OS.DerefHandle(bitmapHandle);", "-\tOS.GetQDGlobalsScreenBits(bitmap);", "-\tSystem.out.println(\"rowbytes: \" + Integer.toHexString(OS.getRowBytes(bitmapHandle)));", "-\tOS.GetPixBounds(bitmapHandle, bounds.getData());", "-\tImage.disposeBitmapOrPixmap(bitmapHandle);", "+\tif (fGDeviceHandle != 0) {", "+\t\tint pm= OS.getgdPMap(fGDeviceHandle);", "+\t\tif (pm != 0)", "+\t\t\tOS.GetPixBounds(pm, bounds.getData());", "+\t}"]}], "num": 29203}