{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f2ac0238c16309e7b2fa63bdbe563789", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9316e2a5c3d014c4b5a8c335f1484aa2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "4b1109db58ecb9bb9b1b51bb55e420f663b89727", "commitAfterChange": "a38cdec12de35954521831ad0e8e78895c25ed1c", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 18, "signatureBeforeChange": " public int getLevel(int offset)", "signatureAfterChange": " public int getLevel(int offset)", "diff": ["-\t\toffset = translateOffset(offset);\t", "-\t\tint level = 0;", "-\t\t//TODO", "-\t\treturn level;", "+\t\toffset = translateOffset(offset);", "+\t\tint /*long*/ glyphOffset = layoutManager.glyphIndexForCharacterAtIndex(offset);", "+\t\tNSRange range  = new NSRange();", "+\t\trange.location = glyphOffset;", "+\t\trange.length = 1;", "+\t\tint /*long*/ pBidiLevels = OS.malloc(1);", "+\t\tbyte[] bidiLevels = new byte[1];", "+\t\tint /*long*/ result = layoutManager.getGlyphsInRange(range, 0, 0, 0, 0, pBidiLevels);", "+\t\tif (result > 0) {", "+\t\t\tOS.memmove(bidiLevels, pBidiLevels, 1);", "+\t\t}", "+\t\tOS.free(pBidiLevels);", "+\t\treturn bidiLevels[0];"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3cf7c3f80523bd59ffeb8cfa27791e57", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "b83eb0c1e4cdccce4cabda49a900c4db34daef55", "commitAfterChange": "1c82c6ccda11546975e6c48e1519f250c201fe86", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 25, "signatureBeforeChange": " public Point getLocation(int offset, boolean trailing)", "signatureAfterChange": " public Point getLocation(int offset, boolean trailing)", "diff": ["-\t\tif (trailing) {", "-\t\t\tNSRange range = new NSRange();", "+\t\tboolean rtl = false;", "+\t\tNSRange range  = new NSRange();", "+\t\trange.location = glyphIndex;", "+\t\trange.length = 1;", "+\t\tint /*long*/ pBidiLevels = OS.malloc(1);", "+\t\tbyte[] bidiLevels = new byte[1];", "+\t\tint /*long*/ result = layoutManager.getGlyphsInRange(range, 0, 0, 0, 0, pBidiLevels);", "+\t\tif (result > 0) {", "+\t\t\tOS.memmove(bidiLevels, pBidiLevels, 1);", "+\t\t\trtl = (bidiLevels[0] & 1) != 0;", "+\t\t}", "+\t\tOS.free(pBidiLevels);", "+\t\tif (trailing != rtl) {"]}], "num": 44422}