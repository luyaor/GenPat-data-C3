{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "507682b6789d33aa8dd3f3e771c1aa8d", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "426df64d4ea2dd16a0146ad97eb52c3d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Button.java", "commitBeforeChange": "d063aea08192e0213a4b6532b27dc31f9dce6e1b", "commitAfterChange": "48ef0056097e65cbe2f990bf125c93e76b95da33", "methodNumberBeforeChange": 27, "methodNumberAfterChange": 24, "signatureBeforeChange": " public void setText (String string)", "signatureAfterChange": "  public void setText (String string)", "diff": ["- */", "+", "-\t", "-\tint sHandle= 0;", "-\ttry {", "-\t\tsHandle= OS.CFStringCreateWithCharacters(MacUtil.removeMnemonics(string));", "-\t\tif (OS.SetControlTitleWithCFString(handle, sHandle) != OS.kNoErr)", "-\t\t\terror (SWT.ERROR_CANNOT_SET_TEXT);", "-\t} finally {", "-\t\tif (sHandle != 0)", "-\t\t\tOS.CFRelease(sHandle);", "+\ttext = string;", "+\tif (isImage) {", "+\t\tControlButtonContentInfo inContent = new ControlButtonContentInfo();", "+\t\tinContent.contentType = (short)OS.kControlContentTextOnly;", "+\t\tOS.SetBevelButtonContentInfo(handle, inContent);", "-}", "+\tisImage = false;", "+\tint length = text.length ();", "+\tString s = (length == 0) ? \" \": text;", "+\tchar [] buffer = new char [length];", "+\ts.getChars (0, buffer.length, buffer, 0);", "+\tint i=0, j=0;", "+\twhile (i < buffer.length) {", "+\t\tif ((buffer [j++] = buffer [i++]) == Mnemonic) {", "+\t\t\tif (i == buffer.length) {continue;}", "+\t\t\tif (buffer [i] == Mnemonic) {i++; continue;}", "+\t\t\tj--;", "+\t\t}", "+\tint ptr = OS.CFStringCreateWithCharacters (OS.kCFAllocatorDefault, buffer, j);", "+\tif (ptr == 0) error (SWT.ERROR_CANNOT_SET_TEXT);", "+\tOS.SetControlTitleWithCFString (handle, ptr);", "+\tOS.CFRelease (ptr);", "+\tredraw ();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "55c9ad1b354844d48b402f5a0d851e7f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Label.java", "commitBeforeChange": "d063aea08192e0213a4b6532b27dc31f9dce6e1b", "commitAfterChange": "48ef0056097e65cbe2f990bf125c93e76b95da33", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 12, "signatureBeforeChange": " public void setText (String string)", "signatureAfterChange": "  public void setText (String string)", "diff": ["- */", "+", "+\tisImage = false;", "-", "-\t/* Strip out mnemonic marker symbols, and remember the mnemonic. */", "-\tchar [] unicode = new char [string.length ()];", "-\tstring.getChars (0, unicode.length, unicode, 0);", "-\tint i=0, j=0, mnemonic=0;", "-\twhile (i < unicode.length) {", "-\t\tif ((unicode [j++] = unicode [i++]) == Mnemonic) {", "-\t\t\tif (i == unicode.length) {continue;}", "-\t\t\tif (unicode [i] == Mnemonic) {i++; continue;}", "-\t\t\tif (mnemonic == 0) mnemonic = unicode [i];", "+\tchar [] buffer = new char [text.length ()];", "+\ttext.getChars (0, buffer.length, buffer, 0);", "+\tint i=0, j=0;", "+\twhile (i < buffer.length) {", "+\t\tif ((buffer [j++] = buffer [i++]) == Mnemonic) {", "+\t\t\tif (i == buffer.length) {continue;}", "+\t\t\tif (buffer [i] == Mnemonic) {i++; continue;}", "-\twhile (j < unicode.length) unicode [j++] = 0;", "-", "-\tredrawWidget (0, 0, 0, 0, false);", "+\tint ptr = OS.CFStringCreateWithCharacters (OS.kCFAllocatorDefault, buffer, j);", "+\tif (ptr == 0) error (SWT.ERROR_CANNOT_SET_TEXT);", "+\tOS.SetControlData (handle, 0 , OS.kControlStaticTextCFStringTag, 4, new int[]{ptr});", "+\tOS.CFRelease (ptr);", "+\tredraw ();"]}], "num": 32554}