{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4ac1be13d650d067b2c5b339de058d26", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "da152daadbee4d56ba3a82de51438601", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "264f8a8e662a8a77e2ad003ff8a3e5a9627fa71c", "commitAfterChange": "26ce37bc8e07696b6fe1ba5ea3dfc2a5775f93fe", "methodNumberBeforeChange": 79, "methodNumberAfterChange": 79, "signatureBeforeChange": "  void initCairo()", "signatureAfterChange": "  void initCairo()", "diff": ["-\tint /*long*/ xDisplay = OS.GDK_DISPLAY();", "-\tint /*long*/ xVisual = OS.gdk_x11_visual_get_xvisual(OS.gdk_visual_get_system());", "-\tint /*long*/ xDrawable = 0;", "-\tint translateX = 0, translateY = 0;", "-\tint /*long*/ drawable = data.drawable;", "-\tif (data.image != null) {", "-\t\txDrawable = OS.GDK_PIXMAP_XID(drawable);", "-\t} else {", "-\t\tif (!data.realDrawable) {", "-\t\t\tint[] x = new int[1], y = new int[1];", "-\t\t\tint /*long*/ [] real_drawable = new int /*long*/ [1];", "-\t\t\tOS.gdk_window_get_internal_paint_info(drawable, real_drawable, x, y);", "-\t\t\txDrawable = OS.gdk_x11_drawable_get_xid(real_drawable[0]);", "-\t\t\ttranslateX = -x[0];", "-\t\t\ttranslateY = -y[0];", "+\tif (OS.GTK_VERSION < OS.VERSION(2, 17, 0)) {", "+\t\tint /*long*/ xDisplay = OS.GDK_DISPLAY();", "+\t\tint /*long*/ xVisual = OS.gdk_x11_visual_get_xvisual(OS.gdk_visual_get_system());", "+\t\tint /*long*/ xDrawable = 0;", "+\t\tint translateX = 0, translateY = 0;", "+\t\tint /*long*/ drawable = data.drawable;", "+\t\tif (data.image != null) {", "+\t\t\txDrawable = OS.GDK_PIXMAP_XID(drawable);", "+\t\t} else {", "+\t\t\tif (!data.realDrawable) {", "+\t\t\t\tint[] x = new int[1], y = new int[1];", "+\t\t\t\tint /*long*/ [] real_drawable = new int /*long*/ [1];", "+\t\t\t\tOS.gdk_window_get_internal_paint_info(drawable, real_drawable, x, y);", "+\t\t\t\txDrawable = OS.gdk_x11_drawable_get_xid(real_drawable[0]);", "+\t\t\t\ttranslateX = -x[0];", "+\t\t\t\ttranslateY = -y[0];", "+\t\t\t}", "+\t\tint[] w = new int[1], h = new int[1];", "+\t\tOS.gdk_drawable_get_size(drawable, w, h);", "+\t\tint width = w[0], height = h[0];", "+\t\tint /*long*/ surface = Cairo.cairo_xlib_surface_create(xDisplay, xDrawable, xVisual, width, height);", "+\t\tif (surface == 0) SWT.error(SWT.ERROR_NO_HANDLES);", "+\t\tCairo.cairo_surface_set_device_offset(surface, translateX, translateY);", "+\t\tdata.cairo = cairo = Cairo.cairo_create(surface);", "+\t\tCairo.cairo_surface_destroy(surface);", "+\t} else {", "+\t\tdata.cairo = cairo = OS.gdk_cairo_create(data.drawable);", "-\tint[] w = new int[1], h = new int[1];", "-\tOS.gdk_drawable_get_size(drawable, w, h);", "-\tint width = w[0], height = h[0];", "-\tint /*long*/ surface = Cairo.cairo_xlib_surface_create(xDisplay, xDrawable, xVisual, width, height);", "-\tif (surface == 0) SWT.error(SWT.ERROR_NO_HANDLES);", "-\tCairo.cairo_surface_set_device_offset(surface, translateX, translateY);", "-\tdata.cairo = cairo = Cairo.cairo_create(surface);", "-\tCairo.cairo_surface_destroy(surface);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "78dd7e953d6bd1edd33edaeadfc792c5", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "c04918391f5d818ca2d1446c6382e2b059b97bd8", "commitAfterChange": "8ed87e8f4c5b43a4bc84dbb741a860ce17f07d4b", "methodNumberBeforeChange": 80, "methodNumberAfterChange": 80, "signatureBeforeChange": "  void initCairo()", "signatureAfterChange": "  void initCairo()", "diff": ["-\tif (OS.GTK_VERSION < OS.VERSION(2, 17, 0)) {", "-\t\tlong /*int*/ xDisplay = OS.gdk_x11_display_get_xdisplay(OS.gdk_display_get_default());", "-\t\tlong /*int*/ xVisual = OS.gdk_x11_visual_get_xvisual(OS.gdk_visual_get_system());", "-\t\tlong /*int*/ xDrawable = 0;", "-\t\tint translateX = 0, translateY = 0;", "-\t\tlong /*int*/ drawable = data.drawable;", "-\t\tif (data.image != null) {", "-\t\t\txDrawable = OS.GDK_PIXMAP_XID(drawable);", "-\t\t} else {", "-\t\t\tif (!data.realDrawable) {", "-\t\t\t\tint[] x = new int[1], y = new int[1];", "-\t\t\t\tlong /*int*/ [] real_drawable = new long /*int*/ [1];", "-\t\t\t\tOS.gdk_window_get_internal_paint_info(drawable, real_drawable, x, y);", "-\t\t\t\txDrawable = OS.gdk_x11_drawable_get_xid(real_drawable[0]);", "-\t\t\t\ttranslateX = -x[0];", "-\t\t\t\ttranslateY = -y[0];", "-\t\t\t}", "-\t\t}", "-\t\tint width = 0;", "-\t\tint height = 0;", "-\t\tif (OS.GTK_VERSION >= OS.VERSION(2, 24, 0)) {", "-\t\t\twidth = OS.gdk_window_get_width(data.drawable);", "-\t\t\theight = OS.gdk_window_get_height(data.drawable);", "-\t\t} else {", "-\t\t\tint[] w = new int[1], h = new int[1];", "-\t\t\tOS.gdk_drawable_get_size(drawable, w, h);", "-\t\t\twidth = w[0];", "-\t\t\theight = h[0];", "-\t\t}", "-\t\tlong /*int*/ surface = Cairo.cairo_xlib_surface_create(xDisplay, xDrawable, xVisual, width, height);", "-\t\tif (surface == 0) SWT.error(SWT.ERROR_NO_HANDLES);", "-\t\tCairo.cairo_surface_set_device_offset(surface, translateX, translateY);", "-\t\tdata.cairo = cairo = Cairo.cairo_create(surface);", "-\t\tCairo.cairo_surface_destroy(surface);", "-\t} else {", "-\t\tdata.cairo = cairo = OS.gdk_cairo_create(data.drawable);", "-\t}", "+\tdata.cairo = cairo = OS.gdk_cairo_create(data.drawable);"]}], "num": 47351}