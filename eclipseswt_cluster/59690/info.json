{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8355d1019bc7c953ee499109f252c424", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "77023f724520138c817632684d4c27ab", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/Device.java", "commitBeforeChange": "2329406946d89122eb3bd38a262415d60b3058b9", "commitAfterChange": "cded08d14de8be5b307c83a69e77cb7eb2c5024a", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 17, "signatureBeforeChange": " public FontData [] getFontList (String faceName, boolean scalable)", "signatureAfterChange": " public FontData [] getFontList (String faceName, boolean scalable)", "diff": ["-\tint count = nFonts - offset;", "-\tFontData [] result = new FontData [count];", "-\tfor (int i=0; i<count; i++) {", "-\t\tint index = i + offset;", "-\t\tresult [i] = FontData.win32_new (logFonts [index], Compatibility.round(pixels [index] * 72, logPixelsY));", "+\tint count = 0;", "+\tFontData [] result = new FontData [nFonts - offset];", "+\tfor (int i=offset; i<nFonts; i++) {", "+\t\tFontData fd = FontData.win32_new (logFonts [i], pixels [i] * 72f / logPixelsY);", "+\t\tint j;", "+\t\tfor (j = 0; j < count; j++) {", "+\t\t\tif (fd.equals (result [j])) break;", "+\t\t}", "+\t\tif (j == count) result [count++] = fd;", "+\t}", "+\tif (count != result.length) {", "+\t\tFontData [] newResult = new FontData [count];", "+\t\tSystem.arraycopy (result, 0, newResult, 0, count);", "+\t\tresult = newResult;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c4890e74d8be45cadea1cb110ff62afb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/Device.java", "commitBeforeChange": "4b2efc18e9766c038130b73874c789ddb36da6d2", "commitAfterChange": "7f498f5e56b7c0fade96b51d0436413dc870fa9b", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": " public FontData[] getFontList (String faceName, boolean scalable)", "signatureAfterChange": " public FontData[] getFontList (String faceName, boolean scalable)", "diff": ["+\tString systemFontName = systemFont.getFontData()[0].getName();", "+\tboolean systemFontIncluded = false;", "+\t\t\t\t\t\tif (Compatibility.equalsIgnoreCase(systemFontName, name)) {", "+\t\t\t\t\t\t\tsystemFontIncluded = true;", "+\t\t\t\t\t\t}", "+\tif (!systemFontIncluded && (faceName == null || Compatibility.equalsIgnoreCase(faceName, systemFontName))) {", "+\t\t/*", "+\t\t * Feature in Mac OS X 10.10: The default system font \".Helvetica Neue DeskInterface\"", "+\t\t * is not available from the NSFontManager. The fix is to include it manually if necessary.", "+\t\t */", "+\t\tif (count == fds.length) {", "+\t\t\tFontData[] newFds = new FontData[fds.length + 1];", "+\t\t\tSystem.arraycopy(fds, 0, newFds, 0, fds.length);", "+\t\t\tfds = newFds;", "+\t\t}", "+\t\tfds[count++] = systemFont.getFontData()[0];", "+\t}"]}], "num": 59690}