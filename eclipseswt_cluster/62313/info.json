{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "06af4b3202263f1beffd9bf3aa0f70cc", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "50ef89a3fd003cd0b8c2e4aca713ce4d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "f699db6750189f737837a9f6195bd87512c2c588", "commitAfterChange": "ece89cfb21571317fb6c86186d3424edb03c00a2", "methodNumberBeforeChange": 139, "methodNumberAfterChange": 140, "signatureBeforeChange": "  LRESULT wmNotifyChild (int wParam, int lParam)", "signatureAfterChange": "  LRESULT wmNotifyChild (int wParam, int lParam)", "diff": ["-\t\t\t\t\tTCHAR buffer = new TCHAR (getCodePage (), string, false);", "-\t\t\t\t\tint byteCount = Math.min (buffer.length (), plvfi.cchTextMax - 1) * TCHAR.sizeof;", "-\t\t\t\t\tOS.MoveMemory (plvfi.pszText, buffer, byteCount);", "-\t\t\t\t\tOS.MoveMemory (plvfi.pszText + byteCount, new byte [TCHAR.sizeof], TCHAR.sizeof);", "-\t\t\t\t\tplvfi.cchTextMax = Math.min (plvfi.cchTextMax, string.length () + 1);", "+", "+\t\t\t\t\tint length = Math.min (string.length (), plvfi.cchTextMax - 1);", "+\t\t\t\t\tchar [] chars = new char [length + 1];", "+\t\t\t\t\tstring.getChars (0, length, chars, 0);", "+\t\t\t\t\tif (OS.IsUnicode) {", "+\t\t\t\t\t\tOS.MoveMemory (plvfi.pszText, chars, chars.length * 2);", "+\t\t\t\t\t} else {", "+\t\t\t\t\t\t//TODO - UNTESTED", "+\t\t\t\t\t\tOS.WideCharToMultiByte (getCodePage (), 0, chars, chars.length, plvfi.pszText, plvfi.cchTextMax, null, null);", "+\t\t\t\t\t\tOS.MoveMemory (plvfi.pszText + plvfi.cchTextMax - 1, new byte [1], 1);", "+\t\t\t\t\t}", "+\t\t\t\t\t", "+//\t\t\t\t\tTCHAR buffer = new TCHAR (getCodePage (), string, false);", "+//\t\t\t\t\tint byteCount = Math.min (buffer.length (), plvfi.cchTextMax - 1) * TCHAR.sizeof;", "+//\t\t\t\t\tOS.MoveMemory (plvfi.pszText, buffer, byteCount);", "+//\t\t\t\t\tOS.MoveMemory (plvfi.pszText + byteCount, new byte [TCHAR.sizeof], TCHAR.sizeof);", "+//\t\t\t\t\tplvfi.cchTextMax = Math.min (plvfi.cchTextMax, string.length () + 1);", "+\t\t\tboolean move = false;", "-\t\t\t\tif (image != null) plvfi.iImage = imageIndex (image);", "+\t\t\t\tif (image != null) {", "+\t\t\t\t\tplvfi.iImage = imageIndex (image);", "+\t\t\t\t\tmove = true;", "+\t\t\t\t}", "+\t\t\t\t\tmove = true;", "-\t\t\t\tif (plvfi.iSubItem == 0) plvfi.iIndent = item.imageIndent;", "+\t\t\t\tif (plvfi.iSubItem == 0) {", "+\t\t\t\t\tplvfi.iIndent = item.imageIndent;", "+\t\t\t\t\tmove = true;", "+\t\t\t\t}", "-\t\t\tOS.MoveMemory (lParam, plvfi, NMLVDISPINFO.sizeof);", "+\t\t\tif (move) OS.MoveMemory (lParam, plvfi, NMLVDISPINFO.sizeof);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1770b8fed266166d5ffa2d8d6c6e0b6a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/treetable/org/eclipse/swt/widgets/TableItem.java", "commitBeforeChange": "ed6471c0ec0d0ee0c1436d2bdeadc8ba513ab4fd", "commitAfterChange": "034d8fba7f4ca7576ddaeee539a2fb56ee664327", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": " void clear()", "signatureAfterChange": " void clear ()", "diff": ["-}", "-void clear() {", "-\tsuper.clear();", "-\tdataLabels = new Vector();", "-\ttrimmedLabels = new String[getParent().internalGetColumnCount()];", "-\timages = new Vector();", "-\tselectionExtent = null;", "-\tbackground = foreground = null;", "-\tfont = null;", "-\tcellBackground = cellForeground = null;", "-\tcellFont = null;", "-\ttextWidths = null;", "-\tcached = false;", "-}", "+void clear () {", "+\tchecked = grayed = false;", "+\ttexts = null;", "+\tint[] textWidths = new int [1];", "+\tfontHeight = 0;", "+\tfontHeights = null;", "+\tdisplayTexts = null;", "+\tcellForegrounds = cellBackgrounds = null;", "+\tcellFonts = null;", "+\tcached = false;", "+\tint columnCount = parent.columns.length;", "+\tif (columnCount > 0) {", "+\t\tdisplayTexts = new String [columnCount];", "+\t\tif (columnCount > 1) {", "+\t\t\ttexts = new String [columnCount];", "+\t\t\ttextWidths = new int [columnCount];", "+\t\t\timages = new Image [columnCount];", "+\t\t}", "+\t}", "+}"]}], "num": 62313}