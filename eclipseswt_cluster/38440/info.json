{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5030198beb6ef29e722d53efbfda7a72", "detectedBy": ["DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "da3b2c35cd9351da521cad4d1d3f4d36", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/carbon/org/eclipse/swt/dnd/StyledTextDragAndDropEffect.java", "commitBeforeChange": "2d2bba5faabace43be6c1bd867c71724ed82bb37", "commitAfterChange": "94eca708710e7f0e16144697653aeb4db6c9e562", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " void showDropTargetEffect(int effect, int x, int y)", "signatureAfterChange": " void showDropTargetEffect(int effect, int x, int y)", "diff": ["+\t\tint newOffset = -1;", "-\t\t\ttext.setFocus();", "-\t\t\tint offset = text.getOffsetAtLocation(pt);", "-\t\t\tif (offset != oldOffset) {", "-\t\t\t\ttext.setCaretOffset(offset);", "-\t\t\t}", "-\t\t} catch (IllegalArgumentException ex) {", "+\t\t\tnewOffset = text.getOffsetAtLocation(pt);", "+\t\t} catch (IllegalArgumentException ex1) {", "-\t\t\tint offset = -1;", "-\t\t\t\t\toffset = maxOffset;", "+\t\t\t\t\tnewOffset = maxOffset;", "-\t\t\t\t\toffset = text.getOffsetAtLocation(new Point(pt.x, maxLocation.y));", "+\t\t\t\t\ttry {", "+\t\t\t\t\t\tnewOffset = text.getOffsetAtLocation(new Point(pt.x, maxLocation.y));", "+\t\t\t\t\t} catch (IllegalArgumentException ex2) {", "+\t\t\t\t\t\tnewOffset = -1;", "+\t\t\t\t\t}", "-\t\t\t\toffset = maxOffset;", "+\t\t\t\ttry {", "+\t\t\t\t\tint startOffset = text.getOffsetAtLocation(new Point(0, pt.y));", "+\t\t\t\t\tint endOffset = maxOffset;", "+\t\t\t\t\tint line = text.getLineAtOffset(startOffset);", "+\t\t\t\t\tint lineCount = text.getLineCount();", "+\t\t\t\t\tif (line + 1 < lineCount) {", "+\t\t\t\t\t\tendOffset = text.getOffsetAtLine(line + 1)  - 1;", "+\t\t\t\t\t}", "+\t\t\t\t\tint lineHeight = text.getLineHeight(startOffset);", "+\t\t\t\t\tfor (int i = endOffset; i >= startOffset; i--) {", "+\t\t\t\t\t\tPoint p = text.getLocationAtOffset(i);", "+\t\t\t\t\t\tif (p.x < pt.x && p.y < pt.y && p.y + lineHeight > pt.y) {", "+\t\t\t\t\t\t\tnewOffset = i;", "+\t\t\t\t\t\t\tbreak;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t} catch (IllegalArgumentException ex2) {", "+\t\t\t\t\tnewOffset = -1;", "+\t\t\t\t}", "-\t\t\tif (offset != -1 && offset != oldOffset) {", "-\t\t\t\ttext.setCaretOffset(offset);", "-\t\t\t}", "+\t\t}", "+\t\tif (newOffset != -1 && newOffset != oldOffset) {", "+\t\t\ttext.setFocus();", "+\t\t\ttext.setCaretOffset(newOffset);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7d61cd41afe733881c46a0d2668c87b0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/win32/org/eclipse/swt/dnd/StyledTextDragAndDropEffect.java", "commitBeforeChange": "73e72128905a43ee613da169ec1f3d7a66a65b79", "commitAfterChange": "1dce96d2e02b2c8b1285af4b452459877daaec8f", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " void showDropTargetEffect(int effect, int x, int y)", "signatureAfterChange": " void showDropTargetEffect(int effect, int x, int y)", "diff": ["+\t\tint newOffset = -1;", "-\t\t\ttext.setFocus();", "-\t\t\tint offset = text.getOffsetAtLocation(pt);", "-\t\t\tif (offset != oldOffset) {", "-\t\t\t\tOS.ImageList_DragShowNolock(false);", "-\t\t\t\ttext.setCaretOffset(offset);", "-\t\t\t\tOS.ImageList_DragShowNolock(true);", "-\t\t\t}", "-\t\t} catch (IllegalArgumentException ex) {", "+\t\t\tnewOffset = text.getOffsetAtLocation(pt);", "+\t\t} catch (IllegalArgumentException ex1) {", "-\t\t\tint offset = -1;", "-\t\t\t\t\toffset = maxOffset;", "+\t\t\t\t\tnewOffset = maxOffset;", "-\t\t\t\t\toffset = text.getOffsetAtLocation(new Point(pt.x, maxLocation.y));", "+\t\t\t\t\ttry {", "+\t\t\t\t\t\tnewOffset = text.getOffsetAtLocation(new Point(pt.x, maxLocation.y));", "+\t\t\t\t\t} catch (IllegalArgumentException ex2) {", "+\t\t\t\t\t\tnewOffset = -1;", "+\t\t\t\t\t}", "-\t\t\t\toffset = maxOffset;", "+\t\t\t\ttry {", "+\t\t\t\t\tint startOffset = text.getOffsetAtLocation(new Point(2, pt.y));", "+\t\t\t\t\tint endOffset = maxOffset;", "+\t\t\t\t\tint line = text.getLineAtOffset(startOffset);", "+\t\t\t\t\tint lineCount = text.getLineCount();", "+\t\t\t\t\tif (line + 1 < lineCount) {", "+\t\t\t\t\t\tendOffset = text.getOffsetAtLine(line + 1)  - 1;", "+\t\t\t\t\t}", "+\t\t\t\t\tint lineHeight = text.getLineHeight(startOffset);", "+\t\t\t\t\tfor (int i = endOffset; i >= startOffset; i--) {", "+\t\t\t\t\t\tPoint p = text.getLocationAtOffset(i);", "+\t\t\t\t\t\tif (p.x < pt.x && p.y < pt.y && p.y + lineHeight > pt.y) {", "+\t\t\t\t\t\t\tnewOffset = i;", "+\t\t\t\t\t\t\tbreak;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t} catch (IllegalArgumentException ex2) {", "+\t\t\t\t\tnewOffset = -1;", "+\t\t\t\t}", "-\t\t\tif (offset != -1 && offset != oldOffset) {", "-\t\t\t\tOS.ImageList_DragShowNolock(false);", "-\t\t\t\ttext.setCaretOffset(offset);", "-\t\t\t\tOS.ImageList_DragShowNolock(true);", "-\t\t\t}", "+\t\t}", "+\t\tif (newOffset != -1 && newOffset != oldOffset) {", "+\t\t\ttext.setFocus();", "+\t\t\tOS.ImageList_DragShowNolock(false);", "+\t\t\ttext.setCaretOffset(newOffset);", "+\t\t\tOS.ImageList_DragShowNolock(true);"]}], "num": 38440}