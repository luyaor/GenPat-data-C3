{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "1636ea202e94c54b4aea5af046866d6f", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e0e6ad6115027ca9a40fd050e4f7458c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "87c0fbdc76442698239433834ac5c24b8702e015", "commitAfterChange": "1abca3de880ca8fa3712038f321ffb3a0803dd38", "methodNumberBeforeChange": 47, "methodNumberAfterChange": 47, "signatureBeforeChange": " public int getOffset (int x, int y, int[] trailing)", "signatureAfterChange": " public int getOffset (int x, int y, int[] trailing)", "diff": ["-\t\t\tif (trailing != null) trailing[0] = piTrailing[0];", "-\t\t\treturn untranslateOffset(run.start + piCP[0]);", "+\t\t\tint offset = run.start + piCP[0];", "+\t\t\tchar ch = segmentsText.charAt(offset);", "+\t\t\tint length = segmentsText.length();", "+\t\t\tif (0xD800 <= ch && ch <= 0xDBFF) {", "+\t\t\t\tif (offset + 1 < length) {", "+\t\t\t\t\tch = segmentsText.charAt(offset + 1);", "+\t\t\t\t\tif (0xDC00 <= ch && ch <= 0xDFFF) {", "+\t\t\t\t\t\tif (trailing != null) trailing[0] = 0;", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t} else if (0xDC00 <= ch && ch <= 0xDFFF) {", "+\t\t\t\tif (offset - 1 >= 0) {", "+\t\t\t\t\tch = segmentsText.charAt(offset - 1);", "+\t\t\t\t\tif (0xD800 <= ch && ch <= 0xDBFF) {", "+\t\t\t\t\t\toffset--;", "+\t\t\t\t\t\tif (trailing != null) trailing[0] = 2;", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t} else {", "+\t\t\t\tif (trailing != null) trailing[0] = piTrailing[0];", "+\t\t\t}", "+\t\t\treturn untranslateOffset(offset);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d9cc76c894e850c612c2da7fddb8ccaf", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "6a591c96a44b9d5f830dcefd1d18bfa2992d97db", "commitAfterChange": "a60f74882c6f498e020d63161ea5689fcd9bfeb2", "methodNumberBeforeChange": 43, "methodNumberAfterChange": 43, "signatureBeforeChange": " public Point getLocation (int offset, boolean trailing)", "signatureAfterChange": " public Point getLocation (int offset, boolean trailing)", "diff": ["+\t/* For trailing use the low surrogate and for lead use the high surrogate */", "+\tchar ch = segmentsText.charAt(offset);", "+\tif (trailing) {", "+\t\tif (0xD800 <= ch && ch <= 0xDBFF) {", "+\t\t\tif (offset + 1 < length) {", "+\t\t\t\tch = segmentsText.charAt(offset + 1);", "+\t\t\t\tif (0xDC00 <= ch && ch <= 0xDFFF) {", "+\t\t\t\t\toffset++;", "+\t\t\t\t}", "+\t\t\t}", "+\t\t}", "+\t} else {", "+\t\tif (0xDC00 <= ch && ch <= 0xDFFF) {", "+\t\t\tif (offset - 1 >= 0) {", "+\t\t\t\tch = segmentsText.charAt(offset - 1);", "+\t\t\t\tif (0xD800 <= ch && ch <= 0xDBFF) {", "+\t\t\t\t\toffset--;", "+\t\t\t\t}", "+\t\t\t}", "+\t\t}", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ff0bd731976f39d2f2762a2755de70d4", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "a60f74882c6f498e020d63161ea5689fcd9bfeb2", "commitAfterChange": "87c0fbdc76442698239433834ac5c24b8702e015", "methodNumberBeforeChange": 30, "methodNumberAfterChange": 30, "signatureBeforeChange": " public Rectangle getBounds (int start, int end)", "signatureAfterChange": " public Rectangle getBounds (int start, int end)", "diff": ["+\t/* use the high surrogate for the start offset and the low surrogate for the end offset */", "+\tlength = segmentsText.length();", "+\tchar ch = segmentsText.charAt(start);", "+\tif (0xDC00 <= ch && ch <= 0xDFFF) {", "+\t\tif (start - 1 >= 0) {", "+\t\t\tch = segmentsText.charAt(start - 1);", "+\t\t\tif (0xD800 <= ch && ch <= 0xDBFF) {", "+\t\t\t\tstart--;", "+\t\t\t}", "+\t\t}", "+\t}", "+\tch = segmentsText.charAt(end);", "+\tif (0xD800 <= ch && ch <= 0xDBFF) {", "+\t\tif (end + 1 < length) {", "+\t\t\tch = segmentsText.charAt(end + 1);", "+\t\t\tif (0xDC00 <= ch && ch <= 0xDFFF) {", "+\t\t\t\tend++;", "+\t\t\t}", "+\t\t}", "+\t}"]}], "num": 51335}