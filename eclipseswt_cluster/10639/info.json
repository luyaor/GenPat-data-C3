{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a0e9889b563f3dfdd7c0bafeeb85e7bd", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5d113f567d1f898308a74828a8d327ab", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/win32/org/eclipse/swt/browser/WebSite.java", "commitBeforeChange": "9e739426b0ad15edfdbaf78c820613ebdfd33078", "commitAfterChange": "0ffb9e015b5f46c2bbd273664df6f39392b4cfbc", "methodNumberBeforeChange": 57, "methodNumberAfterChange": 57, "signatureBeforeChange": "  int ShowMessage(int hwnd, int lpstrText, int lpstrCaption, int dwType, int lpstrHelpFile, int dwHelpContext, int plResult)", "signatureAfterChange": "  int ShowMessage(int hwnd, int lpstrText, int lpstrCaption, int dwType, int lpstrHelpFile, int dwHelpContext, int plResult)", "diff": ["-\t\t\tint cnt = OS.wcslen(lpstrText) + 1;", "+\t\t\tint cnt = OS.wcslen(lpstrText);", "-\t\t\tOS.MoveMemory(buffer, lpstrText, cnt * TCHAR.sizeof);", "+\t\t\t/* ", "+\t\t\t* Note.  lpstrText is unicode on both unicode and ansi platforms.", "+\t\t\t* The nbr of chars is multiplied by the constant 2 and not by TCHAR.sizeof since", "+\t\t\t* TCHAR.sizeof returns 1 on ansi platforms.", "+\t\t\t*/", "+\t\t\tOS.MoveMemory(buffer, lpstrText, cnt * 2);", "-\t\t\tTCHAR lpBuffer = new TCHAR(0, cnt);", "-\t\t\tOS.LoadString(hModule, IDS_MESSAGE_BOX_CAPTION, lpBuffer, cnt);", "+\t\t\t/* provide a buffer large enough to hold the string to compare to */", "+\t\t\tint length = OS.IsUnicode ? cnt : OS.WideCharToMultiByte (OS.CP_ACP, 0, buffer, cnt, 0, 0, null, null) + 1;", "+", "+\t\t\tTCHAR lpBuffer = new TCHAR(0, length);", "+\t\t\tint result = OS.LoadString(hModule, IDS_MESSAGE_BOX_CAPTION, lpBuffer, length);", "-\t\t\treturn text.equals(lpBuffer.toString()) ? COM.S_OK : COM.S_FALSE;", "+\t\t\treturn result > 0 && text.equals(lpBuffer.toString(0, result)) ? COM.S_OK : COM.S_FALSE;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5ee09f4c705648f43d4091b17d9b0fc4", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "1aabdfcf321362ce14a79dda1cbf06d908949843", "commitAfterChange": "aec2ac317a79cdb8245c21e93b10f7eb987adb2b", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 20, "signatureBeforeChange": "  int gtk_clicked (int widget)", "signatureAfterChange": "  int gtk_clicked (int widget)", "diff": ["-\t\t\t\t\tif ((int) x_win [0] > OS.GTK_WIDGET_WIDTH (boxHandle)) {", "+\t\t\t\t\tint x = OS.GTK_WIDGET_X (arrowHandle) - OS.GTK_WIDGET_X (handle);", "+\t\t\t\t\tint width = OS.GTK_WIDGET_WIDTH (arrowHandle);", "+\t\t\t\t\tif (x <= (int)x_win [0] && (int)x_win [0] <= x + width) {"]}], "num": 10639}