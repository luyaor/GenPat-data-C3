{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "55145fdea8770a9d1d3267abbe25ed66", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "021b0fd76d21cef44ec7f63a82a2e383", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "8c847bd90c57b21551e6abc825da8fcbb7ddfcf7", "commitAfterChange": "8b40207186f93905295ccb796650c791ab2fd791", "methodNumberBeforeChange": 207, "methodNumberAfterChange": 207, "signatureBeforeChange": "  void setBackgroundColor (long handle, GdkColor color)", "signatureAfterChange": "  void setBackgroundColor (long handle, GdkColor color)", "diff": ["-\t\t", "+\t\tGdkRGBA rgba = null;", "+\t\tdouble alpha = 1;", "+\t\t\t\talpha = 0;", "-\t    String css =\"GtkWidget {\\n\" +", "-\t    \" background-color: rgb(\"+((color.red >> 8) & 0xFF)+\",\"+((color.green >> 8) & 0xFF)+\",\"+((color.blue >> 8) & 0xFF)+\");\\n\" +", "-\t    \"}\\n\";", "-\t    byte[] css_data = Converter.wcsToMbcs (null, css, true);", "-\t    long /*int*/ context = OS.gtk_widget_get_style_context(handle);", "-\t    long /*int*/ provider = OS.gtk_css_provider_new ();", "-\t    OS.gtk_css_provider_load_from_data (provider, css_data, -1, null);", "-\t    OS.gtk_style_context_add_provider (context, provider, OS.GTK_STYLE_PROVIDER_PRIORITY_APPLICATION);", "-\t    OS.g_object_unref (provider);\t", "+\t\tif (color != null) {", "+\t\t\trgba = new GdkRGBA ();", "+\t\t\trgba.alpha = alpha;", "+\t\t\trgba.red = (color.red & 0xFFFF) / (float)0xFFFF;", "+\t\t\trgba.green = (color.green & 0xFFFF) / (float)0xFFFF;", "+\t\t\trgba.blue = (color.blue & 0xFFFF) / (float)0xFFFF;", "+\t\t}", "+\t\tOS.gtk_widget_override_background_color (handle, OS.GTK_STATE_FLAG_NORMAL, rgba);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b254a615f01f3d451d135b49576bcf7c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "0a5ce139580f2cfdd7832bcaa6dbbfba4cc58225", "commitAfterChange": "f0d2633c2c6f8c5fb1114f85f4f664ece52dbf75", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "  NSAttributedString createString(String string, int flags)", "signatureAfterChange": "  NSAttributedString createString(String string, int flags, boolean draw)", "diff": ["-NSAttributedString createString(String string, int flags) {", "-\tNSMutableDictionary dict = NSMutableDictionary.dictionaryWithCapacity(4);", "-\tfloat /*double*/ [] foreground = data.foreground;\t", "-\tPattern pattern = data.foregroundPattern;", "-\tif (pattern != null) {", "-\t\tif (pattern.color != null) dict.setObject(pattern.color, OS.NSForegroundColorAttributeName);", "-\t} else {", "-\t\tNSColor color = NSColor.colorWithDeviceRed(foreground[0], foreground[1], foreground[2], data.alpha / 255f);", "-\t\tdict.setObject(color, OS.NSForegroundColorAttributeName);", "-\t}", "+NSAttributedString createString(String string, int flags, boolean draw) {", "+\tNSMutableDictionary dict = ((NSMutableDictionary)new NSMutableDictionary().alloc()).initWithCapacity(3);", "-\tif ((flags & SWT.DRAW_TRANSPARENT) == 0) {", "-\t\tfloat /*double*/ [] background = data.background;", "-\t\tNSColor color = NSColor.colorWithDeviceRed(background[0], background[1], background[2], data.alpha / 255f);", "-\t\tdict.setObject(color, OS.NSBackgroundColorAttributeName);", "+\tif (draw) {", "+\t\tPattern pattern = data.foregroundPattern;", "+\t\tif (pattern != null) {", "+\t\t\tif (pattern.color != null) dict.setObject(pattern.color, OS.NSForegroundColorAttributeName);", "+\t\t} else {", "+\t\t\tNSColor fg = data.fg;", "+\t\t\tif (fg == null) {", "+\t\t\t\tfloat /*double*/ [] color = data.foreground;", "+\t\t\t\tfg = data.fg = NSColor.colorWithDeviceRed(color[0], color[1], color[2], data.alpha / 255f);", "+\t\t\t\tfg.retain();", "+\t\t\t}", "+\t\t\tdict.setObject(fg, OS.NSForegroundColorAttributeName);", "+\t\t}", "-\t\tNSMutableParagraphStyle paragraph = (NSMutableParagraphStyle)new NSMutableParagraphStyle().alloc().init();", "-\t\tparagraph.setAlignment(OS.NSLeftTextAlignment);", "-\t\tparagraph.setLineBreakMode(OS.NSLineBreakByClipping);", "-\t\tparagraph.setTabStops(NSArray.array());", "-\t\tdict.setObject(paragraph, OS.NSParagraphStyleAttributeName);", "-\t\tparagraph.release();", "+\t\tdict.setObject(device.paragraphStyle, OS.NSParagraphStyleAttributeName);", "-\tNSString str = NSString.stringWithCharacters(chars, length);", "-\treturn ((NSAttributedString)new NSAttributedString().alloc()).initWithString(str, dict);", "+\tNSString str = ((NSString)new NSString().alloc()).initWithCharacters(chars, length);", "+\tNSAttributedString attribStr = ((NSAttributedString)new NSAttributedString().alloc()).initWithString(str, dict);", "+\tdict.release();", "+\tstr.release();", "+\treturn attribStr;"]}], "num": 31826}