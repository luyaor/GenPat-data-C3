{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9604f18e01ec4897b95a6549ea454275", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8fb85d39c440e30c27fcd2cb32b92dd7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/common/org/eclipse/swt/browser/Mozilla.java", "commitBeforeChange": "d8955edbe9f5c9464b222d0331748137a5a534b7", "commitAfterChange": "b533c1ac7667bcd66286ef15cde6bafc62a4cf97", "methodNumberBeforeChange": 125, "methodNumberAfterChange": 125, "signatureBeforeChange": "  @Override public String getText ()", "signatureAfterChange": "  @Override public String getText ()", "diff": ["-\trc = componentManager.CreateInstanceByContractID (contractID, 0, nsIDOMSerializer_1_7.NS_IDOMSERIALIZER_IID, result);", "-\tif (rc == XPCOM.NS_OK) {\t/* mozilla >= 1.7 */", "-\t\tif (result[0] == 0) error (XPCOM.NS_NOINTERFACE);", "-", "-\t\tnsIDOMSerializer_1_7 serializer = new nsIDOMSerializer_1_7 (result[0]);", "-\t\tresult[0] = 0;", "-\t\tlong /*int*/ string = XPCOM.nsEmbedString_new ();", "-\t\trc = serializer.SerializeToString (document, string);", "-\t\tserializer.Release ();", "-", "-\t\tint length = XPCOM.nsEmbedString_Length (string);", "-\t\tlong /*int*/ buffer = XPCOM.nsEmbedString_get (string);", "-\t\tchars = new char[length];", "-\t\tXPCOM.memmove (chars, buffer, length * 2);", "-\t\tXPCOM.nsEmbedString_delete (string);", "-\t} else {\t/* mozilla < 1.7 */", "-\t\trc = componentManager.CreateInstanceByContractID (contractID, 0, nsIDOMSerializer.NS_IDOMSERIALIZER_IID, result);", "-\t\tif (rc != XPCOM.NS_OK) error (rc);", "-\t\tif (result[0] == 0) error (XPCOM.NS_NOINTERFACE);", "-", "+\trc = componentManager.CreateInstanceByContractID (contractID, 0, IIDStore.GetIID (nsIDOMSerializer.class), result);", "+\tif (rc == XPCOM.NS_OK && result[0] != 0) {", "-\t\trc = serializer.SerializeToString (document, result);", "+\t\tif (MozillaVersion.CheckVersion (MozillaVersion.VERSION_XR1_8)) {", "+\t\t\tlong /*int*/ string = XPCOM.nsEmbedString_new ();", "+\t\t\trc = serializer.SerializeToString (document, string);", "+\t\t\tif (rc == XPCOM.NS_OK) {", "+\t\t\t\tint length = XPCOM.nsEmbedString_Length (string);", "+\t\t\t\tlong /*int*/ buffer = XPCOM.nsEmbedString_get (string);", "+\t\t\t\tchars = new char[length];", "+\t\t\t\tXPCOM.memmove (chars, buffer, length * 2);", "+\t\t\t}", "+\t\t\tXPCOM.nsEmbedString_delete (string);", "+\t\t} else {", "+\t\t\trc = serializer.SerializeToString (document, result);", "+\t\t\tif (rc == XPCOM.NS_OK) {", "+\t\t\t\tint length = XPCOM.strlen_PRUnichar (result[0]);", "+\t\t\t\tchars = new char[length];", "+\t\t\t\tXPCOM.memmove (chars, result[0], length * 2);", "+\t\t\t}", "+\t\t}", "-", "-\t\tint length = XPCOM.strlen_PRUnichar (result[0]);", "-\t\tchars = new char[length];", "-\t\tXPCOM.memmove (chars, result[0], length * 2);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9adff18d736c39f558ea46d01c055146", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/common/org/eclipse/swt/browser/Mozilla.java", "commitBeforeChange": "43edc8526cd83c21442a0953e22b63d80dc5f862", "commitAfterChange": "105b5a42fd897b8ae6aa22075fae14da8947b7af", "methodNumberBeforeChange": 210, "methodNumberAfterChange": 210, "signatureBeforeChange": "  int NotifyCertProblem (long socketInfo, long status, long targetSite, long _suppressError)", "signatureAfterChange": "  int NotifyCertProblem (long socketInfo, long status, long targetSite, long _suppressError)", "diff": ["-\t\tlong /*int*/ ptr = XPCOM.nsEmbedString_new ();", "-\t\trc = cert.GetCommonName (ptr);", "+\t\tnsEmbedString ptr = new nsEmbedString ();", "+\t\trc = cert.GetCommonName (ptr.getAddress());", "-\t\tlength = XPCOM.nsEmbedString_Length (ptr);", "-\t\tbuffer = XPCOM.nsEmbedString_get (ptr);", "-\t\tchar[] chars = new char[length];", "-\t\tXPCOM.memmove (chars, buffer, length * 2);", "-\t\tString name = new String (chars);", "+\t\tString name = ptr.toString ();", "-\t\tXPCOM.nsEmbedString_delete (ptr);", "+\t\tptr.dispose ();", "-\t\tlong /*int*/ ptr = XPCOM.nsEmbedString_new ();", "-\t\trc = validity.GetNotBeforeGMT (ptr);", "+\t\tnsEmbedString ptr = new nsEmbedString ();", "+\t\trc = validity.GetNotBeforeGMT (ptr.getAddress());", "-\t\tlength = XPCOM.nsEmbedString_Length (ptr);", "-\t\tbuffer = XPCOM.nsEmbedString_get (ptr);", "-\t\tchar[] chars = new char[length];", "-\t\tXPCOM.memmove (chars, buffer, length * 2);", "-\t\tString notBefore = new String (chars);", "-\t\tXPCOM.nsEmbedString_delete (ptr);", "+\t\tString notBefore = ptr.toString ();", "+\t\tptr.dispose ();", "-\t\tptr = XPCOM.nsEmbedString_new ();", "-\t\trc = validity.GetNotAfterGMT (ptr);", "+\t\tptr = new nsEmbedString ();", "+\t\trc = validity.GetNotAfterGMT (ptr.getAddress());", "-\t\tlength = XPCOM.nsEmbedString_Length (ptr);", "-\t\tbuffer = XPCOM.nsEmbedString_get (ptr);", "-\t\tchars = new char[length];", "-\t\tXPCOM.memmove (chars, buffer, length * 2);", "-\t\tString notAfter = new String (chars);", "-\t\tXPCOM.nsEmbedString_delete (ptr);", "+\t\tString notAfter = ptr.toString ();", "+\t\tptr.dispose ();", "-\t\tlong /*int*/ ptr = XPCOM.nsEmbedString_new ();", "-\t\trc = cert.GetIssuerCommonName (ptr);", "+\t\tnsEmbedString ptr = new nsEmbedString ();", "+\t\trc = cert.GetIssuerCommonName (ptr.getAddress());", "-\t\tlength = XPCOM.nsEmbedString_Length (ptr);", "-\t\tbuffer = XPCOM.nsEmbedString_get (ptr);", "-\t\tchar[] chars = new char[length];", "-\t\tXPCOM.memmove (chars, buffer, length * 2);", "-\t\tString name = new String (chars);", "+\t\tString name = ptr.toString ();", "-\t\tXPCOM.nsEmbedString_delete (ptr);", "+\t\tptr.dispose ();"]}], "num": 58238}