{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "60c42dd628ffb66f190418f891191571", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "946facb5ff233c287388cad523b481dd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "4b1109db58ecb9bb9b1b51bb55e420f663b89727", "commitAfterChange": "a38cdec12de35954521831ad0e8e78895c25ed1c", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": " public Point getLocation(int offset, boolean trailing)", "signatureAfterChange": " public Point getLocation(int offset, boolean trailing)", "diff": ["-\t\t\trange.location = glyphIndex;", "+\t\t\trange.location = offset;", "-\t\t\tNSRect bounds = layoutManager.boundingRectForGlyphRange(range, textContainer);", "-\t\t\tpoint.x += bounds.width;", "+\t\t\tint /*long*/ pRectCount = OS.malloc(C.PTR_SIZEOF);", "+\t\t\tint /*long*/ pArray = layoutManager.rectArrayForCharacterRange(range, range, textContainer, pRectCount);", "+\t\t\tint /*long*/ [] rectCount = new int /*long*/ [1];", "+\t\t\tOS.memmove(rectCount, pRectCount, C.PTR_SIZEOF);", "+\t\t\tOS.free(pRectCount);", "+\t\t\tif (rectCount[0] > 0) {", "+\t\t\t\tNSRect bounds = new NSRect();", "+\t\t\t\tOS.memmove(bounds, pArray, NSRect.sizeof);", "+\t\t\t\tpoint.x += bounds.width;", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ad88e5bd27fe83b19ca80305ae008346", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "4e1f6b56c8d97deeab3788d9e0250c05a1da62a8", "commitAfterChange": "ef275e714ee29ce9ca54811c88ae99f34126c3fa", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 21, "signatureBeforeChange": " public Point getCaretLocation ()", "signatureAfterChange": " public Point getCaretLocation ()", "diff": ["-//\tNSText", "-//\tNSRange range = ((NSTextView)view).selectedRange();", "-\treturn null;", "+\tNSTextView widget = (NSTextView)view;", "+\tNSLayoutManager layoutManager = widget.layoutManager();", "+\tNSTextContainer container = widget.textContainer();", "+\tNSRange range = widget.selectedRange();", "+\tint /*long*/ pRectCount = OS.malloc(C.PTR_SIZEOF);", "+\tint /*long*/ pArray = layoutManager.rectArrayForCharacterRange(range, range, container, pRectCount);", "+\tint /*long*/ [] rectCount = new int /*long*/ [1];", "+\tOS.memmove(rectCount, pRectCount, C.PTR_SIZEOF);", "+\tOS.free(pRectCount);", "+\tNSRect rect = new NSRect();", "+\tif (rectCount[0] > 0) OS.memmove(rect, pArray, NSRect.sizeof);", "+\treturn new Point((int)rect.x, (int)rect.y);"]}], "num": 51956}