{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ad59b7e8054698f1ce8b53b5e0952162", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8c5b82bc6bbd2e29b35d1ad0eb1d55e8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "ee054c20e0dd5d1277e7f3c98b9369ae5d373a0a", "commitAfterChange": "0da1d9ee2ac0bdfdcae7f38dcbbe13245efb8b74", "methodNumberBeforeChange": 51, "methodNumberAfterChange": 52, "signatureBeforeChange": " public TreeItem getTopItem ()", "signatureAfterChange": " public TreeItem getTopItem ()", "diff": ["-//\t//TODO - optimize", "-//\tRect rect = new Rect ();", "-//\tint y = getBorder () + getHeaderHeight ();", "-//\tfor (int i=0; i<items.length; i++) {", "-//\t\tTreeItem item = items [i];", "-//\t\tif (item != null) {", "-//\t\t\tint columnId = (columnCount == 0) ? column_id : columns [0].id;", "-//\t\t\tif (OS.GetDataBrowserItemPartBounds (handle, item.id, columnId, OS.kDataBrowserPropertyEnclosingPart, rect) == OS.noErr) {", "-//\t\t\t\tif (rect.top <= y && y <= rect.bottom) return item;", "-//\t\t\t}", "-//\t\t}", "-//\t}", "-\treturn null;", "+\t//TODO - partial item at the top", "+\tNSRect rect = scrollView.documentVisibleRect ();", "+\tNSPoint point = new NSPoint ();", "+\tpoint.x = rect.x;", "+\tpoint.y = rect.y;", "+\tNSOutlineView outlineView = (NSOutlineView)view;", "+\tint /*long*/ index = outlineView.rowAtPoint (point);", "+\tif (index == -1) return null; /* empty */", "+\tid item = outlineView.itemAtRow (index);", "+\treturn (TreeItem)display.getWidget (item.id);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7664e2aa14da7f9ede74563949fb564e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "dc19d25aa6cd979d0249c3e9ed5cf50640a357ac", "commitAfterChange": "8ed739aeb6bdf363f7b0e5c8d1e2c8f2b47241eb", "methodNumberBeforeChange": 35, "methodNumberAfterChange": 35, "signatureBeforeChange": " public TreeItem getItem (Point point)", "signatureAfterChange": " public TreeItem getItem (Point point)", "diff": ["-//\tRect rect = new Rect ();", "-//\torg.eclipse.swt.internal.carbon.Point pt = new org.eclipse.swt.internal.carbon.Point ();", "-//\tOS.SetPt (pt, (short) point.x, (short) point.y);", "-//\tif (0 < lastHittest && lastHittest <= items.length && lastHittestColumn != 0) {", "-//\t\tTreeItem item = _getItem (lastHittest, false);", "-//\t\tif (item != null) {", "-//\t\t\tif (OS.GetDataBrowserItemPartBounds (handle, item.id, lastHittestColumn, OS.kDataBrowserPropertyDisclosurePart, rect) == OS.noErr) {", "-//\t\t\t\tif (OS.PtInRect (pt, rect)) return null;", "-//\t\t\t}", "-//\t\t\tif (OS.GetDataBrowserItemPartBounds (handle, item.id, lastHittestColumn, OS.kDataBrowserPropertyEnclosingPart, rect) == OS.noErr) {", "-//\t\t\t\tif (rect.top <= pt.v && pt.v <= rect.bottom) {", "-//\t\t\t\t\tif ((style & SWT.FULL_SELECTION) != 0) {", "-//\t\t\t\t\t\treturn item;", "-//\t\t\t\t\t} else {", "-//\t\t\t\t\t\treturn OS.PtInRect (pt, rect) ? item : null;", "-//\t\t\t\t\t}", "-//\t\t\t\t}", "-//\t\t\t}", "-//\t\t}", "-//\t}", "-//\t//TODO - optimize", "-//\tfor (int i=0; i<items.length; i++) {", "-//\t\tTreeItem item = items [i];", "-//\t\tif (item != null) {", "-//\t\t\tif (OS.GetDataBrowserItemPartBounds (handle, item.id, column_id, OS.kDataBrowserPropertyDisclosurePart, rect) == OS.noErr) {", "-//\t\t\t\tif (OS.PtInRect (pt, rect)) return null;", "-//\t\t\t}", "-//\t\t\tif (columnCount == 0) {", "-//\t\t\t\tif (OS.GetDataBrowserItemPartBounds (handle, item.id, column_id, OS.kDataBrowserPropertyEnclosingPart, rect) == OS.noErr) {", "-//\t\t\t\t\tif (rect.top <= pt.v && pt.v <= rect.bottom) {", "-//\t\t\t\t\t\tif ((style & SWT.FULL_SELECTION) != 0) {", "-//\t\t\t\t\t\t\treturn item;", "-//\t\t\t\t\t\t} else {", "-//\t\t\t\t\t\t\treturn OS.PtInRect (pt, rect) ? item : null;", "-//\t\t\t\t\t\t}", "-//\t\t\t\t\t}", "-//\t\t\t\t}", "-//\t\t\t} else {", "-//\t\t\t\tfor (int j = 0; j < columnCount; j++) {", "-//\t\t\t\t\tif (OS.GetDataBrowserItemPartBounds (handle, item.id, columns [j].id, OS.kDataBrowserPropertyEnclosingPart, rect) == OS.noErr) {", "-//\t\t\t\t\t\tif (rect.top <= pt.v && pt.v <= rect.bottom) {", "-//\t\t\t\t\t\t\tif ((style & SWT.FULL_SELECTION) != 0) {", "-//\t\t\t\t\t\t\t\treturn item;", "-//\t\t\t\t\t\t\t} else {", "-//\t\t\t\t\t\t\t\treturn OS.PtInRect (pt, rect) ? item : null;", "-//\t\t\t\t\t\t\t}", "-//\t\t\t\t\t\t}", "-//\t\t\t\t\t}", "-//\t\t\t\t}", "-//\t\t\t}", "-//\t\t}", "-//\t}", "+\tNSOutlineView widget = (NSOutlineView)view;", "+\tNSPoint pt = new NSPoint();", "+\tpt.x = point.x;", "+\tpt.y = point.y;", "+\tint row = widget.rowAtPoint(pt);", "+\tif (row == -1) return null;", "+\tid id = widget.itemAtRow(row);", "+\tWidget item = display.getWidget (id.id);", "+\tif (item != null && item instanceof TreeItem) {", "+\t\treturn (TreeItem)item;", "+\t}"]}], "num": 12328}