{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "44f87361336daadc46827de20056c32d", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d32e54aa01fe2cbc4de8ef40aace69ac", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "01803909151154bf033ee985e0e626bc4b0b7397", "commitAfterChange": "d1ff48692e02a1fdc0560533390dbdb96a46de39", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 21, "signatureBeforeChange": " public Point getCaretLocation ()", "signatureAfterChange": " public Point getCaretLocation ()", "diff": ["-\tif ((style & SWT.SINGLE) != 0) return new Point (0, 0);", "+\tif ((style & SWT.SINGLE) != 0) {", "+\t\tint index = OS.gtk_editable_get_position (handle);", "+\t\tif (OS.GTK_VERSION >= OS.VERSION (2, 6, 0)) {", "+\t\t\tindex = OS.gtk_entry_text_index_to_layout_index (handle, index);", "+\t\t}", "+\t\tint [] offset_x = new int [1], offset_y = new int [1];", "+\t\tOS.gtk_entry_get_layout_offsets (handle, offset_x, offset_y);", "+\t\tint /*long*/ layout = OS.gtk_entry_get_layout (handle);", "+\t\tPangoRectangle pos = new PangoRectangle ();", "+\t\tOS.pango_layout_index_to_pos (layout, index, pos);", "+\t\tint x = offset_x [0] + OS.PANGO_PIXELS (pos.x) - getBorderWidth ();", "+\t\tint y = offset_y [0] + OS.PANGO_PIXELS (pos.y);", "+\t\treturn new Point (x, y);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "32cee9cebad2fdefdae912f1066a2a5f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Text.java", "commitBeforeChange": "bda61fcf4d94db1af2718e1a5f14c99c4ec12c81", "commitAfterChange": "baeb2750ab3cd98721ca3f9c69fc2805adaf6cf2", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "  void clearSegments (boolean applyText)", "signatureAfterChange": "  void clearSegments (boolean applyText)", "diff": ["+\t\t\tint /*long*/ ptr = OS.gtk_entry_get_text (handle);", "+\t\t\tint start, end;", "-\t\t\t\tOS.gtk_editable_delete_text (handle, segments[i], segments[i] + 1);", "+\t\t\t\tstart = (int)/*64*/OS.g_utf16_offset_to_utf8_offset (ptr, segments[i]);", "+\t\t\t\tend = (int)/*64*/OS.g_utf16_offset_to_utf8_offset (ptr, segments[i] + 1);", "+\t\t\t\tOS.gtk_editable_delete_text (handle, start, end);", "+\t\tbyte [] startIter =  new byte [ITER_SIZEOF], endIter =  new byte [ITER_SIZEOF];", "-\t\t\tOS.gtk_text_buffer_get_iter_at_offset (bufferHandle, start, segments[i]);", "-\t\t\tOS.gtk_text_buffer_get_iter_at_offset (bufferHandle, end, segments[i] + 1);", "+\t\t\tOS.gtk_text_buffer_get_bounds (bufferHandle, startIter, endIter);", "+\t\t\tint /*long*/ ptr = OS.gtk_text_buffer_get_text (bufferHandle, startIter, endIter, true);", "+\t\t\tOS.gtk_text_buffer_get_iter_at_offset (bufferHandle, start, (int)/*64*/OS.g_utf16_offset_to_utf8_offset (ptr, segments[i]));", "+\t\t\tOS.gtk_text_buffer_get_iter_at_offset (bufferHandle, end, (int)/*64*/OS.g_utf16_offset_to_utf8_offset (ptr, segments[i] + 1));", "+\t\t\tOS.g_free (ptr);"]}], "num": 15597}