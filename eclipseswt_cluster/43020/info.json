{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "c23c14ade0ce6a38244677d95c14341e", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "17c8be799665a34f3ddbbab9422367b7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "9a5a48bf2ab4abc27a3de92a3d067d59f73c9ae5", "commitAfterChange": "d8583493ce400257c912eb6c4f6f28dd102cd458", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "  void computeRuns ()", "signatureAfterChange": "  void computeRuns ()", "diff": ["-\tint offsetCount = nSegments; ", "+\tint offsetCount = nSegments;", "+\tint[] lineOffsets = null; ", "+\t\tlineOffsets = new int [lineCount];", "+\t\t\tlineOffsets[lineIndex] = pos + lineIndex * 2; ", "+\t\tint lineIndex = 0;", "-\t\t\tif (c == ZWNBS || c == ZWS) {", "-\t\t\t\tinvalidOffsets[offsetCount++] = i;", "+\t\t\tif (c == ZWS && lineOffsets != null && i == lineOffsets[lineIndex]) {", "+\t\t\t\tinvalidOffsets[offsetCount++] = i;\t\t//ZWS", "+\t\t\t\tinvalidOffsets[offsetCount++] = ++i;\t//ZWNBS", "+\t\t\t\tlineIndex++;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d2a05f779682a726e54649cbd9b891ee", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "70b00f9fd9ccac15426ee88b1dc6a2b6b783b7fa", "commitAfterChange": "11bc4a368151700b23786d7f7d417c288754443c", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "  void computeRuns ()", "signatureAfterChange": "  void computeRuns ()", "diff": ["+\tint offsetCount = segementsLength - text.length(); ", "+\t\toffsetCount += 2 * lineCount;", "-\tint offsetCount = 0;", "-\tfor (int i = 0; i < chars.length; i++) {", "-\t\tchar c = chars[i];", "-\t\tif (c == LTR_MARK || c == RTL_MARK || c == ZWNBS || c == ZWS) {", "-\t\t\toffsetCount++;", "-\t\t}", "-\t}", "-\toffsetCount = 0;", "-\tfor (int i = 0; i < chars.length; i++) {", "-\t\tchar c = chars[i];", "-\t\tif (c == LTR_MARK || c == RTL_MARK || c == ZWNBS || c == ZWS) {", "-\t\t\tinvalidOffsets[offsetCount++] = i;", "+\tif (offsetCount > 0) {", "+\t\toffsetCount = 0;", "+\t\tint segmentCount = 0;", "+\t\tint nSegments = segments == null ? 0 : segments.length;", "+\t\tfor (int i = 0; i < chars.length; i++) {", "+\t\t\tchar c = chars[i];", "+\t\t\tif (c == ZWNBS || c == ZWS) {", "+\t\t\t\tinvalidOffsets[offsetCount++] = i;", "+\t\t\t} else if (segmentCount < nSegments && i - offsetCount == segments[segmentCount]) {", "+\t\t\t\tinvalidOffsets[offsetCount++] = i;", "+\t\t\t\tsegmentCount++;", "+\t\t\t}"]}], "num": 43020}