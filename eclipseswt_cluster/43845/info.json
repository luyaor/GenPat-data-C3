{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "da6cab5d33aee06198a2372cc28883ad", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dca7c6ac9d9445e3e282ddb2e8a37bbd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/photon/org/eclipse/swt/internal/Converter.java", "commitBeforeChange": "7f53a19a8ca78d6c8f1f3c2e394b3cec56a28171", "commitAfterChange": "f1331a11098658ad6c3161dd120f5f98a3b5a1b5", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "\r public static byte [] wcsToMbcs (String codePage, String string, boolean terminate)", "signatureAfterChange": "\r public static byte [] wcsToMbcs (String codePage, String string, boolean terminate)", "diff": ["-\tint count = string.length ();\r", "-\tif (terminate) count++;\r", "-\tchar [] buffer = new char [count];\r", "-\tstring.getChars (0, string.length (), buffer, 0);\r", "-\treturn wcsToMbcs (codePage, buffer, false);\r", "+\tif (!terminate) return string.getBytes ();\r", "+\tbyte [] buffer1 = string.getBytes ();\r", "+\tbyte [] buffer2 = new byte [buffer1.length + 1];\r", "+\tSystem.arraycopy (buffer1, 0, buffer2, 0, buffer1.length);\r", "+\treturn buffer2;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5c93fd20c112f775a647275fbf229c79", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "a2fd7c534ad8ed7fb283f541212479d3dd690ff1", "commitAfterChange": "a6b30ebd4792ebe6274d74b03b55ca9d53aa302f", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": " public void clearSelection ()", "signatureAfterChange": " public void clearSelection ()", "diff": ["-\t\tchar [] buffer = new char [0];", "-\t\tint ptr = OS.CFStringCreateWithCharacters (OS.kCFAllocatorDefault, buffer, buffer.length);", "-\t\tif (ptr == 0) return;\t", "-\t\tOS.SetControlData (handle, OS.kHIComboBoxEditTextPart, OS.kControlEditTextCFStringTag, 4, new int[] {ptr});", "-\t\tOS.CFRelease (ptr);", "+\t\tshort [] selection = new short [2];", "+\t\tOS.GetControlData (handle, (short)OS.kHIComboBoxEditTextPart, OS.kControlEditTextSelectionTag, 4, selection, null);", "+\t\tselection [1] = selection [0];", "+\t\tOS.SetControlData (handle, OS.kHIComboBoxEditTextPart, OS.kControlEditTextSelectionTag, 4, selection);"]}], "num": 43845}