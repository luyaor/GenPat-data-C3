{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5869a821ec103df5782911a6654d5125", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4fc5e388f7f87f4e2ef00b60b2ed0f4b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "05b465a405dddfea72f05c981497448f62e6d19c", "commitAfterChange": "424cc37cc779575a1b43d2c64f6530c100e3a7e7", "methodNumberBeforeChange": 55, "methodNumberAfterChange": 56, "signatureBeforeChange": " public void getClipping(Region region)", "signatureAfterChange": " public void getClipping(Region region)", "diff": ["-\tint hRegion = region.handle;", "-\tOS.XSubtractRegion (hRegion, hRegion, hRegion);", "+\tint clipping = region.handle;", "+\tOS.XSubtractRegion (clipping, clipping, clipping);", "+\tint /*long*/ cairo = data.cairo;", "-\t\tOS.XUnionRectWithRegion(rect, hRegion, hRegion);", "+\t\tOS.XUnionRectWithRegion(rect, clipping, clipping);", "-\t\tOS.XUnionRegion (hRegion, clipRgn, hRegion);", "-\t\tint /*long*/ cairo = data.cairo;", "-\t\tif (cairo != 0) {", "-\t\t\tdouble[] matrix = new double[]{1, 0, 0, 1, 0, 0};", "-\t\t\tCairo.cairo_get_matrix(cairo, matrix);", "-\t\t\tif (!isIdentity(matrix)) return;", "+\t\t/* Convert clipping to device space if needed */", "+\t\tif (data.clippingTransform != null) {", "+\t\t\tint rgn = convertRgn(clipRgn, data.clippingTransform);", "+\t\t\tOS.XUnionRegion(clipping, rgn, clipping);", "+\t\t\tOS.XDestroyRegion(rgn);", "+\t\t} else {", "+\t\t\tOS.XUnionRegion(clipping, clipRgn, clipping);", "-\t\tOS.XIntersectRegion(hRegion, data.damageRgn, hRegion);", "+\t\tOS.XIntersectRegion(clipping, data.damageRgn, clipping);", "+\t}", "+\t/* Convert to user space */", "+\tif (cairo != 0) {", "+\t\tdouble[] matrix = new double[6];", "+\t\tCairo.cairo_get_matrix(cairo, matrix);", "+\t\tCairo.cairo_matrix_invert(matrix);", "+\t\tint rgn = convertRgn(clipping, matrix);", "+\t\tOS.XSubtractRegion(clipping, clipping, clipping);", "+\t\tOS.XUnionRegion(clipping, rgn, clipping);", "+\t\tOS.XDestroyRegion(rgn);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9cd574f8a1de5d5e6911ca93f108e4d3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "80413969c76bb81e4c9325125446456624eddbae", "commitAfterChange": "05b465a405dddfea72f05c981497448f62e6d19c", "methodNumberBeforeChange": 56, "methodNumberAfterChange": 57, "signatureBeforeChange": " public void getClipping(Region region)", "signatureAfterChange": " public void getClipping(Region region)", "diff": ["-\tint /*long*/ hRegion = region.handle;", "-\tOS.gdk_region_subtract(hRegion, hRegion);", "+\tint /*long*/ clipping = region.handle;", "+\tOS.gdk_region_subtract(clipping, clipping);", "+\tint /*long*/ cairo = data.cairo;", "-\t\trect.x = rect.y = 0;", "-\t\tOS.gdk_region_union_with_rect(hRegion, rect);", "+\t\tOS.gdk_region_union_with_rect(clipping, rect);", "-\t\tOS.gdk_region_union(hRegion, clipRgn);", "-\t\tint /*long*/ cairo = data.cairo;", "-\t\tif (cairo != 0) {", "-\t\t\tdouble[] matrix = new double[]{1, 0, 0, 1, 0, 0};", "-\t\t\tCairo.cairo_get_matrix(cairo, matrix);", "-\t\t\tif (!isIdentity(matrix)) return;", "+\t\t/* Convert clipping to device space if needed */", "+\t\tif (data.clippingTransform != null) {", "+\t\t\tint rgn = convertRgn(clipRgn, data.clippingTransform);", "+\t\t\tOS.gdk_region_union(clipping, rgn);", "+\t\t\tOS.gdk_region_destroy(rgn);", "+\t\t} else {", "+\t\t\tOS.gdk_region_union(clipping, clipRgn);", "-\t\tOS.gdk_region_intersect(hRegion, data.damageRgn);", "+\t\tOS.gdk_region_intersect(clipping, data.damageRgn);", "+\t}", "+\t/* Convert to user space */", "+\tif (cairo != 0) {", "+\t\tdouble[] matrix = new double[6];", "+\t\tCairo.cairo_get_matrix(cairo, matrix);", "+\t\tCairo.cairo_matrix_invert(matrix);", "+\t\tint rgn = convertRgn(clipping, matrix);", "+\t\tOS.gdk_region_subtract(clipping, clipping);", "+\t\tOS.gdk_region_union(clipping, rgn);", "+\t\tOS.gdk_region_destroy(rgn);"]}], "num": 37732}