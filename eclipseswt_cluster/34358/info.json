{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "fb8a0b0caa1e5096382b733c0b0c2ad3", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "535709df2d2f32df5cf3398c24fa55ff", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/Device.java", "commitBeforeChange": "5ebddbbaf7f59f067561bd1654b50a730223ba57", "commitAfterChange": "4937a000fe3622a3e44fecf9847ddb7e853e77ca", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": " public FontData[] getFontList (String faceName, boolean scalable)", "signatureAfterChange": " public FontData[] getFontList (String faceName, boolean scalable)", "diff": ["-\tList fdsList = new ArrayList();", "+\tint count = 0;", "+\tFontData[] fds = new FontData[100];", "-\t\t\t", "+", "-\t\t\t\t\t\tfdsList.add(data);", "+\t\t\t\t\t\tif (count == fds.length) {", "+\t\t\t\t\t\t\tFontData[] newFds = new FontData[fds.length + 100];", "+\t\t\t\t\t\t\tSystem.arraycopy(fds, 0, newFds, 0, fds.length);", "+\t\t\t\t\t\t\tfds = newFds;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t\tfds[count++] = data;", "-\treturn (FontData[])fdsList.toArray();", "+\tif (count == fds.length) return fds;", "+\tFontData[] result = new FontData[count];", "+\tSystem.arraycopy(fds, 0, result, 0, count);", "+\treturn result;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1a2dcd2a0bec9e6c2385ce9547a0efae", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/Device.java", "commitBeforeChange": "a591c307db2115d003217325024332e73226039d", "commitAfterChange": "5ebddbbaf7f59f067561bd1654b50a730223ba57", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": " public FontData[] getFontList (String faceName, boolean scalable)", "signatureAfterChange": " public FontData[] getFontList (String faceName, boolean scalable)", "diff": ["-\tint count = 0;", "+\tList fdsList = new ArrayList();", "-\tint /*long*/ familyCount = families.count();", "-\tFontData[] fds = new FontData[100];", "-\tfor (int i = 0; i < familyCount; i++) {", "-\t\tNSString nsFamily = new NSString(families.objectAtIndex(i));", "-\t\tString name = nsFamily.getString();", "-\t\tNSArray fonts = NSFontManager.sharedFontManager().availableMembersOfFontFamily(nsFamily);", "-\t\tint fontCount = (int)/*64*/fonts.count();", "-\t\tfor (int j = 0; j < fontCount; j++) {", "-\t\t\tNSArray fontDetails = new NSArray(fonts.objectAtIndex(j));", "-\t\t\tString nsName = new NSString(fontDetails.objectAtIndex(0)).getString();", "-\t\t\tint /*long*/ weight = new NSNumber(fontDetails.objectAtIndex(2)).integerValue();", "-\t\t\tint /*long*/ traits = new NSNumber(fontDetails.objectAtIndex(3)).integerValue();", "-\t\t\tint style = SWT.NORMAL;", "-\t\t\tif ((traits & OS.NSItalicFontMask) != 0) style |= SWT.ITALIC;", "-\t\t\tif (weight == 9) style |= SWT.BOLD;", "-\t\t\tif (faceName == null || Compatibility.equalsIgnoreCase(faceName, name)) {", "-\t\t\t\tFontData data = new FontData(name, 0, style);", "-\t\t\t\tdata.nsName = nsName;", "-\t\t\t\tif (count == fds.length) {", "-\t\t\t\t\tFontData[] newFds = new FontData[fds.length + 100];", "-\t\t\t\t\tSystem.arraycopy(fds, 0, newFds, 0, fds.length);", "-\t\t\t\t\tfds = newFds;", "+\tif (families != null) {", "+\t\tint /*long*/ familyCount = families.count();", "+\t\tfor (int i = 0; i < familyCount; i++) {", "+\t\t\tNSString nsFamily = new NSString(families.objectAtIndex(i));", "+\t\t\tString name = nsFamily.getString();", "+\t\t\tNSArray fonts = NSFontManager.sharedFontManager().availableMembersOfFontFamily(nsFamily);", "+\t\t\t", "+\t\t\tif (fonts != null) {", "+\t\t\t\tint fontCount = (int)/*64*/fonts.count();", "+\t\t\t\tfor (int j = 0; j < fontCount; j++) {", "+\t\t\t\t\tNSArray fontDetails = new NSArray(fonts.objectAtIndex(j));", "+\t\t\t\t\tString nsName = new NSString(fontDetails.objectAtIndex(0)).getString();", "+\t\t\t\t\tint /*long*/ weight = new NSNumber(fontDetails.objectAtIndex(2)).integerValue();", "+\t\t\t\t\tint /*long*/ traits = new NSNumber(fontDetails.objectAtIndex(3)).integerValue();", "+\t\t\t\t\tint style = SWT.NORMAL;", "+\t\t\t\t\tif ((traits & OS.NSItalicFontMask) != 0) style |= SWT.ITALIC;", "+\t\t\t\t\tif (weight == 9) style |= SWT.BOLD;", "+\t\t\t\t\tif (faceName == null || Compatibility.equalsIgnoreCase(faceName, name)) {", "+\t\t\t\t\t\tFontData data = new FontData(name, 0, style);", "+\t\t\t\t\t\tdata.nsName = nsName;", "+\t\t\t\t\t\tfdsList.add(data);", "+\t\t\t\t\t}", "-\t\t\t\tfds[count++] = data;", "-\tif (count == fds.length) return fds;", "-\tFontData[] result = new FontData[count];", "-\tSystem.arraycopy(fds, 0, result, 0, count);", "-\treturn result;", "+\treturn (FontData[])fdsList.toArray();"]}], "num": 34358}