{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f2e1bf96cfedc44e043d203423b04e49", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "391c370adabf96d33b9264320eb8f2ae", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "2cef3fa78da7f2885ce55fa509348982e00b2225", "commitAfterChange": "bbeab947327689cb203638e742e58f555e6c1b64", "methodNumberBeforeChange": 49, "methodNumberAfterChange": 82, "signatureBeforeChange": " private boolean setItemLocation()", "signatureAfterChange": " boolean setItemLocation()", "diff": ["-}", "-private boolean setItemLocation() {", "-\tif (items.length == 0) return false;", "-\tRectangle area = super.getClientArea();", "-\tint x = area.x;", "-\tint y = area.y + borderTop;", "-\tif (onBottom) y = Math.max(0, area.y + area.height - borderBottom - tabHeight);", "-\tboolean changed = false;", "-\tfor (int i = topTabIndex - 1; i>=0; i--) { ", "-\t\t// if the first visible tab is not the first tab", "-\t\tCTabItem tab = items[i];", "-\t\tx -= tab.width; ", "-\t\tif (!changed && (tab.x != x || tab.y != y) ) changed = true;", "-\t\t// layout tab items from right to left thus making them invisible", "-\t\ttab.x = x;", "-\t\ttab.y = y;", "-\t}", "-\t", "-\tx = area.x + borderLeft;", "-\tfor (int i = topTabIndex; i < items.length; i++) {", "-\t\t// continue laying out remaining, visible items left to right ", "-\t\tCTabItem tab = items[i];", "-\t\ttab.x = x;", "-\t\ttab.y = y;", "-\t\tx = x + tab.width;", "-\t}", "-\tsetButtonBounds();", "-\treturn changed;", "-}", "+}", "+boolean setItemLocation() {", "+\tif (items.length == 0) return false;", "+\tPoint size = getSize();", "+\tint y = onBottom ? Math.max(borderBottom, size.y - borderBottom - tabHeight) : borderTop;", "+\tboolean changed = false;", "+\tif (single) {", "+\t\tint defaultX = size.x + 10; // off screen", "+\t\tfor (int i = 0; i < items.length; i++) {", "+\t\t\tif (items[i].x != defaultX) changed = true;", "+\t\t\titems[i].x = defaultX; \t", "+\t\t}", "+\t\tif (selectedIndex > -1) {", "+\t\t\tCTabItem item = items[selectedIndex];", "+\t\t\tint oldX = item.x, oldY = item.y;", "+\t\t\tint tabWidth = size.x - borderLeft - borderRight - minRect.width - maxRect.width - chevronRect.width;", "+\t\t\tint indent = Math.max(0, (tabWidth-item.width)/2);", "+\t\t\titem.x = borderLeft + indent; ", "+\t\t\titem.y = y;", "+\t\t\tif (showClose || item.showClose) {", "+\t\t\t\titem.closeRect.x = item.x + item.width - BUTTON_SIZE - CTabItem.RIGHT_MARGIN - 8;", "+\t\t\t\titem.closeRect.y = onBottom ? y : y + CTabItem.TOP_MARGIN;", "+\t\t\t}", "+\t\t\tif (item.x != oldX || item.y != oldY) changed = true;", "+\t\t}", "+\t\tint x = -1;", "+\t\tfor (int i = topTabIndex - 1; i >= 0; i--) { ", "+\t\t\t// if the first visible tab is not the first tab", "+\t\t\tCTabItem item = items[i];", "+\t\t\tx -= item.width; ", "+\t\t\tif (!changed && (item.x != x || item.y != y) ) changed = true;", "+\t\t\t// layout tab items from right to left thus making them invisible", "+\t\t\titem.x = x;", "+\t\t\titem.y = y;", "+\t\t\titem.closeRect.x = item.x + item.width - BUTTON_SIZE - CTabItem.RIGHT_MARGIN;", "+\t\t\tif (i == selectedIndex) item.closeRect.x -= 8;", "+\t\t\titem.closeRect.y = onBottom ? y : y + CTabItem.TOP_MARGIN;", "+\t\t}", "+\t\t", "+\t\tx = borderLeft <= 1 ? 0 : HIGHLIGHT_MARGIN;", "+\t\tfor (int i = topTabIndex; i < items.length; i++) {", "+\t\t\t// continue laying out remaining, visible items left to right ", "+\t\t\tCTabItem item = items[i];", "+\t\t\titem.x = x;", "+\t\t\titem.y = y;", "+\t\t\titem.closeRect.x = item.x + item.width - BUTTON_SIZE - CTabItem.RIGHT_MARGIN;", "+\t\t\tif (i == selectedIndex) item.closeRect.x -= 8;", "+\t\t\titem.closeRect.y = onBottom ? y : y + CTabItem.TOP_MARGIN;", "+\t\t\tx = x + item.width;", "+\t\t}", "+", "+\t\tint rightEdge = getRightItemEdge();", "+\t\tif (rightEdge > 0) {", "+\t\t\tCTabItem item = items[items.length - 1];", "+\t\t\tif (item.x + item.width < rightEdge) {", "+\t\t\t\tsetLastItem(items.length - 1);", "+\t\t\t\tchanged = true;", "+\t\t\t}", "+\t\t}", "+", "+\t}", "+\treturn changed;", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bcef9fe533ab72e1ed5f4c0cd26daf39", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "79096269bec9be1584da7b8d31d5fe9573da995d", "commitAfterChange": "6509ef8bfeb70fc2d3b31e1b10ac7b68ca1e7295", "methodNumberBeforeChange": 89, "methodNumberAfterChange": 88, "signatureBeforeChange": " boolean setItemLocation()", "signatureAfterChange": " boolean setItemLocation()", "diff": ["-\t\tint defaultX = size.x + 10; // off screen", "+\t\tint defaultX = getDisplay().getBounds().width + 10; // off screen", "+\t\t\tCTabItem item = items[i];", "-\t\t\t\tCTabItem item = items[selectedIndex];", "+\t\t\t\tfirstIndex = selectedIndex;", "+\t\t\t\titem.showing = true;", "-\t\t\t\titems[i].x = defaultX;", "+\t\t\t\titem.x = defaultX;", "+\t\t\t\titem.showing = false;", "-\t\tint x = -1;", "-\t\tfor (int i = firstIndex - 1; i >= 0; i--) { ", "-\t\t\t// if the first visible tab is not the first tab", "-\t\t\tCTabItem item = items[i];", "-\t\t\tx -= item.width; ", "-\t\t\t// layout tab items from right to left thus making them invisible", "-\t\t\titem.x = x;", "-\t\t\titem.y = y;", "-\t\t\titem.closeRect.x = item.x + item.width - BUTTON_SIZE - CTabItem.RIGHT_MARGIN;", "-\t\t\titem.closeRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - BUTTON_SIZE)/2 : borderTop + (tabHeight - BUTTON_SIZE)/2;", "-\t\t}", "-\t\t", "-\t\tx = 0;", "-\t\tfor (int i = firstIndex; i < items.length; i++) {", "-\t\t\t// continue laying out remaining, visible items left to right ", "-\t\t\tCTabItem item = items[i];", "-\t\t\tif (item.x != x || item.y != y) changed = true;", "-\t\t\titem.x = x;", "-\t\t\titem.y = y;", "-\t\t\tif (i == selectedIndex) {", "-\t\t\t\tint edge = Math.min(item.x + item.width, rightItemEdge);", "-\t\t\t\titem.closeRect.x = edge - CTabItem.RIGHT_MARGIN - BUTTON_SIZE;", "+\t\tint maxWidth = rightItemEdge - borderLeft;", "+\t\tint width = 0;", "+\t\tfor (int i = 0; i < priority.length; i++) {", "+\t\t\tCTabItem item = items[priority[i]];", "+\t\t\tif (width > maxWidth) {", "+\t\t\t\titem.showing = false;", "-\t\t\t\titem.closeRect.x = item.x + item.width - CTabItem.RIGHT_MARGIN - BUTTON_SIZE;", "+\t\t\t\twidth += item.width;", "+\t\t\t\titem.showing = i == 0 || width <= maxWidth;", "+\t\t\t\tif (!simple && priority[i] == selectedIndex) width += curveWidth - 2*curveIndent;", "-\t\t\titem.closeRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - BUTTON_SIZE)/2: borderTop + (tabHeight - BUTTON_SIZE)/2;", "-\t\t\tx = x + item.width;", "-\t\t\tif (!simple && i == selectedIndex) x += curveWidth - 2*curveIndent;", "+\t\t}", "+\t\tint x = 0;", "+\t\tint defaultX = getDisplay().getBounds().width + 10; // off screen", "+\t\tfirstIndex = items.length - 1;", "+\t\tfor (int i = 0; i < items.length; i++) {", "+\t\t\tCTabItem item = items[i];", "+\t\t\tif (!item.showing) {", "+\t\t\t\tif (item.x != defaultX) changed = true;", "+\t\t\t\titem.x = defaultX;", "+\t\t\t} else {", "+\t\t\t\tfirstIndex = Math.min(firstIndex, i);", "+\t\t\t\tif (item.x != x || item.y != y) changed = true;", "+\t\t\t\titem.x = x;", "+\t\t\t\titem.y = y;", "+\t\t\t\tif (i == selectedIndex) {", "+\t\t\t\t\tint edge = Math.min(item.x + item.width, rightItemEdge);", "+\t\t\t\t\titem.closeRect.x = edge - CTabItem.RIGHT_MARGIN - BUTTON_SIZE;", "+\t\t\t\t} else {", "+\t\t\t\t\titem.closeRect.x = item.x + item.width - CTabItem.RIGHT_MARGIN - BUTTON_SIZE;", "+\t\t\t\t}", "+\t\t\t\titem.closeRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - BUTTON_SIZE)/2: borderTop + (tabHeight - BUTTON_SIZE)/2;", "+\t\t\t\tx = x + item.width;", "+\t\t\t\tif (!simple && i == selectedIndex) x += curveWidth - 2*curveIndent;", "+\t\t\t}"]}], "num": 15980}