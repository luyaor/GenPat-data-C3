{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6941f04d50288cdde0c786a2a7066721", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4f13f0e63f2bad19be58eb093b7b2e1a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Browser/motif/org/eclipse/swt/browser/Browser.java", "commitBeforeChange": "b2648ca874cbbe943ac28639c7e39f5bfbe79135", "commitAfterChange": "701027ea2cf627a38a60cdcb8c4558a523eb811c", "methodNumberBeforeChange": 86, "methodNumberAfterChange": 86, "signatureBeforeChange": "  public boolean execute(String script)", "signatureAfterChange": "  public boolean execute(String script)", "diff": ["-\t", "-\tint[] aContentDOMWindow = new int[1];", "-\tint rc = webBrowser.GetContentDOMWindow(aContentDOMWindow);", "-\tif (rc != XPCOM.NS_OK) error(rc);", "-\tif (aContentDOMWindow[0] == 0) error(XPCOM.NS_ERROR_NO_INTERFACE);", "-\t", "-\tnsIDOMWindow domWindow = new nsIDOMWindow(aContentDOMWindow[0]);", "+\tString url = \"javascript:\"+script+\";void(0);\";//$NON-NLS-1$ //$NON-NLS-2$", "-\trc = domWindow.QueryInterface(nsIScriptGlobalObject.NS_ISCRIPTGLOBALOBJECT_IID, result);", "+\tint rc = webBrowser.QueryInterface(nsIWebNavigation.NS_IWEBNAVIGATION_IID, result);", "-\t", "-\tnsIScriptGlobalObject scriptGlobalObject = new nsIScriptGlobalObject(result[0]);", "-\tint[] aContext = new int[1];", "-\trc = scriptGlobalObject.GetContext(aContext);", "-\tif (rc != XPCOM.NS_OK) aContext[0] = rc;", "-\tif (aContext[0] == 0) error(XPCOM.NS_ERROR_NO_INTERFACE);", "-\tscriptGlobalObject.Release();", "-\t", "-\tnsIScriptContext scriptContext = new nsIScriptContext(aContext[0]);", "-\tnsEmbedString aScript = new nsEmbedString(script);", "-\tnsEmbedString aRetValue = new nsEmbedString();", "-\tboolean[] aIsUndefined = new boolean[1];", "-\trc = scriptContext.EvaluateString(aScript.getAddress(), 0, 0, 0, 0, 0, aRetValue.getAddress(), aIsUndefined);", "-\taScript.dispose();\t", "-\tdomWindow.Release();", "+", "+\tnsIWebNavigation webNavigation = new nsIWebNavigation(result[0]);", "+    char[] arg = url.toCharArray(); ", "+    char[] c = new char[arg.length+1];", "+    System.arraycopy(arg,0,c,0,arg.length);", "+\trc = webNavigation.LoadURI(c, nsIWebNavigation.LOAD_FLAGS_NONE, 0, 0, 0);", "+\twebNavigation.Release();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dd70f8acf311cf44e080833c9b594cdd", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Mozilla/gtk/org/eclipse/swt/browser/Browser.java", "commitBeforeChange": "b2648ca874cbbe943ac28639c7e39f5bfbe79135", "commitAfterChange": "701027ea2cf627a38a60cdcb8c4558a523eb811c", "methodNumberBeforeChange": 86, "methodNumberAfterChange": 86, "signatureBeforeChange": "  public boolean execute(String script)", "signatureAfterChange": "  public boolean execute(String script)", "diff": ["-\t", "-\tint[] aContentDOMWindow = new int[1];", "-\tint rc = webBrowser.GetContentDOMWindow(aContentDOMWindow);", "-\tif (rc != XPCOM.NS_OK) error(rc);", "-\tif (aContentDOMWindow[0] == 0) error(XPCOM.NS_ERROR_NO_INTERFACE);", "-\t", "-\tnsIDOMWindow domWindow = new nsIDOMWindow(aContentDOMWindow[0]);", "+\tString url = \"javascript:\"+script+\";void(0);\";//$NON-NLS-1$ //$NON-NLS-2$", "-\trc = domWindow.QueryInterface(nsIScriptGlobalObject.NS_ISCRIPTGLOBALOBJECT_IID, result);", "+\tint rc = webBrowser.QueryInterface(nsIWebNavigation.NS_IWEBNAVIGATION_IID, result);", "-\t", "-\tnsIScriptGlobalObject scriptGlobalObject = new nsIScriptGlobalObject(result[0]);", "-\tint[] aContext = new int[1];", "-\trc = scriptGlobalObject.GetContext(aContext);", "-\tif (rc != XPCOM.NS_OK) aContext[0] = rc;", "-\tif (aContext[0] == 0) error(XPCOM.NS_ERROR_NO_INTERFACE);", "-\tscriptGlobalObject.Release();", "-\t", "-\tnsIScriptContext scriptContext = new nsIScriptContext(aContext[0]);", "-\tnsEmbedString aScript = new nsEmbedString(script);", "-\tnsEmbedString aRetValue = new nsEmbedString();", "-\tboolean[] aIsUndefined = new boolean[1];", "-\trc = scriptContext.EvaluateString(aScript.getAddress(), 0, 0, 0, 0, 0, aRetValue.getAddress(), aIsUndefined);", "-\taScript.dispose();\t", "-\tdomWindow.Release();", "+", "+\tnsIWebNavigation webNavigation = new nsIWebNavigation(result[0]);", "+    char[] arg = url.toCharArray(); ", "+    char[] c = new char[arg.length+1];", "+    System.arraycopy(arg,0,c,0,arg.length);", "+\trc = webNavigation.LoadURI(c, nsIWebNavigation.LOAD_FLAGS_NONE, 0, 0, 0);", "+\twebNavigation.Release();"]}], "num": 60636}