{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9b69bd5d79824645fc61122c54165133", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "52533e7feb447f0d545f511260bf4d93", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/Font.java", "commitBeforeChange": "cc902662976a8f7e17011f5175c406b2f798039e", "commitAfterChange": "974aef95d4683540d6c7c67f0c56b9bab4c83e43", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "  void init(String name, float height, int style, String nsName)", "signatureAfterChange": "  void init(String name, float height, int style, String nsName)", "diff": ["-\t\tint traits = 0;", "-\t\tif ((style & SWT.ITALIC) != 0) traits |= OS.NSItalicFontMask;", "-\t\tint weight = 5;", "-\t\tif ((style & SWT.BOLD) != 0) weight = 9;", "+\t\tNSFont nsFont = NSFont.fontWithName(family, size);", "-\t\thandle = manager.fontWithFamily(family, traits, weight, size);", "-\t\tif (handle == null && (style & SWT.ITALIC) != 0) {", "-\t\t\ttraits &= ~OS.NSItalicFontMask;", "-\t\t\thandle = manager.fontWithFamily(family, traits, weight, size);", "-\t\t}", "-\t\tif (handle == null && (style & SWT.BOLD) != 0) {", "-\t\t\tweight = 5;", "-\t\t\thandle = manager.fontWithFamily(family, traits, weight, size);", "+\t\tif (nsFont != null) {", "+\t\t\tif ((style & (SWT.BOLD | SWT.ITALIC)) == 0) {", "+\t\t\t\thandle = nsFont;", "+\t\t\t} else {", "+\t\t\t\tint traits = 0;", "+\t\t\t\tif ((style & SWT.ITALIC) != 0) traits |= OS.NSItalicFontMask;", "+\t\t\t\tif ((style & SWT.BOLD) != 0) traits |= OS.NSBoldFontMask;", "+\t\t\t\thandle = manager.convertFont(nsFont, traits);", "+\t\t\t\tif ((style & SWT.ITALIC) != 0 && (handle == null || (manager.traitsOfFont(handle) & OS.NSItalicFontMask) == 0)) {", "+\t\t\t\t\ttraits &= ~OS.NSItalicFontMask;", "+\t\t\t\t\thandle = null;", "+\t\t\t\t\tif ((style & SWT.BOLD) != 0) {", "+\t\t\t\t\t\thandle = manager.convertFont(nsFont, traits);", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t\tif ((style & SWT.BOLD) != 0 && handle == null) {", "+\t\t\t\t\ttraits &= ~OS.NSBoldFontMask;", "+\t\t\t\t\tif ((style & SWT.ITALIC) != 0) {", "+\t\t\t\t\t\ttraits |= OS.NSItalicFontMask;", "+\t\t\t\t\t\thandle = manager.convertFont(nsFont, traits);", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t\tif (handle == null) handle = nsFont;", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "380cf17c6141f0fa4960f873df4cb623", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/ExpandBar.java", "commitBeforeChange": "564af48002efb7dde4608cffc2bddfed66929de1", "commitAfterChange": "25e834c280324b3e7770e2b3f82a7d7ca7a1f981", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "  void createHandle (int index)", "signatureAfterChange": "  void createHandle (int index)", "diff": ["-\tif (OS.GTK_VERSION < OS.VERSION (2, 4, 0)) {", "-\t\t// TODO", "-\t\terror (SWT.ERROR_NO_HANDLES);", "-\t}", "-\tfixedHandle = OS.g_object_new (display.gtk_fixed_get_type (), 0);", "-\tif (fixedHandle == 0) error (SWT.ERROR_NO_HANDLES);", "-\tOS.gtk_fixed_set_has_window (fixedHandle, true);", "-\thandle = OS.gtk_vbox_new (false, 0);", "-\tif (handle == 0) error (SWT.ERROR_NO_HANDLES);", "-\tif ((style & SWT.V_SCROLL) != 0) {", "-\t\tscrolledHandle = OS.gtk_scrolled_window_new (0, 0);", "-\t\tif (scrolledHandle == 0) error (SWT.ERROR_NO_HANDLES);", "-\t\tint vsp = (style & SWT.V_SCROLL) != 0 ? OS.GTK_POLICY_AUTOMATIC : OS.GTK_POLICY_NEVER;", "-\t\tOS.gtk_scrolled_window_set_policy (scrolledHandle, OS.GTK_POLICY_NEVER, vsp);", "-\t\tOS.gtk_container_add (fixedHandle, scrolledHandle);", "-\t\tOS.gtk_scrolled_window_add_with_viewport (scrolledHandle, handle);", "+\tif (OS.GTK_VERSION >= OS.VERSION (2, 4, 0)) {", "+\t\tfixedHandle = OS.g_object_new (display.gtk_fixed_get_type (), 0);", "+\t\tif (fixedHandle == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\tOS.gtk_fixed_set_has_window (fixedHandle, true);", "+\t\thandle = OS.gtk_vbox_new (false, 0);", "+\t\tif (handle == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\tif ((style & SWT.V_SCROLL) != 0) {", "+\t\t\tscrolledHandle = OS.gtk_scrolled_window_new (0, 0);", "+\t\t\tif (scrolledHandle == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\t\tint vsp = (style & SWT.V_SCROLL) != 0 ? OS.GTK_POLICY_AUTOMATIC : OS.GTK_POLICY_NEVER;", "+\t\t\tOS.gtk_scrolled_window_set_policy (scrolledHandle, OS.GTK_POLICY_NEVER, vsp);", "+\t\t\tOS.gtk_container_add (fixedHandle, scrolledHandle);", "+\t\t\tOS.gtk_scrolled_window_add_with_viewport (scrolledHandle, handle);", "+\t\t} else {", "+\t\t\tOS.gtk_container_add (fixedHandle, handle);", "+\t\t}", "+\t\tOS.gtk_container_set_border_width (handle, 0);", "-\t\tOS.gtk_container_add (fixedHandle, handle);", "+\t\tint /*long*/ topHandle = OS.g_object_new (display.gtk_fixed_get_type (), 0);", "+\t\tif (topHandle == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\tOS.gtk_fixed_set_has_window (topHandle, true);", "+\t\tif ((style & SWT.V_SCROLL) != 0) {", "+\t\t\tfixedHandle = topHandle;", "+\t\t\tscrolledHandle = OS.gtk_scrolled_window_new (0, 0);", "+\t\t\tif (scrolledHandle == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\t\thandle = OS.g_object_new (display.gtk_fixed_get_type (), 0);", "+\t\t\tif (handle == 0) error (SWT.ERROR_NO_HANDLES);", "+\t\t\tOS.gtk_fixed_set_has_window (handle, true);", "+\t\t\tOS.gtk_container_add (fixedHandle, scrolledHandle);", "+\t\t\t\t", "+\t\t\t/*", "+\t\t\t* Force the scrolledWindow to have a single child that is", "+\t\t\t* not scrolled automatically.  Calling gtk_container_add()", "+\t\t\t* seems to add the child correctly but cause a warning.", "+\t\t\t*/", "+\t\t\tboolean warnings = display.getWarnings ();", "+\t\t\tdisplay.setWarnings (false);", "+\t\t\tOS.gtk_container_add (scrolledHandle, handle);", "+\t\t\tdisplay.setWarnings (warnings);", "+\t\t} else {", "+\t\t\thandle = topHandle;", "+\t\t}", "-\tOS.gtk_container_set_border_width (handle, 0);", "+}"]}], "num": 21239}