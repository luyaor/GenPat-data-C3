{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "82ec5eb779e8b0d30cac2ecdaed28b98", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3cb1d561ab33528db490e540ac73db9b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet94.java", "commitBeforeChange": "29d8be0553e584c54c747ed1b630bc4794bf0379", "commitAfterChange": "5ff2e05bbf897fdd8199478f4090d564a1299158", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "  public static void main( String[] args)", "signatureAfterChange": "  public static void main( String[] args)", "diff": ["-\t\t\tTextTransfer textTransfer = TextTransfer.getInstance();", "-\t\t\tcb.setContents(new Object[]{textData}, new Transfer[]{textTransfer});", "+\t\t\tif (textData.length() > 0) {", "+\t\t\t\tTextTransfer textTransfer = TextTransfer.getInstance();", "+\t\t\t\tcb.setContents(new Object[]{textData}, new Transfer[]{textTransfer});", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a920e1caafc8078a2b639fc44f13b60d", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "76d7d429442fe73692a90b1854cf0455cb3d83fa", "commitAfterChange": "8c4c9f977636102945c1cc11875675a2b5dbdcd5", "methodNumberBeforeChange": 158, "methodNumberAfterChange": 158, "signatureBeforeChange": "  void setMenuBar (Menu menu)", "signatureAfterChange": "  void setMenuBar (Menu menu)", "diff": ["-\t\t\tNSMenu submenu = nsItem.submenu();", "-\t\t\tif (submenu != null && submenu.title().getString().equals(SWT.getMessage(\"SWT_Help\"))) { ", "-\t\t\t\tapplication.setHelpMenu(submenu);", "+\t\t\tif (OS.VERSION >= 0x1060) {", "+\t\t\t\tNSMenu submenu = nsItem.submenu();", "+\t\t\t\tif (submenu != null && submenu.title().getString().equals(SWT.getMessage(\"SWT_Help\"))) { ", "+\t\t\t\t\tapplication.setHelpMenu(submenu);", "+\t\t\t\t}", "-\t\t\t", "+"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "92f08410e84302abba3422f953eab863", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/Composite.java", "commitBeforeChange": "36ce59ab35ad1475e82f3db7320dc9b536da4d63", "commitAfterChange": "45a484f016d3325d1206511416bbd43eae47a59f", "methodNumberBeforeChange": 50, "methodNumberAfterChange": 50, "signatureBeforeChange": " int XButtonPress (int w, int client_data, int call_data, int continue_to_dispatch)", "signatureAfterChange": " int XButtonPress (int w, int client_data, int call_data, int continue_to_dispatch)", "diff": ["+\t\tXButtonEvent xEvent = new XButtonEvent ();", "+\t\tOS.memmove (xEvent, call_data, XButtonEvent.sizeof);", "-\t\t\tXButtonEvent xEvent = new XButtonEvent ();", "-\t\t\tOS.memmove (xEvent, call_data, XButtonEvent.sizeof);", "-\t\tOS.memmove (continue_to_dispatch, new int [1], 4);", "+\t\t/*", "+\t\t* Bug in Motif. On Solaris 8 only, stopping the other event", "+\t\t* handlers from being invoked after a menu has been displayed", "+\t\t* causes a segment fault.  The fix is to not stop the event for", "+\t\t* button 3.", "+\t\t*/", "+\t\tif (xEvent.button != 3) {", "+\t\t\tOS.memmove (continue_to_dispatch, new int [1], 4);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ab880f7a0e9560d8c11952876f6774a1", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/photon/org/eclipse/swt/widgets/Composite.java", "commitBeforeChange": "44d04241b701a3760bfc388747d6cea8273f6b21", "commitAfterChange": "f89f5bee84ba708dc093c5f453b77c81f29bdc9a", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 25, "signatureBeforeChange": "\r \r int processMouse (int info)", "signatureAfterChange": "\r \r int processMouse (int info)", "diff": ["-\t\t\t\tPhRect_t rect = new PhRect_t ();\r", "-\t\t\t\tPhPoint_t pos = new PhPoint_t();\r", "-\t\t\t\tpos.x = pe.pos_x;\r", "-\t\t\t\tpos.y = pe.pos_y;\r", "-\t\t\t\trect.ul_x = rect.lr_x = (short) (pos.x + ev.translation_x);\r", "-\t\t\t\trect.ul_y = rect.lr_y = (short) (pos.y + ev.translation_y);\r", "-\t\t\t\tint rid = OS.PtWidgetRid (handle);\r", "-\t\t\t\tint input_group = OS.PhInputGroup (0);\r", "-\t\t\t\tint flags = OS.Ph_DRAG_KEY_MOTION | OS.Ph_DRAG_TRACK | OS.Ph_TRACK_DRAG;\r", "-\t\t\t\tOS.PhInitDrag (rid, flags, rect, null, input_group, null, null, null, pos, null);\r", "+\t\t\t\tif (pe.click_count == 1) {\r", "+\t\t\t\t\tPhRect_t rect = new PhRect_t ();\r", "+\t\t\t\t\tPhPoint_t pos = new PhPoint_t();\r", "+\t\t\t\t\tpos.x = pe.pos_x;\r", "+\t\t\t\t\tpos.y = pe.pos_y;\r", "+\t\t\t\t\trect.ul_x = rect.lr_x = (short) (pos.x + ev.translation_x);\r", "+\t\t\t\t\trect.ul_y = rect.lr_y = (short) (pos.y + ev.translation_y);\r", "+\t\t\t\t\tint rid = OS.PtWidgetRid (handle);\r", "+\t\t\t\t\tint input_group = OS.PhInputGroup (0);\r", "+\t\t\t\t\tint flags = OS.Ph_DRAG_KEY_MOTION | OS.Ph_DRAG_TRACK | OS.Ph_TRACK_DRAG;\r", "+\t\t\t\t\tOS.PhInitDrag (rid, flags, rect, null, input_group, null, null, null, pos, null);\r", "+\t\t\t\t}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "22eca097a7970656ee772e4a4f47e65e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Decorations.java", "commitBeforeChange": "5a7c149aeb8d18a02cc47db0e52d6bca3505a8b8", "commitAfterChange": "285048d733ba2ac7ac939aae339235bf286f43d0", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 23, "signatureBeforeChange": " public void setImages (Image [] images)", "signatureAfterChange": " public void setImages (Image [] images)", "diff": ["-\tint index = -1, width = 0, height = 0;", "-\tfor (int i = 0; i < images.length; i++) {", "-\t\tImage image = images[i];", "-\t\tRectangle bounds = image.getBounds();", "-\t\tif (bounds.width > width || bounds.height > height) {", "-\t\t\twidth = bounds.width;", "-\t\t\theight = bounds.height;", "-\t\t\tindex = i;", "+\tif (display.dockImage != 0) {", "+\t\tint index = -1, width = 0, height = 0;", "+\t\tfor (int i = 0; i < images.length; i++) {", "+\t\t\tImage image = images[i];", "+\t\t\tRectangle bounds = image.getBounds();", "+\t\t\tif (bounds.width > width || bounds.height > height) {", "+\t\t\t\twidth = bounds.width;", "+\t\t\t\theight = bounds.height;", "+\t\t\t\tindex = i;", "+\t\t\t}", "+\t\tOS.SetApplicationDockTileImage (images [index].handle);", "-\tOS.SetApplicationDockTileImage (images [index].handle);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "368cbf3ec68b34f269db3aee96201519", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "9468047eee251c93dc7eb1684d8723d1503cb1d9", "commitAfterChange": "9e3f6f8a47447f8d2a7427f464b84eb2918408ec", "methodNumberBeforeChange": 108, "methodNumberAfterChange": 108, "signatureBeforeChange": "  LRESULT WM_LBUTTONDBLCLK (int wParam, int lParam)", "signatureAfterChange": "  LRESULT WM_LBUTTONDBLCLK (int wParam, int lParam)", "diff": ["-\tif ((style & SWT.CHECK) != 0) {", "-\t\tif ((lpht.flags & OS.TVHT_ONITEMSTATEICON) != 0) {", "-\t\t\tsendMouseEvent (SWT.MouseDown, 1, handle, OS.WM_LBUTTONDOWN, wParam, lParam);", "-\t\t\tsendMouseEvent (SWT.MouseDoubleClick, 1, handle, OS.WM_LBUTTONDBLCLK, wParam, lParam);", "-\t\t\tif (OS.GetCapture () != handle) OS.SetCapture (handle);", "-\t\t\tTVITEM tvItem = new TVITEM ();", "-\t\t\ttvItem.hItem = lpht.hItem;", "-\t\t\ttvItem.mask = OS.TVIF_PARAM | OS.TVIF_STATE;\t", "-\t\t\ttvItem.stateMask = OS.TVIS_STATEIMAGEMASK;", "-\t\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);", "-\t\t\tint state = tvItem.state >> 12;", "-\t\t\tif ((state & 0x1) != 0) {", "-\t\t\t\tstate++;", "-\t\t\t} else  {", "-\t\t\t\t--state;", "-\t\t\t}", "-\t\t\ttvItem.state = state << 12;", "-\t\t\tOS.SendMessage (handle, OS.TVM_SETITEM, 0, tvItem);", "-\t\t\tif (!OS.IsWinCE) {\t", "-\t\t\t\tint id = tvItem.hItem;", "-\t\t\t\tif (OS.COMCTL32_MAJOR >= 6) {", "-\t\t\t\t\tid = OS.SendMessage (handle, OS.TVM_MAPHTREEITEMTOACCID, tvItem.hItem, 0);", "+\tif (lpht.hItem != 0) {", "+\t\tif ((style & SWT.CHECK) != 0) {", "+\t\t\tif ((lpht.flags & OS.TVHT_ONITEMSTATEICON) != 0) {", "+\t\t\t\tsendMouseEvent (SWT.MouseDown, 1, handle, OS.WM_LBUTTONDOWN, wParam, lParam);", "+\t\t\t\tsendMouseEvent (SWT.MouseDoubleClick, 1, handle, OS.WM_LBUTTONDBLCLK, wParam, lParam);", "+\t\t\t\tif (OS.GetCapture () != handle) OS.SetCapture (handle);", "+\t\t\t\tTVITEM tvItem = new TVITEM ();", "+\t\t\t\ttvItem.hItem = lpht.hItem;", "+\t\t\t\ttvItem.mask = OS.TVIF_PARAM | OS.TVIF_STATE;\t", "+\t\t\t\ttvItem.stateMask = OS.TVIS_STATEIMAGEMASK;", "+\t\t\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);", "+\t\t\t\tint state = tvItem.state >> 12;", "+\t\t\t\tif ((state & 0x1) != 0) {", "+\t\t\t\t\tstate++;", "+\t\t\t\t} else  {", "+\t\t\t\t\t--state;", "-\t\t\t\tOS.NotifyWinEvent (OS.EVENT_OBJECT_FOCUS, handle, OS.OBJID_CLIENT, id);\t", "+\t\t\t\ttvItem.state = state << 12;", "+\t\t\t\tOS.SendMessage (handle, OS.TVM_SETITEM, 0, tvItem);", "+\t\t\t\tif (!OS.IsWinCE) {\t", "+\t\t\t\t\tint id = tvItem.hItem;", "+\t\t\t\t\tif (OS.COMCTL32_MAJOR >= 6) {", "+\t\t\t\t\t\tid = OS.SendMessage (handle, OS.TVM_MAPHTREEITEMTOACCID, tvItem.hItem, 0);", "+\t\t\t\t\t}", "+\t\t\t\t\tOS.NotifyWinEvent (OS.EVENT_OBJECT_FOCUS, handle, OS.OBJID_CLIENT, id);\t", "+\t\t\t\t}", "+\t\t\t\tEvent event = new Event ();", "+\t\t\t\tevent.item = items [tvItem.lParam];", "+\t\t\t\tevent.detail = SWT.CHECK;", "+\t\t\t\tpostEvent (SWT.Selection, event);", "+\t\t\t\treturn LRESULT.ZERO;", "-\t\t\tEvent event = new Event ();", "-\t\t\tevent.item = items [tvItem.lParam];", "-\t\t\tevent.detail = SWT.CHECK;", "-\t\t\tpostEvent (SWT.Selection, event);", "-\t\t\treturn LRESULT.ZERO;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "17e099dc28f1c00929dde122c5e5420a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "b57747abb0a6d500538c509fbd694a7f0fb31a30", "commitAfterChange": "9b1e6a553a714c81f1d1f1cccddf187918d20587", "methodNumberBeforeChange": 104, "methodNumberAfterChange": 105, "signatureBeforeChange": "  void windowDidBecomeKey(int id, int sel, int notification)", "signatureAfterChange": "  void windowDidBecomeKey(int id, int sel, int notification)", "diff": ["-\tShell parentShell = this;", "-\twhile (parentShell.parent != null) {", "-\t\tparentShell = (Shell) parentShell.parent;", "-\t\tif (parentShell.fullScreen) {", "-\t\t\tbreak;", "+\tif (OS.VERSION < 0x1070) {", "+\t\tShell parentShell = this;", "+\t\twhile (parentShell.parent != null) {", "+\t\t\tparentShell = (Shell) parentShell.parent;", "+\t\t\tif (parentShell.fullScreen) {", "+\t\t\t\tbreak;", "+\t\t\t}", "-\t}", "-\tif (!parentShell.fullScreen || menuBar != null) {", "-\t\tupdateSystemUIMode ();", "-\t} else {", "-\t\tparentShell.updateSystemUIMode ();", "+\t\tif (!parentShell.fullScreen || menuBar != null) {", "+\t\t\tupdateSystemUIMode ();", "+\t\t} else {", "+\t\t\tparentShell.updateSystemUIMode ();", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "47b2b252d95f27b8aa309e2f65b2514e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "d54f89ff989006d607d53b534afb484bf72112b0", "commitAfterChange": "4f8c243743556b45a5a75c94872fcbe031996683", "methodNumberBeforeChange": 40, "methodNumberAfterChange": 40, "signatureBeforeChange": "  int kEventRawKeyPressed (int nextHandler, int theEvent, int userData)", "signatureAfterChange": "  int kEventRawKeyPressed (int nextHandler, int theEvent, int userData)", "diff": ["+\t* ", "+\t* NOTE:  This was fixed in OS X 10.4.", "-\tint [] keyCode = new int [1];", "-\tOS.GetEventParameter (theEvent, OS.kEventParamKeyCode, OS.typeUInt32, null, keyCode.length * 4, null, keyCode);", "-\tswitch (keyCode [0]) {", "-\t\tcase 126: /* Up arrow */", "-\t\tcase 125: /* Down arrow */", "-\t\t\tif (!sendKeyEvent (SWT.KeyDown, theEvent)) return OS.noErr;", "-\t\t\tbreak;", "+\tif (OS.VERSION < 0x1040) {", "+\t\tint [] keyCode = new int [1];", "+\t\tOS.GetEventParameter (theEvent, OS.kEventParamKeyCode, OS.typeUInt32, null, keyCode.length * 4, null, keyCode);", "+\t\tswitch (keyCode [0]) {", "+\t\t\tcase 126: /* Up arrow */", "+\t\t\tcase 125: /* Down arrow */", "+\t\t\t\tif (!sendKeyEvent (SWT.KeyDown, theEvent)) return OS.noErr;", "+\t\t\t\tbreak;", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "23cf0cfec0b39fc5df6262ab61560b26", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/treetable/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "d8412f497b9eda314dcd434f6c4eca9fa48d514e", "commitAfterChange": "113e2e23ec0a72d38b1b9f5a946e21b798f78520", "methodNumberBeforeChange": 112, "methodNumberAfterChange": 112, "signatureBeforeChange": " public void setTopIndex (int index)", "signatureAfterChange": " public void setTopIndex (int index)", "diff": ["-\tGC gc = new GC (this);", "-\tgc.copyArea (0, 0, clientArea.width, clientArea.height, 0, change * itemHeight);", "-\tgc.dispose ();", "+\tif (parent.drawCount == 0) {", "+\t\tGC gc = new GC (this);", "+\t\tgc.copyArea (0, 0, clientArea.width, clientArea.height, 0, change * itemHeight);", "+\t\tgc.dispose ();", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a7407fabfec75367c83ccae18fd222c4", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder2.java", "commitBeforeChange": "c6afe83c1cff801e2f2ff11da3c11d3a7b4a7172", "commitAfterChange": "55ae6661d0e1c4e66dbda2710880e098c59b9197", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": " public void addCTabFolderCloseListener(CTabFolderCloseListener listener)", "signatureAfterChange": " public void addCTabFolderCloseListener(CTabFolderCloseListener listener)", "diff": ["+\tif (closeListeners.length == 0) {", "+\t\t// display close button", "+\t\tshowClose = true;", "+\t\tsetButtonBounds();", "+\t\tredrawTabArea();", "+\t}", "-\t", "-\t// display close button", "-\tshowClose = true;", "-\tsetButtonBounds();", "-\tredrawTabArea();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d2fd2efe134ce0535bb81b913f4a033f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "59553b5e291417a2e8c9353bb30a915a5e064d65", "commitAfterChange": "8d77b789591c14924ad394c0fd32f4a26eb6d5e7", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 19, "signatureBeforeChange": " public void drawLine (int x1, int y1, int x2, int y2)", "signatureAfterChange": " public void drawLine (int x1, int y1, int x2, int y2)", "diff": ["-\tOS.SetPixel (handle, x2, y2, OS.GetTextColor (handle));", "+\tif (data.lineWidth <= 1) {", "+\t\tOS.SetPixel (handle, x2, y2, OS.GetTextColor (handle));", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4030ab550e321adcb833254d2bbac5e3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Accessibility/win32/org/eclipse/swt/accessibility/Accessible.java", "commitBeforeChange": "ccdd7c7b5997fa5619c74eacc931cff1f242d1d9", "commitAfterChange": "931bc4057b12aebded72f7c434be888b2c67d538", "methodNumberBeforeChange": 42, "methodNumberAfterChange": 42, "signatureBeforeChange": " \tpublic void setFocus(int childID)", "signatureAfterChange": " \tpublic void setFocus(int childID)", "diff": ["-\t\t\tid = childID; // Tree item childIDs are pointers", "-\t\t\t* Feature of Windows XP: The following line is intentionally commented.", "-\t\t\t* In Windows XP tree item ids are 1-based indices. Previous versions of", "-\t\t\t* Windows use the tree item handle for the accessible child ID. Despite", "-\t\t\t* this, the call to NotifyWinEvent on XP still takes the handle, so we", "-            * do not map from id to handle.", "+\t\t\t* Feature of Windows:", "+\t\t\t* In versions of Windows prior to XP, the childID of a tree item", "+\t\t\t* is the tree item handle. On XP, the childID is a 1-based index.", "-\t\t\t//if (OS.COMCTL32_MAJOR >= 6) id = OS.SendMessage (control.handle, OS.TVM_MAPACCIDTOHTREEITEM, childID, 0);", "+\t\t\tid = childID;", "+\t\t\tif (OS.COMCTL32_MAJOR >= 6) id++;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0c55cb7444fc5623b10a7af903b83f0f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "bce9e4e374b50f19654eeae29718189d30d9ce10", "commitAfterChange": "95b44910c41419a67983dc1eea3a0808025bab35", "methodNumberBeforeChange": 79, "methodNumberAfterChange": 79, "signatureBeforeChange": " boolean setButtonBounds()", "signatureAfterChange": " boolean setButtonBounds()", "diff": ["-\t\tint lastIndex = getLastIndex();", "-\t\tif (firstIndex > 0 || lastIndex < items.length - 1) {", "-\t\t\tchevronRect.width = 3*BUTTON_SIZE/2;", "-\t\t\tchevronRect.height = BUTTON_SIZE;", "-\t\t\tlastIndex = getLastIndex(); // last index may change when chevron is present", "-\t\t\tCTabItem lastItem = items[lastIndex];", "-\t\t\tchevronRect.x = Math.min(lastItem.x +lastItem.width + 3, size.x - borderRight - minRect.width - maxRect.width - topRightRect.width - chevronRect.width);", "-\t\t\tchevronRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - chevronRect.height)/2 : borderTop + (tabHeight - chevronRect.height)/2;", "+\t\tif (items.length > 1) {", "+\t\t\tint lastIndex = getLastIndex();", "+\t\t\tif (firstIndex > 0 || lastIndex < items.length - 1) {", "+\t\t\t\tchevronRect.width = 3*BUTTON_SIZE/2;", "+\t\t\t\tchevronRect.height = BUTTON_SIZE;", "+\t\t\t\tlastIndex = getLastIndex(); // last index may change when chevron is present", "+\t\t\t\tCTabItem lastItem = items[lastIndex];", "+\t\t\t\tchevronRect.x = Math.min(lastItem.x +lastItem.width + 3, size.x - borderRight - minRect.width - maxRect.width - topRightRect.width - chevronRect.width);", "+\t\t\t\tchevronRect.y = onBottom ? size.y - borderBottom - tabHeight + (tabHeight - chevronRect.height)/2 : borderTop + (tabHeight - chevronRect.height)/2;", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e6bf5a04211062f98ecca24fd6d18070", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "06674d2ebfecae9b037256972f960a0c65f4990b", "commitAfterChange": "97b6f960eb84f0c679e3237277aa638f11493e36", "methodNumberBeforeChange": 89, "methodNumberAfterChange": 91, "signatureBeforeChange": " public void setFont(Font font)", "signatureAfterChange": " public void setFont(Font font)", "diff": ["-\tOS.pango_layout_set_font_description(data.layout, fontHandle);", "+\tif (data.layout != 0) {", "+\t\tOS.pango_layout_set_font_description(data.layout, fontHandle);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "418d32aced5cb8d4d6364a430779c2c9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "405b89ba12be53fc26f94c1952e119ca32b9190b", "commitAfterChange": "9f1a7f1f74b43ef6c34fcdde3f9fd38e624bc907", "methodNumberBeforeChange": 118, "methodNumberAfterChange": 118, "signatureBeforeChange": " boolean updateItems()", "signatureAfterChange": " boolean updateItems()", "diff": ["-\tif (setItemSize()) changed = true;", "-\tif (setItemLocation()) changed = true;", "-\tCTabItem item = items[items.length - 1];", "-\tif (item.x + item.width < getRightItemEdge()) {", "-\t\tint first = firstIndex;", "-\t\tsetLastIndex(items.length - 1);", "-\t\tif (first != firstIndex) changed = true;", "-\t}", "-\tsetButtonBounds();", "-\tif (selectedIndex != -1) {", "-\t\tint top = firstIndex;", "-\t\tshowItem(items[selectedIndex]);", "-\t\tif (top != firstIndex) changed = true;", "+\tif (items.length > 0) {", "+\t\tif (setItemSize()) changed = true;", "+\t\tif (setItemLocation()) changed = true;", "+\t\tCTabItem item = items[items.length - 1];", "+\t\tif (item.x + item.width < getRightItemEdge()) {", "+\t\t\tint first = firstIndex;", "+\t\t\tsetLastIndex(items.length - 1);", "+\t\t\tif (first != firstIndex) changed = true;", "+\t\t}", "+\t\tsetButtonBounds();", "+\t\tif (selectedIndex != -1) {", "+\t\t\tint top = firstIndex;", "+\t\t\tshowItem(items[selectedIndex]);", "+\t\t\tif (top != firstIndex) changed = true;", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "888bc611e08c0f42bda9daa24b8e38a1", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/List.java", "commitBeforeChange": "8eca1b1140ba9ae4ba5946187f3f48f1bcf25625", "commitAfterChange": "8a218da20ca2e70ff494243680fbd8417c9424ac", "methodNumberBeforeChange": 44, "methodNumberAfterChange": 44, "signatureBeforeChange": "\r public void setSelection(int [] indices)", "signatureAfterChange": "\r public void setSelection(int [] indices)", "diff": ["-\t\tint focusIndex = indices [0];\r", "-\t\tif (focusIndex != -1) setFocusIndex (focusIndex);\r", "+\t\tif (indices.length != 0) {\r", "+\t\t\tint focusIndex = indices [0];\r", "+\t\t\tif (focusIndex != -1) setFocusIndex (focusIndex);\r", "+\t\t}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "06762c8ba52d1cefa39a3e0a88ca5cc8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "b07e2a50a2b6d1885def9d0d376e84ec5515bfb7", "commitAfterChange": "d259be5ab98a39ac5b7c889deb0991573969bd0d", "methodNumberBeforeChange": 29, "methodNumberAfterChange": 29, "signatureBeforeChange": "  void enableWidget (boolean enabled)", "signatureAfterChange": "  void enableWidget (boolean enabled)", "diff": ["-\t\t_setBackgroundPixel (enabled ? control.getBackgroundPixel () : -1);", "+\t\tif (control.backgroundImage == null) {", "+\t\t\t_setBackgroundPixel (enabled ? control.getBackgroundPixel () : -1);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b878e7f9c5c753eb7cf653c4f25df8eb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/List.java", "commitBeforeChange": "7447341052d03cd442d9c7c88eb82ba221c89b6c", "commitAfterChange": "12b870828221c9c0b493f9c0652efa449857e0a6", "methodNumberBeforeChange": 38, "methodNumberAfterChange": 38, "signatureBeforeChange": "  int itemNotificationProc (int browser, int id, int message)", "signatureAfterChange": "  int itemNotificationProc (int browser, int id, int message)", "diff": ["-\t\t\tpostEvent (SWT.DefaultSelection);", "+\t\t\tif (display.clickCount == 2) {", "+\t\t\t\tpostEvent (SWT.DefaultSelection);", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cb91305f06c6c3bc649edcd268518b6e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Display.java", "commitBeforeChange": "3ee42b83b117fbf54f6cbc023f994d89eebceeff", "commitAfterChange": "09a475d34defb0bfd6516351fddbc4e00ad88f8b", "methodNumberBeforeChange": 76, "methodNumberAfterChange": 76, "signatureBeforeChange": " protected void init ()", "signatureAfterChange": " protected void init ()", "diff": ["-\tlpWndClass.style |= OS.CS_DROPSHADOW;", "+\tif (OS.COMCTL32_MAJOR >= 6) lpWndClass.style |= OS.CS_DROPSHADOW;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e8cba16125cd84ec485afd75fc2f3a17", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/ProgressBar.java", "commitBeforeChange": "45b8d417c8fc8ee693b2b192a6638e338fcf556d", "commitAfterChange": "d5e051a492dd6896e32aef1fd63a0c4e4e2e39bc", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 19, "signatureBeforeChange": "  LRESULT WM_TIMER (int wParam, int lParam)", "signatureAfterChange": "  LRESULT WM_TIMER (int wParam, int lParam)", "diff": ["-\tif (wParam == TIMER_ID) {", "-\t\tOS.SendMessage (handle, OS.PBM_STEPIT, 0, 0);", "+\tif (OS.COMCTL32_MAJOR < 6) {", "+\t\tif (wParam == TIMER_ID) {", "+\t\t\tOS.SendMessage (handle, OS.PBM_STEPIT, 0, 0);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "70c8e77cb84537017bd54bf5cb848cfa", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "59553b5e291417a2e8c9353bb30a915a5e064d65", "commitAfterChange": "8d77b789591c14924ad394c0fd32f4a26eb6d5e7", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 23, "signatureBeforeChange": " public void drawPolyline(int[] pointArray)", "signatureAfterChange": " public void drawPolyline(int[] pointArray)", "diff": ["-\t\tOS.SetPixel (handle, pointArray[length - 2], pointArray[length - 1], OS.GetTextColor (handle));", "+\t\tif (data.lineWidth <= 1) {", "+\t\t\tOS.SetPixel (handle, pointArray[length - 2], pointArray[length - 1], OS.GetTextColor (handle));", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2d2d9f0608839eb1715c439dd052fdc8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/FileDialog.java", "commitBeforeChange": "92bb7dc99b71d980cbdb1bb76035daf453cf7277", "commitAfterChange": "d9965fc0aa788c739d4bb305e240de0da67679be", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "  int filterProc (int theItem, int infoPtr, int callBackUD, int filterMode)", "signatureAfterChange": "  int filterProc (int theItem, int infoPtr, int callBackUD, int filterMode)", "diff": ["-\t\t\t\t\t\t\tCFRange range = new CFRange ();", "-\t\t\t\t\t\t\trange.length = buffer.length;", "-\t\t\t\t\t\t\tOS.CFStringGetCharacters (ext, range, buffer);", "+\t\t\t\t\t\t\tif (buffer.length > 0) {", "+\t\t\t\t\t\t\t\tCFRange range = new CFRange ();", "+\t\t\t\t\t\t\t\trange.length = buffer.length;", "+\t\t\t\t\t\t\t\tOS.CFStringGetCharacters (ext, range, buffer);", "+\t\t\t\t\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "acca193dc649c000616fed016ad9559f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Decorations.java", "commitBeforeChange": "5a7c149aeb8d18a02cc47db0e52d6bca3505a8b8", "commitAfterChange": "285048d733ba2ac7ac939aae339235bf286f43d0", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 22, "signatureBeforeChange": " public void setImage (Image image)", "signatureAfterChange": " public void setImage (Image image)", "diff": ["-\tif (image != null) {", "-\t\tOS.SetApplicationDockTileImage (image.handle);", "-\t} else {", "-\t\tOS.RestoreApplicationDockTileImage ();", "+\tif (display.dockImage != 0) {", "+\t\tif (image != null) {", "+\t\t\tOS.SetApplicationDockTileImage (image.handle);", "+\t\t} else {", "+\t\t\tOS.RestoreApplicationDockTileImage ();", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2f7a45635f729ed8a7ac5951fba3accf", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "512a62fb20982c6d071e68c0b0ba5b9d6475c257", "commitAfterChange": "cbbd1213ec1a9edc402d708865524e69d4ab9400", "methodNumberBeforeChange": 73, "methodNumberAfterChange": 73, "signatureBeforeChange": "  void getSize(int[] width, int[] height)", "signatureAfterChange": "  void getSize(int[] width, int[] height)", "diff": ["+\tif (data.drawable != 0) {", "+\t\tOS.gdk_drawable_get_size(data.drawable, width, height);", "+\t\treturn;", "+\t}", "-\t} else {", "-\t\tOS.gdk_drawable_get_size(data.drawable, width, height);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e5e0abeea5f04809519905e7814f296c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/motif/org/eclipse/swt/widgets/CoolBar.java", "commitBeforeChange": "9fedd0db5879e16f4217a567123278513c1d3514", "commitAfterChange": "ad54d6ff2f098b77d6355da5d3e4463a8c93f824", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": "\r Point layout (int widthHint)", "signatureAfterChange": "\r Point layout (int widthHint)", "diff": ["-\t\ty += ROW_SPACING;\r", "-\t\tint x = 0, rowHeight = getRowHeight(i);\r", "-\t\tfor (int j = 0; j < row.size(); j++) {\r", "-\t\t\tCoolItem child = (CoolItem) row.elementAt(j);\r", "-\t\t\tint childWidth = child.getSize().x;\r", "-\t\t\tif (resize) child.setBounds(x, y, childWidth, rowHeight);\r", "-\t\t\tx += childWidth;\r", "-\t\t}\r", "-\t\tmaxWidth = Math.max(maxWidth, x);\r", "-\t\tif (resize) adjustItemWidths(row, widthHint);\r", "-\t\ty += rowHeight;\t\r", "+\t\tif (row.size() > 0) {\r", "+\t\t\ty += ROW_SPACING;\r", "+\t\t\tint x = 0, rowHeight = getRowHeight(i);\r", "+\t\t\tfor (int j = 0; j < row.size(); j++) {\r", "+\t\t\t\tCoolItem child = (CoolItem) row.elementAt(j);\r", "+\t\t\t\tint childWidth = child.getSize().x;\r", "+\t\t\t\tif (resize) child.setBounds(x, y, childWidth, rowHeight);\r", "+\t\t\t\tx += childWidth;\r", "+\t\t\t}\r", "+\t\t\tmaxWidth = Math.max(maxWidth, x);\r", "+\t\t\tif (resize) adjustItemWidths(row, widthHint);\r", "+\t\t\ty += rowHeight;\r", "+\t\t}\t\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7a672cce7d28cecc2ff01a730c007191", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/common/org/eclipse/swt/widgets/Synchronizer.java", "commitBeforeChange": "a60d8be544df20ec79b43bb591b7ac60b3452dbc", "commitAfterChange": "259eeec7c02873f334b3e193dd9ea5201b08cc24", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "  RunnableLock removeFirst ()", "signatureAfterChange": "  RunnableLock removeFirst ()", "diff": ["-\t\tif (messageCount == 0) messages = null;", "+\t\tif (messageCount == 0) {", "+\t\t\tif (messages.length > 64) messages = null;", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "912943032004ef3b3e7de4c4a95211a7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/treetable/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "88edd675b9c45a4a3e56ce502fdfc21890977528", "commitAfterChange": "877b3e18accee97fd3870d383e4c48b3926c7bc1", "methodNumberBeforeChange": 70, "methodNumberAfterChange": 70, "signatureBeforeChange": " void onPaint (Event event)", "signatureAfterChange": " void onPaint (Event event)", "diff": ["-\t\t\t\tgc.setClipping (focusBounds);", "-\t\t\t\tint[] oldLineDash = gc.getLineDash ();", "-\t\t\t\tif (item.isSelected ()) {", "-\t\t\t\t\tgc.setLineDash (new int[] {2, 2});", "-\t\t\t\t} else {", "-\t\t\t\t\tgc.setLineDash (new int[] {1, 1});", "+\t\t\t\tif (focusBounds.width > 0) {", "+\t\t\t\t\tgc.setClipping (focusBounds);", "+\t\t\t\t\tint[] oldLineDash = gc.getLineDash ();", "+\t\t\t\t\tif (item.isSelected ()) {", "+\t\t\t\t\t\tgc.setLineDash (new int[] {2, 2});", "+\t\t\t\t\t} else {", "+\t\t\t\t\t\tgc.setLineDash (new int[] {1, 1});", "+\t\t\t\t\t}", "+\t\t\t\t\tgc.drawFocus (focusBounds.x, focusBounds.y, focusBounds.width, focusBounds.height);", "+\t\t\t\t\tgc.setLineDash (oldLineDash);", "-\t\t\t\tgc.drawFocus (focusBounds.x, focusBounds.y, focusBounds.width, focusBounds.height);", "-\t\t\t\tgc.setLineDash (oldLineDash);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ada2c1a2fd97c9034318b70b2e5acc6b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/treetable/org/eclipse/swt/widgets/TreeItem.java", "commitBeforeChange": "2b9d73f5d4c4b43aebd3342dc0755134d9491901", "commitAfterChange": "c0ad025a537e23c7ad00b303004f0353d963c808", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": " void addItem (TreeItem item, int index)", "signatureAfterChange": " void addItem (TreeItem item, int index)", "diff": ["-\t\tparent.getVerticalBar ().setSelection (parent.topIndex);", "+\t\tif (parent.drawCount == 0) {", "+\t\t\tparent.getVerticalBar ().setSelection (parent.topIndex);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "46df3096a9d3a36b5525b5bdda3d10df", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/DateTime.java", "commitBeforeChange": "d68c26216e5212818d0d11644759967002f17ecb", "commitAfterChange": "35eae9d3df3f0c7fd9c11c47d7a60670766ebcf1", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "  void hookEvents ()", "signatureAfterChange": "  void hookEvents ()", "diff": ["-\tint clockProc = display.clockProc;", "-\tint [] mask = new int [] {", "-\t\tOS.kEventClassClockView, OS.kEventClockDateOrTimeChanged,", "-\t};", "-\tint controlTarget = OS.GetControlEventTarget (handle);", "-\tOS.InstallEventHandler (controlTarget, clockProc, mask.length / 2, mask, handle, null);", "+\tif (OS.VERSION >= 0x1040) {", "+\t\tint clockProc = display.clockProc;", "+\t\tint [] mask = new int [] {", "+\t\t\t\tOS.kEventClassClockView, OS.kEventClockDateOrTimeChanged,", "+\t\t};", "+\t\tint controlTarget = OS.GetControlEventTarget (handle);", "+\t\tOS.InstallEventHandler (controlTarget, clockProc, mask.length / 2, mask, handle, null);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7f49593b1e4af9b0585324d2d58f54ab", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/ProgressBar.java", "commitBeforeChange": "45b8d417c8fc8ee693b2b192a6638e338fcf556d", "commitAfterChange": "d5e051a492dd6896e32aef1fd63a0c4e4e2e39bc", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "  void releaseWidget ()", "signatureAfterChange": "  void releaseWidget ()", "diff": ["-\t\tOS.KillTimer (handle, TIMER_ID);", "+\t\tif (OS.COMCTL32_MAJOR < 6) {", "+\t\t\tOS.KillTimer (handle, TIMER_ID);", "+\t\t}"]}], "num": 5453}