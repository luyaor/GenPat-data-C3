{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "fec5a8afe794284a0af91fd3a6d16b4c", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "986d6d26fdb61c5b9b2f8271fa1642cb", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Sash.java", "commitBeforeChange": "7b875feb9aab87fbca7cd80d8d00ddfd577b532c", "commitAfterChange": "cf88a4f46102f955017749fd392f852deca59091", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 11, "signatureBeforeChange": " int processPaint (Object callData)", "signatureAfterChange": " int processPaint (Object callData)", "diff": ["-\tPoint e= getSize();", "+\t", "-\tgc.setBackground(getDisplay().getSystemColor(SWT.COLOR_GRAY));", "-\tif (e.x < e.y) {\t// vertical", "-\t\tgc.fillRectangle ((e.x-1)/2, (e.y-20)/2, 1, 20);", "-\t} else {\t// horizontal", "-\t\tgc.fillRectangle ((e.x-20)/2, (e.y-1)/2, 20, 1);", "+\tMacControlEvent me= (MacControlEvent) callData;", "+\tRectangle r= gc.carbon_focus(me.getDamageRegionHandle());", "+\t", "+\tif (! r.isEmpty()) {", "+\t\tPoint e= getSize();", "+\t\t", "+\t\t// erase background", "+\t\tgc.fillRectangle(0, 0, e.x, e.y);", "+\t\t", "+\t\tgc.setBackground(getDisplay().getSystemColor(SWT.COLOR_GRAY));", "+\t\tif (e.x < e.y) {\t// vertical", "+\t\t\tgc.fillRectangle ((e.x-1)/2, (e.y-20)/2, 1, 20);", "+\t\t} else {\t\t\t// horizontal", "+\t\t\tgc.fillRectangle ((e.x-20)/2, (e.y-1)/2, 20, 1);", "+\t\t}", "+\t", "+\tgc.carbon_unfocus();", "-\t/*", "-\tMacRect bounds= new MacRect();", "-\tOS.GetControlBounds(handle, bounds.getData());", "-\tOS.DrawThemeSeparator(bounds.getData(), OS.kThemeStateActive);", "-\t*/", "+\t", "-}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a15a9f16b35885818943d113ba847704", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/ToolItem.java", "commitBeforeChange": "e0c241d61fe08c3037dc1d4d21455eb9593736a1", "commitAfterChange": "a84ad0c351349df1804e73408de9beb15c76ea23", "methodNumberBeforeChange": 49, "methodNumberAfterChange": 49, "signatureBeforeChange": " int processPaint (Object callData)", "signatureAfterChange": " int processPaint (Object callData)", "diff": ["+\tbounds.setLocation(0, 0);", "+\t", "+\tboolean hasCursor= hasCursor ();", "-\tgc.carbon_focus();", "-\t", "-\t// erase background", "-\tgc.fillRectangle(0, 0, width, height);", "-\t", "-\tif ((parent.style & SWT.FLAT) != 0 && set) {", "-\t\tgc.setBackground(Color.carbon_new(display, 0xE0E0E0));", "-\t\tgc.fillRoundRectangle(1, 1, width-2, height-2, 8, 8);", "-\t\tgc.setForeground(display.getSystemColor (SWT.COLOR_GRAY));", "-\t\tgc.drawRoundRectangle(1, 1, width-3, height-3, 8, 8);", "-\t}", "-\t", "-\tif ((style & SWT.SEPARATOR) != 0) {", "-\t", "-\t\tOS.DrawThemeSeparator(bounds.getData(), OS.kThemeStateActive);", "+\tMacControlEvent me= (MacControlEvent) callData;", "+\tRectangle r= gc.carbon_focus(me.getDamageRegionHandle());", "+\tif (!r.isEmpty()) {", "-\t} else {", "-\t\t\t\t", "-\t\tImage currentImage = image;", "-\t\tboolean enabled = getEnabled();", "-\t", "-\t\tshort[] newInfo= new short[3];", "-\t\t\t\t", "-\t\tnewInfo[1]= set ? OS.kThemeButtonOn : OS.kThemeButtonOff;", "+\t\t// erase background", "+\t\tgc.fillRectangle(0, 0, width, height);", "-\t\tif ((parent.style & SWT.FLAT) != 0) {", "-\t\t\tboolean hasCursor = hasCursor ();", "+\t\tif ((parent.style & SWT.FLAT) != 0 && set) {", "+\t\t\tgc.setBackground(Color.carbon_new(display, 0xE0E0E0));", "+\t\t\tgc.fillRoundRectangle(1, 1, width-2, height-2, 8, 8);", "+\t\t\tgc.setForeground(display.getSystemColor (SWT.COLOR_GRAY));", "+\t\t\tgc.drawRoundRectangle(1, 1, width-3, height-3, 8, 8);", "+\t\t}", "+\t\t", "+\t\tif ((style & SWT.SEPARATOR) != 0) {", "+\t\t", "+\t\t\tOS.DrawThemeSeparator(bounds.getData(), OS.kThemeStateActive);", "-\t\t\tif (hasCursor && enabled) {", "-\t\t\t\tif (OS.StillDown())", "-\t\t\t\t\tnewInfo[0]= OS.kThemeStatePressed;", "-\t\t\t\telse", "-\t\t\t\t\tnewInfo[0]= OS.kThemeStateActive;", "-\t\t\t} else", "-\t\t\t\tnewInfo= null;", "-\t\t\t", "-\t\t\t/* Determine if hot image should be used */", "-\t\t\tif (enabled && hasCursor && hotImage != null) {", "-\t\t\t\tcurrentImage = hotImage;", "-\t\t\t}", "-\t\t\tnewInfo[0]= (hasCursor() && OS.StillDown()) ? OS.kThemeStatePressed : OS.kThemeStateActive;", "-\t\t}", "-", "-\t\tif (newInfo != null) {", "-\t\t\tMacRect b= new MacRect(bounds.getX()+1, bounds.getY()+1, width-2, height-2);", "-\t\t\t//OS.DrawThemeButton(bounds.getData(), OS.kThemeSmallBevelButton, newInfo, fPrevInfo, 0, 0, 0);", "-\t\t\tOS.DrawThemeButton(b.getData(), OS.kThemeSmallBevelButton, newInfo, fPrevInfo, 0, 0, 0);", "-\t\t}", "-\t\tfPrevInfo= newInfo;", "+\t\t\t\t\t", "+\t\t\tImage currentImage = image;", "+\t\t\tboolean enabled = getEnabled();", "+\t\t", "+\t\t\tshort[] newInfo= new short[3];", "+\t\t\t\t\t", "+\t\t\tnewInfo[1]= set ? OS.kThemeButtonOn : OS.kThemeButtonOff;", "-\t\tif (enabled) {", "-\t\t\tgc.setForeground (parent.getForeground());", "-\t\t} else {", "-\t\t\tcurrentImage = disabledImage;", "-\t\t\tif (currentImage == null && image != null) {", "-\t\t\t\tcurrentImage = new Image (display, image, SWT.IMAGE_DISABLE);", "+\t\t\tif ((parent.style & SWT.FLAT) != 0) {", "+\t\t\t\t", "+\t\t\t\tif (hasCursor && enabled) {", "+\t\t\t\t\tif (OS.StillDown())", "+\t\t\t\t\t\tnewInfo[0]= OS.kThemeStatePressed;", "+\t\t\t\t\telse", "+\t\t\t\t\t\tnewInfo[0]= OS.kThemeStateActive;", "+\t\t\t\t} else", "+\t\t\t\t\tnewInfo= null;", "+\t\t\t\t", "+\t\t\t\t/* Determine if hot image should be used */", "+\t\t\t\tif (enabled && hasCursor && hotImage != null) {", "+\t\t\t\t\tcurrentImage = hotImage;", "+\t\t\t\t}", "+\t\t\t} else {", "+\t\t\t\tnewInfo[0]= (hasCursor && OS.StillDown()) ? OS.kThemeStatePressed : OS.kThemeStateActive;", "-\t\t\tColor disabledColor = display.getSystemColor (SWT.COLOR_WIDGET_NORMAL_SHADOW);", "-\t\t\tgc.setForeground (disabledColor);", "-\t\t}", "-\t\t", "-\t\tint textX = 0, textY = 0, textWidth = 0, textHeight = 0;", "-\t\tif (text.length () != 0) {", "-\t\t\tint flags = SWT.DRAW_DELIMITER | SWT.DRAW_TAB | SWT.DRAW_MNEMONIC;", "-\t\t\tPoint textExtent = gc.textExtent (text, flags);", "-\t\t\ttextWidth = textExtent.x;", "-\t\t\ttextHeight = textExtent.y;", "-\t\t}\t", "-\t\tint imageX = 0, imageY = 0, imageWidth = 0, imageHeight = 0;", "-\t\tif (currentImage != null) {", "-\t\t\tRectangle imageBounds = currentImage.getBounds ();", "-\t\t\timageWidth = imageBounds.width;", "-\t\t\timageHeight = imageBounds.height;", "-\t\t}", "-\t\t", "-\t\tint spacing = 0;", "-\t\tif (textWidth != 0 && imageWidth != 0) spacing = 2;", "-\t\tif ((parent.style & SWT.RIGHT) != 0) {", "-\t\t\timageX = (width - imageWidth - textWidth - spacing) / 2;", "-\t\t\timageY = (height - imageHeight) / 2;", "-\t\t\ttextX = spacing + imageX + imageWidth;", "-\t\t\ttextY = (height - textHeight) / 2;", "-\t\t} else {\t\t", "-\t\t\timageX = (width - imageWidth) / 2;", "-\t\t\timageY = (height - imageHeight - textHeight - spacing) / 2;", "-\t\t\ttextX = (width - textWidth) / 2;", "-\t\t\ttextY = spacing + imageY + imageHeight;", "-\t\t}", "-\t\t", "-\t\tif ((style & SWT.DROP_DOWN) != 0) {", "-\t\t\ttextX -= 6;  imageX -=6;", "-\t\t}", "-\t\tif (textWidth > 0) {", "-\t\t\tint flags = SWT.DRAW_DELIMITER | SWT.DRAW_TAB | SWT.DRAW_MNEMONIC | SWT.DRAW_TRANSPARENT;", "-\t\t\tgc.drawText(text, textX, textY, flags);", "-\t\t}", "-\t\tif (imageWidth > 0)", "-\t\t\tgc.drawImage(currentImage, imageX, imageY);", "+\t", "+\t\t\tif (newInfo != null) {", "+\t\t\t\tMacRect b= new MacRect(1, 1, width-2, height-2);", "+\t\t\t\tOS.DrawThemeButton(b.getData(), OS.kThemeSmallBevelButton, newInfo, fPrevInfo, 0, 0, 0);", "+\t\t\t}", "+\t\t\tfPrevInfo= newInfo;", "+\t\t\t\t", "+\t\t\tif (enabled) {", "+\t\t\t\tgc.setForeground (parent.getForeground());", "+\t\t\t} else {", "+\t\t\t\tcurrentImage = disabledImage;", "+\t\t\t\tif (currentImage == null && image != null) {", "+\t\t\t\t\tcurrentImage = new Image (display, image, SWT.IMAGE_DISABLE);", "+\t\t\t\t}", "+\t\t\t\tColor disabledColor = display.getSystemColor (SWT.COLOR_WIDGET_NORMAL_SHADOW);", "+\t\t\t\tgc.setForeground (disabledColor);", "+\t\t\t}", "-\t\tif ((style & SWT.DROP_DOWN) != 0) {", "-\t\t\tint startX = width - 12, startY = (height - 2) / 2;", "-\t\t\tint [] arrow = {startX, startY, startX + 3, startY + 3, startX + 6, startY};", "-\t\t\tgc.setBackground (gc.getForeground ());", "-\t\t\tgc.fillPolygon (arrow);", "-\t\t\tgc.drawPolygon (arrow);", "-\t\t}", "-\t\tif (!enabled && disabledImage == null) {", "-\t\t\tif (currentImage != null) currentImage.dispose ();", "+\t\t\tint textX = 0, textY = 0, textWidth = 0, textHeight = 0;", "+\t\t\tif (text.length() > 0) {", "+\t\t\t\tint flags = SWT.DRAW_DELIMITER | SWT.DRAW_TAB | SWT.DRAW_MNEMONIC;", "+\t\t\t\tPoint textExtent = gc.textExtent (text, flags);", "+\t\t\t\ttextWidth = textExtent.x;", "+\t\t\t\ttextHeight = textExtent.y;", "+\t\t\t}\t", "+\t\t\tint imageX = 0, imageY = 0, imageWidth = 0, imageHeight = 0;", "+\t\t\tif (currentImage != null) {", "+\t\t\t\tRectangle imageBounds = currentImage.getBounds ();", "+\t\t\t\timageWidth = imageBounds.width;", "+\t\t\t\timageHeight = imageBounds.height;", "+\t\t\t}", "+\t\t\t", "+\t\t\tint spacing = 0;", "+\t\t\tif (textWidth != 0 && imageWidth != 0) spacing = 2;", "+\t\t\tif ((parent.style & SWT.RIGHT) != 0) {", "+\t\t\t\timageX = (width - imageWidth - textWidth - spacing) / 2;", "+\t\t\t\timageY = (height - imageHeight) / 2;", "+\t\t\t\ttextX = spacing + imageX + imageWidth;", "+\t\t\t\ttextY = (height - textHeight) / 2;", "+\t\t\t} else {\t\t", "+\t\t\t\timageX = (width - imageWidth) / 2;", "+\t\t\t\timageY = (height - imageHeight - textHeight - spacing) / 2;", "+\t\t\t\ttextX = (width - textWidth) / 2;", "+\t\t\t\ttextY = spacing + imageY + imageHeight;", "+\t\t\t}", "+\t\t\t", "+\t\t\tif ((style & SWT.DROP_DOWN) != 0) {", "+\t\t\t\ttextX -= 6;  imageX -=6;", "+\t\t\t}", "+\t\t\tif (textWidth > 0) {", "+\t\t\t\tint flags = SWT.DRAW_DELIMITER | SWT.DRAW_TAB | SWT.DRAW_MNEMONIC | SWT.DRAW_TRANSPARENT;", "+\t\t\t\tgc.drawText(text, textX, textY, flags);", "+\t\t\t}", "+\t\t\tif (imageWidth > 0)", "+\t\t\t\tgc.drawImage(currentImage, imageX, imageY);", "+\t\t\t\t", "+\t\t\tif ((style & SWT.DROP_DOWN) != 0) {", "+\t\t\t\tint startX = width - 12, startY = (height - 2) / 2;", "+\t\t\t\tint [] arrow = {startX, startY, startX + 3, startY + 3, startX + 6, startY};", "+\t\t\t\tgc.setBackground (gc.getForeground ());", "+\t\t\t\tgc.fillPolygon (arrow);", "+\t\t\t\tgc.drawPolygon (arrow);", "+\t\t\t}", "+\t\t\tif (!enabled && disabledImage == null) {", "+\t\t\t\tif (currentImage != null) currentImage.dispose ();", "+\t\t\t}", "-\t\t"]}], "num": 29978}