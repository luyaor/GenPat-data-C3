{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "64a94965f8e5784917c16906df764d25", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "28f1ff87b9514a0dbf8e755055695ab2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "ad7faf2331d33c7f68735fad69a11baef3deb362", "commitAfterChange": "169f4f3eed024153ecdf584bb52e3a3a80efd99a", "methodNumberBeforeChange": 47, "methodNumberAfterChange": 48, "signatureBeforeChange": "  public int internal_new_GC (GCData data)", "signatureAfterChange": "  public int internal_new_GC (GCData data)", "diff": ["+\tint visibleRgn = 0;", "+\tint window = OS.GetControlOwner (handle);", "+\tint port = OS.GetWindowPort (window);", "-\tint context = 0, paintRgn = 0, visibleRgn = 0;", "-\tif (data.paintEvent != 0) {", "-\t\tint theEvent = data.paintEvent;", "-\t\tOS.GetEventParameter (theEvent, OS.kEventParamCGContextRef, OS.typeCGContextRef, null, 4, null, buffer);", "-\t\tcontext = buffer [0];\t", "-\t\tOS.GetEventParameter (theEvent, OS.kEventParamRgnHandle, OS.typeQDRgnHandle, null, 4, null, buffer);", "-\t\tvisibleRgn = paintRgn = buffer [0];", "-\t}", "-\tif (context == 0) {", "-\t\tint window = OS.GetControlOwner (handle);", "-\t\tint port = OS.GetWindowPort (window);", "-\t\tOS.CreateCGContextForPort (port, buffer);", "-\t\tcontext = buffer [0];", "-\t\tif (context != 0) {", "-\t\t\tRect rect = new Rect ();", "-\t\t\tOS.GetControlBounds (handle, rect);", "-\t\t\tRect portRect = new Rect ();", "-\t\t\tOS.GetPortBounds (port, portRect);", "+\tOS.CreateCGContextForPort (port, buffer);", "+\tint context = buffer [0];", "+\tif (context != 0) {", "+\t\tRect rect = new Rect ();", "+\t\tOS.GetControlBounds (handle, rect);", "+\t\tRect portRect = new Rect ();", "+\t\tOS.GetPortBounds (port, portRect);", "+\t\tif (data != null && data.paintEvent != 0) {", "+\t\t\tvisibleRgn = data.visibleRgn;", "+\t\t} else {", "-\t\t\tif (paintRgn != 0) OS.SectRgn (paintRgn, visibleRgn, visibleRgn);", "-\t\t\tOS.ClipCGContextToRegion (context, portRect, visibleRgn);", "-\t\t\tint portHeight = portRect.bottom - portRect.top;", "-\t\t\tOS.CGContextScaleCTM (context, 1, -1);", "-\t\t\tOS.CGContextTranslateCTM (context, rect.left, -portHeight + rect.top);", "+\t\tOS.ClipCGContextToRegion (context, portRect, visibleRgn);", "+\t\tint portHeight = portRect.bottom - portRect.top;", "+\t\tOS.CGContextScaleCTM (context, 1, -1);", "+\t\tOS.CGContextTranslateCTM (context, rect.left, -portHeight + rect.top);", "-\t} else {", "-\t\tif (visibleRgn != paintRgn) OS.DisposeRgn (visibleRgn);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "401d52308f484b4bb9e1a0b935a8e397", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "ad7faf2331d33c7f68735fad69a11baef3deb362", "commitAfterChange": "169f4f3eed024153ecdf584bb52e3a3a80efd99a", "methodNumberBeforeChange": 48, "methodNumberAfterChange": 49, "signatureBeforeChange": "  public void internal_dispose_GC (int context, GCData data)", "signatureAfterChange": "  public void internal_dispose_GC (int context, GCData data)", "diff": ["-\tif (data != null) {", "-\t\tint paintContext = 0, paintRgn = 0;", "-\t\tif (data.paintEvent != 0) {", "-\t\t\tint theEvent = data.paintEvent;", "-\t\t\tint [] buffer = new int [1];", "-\t\t\tOS.GetEventParameter (theEvent, OS.kEventParamCGContextRef, OS.typeCGContextRef, null, 4, null, buffer);", "-\t\t\tpaintContext = buffer [0];\t", "-\t\t\tOS.GetEventParameter (theEvent, OS.kEventParamRgnHandle, OS.typeQDRgnHandle, null, 4, null, buffer);", "-\t\t\tpaintRgn = buffer [0];", "-\t\t}", "-\t\tif (data.visibleRgn != 0 && data.visibleRgn != paintRgn) {", "+\tif (data != null && data.paintEvent == 0) {", "+\t\tif (data.visibleRgn != 0) {", "-\t\tif (paintContext == context) return;"]}], "num": 4640}