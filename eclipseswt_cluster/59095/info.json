{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ce3b60e3ef6787c5599897de531a542b", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4e77b66353e701cdfee4940a47b596e0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "869a05d22560f8787f83870ca00ce93f2d9288c4", "commitAfterChange": "625f15cccaec72a6e7aefaa65580720fa6d4113a", "methodNumberBeforeChange": 65, "methodNumberAfterChange": 65, "signatureBeforeChange": "  void setBounds (int x, int y, int width, int height, int flags, boolean defer)", "signatureAfterChange": "  void setBounds (int x, int y, int width, int height, int flags, boolean defer)", "diff": ["-\t* destroying and recreating the table.  By observation, the", "-\t* problem happens when the height of the table is less than", "-\t* the two times the height of a line (this was tested using", "-\t* different fonts and images).  It also seems that the bug", "-\t* does not occur when the redraw is turned off for the table.", "-\t* The fix is to turn off drawing when resizing a table that", "-\t* is small enough to show the problem. ", "+\t* destroying and recreating the table.  The fix is to send", "+\t* the resize notification after the size has been changed in", "+\t* the operating system.", "+\t* ", "+\t* NOTE:  This does not fix the case when the user is resizing", "+\t* columns dynamically.  There is no fix for this case at this", "+\t* time.", "-\tboolean fixResize = false;", "-\tif ((flags & OS.SWP_NOSIZE) == 0) {", "-\t\tRectangle rect = getBounds ();", "-\t\tfixResize = rect.height < getItemHeight () * 2;", "+\tif ((flags & OS.SWP_NOSIZE) != 0) {", "+\t\tsuper.setBounds (x, y, width, height, flags, defer);", "+\t\treturn;", "-\tif (fixResize) setRedraw (false);", "-\tsuper.setBounds (x, y, width, height, flags, fixResize ? false : defer);", "-\tif (fixResize) setRedraw (true);", "+\tRectangle oldRect = getClientArea ();", "+\tignoreResize = true;", "+\tsuper.setBounds (x, y, width, height, flags, false);", "+\tignoreResize = false;", "+\tRectangle newRect = getClientArea ();", "+\tif (oldRect.width != newRect.width || oldRect.height != newRect.height) {", "+\t\tsetResizeChildren (false);", "+\t\tsendEvent (SWT.Resize);", "+\t\tif (isDisposed ()) return;", "+\t\tif (layout != null) {", "+\t\t\tmarkLayout (false, false);", "+\t\t\tupdateLayout (false, false);", "+\t\t}", "+\t\tsetResizeChildren (true);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "440e1e627b4c3f4a340468933252811e", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "ca1602b72e772d9e07e3ad51569fca21efec9148", "commitAfterChange": "d73d99b9389b5b6f9338b533af23ca2108ae9af8", "methodNumberBeforeChange": 79, "methodNumberAfterChange": 79, "signatureBeforeChange": "  int windowProc (int hwnd, int msg, int wParam, int lParam)", "signatureAfterChange": "  int windowProc (int hwnd, int msg, int wParam, int lParam)", "diff": ["+\t\t\tcase OS.WM_MOVE: {", "+\t\t\t\tsendEvent (SWT.Move);", "+\t\t\t\treturn 0;", "+\t\t\t}", "+\t\t\tcase OS.WM_SIZE: {", "+\t\t\t\tsetScrollWidth ();", "+\t\t\t\tif (ignoreResize) return 0;", "+\t\t\t\tsetResizeChildren (false);", "+\t\t\t\tint code = callWindowProc (hwnd, OS.WM_SIZE, wParam, lParam);", "+\t\t\t\tsendEvent (SWT.Resize);", "+\t\t\t\tif (isDisposed ()) return 0;", "+\t\t\t\tif (layout != null) {", "+\t\t\t\t\tmarkLayout (false, false);", "+\t\t\t\t\tupdateLayout (false, false);", "+\t\t\t\t}", "+\t\t\t\tsetResizeChildren (true);", "+\t\t\t\treturn 0;", "+\t\t\t}", "-\t\t\tcase OS.WM_HSCROLL:", "+\t\t\tcase OS.WM_HSCROLL: {", "-\t\t\t\t//FALL THROUGH", "-\t\t\tcase OS.WM_SIZE: {"]}], "num": 59095}