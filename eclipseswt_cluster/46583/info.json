{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9edf96911575ea7dc6a4efec171a39bd", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bb29a7ea86b252c88cd778250dcdf5e9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CCombo.java", "commitBeforeChange": "3a561a0f342692ed7f56f3204caeef21de6b8af5", "commitAfterChange": "427f900dac0ce6832effeabe86cc2a8c64b4d2bf", "methodNumberBeforeChange": 81, "methodNumberAfterChange": 82, "signatureBeforeChange": " public void setListVisible (boolean visible)", "signatureAfterChange": " public void setListVisible (boolean visible)", "diff": ["-\tif (visible == isDropped ()) return;", "-\tif (!visible) {", "-\t\tpopup.setVisible (false);", "-\t\tif (!isDisposed ()&& arrow.isFocusControl()) {", "-\t\t\ttext.setFocus();", "-\t\t}", "-\t\treturn;", "-\t}", "-", "-\tif (getShell() != popup.getParent ()) {", "-\t\tString[] items = list.getItems ();", "-\t\tint selectionIndex = list.getSelectionIndex ();", "-\t\tlist.removeListener (SWT.Dispose, listener);", "-\t\tpopup.dispose();", "-\t\tpopup = null;", "-\t\tlist = null;", "-\t\tcreatePopup (items, selectionIndex);", "-\t}", "-\t", "-\tPoint size = getSize ();", "-\tint itemCount = list.getItemCount ();", "-\titemCount = (itemCount == 0) ? visibleItemCount : Math.min(visibleItemCount, itemCount);", "-\tint itemHeight = list.getItemHeight () * itemCount;", "-\tPoint listSize = list.computeSize (SWT.DEFAULT, itemHeight, false);", "-\tlist.setBounds (1, 1, Math.max (size.x - 2, listSize.x), listSize.y);", "-\t", "-\tint index = list.getSelectionIndex ();", "-\tif (index != -1) list.setTopIndex (index);", "-\tDisplay display = getDisplay ();", "-\tRectangle listRect = list.getBounds ();", "-\tRectangle parentRect = display.map (getParent (), null, getBounds ());", "-\tPoint comboSize = getSize ();", "-\tRectangle displayRect = getMonitor ().getClientArea ();", "-\tint width = Math.max (comboSize.x, listRect.width + 2);", "-\tint height = listRect.height + 2;", "-\tint x = parentRect.x;", "-\tint y = parentRect.y + comboSize.y;", "-\tif (y + height > displayRect.y + displayRect.height) y = parentRect.y - height;", "-\tif (x + width > displayRect.x + displayRect.width) x = displayRect.x + displayRect.width - listRect.width;", "-\tpopup.setBounds (x, y, width, height);", "-\tpopup.setVisible (true);", "+\tdropDown(visible, false);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b2f3843e78e5ad89ddf94e2ece9dbdb9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CCombo.java", "commitBeforeChange": "81df051b8b1f506daf88968bd8000fd81b093c97", "commitAfterChange": "0b7dc169677f36194000428ce6ee05f14055473b", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 18, "signatureBeforeChange": " void dropDown (boolean drop)", "signatureAfterChange": " void dropDown (boolean drop)", "diff": ["-\tif (drop == isDropped ()) return;", "-\tif (!drop) {", "-\t\tpopup.setVisible (false);", "-\t\tif (!isDisposed ()&& arrow.isFocusControl()) {", "-\t\t\ttext.setFocus();", "-\t\t}", "-\t\treturn;", "-\t}", "-", "-\tif (getShell() != popup.getParent ()) {", "-\t\tString[] items = list.getItems ();", "-\t\tint selectionIndex = list.getSelectionIndex ();", "-\t\tlist.removeListener (SWT.Dispose, listener);", "-\t\tpopup.dispose();", "-\t\tpopup = null;", "-\t\tlist = null;", "-\t\tcreatePopup (items, selectionIndex);", "-\t}", "-\t", "-\tPoint size = getSize ();", "-\tint itemCount = list.getItemCount ();", "-\titemCount = (itemCount == 0) ? visibleItemCount : Math.min(visibleItemCount, itemCount);", "-\tint itemHeight = list.getItemHeight () * itemCount;", "-\tPoint listSize = list.computeSize (SWT.DEFAULT, itemHeight, false);", "-\tlist.setBounds (1, 1, Math.max (size.x - 2, listSize.x), listSize.y);", "-\t", "-\tint index = list.getSelectionIndex ();", "-\tif (index != -1) list.setTopIndex (index);", "-\tDisplay display = getDisplay ();", "-\tRectangle listRect = list.getBounds ();", "-\tRectangle parentRect = display.map (getParent (), null, getBounds ());", "-\tPoint comboSize = getSize ();", "-\tRectangle displayRect = getMonitor ().getClientArea ();", "-\tint width = Math.max (comboSize.x, listRect.width + 2);", "-\tint height = listRect.height + 2;", "-\tint x = parentRect.x;", "-\tint y = parentRect.y + comboSize.y;", "-\tif (y + height > displayRect.y + displayRect.height) y = parentRect.y - height;", "-\tif (x + width > displayRect.x + displayRect.width) x = displayRect.x + displayRect.width - listRect.width;", "-\tpopup.setBounds (x, y, width, height);", "-\tpopup.setVisible (true);", "-\tlist.setFocus ();", "+\tsetListVisible(drop);", "+\tif (isDropped()) list.setFocus ();"]}], "num": 46583}