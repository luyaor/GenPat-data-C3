{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b9eeb1d8ff357a9b3390b77aee0df9a3", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4ca706065f1795d0f90bbaea9255f593", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "ef390566d4164ae7a1f970e53f45de12a5265cf6", "commitAfterChange": "ee543bcb83fee603dbf808a397bfdb1dd9d1075a", "methodNumberBeforeChange": 151, "methodNumberAfterChange": 151, "signatureBeforeChange": "  LRESULT wmNotifyChild (NMHDR hdr, int wParam, int lParam)", "signatureAfterChange": "  LRESULT wmNotifyChild (NMHDR hdr, int wParam, int lParam)", "diff": ["-LRESULT wmNotifyChild (NMHDR hdr, int wParam, int lParam) {", "+LRESULT wmNotifyChild (NMHDR hdr, int /*long*/ wParam, int /*long*/ lParam) {", "-\t\t\t\t\t\tif (items [lptvdi.lParam] != null && items [lptvdi.lParam].cached) {", "+\t\t\t\t\t\tif (items [(int)/*64*/lptvdi.lParam] != null && items [(int)/*64*/lptvdi.lParam].cached) {", "-\t\t\tint id = lptvdi.lParam;", "+\t\t\tint /*long*/ id = lptvdi.lParam;", "-\t\t\t\tindex = OS.SendMessage (hwndHeader, OS.HDM_ORDERTOINDEX, 0, 0);", "+\t\t\t\tindex = (int)/*64*/OS.SendMessage (hwndHeader, OS.HDM_ORDERTOINDEX, 0, 0);", "-\t\t\t\t\tTVITEM tvItem = new TVITEM ();", "-\t\t\t\t\tint offset1 = NMHDR.sizeof + 4;", "-\t\t\t\t\tOS.MoveMemory (tvItem, lParam + offset1, TVITEM.sizeof);", "+\t\t\t\t\tNMTREEVIEW treeView = new NMTREEVIEW ();", "+\t\t\t\t\tOS.MoveMemory (treeView, lParam, NMTREEVIEW.sizeof);", "+\t\t\t\t\tTVITEM tvItem = treeView.itemOld;", "-\t\t\t\t\tint offset2 = NMHDR.sizeof + 4 + TVITEM.sizeof;", "-\t\t\t\t\tOS.MoveMemory (tvItem, lParam + offset2, TVITEM.sizeof);", "+\t\t\t\t\ttvItem = treeView.itemNew;", "+\t\t\tNMTREEVIEW treeView = null;", "-\t\t\t\t\t\tTVITEM tvItem = new TVITEM ();", "-\t\t\t\t\t\tint offset = NMHDR.sizeof + 4;", "-\t\t\t\t\t\tOS.MoveMemory (tvItem, lParam + offset, TVITEM.sizeof);", "+\t\t\t\t\t\tif (treeView == null) {", "+\t\t\t\t\t\t\ttreeView = new NMTREEVIEW ();", "+\t\t\t\t\t\t\tOS.MoveMemory (treeView, lParam, NMTREEVIEW.sizeof);", "+\t\t\t\t\t\t}", "+\t\t\t\t\t\tTVITEM tvItem = treeView.itemOld;", "-\t\t\t\t\t\tTVITEM tvItem = new TVITEM ();", "-\t\t\t\t\t\tint offset = NMHDR.sizeof + 4 + TVITEM.sizeof;", "-\t\t\t\t\t\tOS.MoveMemory (tvItem, lParam + offset, TVITEM.sizeof);", "+\t\t\t\t\t\tif (treeView == null) {", "+\t\t\t\t\t\t\ttreeView = new NMTREEVIEW ();", "+\t\t\t\t\t\t\tOS.MoveMemory (treeView, lParam, NMTREEVIEW.sizeof);", "+\t\t\t\t\t\t}", "+\t\t\t\t\t\tTVITEM tvItem = treeView.itemNew;", "-\t\t\t\tTVITEM tvItem = new TVITEM ();", "-\t\t\t\tint offset = NMHDR.sizeof + 4 + TVITEM.sizeof;", "-\t\t\t\tOS.MoveMemory (tvItem, lParam + offset, TVITEM.sizeof);", "+\t\t\t\tif (treeView == null) {", "+\t\t\t\t\ttreeView = new NMTREEVIEW ();", "+\t\t\t\t\tOS.MoveMemory (treeView, lParam, NMTREEVIEW.sizeof);", "+\t\t\t\t}", "+\t\t\t\tTVITEM tvItem = treeView.itemNew;", "-\t\t\t\tTVITEM tvItem = new TVITEM ();", "-\t\t\t\tint offset = NMHDR.sizeof + 4 + TVITEM.sizeof;", "-\t\t\t\tOS.MoveMemory (tvItem, lParam + offset, TVITEM.sizeof);", "+\t\t\t\tNMTREEVIEW treeView = new NMTREEVIEW ();", "+\t\t\t\tOS.MoveMemory (treeView, lParam, NMTREEVIEW.sizeof);", "+\t\t\t\tTVITEM tvItem = treeView.itemNew;", "-\t\t\t\tint [] action = new int [1];", "-\t\t\t\tOS.MoveMemory (action, lParam + NMHDR.sizeof, 4);", "-\t\t\t\tswitch (action [0]) {", "+\t\t\t\tswitch (treeView.action) {", "-\t\t\t\tint hFirstItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_CHILD, tvItem.hItem);", "+\t\t\t\tint /*long*/ hFirstItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_CHILD, tvItem.hItem);", "-\t\t\t\t\tTVITEM tvItem = new TVITEM ();", "-\t\t\t\t\tint offset = NMHDR.sizeof + 4 + TVITEM.sizeof;", "-\t\t\t\t\tOS.MoveMemory (tvItem, lParam + offset, TVITEM.sizeof);", "+\t\t\t\t\tNMTREEVIEW treeView = new NMTREEVIEW ();", "+\t\t\t\t\tOS.MoveMemory (treeView, lParam, NMTREEVIEW.sizeof);", "+\t\t\t\t\tTVITEM tvItem = treeView.itemNew;", "-\t\t\tTVITEM tvItem = new TVITEM ();", "-\t\t\tint offset = NMHDR.sizeof + 4 + TVITEM.sizeof;", "-\t\t\tOS.MoveMemory (tvItem, lParam + offset, TVITEM.sizeof);", "+\t\t\tNMTREEVIEW treeView = new NMTREEVIEW ();", "+\t\t\tOS.MoveMemory (treeView, lParam, NMTREEVIEW.sizeof);", "+\t\t\tTVITEM tvItem = treeView.itemNew;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1bcf6ca9148c04b686ba3fdf28e559c3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "40122628f5cf7b69aa27ccbad6462a6dd844e4b7", "commitAfterChange": "626ee7aa217819e9bfa1e4c3d2d12ee224c596b0", "methodNumberBeforeChange": 143, "methodNumberAfterChange": 143, "signatureBeforeChange": "  LRESULT wmNotifyChild (NMHDR hdr, int wParam, int lParam)", "signatureAfterChange": "  LRESULT wmNotifyChild (NMHDR hdr, int wParam, int lParam)", "diff": ["+\t\t/*", "+\t\t* Bug in Windows.  On Vista, when TVM_SELECTITEM is called", "+\t\t* with TVGN_CARET in order to set the selection, for some", "+\t\t* reason, Windows deselects the previous two items that", "+\t\t* were selected.  The fix is to stop the selection from", "+\t\t* changing on all but the item that is supposed to be", "+\t\t* selected.", "+\t\t*/", "+\t\tcase OS.TVN_ITEMCHANGINGA:", "+\t\tcase OS.TVN_ITEMCHANGINGW: {", "+\t\t\tif (!OS.IsWinCE && OS.WIN32_VERSION >= OS.VERSION (6, 0)) {", "+\t\t\t\tif ((style & SWT.MULTI) != 0) {", "+\t\t\t\t\tif (hSelect != 0) {", "+\t\t\t\t\t\tNMTVITEMCHANGE pnm = new NMTVITEMCHANGE ();", "+\t\t\t\t\t\tOS.MoveMemory (pnm, lParam, NMTVITEMCHANGE.sizeof);", "+\t\t\t\t\t\tif (hSelect == pnm.hItem) break;", "+\t\t\t\t\t\treturn LRESULT.ONE;", "+\t\t\t\t\t}", "+\t\t\t\t\tif (lockSelection) return LRESULT.ONE;", "+\t\t\t\t}", "+\t\t\t}", "+\t\t\tbreak;", "+\t\t}", "+\t\tcase OS.TVN_SELCHANGINGA:", "+\t\tcase OS.TVN_SELCHANGINGW: {", "+\t\t\tif ((style & SWT.MULTI) != 0) {", "+\t\t\t\tif (lockSelection) {", "+\t\t\t\t\t/* Save the old selection state for both items */", "+\t\t\t\t\tTVITEM tvItem = new TVITEM ();", "+\t\t\t\t\tint offset1 = NMHDR.sizeof + 4;", "+\t\t\t\t\tOS.MoveMemory (tvItem, lParam + offset1, TVITEM.sizeof);", "+\t\t\t\t\toldSelected = (tvItem.state & OS.TVIS_SELECTED) != 0;", "+\t\t\t\t\tint offset2 = NMHDR.sizeof + 4 + TVITEM.sizeof;", "+\t\t\t\t\tOS.MoveMemory (tvItem, lParam + offset2, TVITEM.sizeof);", "+\t\t\t\t\tnewSelected = (tvItem.state & OS.TVIS_SELECTED) != 0;", "+\t\t\t\t}", "+\t\t\t}", "+\t\t\tif (!ignoreSelect && !ignoreDeselect) {", "+\t\t\t\thAnchor = 0;", "+\t\t\t\tif ((style & SWT.MULTI) != 0) deselectAll ();", "+\t\t\t}", "+\t\t\tbreak;", "+\t\t}", "-\t\t\tbreak;", "-\t\t}", "-\t\t/*", "-\t\t* Bug in Windows.  On Vista, when TVM_SELECTITEM is called", "-\t\t* with TVGN_CARET in order to set the selection, for some", "-\t\t* reason, Windows deselects the previous two items that", "-\t\t* were selected.  The fix is to stop the selection from", "-\t\t* changing on all but the item that is supposed to be", "-\t\t* selected.", "-\t\t*/", "-\t\tcase OS.TVN_ITEMCHANGINGA:", "-\t\tcase OS.TVN_ITEMCHANGINGW:{", "-\t\t\tif (!OS.IsWinCE && OS.WIN32_VERSION >= OS.VERSION (6, 0)) {", "-\t\t\t\tif ((style & SWT.MULTI) != 0) {", "-\t\t\t\t\tif (hSelect != 0) {", "-\t\t\t\t\t\tNMTVITEMCHANGE pItemChange = new NMTVITEMCHANGE ();", "-\t\t\t\t\t\tOS.MoveMemory (pItemChange, lParam, NMTVITEMCHANGE.sizeof);", "-\t\t\t\t\t\tif (hSelect == pItemChange.hItem) break;", "-\t\t\t\t\t\treturn LRESULT.ONE;", "-\t\t\t\t\t}", "-\t\t\t\t\tif (lockSelection) return LRESULT.ONE;", "-\t\t\t\t}", "-\t\t\t}", "-\t\t\tbreak;", "-\t\t}", "-\t\tcase OS.TVN_SELCHANGINGA:", "-\t\tcase OS.TVN_SELCHANGINGW: {", "-\t\t\tif ((style & SWT.MULTI) != 0) {", "-\t\t\t\tif (lockSelection) {", "-\t\t\t\t\t/* Save the old selection state for both items */", "-\t\t\t\t\tTVITEM tvItem = new TVITEM ();", "-\t\t\t\t\tint offset1 = NMHDR.sizeof + 4;", "-\t\t\t\t\tOS.MoveMemory (tvItem, lParam + offset1, TVITEM.sizeof);", "-\t\t\t\t\toldSelected = (tvItem.state & OS.TVIS_SELECTED) != 0;", "-\t\t\t\t\tint offset2 = NMHDR.sizeof + 4 + TVITEM.sizeof;", "-\t\t\t\t\tOS.MoveMemory (tvItem, lParam + offset2, TVITEM.sizeof);", "-\t\t\t\t\tnewSelected = (tvItem.state & OS.TVIS_SELECTED) != 0;", "-\t\t\t\t}", "-\t\t\t}", "-\t\t\tif (!ignoreSelect && !ignoreDeselect) {", "-\t\t\t\thAnchor = 0;", "-\t\t\t\tif ((style & SWT.MULTI) != 0) deselectAll ();", "-\t\t\t}"]}], "num": 47737}