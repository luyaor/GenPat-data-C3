{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f656a03b1f472c444aaec43143814ea8", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1cfe310d9db705a8930545abea9d0024", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "6d9b0a6e29e63ebd11c9c04f7a9b023d8bc12ad7", "commitAfterChange": "3bbaed91588fe306c5d00a855ea514559a146b68", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "  LRESULT CDDS_ITEMPOSTPAINT (NMTVCUSTOMDRAW nmcd, int wParam, int lParam)", "signatureAfterChange": "  LRESULT CDDS_ITEMPOSTPAINT (NMTVCUSTOMDRAW nmcd, int wParam, int lParam)", "diff": ["-\t\t\t\t\tif (!ignoreDrawFocus && findImageControl () != null) {", "+\t\t\t\t\tif (!ignoreDrawFocus /*&& findImageControl () != null*/) {", "-\t\t\t\t\t\t\tOS.SetRect (focusRect, nmcd.left, nmcd.top, nmcd.right, nmcd.bottom);", "-\t\t\t\t\t\t\tif (count > 0 && hwndHeader != 0) {", "-\t\t\t\t\t\t\t\tint width = 0;", "-\t\t\t\t\t\t\t\tHDITEM hdItem = new HDITEM ();", "-\t\t\t\t\t\t\t\thdItem.mask = OS.HDI_WIDTH;", "-\t\t\t\t\t\t\t\tfor (int j=0; j<count; j++) {", "-\t\t\t\t\t\t\t\t\tOS.SendMessage (hwndHeader, OS.HDM_GETITEM, j, hdItem);", "-\t\t\t\t\t\t\t\t\twidth += hdItem.cxy;", "-\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t\tfocusRect.left = 0;", "-\t\t\t\t\t\t\t\tRECT rect = new RECT ();", "-\t\t\t\t\t\t\t\tOS.GetClientRect (handle, rect);", "-\t\t\t\t\t\t\t\tfocusRect.right = Math.max (width, rect.right - OS.GetSystemMetrics (OS.SM_CXVSCROLL));", "-\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\tOS.SetRect (focusRect, 0, nmcd.top, clientRect.right + 1, nmcd.bottom);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b0a3983b333336e563d8340d9e88063b", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/emulated/treetable/org/eclipse/swt/widgets/TreeItem2.java", "commitBeforeChange": "ed568a606dfba062e77bacc7c7f799741b60cbf4", "commitAfterChange": "3e04f21595fe557524d009b946647c76885ec76f", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 60, "signatureBeforeChange": " public void dispose()", "signatureAfterChange": "  public void dispose()", "diff": ["-}", "-public void dispose() {", "-\tif (isDisposed ()) return;", "-\tint startIndex = -1, endIndex = -1;", "-\tTree2 parent = this.parent;", "-\tint index = getIndex ();", "-\t", "-\t/* determine the indices, if any, that will need to be visually updated */", "-\tif (isAvailable ()) {", "-\t\tif (isLastChild () && index > 0) {", "-\t\t\t/* vertical connector lines no longer needed for this item */", "-\t\t\tif (parentItem != null) {", "-\t\t\t\tstartIndex = parentItem.getItems ()[index - 1].availableIndex;", "-\t\t\t} else {", "-\t\t\t\tstartIndex = parent.getItems ()[index - 1].availableIndex;", "-\t\t\t}", "-\t\t} else {", "-\t\t\tstartIndex = availableIndex;", "-\t\t}", "-\t\tendIndex = parent.availableItems.length - 1;", "-\t}", "-\t/* for performance do this upfront for whole descendent chain */", "-\tTreeItem2 focusItem = parent.focusItem; ", "-\tif (focusItem != null && focusItem.hasAncestor (this)) {", "-\t\tparent.setFocusItem (this, false);", "-\t\tparent.reassignFocus ();", "-\t\tparent.redrawItem (parent.focusItem.availableIndex);", "-\t}", "-\tif (parentItem != null) {", "-\t\tparentItem.removeItem (this, index);", "-\t}", "-\tdispose (true);", "-\tif (startIndex != -1) {", "-\t\tparent.redrawItems (startIndex, endIndex);", "-\t}", "-}", "+", "+public void dispose() {", "+\tif (isDisposed()) return;", "+\t// if the tree is being disposed don't bother collapsing the item since all ", "+\t// items in the tree will be deleted and redraws will not be processed anyway", "+\tTree2 parent = getParent();", "+\tif (parent.isRemovingAll() == false) {", "+\t\tparent.collapseNoRedraw(this);", "+\t}\t", "+\t", "+\t\tparentItem.removeItem(this);", "+\telse {", "+\t\tparent.removeItem(this);", "+\t}", "+\t", "+\tsuper.dispose();"]}], "num": 8063}