{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4934910b560d7c09067685855712f7f8", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9794bb48d938ddceb1268910f254401f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/TableItem.java", "commitBeforeChange": "88aafbab901ee1991a93ba28e8a2063eda94364d", "commitAfterChange": "65bf4c5d778f2bbe2a2c774ea7e619d61748cf21", "methodNumberBeforeChange": 26, "methodNumberAfterChange": 27, "signatureBeforeChange": "\r public void setText (int index, String string)", "signatureAfterChange": "\r \r public void setText (String string)", "diff": ["-\tif (index == 0) {\r", "-\t\tsetText (string);\r", "-\t\treturn;\r", "-\t}\r", "-\tOS.SendMessage (hwnd, OS.LVM_SETITEM, 0, lvItem);\r", "+\tsetText (0, string);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f4df765be5ba699493ec8c72991cd16c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/TabItem.java", "commitBeforeChange": "c270b603c7dfafdbba4594330199062a98e24cfe", "commitAfterChange": "1bf0f295caa27c5dbd58db068182111fea948e70", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 13, "signatureBeforeChange": " public void setText (String string)", "signatureAfterChange": " public void setText (String string)", "diff": ["-\t/*", "-\t* Bug in Windows.  In version 6.00 of COMCTL32.DLL, tab", "-\t* items with an image and a label that includes '&' cause", "-\t* the tab to draw incorrectly (even when doubled '&&').", "-\t* The image overlaps the label.  The fix is to remove", "-\t* all '&' characters from the string. ", "-\t*/", "-\tif (OS.COMCTL32_MAJOR >= 6 && image != null) {", "-\t\tif (text.indexOf ('&') != -1) {", "-\t\t\tint length = string.length ();", "-\t\t\tchar[] text = new char [length];", "-\t\t\tstring.getChars ( 0, length, text, 0);", "-\t\t\tint i = 0, j = 0;", "-\t\t\tfor (i=0; i<length; i++) {", "-\t\t\t\tif (text[i] != '&') text [j++] = text [i];", "-\t\t\t}", "-\t\t\tif (j < i) string = new String (text, 0, j);", "-\t\t}", "-\t}", "-\tint hwnd = parent.handle;", "-\tint hHeap = OS.GetProcessHeap ();", "-\tTCHAR buffer = new TCHAR (parent.getCodePage (), string, true);", "-\tint byteCount = buffer.length () * TCHAR.sizeof;", "-\tint pszText = OS.HeapAlloc (hHeap, OS.HEAP_ZERO_MEMORY, byteCount);", "-\tOS.MoveMemory (pszText, buffer, byteCount); ", "-\tTCITEM tcItem = new TCITEM ();", "-\ttcItem.mask = OS.TCIF_TEXT;", "-\ttcItem.pszText = pszText;", "-\tOS.SendMessage (hwnd, OS.TCM_SETITEM, index, tcItem);", "-\tOS.HeapFree (hHeap, 0, pszText);", "+\t_setText (index, string);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d21c17a024d66436ef2db09130c251cc", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/TableItem.java", "commitBeforeChange": "8549b1db39ac8fd4bb7564c61e5b9a04b5efde6f", "commitAfterChange": "2b3120470b46968368044df3f94129d586bc41d5", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 18, "signatureBeforeChange": " public String getText (int index)", "signatureAfterChange": " public String getText (int index)", "diff": ["-\tint itemIndex = parent.indexOf (this);", "-\tif (itemIndex == -1) error (SWT.ERROR_CANNOT_GET_TEXT);", "-\tint cchTextMax = 1024;", "-\tint hwnd = parent.handle;", "-\tint hHeap = OS.GetProcessHeap ();", "-\tint byteCount = cchTextMax * TCHAR.sizeof;", "-\tint pszText = OS.HeapAlloc (hHeap, OS.HEAP_ZERO_MEMORY, byteCount);", "-\tLVITEM lvItem = new LVITEM ();", "-\tlvItem.mask = OS.LVIF_TEXT;", "-\tlvItem.iItem = itemIndex;", "-\tlvItem.iSubItem = index;", "-\tlvItem.pszText = pszText;", "-\tlvItem.cchTextMax = cchTextMax;", "-\tint result = OS.SendMessage (hwnd, OS.LVM_GETITEM, 0, lvItem);", "-\tTCHAR buffer = new TCHAR (parent.getCodePage (), cchTextMax);", "-\tOS.MoveMemory (buffer, pszText, byteCount);", "-\tOS.HeapFree (hHeap, 0, pszText);", "-\tif (result == 0) error (SWT.ERROR_CANNOT_GET_TEXT);", "-\treturn buffer.toString (0, buffer.strlen ());", "+\tif (strings != null) {", "+\t\tif (0 <= index && index < strings.length) {", "+\t\t\tString string = strings [index];", "+\t\t\treturn string != null ? string : \"\";", "+\t\t}", "+\t}", "+\treturn \"\";"]}], "num": 10225}