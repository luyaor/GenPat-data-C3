{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "287dec14cb48a7d047bc55d7e954cb16", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2e00eb718b132a505eaa75d85dcc4df5", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "e31f7652984f652ea926922eada8f616d2b06239", "commitAfterChange": "d580a3f0fff23e1bdc5580a0c92a6b691a4d4d98", "methodNumberBeforeChange": 74, "methodNumberAfterChange": 73, "signatureBeforeChange": "  void windowSendEvent(int id, int event)", "signatureAfterChange": "  void windowSendEvent(int id, int event)", "diff": ["-\tsuper.windowSendEvent(id, event);", "-\t\tControl focusControl = display.getFocusControl();", "-\t\tif (focusControl != null) {", "-\t\t\tfocusControl.sendKeyEvent(nsEvent, type == OS.NSKeyDown ? SWT.KeyDown : SWT.KeyUp);", "+\t\tControl eventTarget = display.getFocusControl();", "+\t\tif (eventTarget == null) {", "+\t\t\t/*", "+\t\t\t* If the first responder is the shared field editor then set its delegate", "+\t\t\t* as the event target.", "+\t\t\t*/", "+\t\t\tNSResponder firstResponder = window.firstResponder();", "+\t\t\tif (firstResponder.isKindOfClass(NSText.static_class())) {", "+\t\t\t\tNSText text = new NSText(firstResponder.id);", "+\t\t\t\tif (text.isFieldEditor()) {", "+\t\t\t\t\tid delegateId = text.delegate();", "+\t\t\t\t\tif (delegateId != null) {", "+\t\t\t\t\t\tNSObject delegate = new NSObject(delegateId.id);", "+\t\t\t\t\t\tif (delegate.respondsToSelector(OS.sel_tag)) {", "+\t\t\t\t\t\t\tint tag = OS.objc_msgSend(delegate.id, OS.sel_tag);", "+\t\t\t\t\t\t\tif (tag != 0 && tag != -1) {", "+\t\t\t\t\t\t\t\tControl control = (Control)OS.JNIGetObject(tag);", "+\t\t\t\t\t\t\t\tif (control != null) {", "+\t\t\t\t\t\t\t\t\teventTarget = control;", "+\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t}", "+\t\t}", "+\t\tif (eventTarget != null) {", "+\t\t\teventTarget.sendKeyEvent(nsEvent, type == OS.NSKeyDown ? SWT.KeyDown : SWT.KeyUp);", "+\tsuper.windowSendEvent(id, event);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6ca9643d020e4842c7cfc49807976caf", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "630676523e8e76d5f39411b8b8a188abe94ad224", "commitAfterChange": "c7b236709b17af539494ecb59d7054eef90de873", "methodNumberBeforeChange": 73, "methodNumberAfterChange": 75, "signatureBeforeChange": "  void windowSendEvent(int id, int event)", "signatureAfterChange": "  void windowSendEvent(int id, int event)", "diff": ["-\t\tControl eventTarget = display.getFocusControl();", "-\t\tif (eventTarget == null) {", "-\t\t\t/*", "-\t\t\t* If the first responder is the shared field editor then set its delegate", "-\t\t\t* as the event target.", "-\t\t\t*/", "-\t\t\tNSResponder firstResponder = window.firstResponder();", "-\t\t\tif (firstResponder.isKindOfClass(NSText.static_class())) {", "-\t\t\t\tNSText text = new NSText(firstResponder.id);", "-\t\t\t\tif (text.isFieldEditor()) {", "-\t\t\t\t\tid delegateId = text.delegate();", "-\t\t\t\t\tif (delegateId != null) {", "-\t\t\t\t\t\tNSObject delegate = new NSObject(delegateId.id);", "-\t\t\t\t\t\tif (delegate.respondsToSelector(OS.sel_tag)) {", "-\t\t\t\t\t\t\tint tag = OS.objc_msgSend(delegate.id, OS.sel_tag);", "-\t\t\t\t\t\t\tif (tag != 0 && tag != -1) {", "-\t\t\t\t\t\t\t\tControl control = (Control)OS.JNIGetObject(tag);", "-\t\t\t\t\t\t\t\tif (control != null) {", "-\t\t\t\t\t\t\t\t\teventTarget = control;", "-\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t}", "-\t\t\t\t\t}", "-\t\t\t\t}", "-\t\t\t}", "-\t\t}", "+\t\tControl eventTarget = getCurrentKeyTarget();"]}], "num": 7718}