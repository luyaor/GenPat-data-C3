{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "258a6360f64dff483494d5ef81c43dc4", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5e771cf8efa1c74445a3adb152929f81", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "120f8a8a579e1dc38ca2f9e9ac17edc3ffcce856", "commitAfterChange": "feb4a52f3e48479ad5648c00e868e8e0907d49a9", "methodNumberBeforeChange": 91, "methodNumberAfterChange": 91, "signatureBeforeChange": " public void setItemCount (int count)", "signatureAfterChange": " public void setItemCount (int count)", "diff": ["+\t\tint[] id = new int [itemCount - count];", "-\t\t\tint [] id = new int [] {index + 1};", "-\t\t\tif (OS.RemoveDataBrowserItems (handle, OS.kDataBrowserNoItem, id.length, id, 0) != OS.noErr) {", "-\t\t\t\tbreak;", "-\t\t\t}", "+\t\t\tid [index-count] = index + 1;", "-\t\tif (index < itemCount) error (SWT.ERROR_ITEM_NOT_REMOVED);", "+\t\tOS.RemoveDataBrowserItems (handle, OS.kDataBrowserNoItem, id.length, id, 0);", "+\t\tint [] newItemCount = new int [1];", "+\t\tif (OS.GetDataBrowserItemCount (handle, OS.kDataBrowserNoItem, true, OS.kDataBrowserItemAnyState, newItemCount) != OS.noErr) {", "+\t\t\terror (SWT.ERROR_CANNOT_GET_COUNT);", "+\t\t}", "+\t\tif (count != newItemCount[0]) error (SWT.ERROR_ITEM_NOT_REMOVED);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ddc011028b37c2263c3be7af0ac18d03", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Tree2.java", "commitBeforeChange": "780deeed6b8d04c7f8256f57ee4b8ba670998a62", "commitAfterChange": "f6545bdd05853b79e0ef79ea07a3cd61ab49eba2", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 20, "signatureBeforeChange": "\r public int getSelectionCount ()", "signatureAfterChange": "\r public int getSelectionCount ()", "diff": ["-\t/* AW\r", "-\tif ((style & SWT.SINGLE) != 0) {\r", "-\t\tint hItem = OS.SendMessage (handle, OS.TVM_GETNEXTITEM, OS.TVGN_CARET, 0);\r", "-\t\tif (hItem == 0) return 0;\r", "-\t\tTVITEM tvItem = new TVITEM ();\r", "-\t\ttvItem.mask = OS.TVIF_STATE;\r", "-\t\ttvItem.hItem = hItem;\r", "-\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);\r", "-\t\tif ((tvItem.state & OS.TVIS_SELECTED) == 0) return 0;\r", "-\t\treturn 1;\r", "-\t}\r", "-\tint count = 0;\r", "-\tTVITEM tvItem = new TVITEM ();\r", "-\ttvItem.mask = OS.TVIF_STATE;\r", "-\tint oldProc = OS.GetWindowLong (handle, OS.GWL_WNDPROC);\r", "-\tOS.SetWindowLong (handle, OS.GWL_WNDPROC, TreeProc);\r", "-\tfor (int i=0; i<items.length; i++) {\r", "-\t\tTreeItem2 item = items [i];\r", "-\t\tif (item != null) {\r", "-\t\t\ttvItem.hItem = item.handle;\r", "-\t\t\tOS.SendMessage (handle, OS.TVM_GETITEM, 0, tvItem);\r", "-\t\t\tif ((tvItem.state & OS.TVIS_SELECTED) != 0) count++;\r", "-\t\t}\r", "-\t}\r", "-\tOS.SetWindowLong (handle, OS.GWL_WNDPROC, oldProc);\r", "-\treturn count;\r", "-\t*/\r", "-\treturn 0;\r", "+\tint[] result= new int[1];\r", "+\tif (OS.GetDataBrowserItemCount(handle, OS.kDataBrowserNoItem, true, OS.kDataBrowserItemIsSelected, result) != OS.kNoErr)\r", "+\t\terror (SWT.ERROR_CANNOT_GET_COUNT);\r", "+\treturn result[0];\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5e7ec1e514e342f79d41201cfe9c7093", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/List.java", "commitBeforeChange": "3539392530d589ce910e4278acc811f43b907fc4", "commitAfterChange": "b4b61aff0cb1c1ac045f8af3c9d9b60914e3dc14", "methodNumberBeforeChange": 31, "methodNumberAfterChange": 32, "signatureBeforeChange": " public void remove (int [] indices)", "signatureAfterChange": " public void remove (int [] indices)", "diff": ["-\tSystem.out.println(\"List.remove: nyi\");", "+\tint[] ids= getIds(indices);", "+\tif (OS.RemoveDataBrowserItems(handle, OS.kDataBrowserNoItem, ids.length, ids, 0) != OS.kNoErr)", "+\t\terror (SWT.ERROR_ITEM_NOT_REMOVED);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "641f3a5a1be087b203d3bf06413ed6b3", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "ff2fb9f01a196c14560d822c32e5adc6eee40368", "commitAfterChange": "e15381d72c440181a26a8b1a5c9d9efb3d5969f9", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 43, "signatureBeforeChange": " public String getItem (int index)", "signatureAfterChange": " \t \tprivate String _getItem (int index)", "diff": ["-\tint itemCount= OS.CountMenuItems(fMenuHandle);", "-\tif (!(0 <= index && index < itemCount)) {", "-\t\terror (SWT.ERROR_INVALID_RANGE);", "-\t}", "-\tint[] sHandle= new int[1];", "-\tOS.CopyMenuItemTextAsCFString(fMenuHandle, (short)(index+1), sHandle);", "-\treturn MacUtil.getStringAndRelease(sHandle[0]);", "+\t", "+\tprivate String _getItem (int index) {", "+\t\tint itemCount= _getItemCount();", "+\t\tif (!(0 <= index && index < itemCount)) {", "+\t\t\terror (SWT.ERROR_INVALID_RANGE);", "+\t\t}", "+\t\tint[] sHandle= new int[1];", "+\t\tint rc;", "+\t\tif (fMenuHandle != 0)", "+\t\t\trc= OS.CopyMenuItemTextAsCFString(fMenuHandle, (short)(index+1), sHandle);", "+\t\telse", "+\t\t\trc= OS.HIComboBoxCopyTextItemAtIndex(handle, index, sHandle);", "+\t\tif (rc != OS.kNoErr)", "+\t\t\terror(SWT.ERROR_CANNOT_GET_ITEM);", "+\t\treturn MacUtil.getStringAndRelease(sHandle[0]);", "+\t}"]}], "num": 1331}