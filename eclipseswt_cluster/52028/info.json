{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d6fd24b2bd63f285ad2459d5a3d53a45", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "96f080a2de8db2cf7bdd086d793350c7", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "6d670c8714ed179f165f68c4a869f2e55030f028", "commitAfterChange": "79bb0d208f718c61fd26264c88a07616f236eeb8", "methodNumberBeforeChange": 136, "methodNumberAfterChange": 136, "signatureBeforeChange": "  LRESULT WM_HSCROLL (int wParam, int lParam)", "signatureAfterChange": "  LRESULT WM_HSCROLL (int wParam, int lParam)", "diff": ["+\t* Bug in Windows.  When a table that is drawing grid lines", "+\t* is slowly scrolled horizontally to the left, the table does", "+\t* not redraw the newly exposed vertical grid lines.  The fix", "+\t* is to save the old scroll position, call the window proc,", "+\t* get the new scroll position and redraw the new area.", "+\t*/", "+\tint oldPos = 0;", "+\tint bits = OS.SendMessage (handle, OS.LVM_GETEXTENDEDLISTVIEWSTYLE, 0, 0);", "+\tif ((bits & OS.LVS_EX_GRIDLINES) != 0) {", "+\t\tSCROLLINFO info = new SCROLLINFO ();", "+\t\tinfo.cbSize = SCROLLINFO.sizeof;", "+\t\tinfo.fMask = OS.SIF_POS;", "+\t\tOS.GetScrollInfo (handle, OS.SB_HORZ, info);", "+\t\toldPos = info.nPos;", "+\t}", "+\t", "+\t/*", "-\t* Bug in Windows.  When an empty table is drawing grid lines", "-\t* and the user scrolls horizontally, the table does not redraw", "-\t* the newly exposed vertical grid lines.  The fix is to redraw", "-\t* the table.", "+\t* Bug in Windows.  When a table that is drawing grid lines", "+\t* is slowly scrolled horizontally to the left, the table does", "+\t* not redraw the newly exposed vertical grid lines.  The fix", "+\t* is to save the old scroll position, call the window proc,", "+\t* get the new scroll position and redraw the new area.", "-\tif (OS.SendMessage (handle, OS.LVM_GETITEMCOUNT, 0, 0) == 0) {", "-\t\tint bits = OS.SendMessage (handle, OS.LVM_GETEXTENDEDLISTVIEWSTYLE, 0, 0);", "-\t\tif ((bits & OS.LVS_EX_GRIDLINES) != 0) OS.InvalidateRect (handle, null, true);", "+\tif ((bits & OS.LVS_EX_GRIDLINES) != 0) {", "+\t\tSCROLLINFO info = new SCROLLINFO ();", "+\t\tinfo.cbSize = SCROLLINFO.sizeof;", "+\t\tinfo.fMask = OS.SIF_POS;", "+\t\tOS.GetScrollInfo (handle, OS.SB_HORZ, info);", "+\t\tint newPos = info.nPos;", "+\t\tif (newPos < oldPos) {", "+\t\t\tRECT rect = new RECT ();", "+\t\t\tOS.GetClientRect (handle, rect);", "+\t\t\trect.right = oldPos - newPos + GRID_WIDTH;", "+\t\t\tOS.InvalidateRect (handle, rect, true);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5c004ab6d2a081d01dfdc9526d5a3980", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "89b8a19df17b0b9e1ecd606fa26fc33623296ee1", "commitAfterChange": "4f98072059a9bdb951f6b1c456e89b55a75dc35b", "methodNumberBeforeChange": 106, "methodNumberAfterChange": 106, "signatureBeforeChange": " public void showColumn (TableColumn column)", "signatureAfterChange": " public void showColumn (TableColumn column)", "diff": ["+\t/*", "+\t* Bug in Windows.  When a table that is drawing grid lines", "+\t* is slowly scrolled horizontally to the left, the table does", "+\t* not redraw the newly exposed vertical grid lines.  The fix", "+\t* is to save the old scroll position, call the window proc,", "+\t* get the new scroll position and redraw the new area.", "+\t*/", "+\tint oldPos = 0;", "+\tint bits = OS.SendMessage (handle, OS.LVM_GETEXTENDEDLISTVIEWSTYLE, 0, 0);", "+\tif ((bits & OS.LVS_EX_GRIDLINES) != 0) {", "+\t\tSCROLLINFO info = new SCROLLINFO ();", "+\t\tinfo.cbSize = SCROLLINFO.sizeof;", "+\t\tinfo.fMask = OS.SIF_POS;", "+\t\tOS.GetScrollInfo (handle, OS.SB_HORZ, info);", "+\t\toldPos = info.nPos;", "+\t}", "+\t\t}", "+\t}", "+\t/*", "+\t* Bug in Windows.  When a table that is drawing grid lines", "+\t* is slowly scrolled horizontally to the left, the table does", "+\t* not redraw the newly exposed vertical grid lines.  The fix", "+\t* is to save the old scroll position, call the window proc,", "+\t* get the new scroll position and redraw the new area.", "+\t*/", "+\tif ((bits & OS.LVS_EX_GRIDLINES) != 0) {", "+\t\tSCROLLINFO info = new SCROLLINFO ();", "+\t\tinfo.cbSize = SCROLLINFO.sizeof;", "+\t\tinfo.fMask = OS.SIF_POS;", "+\t\tOS.GetScrollInfo (handle, OS.SB_HORZ, info);", "+\t\tint newPos = info.nPos;", "+\t\tif (newPos < oldPos) {", "+\t\t\trect.right = oldPos - newPos + GRID_WIDTH;", "+\t\t\tOS.InvalidateRect (handle, rect, true);"]}], "num": 52028}