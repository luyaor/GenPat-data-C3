{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6a24e3267b5b7d99fc9734930376b9d0", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0e2ff3a145f9e0701618becb04815ba2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/Image.java", "commitBeforeChange": "abec315a298f9ac1e64573aac01381f8f1970726", "commitAfterChange": "17280be8e6a7f89e2c094fe62a4b08c2bb600b16", "methodNumberBeforeChange": 38, "methodNumberAfterChange": 38, "signatureBeforeChange": " \t \tprivate static int duplicate(int handle)", "signatureAfterChange": " \t \tprivate static int duplicate(int handle)", "diff": ["-\t\tif (isBitMap(handle))", "-\t\t\treturn OS.duplicateBitMap(handle);", "+\t\tint rowBytes= OS.getRowBytes(handle);", "+\t\tif ((rowBytes & 0x8000) == 0) {", "+\t\t\tMacRect bounds= new MacRect();", "+\t\t\tOS.GetPixBounds(handle, bounds.getData());", "+\t\t\tint copy= newBitMap(bounds.getWidth(), bounds.getHeight(), rowBytes);", "+\t\t\tint baseAddr= OS.getBaseAddr(handle);", "+\t\t\tif (baseAddr != 0) {", "+\t\t\t\tint size= OS.GetPtrSize(baseAddr);", "+\t\t\t\tint data= OS.NewPtr(size);", "+\t\t\t\tOS.memcpy(data, baseAddr, size);", "+\t\t\t\tOS.setBaseAddr(copy, data);", "+\t\t\t}", "+\t\t\treturn copy;", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2b317e263a201e91eaa3307b8dddf8f4", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/Control.java", "commitBeforeChange": "44290f0c2132e0d8e6042a6f2d011231dac5a128", "commitAfterChange": "bf96c511171a3f65f9ce4a22c5a5b08d1dd5d976", "methodNumberBeforeChange": 241, "methodNumberAfterChange": 241, "signatureBeforeChange": "  LRESULT WM_WINDOWPOSCHANGING (int wParam, int lParam)", "signatureAfterChange": "  LRESULT WM_WINDOWPOSCHANGING (int wParam, int lParam)", "diff": ["+\t/*", "+\t* Bug in Windows.  When WM_SETREDRAW is used to turn off drawing", "+\t* for a control and the control is moved or resized, Windows does", "+\t* not redraw the area where the control once was in the parent.", "+\t* The fix is to detect this case and redraw the area.", "+\t*/", "+\tif (drawCount != 0) {", "+\t\tShell shell = getShell ();", "+\t\tif (shell != this) {", "+\t\t\tWINDOWPOS lpwp = new WINDOWPOS ();", "+\t\t\tOS.MoveMemory (lpwp, lParam, WINDOWPOS.sizeof);", "+\t\t\tif ((lpwp.flags & OS.SWP_NOMOVE) == 0 || (lpwp.flags & OS.SWP_NOSIZE) == 0) {", "+\t\t\t\tRECT rect = new RECT ();", "+\t\t\t\tOS.GetWindowRect (topHandle (), rect);", "+\t\t\t\tint hwndParent = parent == null ? 0 : parent.handle;", "+\t\t\t\tOS.MapWindowPoints (0, hwndParent, rect, 2);", "+\t\t\t\tOS.InvalidateRect (hwndParent, rect, true);", "+\t\t\t}", "+\t\t}", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "561a305c64c6a3a1fa4f090ad4b749b0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "7b0912088ebbce5881b352a85c774146a4889b5b", "commitAfterChange": "7626ff31966ce4808bcae79f4d61b2fe12aacf96", "methodNumberBeforeChange": 54, "methodNumberAfterChange": 57, "signatureBeforeChange": "  int gtk_enter_notify_event (int widget, int event)", "signatureAfterChange": "  int gtk_enter_notify_event (int widget, int event)", "diff": ["-\tif (widget != shellHandle) {", "-\t\treturn super.gtk_enter_notify_event (widget, event);", "+\tif (widget == shellHandle) {", "+\t\tif (isCustomResize ()) {", "+\t\t\tGdkEventCrossing gdkEvent = new GdkEventCrossing ();", "+\t\t\tOS.memmove (gdkEvent, event, GdkEventCrossing.sizeof);", "+\t\t\tif ((gdkEvent.state & OS.GDK_BUTTON1_MASK) == 0) {", "+\t\t\t\tint mode = getResizeMode (gdkEvent.x, gdkEvent.y);", "+\t\t\t\tif (mode != 0) {", "+\t\t\t\t\tint /*long*/ window = OS.GTK_WIDGET_WINDOW (shellHandle);", "+\t\t\t\t\tint /*long*/ cursor = OS.gdk_cursor_new (mode);", "+\t\t\t\t\tOS.gdk_window_set_cursor (window, cursor);", "+\t\t\t\t\tOS.gdk_cursor_destroy (cursor);", "+\t\t\t\t\tresizeMode = mode;", "+\t\t\t\t}", "+\t\t\t}", "+\t\t}", "+\t\treturn 0;", "-\treturn 0;", "+\treturn super.gtk_enter_notify_event (widget, event);", "+}"]}], "num": 41143}