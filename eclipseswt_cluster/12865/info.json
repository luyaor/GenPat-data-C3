{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "c9dbdd1fa34b45fb12157055fb0edb6d", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5428e0b15322bbb01d2687050a1f424c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Accessibility/win32/org/eclipse/swt/accessibility/Accessible.java", "commitBeforeChange": "bb50d013efc19825e8fad10d3794d4669d974d4f", "commitAfterChange": "3432d57cc04ef1f655fa110268dd9aa31a9cd42d", "methodNumberBeforeChange": 341, "methodNumberAfterChange": 321, "signatureBeforeChange": " \tint get_characterExtents(int offset, int coordType, int pX, int pY, int pWidth, int pHeight)", "signatureAfterChange": "  \tint get_characterExtents(int offset, int coordType, int pX, int pY, int pWidth, int pHeight)", "diff": ["-\t/* IAccessibleText::get_characterExtents([in] offset, [in] coordType, [out] pX, [out] pY, [out] pWidth, [out] pHeight) */", "+\t\tint length = getCharacterCount();", "-\t\tfor (int i = 0; i < accessibleTextExtendedListeners.size(); i++) {", "-\t\t\tAccessibleTextExtendedListener listener = (AccessibleTextExtendedListener) accessibleTextExtendedListeners.elementAt(i);", "-\t\t\tlistener.getCharacterCount(event);", "-\t\t}", "-\t\tint length = event.count;", "-\t\tevent.count = 0;", "-\t\tevent.start = offset < 0 ? 0 : offset;", "-\t\tevent.end = offset >= length ? length : offset + 1;", "+\t\tevent.start = offset == COM.IA2_TEXT_OFFSET_LENGTH ? length : offset < 0 ? 0 : offset;", "+\t\tevent.end = offset == COM.IA2_TEXT_OFFSET_LENGTH || offset >= length ? length : offset + 1;", "+\t\tif (DEBUG) print(this + \".IAccessibleText::get_characterExtents(\" + offset + \") returning \" + event.x + \", \" + event.y + \", \" + event.width + \", \" + event.height);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2396dafc25828b3428d5d6ab71a8d62c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Accessibility/win32/org/eclipse/swt/accessibility/Accessible.java", "commitBeforeChange": "bb50d013efc19825e8fad10d3794d4669d974d4f", "commitAfterChange": "3432d57cc04ef1f655fa110268dd9aa31a9cd42d", "methodNumberBeforeChange": 348, "methodNumberAfterChange": 328, "signatureBeforeChange": " \tint get_textAtOffset(int offset, int boundaryType, int pStartOffset, int pEndOffset, int pbstrText)", "signatureAfterChange": " \tint get_textAtOffset(int offset, int boundaryType, int pStartOffset, int pEndOffset, int pbstrText)", "diff": ["-\t\tevent.start = offset;", "-\t\tevent.end = offset;", "+\t\tint charCount = getCharacterCount();", "+\t\tevent.start = offset == COM.IA2_TEXT_OFFSET_LENGTH ? charCount : offset == COM.IA2_TEXT_OFFSET_CARET ? getCaretOffset() : offset;", "+\t\tevent.end = event.start == charCount ? event.start : event.start + 1;", "-\t\t\t\tfor (int i = 0; i < accessibleTextExtendedListeners.size(); i++) {", "-\t\t\t\t\tAccessibleTextExtendedListener listener = (AccessibleTextExtendedListener) accessibleTextExtendedListeners.elementAt(i);", "-\t\t\t\t\tlistener.getCharacterCount(event);", "-\t\t\t\t}", "-\t\t\t\tevent.end = event.count;", "+\t\t\t\tevent.end = charCount;", "+\t\tif (DEBUG) print(this + \".IAccessibleText::get_textAtOffset(\" + offset + \") returning start=\" + event.start + \", end=\" + event.end + \" \" + event.result + hresult(event.result == null ? COM.S_FALSE : COM.S_OK));"]}], "num": 12865}