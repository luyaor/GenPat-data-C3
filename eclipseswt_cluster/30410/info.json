{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "1d95feda77f1345adfb8b4896197489e", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2282cbf1d8667e1bdfdcf861541bac1a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT PI/common_j2se/org/eclipse/swt/internal/Library.java", "commitBeforeChange": "6b97ba6aa2758e76761bdfa9b5b9516745583d93", "commitAfterChange": "3f4f11935cadbb78e8d83414ccd7f9dd63c75e21", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 5, "signatureBeforeChange": " public static void loadLibrary (String name)", "signatureAfterChange": " public static void loadLibrary (String name)", "diff": ["-\ttry {", "-\t\tString newName = name + \"-\" + platform + \"-\" + version; //$NON-NLS-1$ //$NON-NLS-2$", "-\t\tSystem.loadLibrary (newName);", "-\t\treturn;", "-\t} catch (UnsatisfiedLinkError e1) {\t\t", "-\t\ttry {", "-\t\t\tString newName = name + \"-\" + platform; //$NON-NLS-1$", "-\t\t\tSystem.loadLibrary (newName);", "-\t\t\treturn;", "-\t\t} catch (UnsatisfiedLinkError e2) {", "-\t\t\tthrow e1;", "-\t\t}", "+\tString libName1 = name + \"-\" + platform + \"-\" + version;  //$NON-NLS-1$ //$NON-NLS-2$", "+\tString libName2 = name + \"-\" + platform;  //$NON-NLS-1$", "+\tString mappedName1 = System.mapLibraryName (libName1);", "+\tString mappedName2 = System.mapLibraryName (libName2);", "+", "+\t/* Try loading library from swt library path */", "+\tString path = System.getProperty (\"swt.library.path\"); //$NON-NLS-1$", "+\tif (path != null) {", "+\t\tpath = new File(path).getAbsolutePath ();", "+\t\tif (load (path + SEPARATOR + mappedName1)) return;", "+\t\tif (load (path + SEPARATOR + mappedName2)) return;", "+", "+\t/* Try loading library from java library path */", "+\tif (load (libName1)) return;", "+\tif (load (libName2)) return;", "+\t", "+\t/* Try loading library from the tmp directory if swt library path is not specified */", "+\tif (path == null) {", "+\t\tpath = System.getProperty (\"java.io.tmpdir\"); //$NON-NLS-1$", "+\t\tpath = new File(path).getAbsolutePath ();", "+\t\tif (load (path + SEPARATOR + mappedName1)) return;", "+\t\tif (load (path + SEPARATOR + mappedName2)) return;", "+\t}", "+\t\t", "+\t/* Try extracting and loading library from jar */", "+\tif (path != null) {", "+\t\tif (extract (path + SEPARATOR + mappedName1, mappedName1)) return;", "+\t\tif (extract (path + SEPARATOR + mappedName2, mappedName2)) return;", "+\t}", "+\t", "+\t/* Failed to find the library */", "+\tthrow new UnsatisfiedLinkError (\"no \" + libName1 + \" or \" + libName2 + \" in swt.library.path, java.libary.path or the jar file\");"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "df673bef937b940af99e1992350d013f", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT PI/common_j2se/org/eclipse/swt/internal/Library.java", "commitBeforeChange": "05bda528c4862df75441b997603a2076d47e6f54", "commitAfterChange": "98b1c71f82465b2a6145a01466e8a4f618fa2aee", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 7, "signatureBeforeChange": " public static void loadLibrary (String name, boolean mapName)", "signatureAfterChange": " public static void loadLibrary (String name, boolean mapName)", "diff": ["+\tStringBuffer message = new StringBuffer();", "+\t", "-\t\tif (load (path + SEPARATOR + mappedName1)) return;", "-\t\tif (mapName && load (path + SEPARATOR + mappedName2)) return;", "+\t\tif (load (path + SEPARATOR + mappedName1, message)) return;", "+\t\tif (mapName && load (path + SEPARATOR + mappedName2, message)) return;", "-\tif (load (libName1)) return;", "-\tif (mapName && load (libName2)) return;", "+\tif (load (libName1, message)) return;", "+\tif (mapName && load (libName2, message)) return;", "-\t\t\tif (make && !Platform.PLATFORM.equals (\"win32\")) { //$NON-NLS-1$", "-\t\t\t\ttry {", "-\t\t\t\t\tRuntime.getRuntime ().exec (new String []{\"chmod\", \"777\", path}).waitFor(); //$NON-NLS-1$ //$NON-NLS-2$", "-\t\t\t\t} catch (Throwable e) {}", "-\t\t\t}", "+\t\t\tif (make) chmod (\"777\", path); //$NON-NLS-1$", "-\t\tif (load (path + SEPARATOR + fileName1)) return;", "-\t\tif (mapName && load (path + SEPARATOR + fileName2)) return;", "+\t\tif (load (path + SEPARATOR + fileName1, message)) return;", "+\t\tif (mapName && load (path + SEPARATOR + fileName2, message)) return;", "-\t\tif (extract (path + SEPARATOR + fileName1, mappedName1)) return;", "-\t\tif (mapName && extract (path + SEPARATOR + fileName2, mappedName2)) return;", "+\t\tif (extract (path + SEPARATOR + fileName1, mappedName1, message)) return;", "+\t\tif (mapName && extract (path + SEPARATOR + fileName2, mappedName2, message)) return;", "-\tthrow new UnsatisfiedLinkError (\"no \" + libName1 + \" or \" + libName2 + \" in swt.library.path, java.library.path or the jar file\"); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$", "+\tthrow new UnsatisfiedLinkError (\"Could not load SWT library. Reasons: \" + message.toString()); //$NON-NLS-1$"]}], "num": 30410}