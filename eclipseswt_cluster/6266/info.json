{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0e049fee691bb985c952895f5394ae81", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "565de108b06af2c64794fc05e4c71166", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/photon/org/eclipse/swt/dnd/FileTransfer.java", "commitBeforeChange": "467319881c21a608a89b36f420121b1ced80df68", "commitAfterChange": "2c7d380be2e321a7928b1ce1264ec8b852b6e69d", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": " public Object nativeToJava(TransferData transferData)", "signatureAfterChange": " public Object nativeToJava(TransferData transferData)", "diff": ["-\tDND.error(org.eclipse.swt.SWT.ERROR_NOT_IMPLEMENTED);\r", "-\treturn null;\r", "+\tif (transferData.pData == 0 || !(isSupportedType(transferData))) return null;\r", "+\tint size = transferData.length;\r", "+\tif (size == 0) return null;\r", "+\tbyte[] buffer = new byte[size];\r", "+\tOS.memmove(buffer, transferData.pData, size);\r", "+\tString[] filenames = new String[0];\r", "+\tint lastMark = 0;\r", "+\tfor (int i = 0; i < buffer.length; i++) {\r", "+\t\tif ( buffer[i] == 0 ) {\r", "+\t\t\tString s = new String(buffer, lastMark, i - lastMark );\r", "+\t\t\tString[] temp = filenames;\r", "+\t\t\tfilenames = new String[ filenames.length + 1];\r", "+\t\t\tSystem.arraycopy(temp, 0, filenames, 0 , temp.length);\t\t\r", "+\t\t\tfilenames[ filenames.length - 1] = s;\r", "+\t\t\tlastMark = i + 1;\r", "+\t\t}\r", "+\t}\r", "+\treturn filenames;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d30e7dd024e23f8bc54b3b6441492645", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Drag and Drop/photon/org/eclipse/swt/dnd/FileTransfer.java", "commitBeforeChange": "467319881c21a608a89b36f420121b1ced80df68", "commitAfterChange": "2c7d380be2e321a7928b1ce1264ec8b852b6e69d", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " public void javaToNative(Object object, TransferData transferData)", "signatureAfterChange": " public void javaToNative(Object object, TransferData transferData)", "diff": ["-\tDND.error(org.eclipse.swt.SWT.ERROR_NOT_IMPLEMENTED);\r", "+\tif (object == null || !(object instanceof String[])) return;\r", "+\tbyte [] data = new byte[0];\r", "+\tString[] filenames = (String[])object;\r", "+\tfor (int i = 0; i < filenames.length; i++) {\r", "+\t\tbyte [] buffer = Converter.wcsToMbcs (null, filenames[i], true);\t\t\r", "+\t\tbyte [] temp = data;\r", "+\t\tdata = new byte[ data.length + buffer.length];\r", "+\t\tSystem.arraycopy(temp, 0, data, 0, temp.length);\r", "+\t\tSystem.arraycopy(buffer, 0, data, data.length - buffer.length, buffer.length);\r", "+\t}\r", "+\tsuper.javaToNative(data, transferData);\r"]}], "num": 6266}