{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8c055993af6c196ede7bf08381297813", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7cf0d806ba22e4fe3ff79075f23c7913", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "810eb254cbe71a3e1637e56f044fa70b981eb39d", "commitAfterChange": "803bd538f4c4c40e1d60df10cb6937bfea9dab26", "methodNumberBeforeChange": 125, "methodNumberAfterChange": 114, "signatureBeforeChange": "  boolean updateItems(int showIndex)", "signatureAfterChange": "  boolean updateItems(int showIndex)", "diff": ["+\tGC gc = new GC(this);", "-\t\t\tint maxWidth = getRightItemEdge() - borderLeft;", "-\t\t\tif (!simple) maxWidth -= curveWidth - 2*curveIndent;", "+\t\t\tRectangle trim = renderer.computeTrim(CTabFolderRenderer.PART_HEADER, SWT.NONE, 0, 0, 0, 0);", "+\t\t\tint borderLeft = -trim.x;", "+\t\t\tint maxWidth = getRightItemEdge(gc) - borderLeft;", "-\t\t\tGC gc = new GC(this);", "-\t\t\t\twidths[i] = items[i].preferredWidth(gc, i == selectedIndex, true);", "+\t\t\t\tint state = CTabFolderRenderer.MINIMUM_SIZE;", "+\t\t\t\tif (i == selectedIndex) state |= SWT.SELECTED;", "+\t\t\t\twidths[i] = renderer.computeSize(i, state, gc).x;", "-\t\t\t\t\tif (widths[i] == 0) widths[i] = items[i].preferredWidth(gc, i == selectedIndex, true);", "+\t\t\t\t\tint state = CTabFolderRenderer.MINIMUM_SIZE;", "+\t\t\t\t\tif (i == selectedIndex) state |= SWT.SELECTED;", "+\t\t\t\t\tif (widths[i] == 0) widths[i] = renderer.computeSize(i, state, gc).x;", "-\t\t\t\t\twidths[i] = items[i].preferredWidth(gc, i == selectedIndex, true);", "+\t\t\t\t\tint state = CTabFolderRenderer.MINIMUM_SIZE;", "+\t\t\t\t\tif (i == selectedIndex) state |= SWT.SELECTED;", "+\t\t\t\t\twidths[i] = renderer.computeSize(i, state, gc).x;", "-\t\t\t\t\t\tif (widths[i] == 0) widths[i] = items[i].preferredWidth(gc, i == selectedIndex, true);", "+\t\t\t\t\t\tint state = CTabFolderRenderer.MINIMUM_SIZE;", "+\t\t\t\t\t\tif (i == selectedIndex) state |= SWT.SELECTED;", "+\t\t\t\t\t\tif (widths[i] == 0) widths[i] = renderer.computeSize(i, state, gc).x;", "-\t\t\tgc.dispose();", "+\t\t", "-\tboolean changed = setItemSize();", "-\tchanged |= setItemLocation();", "-\tsetButtonBounds();", "+\tboolean changed = setItemSize(gc);", "+\tchanged |= setItemLocation(gc);", "+\tsetButtonBounds(gc);", "+\tgc.dispose();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fc6b4d360d2c13304f9bfc4f58a61ef2", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Custom Widgets/common/org/eclipse/swt/custom/CTabFolder.java", "commitBeforeChange": "810eb254cbe71a3e1637e56f044fa70b981eb39d", "commitAfterChange": "803bd538f4c4c40e1d60df10cb6937bfea9dab26", "methodNumberBeforeChange": 90, "methodNumberAfterChange": 82, "signatureBeforeChange": " boolean setItemSize()", "signatureAfterChange": " boolean setItemSize(GC gc)", "diff": ["-boolean setItemSize() {", "+boolean setItemSize(GC gc) {", "-\txClient = borderLeft + marginWidth + highlight_margin;", "-\tif (onBottom) {", "-\t\tyClient = borderTop + highlight_margin + marginHeight;", "-\t} else {", "-\t\tyClient = borderTop + tabHeight + highlight_header + marginHeight; ", "-\t}", "+", "+\tRectangle trim = renderer.computeTrim(CTabFolderRenderer.PART_HEADER, SWT.NONE, 0, 0, 0, 0);", "+\tint borderRight = trim.width + trim.x;", "+\tint borderLeft = -trim.x;", "+\t", "-\t\t\tGC gc = new GC(this);", "-\t\t\tint width = tab.preferredWidth(gc, true, false);", "-\t\t\tgc.dispose();", "-\t\t\twidth = Math.min(width, getRightItemEdge() - borderLeft);", "+\t\t\tint width = renderer.computeSize(selectedIndex, SWT.SELECTED, gc).x;", "+\t\t\twidth = Math.min(width, getRightItemEdge(gc) - borderLeft);", "-\t\t\t\t\ttab.closeRect.width = BUTTON_SIZE;", "-\t\t\t\t\ttab.closeRect.height = BUTTON_SIZE;", "+\t\t\t\t\tPoint closeSize = renderer.computeSize(selectedIndex, SWT.SELECTED, gc);", "+\t\t\t\t\ttab.closeRect.width = closeSize.x;", "+\t\t\t\t\ttab.closeRect.height = closeSize.y;", "-\tGC gc = new GC(this);", "-\tif (showMin) tabAreaWidth -= BUTTON_SIZE;", "-\tif (showMax) tabAreaWidth -= BUTTON_SIZE;", "+\tif (showMin) tabAreaWidth -= renderer.computeSize(CTabFolderRenderer.PART_MIN_BUTTON, SWT.NONE, gc).x;", "+\tif (showMax) tabAreaWidth -= renderer.computeSize(CTabFolderRenderer.PART_MAX_BUTTON, SWT.NONE, gc).x;", "-\tif (!simple) tabAreaWidth -= curveWidth - 2*curveIndent;", "-\t", "+", "-\t\tminWidths[index] = items[index].preferredWidth(gc, index == selectedIndex, true);", "+\t\tint state = CTabFolderRenderer.MINIMUM_SIZE;", "+\t\tif (index == selectedIndex) state |= SWT.SELECTED;", "+\t\tminWidths[index] = renderer.computeSize(index, state, gc).x;", "-\t\tif (showChevron) tabAreaWidth -= 3*BUTTON_SIZE/2;", "+\t\tif (showChevron) tabAreaWidth -= renderer.computeSize(CTabFolderRenderer.PART_CHEVRON_BUTTON, SWT.NONE, gc).x;", "-\t\t\tmaxWidths[i] = items[i].preferredWidth(gc, i == selectedIndex, false);", "+\t\t\tint state = 0;", "+\t\t\tif (i == selectedIndex) state |= SWT.SELECTED;", "+\t\t\tmaxWidths[i] = renderer.computeSize(i, state, gc).x;", "-\tgc.dispose();", "-\t\t\t\t\ttab.closeRect.width = BUTTON_SIZE;", "-\t\t\t\t\ttab.closeRect.height = BUTTON_SIZE;", "+\t\t\t\t\tPoint closeSize = renderer.computeSize(CTabFolderRenderer.PART_CLOSE_BUTTON, SWT.NONE, gc);", "+\t\t\t\t\ttab.closeRect.width = closeSize.x;", "+\t\t\t\t\ttab.closeRect.height = closeSize.y;"]}], "num": 22183}