{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d566a0735a5dc06754b7bcc88b5d0d1e", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a687dfc1fd666c657eb690fbd2a094e0", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "6233458c64dc09b9d48a77823434b3ed47714c99", "commitAfterChange": "31f4512a5b9a8fed6de3ed728bb5d61ba9ac6cef", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "  void computeRuns ()", "signatureAfterChange": "  void computeRuns ()", "diff": ["+\t\t\tif (style.underlineColor != null && OS.GTK_VERSION >= OS.VERSION(2, 6, 0)) {", "+\t\t\t\tGdkColor color = style.underlineColor.handle;", "+\t\t\t\tattr = OS.pango_attr_underline_color_new(color.red, color.green, color.blue);", "+\t\t\t\tOS.memmove(attribute, attr, PangoAttribute.sizeof);", "+\t\t\t\tattribute.start_index = byteStart;", "+\t\t\t\tattribute.end_index = byteEnd;", "+\t\t\t\tOS.memmove(attr, attribute, PangoAttribute.sizeof);", "+\t\t\t\tOS.pango_attr_list_insert(attrList, attr);", "+\t\t\t}", "+\t\t\tif (style.strikeoutColor != null && OS.GTK_VERSION >= OS.VERSION(2, 6, 0)) {", "+\t\t\t\tGdkColor color = style.strikeoutColor.handle;", "+\t\t\t\tattr = OS.pango_attr_strikethrough_color_new(color.red, color.green, color.blue);", "+\t\t\t\tOS.memmove(attribute, attr, PangoAttribute.sizeof);", "+\t\t\t\tattribute.start_index = byteStart;", "+\t\t\t\tattribute.end_index = byteEnd;", "+\t\t\t\tOS.memmove(attr, attribute, PangoAttribute.sizeof);", "+\t\t\t\tOS.pango_attr_list_insert(attrList, attr);", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "885e2e22bfbf0f177fe2d944399ad2ac", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/carbon/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "b99e0e369a51571b12234356a1c0332a2bed35be", "commitAfterChange": "c4ff87b5b532e9f98adbfa0d94c5d8508add0dd4", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "  \t\tvoid createStyle(Device device, Font defaultFont)", "signatureAfterChange": "  \t\tvoid createStyle(Device device, Font defaultFont)", "diff": ["-\t\t\t\tif (style.underline) {", "+\t\t\t\tif (style.underline && (style.underlineStyle == SWT.UNDERLINE_SINGLE || style.underlineStyle == SWT.UNDERLINE_DOUBLE)) {", "+\t\t\t\t\tif (style.underlineStyle == SWT.UNDERLINE_DOUBLE) {", "+\t\t\t\t\t\tlength += 1;", "+\t\t\t\t\t\tptrLength += 2;", "+\t\t\t\t\t}", "-\t\t\tif (style != null && style.underline) {", "+\t\t\tif (style != null && style.underline && (style.underlineStyle == SWT.UNDERLINE_SINGLE || style.underlineStyle == SWT.UNDERLINE_DOUBLE)) {\t\t\t\t", "+\t\t\t\tif (style.underlineStyle == SWT.UNDERLINE_DOUBLE) {", "+\t\t\t\t\tshort buffer2[] = {OS.kATSUStyleDoubleLineCount};", "+\t\t\t\t\ttags[index] = OS.kATSUStyleUnderlineCountOptionTag;", "+\t\t\t\t\tsizes[index] = 2;", "+\t\t\t\t\tvalues[index] = ptr1;", "+\t\t\t\t\tOS.memmove(values[index], buffer2, sizes[index]);", "+\t\t\t\t\tptr1 += sizes[index];", "+\t\t\t\t\tindex++;", "+\t\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3a3b4461ac9ee4adfad698d8a4b7269a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "0bd5c650dccd2aa5916241c1e3975a1df5a879d1", "commitAfterChange": "33c787a8a8fa6408a469ea6821b3fb685f60c9ff", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  void computeRuns ()", "signatureAfterChange": "  void computeRuns ()", "diff": ["+\t\tif (style.underline) {", "+\t\t\tint /*long*/ attr = OS.pango_attr_underline_new(OS.PANGO_UNDERLINE_SINGLE);", "+\t\t\tOS.memmove(attribute, attr, PangoAttribute.sizeof);", "+\t\t\tattribute.start_index = byteStart;", "+\t\t\tattribute.end_index = byteEnd;", "+\t\t\tOS.memmove(attr, attribute, PangoAttribute.sizeof);", "+\t\t\tOS.pango_attr_list_insert(attrList, attr);", "+\t\t}", "+\t\tif (style.strikeout) {", "+\t\t\tint /*long*/ attr = OS.pango_attr_strikethrough_new(true);", "+\t\t\tOS.memmove(attribute, attr, PangoAttribute.sizeof);", "+\t\t\tattribute.start_index = byteStart;", "+\t\t\tattribute.end_index = byteEnd;", "+\t\t\tOS.memmove(attr, attribute, PangoAttribute.sizeof);", "+\t\t\tOS.pango_attr_list_insert(attrList, attr);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3a32df24bc57fc721f1c406b6d6cf1ca", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/widgets/ImageList.java", "commitBeforeChange": "af911e1eb3afd0728a01495f0f1419e64bb006ca", "commitAfterChange": "e4a74c1764929ad347779380afc1b7e10581a2c2", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "  int copyWithAlpha (int hBitmap, int background, byte[] alphaData, int destWidth, int destHeight)", "signatureAfterChange": "  int copyWithAlpha (int hBitmap, int background, byte[] alphaData, int destWidth, int destHeight)", "diff": ["-\tbmiHeader.biWidth = Math.max (srcWidth, destWidth);", "-\tbmiHeader.biHeight = -Math.max (srcHeight, destHeight);", "+\tbmiHeader.biWidth = srcWidth;", "+\tbmiHeader.biHeight = -srcHeight;", "-\t/* Stretch */", "+\t/* Stretch and free resources */", "-\t\tOS.SetStretchBltMode (memHdc, OS.COLORONCOLOR);", "-\t\tOS.StretchBlt (memHdc, 0, 0, destWidth, destHeight, memHdc, 0, 0, srcWidth, srcHeight, OS.SRCCOPY);", "+\t\tBITMAPINFOHEADER bmiHeader2 = new BITMAPINFOHEADER ();", "+\t\tbmiHeader2.biSize = BITMAPINFOHEADER.sizeof;", "+\t\tbmiHeader2.biWidth = destWidth;", "+\t\tbmiHeader2.biHeight = -destHeight;", "+\t\tbmiHeader2.biPlanes = 1;", "+\t\tbmiHeader2.biBitCount = 32;", "+\t\tbmiHeader2.biCompression = OS.BI_RGB;", "+\t\tbyte []\tbmi2 = new byte[BITMAPINFOHEADER.sizeof];", "+\t\tOS.MoveMemory (bmi2, bmiHeader2, BITMAPINFOHEADER.sizeof);", "+\t\tint [] pBits2 = new int [1];", "+\t\tint memDib2 = OS.CreateDIBSection (0, bmi2, OS.DIB_RGB_COLORS, pBits2, 0, 0);", "+\t\tint memHdc2 = OS.CreateCompatibleDC (hdc);", "+\t\tint oldMemBitmap2 = OS.SelectObject (memHdc2, memDib2);", "+\t\tif (!OS.IsWinCE) OS.SetStretchBltMode(memHdc2, OS.COLORONCOLOR);", "+\t\tOS.StretchBlt (memHdc2, 0, 0, destWidth, destHeight, memHdc, 0, 0, srcWidth, srcHeight, OS.SRCCOPY);", "+\t\tOS.SelectObject (memHdc2, oldMemBitmap2);", "+\t\tOS.DeleteDC (memHdc2);", "+\t\tOS.SelectObject (memHdc, oldMemBitmap);", "+\t\tOS.DeleteDC (memHdc);", "+\t\tOS.DeleteObject (memDib);", "+\t\tmemDib = memDib2;", "+\t} else {", "+\t\tOS.SelectObject (memHdc, oldMemBitmap);", "+\t\tOS.DeleteDC (memHdc);", "-\t", "-\t/* Free resources */", "-\tOS.SelectObject (memHdc, oldMemBitmap);", "-\tOS.DeleteDC (memHdc);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6d55b7c1af3739f77eb003d4a69a89b8", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "2e3cc3f2343444e38d6648881ff7de0ee9aea010", "commitAfterChange": "065f2bc5320f7e3787bb8aa3b1fe53b5a5c29579", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  void computeRuns ()", "signatureAfterChange": "  void computeRuns ()", "diff": ["+\t\tGlyphMetrics metrics = style.metrics;", "+\t\tif (metrics != null) {", "+\t\t\tPangoRectangle rect = new PangoRectangle();", "+\t\t\trect.y =  -(metrics.ascent * OS.PANGO_SCALE);", "+\t\t\trect.height = (metrics.ascent + metrics.descent) * OS.PANGO_SCALE;", "+\t\t\trect.width = metrics.width * OS.PANGO_SCALE;", "+\t\t\tint /*long*/ attr = OS.pango_attr_shape_new (rect, rect);", "+\t\t\tOS.memmove (attribute, attr, PangoAttribute.sizeof);", "+\t\t\tattribute.start_index = byteStart;", "+\t\t\tattribute.end_index = byteEnd;", "+\t\t\tOS.memmove (attr, attribute, PangoAttribute.sizeof);", "+\t\t\tOS.pango_attr_list_insert(attrList, attr);", "+\t\t}", "+\t\tint rise = style.rise;", "+\t\tif (rise != 0) {", "+\t\t\tint /*long*/ attr = OS.pango_attr_rise_new (rise * OS.PANGO_SCALE);", "+\t\t\tOS.memmove (attribute, attr, PangoAttribute.sizeof);", "+\t\t\tattribute.start_index = byteStart;", "+\t\t\tattribute.end_index = byteEnd;", "+\t\t\tOS.memmove (attr, attribute, PangoAttribute.sizeof);", "+\t\t\tOS.pango_attr_list_insert(attrList, attr);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cb26012f1ee96255730aca616d848e51", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "6a60fc0317f7258e120abee63248bb550abb5ce1", "commitAfterChange": "88bd467192e71a74ccccf939c498cacab5b7b026", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "  void computeRuns ()", "signatureAfterChange": "  void computeRuns ()", "diff": ["+\t\t\t\tcase SWT.UNDERLINE_LINK: {", "+\t\t\t\t\tif (style.foreground == null) {", "+\t\t\t\t\t\tint /*long*/ attr = OS.pango_attr_foreground_new((short)0, (short)0x3333, (short)0x9999);", "+\t\t\t\t\t\tOS.memmove (attribute, attr, PangoAttribute.sizeof);", "+\t\t\t\t\t\tattribute.start_index = byteStart;", "+\t\t\t\t\t\tattribute.end_index = byteEnd;", "+\t\t\t\t\t\tOS.memmove (attr, attribute, PangoAttribute.sizeof);", "+\t\t\t\t\t\tOS.pango_attr_list_insert(attrList, attr);", "+\t\t\t\t\t} ", "+\t\t\t\t\tif (style.underlineColor == null) {", "+\t\t\t\t\t\tunderlineStyle = OS.PANGO_UNDERLINE_SINGLE;", "+\t\t\t\t\t}", "+\t\t\t\t\tbreak;", "+\t\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "edd9647701b4bde0d80e1efda28e3212", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "6677e00f4308043b0f746d4d83cfcdb965d2fde8", "commitAfterChange": "672bc32d3c27db0fcbcb97fac4135b24c370106a", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  void computeRuns ()", "signatureAfterChange": "  void computeRuns ()", "diff": ["+\t\t\tint bytePos = OS.pango_layout_iter_get_index(iter);", "+\t\t\t/* Note: The length in bytes of ZWS and ZWNBS are both equals to 3 */", "+\t\t\tint offset = count * 6;", "-\t\t\tint bytePos = OS.pango_layout_iter_get_index(iter);", "-\t\t\tattribute.start_index = bytePos + (count * (3 + 3));", "-\t\t\tattribute.end_index = bytePos+ 3 + 3 + (count * (3 + 3));", "+\t\t\tattribute.start_index = bytePos + offset;", "+\t\t\tattribute.end_index = bytePos + offset + 3;", "+\t\t\tattr = OS.pango_attr_shape_new (rect, rect);", "+\t\t\tOS.memmove (attribute, attr, PangoAttribute.sizeof);", "+\t\t\tattribute.start_index = bytePos + offset + 3;", "+\t\t\tattribute.end_index = bytePos + offset + 6;", "+\t\t\tOS.memmove (attr, attribute, PangoAttribute.sizeof);", "+\t\t\tOS.pango_attr_list_insert(attrList, attr);\t\t\t"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7761124998bab28621be09de176e068c", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/graphics/TextLayout.java", "commitBeforeChange": "2c8787f90b3c8a7312f4b411ab7ee4586da3407f", "commitAfterChange": "a0c1f03fb4ceb2772afc376ff5167fd9d3ca7414", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "  void computeRuns ()", "signatureAfterChange": "  void computeRuns ()", "diff": ["+\tselAttrList = OS.pango_attr_list_new();", "+\t\t\tOS.pango_attr_list_insert(selAttrList, OS.pango_attribute_copy(attr));", "+\t\t\tOS.pango_attr_list_insert(selAttrList, OS.pango_attribute_copy(attr));", "+\t\t\tOS.pango_attr_list_insert(selAttrList, OS.pango_attribute_copy(attr));", "-\t\t\t\t\tif (OS.GTK_VERSION >= OS.VERSION(2, 4, 0)) {", "-\t\t\t\t\t\tunderlineStyle = OS.PANGO_UNDERLINE_ERROR;", "-\t\t\t\t\t}", "+\t\t\t\t\tunderlineStyle = OS.PANGO_UNDERLINE_ERROR;", "-\t\t\t\t\tif (style.underlineColor == null) {", "-\t\t\t\t\t\tunderlineStyle = OS.PANGO_UNDERLINE_SINGLE;", "-\t\t\t\t\t}", "+\t\t\t\t\tunderlineStyle = OS.PANGO_UNDERLINE_SINGLE;", "-\t\t\tif (underlineStyle != OS.PANGO_UNDERLINE_NONE && style.underlineColor == null) {", "-\t\t\t\tint /*long*/ attr = OS.pango_attr_underline_new(underlineStyle);", "+\t\t\tint /*long*/ attr = OS.pango_attr_underline_new(underlineStyle);", "+\t\t\tOS.memmove(attribute, attr, PangoAttribute.sizeof);", "+\t\t\tattribute.start_index = byteStart;", "+\t\t\tattribute.end_index = byteEnd;", "+\t\t\tOS.memmove(attr, attribute, PangoAttribute.sizeof);", "+\t\t\tOS.pango_attr_list_insert(attrList, attr);", "+\t\t\tOS.pango_attr_list_insert(selAttrList, OS.pango_attribute_copy(attr));", "+\t\t\tif (style.underlineColor != null) {", "+\t\t\t\tGdkColor fg = style.underlineColor.handle;", "+\t\t\t\tattr = OS.pango_attr_underline_color_new(fg.red, fg.green, fg.blue);", "-\t\tif (style.strikeout && style.strikeoutColor == null) {", "+\t\tif (style.strikeout) {", "+\t\t\tOS.pango_attr_list_insert(selAttrList, OS.pango_attribute_copy(attr));", "+\t\t\tif (style.strikeoutColor != null) {", "+\t\t\t\tGdkColor fg = style.strikeoutColor.handle;", "+\t\t\t\tattr = OS.pango_attr_strikethrough_color_new(fg.red, fg.green, fg.blue);", "+\t\t\t\tOS.memmove(attribute, attr, PangoAttribute.sizeof);", "+\t\t\t\tattribute.start_index = byteStart;", "+\t\t\t\tattribute.end_index = byteEnd;", "+\t\t\t\tOS.memmove(attr, attribute, PangoAttribute.sizeof);", "+\t\t\t\tOS.pango_attr_list_insert(attrList, attr);", "+\t\t\t}", "+\t\t\tOS.pango_attr_list_insert(selAttrList, OS.pango_attribute_copy(attr));", "+\t\t\tOS.pango_attr_list_insert(selAttrList, OS.pango_attribute_copy(attr));"]}], "num": 56810}