{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "57ffd078a1dc42d6a6edd352b1015824", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "712eb4697b58544c2c54d51734e8a7fe", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "527998c9e4be5c58a908b0f0d6081466df8efc7f", "commitAfterChange": "642c99978dc17bd02e442edba68d88ae6a941ded", "methodNumberBeforeChange": 88, "methodNumberAfterChange": 88, "signatureBeforeChange": "  int rendererRenderProc (int cell, int window, int widget, int background_area, int cell_area, int expose_area, int flags)", "signatureAfterChange": "  int rendererRenderProc (int cell, int window, int widget, int background_area, int cell_area, int expose_area, int flags)", "diff": ["-\tint /*long*/ columnHandle = OS.g_object_get_qdata (cell, Display.SWT_OBJECT_INDEX1);", "-//\tif (checkRenderer != 0) {", "-//\t\tif ((flags & OS.GTK_CELL_RENDERER_FOCUSED) != 0) {", "-//\t\t\tOS.gtk_tree_view_column_focus_cell (columnHandle, checkRenderer);", "-//\t\t}", "-//\t}", "+\tint /*long*/ columnHandle = OS.g_object_get_qdata (cell, Display.SWT_OBJECT_INDEX1);", "-\tboolean draw = !ignoreDraw;", "-\tif (item != null) {", "-\t\tif (columnCount > 0) {", "-\t\t\tfor (int i = 0; i < columnCount; i++) {", "-\t\t\t\tif (columns [i].handle == columnHandle) {", "-\t\t\t\t\tcolumnIndex = i;", "-\t\t\t\t\tbreak;", "-\t\t\t\t}\t\t\t\t", "-\t\t\t}", "+\tif (columnCount > 0) {", "+\t\tfor (int i = 0; i < columnCount; i++) {", "+\t\t\tif (columns [i].handle == columnHandle) {", "+\t\t\t\tcolumnIndex = i;", "+\t\t\t\tbreak;", "+\t\t\t}\t\t\t\t", "-\t\tGdkRectangle rect = new GdkRectangle ();", "-\t\tint /*long*/ path = OS.gtk_tree_model_get_path (modelHandle, iter);", "-\t\tOS.gtk_tree_view_get_background_area (handle, path, columnHandle, rect);", "-\t\tOS.gtk_tree_path_free (path);", "+\t}", "+\tif (item != null) {", "-\t\t\tdraw = true;", "-\t\t\tignoreDraw = !draw;", "-\t\t\tdrawFlags = flags;", "+\t\t\tdrawFlags = (int)/*64*/flags;", "+\t\t\tdrawState = SWT.FOREGROUND;", "+\t\t\tint /*long*/ [] ptr = new int /*long*/ [1];", "+\t\t\tOS.gtk_tree_model_get (modelHandle, item.handle, Tree.BACKGROUND_COLUMN, ptr, -1);", "+\t\t\tif (ptr [0] == 0) {", "+\t\t\t\tint modelIndex = columnCount == 0 ? Tree.FIRST_COLUMN : columns [columnIndex].modelIndex;", "+\t\t\t\tOS.gtk_tree_model_get (modelHandle, item.handle, modelIndex + Tree.CELL_BACKGROUND, ptr, -1);", "+\t\t\t}", "+\t\t\tif (ptr [0] != 0) drawState |= SWT.BACKGROUND;", "+\t\t\tif ((flags & OS.GTK_CELL_RENDERER_SELECTED) != 0) drawState |= SWT.SELECTED;", "+\t\t\tif ((flags & OS.GTK_CELL_RENDERER_FOCUSED) != 0) drawState |= SWT.FOCUSED;\t\t\t", "-\t\t\tif ((flags & OS.GTK_CELL_RENDERER_SELECTED) == 0) {", "+\t\t\tGdkRectangle rect = new GdkRectangle ();", "+\t\t\tint /*long*/ path = OS.gtk_tree_model_get_path (modelHandle, iter);", "+\t\t\tOS.gtk_tree_view_get_background_area (handle, path, columnHandle, rect);", "+\t\t\tOS.gtk_tree_path_free (path);", "+\t\t\t", "+\t\t\tif ((drawState & SWT.SELECTED) == 0) {", "-\t\t\t\tif ((flags & OS.GTK_CELL_RENDERER_SELECTED) != 0) {", "+\t\t\t\tif ((drawState & SWT.SELECTED) != 0) {", "-\t\t\t\t}\t\t\t\t", "+\t\t\t\t}", "+\t\t\t\tif ((drawState & SWT.SELECTED) != 0) {", "+\t\t\t\t\tgc.setBackground (display.getSystemColor (SWT.COLOR_LIST_SELECTION));", "+\t\t\t\t\tgc.setForeground (display.getSystemColor (SWT.COLOR_LIST_SELECTION_TEXT));", "+\t\t\t\t} else {", "+\t\t\t\t\tgc.setBackground (item.getBackground (columnIndex));", "+\t\t\t\t\tgc.setForeground (item.getForeground (columnIndex));", "+\t\t\t\t}", "+\t\t\t\tgc.setFont (item.getFont (columnIndex));", "-\t\t\t\tif ((flags & OS.GTK_CELL_RENDERER_SELECTED) != 0) event.detail |= SWT.SELECTED;", "-\t\t\t\tif ((flags & OS.GTK_CELL_RENDERER_FOCUSED) != 0) event.detail |= SWT.FOCUSED;", "+\t\t\t\tevent.detail = drawState;", "-\t\t\t\tflags &= ~(OS.GTK_CELL_RENDERER_SELECTED | OS.GTK_CELL_RENDERER_FOCUSED);", "-\t\t\t\tif ((event.detail & SWT.SELECTED) != 0) flags |= OS.GTK_CELL_RENDERER_SELECTED;", "-\t\t\t\tif ((event.detail & SWT.FOCUSED) != 0) flags |= OS.GTK_CELL_RENDERER_FOCUSED;", "-\t\t\t\tdrawFlags = flags;", "-\t\t\t\tdraw = event.doit;", "-\t\t\t\tignoreDraw = !draw;\t", "-\t\t\t\tif ((flags & OS.GTK_CELL_RENDERER_SELECTED) != 0) {", "+\t\t\t\tdrawState = event.detail;", "+\t\t\t\tdrawFlags &= ~(OS.GTK_CELL_RENDERER_FOCUSED | OS.GTK_CELL_RENDERER_SELECTED);", "+\t\t\t\tif ((drawState & SWT.SELECTED) != 0) drawFlags |= OS.GTK_CELL_RENDERER_SELECTED;", "+\t\t\t\tif ((drawState & SWT.FOCUSED) != 0) drawFlags |= OS.GTK_CELL_RENDERER_FOCUSED;", "+\t\t\t\tif ((drawState & SWT.SELECTED) != 0) {", "-\t\t\t\t\tOS.gtk_paint_flat_box (style, window, OS.GTK_STATE_SELECTED, OS.GTK_SHADOW_NONE, rect, widget, null, rect.x, rect.y, rect.width, rect.height);", "+\t\t\t\t\t//TODO - parity and sorted", "+\t\t\t\t\tbyte[] detail = Converter.wcsToMbcs (null, \"cell_odd\", true);", "+\t\t\t\t\tOS.gtk_paint_flat_box (style, window, OS.GTK_STATE_SELECTED, OS.GTK_SHADOW_NONE, rect, widget, detail, rect.x, rect.y, rect.width, rect.height);", "-\tif (draw || OS.GTK_IS_CELL_RENDERER_TOGGLE (cell)) {", "+\tif ((drawState & SWT.BACKGROUND) != 0 && (drawState & SWT.SELECTED) == 0) {", "+\t\tGC gc = new GC (this);", "+\t\tgc.setBackground (item.getBackground (columnIndex));", "+\t\tGdkRectangle rect = new GdkRectangle ();", "+\t\tOS.memmove (rect, background_area, GdkRectangle.sizeof);", "+\t\tgc.fillRectangle (rect.x, rect.y, rect.width, rect.height);", "+\t\tgc.dispose ();", "+\t}", "+\tif ((drawState & SWT.FOREGROUND) != 0 || OS.GTK_IS_CELL_RENDERER_TOGGLE (cell)) {", "-\t\t\t\tif ((drawFlags & OS.GTK_CELL_RENDERER_SELECTED) != 0) {", "+\t\t\t\tif ((drawState & SWT.SELECTED) != 0) {", "-\t\t\t\tif ((drawFlags & OS.GTK_CELL_RENDERER_SELECTED) != 0) event.detail |= SWT.SELECTED;", "-\t\t\t\tif ((drawFlags & OS.GTK_CELL_RENDERER_FOCUSED) != 0) event.detail |= SWT.FOCUSED;", "+\t\t\t\tevent.detail = drawState;", "-\t\t\tdraw = true;", "-\t\t\tignoreDraw = !draw;", "-\t\t\tdrawFlags = 0;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c06fdfa583fd88b3b4b34ae2d4010652", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Table.java", "commitBeforeChange": "527998c9e4be5c58a908b0f0d6081466df8efc7f", "commitAfterChange": "642c99978dc17bd02e442edba68d88ae6a941ded", "methodNumberBeforeChange": 84, "methodNumberAfterChange": 84, "signatureBeforeChange": "  int rendererRenderProc (int cell, int window, int widget, int background_area, int cell_area, int expose_area, int flags)", "signatureAfterChange": "  int rendererRenderProc (int cell, int window, int widget, int background_area, int cell_area, int expose_area, int flags)", "diff": ["-\tint /*long*/ columnHandle = OS.g_object_get_qdata (cell, Display.SWT_OBJECT_INDEX1);", "-//\tif (checkRenderer != 0) {", "-//\t\tif ((flags & OS.GTK_CELL_RENDERER_FOCUSED) != 0) {", "-//\t\t\tOS.gtk_tree_view_column_focus_cell (columnHandle, checkRenderer);", "-//\t\t}", "-//\t}", "+\tint /*long*/ columnHandle = OS.g_object_get_qdata (cell, Display.SWT_OBJECT_INDEX1);", "-\tboolean draw = !ignoreDraw;", "-\tif (item != null) {", "-\t\tif (columnCount > 0) {", "-\t\t\tfor (int i = 0; i < columnCount; i++) {", "-\t\t\t\tif (columns [i].handle == columnHandle) {", "-\t\t\t\t\tcolumnIndex = i;", "-\t\t\t\t\tbreak;", "-\t\t\t\t}\t\t\t\t", "-\t\t\t}", "+\tif (columnCount > 0) {", "+\t\tfor (int i = 0; i < columnCount; i++) {", "+\t\t\tif (columns [i].handle == columnHandle) {", "+\t\t\t\tcolumnIndex = i;", "+\t\t\t\tbreak;", "+\t\t\t}\t\t\t\t", "-\t\tGdkRectangle rect = new GdkRectangle ();", "-\t\tint /*long*/ path = OS.gtk_tree_model_get_path (modelHandle, iter);", "-\t\tOS.gtk_tree_view_get_background_area (handle, path, columnHandle, rect);", "-\t\tOS.gtk_tree_path_free (path);", "+\t}", "+\tif (item != null) {", "-\t\t\tdraw = true;", "-\t\t\tignoreDraw = !draw;", "-\t\t\tdrawFlags = flags;", "+\t\t\tdrawFlags = (int)/*64*/flags;", "+\t\t\tdrawState = SWT.FOREGROUND;", "+\t\t\tint /*long*/ [] ptr = new int /*long*/ [1];", "+\t\t\tOS.gtk_tree_model_get (modelHandle, item.handle, Table.BACKGROUND_COLUMN, ptr, -1);", "+\t\t\tif (ptr [0] == 0) {", "+\t\t\t\tint modelIndex = columnCount == 0 ? Table.FIRST_COLUMN : columns [columnIndex].modelIndex;", "+\t\t\t\tOS.gtk_tree_model_get (modelHandle, item.handle, modelIndex + Table.CELL_BACKGROUND, ptr, -1);", "+\t\t\t}", "+\t\t\tif (ptr [0] != 0) drawState |= SWT.BACKGROUND;", "+\t\t\tif ((flags & OS.GTK_CELL_RENDERER_SELECTED) != 0) drawState |= SWT.SELECTED;", "+\t\t\tif ((flags & OS.GTK_CELL_RENDERER_FOCUSED) != 0) drawState |= SWT.FOCUSED;\t\t\t", "-\t\t\tif ((flags & OS.GTK_CELL_RENDERER_SELECTED) == 0) {", "+\t\t\tGdkRectangle rect = new GdkRectangle ();", "+\t\t\tint /*long*/ path = OS.gtk_tree_model_get_path (modelHandle, iter);", "+\t\t\tOS.gtk_tree_view_get_background_area (handle, path, columnHandle, rect);", "+\t\t\tOS.gtk_tree_path_free (path);", "+\t\t\t", "+\t\t\tif ((drawState & SWT.SELECTED) == 0) {", "-\t\t\t\tif ((flags & OS.GTK_CELL_RENDERER_SELECTED) != 0) {", "+\t\t\t\tif ((drawState & SWT.SELECTED) != 0) {", "-\t\t\t\t}\t\t\t\t", "+\t\t\t\t}", "+\t\t\t\tif ((drawState & SWT.SELECTED) != 0) {", "+\t\t\t\t\tgc.setBackground (display.getSystemColor (SWT.COLOR_LIST_SELECTION));", "+\t\t\t\t\tgc.setForeground (display.getSystemColor (SWT.COLOR_LIST_SELECTION_TEXT));", "+\t\t\t\t} else {", "+\t\t\t\t\tgc.setBackground (item.getBackground (columnIndex));", "+\t\t\t\t\tgc.setForeground (item.getForeground (columnIndex));", "+\t\t\t\t}", "+\t\t\t\tgc.setFont (item.getFont (columnIndex));", "-\t\t\t\tif ((flags & OS.GTK_CELL_RENDERER_SELECTED) != 0) event.detail |= SWT.SELECTED;", "-\t\t\t\tif ((flags & OS.GTK_CELL_RENDERER_FOCUSED) != 0) event.detail |= SWT.FOCUSED;", "+\t\t\t\tevent.detail = drawState;", "-\t\t\t\tflags &= ~(OS.GTK_CELL_RENDERER_SELECTED | OS.GTK_CELL_RENDERER_FOCUSED);", "-\t\t\t\tif ((event.detail & SWT.SELECTED) != 0) flags |= OS.GTK_CELL_RENDERER_SELECTED;", "-\t\t\t\tif ((event.detail & SWT.FOCUSED) != 0) flags |= OS.GTK_CELL_RENDERER_FOCUSED;", "-\t\t\t\tdrawFlags = flags;", "-\t\t\t\tdraw = event.doit;", "-\t\t\t\tignoreDraw = !draw;\t", "-\t\t\t\tif ((flags & OS.GTK_CELL_RENDERER_SELECTED) != 0) {", "+\t\t\t\tdrawState = event.detail;", "+\t\t\t\tdrawFlags &= ~(OS.GTK_CELL_RENDERER_FOCUSED | OS.GTK_CELL_RENDERER_SELECTED);", "+\t\t\t\tif ((drawState & SWT.SELECTED) != 0) drawFlags |= OS.GTK_CELL_RENDERER_SELECTED;", "+\t\t\t\tif ((drawState & SWT.FOCUSED) != 0) drawFlags |= OS.GTK_CELL_RENDERER_FOCUSED;", "+\t\t\t\tif ((drawState & SWT.SELECTED) != 0) {", "-\t\t\t\t\tOS.gtk_paint_flat_box (style, window, OS.GTK_STATE_SELECTED, OS.GTK_SHADOW_NONE, rect, widget, null, rect.x, rect.y, rect.width, rect.height);", "+\t\t\t\t\t//TODO - parity and sorted", "+\t\t\t\t\tbyte[] detail = Converter.wcsToMbcs (null, \"cell_odd\", true);", "+\t\t\t\t\tOS.gtk_paint_flat_box (style, window, OS.GTK_STATE_SELECTED, OS.GTK_SHADOW_NONE, rect, widget, detail, rect.x, rect.y, rect.width, rect.height);", "-\tif (draw || OS.GTK_IS_CELL_RENDERER_TOGGLE (cell)) {", "+\tif ((drawState & SWT.BACKGROUND) != 0 && (drawState & SWT.SELECTED) == 0) {", "+\t\tGC gc = new GC (this);", "+\t\tgc.setBackground (item.getBackground (columnIndex));", "+\t\tGdkRectangle rect = new GdkRectangle ();", "+\t\tOS.memmove (rect, background_area, GdkRectangle.sizeof);", "+\t\tgc.fillRectangle (rect.x, rect.y, rect.width, rect.height);", "+\t\tgc.dispose ();", "+\t}", "+\tif ((drawState & SWT.FOREGROUND) != 0 || OS.GTK_IS_CELL_RENDERER_TOGGLE (cell)) {", "-\t\t\t\tif ((drawFlags & OS.GTK_CELL_RENDERER_SELECTED) != 0) {", "+\t\t\t\tif ((drawState & SWT.SELECTED) != 0) {", "-\t\t\t\tif ((drawFlags & OS.GTK_CELL_RENDERER_SELECTED) != 0) event.detail |= SWT.SELECTED;", "-\t\t\t\tif ((drawFlags & OS.GTK_CELL_RENDERER_FOCUSED) != 0) event.detail |= SWT.FOCUSED;", "+\t\t\t\tevent.detail = drawState;", "-\t\t\tdraw = true;", "-\t\t\tignoreDraw = !draw;", "-\t\t\tdrawFlags = 0;"]}], "num": 22119}