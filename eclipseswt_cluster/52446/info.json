{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "739a3dfa06f3fca73035d567b36f7f57", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a38e053c469c2f47f745f70276c78963", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "62bfd83b9f7c798916f986e294f941ecd8738afe", "commitAfterChange": "d7ebcefb1d0b8f363be13e76e2ce239acc725ff5", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 18, "signatureBeforeChange": "  void drawIcon(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple)", "signatureAfterChange": "  void drawIcon(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple)", "diff": ["+\tboolean drawIcon = true;", "+\tint flags = OS.DI_NORMAL;", "+\tif (!OS.IsWinCE && OS.WIN32_VERSION >= OS.VERSION(5, 1)) {", "+\t\tflags |= OS.DI_NOMIRROR;", "+\t} else {", "+\t\tdrawIcon = (data.style & SWT.MIRRORED) == 0;", "+\t}", "+", "-\tif (simple && technology != OS.DT_RASPRINTER) {", "-\t\tOS.DrawIconEx(handle, destX, destY, srcImage.handle, 0, 0, 0, 0, OS.DI_NORMAL | OS.DI_NOMIRROR);", "+\tif (simple && technology != OS.DT_RASPRINTER && drawIcon) {", "+\t\tOS.DrawIconEx(handle, destX, destY, srcImage.handle, 0, 0, 0, 0, flags);", "-\t\tif (simple && technology != OS.DT_RASPRINTER)\t{", "+\t\tif (!drawIcon) {", "+\t\t\tint srcHdc = OS.CreateCompatibleDC(handle);", "+\t\t\tint srcColorY = srcY;", "+\t\t\tint srcColor = srcIconInfo.hbmColor;", "+\t\t\tif (srcColor == 0) {", "+\t\t\t\tsrcColor = srcIconInfo.hbmMask;", "+\t\t\t\tsrcColorY += iconHeight;", "+\t\t\t}", "+\t\t\tint srcMask = srcIconInfo.hbmMask;", "+\t\t\tint oldSrcBitmap = OS.SelectObject(srcHdc, srcColor);", "+\t\t\tif (!simple && (srcWidth != destWidth || srcHeight != destHeight)) {", "+\t\t\t\tint mode = 0;", "+\t\t\t\tif (!OS.IsWinCE) mode = OS.SetStretchBltMode(handle, OS.COLORONCOLOR);", "+\t\t\t\tOS.StretchBlt(handle, destX, destY, destWidth, destHeight, srcHdc, srcX, srcColorY, srcWidth, srcHeight, OS.SRCINVERT);", "+\t\t\t\tOS.SelectObject(srcHdc, srcMask);", "+\t\t\t\tOS.StretchBlt(handle, destX, destY, destWidth, destHeight, srcHdc, srcX, srcY, srcWidth, srcHeight, OS.SRCAND);", "+\t\t\t\tOS.SelectObject(srcHdc, srcColor);", "+\t\t\t\tOS.StretchBlt(handle, destX, destY, destWidth, destHeight, srcHdc, srcX, srcColorY, srcWidth, srcHeight, OS.SRCINVERT);", "+\t\t\t\tif (!OS.IsWinCE) OS.SetStretchBltMode(handle, mode);", "+\t\t\t} else {", "+\t\t\t\tOS.BitBlt(handle, destX, destY, destWidth, destHeight, srcHdc, srcX, srcColorY, OS.SRCINVERT);", "+\t\t\t\tOS.SelectObject(srcHdc, srcMask);", "+\t\t\t\tOS.BitBlt(handle, destX, destY, destWidth, destHeight, srcHdc, srcX, srcY, OS.SRCAND);", "+\t\t\t\tOS.SelectObject(srcHdc, srcColor);", "+\t\t\t\tOS.BitBlt(handle, destX, destY, destWidth, destHeight, srcHdc, srcX, srcColorY, OS.SRCINVERT);", "+\t\t\t}", "+\t\t\tOS.SelectObject(srcHdc, oldSrcBitmap);", "+\t\t\tOS.DeleteDC(srcHdc);", "+\t\t} else if (simple && technology != OS.DT_RASPRINTER) {", "-\t\t\tOS.DrawIconEx(handle, destX, destY, srcImage.handle, 0, 0, 0, 0, OS.DI_NORMAL | OS.DI_NOMIRROR);", "+\t\t\tOS.DrawIconEx(handle, destX, destY, srcImage.handle, 0, 0, 0, 0, flags);", "-\t\t\t\tOS.DrawIconEx(handle, destX, destY, hIcon, destWidth, destHeight, 0, 0, OS.DI_NORMAL | OS.DI_NOMIRROR);", "+\t\t\t\tOS.DrawIconEx(handle, destX, destY, hIcon, destWidth, destHeight, 0, 0, flags);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d8e1ffb600a4b5ec9f45b58282e7e2ed", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/win32/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "1ab8b5fbc680e1f1510908f5f82adf75422a18ac", "commitAfterChange": "da65189c050939c2c0723e3578a9ba89981cf786", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 18, "signatureBeforeChange": "  void drawIcon(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple)", "signatureAfterChange": "  void drawIcon(Image srcImage, int srcX, int srcY, int srcWidth, int srcHeight, int destX, int destY, int destWidth, int destHeight, boolean simple)", "diff": ["-\t\t\tint srcHdc = OS.CreateCompatibleDC(handle);", "-\t\t\tint srcColorY = srcY;", "-\t\t\tint srcColor = srcIconInfo.hbmColor;", "-\t\t\tif (srcColor == 0) {", "-\t\t\t\tsrcColor = srcIconInfo.hbmMask;", "-\t\t\t\tsrcColorY += iconHeight;", "-\t\t\t}", "-\t\t\tint srcMask = srcIconInfo.hbmMask;", "-\t\t\tint oldSrcBitmap = OS.SelectObject(srcHdc, srcColor);", "-\t\t\tif (!simple && (srcWidth != destWidth || srcHeight != destHeight)) {", "-\t\t\t\tint mode = 0;", "-\t\t\t\tif (!OS.IsWinCE) mode = OS.SetStretchBltMode(handle, OS.COLORONCOLOR);", "-\t\t\t\tOS.StretchBlt(handle, destX, destY, destWidth, destHeight, srcHdc, srcX, srcColorY, srcWidth, srcHeight, OS.SRCINVERT);", "-\t\t\t\tOS.SelectObject(srcHdc, srcMask);", "-\t\t\t\tOS.StretchBlt(handle, destX, destY, destWidth, destHeight, srcHdc, srcX, srcY, srcWidth, srcHeight, OS.SRCAND);", "-\t\t\t\tOS.SelectObject(srcHdc, srcColor);", "-\t\t\t\tOS.StretchBlt(handle, destX, destY, destWidth, destHeight, srcHdc, srcX, srcColorY, srcWidth, srcHeight, OS.SRCINVERT);", "-\t\t\t\tif (!OS.IsWinCE) OS.SetStretchBltMode(handle, mode);", "-\t\t\t} else {", "-\t\t\t\tOS.BitBlt(handle, destX, destY, destWidth, destHeight, srcHdc, srcX, srcColorY, OS.SRCINVERT);", "-\t\t\t\tOS.SelectObject(srcHdc, srcMask);", "-\t\t\t\tOS.BitBlt(handle, destX, destY, destWidth, destHeight, srcHdc, srcX, srcY, OS.SRCAND);", "-\t\t\t\tOS.SelectObject(srcHdc, srcColor);", "-\t\t\t\tOS.BitBlt(handle, destX, destY, destWidth, destHeight, srcHdc, srcX, srcColorY, OS.SRCINVERT);", "-\t\t\t}", "-\t\t\tOS.SelectObject(srcHdc, oldSrcBitmap);", "-\t\t\tOS.DeleteDC(srcHdc);", "+\t\t\tdrawBitmapMask(srcImage, srcIconInfo.hbmColor, srcIconInfo.hbmMask, srcX, srcY, srcWidth, srcHeight, destX, destY, destWidth, destHeight, simple, iconWidth, iconHeight, false);"]}], "num": 52446}