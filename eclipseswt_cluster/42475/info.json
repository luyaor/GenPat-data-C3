{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "868addf06357fea5e8485bffd2456e20", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a6dcddb7d1893738f89b34988fca478a", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Tree.java", "commitBeforeChange": "cbdd91157986b85a261cf2dcb490e1e504e3a9d3", "commitAfterChange": "63f0ecd411e6ee67aae7ff248c6596d6542dd1a0", "methodNumberBeforeChange": 86, "methodNumberAfterChange": 86, "signatureBeforeChange": "  void setItemCount (TreeItem parentItem, int count)", "signatureAfterChange": "   void setItemCount (TreeItem parentItem, int count)", "diff": ["+", "+\tNSOutlineView widget = (NSOutlineView) view;", "+\tint length = Math.max (4, (count + 3) / 4 * 4);", "+\tboolean expanded = parentItem == null || parentItem.getExpanded();", "+\t\t/*", "+\t\t* Note that the item count has to be updated before the call to reloadItem(), but", "+\t\t* the items have to be released after.", "+\t\t*/", "+\t\tif (parentItem == null) {", "+\t\t\tthis.itemCount = count;", "+\t\t} else {", "+\t\t\tparentItem.itemCount = count;", "+\t\t}", "+\t\twidget.reloadItem (parentItem != null ? parentItem.handle : null, expanded);", "-\t}", "-\tif (count > itemCount) {", "-\t\tif ((getStyle() & SWT.VIRTUAL) == 0) {", "+\t\tTreeItem [] newItems = new TreeItem [length];", "+\t\tif (children != null) {", "+\t\t\tSystem.arraycopy (children, 0, newItems, 0, Math.min (count, itemCount));", "+\t\t}", "+\t\tchildren = newItems;", "+\t\tif (parentItem == null) {", "+\t\t\tthis.items = newItems;", "+\t\t} else {", "+\t\t\tparentItem.items = newItems;", "+\t\t}", "+\t} else {", "+\t\tif ((style & SWT.VIRTUAL) == 0) {", "-\t\t\treturn;", "-\t\t} ", "+\t\t} else {", "+\t\t\tTreeItem [] newItems = new TreeItem [length];", "+\t\t\tif (children != null) {", "+\t\t\t\tSystem.arraycopy (children, 0, newItems, 0, Math.min (count, itemCount));", "+\t\t\t}", "+\t\t\tchildren = newItems;", "+\t\t\tif (parentItem == null) {", "+\t\t\t\tthis.items = newItems;", "+\t\t\t\tthis.itemCount = count;", "+\t\t\t} else {", "+\t\t\t\tparentItem.items = newItems;", "+\t\t\t\tparentItem.itemCount = count;", "+\t\t\t}", "+\t\t\twidget.reloadItem (parentItem != null ? parentItem.handle : null, expanded);", "+\t\t}", "-\tint length = Math.max (4, (count + 3) / 4 * 4);", "-\tTreeItem [] newItems = new TreeItem [length];", "-\tif (children != null) {", "-\t\tSystem.arraycopy (children, 0, newItems, 0, Math.min (count, itemCount));", "-\t}", "-\tchildren = newItems;", "-\tif (parentItem == null) {", "-\t\tthis.items = newItems;", "-\t\tthis.itemCount = count;", "-\t} else {", "-\t\tparentItem.items = newItems;", "-\t\tparentItem.itemCount = count;", "-\t}", "-\tNSOutlineView widget = (NSOutlineView) view;", "-\twidget.reloadItem (parentItem != null ? parentItem.handle : null, true);", "-\twidget.noteNumberOfRowsChanged();", "+\t"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cb1eb30b4bacb2c376379f5bbb3923b9", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Shell.java", "commitBeforeChange": "092b2855e233cbf3935eaffa5764177de9f718cb", "commitAfterChange": "d25ad14a7abefd03d6cc5a7336e5b196b082f470", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "  void createHandle (int index)", "signatureAfterChange": "  void createHandle (int index)", "diff": ["-\tint type = (style & SWT.NO_TRIM) == 0 ? OS.GTK_WINDOW_TOPLEVEL : OS.GTK_WINDOW_POPUP;", "+\tint type = OS.GTK_WINDOW_TOPLEVEL;", "+\tif ((style & (SWT.ON_TOP | SWT.NO_TRIM)) != 0) type = OS.GTK_WINDOW_POPUP;", "+\tint decorations = 0;", "+\tif ((style & SWT.NO_TRIM) == 0) {", "+\t\tif ((style & SWT.MIN) != 0) decorations |= OS.GDK_DECOR_MINIMIZE;", "+\t\tif ((style & SWT.MAX) != 0) decorations |= OS.GDK_DECOR_MAXIMIZE;", "+\t\tif ((style & SWT.RESIZE) != 0) decorations |= OS.GDK_DECOR_RESIZEH;", "+\t\tif ((style & SWT.BORDER) != 0) decorations |= OS.GDK_DECOR_BORDER;", "+\t\tif ((style & SWT.MENU) != 0) decorations |= OS.GDK_DECOR_MENU;", "+\t\tif ((style & SWT.TITLE) != 0) decorations |= OS.GDK_DECOR_TITLE;", "+\t\t/*", "+\t\t* Feature in GTK.  Under some Window Managers (Sawmill), in order", "+\t\t* to get any border at all from the window manager it is necessary", "+\t\t* to set GDK_DECOR_BORDER.  The fix is to force these bits when any", "+\t\t* kind of border is requested.", "+\t\t*/", "+\t\tif ((style & SWT.RESIZE) != 0) decorations |= OS.GDK_DECOR_BORDER;", "+\t}", "+\tOS.gdk_window_set_decorations (window, decorations);", "+\tOS.gtk_window_set_title (shellHandle, new byte [1]);", "-\t} else {", "-\t\tint decorations = 0;", "-\t\tif ((style & SWT.NO_TRIM) == 0) {", "-\t\t\tif ((style & SWT.MIN) != 0) decorations |= OS.GDK_DECOR_MINIMIZE;", "-\t\t\tif ((style & SWT.MAX) != 0) decorations |= OS.GDK_DECOR_MAXIMIZE;", "-\t\t\tif ((style & SWT.RESIZE) != 0) decorations |= OS.GDK_DECOR_RESIZEH;", "-\t\t\tif ((style & SWT.BORDER) != 0) decorations |= OS.GDK_DECOR_BORDER;", "-\t\t\tif ((style & SWT.MENU) != 0) decorations |= OS.GDK_DECOR_MENU;", "-\t\t\tif ((style & SWT.TITLE) != 0) decorations |= OS.GDK_DECOR_TITLE;", "-\t\t\t/*", "-\t\t\t* Feature in GTK.  Under some Window Managers (Sawmill), in order", "-\t\t\t* to get any border at all from the window manager it is necessary", "-\t\t\t* to set GDK_DECOR_BORDER.  The fix is to force these bits when any", "-\t\t\t* kind of border is requested.", "-\t\t\t*/", "-\t\t\tif ((style & SWT.RESIZE) != 0) decorations |= OS.GDK_DECOR_BORDER;", "-\t\t}", "-\t\tOS.gdk_window_set_decorations (window, decorations);", "-\t\tOS.gtk_window_set_title (shellHandle, new byte [1]);", "+\t}", "+\tif ((style & (SWT.NO_TRIM | SWT.BORDER | SWT.RESIZE)) == 0) {", "+\t\tOS.gtk_container_set_border_width (shellHandle, 1);", "+\t\tGtkStyle style = new GtkStyle ();", "+\t\tOS.memmove (style, OS.gtk_widget_get_style (shellHandle));", "+\t\tGdkColor color = new GdkColor ();", "+\t\tcolor.red = style.black_red;", "+\t\tcolor.green = style.black_green;", "+\t\tcolor.blue = style.black_blue;", "+\t\tcolor.pixel = style.black_pixel;", "+\t\tOS.gtk_widget_modify_bg (shellHandle, 0, color);", "+}"]}], "num": 42475}