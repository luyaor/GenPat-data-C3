{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a944fc4f59c125004f6fd58a91ced8eb", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1eb9d0e8ded2fd917bab570807671083", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT Accessibility/gtk/org/eclipse/swt/accessibility/AccessibleFactory.java", "commitBeforeChange": "30eaec187a22ddf0998c34e45a71b135fb6c6509", "commitAfterChange": "4e3ace7441083b52059381fc7315ed0ffaa59c75", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "  \tprivate AccessibleFactory (int widgetType)", "signatureAfterChange": "  \tstatic String getTypeName (int type)", "diff": ["-\tprivate AccessibleFactory (int /*long*/ widgetType) {", "-\t\tsuper ();", "-\t\twidgetTypeName = OS.g_type_name (widgetType);", "-\t\tint widgetTypeNameLength = OS.strlen (widgetTypeName) + 1;", "+\tstatic String getTypeName (int /*long*/ type) {", "+\t\tint /*long*/ typeName = OS.g_type_name (type);", "+\t\tint widgetTypeNameLength = OS.strlen (typeName);", "-\t\tOS.memmove (buffer, widgetTypeName, widgetTypeNameLength);", "-\t\tbyte[] factoryName = new byte [FACTORY_TYPENAME.length + widgetTypeNameLength - 1];", "-\t\tSystem.arraycopy (FACTORY_TYPENAME, 0, factoryName, 0, FACTORY_TYPENAME.length);", "-\t\tSystem.arraycopy (buffer, 0, factoryName, FACTORY_TYPENAME.length - 1, widgetTypeNameLength);", "-\t\tif (OS.g_type_from_name (factoryName) == 0) {", "-\t\t\t/* register the factory */", "-\t\t\tint /*long*/ registry = ATK.atk_get_default_registry ();", "-\t\t\tint /*long*/ previousFactory = ATK.atk_registry_get_factory (registry, widgetType);", "-\t\t\tobjectParentType = ATK.atk_object_factory_get_accessible_type (previousFactory);", "-\t\t\tif (objectParentType == 0) objectParentType = DefaultParentType;", "-\t\t\tint /*long*/ factoryParentType = OS.g_type_from_name (FACTORY_PARENTTYPENAME);", "-\t\t\tgTypeInfo_base_init_factory  = new Callback (this, \"gTypeInfo_base_init_factory\", 1); //$NON-NLS-1$", "-\t\t\tint /*long*/ address = gTypeInfo_base_init_factory.getAddress ();", "-\t\t\tif (address == 0) SWT.error (SWT.ERROR_NO_MORE_CALLBACKS);", "-\t\t\tGTypeInfo typeInfo = new GTypeInfo ();", "-\t\t\ttypeInfo.base_init = address;", "-\t\t\ttypeInfo.class_size = (short)ATK.AtkObjectFactoryClass_sizeof ();", "-\t\t\ttypeInfo.instance_size = (short)ATK.AtkObjectFactory_sizeof ();", "-\t\t\tint /*long*/ info = OS.g_malloc (GTypeInfo.sizeof); ", "-\t\t\tOS.memmove (info, typeInfo, GTypeInfo.sizeof); ", "-\t\t\tint /*long*/ swtFactoryType = OS.g_type_register_static (factoryParentType, factoryName, info, 0);", "-\t\t\tATK.atk_registry_set_factory_type (registry, widgetType, swtFactoryType);", "-\t\t\thandle = ATK.atk_registry_get_factory (registry, widgetType);", "-\t\t}", "+\t\tOS.memmove (buffer, typeName, widgetTypeNameLength);", "+\t\treturn new String(Converter.mbcsToWcs(null, buffer));", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a034ac13f987171b89e040c77eaf0c35", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/gtk/org/eclipse/swt/widgets/Combo.java", "commitBeforeChange": "88a206d76aa39dd7d98ee9e7c579161da612fd89", "commitAfterChange": "06bbc99d80578d0e68ba2117298ff1e890d6f10e", "methodNumberBeforeChange": 58, "methodNumberAfterChange": 58, "signatureBeforeChange": " \t void setItems (String [] items, boolean keepText, boolean keepSelection)", "signatureAfterChange": "  void setItems (String [] items, boolean keepText, boolean keepSelection)", "diff": ["-\t", "+", "-\tif (items.length == 0) {", "-\t\tint /*long*/ itemsList = OS.gtk_container_get_children (listHandle);", "-\t\tif (itemsList != 0) {", "-\t\t\tint count = OS.g_list_length (itemsList);", "-\t\t\tfor (int i=count - 1; i>=0; i--) {", "-\t\t\t\tint /*long*/ widget = OS.g_list_nth_data (itemsList, i);", "-\t\t\t\tOS.gtk_container_remove (listHandle, widget);", "-\t\t\t}", "-\t\t\tOS.g_list_free (itemsList);", "-\t\t}", "-\t} else {", "-\t\tint /*long*/ glist = 0;", "-\t\tfor (int i=0; i<items.length; i++) {", "-\t\t\tString string = items [i];", "-\t\t\tif (string == null) break;", "-\t\t\tbyte [] buffer = Converter.wcsToMbcs (null, string, true);", "-\t\t\tint /*long*/ data = OS.g_malloc (buffer.length);", "-\t\t\tOS.memmove (data, buffer, buffer.length);", "-\t\t\tglist = OS.g_list_append (glist, data);", "-\t\t}", "-\t\tOS.gtk_combo_set_popdown_strings (handle, glist);", "-\t\tif (glist != 0) {", "-\t\t\tint count = OS.g_list_length (glist);", "-\t\t\tfor (int i=0; i<count; i++) {", "-\t\t\t\tint /*long*/ data = OS.g_list_nth_data (glist, i);", "-\t\t\t\tif (data != 0) OS.g_free (data);", "-\t\t\t}", "-\t\t\tOS.g_list_free (glist);", "-\t\t}", "-\t\tint /*long*/ itemsList = OS.gtk_container_get_children (listHandle);", "-\t\tif (itemsList != 0) {", "-\t\t\tint /*long*/ font = getFontDescription ();", "-\t\t\tGdkColor color = getForegroundColor ();", "-\t\t\tint count = OS.g_list_length (itemsList);", "-\t\t\tfor (int i=count - 1; i>=0; i--) {", "-\t\t\t\tint /*long*/ widget = OS.gtk_bin_get_child (OS.g_list_nth_data (itemsList, i));", "-\t\t\t\tOS.gtk_widget_modify_fg (widget,  OS.GTK_STATE_NORMAL, color);", "-\t\t\t\tOS.gtk_widget_modify_font (widget, font);", "-\t\t\t}", "-\t\t\tOS.g_list_free (itemsList);", "-\t\t}", "+\tOS.gtk_list_clear_items (listHandle, 0, -1);", "+\tint /*long*/ font = getFontDescription ();", "+\tGdkColor color = getForegroundColor ();", "+\tfor (int i=0; i<items.length; i++) {", "+\t\tString string = items [i];", "+\t\tif (string == null) break;", "+\t\tbyte [] buffer = Converter.wcsToMbcs (null, string, true);", "+\t\tint /*long*/ item = OS.gtk_list_item_new_with_label (buffer);", "+\t\tint /*long*/ label = OS.gtk_bin_get_child (item); ", "+\t\tOS.gtk_widget_modify_fg (label, OS.GTK_STATE_NORMAL, color);", "+\t\tOS.gtk_widget_modify_font (label, font);", "+\t\tOS.gtk_container_add (listHandle, item);", "+\t\tOS.gtk_widget_show (item);"]}], "num": 29096}