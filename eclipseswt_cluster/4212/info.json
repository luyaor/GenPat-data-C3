{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "bcaf8ee04b8f04cf9e14bf626982dda9", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b6a605efaedaf1c7a046bbd812938317", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/widgets/Canvas.java", "commitBeforeChange": "be518991c12a9ca18071e368dfe879c94fa2722f", "commitAfterChange": "7fb06e9229d8e53de398a263a33af7e61a8f59eb", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": " public void scroll (int destX, int destY, int x, int y, int width, int height, boolean all)", "signatureAfterChange": " public void scroll (int destX, int destY, int x, int y, int width, int height, boolean all)", "diff": ["-//\tif (!isDrawing (handle)) return;", "+\tif (!isDrawing (view)) return;", "-\tview.setNeedsDisplayInRect(damage);", "-\tdamage.x = destX;", "-\tdamage.y = destY;", "-\tview.setNeedsDisplayInRect(damage);", "-//\tControl control = findBackgroundControl ();", "-//\tif ((control != null && control.backgroundImage != null)) {", "-//\t\tredrawWidget (handle, x, y, width, height, false);", "-//\t\tredrawWidget (handle, destX, destY, width, height, false);", "-//\t} else {", "-//\t    GC gc = new GC (this);", "-//\t    gc.copyArea (x, y, width, height, destX, destY);", "-//\t    gc.dispose ();", "-//\t}", "+", "+\tNSPoint dest = new NSPoint();", "+\tdest.x = destX;", "+\tdest.y = destY;", "+\t\t", "+\tview.lockFocus();", "+\tOS.NSCopyBits(0, damage , dest);", "+\tview.unlockFocus();", "+", "+\tboolean disjoint = (destX + width < x) || (x + width < destX) || (destY + height < y) || (y + height < destY);", "+\tif (disjoint) {", "+\t\tview.setNeedsDisplayInRect(damage);", "+\t} else {", "+\t\tif (deltaX != 0) {", "+\t\t\tint newX = destX - deltaX;", "+\t\t\tif (deltaX < 0) newX = destX + width;", "+\t\t\tdamage.x = newX;", "+\t\t\tdamage.width = Math.abs(deltaX);", "+\t\t\tview.setNeedsDisplayInRect(damage);", "+\t\t}", "+\t\tif (deltaY != 0) {", "+\t\t\tint newY = destY - deltaY;", "+\t\t\tif (deltaY < 0) newY = destY + height;", "+\t\t\tdamage.x = x;", "+\t\t\tdamage.y = newY;", "+\t\t\tdamage.width = width;", "+\t\t\tdamage.height =  Math.abs (deltaY);", "+\t\t\tview.setNeedsDisplayInRect(damage);", "+\t\t}", "+\t}", "+\t", "+\tNSRect visibleRect = view.visibleRect();", "+\tNSRect srcRect = new NSRect();", "+\tsrcRect.x = sourceRect.x;", "+\tsrcRect.y = sourceRect.y;", "+\tsrcRect.width = sourceRect.width;", "+\tsrcRect.height = sourceRect.height;", "+\tOS.NSIntersectionRect(visibleRect, visibleRect, srcRect);", "+\t", "+\tif (!OS.NSEqualRects(visibleRect, srcRect)) {", "+\t\tif (srcRect.x != visibleRect.x) {", "+\t\t\tdamage.x = srcRect.x + deltaX;", "+\t\t\tdamage.y = srcRect.y + deltaY;", "+\t\t\tdamage.width = visibleRect.x - srcRect.x;", "+\t\t\tdamage.height = srcRect.height;", "+\t\t\tview.setNeedsDisplayInRect(damage);", "+\t\t} ", "+\t\tif (visibleRect.x + visibleRect.width != srcRect.x + srcRect.width) {", "+\t\t\tdamage.x = srcRect.x + visibleRect.width + deltaX;", "+\t\t\tdamage.y = srcRect.y + deltaY;", "+\t\t\tdamage.width = srcRect.width - visibleRect.width;", "+\t\t\tdamage.height = srcRect.height;", "+\t\t\tview.setNeedsDisplayInRect(damage);", "+\t\t}", "+\t\tif (visibleRect.y != srcRect.y) {", "+\t\t\tdamage.x = visibleRect.x + deltaX;", "+\t\t\tdamage.y = srcRect.y + deltaY;", "+\t\t\tdamage.width = visibleRect.width;", "+\t\t\tdamage.height = visibleRect.y - srcRect.y;", "+\t\t\tview.setNeedsDisplayInRect(damage);", "+\t\t}", "+\t\tif (visibleRect.y + visibleRect.height != srcRect.y + srcRect.height) {", "+\t\t\tdamage.x = visibleRect.x + deltaX;", "+\t\t\tdamage.y = visibleRect.y + visibleRect.height + deltaY;", "+\t\t\tdamage.width = visibleRect.width;", "+\t\t\tdamage.height = srcRect.y + srcRect.height - (visibleRect.y + visibleRect.height);", "+\t\t\tview.setNeedsDisplayInRect(damage);", "+\t\t}", "+\t}\t", "+"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "454028595d6ee9e229d07e31b6e741e6", "repository": "http://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git", "fileName": "bundles/org.eclipse.swt/Eclipse SWT/cocoa/org/eclipse/swt/graphics/GC.java", "commitBeforeChange": "13b50b5c7f6f242ffae4a8f19b06c259eda287b0", "commitAfterChange": "1a0e67c58b9b0ea0fda7bf2aef0fb3c058eeda82", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": " public void copyArea(int srcX, int srcY, int width, int height, int destX, int destY, boolean paint)", "signatureAfterChange": " public void copyArea(int srcX, int srcY, int width, int height, int destX, int destY, boolean paint)", "diff": ["-\t\t\t//TODO implement copyArea(IIIIIIZ) for views", "+\t\t\tNSView view = data.view;", "+\t\t\tNSRect visibleRect = view.visibleRect();", "+\t\t\tif (visibleRect.width <= 0 || visibleRect.height <= 0) return;", "+\t\t\tNSRect damage = new NSRect();", "+\t\t\tdamage.x = srcX;", "+\t\t\tdamage.y = srcY;", "+\t\t\tdamage.width = width;", "+\t\t\tdamage.height = height;", "+\t\t\tNSPoint dest = new NSPoint();", "+\t\t\tdest.x = destX;", "+\t\t\tdest.y = destY;", "+", "+\t\t\tview.lockFocus();", "+\t\t\tOS.NSCopyBits(0, damage , dest);", "+\t\t\tview.unlockFocus();", "+", "+\t\t\tif (paint) {", "+\t\t\t\tboolean disjoint = (destX + width < srcX) || (srcX + width < destX) || (destY + height < srcY) || (srcY + height < destY);", "+\t\t\t\tif (disjoint) {", "+\t\t\t\t\tview.setNeedsDisplayInRect(damage);", "+\t\t\t\t} else {", "+\t\t\t\t\tif (deltaX != 0) {", "+\t\t\t\t\t\tint newX = destX - deltaX;", "+\t\t\t\t\t\tif (deltaX < 0) newX = destX + width;", "+\t\t\t\t\t\tdamage.x = newX;", "+\t\t\t\t\t\tdamage.width = Math.abs(deltaX);", "+\t\t\t\t\t\tview.setNeedsDisplayInRect(damage);", "+\t\t\t\t\t}", "+\t\t\t\t\tif (deltaY != 0) {", "+\t\t\t\t\t\tint newY = destY - deltaY;", "+\t\t\t\t\t\tif (deltaY < 0) newY = destY + height;", "+\t\t\t\t\t\tdamage.x = srcX;", "+\t\t\t\t\t\tdamage.y = newY;", "+\t\t\t\t\t\tdamage.width = width;", "+\t\t\t\t\t\tdamage.height =  Math.abs (deltaY);", "+\t\t\t\t\t\tview.setNeedsDisplayInRect(damage);", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t", "+\t\t\t\tNSRect srcRect = new NSRect();", "+\t\t\t\tsrcRect.x = srcX;", "+\t\t\t\tsrcRect.y = srcY;", "+\t\t\t\tsrcRect.width = width;", "+\t\t\t\tsrcRect.height = height;", "+\t\t\t\tOS.NSIntersectionRect(visibleRect, visibleRect, srcRect);", "+\t", "+\t\t\t\tif (!OS.NSEqualRects(visibleRect, srcRect)) {", "+\t\t\t\t\tif (srcRect.x != visibleRect.x) {", "+\t\t\t\t\t\tdamage.x = srcRect.x + deltaX;", "+\t\t\t\t\t\tdamage.y = srcRect.y + deltaY;", "+\t\t\t\t\t\tdamage.width = visibleRect.x - srcRect.x;", "+\t\t\t\t\t\tdamage.height = srcRect.height;", "+\t\t\t\t\t\tview.setNeedsDisplayInRect(damage);", "+\t\t\t\t\t} ", "+\t\t\t\t\tif (visibleRect.x + visibleRect.width != srcRect.x + srcRect.width) {", "+\t\t\t\t\t\tdamage.x = srcRect.x + visibleRect.width + deltaX;", "+\t\t\t\t\t\tdamage.y = srcRect.y + deltaY;", "+\t\t\t\t\t\tdamage.width = srcRect.width - visibleRect.width;", "+\t\t\t\t\t\tdamage.height = srcRect.height;", "+\t\t\t\t\t\tview.setNeedsDisplayInRect(damage);", "+\t\t\t\t\t}", "+\t\t\t\t\tif (visibleRect.y != srcRect.y) {", "+\t\t\t\t\t\tdamage.x = visibleRect.x + deltaX;", "+\t\t\t\t\t\tdamage.y = srcRect.y + deltaY;", "+\t\t\t\t\t\tdamage.width = visibleRect.width;", "+\t\t\t\t\t\tdamage.height = visibleRect.y - srcRect.y;", "+\t\t\t\t\t\tview.setNeedsDisplayInRect(damage);", "+\t\t\t\t\t}", "+\t\t\t\t\tif (visibleRect.y + visibleRect.height != srcRect.y + srcRect.height) {", "+\t\t\t\t\t\tdamage.x = visibleRect.x + deltaX;", "+\t\t\t\t\t\tdamage.y = visibleRect.y + visibleRect.height + deltaY;", "+\t\t\t\t\t\tdamage.width = visibleRect.width;", "+\t\t\t\t\t\tdamage.height = srcRect.y + srcRect.height - (visibleRect.y + visibleRect.height);", "+\t\t\t\t\t\tview.setNeedsDisplayInRect(damage);", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t}"]}], "num": 4212}