{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a9511ebb5b4a67c50bfb7b543412b0b1", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "460fa7df4e0e1da13e48d52dbba367a3", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/EncodingTests.java", "commitBeforeChange": "b56e158886e2aa788170d58a91d156aead978bb2", "commitAfterChange": "49293b1e00b2d634f6e8ca0ca2462907a22f935a", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 25, "signatureBeforeChange": " \tpublic void testBug66898() throws JavaModelException, CoreException, UnsupportedEncodingException", "signatureAfterChange": " \tpublic void testBug66898() throws JavaModelException, CoreException, UnsupportedEncodingException", "diff": ["-\t\t", "-\t\t// Move file", "+\t\t", "+\t\t// Move file", "-\t\tString source = destSource.getSource();", "-\t\tString systemSource = org.eclipse.jdt.core.tests.util.Util.convertToIndependantLineDelimiter(source);", "-\t\tString encodedContents = new String (Util.getResourceContentsAsCharArray(destFile));", "-\t\tencodedContents = org.eclipse.jdt.core.tests.util.Util.convertToIndependantLineDelimiter(encodedContents);", "-\t\tassertEquals(\"Encoded UTF-8 source should have been decoded the same way!\", encodedContents, systemSource);", "-\t\tbyte[] sourceBytes = source.getBytes(encoding);", "-\t\tbyte[] encodedBytes = Util.getResourceContentsAsByteArray(destFile);", "-\t\tassertEquals(\"Wrong size of encoded string\", encodedBytes.length, sourceBytes.length);", "-\t\tfor (int i = 0, max = sourceBytes.length; i < max; i++) {", "-\t\t\tassertTrue(\"Wrong size of encoded character at \" + i, sourceBytes[i] == encodedBytes[i]);", "-\t\t}", "+\t\tcompareContents(destSource, encoding);", "-\t\tString sourceRenamed = renamedSource.getSource();", "-\t\tString systemSourceRenamed = org.eclipse.jdt.core.tests.util.Util.convertToIndependantLineDelimiter(sourceRenamed);", "-\t\tString renamedContents = new String (Util.getResourceContentsAsCharArray(renamedFile));", "-\t\trenamedContents = org.eclipse.jdt.core.tests.util.Util.convertToIndependantLineDelimiter(renamedContents);", "-\t\tassertEquals(\"Encoded UTF-8 source should have been decoded the same way!\", renamedContents, systemSourceRenamed);", "-\t\tbyte[] renamedSourceBytes = sourceRenamed.getBytes(encoding);", "-\t\tbyte[] renamedEncodedBytes = Util.getResourceContentsAsByteArray(renamedFile);", "-\t\tassertEquals(\"Wrong size of encoded string\", renamedEncodedBytes.length, renamedSourceBytes.length);", "-\t\tfor (int i = 0, max = renamedSourceBytes.length; i < max; i++) {", "-\t\t\tassertTrue(\"Wrong size of encoded character at \" + i, renamedSourceBytes[i] == renamedEncodedBytes[i]);", "-\t\t}", "+\t\tcompareContents(renamedSource, encoding);", "+\t\tdeleteFolder(\"/Encoding/src/tmp\");"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "61035cd909692e1822c3dbbb81727c9b", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/EncodingTests.java", "commitBeforeChange": "42f61a276ba7d1e6da8e4e7be639a302682158f7", "commitAfterChange": "51ef1f3e636c416c08f983016f64f795f2b9cc74", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "  \tvoid compareContents(ICompilationUnit cu, String encoding) throws JavaModelException", "signatureAfterChange": "  \tvoid compareContents(ICompilationUnit cu, String encoding) throws JavaModelException", "diff": ["+\t\tcompareContents(cu, encoding, false);", "+\t}", "-\t\tassertEquals(\"Wrong size of encoded string\", renamedEncodedBytes.length, renamedSourceBytes.length);", "-\t\t\tassertTrue(\"Wrong size of encoded character at \" + i, renamedSourceBytes[i] == renamedEncodedBytes[i]);"]}], "num": 12464}