{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "51087ee9676a154bbb56b55c4339cd4a", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "336d4733955cdb65a2cb912b5dd6b7b5", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/VariableBinding.java", "commitBeforeChange": "f95e58c822d23fa71cf6c6e2ac3adce80f07a42f", "commitAfterChange": "1c5093c74409d802b34134e981077f69adbcd0bf", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "  \tprivate JavaElement getUnresolvedJavaElement()", "signatureAfterChange": "  \tprivate JavaElement getUnresolvedJavaElement()", "diff": ["-\t\tIMethodBinding declaringMethod = getDeclaringMethod();", "-\t\tif (declaringMethod == null) return null;", "-\t\tJavaElement method = (JavaElement) declaringMethod.getJavaElement();", "-\t\tif (method == null) return null;", "+\t\tint sourceEnd = sourceStart+sourceLength-1;", "-\t\treturn new LocalVariable(method, localVar.getName().getIdentifier(), sourceStart, sourceStart+sourceLength-1, nameStart, nameStart+nameLength-1, new String(typeSig), ((LocalVariableBinding) this.binding).declaration.annotations);", "+\t\tJavaElement parent = null;", "+\t\tIMethodBinding declaringMethod = getDeclaringMethod();", "+\t\tif (declaringMethod == null) {", "+\t\t\tReferenceContext referenceContext = ((LocalVariableBinding) binding).declaringScope.referenceContext();", "+\t\t\tif (referenceContext instanceof TypeDeclaration){", "+\t\t\t\t// Local variable is declared inside an initializer", "+\t\t\t\tTypeDeclaration typeDeclaration = (TypeDeclaration) referenceContext;", "+\t\t\t\tJavaElement typeHandle = null;", "+\t\t\t\tif (this.resolver instanceof DefaultBindingResolver) {", "+\t\t\t\t\tDefaultBindingResolver defaultBindingResolver = (DefaultBindingResolver) this.resolver;", "+\t\t\t\t\ttypeHandle = Util.getUnresolvedJavaElement(", "+\t\t\t\t\t\ttypeDeclaration.binding,", "+\t\t\t\t\t\tdefaultBindingResolver.workingCopyOwner,", "+\t\t\t\t\t\tdefaultBindingResolver.getBindingsToNodesMap());", "+\t\t\t\t} else {", "+\t\t\t\t\ttypeHandle = Util.getUnresolvedJavaElement(typeDeclaration.binding, null, null);", "+\t\t\t\t}", "+\t\t\t\tparent = Util.getUnresolvedJavaElement(sourceStart, sourceEnd, typeHandle);", "+\t\t\t} else {", "+\t\t\t\treturn null;", "+\t\t\t}", "+\t\t} else {", "+\t\t\tparent = (JavaElement) declaringMethod.getJavaElement();", "+\t\t}", "+\t\tif (parent == null) return null;", "+\t\treturn new LocalVariable(parent, localVar.getName().getIdentifier(), sourceStart, sourceEnd, nameStart, nameStart+nameLength-1, new String(typeSig), ((LocalVariableBinding) this.binding).declaration.annotations);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5d13acc9a0033bb350907d91f29e90ba", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/VariableBinding.java", "commitBeforeChange": "0de5167791884524f72d9d44c10f0e243af65d00", "commitAfterChange": "07ab76f69fbeeb2f2fd54cdf3d01ee69344b9ae0", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "  \tprivate JavaElement getUnresolvedJavaElement()", "signatureAfterChange": "  \tprivate JavaElement getUnresolvedJavaElement()", "diff": ["+\t\tif (JavaCore.getPlugin() == null) {", "+\t\t\treturn null;", "+\t\t}", "+\t\t\t\tif (!defaultBindingResolver.fromJavaProject) return null;", "-\t\t\t} else {", "-\t\t\t\treturn Util.getUnresolvedJavaElement((FieldBinding) this.binding, null, null);", "+\t\t\treturn null;", "-\t\tVariableDeclaration localVar = (VariableDeclaration) ((DefaultBindingResolver) this.resolver).bindingsToAstNodes.get(this);", "+\t\tDefaultBindingResolver defaultBindingResolver = (DefaultBindingResolver) this.resolver;", "+\t\tif (!defaultBindingResolver.fromJavaProject) return null;", "+\t\tVariableDeclaration localVar = (VariableDeclaration) defaultBindingResolver.bindingsToAstNodes.get(this);", "-\t\t\t\tif (this.resolver instanceof DefaultBindingResolver) {", "-\t\t\t\t\tDefaultBindingResolver defaultBindingResolver = (DefaultBindingResolver) this.resolver;", "-\t\t\t\t\ttypeHandle = Util.getUnresolvedJavaElement(", "-\t\t\t\t\t\ttypeDeclaration.binding,", "-\t\t\t\t\t\tdefaultBindingResolver.workingCopyOwner,", "-\t\t\t\t\t\tdefaultBindingResolver.getBindingsToNodesMap());", "-\t\t\t\t} else {", "-\t\t\t\t\ttypeHandle = Util.getUnresolvedJavaElement(typeDeclaration.binding, null, null);", "-\t\t\t\t}", "+\t\t\t\ttypeHandle = Util.getUnresolvedJavaElement(", "+\t\t\t\t\ttypeDeclaration.binding,", "+\t\t\t\t\tdefaultBindingResolver.workingCopyOwner,", "+\t\t\t\t\tdefaultBindingResolver.getBindingsToNodesMap());"]}], "num": 72544}