{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "c1f9e6a22a86a45e5110097c29e892cd", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9377870e3f7a3f60c95717ce7768e567", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/AnnotationProcessorFactoryLoader.java", "commitBeforeChange": "f1d83e37dc72ba6d2676594fd1c64161817b3d74", "commitAfterChange": "50c8fc7c21507137e2b63d15c742a120cb954eef", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 15, "signatureBeforeChange": " \tprivate ClassLoader _createIterativeClassLoader( Map<FactoryContainer, FactoryPath.Attributes> containers )", "signatureAfterChange": " \tprivate ClassLoader _createIterativeClassLoader( Map<FactoryContainer, FactoryPath.Attributes> containers )", "diff": ["-\t\tArrayList<URL> urlList = new ArrayList<URL>( containers.size() );", "+\t\tArrayList<File> fileList = new ArrayList<File>( containers.size() );", "-\t\t\t\ttry", "-\t\t\t\t{", "-\t\t\t\t\tJarFactoryContainer jfc = (JarFactoryContainer)fc;", "-\t\t\t\t\tURL u = jfc.getJarFileURL();", "-\t\t\t\t\turlList.add( u );", "-\t\t\t\t}", "-\t\t\t\tcatch ( MalformedURLException mue )", "-\t\t\t\t{", "-\t\t\t\t\tAptPlugin.log(mue, \"Could not create ClassLoader for \" + fc); //$NON-NLS-1$", "-\t\t\t\t}", "+\t\t\t\tJarFactoryContainer jfc = (JarFactoryContainer)fc;", "+\t\t\t\tfileList.add( jfc.getJarFile() );", "-\t\tif ( urlList.size() > 0 ) {", "-\t\t\tURL[] urls = urlList.toArray(new URL[urlList.size()]);", "-\t\t\tcl = new URLClassLoader( urls, AnnotationProcessorFactoryLoader.class.getClassLoader() );", "+\t\tif ( fileList.size() > 0 ) {", "+\t\t\tcl = new JarClassLoader( fileList, AnnotationProcessorFactoryLoader.class.getClassLoader() );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "97e57935491f7c4d93e56194b56b0aa9", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/AnnotationProcessorFactoryLoader.java", "commitBeforeChange": "f1d83e37dc72ba6d2676594fd1c64161817b3d74", "commitAfterChange": "50c8fc7c21507137e2b63d15c742a120cb954eef", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 16, "signatureBeforeChange": " \t \tprivate ClassLoader _createBatchClassLoader(  \t\t\tMap<FactoryContainer, FactoryPath.Attributes> containers,  \t\t\tClassLoader iterativeClassLoader)", "signatureAfterChange": " \t \tprivate void _createBatchClassLoader(  \t\t\tMap<FactoryContainer, FactoryPath.Attributes> containers,  \t\t\tClassLoader iterativeClassLoader)", "diff": ["-\tprivate ClassLoader _createBatchClassLoader( ", "+\tprivate void _createBatchClassLoader( ", "-\t\tArrayList<URL> urlList = new ArrayList<URL>( containers.size() );", "+\t\tassert _batchClassLoader == null : \"Previous batch classloader was non-null -- it was not closed\"; //$NON-NLS-1$", "+\t\t", "+\t\tArrayList<File> fileList = new ArrayList<File>( containers.size() );", "-\t\t\t\ttry", "-\t\t\t\t{", "-\t\t\t\t\tJarFactoryContainer jfc = (JarFactoryContainer)fc;", "-\t\t\t\t\tURL u = jfc.getJarFileURL();", "-\t\t\t\t\turlList.add( u );", "-\t\t\t\t}", "-\t\t\t\tcatch ( MalformedURLException mue )", "-\t\t\t\t{", "-\t\t\t\t\tAptPlugin.log(mue, \"Could not create ClassLoader for \" + fc); //$NON-NLS-1$", "-\t\t\t\t}", "+\t\t\t\t", "+\t\t\t\tJarFactoryContainer jfc = (JarFactoryContainer)fc;", "+\t\t\t\tFile f = jfc.getJarFile();", "+\t\t\t\tfileList.add( f );", "+\t\t\t\t", "-\t\tClassLoader cl;", "-\t\tif ( urlList.size() > 0 ) {", "-\t\t\tURL[] urls = urlList.toArray(new URL[urlList.size()]);", "-\t\t\t// This needs to be a child of the iterative class loader", "-\t\t\tcl = new URLClassLoader( urls, iterativeClassLoader );", "+\t\tif ( fileList.size() > 0 ) {", "+\t\t\t_batchClassLoader = new JarClassLoader( fileList, iterativeClassLoader );", "-\t\t\tcl = iterativeClassLoader;", "-\t\t}", "-\t\treturn cl;", "-\t\t", "+\t\t\t// No batch classloader", "+\t\t\t_batchClassLoader = null;", "+\t\t}\t\t"]}], "num": 71517}