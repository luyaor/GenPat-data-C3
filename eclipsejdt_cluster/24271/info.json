{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "7e4f10483daf72a0e4c4851a2eb69b72", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d1c9f37a9b7d53a83e10f5461a6e8ba5", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/AbstractRegressionTest.java", "commitBeforeChange": "9cba04f18d30e225a9b07e674615bf0c81dc9b5f", "commitAfterChange": "d59541eb58af959f3a88200970206c2ba05248de", "methodNumberBeforeChange": 32, "methodNumberAfterChange": 34, "signatureBeforeChange": " \t\tprivate JavacHasABug(int mismatchType, int[] minorsFixed)", "signatureAfterChange": " \t\t\t\t\t\t\tExcuse excuseFor(JavacCompiler compiler)", "diff": ["-\t\tprivate JavacHasABug(int mismatchType, int[] minorsFixed) {", "-\t\t\tsuper(mismatchType);", "-\t\t\tthis.minorsFixed = minorsFixed;", "-\t\t}", "+\t\t\t\t\t\tMismatchType.JavacErrorsEclipseNone) {", "+\t\t\t\t\t\t\tExcuse excuseFor(JavacCompiler compiler) {", "+\t\t\t\t\t\t\t\treturn compiler.compliance != ClassFileConstants.JDK1_5 ||", "+\t\t\t\t\t\t\t\t\t\tcompiler.minor != 1600 ? null : this;", "+\t\t\t\t\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f6f5d162ba4d2e90b7631f3185485445", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/Scribe.java", "commitBeforeChange": "917603919e9d38772fd63709feb3bbda7696f523", "commitAfterChange": "fca5fd453024a315e76f840acd34b846e15423bf", "methodNumberBeforeChange": 63, "methodNumberAfterChange": 67, "signatureBeforeChange": "  \tprivate int printJavadocHtmlTag(FormatJavadocText text, FormatJavadocBlock block)", "signatureAfterChange": "  \tprivate int printJavadocHtmlTag(FormatJavadocText text, FormatJavadocBlock block)", "diff": ["-\t\tboolean textOnNewLine = (block.isParamTag() && this.formatter.preferences.comment_insert_new_line_for_parameter) || !block.hasTextOnTagLine();", "-\t    int tagCategory =  text.getHtmlTagID();", "+\t\tboolean textOnNewLine = (text == block.nodes[0] && ((block.isParamTag() && this.formatter.preferences.comment_insert_new_line_for_parameter) || !block.hasTextOnTagLine())) || text.linesBefore > 0;", "+\t    int htmlTagID = text.getHtmlTagID();", "-\t    if (tagCategory != JAVADOC_SINGLE_BREAK_TAG_ID) {", "+\t    boolean isBreak = htmlTagID == JAVADOC_SINGLE_BREAK_TAG_ID;", "+\t\tif (!isBreak) {", "-\t\t\tboolean isCode = tagCategory == JAVADOC_CODE_TAGS_ID;", "-\t\t\tfor (int i=0, ptr=0; i<=max ; i++) {", "+\t\t\tboolean isCode = htmlTagID == JAVADOC_CODE_TAGS_ID;", "+\t\t\tfor (int idx=0, ptr=0; idx<=max || (text.htmlNodesPtr != -1 && ptr <= text.htmlNodesPtr); idx++) {", "-\t\t\t\tint end = (int) (text.separators[i] >>> 32);", "+\t\t\t\tint end = (idx > max) ? text.sourceEnd : (int) (text.separators[idx] >>> 32);", "+\t\t\t\t\tif (idx > max)  {", "+\t\t\t\t\t\treturn linesAfter;", "+\t\t\t\t\t}", "-\t\t\t\t\tif (i > 0 && linesAfter > 0) {", "+\t\t\t\t\tif (idx > 0 && linesAfter > 0) {", "-\t\t\t\t\tprintJavadocTextLine(buffer, nextStart, end, block, i==1/*first text?*/, needIndentation, i==0/* opening html tag?*/);", "-\t\t\t\t    if (i==0 && tagCategory == JAVADOC_SEPARATOR_TAGS_ID) {", "-\t\t\t\t    \tlinesAfter = 1;", "-\t\t\t\t\t} else {", "-\t\t\t\t\t\tlinesAfter = 0;", "+\t\t\t\t\tif (idx > 0) {", "+\t\t\t\t\t\tif (!needIndentation && (text.htmlIndexes[idx-1] & JAVADOC_TAGS_ID_MASK) == JAVADOC_SEPARATOR_TAGS_ID) {", "+\t\t\t\t\t\t\tneedIndentation = true;", "+\t\t\t\t\t\t}", "+\t\t\t\t\tprintJavadocTextLine(buffer, nextStart, end, block, idx==1/*first text?*/, needIndentation, idx==0/* opening html tag?*/ || text.htmlIndexes[idx-1] != -1);", "+\t\t\t\t\tlinesAfter = 0;", "+\t\t\t\t    if (idx==0) {", "+\t\t\t\t    \tif (htmlTagID == JAVADOC_SEPARATOR_TAGS_ID) {", "+\t\t\t\t\t    \tlinesAfter = 1;", "+\t\t\t\t\t    }", "+\t\t\t\t\t} else if (text.htmlIndexes[idx-1] == JAVADOC_SINGLE_BREAK_TAG_ID) {", "+\t\t\t\t    \tlinesAfter = 1;", "+\t\t\t\t    }", "-\t\t\t\tnextStart = (int) text.separators[i];", "-\t\t\t\tif (!clearBlankLines && (wasHtmlTag || i==0 || i==max)) {", "-\t\t\t\t\tint endLine = Util.getLineNumber(end, this.lineEnds, startLine-1, this.maxLines);", "-\t\t\t\t\tstartLine = Util.getLineNumber(nextStart, this.lineEnds, endLine-1, this.maxLines);", "-\t\t\t\t\tif (linesAfter < (startLine - endLine)) {", "-\t\t\t\t\t\tlinesAfter = startLine - endLine;", "+\t\t\t\tnextStart = (int) text.separators[idx];", "+\t\t\t\tint endLine = Util.getLineNumber(end, this.lineEnds, startLine-1, this.maxLines);", "+\t\t\t\tstartLine = Util.getLineNumber(nextStart, this.lineEnds, endLine-1, this.maxLines);", "+\t\t\t\tint linesGap = startLine - endLine;", "+\t\t\t\tif (linesGap > 0) {", "+\t\t\t\t\tif (clearBlankLines) {", "+\t\t\t\t\t\t// keep previously computed lines after", "+\t\t\t\t\t} else {", "+\t\t\t\t\t\tif (wasHtmlTag || idx==0 || (idx==max && ((text.htmlIndexes[max] & JAVADOC_TAGS_ID_MASK) == htmlTagID))) {", "+\t\t\t\t\t\t\tif (linesAfter < linesGap) {", "+\t\t\t\t\t\t\t\tlinesAfter = linesGap;", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t}", "+\t\t\t\ttextOnNewLine = linesAfter > 0;", "+\t    boolean closingTag = isBreak || (text.htmlIndexes != null && (text.htmlIndexes[max] & JAVADOC_TAGS_ID_MASK) == htmlTagID);", "-\t\t    if (max > 0 && tagCategory == JAVADOC_SEPARATOR_TAGS_ID) {", "+\t\t    if (max > 0 && htmlTagID == JAVADOC_SEPARATOR_TAGS_ID && closingTag) {", "-\t\t\t\tint newLines = linesAfter;", "-//\t\t\t\tif (newLines > 1 && clearBlankLines) newLines = 1;", "-\t\t\t\tprintJavadocGapLines(previousEnd+1, nextStart-1, newLines, clearBlankLines, false, buffer);", "+\t\t\t\tprintJavadocGapLines(previousEnd+1, nextStart-1, linesAfter, clearBlankLines, false, buffer);", "+\t\t\t\ttextOnNewLine = true;", "-\t\tboolean needIndentation = buffer.length() == 0 && textOnNewLine;", "-\t\tprintJavadocTextLine(buffer, nextStart, text.sourceEnd, block, false /*not the first text*/, needIndentation, true/* closing html tag*/);", "+\t\tboolean needIndentation = textOnNewLine;", "+\t\tif (!needIndentation && !isBreak && text.htmlIndexes != null && (text.htmlIndexes[max] & JAVADOC_TAGS_ID_MASK) == JAVADOC_SEPARATOR_TAGS_ID) {", "+\t\t\tneedIndentation = true;", "+\t\t}", "+\t\tprintJavadocTextLine(buffer, nextStart, text.sourceEnd, block, max<=0 /*not the first text*/, needIndentation, closingTag/* closing html tag*/);", "-\t    if (max > 0 && tagCategory == JAVADOC_SEPARATOR_TAGS_ID) {", "+\t    if (max > 0 && htmlTagID == JAVADOC_SEPARATOR_TAGS_ID) {"]}], "num": 24271}