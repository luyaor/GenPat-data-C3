{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f1ecc5204841236a1b29a09a95dc0dc2", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "01e07018ef97c07b68c8048141bc2316", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/ConstantPool.java", "commitBeforeChange": "9275c96ab9e7e5e5f780672ec67bf57a1eb2d42e", "commitAfterChange": "437ac0488c92b5c24e88567c6caa0b204b0064ba", "methodNumberBeforeChange": 67, "methodNumberAfterChange": 18, "signatureBeforeChange": " public int literalIndexForJavaLangSystem()", "signatureAfterChange": " public int literalIndexForType(final char[] constantPoolName)", "diff": ["+public int literalIndexForType(final char[] constantPoolName) {", "+\tif ((index = classCache.get(constantPoolName)) < 0) {", "+\t\t// The entry doesn't exit yet", "+\t\tint nameIndex = literalIndex(constantPoolName);", "+\t\tindex = classCache.put(constantPoolName, currentIndex++);", "+\t\tif (index > 0xFFFF){", "+\t\t\tthis.classFile.referenceBinding.scope.problemReporter().noMoreAvailableSpaceInConstantPool(this.classFile.referenceBinding.scope.referenceType());", "+\t\t}", "+\t\twriteU1(ClassTag);", "+\t\t// Then add the 8 bytes representing the long", "+\t\twriteU2(nameIndex);", "+\t}", "+\treturn index;", "+}", "- */", "-public int literalIndexForJavaLangSystem() {", "-\tint index;", "-\tif ((index = wellKnownTypes[JAVA_LANG_SYSTEM_TYPE]) == 0) {", "-\t\tint nameIndex;", "-\t\t// The entry doesn't exit yet", "-\t\tnameIndex = literalIndex(QualifiedNamesConstants.JavaLangSystemConstantPoolName);", "-\t\tindex = wellKnownTypes[JAVA_LANG_SYSTEM_TYPE] = currentIndex++;", "-\t\tif (index > 0xFFFF){", "-\t\t\tthis.classFile.referenceBinding.scope.problemReporter().noMoreAvailableSpaceInConstantPool(this.classFile.referenceBinding.scope.referenceType());", "-\t\t}", "-\t\twriteU1(ClassTag);", "-\t\t// Then add the 8 bytes representing the long", "-\t\twriteU2(nameIndex);", "-\t}", "-\treturn index;", "-}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "35acd35669157034bb78debccfa474a6", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/ConstantPool.java", "commitBeforeChange": "9275c96ab9e7e5e5f780672ec67bf57a1eb2d42e", "commitAfterChange": "437ac0488c92b5c24e88567c6caa0b204b0064ba", "methodNumberBeforeChange": 49, "methodNumberAfterChange": 21, "signatureBeforeChange": " public int literalIndexForJavaLangShort()", "signatureAfterChange": " private int literalIndexForMethod(char[] selector, char[] signature)", "diff": ["+}", "+private int literalIndexForMethod(char[] selector, char[] signature) {", "+\tint index = getFromNameAndTypeCache(selector, signature);", "+\tif (index == -1) {", "+\t\t// The entry doesn't exit yet", "+\t\tint nameIndex = literalIndex(selector);", "+\t\tint typeIndex = literalIndex(signature);", "+\t\tindex = putInNameAndTypeCache(selector, signature, currentIndex++);", "+\t\tif (index > 0xFFFF){", "+\t\t\tthis.classFile.referenceBinding.scope.problemReporter().noMoreAvailableSpaceInConstantPool(this.classFile.referenceBinding.scope.referenceType());", "+\t\t}", "+\t\twriteU1(NameAndTypeTag);", "+\t\twriteU2(nameIndex);", "+\t\twriteU2(typeIndex);", "+\t}", "+\treturn index;", "+}", "- */", "-public int literalIndexForJavaLangShort() {", "-\tint index;", "-\tif ((index = wellKnownTypes[JAVA_LANG_SHORT_TYPE]) == 0) {", "-\t\tint nameIndex;", "-\t\t// The entry doesn't exit yet", "-\t\tnameIndex = literalIndex(QualifiedNamesConstants.JavaLangShortConstantPoolName);", "-\t\tindex = wellKnownTypes[JAVA_LANG_SHORT_TYPE] = currentIndex++;", "-\t\tif (index > 0xFFFF){", "-\t\t\tthis.classFile.referenceBinding.scope.problemReporter().noMoreAvailableSpaceInConstantPool(this.classFile.referenceBinding.scope.referenceType());", "-\t\t}", "-\t\twriteU1(ClassTag);", "-\t\t// Then add the 8 bytes representing the long", "-\t\twriteU2(nameIndex);", "-\t}", "-\treturn index;", "-}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c85b0ea158790a735ad031536aadcb30", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/ConstantPool.java", "commitBeforeChange": "9275c96ab9e7e5e5f780672ec67bf57a1eb2d42e", "commitAfterChange": "437ac0488c92b5c24e88567c6caa0b204b0064ba", "methodNumberBeforeChange": 39, "methodNumberAfterChange": 19, "signatureBeforeChange": " public int literalIndexForJavaLangLong()", "signatureAfterChange": " public int literalIndexForMethod(char[] declaringClass, char[] selector, char[] signature, boolean isInterface)", "diff": ["+}", "+public int literalIndexForMethod(char[] declaringClass, char[] selector, char[] signature, boolean isInterface) {", "+\tint index = getFromCache(declaringClass, selector, signature);", "+\tif (index == -1) {", "+\t\tint classIndex;", "+\t\tif ((classIndex = classCache.get(declaringClass)) < 0) {", "+\t\t\tint nameIndex = literalIndex(declaringClass);", "+\t\t\tclassIndex = classCache.put(declaringClass, this.currentIndex++);", "+\t\tint nameAndTypeIndex = literalIndexForMethod(selector, signature);", "+\t\tindex = putInCache(declaringClass, selector, signature, currentIndex++);", "+\t\tif (index > 0xFFFF){", "+\t\t\tthis.classFile.referenceBinding.scope.problemReporter().noMoreAvailableSpaceInConstantPool(this.classFile.referenceBinding.scope.referenceType());", "+\t\t}", "+\t\t// Write the interface method ref constant into the constant pool", "+\t\t// First add the tag", "+\t\twriteU1(isInterface ? InterfaceMethodRefTag : MethodRefTag);", "+\t\t// Then write the class index", "+\t\twriteU2(classIndex);", "+\t\t// The write the nameAndType index", "+\t\twriteU2(nameAndTypeIndex);\t\t", "+\t}", "+\treturn index;", "+}", "- */", "-public int literalIndexForJavaLangLong() {", "-\tint index;", "-\tif ((index = wellKnownTypes[JAVA_LANG_LONG_TYPE]) == 0) {", "-\t\tint nameIndex;", "-\t\t// The entry doesn't exit yet", "-\t\tnameIndex = literalIndex(QualifiedNamesConstants.JavaLangLongConstantPoolName);", "-\t\tindex = wellKnownTypes[JAVA_LANG_LONG_TYPE] = currentIndex++;", "-\t\tif (index > 0xFFFF){", "-\t\t\tthis.classFile.referenceBinding.scope.problemReporter().noMoreAvailableSpaceInConstantPool(this.classFile.referenceBinding.scope.referenceType());", "-\t\t}", "-\t\twriteU1(ClassTag);", "-\t\t// Then add the 8 bytes representing the long", "-\t\twriteU2(nameIndex);", "-\t}", "-\treturn index;", "-}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "db847bb833e3563c8b1dc4122db1a0bf", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/ConstantPool.java", "commitBeforeChange": "9275c96ab9e7e5e5f780672ec67bf57a1eb2d42e", "commitAfterChange": "437ac0488c92b5c24e88567c6caa0b204b0064ba", "methodNumberBeforeChange": 52, "methodNumberAfterChange": 20, "signatureBeforeChange": " public int literalIndexForJavaUtilIterator()", "signatureAfterChange": " private int literalIndexForField(char[] name, char[] signature)", "diff": ["+}", "+private int literalIndexForField(char[] name, char[] signature) {", "+\tint index = getFromNameAndTypeCache(name, signature);", "+\tif (index == -1) {", "+\t\t// The entry doesn't exit yet", "+\t\tint nameIndex = literalIndex(name);", "+\t\tint typeIndex = literalIndex(signature);", "+\t\tindex = putInNameAndTypeCache(name, signature, currentIndex++);", "+\t\tif (index > 0xFFFF){", "+\t\t\tthis.classFile.referenceBinding.scope.problemReporter().noMoreAvailableSpaceInConstantPool(this.classFile.referenceBinding.scope.referenceType());", "+\t\t}", "+\t\twriteU1(NameAndTypeTag);", "+\t\twriteU2(nameIndex);", "+\t\twriteU2(typeIndex);", "+\t}", "+\treturn index;", "+}", "- */", "-public int literalIndexForJavaUtilIterator() {", "-\tint index;", "-\tif ((index = wellKnownTypes[JAVA_UTIL_ITERATOR_TYPE]) == 0) {", "-\t\tint nameIndex;", "-\t\t// The entry doesn't exit yet", "-\t\tnameIndex = literalIndex(QualifiedNamesConstants.JavaUtilIteratorConstantPoolName);", "-\t\tindex = wellKnownTypes[JAVA_UTIL_ITERATOR_TYPE] = currentIndex++;", "-\t\tif (index > 0xFFFF){", "-\t\t\tthis.classFile.referenceBinding.scope.problemReporter().noMoreAvailableSpaceInConstantPool(this.classFile.referenceBinding.scope.referenceType());", "-\t\t}", "-\t\twriteU1(ClassTag);", "-\t\t// Then add the 8 bytes representing the long", "-\t\twriteU2(nameIndex);", "-\t}", "-\treturn index;", "-}"]}], "num": 42320}