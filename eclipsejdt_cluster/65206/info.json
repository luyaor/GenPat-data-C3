{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f9a364b86f622d39152a3bf669074d45", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "797b86a26840ae0e204297e42cdca749", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/declaration/AnnotationValueImpl.java", "commitBeforeChange": "a3d873b0829375e0f0465ac99af6f9753248e839", "commitAfterChange": "2ed8d2842cd060fd2ed1992ac37d7e3f157e19c9", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 2, "signatureBeforeChange": "\r \t\r     public SourcePosition getPosition()", "signatureAfterChange": " \t     public SourcePosition getPosition()", "diff": ["-\t\r", "-    public SourcePosition getPosition()\r", "-    {\t\t\r", "-        final CompilationUnit unit = _annotated.getCompilationUnit();\r", "-        return new SourcePositionImpl(_expr.getStartPosition(),\r", "-\t\t\t\t\t\t\t\t\t  _expr.getLength(),\r", "-                                      unit.lineNumber(_expr.getStartPosition()),\r", "-                                      _annotated); \r", "-    }\r", "+\t", "+    public SourcePosition getPosition()", "+    {\t\t", "+\t\tfinal MirrorKind kind = _parent.kind();", "+\t\tASTNode astNode = null;", "+\t\tswitch(kind)", "+\t\t{", "+\t\tcase ANNOTATION_MIRROR:", "+\t\t\tfinal AnnotationMirrorImpl anno = (AnnotationMirrorImpl)_parent;", "+\t\t\tastNode = anno.getASTNodeForElement(_name);", "+\t\t\tbreak;", "+\t\tcase ANNOTATION_ELEMENT:", "+\t\t\tfinal AnnotationElementDeclarationImpl element = (AnnotationElementDeclarationImpl)_parent;", "+\t\t\tastNode = element.getAstNodeForDefault();\t\t\t", "+\t\tdefault:", "+\t\t\tthrow new IllegalStateException(); // should never reach this point.", "+\t\t}", "+\t\t// did not come from source.", "+\t\tif( astNode == null )", "+\t\t\treturn null;", "+\t\tif( _index >= 0 && astNode.getNodeType() == ASTNode.ARRAY_INITIALIZER ){", "+\t\t\tfinal ArrayInitializer arrayInit = (ArrayInitializer)astNode;", "+\t\t\tfinal List exprs = arrayInit.expressions();", "+\t\t\tif (exprs != null && _index < exprs.size() )", "+\t\t\t\tastNode = (ASTNode)exprs.get(_index);\t\t\t", "+\t\t}\t\t", "+\t\tif( astNode == null ) return null;", "+\t\t", "+        final CompilationUnit unit = getCompilationUnit();", "+\t\tif( unit == null ) return null;\t\t", "+        return new SourcePositionImpl(astNode.getStartPosition(),", "+\t\t\t\t\t\t\t\t\t  astNode.getLength(),", "+                                      unit.lineNumber(astNode.getStartPosition()),", "+                                      this);", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "96a53e0a0338e31e21af48929682cfe4", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.compiler.apt.tests/processors/org/eclipse/jdt/compiler/apt/tests/processors/messager/MessagerProc.java", "commitBeforeChange": "c658da8ee403c4a9726e31e0b3916361b6795525", "commitAfterChange": "bb6a78d249db719996651e9dce01af3d16d29c93", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": " \tprivate boolean collectElements()", "signatureAfterChange": " \tprivate boolean collectElements()", "diff": ["-/*\t\tList<? extends Element> enclosedElements = _elementE.getEnclosedElements();", "-\t\tloop : for (Element element : enclosedElements) {", "+\t\tList<? extends Element> enclosedElements = _elementE.getEnclosedElements();", "+\t\tfor (Element element : enclosedElements) {", "-\t\t\t\t\tif (element == null) continue loop;", "-\t\t\t\t\tif (\"foo\".equals(name)) {", "+\t\t\t\t\tif (\"foo\".equals(name) && _methodElement == null) {", "-\t\t\t\t\t\tbreak loop;", "+\t\t\t\t\t}", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase FIELD :", "+\t\t\t\t\tVariableElement variableElement = (VariableElement) element;", "+\t\t\t\t\tbuilder = new StringBuilder(variableElement.getSimpleName());", "+\t\t\t\t\tname = String.valueOf(builder);", "+\t\t\t\t\tif (\"j\".equals(name) && _variableElement == null) {", "+\t\t\t\t\t\t_variableElement = variableElement;", "-\t\t}*/", "+\t\t}", "+\t\t", "+\t\tif (_variableElement == null) {", "+\t\t\treportError(\"Element for field j could not be found\");", "+\t\t\treturn false;", "+\t\t}"]}], "num": 65206}