{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "27ff983b7c0a2d53d51e0826d66a5640", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "42ff4035ec4025435ef6bd2bef342e7c", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/StackMapFrameCodeStream.java", "commitBeforeChange": "17d4fac2e2145f81ae8773e6bd604f552ec24c76", "commitAfterChange": "8f4037084194a0a8c6b51e4ac889744e5d6e68a8", "methodNumberBeforeChange": 230, "methodNumberAfterChange": 234, "signatureBeforeChange": " public void optimizeBranch(int oldPosition, BranchLabel lbl)", "signatureAfterChange": " public void optimizeBranch(int oldPosition, BranchLabel lbl)", "diff": ["-\tif (lbl.forwardReferenceCount() > 0) {", "-\t\tStackMapFrame frame = this.frames;", "-\t\tloop: while (frame != null) {", "-\t\t\tif (frame.pc == oldPosition) {", "-\t\t\t\tframe.pc = this.position;", "-\t\t\t\tif (frame.prevFrame.pc == this.position) {", "-\t\t\t\t\t// remove the current frame", "-\t\t\t\t\tStackMapFrame prev = frame.prevFrame;", "-\t\t\t\t\tframe.prevFrame = null;", "-\t\t\t\t\tprev.nextFrame = null;", "-\t\t\t\t\tthis.frames = prev;", "-\t\t\t\t}", "-\t\t\t\tbreak loop;", "+\tint frameIndex = this.frames.size() - 1;", "+\tloop: while(frameIndex > 0) {", "+\t\tStackMapFrame frame = (StackMapFrame) this.frames.get(frameIndex);", "+\t\tif (frame.pc == oldPosition) {", "+\t\t\tif (this.framePositions.remove(new Integer(oldPosition))) {", "+\t\t\t\tthis.framePositions.add(new Integer(this.position));", "-\t\t}", "-\t} else {", "-\t\tStackMapFrame frame = this.frames;", "-\t\tloop: while (frame != null) {", "-\t\t\tif (frame.pc == oldPosition) {", "-\t\t\t\tif ((frame.tagBits & StackMapFrame.USED) != 0) {", "-\t\t\t\t\tframe.pc = this.position;", "-\t\t\t\t\tif (frame.prevFrame.pc == this.position) {", "-\t\t\t\t\t\t// remove the current frame", "-\t\t\t\t\t\tStackMapFrame prev = frame.prevFrame;", "-\t\t\t\t\t\tframe.prevFrame = null;", "-\t\t\t\t\t\tprev.nextFrame = null;", "-\t\t\t\t\t\tthis.frames = prev;", "-\t\t\t\t\t}", "-\t\t\t\t} else {", "-\t\t\t\t\t// we completely remove this entry if the prevFrame has the same position", "-\t\t\t\t\tStackMapFrame prev = frame.prevFrame;", "-\t\t\t\t\tframe.prevFrame = null;", "-\t\t\t\t\tprev.nextFrame = null;", "-\t\t\t\t\tthis.frames = prev;", "-\t\t\t\t}", "-\t\t\t\tbreak loop;", "+\t\t\tif (this.variablesModificationsPositions.remove(new Integer(oldPosition))) {", "+\t\t\t\tthis.variablesModificationsPositions.add(new Integer(this.position));", "+\t\t\tframe.pc = this.position;", "+\t\t\tStackMapFrame previousFrame = (StackMapFrame) this.frames.get(frameIndex - 1);", "+\t\t\tif (previousFrame.pc == this.position) {", "+\t\t\t\t// remove the current frame", "+\t\t\t\tthis.frames.set(frameIndex - 1, frame);", "+\t\t\t\tthis.frames.remove(frameIndex);", "+\t\t\t}", "+\t\t\tbreak loop;", "+\t\t} else if (frame.pc > oldPosition) {", "+\t\t\treturn;", "+\t\tframeIndex--;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5fecda3d91b39462a3600d127bdaf977", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/StackMapFrameCodeStream.java", "commitBeforeChange": "830277de86eee08c18b5e0da495c01b96cccdad2", "commitAfterChange": "a874c20c38675a0faf72bfd6c0cb69354f6ff3fb", "methodNumberBeforeChange": 234, "methodNumberAfterChange": 12, "signatureBeforeChange": " public void optimizeBranch(int oldPosition, BranchLabel lbl)", "signatureAfterChange": " public void optimizeBranch(int oldPosition, BranchLabel lbl)", "diff": ["-    super.optimizeBranch(oldPosition, lbl);", "-    int frameIndex = this.frames.size() - 1;", "-    loop: while(frameIndex > 0) {", "-        StackMapFrame frame = (StackMapFrame) this.frames.get(frameIndex);", "-        if (frame.pc == oldPosition) {", "-            if (this.framePositions.remove(new Integer(oldPosition))) {", "-                this.framePositions.add(new Integer(this.position));", "-            }", "-            if (this.variablesModificationsPositions.remove(new Integer(oldPosition))) {", "-                this.variablesModificationsPositions.add(new Integer(this.position));", "-            }", "-            frame.pc = this.position;", "-            StackMapFrame previousFrame = (StackMapFrame) this.frames.get(frameIndex - 1);", "-            if (previousFrame.pc == this.position) {", "-                // remove the current frame", "-                this.frames.set(frameIndex - 1, frame);", "-                this.frames.remove(frameIndex);", "-            }", "-            break loop;", "-        } else if (frame.pc > oldPosition) {", "-            return;", "-        }", "-        frameIndex--;", "-    }", "+\tsuper.optimizeBranch(oldPosition, lbl);", "+\tthis.removeFramePosition(oldPosition);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b0adfb4afe44c641827acf6f707b2d3e", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/declaration/ExecutableDeclarationImpl.java", "commitBeforeChange": "ef0604aef9ae504bcfc77425341e6baf6891cd21", "commitAfterChange": "b16439228426b14cb0612ff6650bc46c3d9f2a61", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "     public Collection<ParameterDeclaration> getParameters()", "signatureAfterChange": "     public Collection<ParameterDeclaration> getParameters()", "diff": ["-            return Collections.emptyList();", "-", "-        final List<ParameterDeclaration> result = new ArrayList<ParameterDeclaration>(paramTypes.length);", "-", "-        if( isFromSource() ){", "-", "-            for( int i=0; i<paramTypes.length; i++ ){", "-                final ITypeBinding type = paramTypes[i];", "-                final ParameterDeclaration param = new SourceParameterDeclarationImpl(this, type, i, _env);", "-                result.add(param);", "-            }", "-        }", "-        else{", "-            for( int i=0; i<paramTypes.length; i++ ){", "-                final ITypeBinding type = paramTypes[i];", "-                final ParameterDeclaration param = new BinaryParameterDeclarationImpl(this, type, i, _env);", "-                result.add(param);", "-            }", "+            return Collections.emptyList();        ", "+        final List<ParameterDeclaration> result = new ArrayList<ParameterDeclaration>(paramTypes.length);        ", "+        ", "+        for( int i=0; i<paramTypes.length; i++ ){", "+            final ITypeBinding type = paramTypes[i];", "+            final ParameterDeclaration param = Factory.createParameterDeclaration(this, i, type, _env);", "+            result.add(param);"]}], "num": 40424}