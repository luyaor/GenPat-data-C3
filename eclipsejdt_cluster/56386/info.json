{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "c994ea65234d2be342811dcaaacf7470", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d808549df3a35a844e226784886ef463", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/flow/NullInfoRegistry.java", "commitBeforeChange": "aa46ed677ee85f03d71a5e403b6a2449b883ffe1", "commitAfterChange": "c0de86876da4886baced9b3782c3e678b86d856e", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  public void markAsComparedEqualToNonNull(LocalVariableBinding local)", "signatureAfterChange": "  public void markAsComparedEqualToNonNull(LocalVariableBinding local)", "diff": ["-\tthis.tagBits |= NULL_FLAG_MASK;", "-\tint position;", "-\t// position is zero-based", "-\tif ((position = local.id + this.maxFieldCount) < BitCacheSize) {", "-\t\t// use bits", "-\t\tthis.nullAssignmentValueBit2 |= (1L << position);", "-\t} ", "-\telse {", "-\t\t// use extra vector", "-\t\tint vectorIndex = (position / BitCacheSize) - 1;", "-\t\tif (this.extra == null) {", "-\t\t\tint length = vectorIndex + 1;", "-\t\t\tthis.extra = new long[extraLength][];", "-\t\t\tfor (int j = 2 /* do not care about non null info */;", "-\t\t\t\t\tj < extraLength; j++) {", "-\t\t\t\tthis.extra[j] = new long[length];", "-\t\t\t}", "-\t\t}", "-\t\telse {", "-\t\t\tint oldLength;", "-\t\t\tif (vectorIndex >= (oldLength = this.extra[2].length)) {", "-\t\t\t\tint newLength = vectorIndex + 1;", "-\t\t\t\tfor (int j = 2 /* do not care about non null info */; ", "-\t\t\t\t\t\tj < extraLength; j++) {", "-\t\t\t\t\tSystem.arraycopy(this.extra[j], 0, ", "-\t\t\t\t\t\t(this.extra[j] = new long[newLength]), 0, ", "-\t\t\t\t\t\toldLength);", "+\t// protected from non-object locals in calling methods", "+\tif (this != DEAD_END) {", "+    \tthis.tagBits |= NULL_FLAG_MASK;", "+    \tint position;", "+    \t// position is zero-based", "+    \tif ((position = local.id + this.maxFieldCount) < BitCacheSize) { // use bits", "+    \t\t// set protected non null", "+    \t\tthis.nullBit1 |= (1L << position);", "+    \t\tif (coverageTestFlag && coverageTestId == 290) {", "+    \t\t  \tthis.nullBit1 = 0;", "+    \t\t}", "+    \t} ", "+    \telse {", "+    \t\t// use extra vector", "+\t\t\tint vectorIndex = (position / BitCacheSize) - 1;", "+\t\t\tif (this.extra == null) {", "+\t\t\t\tint length = vectorIndex + 1;", "+\t\t\t\tthis.extra = new long[extraLength][];", "+\t\t\t\tfor (int j = 2; j < extraLength; j++) {", "+\t\t\t\t\tthis.extra[j] = new long[length];", "+\t\t\t\t}", "+\t\t\t} ", "+\t\t\telse {", "+\t\t\t\tint oldLength; // might need to grow the arrays", "+\t\t\t\tif (vectorIndex >= (oldLength = this.extra[2].length)) {", "+\t\t\t\t\tfor (int j = 2; j < extraLength; j++) {", "+\t\t\t\t\t\tSystem.arraycopy(this.extra[j], 0, ", "+\t\t\t\t\t\t\t(this.extra[j] = new long[vectorIndex + 1]), 0, ", "+\t\t\t\t\t\t\toldLength);", "+\t\t\t\t\t}", "-\t\t}", "-\t\tthis.extra[5][vectorIndex] |= (1L << (position % BitCacheSize));", "+    \t\tthis.extra[2][vectorIndex] |= (1L << (position % BitCacheSize));", "+    \t\tif (coverageTestFlag && coverageTestId == 300) {", "+    \t\t  \tthis.extra[5][vectorIndex] = ~0;", "+    \t\t}", "+    \t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fdae6c25d9e211c8e6ecdbc0346d9af7", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/flow/NullInfoRegistry.java", "commitBeforeChange": "aa46ed677ee85f03d71a5e403b6a2449b883ffe1", "commitAfterChange": "c0de86876da4886baced9b3782c3e678b86d856e", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 4, "signatureBeforeChange": "  public void markAsDefinitelyNonNull(LocalVariableBinding local)", "signatureAfterChange": " public void markAsDefinitelyNull(LocalVariableBinding local)", "diff": ["-\tthis.tagBits |= NULL_FLAG_MASK;", "-\tint position;", "-\t// position is zero-based", "-\tif ((position = local.id + this.maxFieldCount) < BitCacheSize) {", "-\t\t// use bits", "-\t\tthis.nullAssignmentStatusBit2 |= (1L << position);", "-\t} ", "-\telse {", "-\t\t// use extra vector", "-\t\tint vectorIndex = (position / BitCacheSize) - 1;", "-\t\tif (this.extra == null) {", "-\t\t\tint length = vectorIndex + 1;", "-\t\t\tthis.extra = new long[extraLength][];", "-\t\t\tfor (int j = 2 /* do not care about non null info */; ", "-\t\t\t\t\tj < extraLength; j++) {", "-\t\t\t\tthis.extra[j] = new long[length];", "-\t\t\t}", "-\t\t}", "-\t\telse {", "-\t\t\tint oldLength;", "-\t\t\tif (vectorIndex >= (oldLength = this.extra[2].length)) {", "-\t\t\t\tint newLength = vectorIndex + 1;", "-\t\t\t\tfor (int j = 2 /* do not care about non null info */; ", "-\t\t\t\t\t\tj < extraLength; j++) {", "-\t\t\t\t\tSystem.arraycopy(this.extra[j], 0, ", "-\t\t\t\t\t\t(this.extra[j] = new long[newLength]), 0, ", "-\t\t\t\t\t\toldLength);", "-\t\t}", "-\t\tthis.extra[3][vectorIndex] |= (1L << (position % BitCacheSize));", "+// PREMATURE project protected non null onto something else", "+\t// protected from non-object locals in calling methods", "+\tif (this != DEAD_END) {", "+    \tthis.tagBits |= NULL_FLAG_MASK;", "+    \tint position;", "+    \t// position is zero-based", "+    \tif ((position = local.id + this.maxFieldCount) < BitCacheSize) { // use bits", "+    \t\t// set assigned null", "+    \t\tthis.nullBit2 |= (1L << position);", "+    \t\tif (coverageTestFlag && coverageTestId == 290) {", "+    \t\t  \tthis.nullBit1 = 0;", "+    \t\t}", "+    \t} ", "+    \telse {", "+    \t\t// use extra vector", "+\t\t\tint vectorIndex = (position / BitCacheSize) - 1;", "+\t\t\tif (this.extra == null) {", "+\t\t\t\tint length = vectorIndex + 1;", "+\t\t\t\tthis.extra = new long[extraLength][];", "+\t\t\t\tfor (int j = 2; j < extraLength; j++) {", "+\t\t\t\t\tthis.extra[j] = new long[length];", "+\t\t\t\t}", "+\t\t\t} ", "+\t\t\telse {", "+\t\t\t\tint oldLength; // might need to grow the arrays", "+\t\t\t\tif (vectorIndex >= (oldLength = this.extra[2].length)) {", "+\t\t\t\t\tfor (int j = 2; j < extraLength; j++) {", "+\t\t\t\t\t\tSystem.arraycopy(this.extra[j], 0, ", "+\t\t\t\t\t\t\t(this.extra[j] = new long[vectorIndex + 1]), 0, ", "+\t\t\t\t\t\t\toldLength);", "+\t\t\t\t\t}", "+    \t\tthis.extra[3][vectorIndex] |= (1L << (position % BitCacheSize));", "+    \t\tif (coverageTestFlag && coverageTestId == 300) {", "+    \t\t  \tthis.extra[5][vectorIndex] = ~0;", "+    \t\t}", "+    \t}"]}], "num": 56386}