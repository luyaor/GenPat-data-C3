{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8bcb03e75cc02a5ef614c2d867c18622", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "834efbb3fab95568bad1e32366d2dedf", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/AnnotationProcessorFactoryLoader.java", "commitBeforeChange": "9ea1cdb7f6499dc7c1092eeaa0da392a32816565", "commitAfterChange": "fb03590c09a39a7f190240bf883ad18bc23e5222", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "     public synchronized void resetBatchProcessors(IJavaProject javaProj)", "signatureAfterChange": "     public void resetBatchProcessors(IJavaProject javaProj)", "diff": ["-    public synchronized void resetBatchProcessors(IJavaProject javaProj) {", "+    public void resetBatchProcessors(IJavaProject javaProj) {", "-    \tMap<AnnotationProcessorFactory, Attributes> factories = _project2Java5Factories.get(javaProj);", "+    \t", "+    \tMap<AnnotationProcessorFactory, Attributes> factories;", "+\t\tMap<IServiceFactory, Attributes> java6factories;", "+\t\tsynchronized (cacheMutex) {", "+\t\t\tfactories = _project2Java5Factories.get(javaProj);", "+\t\t\tjava6factories = _project2Java6Factories.get(javaProj);", "+    \t}", "-    \t\tMap<IServiceFactory, Attributes> java6factories = _project2Java6Factories.get(javaProj);", "-    \t}", "-    \tif (batchProcsFound) {", "-    \t\t_project2Java5Factories.remove(javaProj);", "-    \t\t_project2Java6Factories.remove(javaProj);", "-    \t}", "+\t\t}", "-    \tClassLoader c = _batchLoaders.remove(javaProj);", "+\t\tClassLoader c;", "+\t\tsynchronized (cacheMutex) {", "+\t\t\tif (batchProcsFound) {", "+\t\t\t\t_project2Java5Factories.remove(javaProj);", "+\t\t\t\t_project2Java6Factories.remove(javaProj);", "+\t\t\t}", "+", "+\t\t\tc = _batchLoaders.remove(javaProj);", "+    \t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e4f2861d2009fd7585367522ba6393b7", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/AnnotationProcessorFactoryLoader.java", "commitBeforeChange": "98f970f58fc61208a8cdd52e3b9981ef32c5937b", "commitAfterChange": "29a8044fc706583901ff89364d428dff04f6a567", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "     public synchronized void resetBatchProcessors(IJavaProject javaProj)", "signatureAfterChange": "     public synchronized void resetBatchProcessors(IJavaProject javaProj)", "diff": ["-    \t// Only need to do a reset if we have batch processors", "-    \tMap<AnnotationProcessorFactory, Attributes> factories = _project2Factories.get(javaProj);", "-    \tif (factories == null) {", "-    \t\t// Already empty", "-    \t\treturn;", "+    \tIterable<Attributes> attrs = null;", "+    \tMap<AnnotationProcessorFactory, Attributes> factories = _project2Java5Factories.get(javaProj);", "+    \tif (factories != null) {", "+    \t\tattrs = factories.values();", "+    \t}", "+    \telse {", "+    \t\tMap<IServiceFactory, Attributes> java6factories = _project2Java6Factories.get(javaProj);", "+    \t\tif (java6factories != null) {", "+    \t\t\tattrs = java6factories.values();", "+    \t\t}", "+    \t\telse {", "+    \t\t\t// This project's factories have already been cleared.", "+    \t\t\treturn;", "+    \t\t}", "-    \tfor (Attributes attr : factories.values()) {", "+    \tfor (Attributes attr : attrs) {", "-    \t\t_project2Factories.remove(javaProj);", "+    \t\t_project2Java5Factories.remove(javaProj);", "+    \t\t_project2Java6Factories.remove(javaProj);"]}], "num": 11595}