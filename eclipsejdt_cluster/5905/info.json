{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9ff6fe6b724c9456c0717abf241ec656", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cae0198f4770e5ee804665a4d3238e5d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/BlockScope.java", "commitBeforeChange": "a966ab9bd6f1a46289abe3e77d65d881ca0ea764", "commitAfterChange": "ac87c661e83dcf7bccbf0b1cb889acd82f188015", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 11, "signatureBeforeChange": "\r \r public final void computeLocalVariablePositions(int offset, CodeStream codeStream)", "signatureAfterChange": "\r \r public final void computeLocalVariablePositions(int initOffset, CodeStream codeStream, ObjectVector returnAddresses)", "diff": ["-public final void computeLocalVariablePositions(int offset, CodeStream codeStream) {\r", "+\r", "+public final void computeLocalVariablePositions(int initOffset, CodeStream codeStream, ObjectVector returnAddresses) {\r", "+\r", "+\tthis.offset = initOffset;\r", "+\tthis.maxOffset = initOffset;\r", "+\t\r", "-\r", "+\t\r", "-\t\t\tif (subscopes[iscope] instanceof BlockScope)\r", "-\t\t\t\t((BlockScope) subscopes[iscope]).computeLocalVariablePositions(offset, codeStream);\r", "+\t\t\tif (subscopes[iscope] instanceof BlockScope) {\r", "+\t\t\t\tBlockScope subscope = (BlockScope) subscopes[iscope];\r", "+\t\t\t\tint subOffset = subscope.shiftScope == null ? this.offset : subscope.shiftScope.offset;\r", "+\t\t\t\tsubscope.computeLocalVariablePositions(subOffset, codeStream, returnAddresses);\r", "+\t\t\t\tif (subscope.maxOffset > this.maxOffset) this.maxOffset = subscope.maxOffset;\r", "+\t\t\t}\r", "-\t\t\t\tif (local.declaration != null)\r", "-\t\t\t\t\tcodeStream.record(local); // record user local variables for attribute generation\r", "-\t\t\t\tlocal.resolvedPosition = offset;\r", "-\t\t\t\t// check for too many arguments/local variables\r", "-\t\t\t\tif(local.isArgument){\r", "-\t\t\t\t\tif (offset > 0xFF){ // no more than 255 words of arguments\r", "-\t\t\t\t\t\tthis.problemReporter().noMoreAvailableSpaceForArgument(local.declaration);\r", "-\t\t\t\t\t}\r", "+\t\t\t\t\r", "+\t\t\t\t// Return addresses are managed separately afterwards.\r", "+\t\t\t\tif (local.name == TryStatement.SecretReturnName){\r", "+\t\t\t\t\treturnAddresses.add(local);\r", "-\t\t\t\t\tif(offset > 0xFFFF){ // no more than 65535 words of locals\r", "-\t\t\t\t\t\tthis.problemReporter().noMoreAvailableSpaceForLocal(local.declaration);\r", "+\r", "+\t\t\t\t\tif (local.declaration != null){\r", "+\t\t\t\t\t\tcodeStream.record(local); // record user local variables for attribute generation\r", "+\t\t\t\t\t}\r", "+\r", "+\t\t\t\t\t// allocate variable position\r", "+\t\t\t\t\tlocal.resolvedPosition = this.offset;\r", "+\t\t\t\t\t\t\t\r", "+\t\t\t\t\t// check for too many arguments/local variables\r", "+\t\t\t\t\tif(local.isArgument){\r", "+\t\t\t\t\t\tif (offset > 0xFF){ // no more than 255 words of arguments\r", "+\t\t\t\t\t\t\tthis.problemReporter().noMoreAvailableSpaceForArgument(local.declaration);\r", "+\t\t\t\t\t\t}\r", "+\t\t\t\t\t} else {\r", "+\t\t\t\t\t\tif(offset > 0xFFFF){ // no more than 65535 words of locals\r", "+\t\t\t\t\t\t\tthis.problemReporter().noMoreAvailableSpaceForLocal(local.declaration);\r", "+\t\t\t\t\t\t}\r", "+\t\t\t\t\t}\r", "+\t\t\t\t\t\r", "+\t\t\t\t\t// increment offset\r", "+\t\t\t\t\tif ((local.type == LongBinding) || (local.type == DoubleBinding)){\r", "+\t\t\t\t\t\tthis.offset += 2;\r", "+\t\t\t\t\t} else {\r", "+\t\t\t\t\t\tthis.offset++;\r", "-\t\t\t\tif ((local.type == LongBinding) || (local.type == DoubleBinding))\r", "-\t\t\t\t\toffset += 2;\r", "-\t\t\t\telse\r", "-\t\t\t\t\toffset++;\r", "+\tif (this.offset > this.maxOffset) this.maxOffset = this.offset;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f7ea310be4f6e40f4f24c10f599fe97c", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/BlockScope.java", "commitBeforeChange": "7750e1b5a6b245445fbc69259bf6412de07423cc", "commitAfterChange": "837e74414fb9b240932cd6afae3110277fb777db", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 11, "signatureBeforeChange": "\r \r public final void computeLocalVariablePositions(int offset, CodeStream codeStream)", "signatureAfterChange": "\r \r public final void computeLocalVariablePositions(int initOffset, CodeStream codeStream, ObjectVector returnAddresses)", "diff": ["-public final void computeLocalVariablePositions(int offset, CodeStream codeStream) {\r", "+\r", "+public final void computeLocalVariablePositions(int initOffset, CodeStream codeStream, ObjectVector returnAddresses) {\r", "+\r", "+\tthis.offset = initOffset;\r", "+\tthis.maxOffset = initOffset;\r", "+\t\r", "-\r", "+\t\r", "-\t\t\tif (subscopes[iscope] instanceof BlockScope)\r", "-\t\t\t\t((BlockScope) subscopes[iscope]).computeLocalVariablePositions(offset, codeStream);\r", "+\t\t\tif (subscopes[iscope] instanceof BlockScope) {\r", "+\t\t\t\tBlockScope subscope = (BlockScope) subscopes[iscope];\r", "+\t\t\t\tint subOffset = subscope.shiftScope == null ? this.offset : subscope.shiftScope.offset;\r", "+\t\t\t\tsubscope.computeLocalVariablePositions(subOffset, codeStream, returnAddresses);\r", "+\t\t\t\tif (subscope.maxOffset > this.maxOffset) this.maxOffset = subscope.maxOffset;\r", "+\t\t\t}\r", "-\t\t\t\tif (local.declaration != null)\r", "-\t\t\t\t\tcodeStream.record(local); // record user local variables for attribute generation\r", "-\t\t\t\tlocal.resolvedPosition = offset;\r", "-\t\t\t\t// check for too many arguments/local variables\r", "-\t\t\t\tif(local.isArgument){\r", "-\t\t\t\t\tif (offset > 0xFF){ // no more than 255 words of arguments\r", "-\t\t\t\t\t\tthis.problemReporter().noMoreAvailableSpaceForArgument(local.declaration);\r", "-\t\t\t\t\t}\r", "+\t\t\t\t\r", "+\t\t\t\t// Return addresses are managed separately afterwards.\r", "+\t\t\t\tif (local.name == TryStatement.SecretReturnName){\r", "+\t\t\t\t\treturnAddresses.add(local);\r", "-\t\t\t\t\tif(offset > 0xFFFF){ // no more than 65535 words of locals\r", "-\t\t\t\t\t\tthis.problemReporter().noMoreAvailableSpaceForLocal(local.declaration);\r", "+\r", "+\t\t\t\t\tif (local.declaration != null){\r", "+\t\t\t\t\t\tcodeStream.record(local); // record user local variables for attribute generation\r", "+\t\t\t\t\t}\r", "+\r", "+\t\t\t\t\t// allocate variable position\r", "+\t\t\t\t\tlocal.resolvedPosition = this.offset;\r", "+\t\t\t\t\t\t\t\r", "+\t\t\t\t\t// check for too many arguments/local variables\r", "+\t\t\t\t\tif(local.isArgument){\r", "+\t\t\t\t\t\tif (offset > 0xFF){ // no more than 255 words of arguments\r", "+\t\t\t\t\t\t\tthis.problemReporter().noMoreAvailableSpaceForArgument(local.declaration);\r", "+\t\t\t\t\t\t}\r", "+\t\t\t\t\t} else {\r", "+\t\t\t\t\t\tif(offset > 0xFFFF){ // no more than 65535 words of locals\r", "+\t\t\t\t\t\t\tthis.problemReporter().noMoreAvailableSpaceForLocal(local.declaration);\r", "+\t\t\t\t\t\t}\r", "+\t\t\t\t\t}\r", "+\t\t\t\t\t\r", "+\t\t\t\t\t// increment offset\r", "+\t\t\t\t\tif ((local.type == LongBinding) || (local.type == DoubleBinding)){\r", "+\t\t\t\t\t\tthis.offset += 2;\r", "+\t\t\t\t\t} else {\r", "+\t\t\t\t\t\tthis.offset++;\r", "-\t\t\t\tif ((local.type == LongBinding) || (local.type == DoubleBinding))\r", "-\t\t\t\t\toffset += 2;\r", "-\t\t\t\telse\r", "-\t\t\t\t\toffset++;\r", "+\tif (this.offset > this.maxOffset) this.maxOffset = this.offset;\r"]}], "num": 5905}