{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6d5a7d7bc4643a218a79879be6d6f420", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9fd7e2ea4c66d193909b3ef9db1e4c84", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/DefaultCommentMapper.java", "commitBeforeChange": "64b96fa1ce2b515f4a874add8f64c38e4d9533fd", "commitAfterChange": "4dc818b4e43cdaa450b9bd9617f340ff5b901864", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 9, "signatureBeforeChange": " \tprivate void doExtraRangesForChildren(ASTNode node, Scanner scanner)", "signatureAfterChange": " \tprivate void doExtraRangesForChildren(ASTNode node, Scanner scanner)", "diff": ["-\t\tint lastChild= children.size() ;", "+\t\tint size = children.size() ;", "-\t\tint lastPos = node.getStartPosition() + node.getLength();", "-\t\tscanner.resetTo(lastPos, scanner.source.length-1);", "-\t\ttry {", "-\t\t\tint token = -1;", "-\t\t\tdo {", "-\t\t\t\ttoken = scanner.getNextToken();", "-\t\t\t} while (token >= TerminalTokens.TokenNameWHITESPACE && token <= TerminalTokens.TokenNameCOMMENT_JAVADOC);", "-\t\t\tlastPos = scanner.getCurrentTokenStartPosition();", "-\t\t} catch (InvalidInputException e) {", "-\t\t\t// do nothing", "-\t\t}", "+\t\tint lastPos = getExtendedEnd(node);", "+//\t\tint lastPos = node.getStartPosition() + node.getLength();", "+//\t\tscanner.resetTo(lastPos, scanner.source.length-1);", "+//\t\ttry {", "+//\t\t\tint token = -1;", "+//\t\t\tdo {", "+//\t\t\t\ttoken = scanner.getNextToken();", "+//\t\t\t} while (token >= TerminalTokens.TokenNameWHITESPACE && token <= TerminalTokens.TokenNameCOMMENT_JAVADOC);", "+//\t\t\tlastPos = scanner.getCurrentTokenStartPosition();", "+//\t\t} catch (InvalidInputException e) {", "+//\t\t\t// do nothing", "+//\t\t}", "-\t\t\tfor (int i= 0; i < lastChild; i++) {", "+\t\t\tfor (int i= 0; i < size; i++) {", "-\t\t\t\tint nextStart = i==(lastChild-1) ? lastPos : ((ASTNode) children.get(i+1)).getStartPosition();", "+\t\t\t\tboolean lastChild = i==(size-1);", "+\t\t\t\tint nextStart = lastChild ? lastPos : ((ASTNode) children.get(i+1)).getStartPosition();", "-\t\t\t\tpreviousEnd = storeTrailingComments(current, nextStart,scanner);", "+\t\t\t\tpreviousEnd = storeTrailingComments(current, nextStart, scanner, lastChild);", "-\t\tfor (int i= 0; i < lastChild; i++) {", "+\t\tfor (int i= 0; i < size; i++) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a83bd49536f65e64659e92cc7a3dcaaa", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/ASTConverter.java", "commitBeforeChange": "f316b069838038f8089cd2fbc2dd1992644b54d4", "commitAfterChange": "0eaa2ed8772f78cbf0083fde09091e98f1f6a2b1", "methodNumberBeforeChange": 142, "methodNumberAfterChange": 151, "signatureBeforeChange": " \tprotected int retrieveEndBlockPosition(int start, int end)", "signatureAfterChange": " \t \tprotected int retrieveProperRightBracketPosition(int bracketNumber, int start)", "diff": ["-\t */", "-\tprotected int retrieveEndBlockPosition(int start, int end) {", "-\t\tthis.scanner.resetTo(start, end);", "-\t\tint count = 0;", "-\t\ttry {", "-\t\t\tint token;", "-\t\t\twhile ((token = this.scanner.getNextToken()) != TerminalTokens.TokenNameEOF) {", "-\t\t\t\tswitch(token) {", "-\t\t\t\t\tcase TerminalTokens.TokenNameLBRACE://110", "-\t\t\t\t\t\tcount++;", "-\t\t\t\t\t\tbreak;", "-\t\t\t\t\tcase TerminalTokens.TokenNameRBRACE://95", "-\t\t\t\t\t\tcount--;", "-\t\t\t\t\t\tif (count == 0) {", "-\t\t\t\t\t\t\treturn this.scanner.currentPosition - 1;", "-\t\t\t\t\t\t}", "-\t\t\t\t}", "-\t\t\t}", "-\t\t} catch(InvalidInputException e) {", "-\t\t\t// ignore", "-\t\t}", "-\t\treturn -1;", "-\t}", "+\t", "+\tprotected int retrieveProperRightBracketPosition(int bracketNumber, int start) {", "+\t\treturn retrieveProperRightBracketPosition(bracketNumber, start, this.compilationUnitSourceLength);", "+\t}"]}], "num": 66960}