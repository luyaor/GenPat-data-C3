{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8cf68f855c02d929683149ecd3eddf5a", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "36424865d12c309d713174f90833fcd6", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/util/Util.java", "commitBeforeChange": "46f57536ed8e2bfbe5a9484e153647c7c5b9cb5d", "commitAfterChange": "846faf5699bcd826a09451dfb06e7bb91fe5a472", "methodNumberBeforeChange": 36, "methodNumberAfterChange": 36, "signatureBeforeChange": " \tprivate static String getLineSeparator(char[] text, char[] buffer)", "signatureAfterChange": " \tpublic static String getLineSeparator(String text, IJavaProject project)", "diff": ["+\t */", "+\tpublic static String getLineSeparator(String text, IJavaProject project) {", "+\t\tString lineSeparator = null;", "+\t\t", "+\t\t// line delimiter in given text", "+\t\tif (text != null) {", "+\t\t\tlineSeparator = findLineSeparator(text.toCharArray());", "+\t\t\tif (lineSeparator != null)", "+\t\t\t\treturn lineSeparator;", "+\t\t}", "+\t\t", "+\t\t// line delimiter in project preference", "+\t\tIScopeContext[] scopeContext;", "+\t\tif (project != null) {", "+\t\t\tscopeContext= new IScopeContext[] { new ProjectScope(project.getProject()) };", "+\t\t\tlineSeparator= Platform.getPreferencesService().getString(Platform.PI_RUNTIME, Platform.PREF_LINE_SEPARATOR, null, scopeContext);", "+\t\t\tif (lineSeparator != null)", "+\t\t\t\treturn lineSeparator;", "+\t\t}", "+\t\t", "+\t\t// line delimiter in workspace preference", "+\t\tscopeContext= new IScopeContext[] { new InstanceScope() };", "+\t\tlineSeparator = Platform.getPreferencesService().getString(Platform.PI_RUNTIME, Platform.PREF_LINE_SEPARATOR, null, scopeContext);", "+\t\tif (lineSeparator != null)", "+\t\t\treturn lineSeparator;", "+\t\t", "+\t\t// system line delimiter", "+\t\treturn org.eclipse.jdt.internal.compiler.util.Util.LINE_SEPARATOR;", "+\t}", "-\t\t\t\treturn org.eclipse.jdt.internal.compiler.util.Util.LINE_SEPARATOR;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a53eff75bed5fb9e763bfaee76c8ae65", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/util/Util.java", "commitBeforeChange": "391f791bfc062c8038e2d943e7b32d7fd90d00ef", "commitAfterChange": "d08e5f309402c54ffedba70c68551e94fb181264", "methodNumberBeforeChange": 40, "methodNumberAfterChange": 40, "signatureBeforeChange": " \tpublic static String getLineSeparator(String text, IJavaProject project)", "signatureAfterChange": " \tpublic static String getLineSeparator(String text, IJavaProject project)", "diff": ["-\t\t// line delimiter in project preference", "-\t\tIScopeContext[] scopeContext;", "-\t\tif (project != null) {", "-\t\t\tscopeContext= new IScopeContext[] { new ProjectScope(project.getProject()) };", "-\t\t\tlineSeparator= Platform.getPreferencesService().getString(Platform.PI_RUNTIME, Platform.PREF_LINE_SEPARATOR, null, scopeContext);", "+\t\tif (Platform.isRunning()) {", "+\t\t\t// line delimiter in project preference", "+\t\t\tIScopeContext[] scopeContext;", "+\t\t\tif (project != null) {", "+\t\t\t\tscopeContext= new IScopeContext[] { new ProjectScope(project.getProject()) };", "+\t\t\t\tlineSeparator= Platform.getPreferencesService().getString(Platform.PI_RUNTIME, Platform.PREF_LINE_SEPARATOR, null, scopeContext);", "+\t\t\t\tif (lineSeparator != null)", "+\t\t\t\t\treturn lineSeparator;", "+\t\t\t}", "+\t", "+\t\t\t// line delimiter in workspace preference", "+\t\t\tscopeContext= new IScopeContext[] { new InstanceScope() };", "+\t\t\tlineSeparator = Platform.getPreferencesService().getString(Platform.PI_RUNTIME, Platform.PREF_LINE_SEPARATOR, null, scopeContext);", "-", "-\t\t// line delimiter in workspace preference", "-\t\tscopeContext= new IScopeContext[] { new InstanceScope() };", "-\t\tlineSeparator = Platform.getPreferencesService().getString(Platform.PI_RUNTIME, Platform.PREF_LINE_SEPARATOR, null, scopeContext);", "-\t\tif (lineSeparator != null)", "-\t\t\treturn lineSeparator;"]}], "num": 30159}