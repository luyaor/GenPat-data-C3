{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5c1662d229820a5a38249cb2f14f183c", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2ff328bf4004e4165eb3e442129fbb56", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/CompletionEngine.java", "commitBeforeChange": "49221e1dedf80843e710093d67caabba63367062", "commitAfterChange": "26bd6002dbcadf28eb844a4d87a4d9f705c01741", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 22, "signatureBeforeChange": " \t \tprivate boolean complete(ASTNode astNode, ASTNode astNodeParent, Binding qualifiedBinding, Scope scope, boolean insideTypeAnnotation)", "signatureAfterChange": " \t \tprivate boolean complete(ASTNode astNode, ASTNode astNodeParent, Binding qualifiedBinding, Scope scope, boolean insideTypeAnnotation)", "diff": ["+\t\t\tCompletionOnAnnotationOfType fakeType = (CompletionOnAnnotationOfType)scope.parent.referenceContext();", "+\t\t\tif (fakeType.annotations[0] == annot) {", "+\t\t\t\t// When the completion is inside a method body the annotation cannot be accuratly attached to the correct node by completion recovery.", "+\t\t\t\t// So 'targetedElement' is not computed in this case.", "+\t\t\t\tif (scope.parent.parent == null || !(scope.parent.parent instanceof MethodScope)) {", "+\t\t\t\t\tthis.targetedElement = computeTargetedElement(fakeType);", "+\t\t\t\t}", "+\t\t\t\t", "+\t\t\t}", "+\t\t\t"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "615878cd75d5e493979896f9b520d91d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/CompletionEngine.java", "commitBeforeChange": "058521030c68f15c9e89da9672ee6010c8a54c82", "commitAfterChange": "ad3ff878b34a7bd9fdf182c96c6fcce95bcbf6a2", "methodNumberBeforeChange": 65, "methodNumberAfterChange": 65, "signatureBeforeChange": " \t \tprivate void completionOnMarkerAnnotationName(ASTNode astNode, Binding qualifiedBinding, Scope scope)", "signatureAfterChange": " \t \tprivate void completionOnMarkerAnnotationName(ASTNode astNode, Binding qualifiedBinding, Scope scope)", "diff": ["-\t\tCompletionOnAnnotationOfType fakeType = (CompletionOnAnnotationOfType) (referenceContext instanceof CompletionOnAnnotationOfType ? referenceContext : null);", "-\t\tif (fakeType != null && fakeType.annotations[0] == annot) {", "+\t\tCompletionOnAnnotationOfType fakeType;", "+\t\tif (referenceContext instanceof CompletionOnAnnotationOfType) {", "+\t\t\tfakeType = (CompletionOnAnnotationOfType) referenceContext;", "+\t\t} else {", "+\t\t\tfakeType = new CompletionOnAnnotationOfType(CompletionParser.FAKE_TYPE_NAME, scope.referenceCompilationUnit().compilationResult, annot);", "+\t\t}", "+\t\tif (fakeType.annotations[0] == annot) {", "-\t\t\t\t\t!(scope.parent.parent instanceof MethodScope) &&", "-\t\t\t\t\tfakeType != null && !fakeType.isParameter) {", "+\t\t\t\t\t!(scope.parent.parent instanceof MethodScope) && !fakeType.isParameter) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "719ea89a4a4022e5d9580d73b2e5b901", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/CompletionEngine.java", "commitBeforeChange": "63969f0e42bcdfc0a055ac0f3d2f47fa48cf3e29", "commitAfterChange": "b3b347145ddd14cd49627dacc39ebc40cb4c285a", "methodNumberBeforeChange": 65, "methodNumberAfterChange": 65, "signatureBeforeChange": " \t \tprivate void completionOnMarkerAnnotationName(ASTNode astNode, Binding qualifiedBinding, Scope scope)", "signatureAfterChange": " \t \tprivate void completionOnMarkerAnnotationName(ASTNode astNode, Binding qualifiedBinding, Scope scope)", "diff": ["-\t\tCompletionOnAnnotationOfType fakeType = (CompletionOnAnnotationOfType)scope.parent.referenceContext();", "-\t\tif (fakeType.annotations[0] == annot) {", "+\t\t// When completion is inside lambda body, the fake type cannot be attached to the lambda.", "+\t\tReferenceContext referenceContext = scope.parent.referenceContext();", "+\t\tCompletionOnAnnotationOfType fakeType = (CompletionOnAnnotationOfType) (referenceContext instanceof CompletionOnAnnotationOfType ? referenceContext : null);", "+\t\tif (fakeType != null && fakeType.annotations[0] == annot) {", "-\t\t\t\t\t!fakeType.isParameter) {", "+\t\t\t\t\tfakeType != null && !fakeType.isParameter) {"]}], "num": 17246}