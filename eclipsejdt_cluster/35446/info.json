{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5d59a2a2c8bc8f021807e8ea079be3d1", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0c6990a237481d1f0c3fa2c6df60f97d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/DeltaProcessor.java", "commitBeforeChange": "5d2cd7f1076b45eee90e6733e80765abd1df3d6a", "commitAfterChange": "14e86a8141996732826e41cf3c8dd392bb1fd5ba", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": " \tprivate void checkProjectsBeingAddedOrRemoved(IResourceDelta delta)", "signatureAfterChange": " \tprivate void checkProjectsBeingAddedOrRemoved(IResourceDelta delta)", "diff": ["+\t\tboolean processChildren = false;", "+", "-\t\t\t\t", "-\t\t\t\tIResourceDelta[] children = delta.getAffectedChildren();", "-\t\t\t\tfor (int i = 0, length = children.length; i < length; i++) {", "-\t\t\t\t\tthis.checkProjectsBeingAddedOrRemoved(children[i]);", "-\t\t\t\t}", "+\t\t\t\tprocessChildren = true;", "-\t\t\t\tint deltaKind = delta.getKind();", "-\t\t\t\tif (deltaKind == IResourceDelta.ADDED) {", "-\t\t\t\t\t// remember project and its dependents", "-\t\t\t\t\tIProject project = (IProject)resource;", "-\t\t\t\t\tJavaProject javaProject = (JavaProject)JavaCore.create(project);", "-\t\t\t\t\tthis.addToRootsToRefreshWithDependents(javaProject);", "-\t\t\t\t\t", "-\t\t\t\t\t// workaround for bug 15168 circular errors not reported ", "-\t\t\t\t\tif (JavaProject.hasJavaNature(project)) {", "-\t\t\t\t\t\tthis.addToParentInfo(javaProject);", "-\t\t\t\t\t}", "-", "-\t\t\t\t} else if (deltaKind == IResourceDelta.CHANGED) {", "-\t\t\t\t\tIProject project = (IProject)resource;", "-\t\t\t\t\tif ((delta.getFlags() & IResourceDelta.OPEN) != 0) {", "-\t\t\t\t\t\t// project opened or closed: remember  project and its dependents", "+\t\t\t\tswitch (delta.getKind()) {", "+\t\t\t\t\tcase IResourceDelta.ADDED :", "+\t\t\t\t\t\t// remember project and its dependents", "+\t\t\t\t\t\tIProject project = (IProject)resource;", "+\t\t\t\t\t\t// workaround for bug 15168 circular errors not reported ", "+\t\t\t\t\t\tif (JavaProject.hasJavaNature(project)) {", "+\t\t\t\t\t\t\tthis.addToParentInfo(javaProject);", "+\t\t\t\t\t\t}", "+\t\t\t\t\t\tthis.state.rootsAreStale = true; ", "+\t\t\t\t\t\tbreak;", "-\t\t\t\t\t\t// workaround for bug 15168 circular errors not reported ", "-\t\t\t\t\t\tif (project.isOpen()) {", "-\t\t\t\t\t\t\tif (JavaProject.hasJavaNature(project)) {", "-\t\t\t\t\t\t\t\tthis.addToParentInfo(javaProject);", "-\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\tjavaProject = (JavaProject)this.manager.getJavaModel().findJavaProject(project);", "-\t\t\t\t\t\t\tif (javaProject != null) {", "-\t\t\t\t\t\t\t\ttry {", "-\t\t\t\t\t\t\t\t\tjavaProject.close();", "-\t\t\t\t\t\t\t\t} catch (JavaModelException e) {", "-\t\t\t\t\t\t\t\t\t// java project doesn't exist: ignore", "+\t\t\t\t\tcase IResourceDelta.CHANGED : ", "+\t\t\t\t\t\t\tproject = (IProject)resource;", "+\t\t\t\t\t\t\tif ((delta.getFlags() & IResourceDelta.OPEN) != 0) {", "+\t\t\t\t\t\t\t\t// project opened or closed: remember  project and its dependents", "+\t\t\t\t\t\t\t\tjavaProject = (JavaProject)JavaCore.create(project);", "+\t\t\t\t\t\t\t\tthis.addToRootsToRefreshWithDependents(javaProject);", "+\t\t\t\t\t\t\t\t", "+\t\t\t\t\t\t\t\t// workaround for bug 15168 circular errors not reported ", "+\t\t\t\t\t\t\t\tif (project.isOpen()) {", "+\t\t\t\t\t\t\t\t\tif (JavaProject.hasJavaNature(project)) {", "+\t\t\t\t\t\t\t\t\t\tthis.addToParentInfo(javaProject);", "+\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\t\t\ttry {", "+\t\t\t\t\t\t\t\t\t\tjavaProject.close();", "+\t\t\t\t\t\t\t\t\t} catch (JavaModelException e) {", "+\t\t\t\t\t\t\t\t\t\t// java project doesn't exist: ignore", "+\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t\tthis.removeFromParentInfo(javaProject);", "+\t\t\t\t\t\t\t\t\tthis.manager.removePerProjectInfo(javaProject);", "-\t\t\t\t\t\t\t\tthis.removeFromParentInfo(javaProject);", "-\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t}", "-\t\t\t\t\t} else if ((delta.getFlags() & IResourceDelta.DESCRIPTION) != 0) {", "-\t\t\t\t\t\tboolean wasJavaProject = this.manager.getJavaModel().findJavaProject(project) != null;", "-\t\t\t\t\t\tboolean isJavaProject = JavaProject.hasJavaNature(project);", "-\t\t\t\t\t\tif (wasJavaProject != isJavaProject) {", "-\t\t\t\t\t\t\t// java nature added or removed: remember  project and its dependents", "-\t\t\t\t\t\t\tJavaProject javaProject = (JavaProject)JavaCore.create(project);", "-\t\t\t\t\t\t\tthis.addToRootsToRefreshWithDependents(javaProject);", "-", "-\t\t\t\t\t\t\t// workaround for bug 15168 circular errors not reported ", "-\t\t\t\t\t\t\tif (isJavaProject) {", "-\t\t\t\t\t\t\t\tthis.addToParentInfo(javaProject);", "+\t\t\t\t\t\t\t} else if ((delta.getFlags() & IResourceDelta.DESCRIPTION) != 0) {", "+\t\t\t\t\t\t\t\tboolean wasJavaProject = this.manager.getJavaModel().findJavaProject(project) != null;", "+\t\t\t\t\t\t\t\tboolean isJavaProject = JavaProject.hasJavaNature(project);", "+\t\t\t\t\t\t\t\tif (wasJavaProject != isJavaProject) { ", "+\t\t\t\t\t\t\t\t\t// java nature added or removed: remember  project and its dependents", "+\t\t\t\t\t\t\t\t\tjavaProject = (JavaProject)JavaCore.create(project);", "+\t\t\t\t\t\t\t\t\tthis.addToRootsToRefreshWithDependents(javaProject);", "+\t\t", "+\t\t\t\t\t\t\t\t\t// workaround for bug 15168 circular errors not reported ", "+\t\t\t\t\t\t\t\t\tif (isJavaProject) {", "+\t\t\t\t\t\t\t\t\t\tthis.addToParentInfo(javaProject);", "+\t\t\t\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\t\t\t\tthis.state.rootsAreStale = true;", "+\t\t\t\t\t\t\t\t\t\t// remove classpath cache so that initializeRoots() will not consider the project has a classpath", "+\t\t\t\t\t\t\t\t\t\tthis.manager.removePerProjectInfo((JavaProject)JavaCore.create(project));", "+\t\t\t\t\t\t\t\t\t\t// close project", "+\t\t\t\t\t\t\t\t\t\ttry {", "+\t\t\t\t\t\t\t\t\t\t\tjavaProject.close();", "+\t\t\t\t\t\t\t\t\t\t} catch (JavaModelException e) {", "+\t\t\t\t\t\t\t\t\t\t\t// java project doesn't exist: ignore", "+\t\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t\t\tthis.removeFromParentInfo(javaProject);", "+\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\t\t\t// in case the project was removed then added then changed (see bug 19799)", "+\t\t\t\t\t\t\t\t\tif (JavaProject.hasJavaNature(project)) { // need nature check - 18698", "+\t\t\t\t\t\t\t\t\t\tthis.addToParentInfo((JavaProject)JavaCore.create(project));", "+\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t\t// flush classpath markers", "-\t\t\t\t\t\t\t\tjavaProject.", "-\t\t\t\t\t\t\t\t\tflushClasspathProblemMarkers(", "-\t\t\t\t\t\t\t\t\t\ttrue, // flush cycle markers", "-\t\t\t\t\t\t\t\t\t\ttrue  //flush classpath format markers", "-\t\t\t\t\t\t\t\t\t);", "-\t\t\t\t\t\t\t\t\t", "-\t\t\t\t\t\t\t\t// remove problems and tasks created  by the builder", "-\t\t\t\t\t\t\t\tJavaBuilder.removeProblemsAndTasksFor(project);", "+\t\t\t\t\t\t\t\t// workaround for bug 15168 circular errors not reported ", "+\t\t\t\t\t\t\t\t// in case the project was removed then added then changed", "+\t\t\t\t\t\t\t\tif (JavaProject.hasJavaNature(project)) { // need nature check - 18698", "+\t\t\t\t\t\t\t\t\tthis.addToParentInfo((JavaProject)JavaCore.create(project));", "+\t\t\t\t\t\t\t\t\tprocessChildren = true;", "+\t\t\t\t\t\t\t\t}\t\t\t\t\t\t", "+\t\t\t\t\t\t\t}\t\t", "+\t\t\t\t\t\t\tbreak;", "-\t\t\t\t\t\t\t\t// close project", "-\t\t\t\t\t\t\t\ttry {", "-\t\t\t\t\t\t\t\t\tjavaProject.close();", "-\t\t\t\t\t\t\t\t} catch (JavaModelException e) {", "-\t\t\t\t\t\t\t\t\t// java project doesn't exist: ignore", "-\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t\tthis.removeFromParentInfo(javaProject);", "-\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\t// in case the project was removed then added then changed (see bug 19799)", "-\t\t\t\t\t\t\tif (JavaProject.hasJavaNature(project)) { // need nature check - 18698", "-\t\t\t\t\t\t\t\tthis.addToParentInfo((JavaProject)JavaCore.create(project));", "-\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t}", "-\t\t\t\t\t} else {", "-\t\t\t\t\t\t// workaround for bug 15168 circular errors not reported ", "-\t\t\t\t\t\t// in case the project was removed then added then changed", "-\t\t\t\t\t\tif (JavaProject.hasJavaNature(project)) { // need nature check - 18698", "-\t\t\t\t\t\t\tthis.addToParentInfo((JavaProject)JavaCore.create(project));", "-\t\t\t\t\t\t}\t\t\t\t\t\t", "-\t\t\t\t\t}\t\t\t\t\t", "+\t\t\t\t\tcase IResourceDelta.REMOVED : ", "+\t\t\t\t\t\t\t// remove classpath cache so that initializeRoots() will not consider the project has a classpath", "+\t\t\t\t\t\t\tthis.manager.removePerProjectInfo((JavaProject)JavaCore.create(resource));", "+\t\t\t\t\t\t\tthis.state.rootsAreStale = true;", "+\t\t\t\t\t\t\tbreak;", "+\t\t\tcase IResource.FILE :", "+\t\t\t\tIFile file = (IFile) resource;", "+\t\t\t\t/* classpath file change */", "+\t\t\t\tif (file.getName().equals(JavaProject.CLASSPATH_FILENAME)) {", "+\t\t\t\t\treconcileClasspathFileUpdate(delta, (JavaProject)JavaCore.create(file.getProject()));", "+\t\t\t\t\tthis.state.rootsAreStale = true;", "+\t\t\t\t}", "+\t\t\t\tbreak;", "+\t\t\t\t", "+\t\t}", "+\t\tif (processChildren) {", "+\t\t\tIResourceDelta[] children = delta.getAffectedChildren();", "+\t\t\tfor (int i = 0; i < children.length; i++) {", "+\t\t\t\tcheckProjectsBeingAddedOrRemoved(children[i]);", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "82fdfcec89bc2e2ebd5c3a2868224677", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/DeltaProcessor.java", "commitBeforeChange": "d9cf56fd4fe99ad8dd0ba89cbfa9dcc246ef0b9c", "commitAfterChange": "c143533d344835eae9053a7d384648906ed40cff", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 12, "signatureBeforeChange": " \tpublic void checkProjectsBeingAddedOrRemoved(IResourceDelta delta)", "signatureAfterChange": " \tprivate void checkProjectsBeingAddedOrRemoved(IResourceDelta delta)", "diff": ["+\t */", "+\tprivate void checkProjectsBeingAddedOrRemoved(IResourceDelta delta) {", "+\t\tIResource resource = delta.getResource();", "+\t\tswitch (resource.getType()) {", "+\t\t\tcase IResource.ROOT :", "+\t\t\t\t// workaround for bug 15168 circular errors not reported ", "+\t\t\t\tif (this.manager.javaProjectsCache == null) {", "+\t\t\t\t\ttry {", "+\t\t\t\t\t\tthis.manager.javaProjectsCache = this.manager.getJavaModel().getJavaProjects();", "+\t\t\t\t\t} catch (JavaModelException e) {", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t\t", "+\t\t\t\tIResourceDelta[] children = delta.getAffectedChildren();", "+\t\t\t\tfor (int i = 0, length = children.length; i < length; i++) {", "+\t\t\t\t\tthis.checkProjectsBeingAddedOrRemoved(children[i]);", "+\t\t\t\t}", "+\t\t\t\tbreak;", "+\t\t\tcase IResource.PROJECT :", "+\t\t\t\t// NB: No need to check project's nature as if the project is not a java project:", "+\t\t\t\t//     - if the project is added or changed this is a noop for projectsBeingDeleted", "+\t\t\t\t//     - if the project is closed, it has already lost its java nature", "+\t\t\t\tint deltaKind = delta.getKind();", "+\t\t\t\tif (deltaKind == IResourceDelta.ADDED) {", "+\t\t\t\t\t// remember project and its dependents", "+\t\t\t\t\tIProject project = (IProject)resource;", "+\t\t\t\t\tJavaProject javaProject = (JavaProject)JavaCore.create(project);", "+\t\t\t\t\tthis.addToRootsToRefreshWithDependents(javaProject);", "+\t\t\t\t\t", "+\t\t\t\t\t// workaround for bug 15168 circular errors not reported ", "+\t\t\t\t\tif (JavaProject.hasJavaNature(project)) {", "+\t\t\t\t\t\tthis.addToParentInfo(javaProject);", "+\t\t\t\t\t}", "+", "+\t\t\t\t} else if (deltaKind == IResourceDelta.CHANGED) {", "+\t\t\t\t\tIProject project = (IProject)resource;", "+\t\t\t\t\tif ((delta.getFlags() & IResourceDelta.OPEN) != 0) {", "+\t\t\t\t\t\t// project opened or closed: remember  project and its dependents", "+\t\t\t\t\t\tJavaProject javaProject = (JavaProject)JavaCore.create(project);", "+\t\t\t\t\t\tthis.addToRootsToRefreshWithDependents(javaProject);", "+\t\t\t\t\t\t", "+\t\t\t\t\t\t// workaround for bug 15168 circular errors not reported ", "+\t\t\t\t\t\tif (project.isOpen()) {", "+\t\t\t\t\t\t\tif (JavaProject.hasJavaNature(project)) {", "+\t\t\t\t\t\t\t\tthis.addToParentInfo(javaProject);", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\tjavaProject = (JavaProject)this.manager.getJavaModel().findJavaProject(project);", "+\t\t\t\t\t\t\tif (javaProject != null) {", "+\t\t\t\t\t\t\t\ttry {", "+\t\t\t\t\t\t\t\t\tjavaProject.close();", "+\t\t\t\t\t\t\t\t} catch (JavaModelException e) {", "+\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\tthis.removeFromParentInfo(javaProject);", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t}", "+\t\t\t\t\t} else if ((delta.getFlags() & IResourceDelta.DESCRIPTION) != 0) {", "+\t\t\t\t\t\tboolean wasJavaProject = this.manager.getJavaModel().findJavaProject(project) != null;", "+\t\t\t\t\t\tboolean isJavaProject = JavaProject.hasJavaNature(project);", "+\t\t\t\t\t\tif (wasJavaProject != isJavaProject) {", "+\t\t\t\t\t\t\t// java nature added or removed: remember  project and its dependents", "+\t\t\t\t\t\t\tJavaProject javaProject = (JavaProject)JavaCore.create(project);", "+\t\t\t\t\t\t\tthis.addToRootsToRefreshWithDependents(javaProject);", "+", "+\t\t\t\t\t\t\t// workaround for bug 15168 circular errors not reported ", "+\t\t\t\t\t\t\tif (isJavaProject) {", "+\t\t\t\t\t\t\t\tthis.addToParentInfo(javaProject);", "+\t\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\t\t// flush classpath markers", "+\t\t\t\t\t\t\t\tjavaProject.", "+\t\t\t\t\t\t\t\t\tflushClasspathProblemMarkers(", "+\t\t\t\t\t\t\t\t\t\ttrue, // flush cycle markers", "+\t\t\t\t\t\t\t\t\t\ttrue  //flush classpath format markers", "+\t\t\t\t\t\t\t\t\t);", "+\t\t\t\t\t\t\t\t\t", "+\t\t\t\t\t\t\t\t// remove problems and tasks created  by the builder", "+\t\t\t\t\t\t\t\tJavaBuilder.removeProblemsAndTasksFor(project);", "+", "+\t\t\t\t\t\t\t\t// close project", "+\t\t\t\t\t\t\t\ttry {", "+\t\t\t\t\t\t\t\t\tjavaProject.close();", "+\t\t\t\t\t\t\t\t} catch (JavaModelException e) {", "+\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\tthis.removeFromParentInfo(javaProject);", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\t// in case the project was removed then added then changed (see bug 19799)", "+\t\t\t\t\t\t\tif (JavaProject.hasJavaNature(project)) { // need nature check - 18698", "+\t\t\t\t\t\t\t\tthis.addToParentInfo((JavaProject)JavaCore.create(project));", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t}", "+\t\t\t\t\t} else {", "+\t\t\t\t\t\t// workaround for bug 15168 circular errors not reported ", "+\t\t\t\t\t\t// in case the project was removed then added then changed", "+\t\t\t\t\t\tif (JavaProject.hasJavaNature(project)) { // need nature check - 18698", "+\t\t\t\t\t\t\tthis.addToParentInfo((JavaProject)JavaCore.create(project));", "+\t\t\t\t\t\t}\t\t\t\t\t\t", "+\t\t\t\t\t}\t\t\t\t\t", "+\t\t\t\t}", "+\t\t\t\tbreak;", "+\t\t}", "+\t}", "-\t */", "-\tpublic void checkProjectsBeingAddedOrRemoved(IResourceDelta delta) {", "-\t\tIResource resource = delta.getResource();", "-\t\tswitch (resource.getType()) {", "-\t\t\tcase IResource.ROOT :", "-\t\t\t\t// workaround for bug 15168 circular errors not reported ", "-\t\t\t\tif (this.manager.javaProjectsCache == null) {", "-\t\t\t\t\ttry {", "-\t\t\t\t\t\tthis.manager.javaProjectsCache = this.manager.getJavaModel().getJavaProjects();", "-\t\t\t\t\t} catch (JavaModelException e) {", "-\t\t\t\t\t}", "-\t\t\t\t}", "-\t\t\t\t", "-\t\t\t\tIResourceDelta[] children = delta.getAffectedChildren();", "-\t\t\t\tfor (int i = 0, length = children.length; i < length; i++) {", "-\t\t\t\t\tthis.checkProjectsBeingAddedOrRemoved(children[i]);", "-\t\t\t\t}", "-\t\t\t\tbreak;", "-\t\t\tcase IResource.PROJECT :", "-\t\t\t\t// NB: No need to check project's nature as if the project is not a java project:", "-\t\t\t\t//     - if the project is added or changed this is a noop for projectsBeingDeleted", "-\t\t\t\t//     - if the project is closed, it has already lost its java nature", "-\t\t\t\tint deltaKind = delta.getKind();", "-\t\t\t\tif (deltaKind == IResourceDelta.ADDED) {", "-\t\t\t\t\t// remember project and its dependents", "-\t\t\t\t\tIProject project = (IProject)resource;", "-\t\t\t\t\tthis.addToProjectsToUpdateWithDependents(project);", "-\t\t\t\t\t", "-\t\t\t\t\t// workaround for bug 15168 circular errors not reported ", "-\t\t\t\t\tif (JavaProject.hasJavaNature(project)) {", "-\t\t\t\t\t\tthis.addToParentInfo((JavaProject)JavaCore.create(project));", "-\t\t\t\t\t}", "-", "-\t\t\t\t} else if (deltaKind == IResourceDelta.CHANGED) {", "-\t\t\t\t\tIProject project = (IProject)resource;", "-\t\t\t\t\tif ((delta.getFlags() & IResourceDelta.OPEN) != 0) {", "-\t\t\t\t\t\t// project opened or closed: remember  project and its dependents", "-\t\t\t\t\t\tthis.addToProjectsToUpdateWithDependents(project);", "-\t\t\t\t\t\t", "-\t\t\t\t\t\t// workaround for bug 15168 circular errors not reported ", "-\t\t\t\t\t\tif (project.isOpen()) {", "-\t\t\t\t\t\t\tif (JavaProject.hasJavaNature(project)) {", "-\t\t\t\t\t\t\t\tthis.addToParentInfo((JavaProject)JavaCore.create(project));", "-\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\tJavaProject javaProject = (JavaProject)this.manager.getJavaModel().findJavaProject(project);", "-\t\t\t\t\t\t\tif (javaProject != null) {", "-\t\t\t\t\t\t\t\ttry {", "-\t\t\t\t\t\t\t\t\tjavaProject.close();", "-\t\t\t\t\t\t\t\t} catch (JavaModelException e) {", "-\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t\tthis.removeFromParentInfo(javaProject);", "-\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t}", "-\t\t\t\t\t} else if ((delta.getFlags() & IResourceDelta.DESCRIPTION) != 0) {", "-\t\t\t\t\t\tboolean wasJavaProject = this.manager.getJavaModel().findJavaProject(project) != null;", "-\t\t\t\t\t\tboolean isJavaProject = JavaProject.hasJavaNature(project);", "-\t\t\t\t\t\tif (wasJavaProject != isJavaProject) {", "-\t\t\t\t\t\t\t// java nature added or removed: remember  project and its dependents", "-\t\t\t\t\t\t\tthis.addToProjectsToUpdateWithDependents(project);", "-", "-\t\t\t\t\t\t\t// workaround for bug 15168 circular errors not reported ", "-\t\t\t\t\t\t\tif (isJavaProject) {", "-\t\t\t\t\t\t\t\tthis.addToParentInfo((JavaProject)JavaCore.create(project));", "-\t\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\t\tJavaProject javaProject = (JavaProject)JavaCore.create(project);", "-\t\t\t\t\t\t\t\t", "-\t\t\t\t\t\t\t\t// flush classpath markers", "-\t\t\t\t\t\t\t\tjavaProject.", "-\t\t\t\t\t\t\t\t\tflushClasspathProblemMarkers(", "-\t\t\t\t\t\t\t\t\t\ttrue, // flush cycle markers", "-\t\t\t\t\t\t\t\t\t\ttrue  //flush classpath format markers", "-\t\t\t\t\t\t\t\t\t);", "-\t\t\t\t\t\t\t\t\t", "-\t\t\t\t\t\t\t\t// remove problems and tasks created  by the builder", "-\t\t\t\t\t\t\t\tJavaBuilder.removeProblemsAndTasksFor(project);", "-", "-\t\t\t\t\t\t\t\t// close project", "-\t\t\t\t\t\t\t\ttry {", "-\t\t\t\t\t\t\t\t\tjavaProject.close();", "-\t\t\t\t\t\t\t\t} catch (JavaModelException e) {", "-\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t\tthis.removeFromParentInfo(javaProject);", "-\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\t// in case the project was removed then added then changed (see bug 19799)", "-\t\t\t\t\t\t\tif (JavaProject.hasJavaNature(project)) { // need nature check - 18698", "-\t\t\t\t\t\t\t\tthis.addToParentInfo((JavaProject)JavaCore.create(project));", "-\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t}", "-\t\t\t\t\t} else {", "-\t\t\t\t\t\t// workaround for bug 15168 circular errors not reported ", "-\t\t\t\t\t\t// in case the project was removed then added then changed", "-\t\t\t\t\t\tif (JavaProject.hasJavaNature(project)) { // need nature check - 18698", "-\t\t\t\t\t\t\tthis.addToParentInfo((JavaProject)JavaCore.create(project));", "-\t\t\t\t\t\t}\t\t\t\t\t\t", "-\t\t\t\t\t}\t\t\t\t\t", "-\t\t\t\t}", "-\t\t\t\tbreak;", "-\t\t}", "-\t}"]}], "num": 35446}