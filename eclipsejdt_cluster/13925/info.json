{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "1db5358d3c401abc6e15cc2b5d6fb9f1", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6124273633ad8687b819862d7345ef63", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/CodeFormatterVisitor.java", "commitBeforeChange": "e324bd72a2ecbc6e1bdd32341437a15a42c9f6a0", "commitAfterChange": "2a60eadf1435696edd56c36ce2da6024b8c6f1cd", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 19, "signatureBeforeChange": " \t \tprivate void format(TypeDeclaration typeDeclaration)", "signatureAfterChange": " \tpublic TextEdit format(String string, CommentRegion region)", "diff": ["+\t */", "+\tpublic TextEdit format(String string, CommentRegion region) {", "+\t\t// reset the scribe", "+\t\tthis.scribe.reset();", "+\t\t", "+\t\tif (region == null) {", "+\t\t\treturn failedToFormat();", "+\t\t}", "+", "+\t\tlong startTime = 0;", "+\t\tif (DEBUG){", "+\t\t\tstartTime = System.currentTimeMillis();", "+\t\t}", "+", "+\t\tfinal char[] compilationUnitSource = string.toCharArray();", "+\t\t", "+\t\tthis.scribe.initializeScanner(compilationUnitSource);", "+", "+\t\tTextEdit result = null;", "+\t\ttry {", "+\t\t\tresult = region.format(this.preferences.initial_indentation_level, true);", "+\t\t} catch(AbortFormatting e){", "+\t\t\treturn failedToFormat();", "+\t\t}", "+\t\tif (DEBUG){", "+\t\t\tSystem.out.println(\"Formatting time: \" + (System.currentTimeMillis() - startTime));  //$NON-NLS-1$", "+\t\t}", "+\t\treturn result;", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9a5ecfd0f3df6048b0989d0b3653810d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/eval/org/eclipse/jdt/internal/eval/CodeSnippetToCuMapper.java", "commitBeforeChange": "64298556651d81e68f8405c1642b36744d7373dd", "commitAfterChange": "b92bafecd030777e0d6056677f8286cf640a489f", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " public ICompletionRequestor getCompletionRequestor(final ICompletionRequestor originalRequestor)", "signatureAfterChange": " public CompletionRequestor getCompletionRequestor(final CompletionRequestor originalRequestor)", "diff": ["-public ICompletionRequestor getCompletionRequestor(final ICompletionRequestor originalRequestor) {", "-\treturn new ICompletionRequestor() {", "-\t\tpublic void acceptAnonymousType(char[] superTypePackageName,char[] superTypeName,char[][] parameterPackageNames,char[][] parameterTypeNames,char[][] parameterNames,char[] completionName,int modifiers,int completionStart,int completionEnd, int relevance){", "-\t\t\toriginalRequestor.acceptAnonymousType(superTypePackageName, superTypeName, parameterPackageNames, parameterTypeNames, parameterNames, completionName, modifiers, completionStart - CodeSnippetToCuMapper.this.startPosOffset, completionEnd - CodeSnippetToCuMapper.this.startPosOffset, relevance);", "+public CompletionRequestor getCompletionRequestor(final CompletionRequestor originalRequestor) {", "+\treturn new CompletionRequestor() {", "+\t\tpublic void accept(CompletionProposal proposal) {", "+\t\t\tswitch(proposal.getKind()) {", "+\t\t\t\tcase CompletionProposal.TYPE_REF:", "+\t\t\t\t\tint flags = proposal.getFlags();", "+\t\t\t\t\tif((flags & Flags.AccEnum) == 0 &&", "+\t\t\t\t\t\t\t(flags & Flags.AccInterface) == 0) {", "+\t\t\t\t\t\t// Remove completion on generated class name or generated global variable class name", "+\t\t\t\t\t\tchar[] packageName = proposal.getDeclarationSignature();", "+\t\t\t\t\t\tchar[] className = Signature.getSignatureSimpleName(proposal.getSignature());", "+\t\t\t\t\t\tif (CharOperation.equals(packageName, CodeSnippetToCuMapper.this.snippetPackageName) ", "+\t\t\t\t\t\t\t\t&& (CharOperation.equals(className, CodeSnippetToCuMapper.this.snippetClassName)", "+\t\t\t\t\t\t\t\t\t|| CharOperation.equals(className, CodeSnippetToCuMapper.this.snippetVarClassName))) return;", "+\t\t\t\t\t}", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase CompletionProposal.METHOD_REF:", "+\t\t\t\tcase CompletionProposal.METHOD_DECLARATION:", "+\t\t\t\t\t// Remove completion on generated method", "+\t\t\t\t\tchar[] declaringTypePackageName = Signature.getSignatureSimpleName(proposal.getDeclarationSignature());", "+\t\t\t\t\tchar[] declaringTypeName = Signature.getSignatureSimpleName(proposal.getDeclarationSignature());", "+\t\t\t\t\tchar[] selector = proposal.getName();", "+\t\t\t\t\tif (CharOperation.equals(declaringTypePackageName, CodeSnippetToCuMapper.this.snippetPackageName) ", "+\t\t\t\t\t\t\t&& CharOperation.equals(declaringTypeName, CodeSnippetToCuMapper.this.snippetClassName)", "+\t\t\t\t\t\t\t&& CharOperation.equals(selector, \"run\".toCharArray())) return; //$NON-NLS-1$", "+\t\t\t\t\tbreak;", "+\t\t\t}", "+\t\t\tproposal.setReplaceRange(", "+\t\t\t\t\tproposal.getReplaceStart() - CodeSnippetToCuMapper.this.startPosOffset,", "+\t\t\t\t\tproposal.getReplaceEnd() - CodeSnippetToCuMapper.this.startPosOffset);", "+\t\t\toriginalRequestor.accept(proposal);", "-\t\tpublic void acceptClass(char[] packageName, char[] className, char[] completionName, int modifiers, int completionStart, int completionEnd, int relevance) {", "-\t\t\t// Remove completion on generated class name or generated global variable class name", "-\t\t\tif (CharOperation.equals(packageName, CodeSnippetToCuMapper.this.snippetPackageName) ", "-\t\t\t\t\t&& (CharOperation.equals(className, CodeSnippetToCuMapper.this.snippetClassName)", "-\t\t\t\t\t\t|| CharOperation.equals(className, CodeSnippetToCuMapper.this.snippetVarClassName))) return;", "-\t\t\toriginalRequestor.acceptClass(packageName, className, completionName, modifiers, completionStart - CodeSnippetToCuMapper.this.startPosOffset, completionEnd - CodeSnippetToCuMapper.this.startPosOffset, relevance);", "-\t\t}", "-\t\tpublic void acceptError(IProblem error) {", "-", "-\t\t\terror.setSourceStart(error.getSourceStart() - CodeSnippetToCuMapper.this.startPosOffset);", "-\t\t\terror.setSourceEnd(error.getSourceEnd() - CodeSnippetToCuMapper.this.startPosOffset);", "-\t\t\terror.setSourceLineNumber(error.getSourceLineNumber() -  CodeSnippetToCuMapper.this.lineNumberOffset);", "-\t\t\toriginalRequestor.acceptError(error);", "-\t\t}", "-\t\tpublic void acceptField(char[] declaringTypePackageName, char[] declaringTypeName, char[] name, char[] typePackageName, char[] typeName, char[] completionName, int modifiers, int completionStart, int completionEnd, int relevance) {", "-\t\t\toriginalRequestor.acceptField(declaringTypePackageName, declaringTypeName, name, typePackageName, typeName, completionName, modifiers, completionStart - CodeSnippetToCuMapper.this.startPosOffset, completionEnd - CodeSnippetToCuMapper.this.startPosOffset, relevance);", "-\t\t}", "-\t\tpublic void acceptInterface(char[] packageName, char[] interfaceName, char[] completionName, int modifiers, int completionStart, int completionEnd, int relevance) {", "-\t\t\toriginalRequestor.acceptInterface(packageName, interfaceName, completionName, modifiers, completionStart - CodeSnippetToCuMapper.this.startPosOffset, completionEnd - CodeSnippetToCuMapper.this.startPosOffset, relevance);", "-\t\t}", "-\t\tpublic void acceptKeyword(char[] keywordName, int completionStart, int completionEnd, int relevance) {", "-\t\t\toriginalRequestor.acceptKeyword(keywordName, completionStart - CodeSnippetToCuMapper.this.startPosOffset, completionEnd - CodeSnippetToCuMapper.this.startPosOffset, relevance);", "-\t\t}", "-\t\tpublic void acceptLabel(char[] labelName, int completionStart, int completionEnd, int relevance) {", "-\t\t\toriginalRequestor.acceptLabel(labelName, completionStart - CodeSnippetToCuMapper.this.startPosOffset, completionEnd - CodeSnippetToCuMapper.this.startPosOffset, relevance);", "-\t\t}", "-\t\tpublic void acceptLocalVariable(char[] name, char[] typePackageName, char[] typeName, int modifiers, int completionStart, int completionEnd, int relevance) {", "-\t\t\toriginalRequestor.acceptLocalVariable(name, typePackageName, typeName, modifiers, completionStart - CodeSnippetToCuMapper.this.startPosOffset, completionEnd - CodeSnippetToCuMapper.this.startPosOffset, relevance);", "-\t\t}", "-\t\tpublic void acceptMethod(char[] declaringTypePackageName, char[] declaringTypeName, char[] selector, char[][] parameterPackageNames, char[][] parameterTypeNames, char[][] parameterNames, char[] returnTypePackageName, char[] returnTypeName, char[] completionName, int modifiers, int completionStart, int completionEnd, int relevance) {", "-\t\t\t// Remove completion on generated method", "-\t\t\tif (CharOperation.equals(declaringTypePackageName, CodeSnippetToCuMapper.this.snippetPackageName) ", "-\t\t\t\t\t&& CharOperation.equals(declaringTypeName, CodeSnippetToCuMapper.this.snippetClassName)", "-\t\t\t\t\t&& CharOperation.equals(selector, \"run\".toCharArray())) return; //$NON-NLS-1$", "-\t\t\toriginalRequestor.acceptMethod(declaringTypePackageName, declaringTypeName, selector, parameterPackageNames, parameterTypeNames, parameterNames, returnTypePackageName, returnTypeName, completionName, modifiers, completionStart - CodeSnippetToCuMapper.this.startPosOffset, completionEnd - CodeSnippetToCuMapper.this.startPosOffset, relevance);", "-\t\t}", "-\t\tpublic void acceptMethodDeclaration(char[] declaringTypePackageName, char[] declaringTypeName, char[] selector, char[][] parameterPackageNames, char[][] parameterTypeNames, char[][] parameterNames, char[] returnTypePackageName, char[] returnTypeName, char[] completionName, int modifiers, int completionStart, int completionEnd, int relevance) {", "-\t\t\t// Remove completion on generated method", "-\t\t\tif (CharOperation.equals(declaringTypePackageName, CodeSnippetToCuMapper.this.snippetPackageName) ", "-\t\t\t\t\t&& CharOperation.equals(declaringTypeName, CodeSnippetToCuMapper.this.snippetClassName)", "-\t\t\t\t\t&& CharOperation.equals(selector, \"run\".toCharArray())) return;//$NON-NLS-1$", "-\t\t\toriginalRequestor.acceptMethodDeclaration(declaringTypePackageName, declaringTypeName, selector, parameterPackageNames, parameterTypeNames, parameterNames, returnTypePackageName, returnTypeName, completionName, modifiers, completionStart - CodeSnippetToCuMapper.this.startPosOffset, completionEnd - CodeSnippetToCuMapper.this.startPosOffset, relevance);", "-\t\t}", "-\t\tpublic void acceptModifier(char[] modifierName, int completionStart, int completionEnd, int relevance) {", "-\t\t\toriginalRequestor.acceptModifier(modifierName, completionStart - CodeSnippetToCuMapper.this.startPosOffset, completionEnd - CodeSnippetToCuMapper.this.startPosOffset, relevance);", "-\t\t}", "-\t\tpublic void acceptPackage(char[] packageName, char[] completionName, int completionStart, int completionEnd, int relevance) {", "-\t\t\toriginalRequestor.acceptPackage(packageName, completionName, completionStart - CodeSnippetToCuMapper.this.startPosOffset, completionEnd - CodeSnippetToCuMapper.this.startPosOffset, relevance);", "-\t\t}", "-\t\tpublic void acceptType(char[] packageName, char[] typeName, char[] completionName, int completionStart, int completionEnd, int relevance) {", "-\t\t\t// Remove completion on generated class name or generated global variable class name", "-\t\t\tif (CharOperation.equals(packageName, CodeSnippetToCuMapper.this.snippetPackageName) ", "-\t\t\t\t\t&& (CharOperation.equals( CodeSnippetToCuMapper.this.snippetClassName, CodeSnippetToCuMapper.this.snippetClassName)", "-\t\t\t\t\t\t|| CharOperation.equals( CodeSnippetToCuMapper.this.snippetClassName, CodeSnippetToCuMapper.this.snippetVarClassName))) return;", "-\t\t\toriginalRequestor.acceptType(packageName, typeName, completionName, completionStart - CodeSnippetToCuMapper.this.startPosOffset, completionEnd - CodeSnippetToCuMapper.this.startPosOffset, relevance);", "-\t\t}", "-\t\tpublic void acceptVariableName(char[] typePackageName, char[] typeName, char[] name, char[] completionName, int completionStart, int completionEnd, int relevance){", "-\t\t\toriginalRequestor.acceptVariableName(typePackageName, typeName, name, completionName, completionStart, completionEnd, relevance);", "+\t\tpublic void completionFailure(IProblem problem) {", "+\t\t\tproblem.setSourceStart(problem.getSourceStart() - CodeSnippetToCuMapper.this.startPosOffset);", "+\t\t\tproblem.setSourceEnd(problem.getSourceEnd() - CodeSnippetToCuMapper.this.startPosOffset);", "+\t\t\tproblem.setSourceLineNumber(problem.getSourceLineNumber() -  CodeSnippetToCuMapper.this.lineNumberOffset);", "+\t\t\toriginalRequestor.completionFailure(problem);"]}], "num": 13925}