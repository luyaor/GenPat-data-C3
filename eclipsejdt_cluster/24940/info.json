{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0fd77efd7526a3268f522d282d0afb83", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "105c765f8c75c8828f240a193ebc5094", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/DeltaProcessor.java", "commitBeforeChange": "a248aca30602bc356baefb0786ac871ca71971b3", "commitAfterChange": "13b3d93ad06f327dd1b71c8b4a9dd41c3f6dfa1e", "methodNumberBeforeChange": 28, "methodNumberAfterChange": 29, "signatureBeforeChange": " \t private void initializeRoots(IJavaModel model)", "signatureAfterChange": " \t private void initializeRoots(IJavaModel model)", "diff": ["+\tthis.sourceAttachments = new HashMap();", "+\t\t\t", "+\t\t\t// root path", "+\t\t\t", "+\t\t\t// source attachment path", "+\t\t\tif (entry.getEntryKind() != IClasspathEntry.CPE_LIBRARY) continue;", "+\t\t\tQualifiedName qName = new QualifiedName(JavaCore.PLUGIN_ID, \"sourceattachment: \" + path.toOSString()); //$NON-NLS-1$;", "+\t\t\tString propertyString = null;", "+\t\t\ttry {", "+\t\t\t\tpropertyString = ResourcesPlugin.getWorkspace().getRoot().getPersistentProperty(qName);", "+\t\t\t} catch (CoreException e) {", "+\t\t\t\tcontinue;", "+\t\t\t}", "+\t\t\tIPath sourceAttachmentPath;", "+\t\t\tif (propertyString != null) {", "+\t\t\t\tint index= propertyString.lastIndexOf(JarPackageFragmentRoot.ATTACHMENT_PROPERTY_DELIMITER);", "+\t\t\t\tif (index < 0) continue;", "+\t\t\t\tsourceAttachmentPath = new Path(propertyString.substring(0, index));", "+\t\t\t} else {", "+\t\t\t\tsourceAttachmentPath = entry.getSourceAttachmentPath();", "+\t\t\t}", "+\t\t\tif (sourceAttachmentPath != null) {", "+\t\t\t\tthis.sourceAttachments.put(sourceAttachmentPath, path);", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f8227103d7bb7e8748b23cff4d432dd1", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JarPackageFragmentRoot.java", "commitBeforeChange": "f21df947ddaafde66f4dcb18fce1af560901e739", "commitAfterChange": "d960babe998acb7fa00822d4abe32ae4e44701ca", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "\r \tpublic void attachSource(IPath zipPath, IPath rootPath, IProgressMonitor monitor) throws JavaModelException", "signatureAfterChange": "\r \tpublic void attachSource(IPath zipPath, IPath rootPath, IProgressMonitor monitor) throws JavaModelException", "diff": ["-\t\t\t\t//remove the property\r", "-\t\t\t\tgetWorkspace().getRoot().setPersistentProperty(qName, null);\r", "+\t\t\t\tsetSourceAttachmentProperty(null); //remove the property\r", "-\t\t\t\tgetWorkspace().getRoot().setPersistentProperty(qName, zipPath.toString() + ATTACHMENT_PROPERTY_DELIMITER + rootPath.toString());\r", "+\t\t\t\tsetSourceAttachmentProperty(zipPath.toString() + ATTACHMENT_PROPERTY_DELIMITER + rootPath.toString());\r", "-\t\t\ttry {\r", "-\t\t\t\tgetWorkspace().getRoot().setPersistentProperty(qName, null); // loose info - will be recomputed\r", "-\t\t\t} catch(CoreException ce){\r", "-\t\t\t}\r", "+\t\t\tsetSourceAttachmentProperty(null); // loose info - will be recomputed\r", "-\t\t\ttry {\r", "-\t\t\t\tgetWorkspace().getRoot().setPersistentProperty(qName, null); // loose info - will be recomputed\r", "-\t\t\t} catch(CoreException ce){\r", "-\t\t\t}\r", "+\t\t\tsetSourceAttachmentProperty(null);  // loose info - will be recomputed\r"]}], "num": 24940}