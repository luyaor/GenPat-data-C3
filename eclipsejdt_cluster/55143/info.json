{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d632416cbc4d43668dc184dd41791538", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a62d65d68c72617142f58ad6098f4ef6", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/builder/AbstractImageBuilder.java", "commitBeforeChange": "b492bcd26f25dcd86303e009ed59915c2ac84c99", "commitAfterChange": "e9c60c881f616cec2b0aa059fea6029ace6786f2", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 22, "signatureBeforeChange": " protected void storeProblemsFor(SourceFile sourceFile, CategorizedProblem[] problems) throws CoreException", "signatureAfterChange": " protected void storeProblemsFor(SourceFile sourceFile, CategorizedProblem[] problems) throws CoreException", "diff": ["-\t\t\t// standard attributes", "-\t\t\tmarker.setAttributes(", "-\t\t\t\tJAVA_PROBLEM_MARKER_ATTRIBUTE_NAMES,", "-\t\t\t\tnew Object[] { ", "-\t\t\t\t\tproblem.getMessage(), // message", "-\t\t\t\t\tproblem.isError() ? S_ERROR : S_WARNING, // severity", "-\t\t\t\t\tnew Integer(id), // ID", "-\t\t\t\t\tnew Integer(problem.getSourceStart()), // start", "-\t\t\t\t\tnew Integer(problem.getSourceEnd() + 1), // end", "-\t\t\t\t\tnew Integer(problem.getSourceLineNumber()), // line", "-\t\t\t\t\tUtil.getProblemArgumentsForMarker(problem.getArguments()), // arguments", "-\t\t\t\t\tnew Integer(problem.getCategoryID()) // category ID", "-\t\t\t\t}", "-\t\t\t);", "-\t\t\t// GENERATED_BY attribute for JDT problems", "-\t\t\tif (!managedProblem) {", "-\t\t\t\tmarker.setAttribute(IMarker.SOURCE_ID, JavaBuilder.SOURCE_ID);", "-\t\t\t}", "-\t\t\t// optional extra attributes", "+\t\t\tString[] attributeNames = JAVA_PROBLEM_MARKER_ATTRIBUTE_NAMES;", "+\t\t\tint standardLength = attributeNames.length;", "+\t\t\tString[] allNames = attributeNames;", "+\t\t\tint managedLength = managedProblem ? 0 : 1;", "-\t\t\tif (extraLength > 0) {", "-\t\t\t\tmarker.setAttributes(extraAttributeNames, problem.getExtraMarkerAttributeValues());", "+\t\t\tif (managedLength > 0 || extraLength > 0) {", "+\t\t\t\tallNames = new String[standardLength + managedLength + extraLength];", "+\t\t\t\tSystem.arraycopy(attributeNames, 0, allNames, 0, standardLength);", "+\t\t\t\tif (managedLength > 0)", "+\t\t\t\t\tallNames[standardLength] = IMarker.SOURCE_ID;", "+\t\t\t\tSystem.arraycopy(extraAttributeNames, 0, allNames, standardLength + managedLength, extraLength);", "+", "+\t\t\tObject[] allValues = new Object[allNames.length];", "+\t\t\t// standard attributes", "+\t\t\tint index = 0;", "+\t\t\tallValues[index++] = problem.getMessage(); // message", "+\t\t\tallValues[index++] = problem.isError() ? S_ERROR : S_WARNING; // severity", "+\t\t\tallValues[index++] = new Integer(id); // ID", "+\t\t\tallValues[index++] = new Integer(problem.getSourceStart()); // start", "+\t\t\tallValues[index++] = new Integer(problem.getSourceEnd() + 1); // end", "+\t\t\tallValues[index++] = new Integer(problem.getSourceLineNumber()); // line", "+\t\t\tallValues[index++] = Util.getProblemArgumentsForMarker(problem.getArguments()); // arguments", "+\t\t\tallValues[index++] = new Integer(problem.getCategoryID()); // category ID", "+\t\t\t// GENERATED_BY attribute for JDT problems", "+\t\t\tif (managedLength > 0)", "+\t\t\t\tallValues[index++] = JavaBuilder.SOURCE_ID;", "+\t\t\t// optional extra attributes", "+\t\t\tif (extraLength > 0)", "+\t\t\t\tSystem.arraycopy(problem.getExtraMarkerAttributeValues(), 0, allValues, index, extraLength);", "+", "+\t\t\tmarker.setAttributes(allNames, allValues);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fdddff354d75cba5892c532f98d10870", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/builder/AbstractImageBuilder.java", "commitBeforeChange": "b492bcd26f25dcd86303e009ed59915c2ac84c99", "commitAfterChange": "e9c60c881f616cec2b0aa059fea6029ace6786f2", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 23, "signatureBeforeChange": "  protected void storeTasksFor(SourceFile sourceFile, CategorizedProblem[] tasks) throws CoreException", "signatureAfterChange": "  protected void storeTasksFor(SourceFile sourceFile, CategorizedProblem[] tasks) throws CoreException", "diff": ["-\t\t\tmarker.setAttributes(", "-\t\t\t\tJAVA_TASK_MARKER_ATTRIBUTE_NAMES,", "-\t\t\t\tnew Object[] { ", "-\t\t\t\t\ttask.getMessage(),", "-\t\t\t\t\tpriority,", "-\t\t\t\t\tnew Integer(task.getID()),", "-\t\t\t\t\tnew Integer(task.getSourceStart()),", "-\t\t\t\t\tnew Integer(task.getSourceEnd() + 1),", "-\t\t\t\t\tnew Integer(task.getSourceLineNumber()),", "-\t\t\t\t\tBoolean.FALSE,", "-\t\t\t\t\tJavaBuilder.SOURCE_ID", "-\t\t\t\t});", "+", "+\t\t\tString[] attributeNames = JAVA_TASK_MARKER_ATTRIBUTE_NAMES;", "+\t\t\tint standardLength = attributeNames.length;", "+\t\t\tString[] allNames = attributeNames;", "+\t\t\tif (extraLength > 0) {", "+\t\t\t\tallNames = new String[standardLength + extraLength];", "+\t\t\t\tSystem.arraycopy(attributeNames, 0, allNames, 0, standardLength);", "+\t\t\t\tSystem.arraycopy(extraAttributeNames, 0, allNames, standardLength, extraLength);", "+\t\t\t}", "+", "+\t\t\tObject[] allValues = new Object[allNames.length];", "+\t\t\t// standard attributes", "+\t\t\tint index = 0;", "+\t\t\tallValues[index++] = task.getMessage();", "+\t\t\tallValues[index++] = priority;", "+\t\t\tallValues[index++] = new Integer(task.getID());", "+\t\t\tallValues[index++] = new Integer(task.getSourceStart());", "+\t\t\tallValues[index++] = new Integer(task.getSourceEnd() + 1);", "+\t\t\tallValues[index++] = new Integer(task.getSourceLineNumber());", "+\t\t\tallValues[index++] = Boolean.FALSE;", "+\t\t\tallValues[index++] = JavaBuilder.SOURCE_ID;", "+\t\t\t// optional extra attributes", "-\t\t\t\tmarker.setAttributes(extraAttributeNames, task.getExtraMarkerAttributeValues());", "+\t\t\t\tSystem.arraycopy(task.getExtraMarkerAttributeValues(), 0, allValues, index, extraLength);", "+", "+\t\t\tmarker.setAttributes(allNames, allValues);"]}], "num": 55143}