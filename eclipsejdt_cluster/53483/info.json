{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "53e7a38bfff87d4981315b949be80ee0", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "531ae08590ccb0107d6ab04dc6529d5e", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/env/ProcessorEnvImpl.java", "commitBeforeChange": "7064f5cf4e1b20562054db6ff22e27e2bfde4008", "commitAfterChange": "c020688b25edf08bbc7d8d68981663ad78d2a9d8", "methodNumberBeforeChange": 57, "methodNumberAfterChange": 60, "signatureBeforeChange": " \tprivate void createICompilationUnits()", "signatureAfterChange": " \tprivate void createICompilationUnits()", "diff": ["-\t\tfinal int len = _files.length;", "-\t\t_units = new ICompilationUnit[len];\t\t", "-\t\tint count = 0;", "-\t\tfor( int i=0; i<len; i++ ){", "-\t\t\t_units[i] = JavaCore.createCompilationUnitFrom(_files[i]);", "-\t\t\tif( _units[i] != null )", "-\t\t\t\tcount ++;", "-\t\t}", "+\t\t_units = createICUsFrom(_filesWithAnnotation);", "-\t\tif(count != len){", "-\t\t\tfinal IFile[] newFiles = new IFile[count];", "-\t\t\tfinal ICompilationUnit[] newUnits = new ICompilationUnit[count];", "+\t\tfinal int actualLen = getNumberNonNulls(_units);", "+\t\tif(actualLen != _filesWithAnnotation.length ){", "+\t\t\tfinal IFile[] newFiles = new IFile[actualLen];", "+\t\t\tfinal ICompilationUnit[] newUnits = new ICompilationUnit[actualLen];", "-\t\t\tfor( int i=0; i<len; i++ ){", "+\t\t\tfor( int i=0; i<_filesWithAnnotation.length ; i++ ){", "-\t\t\t\t\tnewFiles[newIndex] = _files[i];", "+\t\t\t\t\tnewFiles[newIndex] = _filesWithAnnotation[i];", "-\t\t\t_files = newFiles;", "+\t\t\t_filesWithAnnotation = newFiles;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "65c961a221881710c823ba50f3ad9e84", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/env/ProcessorEnvImpl.java", "commitBeforeChange": "2894ba75386697d7bf484434d073fb6ffaf6cec9", "commitAfterChange": "c5ef0e6fd93c55fc5204e498f5b58ab9f95c6ab7", "methodNumberBeforeChange": 43, "methodNumberAfterChange": 26, "signatureBeforeChange": " \t \tpublic void setFileProcessing(IFile file)", "signatureAfterChange": " \t \tpublic void beginFileProcessing(ICompilationParticipantResult result)", "diff": ["-\tpublic void setFileProcessing(IFile file){\t\t", "-\t\tif( file == null )", "-\t\t\tthrow new IllegalStateException(\"missing file\"); //$NON-NLS-1$", "+\t", "+\tpublic void beginFileProcessing(ICompilationParticipantResult result){\t\t", "+\t\tif( result == null )", "+\t\t\tthrow new IllegalStateException(\"missing compilation result\"); //$NON-NLS-1$", "+\t\tfinal IFile file = result.getFile();", "-\t\t_unit = null;", "-\t\t\t\tif( file.equals(_filesWithAnnotation[i]) ){", "+\t\t\t\tif( file.equals(_filesWithAnnotation[i].getFile()) ){", "-\t\t\t\t\tif( _astUnits != null ){", "-\t\t\t\t\t\t_astRoot = _astUnits[i];\t\t", "-\t\t\t\t\t\t_unit = _units[i];", "+\t\t\t\t\tif( _astRoots != null ){", "+\t\t\t\t\t\t_astRoot = _astRoots[i];", "-\t\t\t\t\t\t_unit = JavaCore.createCompilationUnitFrom(_filesWithAnnotation[i]);", "-\t\t\t\t\t\t_astRoot = createDietAST(_javaProject, _unit);", "+\t\t\t\t\t\t_astRoot = createASTFrom(_filesWithAnnotation[i]);", "+\t\t", "+\t\t_curResult = result;", "+\t}"]}], "num": 53483}