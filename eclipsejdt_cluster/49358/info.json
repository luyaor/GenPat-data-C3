{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "715a821afc412fe818ae02317e7d2100", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "409d76cf23a884d3dca80c6e5fa819c8", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/BinaryTypeBinding.java", "commitBeforeChange": "c6083a2d48fa11ffa1e9554a2f00be6af36feafe", "commitAfterChange": "6dbe2813dd7277bd2252f3441ba09237b6b43790", "methodNumberBeforeChange": 49, "methodNumberAfterChange": 49, "signatureBeforeChange": " private void scanFieldForNullAnnotation(IBinaryField field, FieldBinding fieldBinding, boolean isEnum, ITypeAnnotationWalker externalAnnotationWalker)", "signatureAfterChange": " private void scanFieldForNullAnnotation(IBinaryField field, FieldBinding fieldBinding, boolean isEnum, ITypeAnnotationWalker externalAnnotationWalker)", "diff": ["-\tchar[][] nullableAnnotationName = this.environment.getNullableAnnotationName();", "-\tchar[][] nonNullAnnotationName = this.environment.getNonNullAnnotationName();", "-\tif (nullableAnnotationName == null || nonNullAnnotationName == null)", "-\t\treturn; // not well-configured to use null annotations", "-\t\t\tchar[][] typeName = signature2qualifiedTypeName(annotationTypeName);", "-\t\t\tif (CharOperation.equals(typeName, nonNullAnnotationName)) {", "+\t\t\tint typeBit = this.environment.getNullAnnotationBit(signature2qualifiedTypeName(annotationTypeName));", "+\t\t\tif (typeBit == TypeIds.BitNonNullAnnotation) {", "-\t\t\tif (CharOperation.equals(typeName, nullableAnnotationName)) {", "+\t\t\tif (typeBit == TypeIds.BitNullableAnnotation) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "95ab57c866c617d68445a6345ce51635", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/SuperTypeNamesCollector.java", "commitBeforeChange": "0271031e5844c32df2646c3a81a2c00b29e7d251", "commitAfterChange": "14c82497ad7236bee9eedf2d9ff4867e4a47ff21", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 23, "signatureBeforeChange": " protected boolean matches(char[][] compoundName)", "signatureAfterChange": " protected boolean matches(char[][] compoundName)", "diff": ["-}", "-protected boolean matches(char[][] compoundName) {", "-\tint length = compoundName.length;", "-\tif (length == 0) return false;", "-\tchar[] simpleName = compoundName[length-1];", "-\tint last = length - 1;", "-\tif (this.typeSimpleName != null) {", "-\t\t// most frequent case: simple name equals last segment of compoundName", "-\t\tif (this.pattern.matchesName(simpleName, this.typeSimpleName)) {", "-\t\t\tchar[][] qualification = new char[last][];", "-\t\t\tSystem.arraycopy(compoundName, 0, qualification, 0, last);", "-\t\t\treturn ", "-\t\t\t\tthis.pattern.matchesName(", "-\t\t\t\t\tthis.typeQualification, ", "-\t\t\t\t\tCharOperation.concatWith(qualification, '.'));", "-\t\t} else if (!CharOperation.endsWith(simpleName, this.typeSimpleName)) {", "-\t\t\treturn false;", "-\t\t} else {", "-\t\t\t// member type -> transform A.B.C$D into A.B.C.D", "-\t\t\tSystem.arraycopy(compoundName, 0, compoundName = new char[length+1][], 0, last);", "-\t\t\tint dollar = CharOperation.indexOf('$', simpleName);", "-\t\t\tif (dollar == -1) return false;", "-\t\t\tcompoundName[last] = CharOperation.subarray(simpleName, 0, dollar);", "-\t\t\tcompoundName[length] = CharOperation.subarray(simpleName, dollar+1, simpleName.length); ", "-\t\t\treturn this.matches(compoundName);", "-\t\t}", "-\t} else {", "-\t\tchar[][] qualification = new char[last][];", "-\t\tSystem.arraycopy(compoundName, 0, qualification, 0, last);", "-\t\treturn ", "-\t\t\tthis.pattern.matchesName(", "-\t\t\t\tthis.typeQualification, ", "-\t\t\t\tCharOperation.concatWith(qualification, '.'));", "-\t}", "-}", "+}", "+protected boolean matches(char[][] compoundName) {", "+\tint length = compoundName.length;", "+\tif (length == 0) return false;", "+\tchar[] simpleName = compoundName[length-1];", "+\tint last = length - 1;", "+\tif (this.typeSimpleName == null || this.pattern.matchesName(simpleName, this.typeSimpleName)) {", "+\t\t// most frequent case: simple name equals last segment of compoundName", "+\t\tchar[][] qualification = new char[last][];", "+\t\tSystem.arraycopy(compoundName, 0, qualification, 0, last);", "+\t\treturn this.pattern.matchesName(this.typeQualification, CharOperation.concatWith(qualification, '.'));", "+\t}", "+", "+\tif (!CharOperation.endsWith(simpleName, this.typeSimpleName)) return false;", "+", "+\t// member type -> transform A.B.C$D into A.B.C.D", "+\tSystem.arraycopy(compoundName, 0, compoundName = new char[length+1][], 0, last);", "+\tint dollar = CharOperation.indexOf('$', simpleName);", "+\tif (dollar == -1) return false;", "+\tcompoundName[last] = CharOperation.subarray(simpleName, 0, dollar);", "+\tcompoundName[length] = CharOperation.subarray(simpleName, dollar+1, simpleName.length); ", "+\treturn this.matches(compoundName);", "+}"]}], "num": 49358}