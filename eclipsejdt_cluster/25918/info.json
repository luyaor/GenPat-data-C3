{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b610a364e583cab4c71d127397c9c696", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b2f005b1e5f18b8b622d5117e0f7eaaa", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaModelManager.java", "commitBeforeChange": "8257947b843e715f21b92a87dc4b423cbc1eed03", "commitAfterChange": "00cae100ff4808e2019f6a4d94df4143c8fabbd0", "methodNumberBeforeChange": 61, "methodNumberAfterChange": 31, "signatureBeforeChange": " \t \tpublic void removeElementChangedListener(IElementChangedListener listener)", "signatureAfterChange": " \t \tpublic DeltaProcessor getDeltaProcessor()", "diff": ["+\tpublic DeltaProcessor getDeltaProcessor() {", "+\t\treturn this.deltaState.getDeltaProcessor();", "+\t}", "-\tpublic void removeElementChangedListener(IElementChangedListener listener) {", "-\t\t", "-\t\tfor (int i = 0; i < this.elementChangedListenerCount; i++){", "-\t\t\t", "-\t\t\tif (this.elementChangedListeners[i].equals(listener)){", "-\t\t\t\t", "-\t\t\t\t// need to clone defensively since we might be in the middle of listener notifications (#fire)", "-\t\t\t\tint length = this.elementChangedListeners.length;", "-\t\t\t\tIElementChangedListener[] newListeners = new IElementChangedListener[length];", "-\t\t\t\tSystem.arraycopy(this.elementChangedListeners, 0, newListeners, 0, i);", "-\t\t\t\tint[] newMasks = new int[length];", "-\t\t\t\tSystem.arraycopy(this.elementChangedListenerMasks, 0, newMasks, 0, i);", "-\t\t\t\t", "-\t\t\t\t// copy trailing listeners", "-\t\t\t\tint trailingLength = this.elementChangedListenerCount - i - 1;", "-\t\t\t\tif (trailingLength > 0){", "-\t\t\t\t\tSystem.arraycopy(this.elementChangedListeners, i+1, newListeners, i, trailingLength);", "-\t\t\t\t\tSystem.arraycopy(this.elementChangedListenerMasks, i+1, newMasks, i, trailingLength);", "-\t\t\t\t}", "-\t\t\t\t", "-\t\t\t\t// update manager listener state (#fire need to iterate over original listeners through a local variable to hold onto", "-\t\t\t\t// the original ones)", "-\t\t\t\tthis.elementChangedListeners = newListeners;", "-\t\t\t\tthis.elementChangedListenerMasks = newMasks;", "-\t\t\t\tthis.elementChangedListenerCount--;", "-\t\t\t\treturn;", "-\t\t\t}", "-\t\t}", "-\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c34bd1a9a785468d97d0eeb5e0418e76", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaModelManager.java", "commitBeforeChange": "da5e3044bf1aa602314b19a69e01c7d30d0c61d0", "commitAfterChange": "d2a7051ad6f971a1319fef017042d09bcae83b4b", "methodNumberBeforeChange": 42, "methodNumberAfterChange": 42, "signatureBeforeChange": "\r \tpublic void removeElementChangedListener(IElementChangedListener listener)", "signatureAfterChange": "\r \tpublic void removeElementChangedListener(IElementChangedListener listener)", "diff": ["-\t\tfElementChangedListeners.remove(listener);\r", "+\t\t\r", "+\t\tfor (int i = 0; i < this.elementChangedListenerCount; i++){\r", "+\t\t\t\r", "+\t\t\tif (this.elementChangedListeners[i].equals(listener)){\r", "+\t\t\t\t\r", "+\t\t\t\t// need to clone defensively since we might be in the middle of listener notifications (#fire)\r", "+\t\t\t\tint length = this.elementChangedListeners.length;\r", "+\t\t\t\tIElementChangedListener[] newListeners = new IElementChangedListener[length];\r", "+\t\t\t\tSystem.arraycopy(this.elementChangedListeners, 0, newListeners, 0, i);\r", "+\t\t\t\tint[] newMasks = new int[length];\r", "+\t\t\t\tSystem.arraycopy(this.elementChangedListenerMasks, 0, newMasks, 0, i);\r", "+\t\t\t\t\r", "+\t\t\t\t// copy trailing listeners\r", "+\t\t\t\tint trailingLength = this.elementChangedListenerCount - i - 1;\r", "+\t\t\t\tif (trailingLength > 0){\r", "+\t\t\t\t\tSystem.arraycopy(this.elementChangedListeners, i+1, newListeners, i, trailingLength);\r", "+\t\t\t\t\tSystem.arraycopy(this.elementChangedListenerMasks, i+1, newMasks, i, trailingLength);\r", "+\t\t\t\t}\r", "+\t\t\t\t\r", "+\t\t\t\t// update manager listener state (#fire need to iterate over original listeners through a local variable to hold onto\r", "+\t\t\t\t// the original ones)\r", "+\t\t\t\tthis.elementChangedListeners = newListeners;\r", "+\t\t\t\tthis.elementChangedListenerMasks = newMasks;\r", "+\t\t\t\tthis.elementChangedListenerCount--;\r", "+\t\t\t\treturn;\r", "+\t\t\t}\r", "+\t\t}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c8d9faa7e6fa0385bfb302971644c807", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaModelManager.java", "commitBeforeChange": "da5e3044bf1aa602314b19a69e01c7d30d0c61d0", "commitAfterChange": "d2a7051ad6f971a1319fef017042d09bcae83b4b", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "\r \tpublic void addElementChangedListener(IElementChangedListener listener)", "signatureAfterChange": "\r \tpublic void addElementChangedListener(IElementChangedListener listener, int eventMask)", "diff": ["-\tpublic void addElementChangedListener(IElementChangedListener listener) {\r", "-\t\tif (fElementChangedListeners.indexOf(listener) < 0) {\r", "-\t\t\tfElementChangedListeners.add(listener);\r", "+\tpublic void addElementChangedListener(IElementChangedListener listener, int eventMask) {\r", "+\t\tfor (int i = 0; i < this.elementChangedListenerCount; i++){\r", "+\t\t\tif (this.elementChangedListeners[i].equals(listener)){\r", "+\t\t\t\t\r", "+\t\t\t\t// only clone the masks, since we could be in the middle of notifications and one listener decide to change\r", "+\t\t\t\t// any event mask of another listeners (yet not notified).\r", "+\t\t\t\tint cloneLength = this.elementChangedListenerMasks.length;\r", "+\t\t\t\tSystem.arraycopy(this.elementChangedListenerMasks, 0, this.elementChangedListenerMasks = new int[cloneLength], 0, cloneLength);\r", "+\t\t\t\tthis.elementChangedListenerMasks[i] = eventMask; // could be different\r", "+\t\t\t\treturn;\r", "+\t\t\t}\r", "+\t\t// may need to grow, no need to clone, since iterators will have cached original arrays and max boundary and we only add to the end.\r", "+\t\tint length;\r", "+\t\tif ((length = this.elementChangedListeners.length) == this.elementChangedListenerCount){\r", "+\t\t\tSystem.arraycopy(this.elementChangedListeners, 0, this.elementChangedListeners = new IElementChangedListener[length*2], 0, length);\r", "+\t\t\tSystem.arraycopy(this.elementChangedListenerMasks, 0, this.elementChangedListenerMasks = new int[length*2], 0, length);\r", "+\t\t}\r", "+\t\tthis.elementChangedListeners[this.elementChangedListenerCount] = listener;\r", "+\t\tthis.elementChangedListenerMasks[this.elementChangedListenerCount] = eventMask;\r", "+\t\tthis.elementChangedListenerCount++;\r"]}], "num": 25918}