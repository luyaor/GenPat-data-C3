{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4f4b0ec0e598db0e1bf9453d629d624d", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "862725fdad348a99dc36efb5b6b515c5", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/ASTConverter.java", "commitBeforeChange": "3ef93f23afcd2f32a7f2e702fed5d9d29c70e752", "commitAfterChange": "a54ce0f1a5965500a06d345ce2b572137c5b2f38", "methodNumberBeforeChange": 28, "methodNumberAfterChange": 28, "signatureBeforeChange": "\r \r \tpublic ArrayCreation convert(ArrayAllocationExpression expression)", "signatureAfterChange": "\r \r \tpublic ArrayCreation convert(ArrayAllocationExpression expression)", "diff": ["+\t\tif (this.resolveBindings) {\r", "+\t\t\trecordNodes(type, expression.type);\r", "+\t\t}\t\t\r", "+\t\t\tint start = type.getStartPosition();\r", "+\t\t\tint end = type.getStartPosition() + type.getLength();\r", "+\t\t\tint previousSearchStart = end;\r", "+\t\t\tArrayType componentType = (ArrayType) type.getParent();\r", "+\t\t\tfor (int i = 0; i < dimensionsLength; i++) {\r", "+\t\t\t\tpreviousSearchStart = retrieveRightBracketPosition(previousSearchStart + 1, this.compilationUnitSource.length);\r", "+\t\t\t\tcomponentType.setSourceRange(start, previousSearchStart - start + 1);\r", "+\t\t\t\tcomponentType = (ArrayType) componentType.getParent();\r", "+\t\t\t}\r", "+\t\tif (this.resolveBindings) {\r", "+\t\t\trecordNodes(arrayType, expression);\r", "+\t\t}\t\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f6ce02d06d689a6dfb451bac432b32a0", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/ASTConverter.java", "commitBeforeChange": "7f76334b2bb7b495f563a0716e0291f8c0b0738d", "commitAfterChange": "d8abee406a39d7cb77587fdd5c81cab5cf67a426", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 22, "signatureBeforeChange": " \t \tpublic Type convertType(TypeReference typeReference)", "signatureAfterChange": " \t \tpublic Type convertType(TypeReference typeReference)", "diff": ["-\t\t\t\t\tif (dimensions > 1) {", "-\t\t\t\t\t\t// need to set positions for intermediate array type see 42839", "-\t\t\t\t\t\tType currentComponentType = ((ArrayType) type).getComponentType();", "-\t\t\t\t\t\tint searchedDimension = dimensions - 1;", "-\t\t\t\t\t\tint rightBracketEndPosition = end;", "-\t\t\t\t\t\twhile (currentComponentType.isArrayType()) {", "-\t\t\t\t\t\t\trightBracketEndPosition = retrieveProperRightBracketPosition(searchedDimension, end, typeReference.sourceEnd);", "-\t\t\t\t\t\t\tcurrentComponentType.setSourceRange(sourceStart, rightBracketEndPosition - sourceStart + 1);", "-\t\t\t\t\t\t\tcurrentComponentType = ((ArrayType) currentComponentType).getComponentType();", "-\t\t\t\t\t\t\tsearchedDimension--;", "-\t\t\t\t\t\t}\t\t", "-\t\t\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fa9b826163ab21308d2f23a82c41ea6c", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/ASTConverter.java", "commitBeforeChange": "d6fc2f2c7ba2dedb75e0fcdac43229e30637c48e", "commitAfterChange": "e90ecf6dac2cea3cdfe20ac4f66a6b31eaf1db21", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 22, "signatureBeforeChange": " \t \tpublic Type convertType(TypeReference typeReference)", "signatureAfterChange": " \t \tpublic Type convertType(TypeReference typeReference)", "diff": ["+\t\t\t\t\tif (dimensions > 1) {", "+\t\t\t\t\t\t// need to set positions for intermediate array type see 42839", "+\t\t\t\t\t\tType currentComponentType = ((ArrayType) type).getComponentType();", "+\t\t\t\t\t\tint searchedDimension = dimensions - 1;", "+\t\t\t\t\t\tint rightBracketEndPosition = end;", "+\t\t\t\t\t\twhile (currentComponentType.isArrayType()) {", "+\t\t\t\t\t\t\trightBracketEndPosition = retrieveProperRightBracketPosition(searchedDimension, end, typeReference.sourceEnd);", "+\t\t\t\t\t\t\tcurrentComponentType.setSourceRange(sourceStart, rightBracketEndPosition - sourceStart + 1);", "+\t\t\t\t\t\t\tcurrentComponentType = ((ArrayType) currentComponentType).getComponentType();", "+\t\t\t\t\t\t\tsearchedDimension--;", "+\t\t\t\t\t\t}\t\t", "+\t\t\t\t\t}"]}], "num": 26996}