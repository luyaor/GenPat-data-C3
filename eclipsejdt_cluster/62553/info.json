{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0431f64609e98320e1cd2aedce1b4377", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3b62577c539eb90bb98158daa7ee6ee4", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/SuperTypeReferencePattern.java", "commitBeforeChange": "3f513a524299babe8e8187ba844f5588920937db", "commitAfterChange": "c17d493078a2c5dda9d1eb1299696eeeaa1846c4", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 0, "signatureBeforeChange": "  public static char[] createIndexKey( \tint modifiers, \tchar[] packageName, \tchar[] typeName, \tchar[][] enclosingTypeNames, \tchar classOrInterface, \tchar[] superTypeName, \tchar superClassOrInterface)", "signatureAfterChange": "  public static char[] createIndexKey( \tint modifiers, \tchar[] packageName, \tchar[] typeName, \tchar[][] enclosingTypeNames, \tchar classOrInterface, \tchar[] superTypeName, \tchar superClassOrInterface)", "diff": ["-\tSuperTypeReferencePattern record = getSuperTypeReferenceRecord();", "-\trecord.modifiers = modifiers;", "-\trecord.pkgName = packageName;", "-\trecord.classOrInterface = classOrInterface;", "-\trecord.superClassOrInterface = superClassOrInterface;", "+\tSuperTypeReferencePattern pattern = new SuperTypeReferencePattern(R_EXACT_MATCH | R_CASE_SENSITIVE);", "+\tpattern.modifiers = modifiers;", "+\tpattern.pkgName = packageName;", "+\tpattern.classOrInterface = classOrInterface;", "+\tpattern.superClassOrInterface = superClassOrInterface;", "-\trecord.enclosingTypeName = CharOperation.concatWith(enclosingTypeNames, '$');", "-\trecord.simpleName = CharOperation.lastSegment(typeName, '.');", "-\trecord.superSimpleName = CharOperation.lastSegment(superTypeName, '.');", "-\trecord.superQualification = null;", "-\tif (record.superSimpleName != superTypeName) {", "-\t\tint length = superTypeName.length - record.superSimpleName.length - 1;", "-\t\trecord.superQualification = new char[length];", "-\t\tSystem.arraycopy(superTypeName, 0, record.superQualification, 0, length);", "+\tpattern.enclosingTypeName = CharOperation.concatWith(enclosingTypeNames, '$');", "+\tpattern.simpleName = CharOperation.lastSegment(typeName, '.');", "+\tpattern.superSimpleName = CharOperation.lastSegment(superTypeName, '.');", "+\tpattern.superQualification = null;", "+\tif (pattern.superSimpleName != superTypeName) {", "+\t\tint length = superTypeName.length - pattern.superSimpleName.length - 1;", "+\t\tpattern.superQualification = new char[length];", "+\t\tSystem.arraycopy(superTypeName, 0, pattern.superQualification, 0, length);", "-\tchar[] superTypeSourceName = CharOperation.lastSegment(record.superSimpleName, '$');", "-\tif (superTypeSourceName != record.superSimpleName) {", "-\t\tint start = record.superQualification == null ? 0 : record.superQualification.length + 1;", "-\t\tint prefixLength = record.superSimpleName.length - superTypeSourceName.length;", "+\tchar[] superTypeSourceName = CharOperation.lastSegment(pattern.superSimpleName, '$');", "+\tif (superTypeSourceName != pattern.superSimpleName) {", "+\t\tint start = pattern.superQualification == null ? 0 : pattern.superQualification.length + 1;", "+\t\tint prefixLength = pattern.superSimpleName.length - superTypeSourceName.length;", "-\t\tif (record.superQualification != null) {", "-\t\t\tSystem.arraycopy(record.superQualification, 0, mangledQualification, 0, start-1);", "+\t\tif (pattern.superQualification != null) {", "+\t\t\tSystem.arraycopy(pattern.superQualification, 0, mangledQualification, 0, start-1);", "-\t\tSystem.arraycopy(record.superSimpleName, 0, mangledQualification, start, prefixLength);", "-\t\trecord.superQualification = mangledQualification;", "-\t\trecord.superSimpleName = superTypeSourceName;", "+\t\tSystem.arraycopy(pattern.superSimpleName, 0, mangledQualification, start, prefixLength);", "+\t\tpattern.superQualification = mangledQualification;", "+\t\tpattern.superSimpleName = superTypeSourceName;", "-\treturn record.encodeIndexKey();", "+\treturn pattern.encodeIndexKey();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e2cba0d92cdeb8bf8cdf288f8c0cd770", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/SuperTypeReferencePattern.java", "commitBeforeChange": "9ccc53063dda8b7e1afdde95ae36a8417c582abc", "commitAfterChange": "7143e72571bb2e6a2e74f6791210a97b375b5ab6", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "  public static char[] createIndexKey( \tint modifiers, \tchar[] packageName, \tchar[] typeName, \tchar[][] enclosingTypeNames, \tchar classOrInterface, \tchar[] superTypeName, \tchar superClassOrInterface)", "signatureAfterChange": "  public static char[] createIndexKey( \tint modifiers, \tchar[] packageName, \tchar[] typeName, \tchar[][] enclosingTypeNames, \tchar classOrInterface, \tchar[] superTypeName, \tchar superClassOrInterface)", "diff": ["-\tSuperTypeReferencePattern pattern = new SuperTypeReferencePattern(R_EXACT_MATCH | R_CASE_SENSITIVE);", "-\tpattern.modifiers = modifiers;", "-\tpattern.pkgName = packageName;", "-\tpattern.classOrInterface = classOrInterface;", "-\tpattern.superClassOrInterface = superClassOrInterface;", "-\tpattern.enclosingTypeName = CharOperation.concatWith(enclosingTypeNames, '$');", "-\tpattern.simpleName = CharOperation.lastSegment(typeName, '.');", "-\tpattern.superSimpleName = CharOperation.lastSegment(superTypeName, '.');", "-\tpattern.superQualification = null;", "-\tif (pattern.superSimpleName != superTypeName) {", "-\t\tint length = superTypeName.length - pattern.superSimpleName.length - 1;", "-\t\tpattern.superQualification = new char[length];", "-\t\tSystem.arraycopy(superTypeName, 0, pattern.superQualification, 0, length);", "+\tchar[] simpleName = CharOperation.lastSegment(typeName, '.');", "+\tchar[] enclosingTypeName = CharOperation.concatWith(enclosingTypeNames, '$');", "+\tchar[] superSimpleName = CharOperation.lastSegment(superTypeName, '.');", "+\tchar[] superQualification = null;", "+\tif (superSimpleName != superTypeName) {", "+\t\tint length = superTypeName.length - superSimpleName.length - 1;", "+\t\tsuperQualification = new char[length];", "+\t\tSystem.arraycopy(superTypeName, 0, superQualification, 0, length);", "-\tchar[] superTypeSourceName = CharOperation.lastSegment(pattern.superSimpleName, '$');", "-\tif (superTypeSourceName != pattern.superSimpleName) {", "-\t\tint start = pattern.superQualification == null ? 0 : pattern.superQualification.length + 1;", "-\t\tint prefixLength = pattern.superSimpleName.length - superTypeSourceName.length;", "+\tchar[] superTypeSourceName = CharOperation.lastSegment(superSimpleName, '$');", "+\tif (superTypeSourceName != superSimpleName) {", "+\t\tint start = superQualification == null ? 0 : superQualification.length + 1;", "+\t\tint prefixLength = superSimpleName.length - superTypeSourceName.length;", "-\t\tif (pattern.superQualification != null) {", "-\t\t\tSystem.arraycopy(pattern.superQualification, 0, mangledQualification, 0, start-1);", "+\t\tif (superQualification != null) {", "+\t\t\tSystem.arraycopy(superQualification, 0, mangledQualification, 0, start-1);", "-\t\tSystem.arraycopy(pattern.superSimpleName, 0, mangledQualification, start, prefixLength);", "-\t\tpattern.superQualification = mangledQualification;", "-\t\tpattern.superSimpleName = superTypeSourceName;", "+\t\tSystem.arraycopy(superSimpleName, 0, mangledQualification, start, prefixLength);", "+\t\tsuperQualification = mangledQualification;", "+\t\tsuperSimpleName = superTypeSourceName;", "-\t", "-\treturn pattern.encodeIndexKey();", "+", "+\tint superLength = superSimpleName == null ? 0 : superSimpleName.length;", "+\tint superQLength = superQualification == null ? 0 : superQualification.length;", "+\tint simpleLength = simpleName == null ? 0 : simpleName.length;", "+\tint enclosingLength = enclosingTypeName == null ? 0 : enclosingTypeName.length;", "+\tint packageLength = packageName == null ? 0 : packageName.length;", "+\tchar[] result = new char[superLength + superQLength + simpleLength + enclosingLength + packageLength + 8];", "+\tint pos = 0;", "+\tif (superLength > 0) {", "+\t\tSystem.arraycopy(superSimpleName, 0, result, pos, superLength);", "+\t\tpos += superLength;", "+\t}", "+\tresult[pos++] = SEPARATOR;", "+\tif (superQLength > 0) {", "+\t\tSystem.arraycopy(superQualification, 0, result, pos, superQLength);", "+\t\tpos += superQLength;", "+\t}", "+\tresult[pos++] = SEPARATOR;", "+\tif (simpleLength > 0) {", "+\t\tSystem.arraycopy(simpleName, 0, result, pos, simpleLength);", "+\t\tpos += simpleLength;", "+\t}", "+\tresult[pos++] = SEPARATOR;", "+\tif (enclosingLength > 0) {", "+\t\tSystem.arraycopy(enclosingTypeName, 0, result, pos, enclosingLength);", "+\t\tpos += enclosingLength;", "+\t}", "+\tresult[pos++] = SEPARATOR;", "+\tif (packageLength > 0) {", "+\t\tSystem.arraycopy(packageName, 0, result, pos, packageLength);", "+\t\tpos += packageLength;", "+\t}", "+\tresult[pos++] = SEPARATOR;", "+\tresult[pos++] = superClassOrInterface;", "+\tresult[pos++] = classOrInterface;", "+\tresult[pos] = (char) modifiers;", "+\treturn result;"]}], "num": 62553}