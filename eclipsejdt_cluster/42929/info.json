{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5eb97185a57ccb97eacf35c2ef77cf44", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1e601cc782ce8073aabf2a69a0a377c3", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/generatedfile/GeneratedFileManager.java", "commitBeforeChange": "f2f45b09c61cdc4a3bb7702f92f8e4fdcb969052", "commitAfterChange": "f33fe27819e8270eb24d0e5a64c8fba3d823b0e8", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 20, "signatureBeforeChange": " \tpublic boolean ensureGeneratedSourceFolder( IProgressMonitor progressMonitor ) \t\tthrows CoreException", "signatureAfterChange": " \tpublic boolean ensureGeneratedSourceFolder( IProgressMonitor progressMonitor )", "diff": ["-\tpublic boolean ensureGeneratedSourceFolder( IProgressMonitor progressMonitor )", "-\t\tthrows CoreException", "-\t{", "+\tpublic boolean ensureGeneratedSourceFolder( IProgressMonitor progressMonitor ){", "-\t\t", "-\t\t// don't take any locks in while creating the folder, since we are doing file-system operations", "+\t\t// don't take any locks while creating the folder, since we are doing file-system operations", "-\t\tsrcFolder.refreshLocal( IResource.DEPTH_INFINITE, progressMonitor );", "-\t\tif (!srcFolder.exists()) {", "-\t\t\tFileSystemUtil.makeDerivedParentFolders(srcFolder);", "-\t\t}", "+\t\ttry{ ", "+\t\t\tsrcFolder.refreshLocal( IResource.DEPTH_INFINITE, progressMonitor );", "+\t\t\tif (!srcFolder.exists()) {", "+\t\t\t\tFileSystemUtil.makeDerivedParentFolders(srcFolder);", "+\t\t\t}", "+\t\t\t\t", "+\t\t\t//", "+\t\t\t// make sure __generated_src dir is on the cp if not already", "+\t\t\t//", "+\t\t\tupdateProjectClasspath( _javaProject, srcFolder, progressMonitor );", "-\t\t//", "-\t\t// make sure __generated_src dir is on the cp if not already", "-\t\t//", "-\t\tboolean addedToSourcePath = updateProjectClasspath( _javaProject, srcFolder, progressMonitor );", "+\t\t\tif(AptPlugin.DEBUG)", "+\t\t\t\tAptPlugin.trace(\"Added directory \" + srcFolder.getName() + \" and updated classpath\" ); //$NON-NLS-1$ //$NON-NLS-2$", "+\t\t}", "+\t\tcatch(CoreException e){\t\t\t\t\t\t", "+\t\t\te.printStackTrace();", "+\t\t\tAptPlugin.log(e, \"Failed to create generated source directory\"); //$NON-NLS-1$", "+\t\t}", "-\t\t\treturn addedToSourcePath;", "+\t\t\treturn true;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "df16f0d3e1f6d39a45f370bec1f326b2", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/generatedfile/GeneratedFileManager.java", "commitBeforeChange": "57e6ab81c3cf39fecb76455d174c657f7c273f84", "commitAfterChange": "8c4c03ed87f5ba92a46a042a6bd51df21862c6ec", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 18, "signatureBeforeChange": " \tprivate IFolder ensureGeneratedSourceFolder( IJavaProject javaProject, IProgressMonitor progressMonitor ) \t\tthrows CoreException", "signatureAfterChange": " \tprivate IFolder ensureGeneratedSourceFolder( IJavaProject javaProject, IProgressMonitor progressMonitor ) \t\tthrows CoreException", "diff": ["-\t\tif ( _generatedSourceFolder == null)", "-\t\t{", "-\t\t\t_generatedSourceFolder = getGeneratedSourceFolder();", "-\t\t\t_generatedSourceFolder.refreshLocal( IResource.DEPTH_INFINITE, progressMonitor );", "-\t\t\tif (!_generatedSourceFolder.exists())", "-\t\t\t\t_generatedSourceFolder.create(true, false, progressMonitor );", "+\t\t// don't take any locks in this method, since we are doing file-system operations", "+\t\tIFolder srcFolder = getGeneratedSourceFolder();", "+\t\tsrcFolder.refreshLocal( IResource.DEPTH_INFINITE, progressMonitor );", "+\t\tif (!srcFolder.exists())", "+\t\t\tsrcFolder.create(true, false, progressMonitor );", "-\t\t\t//", "-\t\t\t// make sure __generated_src dir is on the cp if not already", "-\t\t\t//", "-\t\t\tupdateProjectClasspath( javaProject, _generatedSourceFolder, progressMonitor );", "-\t\t}", "-\t\treturn _generatedSourceFolder;", "+\t\t//", "+\t\t// make sure __generated_src dir is on the cp if not already", "+\t\t//", "+\t\tupdateProjectClasspath( javaProject, _generatedSourceFolder, progressMonitor );", "+\t\t", "+\t\treturn srcFolder;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e5579dfaba0ab836f50f43237c36885f", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/generatedfile/GeneratedFileManager.java", "commitBeforeChange": "69d976ecb2b4a910a78fb1eaf551e2775a0ff256", "commitAfterChange": "6e7138933a7b0a4bb6f562a7b0b5324e7f7fa604", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 20, "signatureBeforeChange": " \tpublic boolean ensureGeneratedSourceFolder( IProgressMonitor progressMonitor )", "signatureAfterChange": " \tpublic boolean ensureGeneratedSourceFolder( IProgressMonitor progressMonitor )", "diff": ["+\t\tboolean reset = false;", "+\t\tIFolder curSrcFolder = null;", "-\t\t\tif ( _generatedSourceFolder != null )", "+\t\t\tif( _generatedSourceFolderName == null )", "+\t\t\tif( _generatedSourceFolder != null ){", "+\t\t\t\tfinal IPath srcFolderPath = _generatedSourceFolder.getProjectRelativePath();", "+\t\t\t\t", "+\t", "+\t\t\t\tif( !_generatedSourceFolderName.equals( srcFolderPath.toString()) ){", "+\t\t\t\t\treset = true;", "+\t\t\t\t\tcurSrcFolder = _generatedSourceFolder;", "+\t\t\t\t\t_generatedSourceFolder = null;", "+\t\t\t\t}", "+\t\t\t\telse", "+\t\t\t\t\treturn false;", "+\t\t\t}", "+\t", "-\t\t// don't take any locks while creating the folder, since we are doing file-system operations", "-\t\tIFolder srcFolder = getGeneratedSourceFolder();", "-\t\ttry{ ", "+\t\tIFolder srcFolder = null;", "+\t\ttry{", "+\t\t\tif( reset ){", "+\t\t\t\t// the generated source folder and the generated source folder name is not", "+\t\t\t\t// lining up.", "+\t\t\t\tremoveFromProjectClasspath(_javaProject, curSrcFolder, progressMonitor );", "+\t\t\t\tif ( curSrcFolder.exists() ){", "+\t\t\t\t\tif( AptPlugin.DEBUG )", "+\t\t\t\t\t\tAptPlugin.trace(\"deleting gen src dir \" + curSrcFolder.getName() ); //$NON-NLS-1$", "+\t\t\t\t\tcurSrcFolder.delete( true, false, null );", "+\t\t\t\t}", "+\t\t\t}", "+\t\t\t\t", "+\t\t\t// don't take any locks while creating the folder, since we are doing file-system operations", "+\t\t\tsrcFolder = getGeneratedSourceFolder();", "+\t\t "]}], "num": 42929}