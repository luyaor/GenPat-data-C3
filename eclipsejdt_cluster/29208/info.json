{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5ed14aa41bd029fd1585c0db380065f1", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3d02468bcb8e98cb096ff4b20b507097", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/FakedTrackingVariable.java", "commitBeforeChange": "8cb3365a924e5869d5c8a5715a80d4cd8189b243", "commitAfterChange": "4ec04ec7ec987de2e86c2ac8cdacbf6a8acd72a4", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": " \tprivate static FakedTrackingVariable analyseCloseableExpression(FlowInfo flowInfo, FlowContext flowContext, LocalVariableBinding local,  \t\t\t\t\t\t\t\t\tASTNode location, Expression expression, FakedTrackingVariable previousTracker)", "signatureAfterChange": " \tprivate static FakedTrackingVariable analyseCloseableExpression(FlowInfo flowInfo, FlowContext flowContext, LocalVariableBinding local,  \t\t\t\t\t\t\t\t\tASTNode location, Expression expression, FakedTrackingVariable previousTracker)", "diff": ["+\t\tboolean isResourceProducer = false;", "+\t\tif (expression.resolvedType instanceof ReferenceBinding) {", "+\t\t\tReferenceBinding resourceType = (ReferenceBinding) expression.resolvedType;", "+\t\t\tif (resourceType.hasTypeBit(TypeIds.BitResourceFreeCloseable)) {", "+\t\t\t\tif (isBlacklistedMethod(expression))", "+\t\t\t\t\tisResourceProducer = true;", "+\t\t\t\telse", "+\t\t\t\t\treturn null; // (a) resource-free closeable: -> null", "+\t\t\t}", "+\t\t}", "+", "-\t\t\ttracker.globalClosingState |= SHARED_WITH_OUTSIDE;", "+\t\t\tif (!isResourceProducer)", "+\t\t\t\ttracker.globalClosingState |= SHARED_WITH_OUTSIDE;", "-\t\tif (expression.resolvedType instanceof ReferenceBinding) {", "-\t\t\tReferenceBinding resourceType = (ReferenceBinding) expression.resolvedType;", "-\t\t\tif (resourceType.hasTypeBit(TypeIds.BitResourceFreeCloseable)) {", "-\t\t\t\t// (a) resource-free closeable: -> null", "-\t\t\t\treturn null;", "-\t\t\t}", "-\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4ef9fcf0e262099c31c2772eb2fd2e05", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/Scope.java", "commitBeforeChange": "83dc88df7a1508be17b764df4120ac8a34178f58", "commitAfterChange": "f428b70bc80bfdae47260a00a8636113b21b698c", "methodNumberBeforeChange": 72, "methodNumberAfterChange": 72, "signatureBeforeChange": " \tprotected TypeBinding[] minimalErasedCandidates(TypeBinding[] types, Map allInvocations)", "signatureAfterChange": " \tprotected TypeBinding[] minimalErasedCandidates(TypeBinding[] types, Map allInvocations)", "diff": ["-\t\tTypeBinding firstErasure = (leafType.isTypeVariable() || leafType.isWildcard()/*&& !leafType.isCapture()*/) ? firstType : firstType.erasure();", "+\t    // do not allow type variables/intersection types to match with erasures for free", "+\t\tTypeBinding firstErasure;", "+\t\tswitch(leafType.kind()) {", "+\t\t\tcase Binding.PARAMETERIZED_TYPE :", "+\t\t\tcase Binding.RAW_TYPE :", "+\t\t\tcase Binding.ARRAY_TYPE : ", "+\t\t\t\tfirstErasure = firstType.erasure();", "+\t\t\t\tbreak;", "+\t\t\tdefault :", "+\t\t\t\tfirstErasure = firstType;", "+\t\t\t\tbreak;", "+\t\t}", "-\t\t\t\t\tif ((match = otherType.findSuperTypeWithSameErasure(erasedSuperType)) == null) {", "+\t\t\t\t\tif ((match = otherType.findSuperTypeOriginatingFrom(erasedSuperType)) == null) {", "-\t\t\t\t\t\tmatch = otherType.findSuperTypeWithSameErasure(erasedSuperType);", "+\t\t\t\t\t\tmatch = otherType.findSuperTypeOriginatingFrom(erasedSuperType);", "-\t\t\t\t\t\tif (erasedSuperType.findSuperTypeWithSameErasure(otherType) != null) {", "+\t\t\t\t\t\tif (erasedSuperType.findSuperTypeOriginatingFrom(otherType) != null) {", "-\t\t\t\t\t\tif (erasedSuperType.findSuperTypeWithSameErasure(otherType) != null) {", "+\t\t\t\t\t\tif (erasedSuperType.findSuperTypeOriginatingFrom(otherType) != null) {"]}], "num": 29208}