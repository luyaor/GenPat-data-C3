{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f8715597de5deb372e2d346c7f520b50", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "67ee63fd772c6183e68c3a6c3e64dde1", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/DefaultCodeFormatter.java", "commitBeforeChange": "9005c9ffea5dbe589da9a701dec94633587d8b3b", "commitAfterChange": "4a2995e55bb490ddda70decb3fa4c48aaec59c94", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "  \tprivate void findHeader()", "signatureAfterChange": "  \tprivate void findHeader()", "diff": ["-\t\t\tList<TypeDeclaration> types = ((CompilationUnit) this.astRoot).types();", "-\t\t\tif (!types.isEmpty()) {", "-\t\t\t\tint headerEndIndex = this.tokenManager.firstIndexIn(types.get(0), -1);", "+\t\t\tCompilationUnit unit = (CompilationUnit) this.astRoot;", "+\t\t\tList<TypeDeclaration> types = unit.types();", "+\t\t\tASTNode firstElement = types.isEmpty() ? unit.getPackage() : types.get(0);", "+\t\t\tif (firstElement != null) {", "+\t\t\t\tint headerEndIndex = this.tokenManager.firstIndexIn(firstElement, -1);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c6102da971c6e218407e322a0a353c13", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/generatedfile/ElementChangedListener.java", "commitBeforeChange": "0b27b465378d2c4de912ede755b716ec1bc3271b", "commitAfterChange": "e8b8473542c4e4cb01bff6dc692097c4a3eca5c6", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " \t \tprivate void processElementDelta( IJavaElementDelta delta )", "signatureAfterChange": " \t \tprivate void processElementDelta( IJavaElementDelta delta )", "diff": ["+\t\t\t//", "+\t\t\t// handle case where a working copy is discarded (e.g., an editor is closed).  If an editor ", "+\t\t\t// is noopen, then the compilation unit's isWorkingCopy() will return false.", "+\t\t\t//", "+\t\t\t", "-\t\t\t\t", "-\t\t\t// handle case where a parent editor is closed.  If an editor is open, then ", "-\t\t\t// the compilation unit's isWorkingCopy() will return false.", "-\t\t\tif ( ! cu.isWorkingCopy() )", "+", "+\t\t\t//", "+\t\t\t// cu.isWorkingCopy() doesn't work here.  For back-compat reasons, that always returns ", "+\t\t\t// true for non-primary working copies, so we use the following test to see if a working copy", "+\t\t\t// has been discarded.", "+\t\t\t//", "+\t\t\t// TODO:  remove reference to jdt-internal class", "+\t\t\t//", "+\t\t\torg.eclipse.jdt.internal.core.CompilationUnit cu2 = (org.eclipse.jdt.internal.core.CompilationUnit)cu;\t\t\t", "+\t\t\tboolean workingCopyDiscarded = cu2.isPrimary() ? !cu.isWorkingCopy() : cu2.getPerWorkingCopyInfo() == null;", "+", "+\t\t\tif ( workingCopyDiscarded )"]}], "num": 2398}