{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9ecf4de578f16e125dedbcd699b4e66c", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3cd5b861dccb76596d0341b7928d7f05", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/WorkingCopyTests.java", "commitBeforeChange": "97b330eb505dfca0980041926ec66a0261a5be5c", "commitAfterChange": "d3580136581144eb64c8a6ff7ec886b58a1ec764", "methodNumberBeforeChange": 32, "methodNumberAfterChange": 31, "signatureBeforeChange": " public void testShared2() throws JavaModelException", "signatureAfterChange": " public void testShared2() throws JavaModelException", "diff": ["-\tIWorkingCopy shared = (IWorkingCopy)this.cu.getSharedWorkingCopy(null, null, null);", "+\tICompilationUnit shared = (ICompilationUnit)this.cu.getSharedWorkingCopy(null, null, null);", "-\t\tIWorkingCopy shared2 = (IWorkingCopy)this.cu.getSharedWorkingCopy(null, null, null);", "+\t\tICompilationUnit shared2 = (ICompilationUnit)this.cu.getSharedWorkingCopy(null, null, null);", "-\t\tshared.destroy();", "+\t\tshared.discardWorkingCopy();", "-\t\t\tassertTrue(\"Original element should still have shared working copy\", this.cu.findSharedWorkingCopy(null) == shared);", "+\t\t\tassertTrue(\"Primary element should still have shared working copy\", this.cu.findSharedWorkingCopy(null) == shared);", "-\t\t\tshared.destroy();", "+\t\t\tshared.discardWorkingCopy();", "-\tassertTrue(\"Original element should not have shared working copy\", this.cu.findSharedWorkingCopy(null) == null);", "+\tassertTrue(\"Primary element should not have shared working copy\", this.cu.findSharedWorkingCopy(null) == null);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4e419cb76e5a8e01bd938fa4ff6e1ebb", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/WorkingCopyTests.java", "commitBeforeChange": "0ce8ad5b0d44dc70bab93f6f64c0b898ece7748d", "commitAfterChange": "42f83db749431568a0412462e46b75fee51080ac", "methodNumberBeforeChange": 30, "methodNumberAfterChange": 30, "signatureBeforeChange": " public void testShared1() throws JavaModelException", "signatureAfterChange": " public void testShared1() throws JavaModelException", "diff": ["-\tIJavaElement shared = this.cu.getSharedWorkingCopy(null, null, null);", "+\tWorkingCopyOwner owner = new WorkingCopyOwner() {};", "+\tICompilationUnit shared = this.cu.getWorkingCopy(owner, null, null);", "-\t\tassertTrue(\"Should be an ICompilationUnit\", shared instanceof ICompilationUnit);", "-\t\tassertTrue(\"Primary element should have shared working copy\", this.cu.findSharedWorkingCopy(null) == shared);", "+\t\tassertTrue(\"Should find shared working copy\", this.cu.findWorkingCopy(owner) == shared);", "-\t\tif (shared instanceof ICompilationUnit) {", "-\t\t\t((ICompilationUnit)shared).discardWorkingCopy();", "-\t\t}", "+\t\tshared.discardWorkingCopy();", "-\tassertTrue(\"Primary element should not have shared working copy\", this.cu.findSharedWorkingCopy(null) == null);", "+\tassertTrue(\"Should not find cu with same owner\", this.cu.findWorkingCopy(owner) == null);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7e0977ca5acf3b52f1626bb87dfc8462", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/WorkingCopyTests.java", "commitBeforeChange": "97b330eb505dfca0980041926ec66a0261a5be5c", "commitAfterChange": "d3580136581144eb64c8a6ff7ec886b58a1ec764", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": " public void testGeneral() throws JavaModelException, CoreException", "signatureAfterChange": " public void testGeneral() throws JavaModelException, CoreException", "diff": ["-\tassertTrue(\"can't get original from original\", this.cu.getOriginalElement() == null);", "+\tassertEquals(\"primary should be the samel\", this.cu, this.cu.getPrimary());", "-\tassertTrue(\"getting working copy from a copy should yield original copy\", this.copy.getWorkingCopy() == this.copy);", "+\tassertEquals(\"getting working copy from a copy should yield original copy\", this.copy, this.copy.getWorkingCopy(null));", "-\tICompilationUnit copy2= (ICompilationUnit)this.cu.getWorkingCopy();", "+\tICompilationUnit copy2= this.cu.getWorkingCopy(null);", "-\t\tcopy2.commit(false, null);", "+\t\tcopy2.commitWorkingCopy(false, null);", "-\t\t\tthis.copy.commit(false, null);", "+\t\t\tthis.copy.commitWorkingCopy(false, null);", "-\t\t\tthis.copy.commit(true, null);", "+\t\t\tthis.copy.commitWorkingCopy(true, null);", "-\t\t// now destroy the handle", "-\t\tthis.copy.destroy();", "+\t\t// now discard the working copy", "+\t\tthis.copy.discardWorkingCopy();", "-\t\tcopy2.destroy();", "+\t\tcopy2.discardWorkingCopy();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "80bcd29ece61b4eb765a90dd4137bd9c", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/WorkingCopyTests.java", "commitBeforeChange": "0ce8ad5b0d44dc70bab93f6f64c0b898ece7748d", "commitAfterChange": "42f83db749431568a0412462e46b75fee51080ac", "methodNumberBeforeChange": 31, "methodNumberAfterChange": 31, "signatureBeforeChange": " public void testShared2() throws JavaModelException", "signatureAfterChange": " public void testShared2() throws JavaModelException", "diff": ["-\tICompilationUnit shared = (ICompilationUnit)this.cu.getSharedWorkingCopy(null, null, null);", "+\tWorkingCopyOwner owner = new WorkingCopyOwner() {};", "+\tICompilationUnit shared = this.cu.getWorkingCopy(owner, null, null);", "-\t\tICompilationUnit shared2 = (ICompilationUnit)this.cu.getSharedWorkingCopy(null, null, null);", "+\t\tICompilationUnit shared2 = this.cu.getWorkingCopy(owner, null, null);", "-\t\t\tassertTrue(\"Primary element should still have shared working copy\", this.cu.findSharedWorkingCopy(null) == shared);", "+\t\t\tassertTrue(\"Should find shared working copy\", this.cu.findWorkingCopy(owner) == shared);", "-\tassertTrue(\"Primary element should not have shared working copy\", this.cu.findSharedWorkingCopy(null) == null);", "+\tassertTrue(\"Should not find cu with same owner\", this.cu.findWorkingCopy(owner) == null);"]}], "num": 27582}