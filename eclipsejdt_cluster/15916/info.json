{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "be555aef8717ca20cfb2d86847324000", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8da17818dd38429dbe838ca85b075e4d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/QualifiedNameReference.java", "commitBeforeChange": "5dd0de42e39b5ae6b6ed70261ede6298820c064c", "commitAfterChange": "2d1b668da982fab23d85fda225f2e9df3073c2e1", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": " public FieldBinding generateReadSequence(BlockScope currentScope, CodeStream codeStream)", "signatureAfterChange": " public FieldBinding generateReadSequence(BlockScope currentScope, CodeStream codeStream)", "diff": ["-\tint otherBindingsCount = this.otherCodegenBindings == null ? 0 : this.otherCodegenBindings.length;", "+\tint otherBindingsCount = this.otherBindings == null ? 0 : this.otherBindings.length;", "-\tFieldBinding lastFieldBinding = null;", "-\tTypeBinding lastGenericCast = null;", "+\tFieldBinding lastFieldBinding;", "+\tTypeBinding lastGenericCast;", "+\tTypeBinding lastReceiverType;", "-\t\t\tlastFieldBinding = (FieldBinding) this.codegenBinding;", "+\t\t\tlastFieldBinding = ((FieldBinding) this.binding).original();", "+\t\t\tlastReceiverType = this.actualReceiverType;", "+\t\t\tlastFieldBinding = null;", "+\t\t\tlastGenericCast = null;", "+\t\t\tLocalVariableBinding localBinding = (LocalVariableBinding) this.binding;", "+\t\t\tlastReceiverType = localBinding.type;", "-\t\t\tLocalVariableBinding localBinding = (LocalVariableBinding) this.codegenBinding;", "+\t\t\tbreak;", "+\t\tdefault : // should not occur", "+\t\t\treturn null;", "-\tif (this.otherCodegenBindings != null) {", "+\tFieldBinding initialFieldBinding = lastFieldBinding; // can be null if initial was a local binding", "+\tif (this.otherBindings != null) {", "-\t\t\tFieldBinding nextField = this.otherCodegenBindings[i];", "+\t\t\tFieldBinding nextField = this.otherBindings[i].original();", "+\t\t\t\t\t\t\tTypeBinding constantPoolDeclaringClass = CodeStream.getConstantPoolDeclaringClass(currentScope, lastFieldBinding, lastReceiverType, i == 0 && this.indexOfFirstFieldBinding == 1);", "-\t\t\t\t\t\t\t\tcodeStream.getstatic(lastFieldBinding);", "+\t\t\t\t\t\t\t\tcodeStream.fieldAccess(Opcodes.OPC_getstatic, lastFieldBinding, constantPoolDeclaringClass);", "-\t\t\t\t\t\t\t\tcodeStream.getfield(lastFieldBinding);", "+\t\t\t\t\t\t\t\tcodeStream.fieldAccess(Opcodes.OPC_getfield, lastFieldBinding, constantPoolDeclaringClass);", "-\t\t\t\t\t\tif (lastGenericCast != null) codeStream.checkcast(lastGenericCast);", "+\t\t\t\t\t\tif (lastGenericCast != null) {", "+\t\t\t\t\t\t\tcodeStream.checkcast(lastGenericCast);", "+\t\t\t\t\t\t\tlastReceiverType = lastGenericCast;", "+\t\t\t\t\t\t} else {", "+\t\t\t\t\t\t\tlastReceiverType = lastFieldBinding.type;", "+\t\t\t\t\t\t}", "-\t\t\t\t\t\tif (this.codegenBinding == lastFieldBinding) {", "+\t\t\t\t\t\tif (lastFieldBinding == initialFieldBinding) {", "-\t\t\t\t\t\t\t\tif (((FieldBinding)this.binding).original().declaringClass != this.actualReceiverType.erasure()) {", "+\t\t\t\t\t\t\t\tif (initialFieldBinding.declaringClass != this.actualReceiverType.erasure()) {", "-\t\t\t\t\t\t\t\t\t\tcodeStream.getstatic(lastFieldBinding);", "+\t\t\t\t\t\t\t\t\t\tTypeBinding constantPoolDeclaringClass = CodeStream.getConstantPoolDeclaringClass(currentScope, lastFieldBinding, lastReceiverType, i == 0 && this.indexOfFirstFieldBinding == 1);", "+\t\t\t\t\t\t\t\t\t\tcodeStream.fieldAccess(Opcodes.OPC_getstatic, lastFieldBinding, constantPoolDeclaringClass);", "+\t\t\t\t\t\tlastReceiverType = lastFieldBinding.type;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b75f4711da2c40c293da3a4ccbe103de", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/QualifiedNameReference.java", "commitBeforeChange": "c2862088078b3d0bc7ba3af4b4865ffe4ca72da7", "commitAfterChange": "945521c99c895e07ea8e1e22071b43333b314109", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " \tpublic FlowInfo analyseAssignment( \t\tBlockScope currentScope, \t\tFlowContext flowContext, \t\tFlowInfo flowInfo, \t\tAssignment assignment, \t\tboolean isCompound)", "signatureAfterChange": " \tpublic FlowInfo analyseAssignment( \t\tBlockScope currentScope, \t\tFlowContext flowContext, \t\tFlowInfo flowInfo, \t\tAssignment assignment, \t\tboolean isCompound)", "diff": ["-\t\tint indexOfFirstValueRequired = otherBindingsCount;", "-\t\twhile (indexOfFirstValueRequired > 0) {", "-\t\t\tFieldBinding otherBinding = otherBindings[indexOfFirstValueRequired - 1];", "-\t\t\tif (otherBinding.isStatic())", "-\t\t\t\tbreak; // no longer need any value before this point", "-\t\t\tindexOfFirstValueRequired--;", "-\t\t}", "-\t\tFieldBinding lastFieldBinding = null;", "-\t\tif ((bits & FIELD) != 0) {", "-\t\t\t// reading from a field", "-\t\t\t// check if final blank field", "-\t\t\tif ((lastFieldBinding = (FieldBinding) binding).isBlankFinal()", "-\t\t\t    && this.otherBindings != null // the last field binding is only assigned", "- \t\t\t\t&& currentScope.allowBlankFinalFieldAssignment(lastFieldBinding)) {", "-\t\t\t\tif (!flowInfo.isDefinitelyAssigned(lastFieldBinding)) {", "-\t\t\t\t\tcurrentScope.problemReporter().uninitializedBlankFinalField(", "-\t\t\t\t\t\tlastFieldBinding,", "-\t\t\t\t\t\tthis);", "+\t\tboolean needValue = otherBindingsCount == 0 || !this.otherBindings[0].isStatic();", "+\t\tswitch (bits & RestrictiveFlagMASK) {", "+\t\t\tcase FIELD : // reading a field", "+\t\t\t\tlastFieldBinding = (FieldBinding) binding;", "+\t\t\t\tif (needValue) {", "+\t\t\t\t\tmanageSyntheticReadAccessIfNecessary(currentScope, lastFieldBinding, this.actualReceiverType, 0);", "+\t\t\t\t}\t\t\t\t// check if final blank field", "+\t\t\t\tif (lastFieldBinding.isBlankFinal()", "+\t\t\t\t    && this.otherBindings != null // the last field binding is only assigned", "+\t \t\t\t\t&& currentScope.allowBlankFinalFieldAssignment(lastFieldBinding)) {", "+\t\t\t\t\tif (!flowInfo.isDefinitelyAssigned(lastFieldBinding)) {", "+\t\t\t\t\t\tcurrentScope.problemReporter().uninitializedBlankFinalField(", "+\t\t\t\t\t\t\tlastFieldBinding,", "+\t\t\t\t\t\t\tthis);", "+\t\t\t\t\t}", "-\t\t\t}", "-\t\t} else {", "-\t\t\tif ((bits & LOCAL) != 0) {", "+\t\t\t\tbreak;", "+\t\t\tcase LOCAL :", "-\t\t\t}", "-\t\tif (indexOfFirstValueRequired == 0) {", "+\t\t", "+\t\tif (needValue) {", "-\t\t\tint start = indexOfFirstValueRequired == 0 ? 0 : indexOfFirstValueRequired - 1;", "-\t\t\tfor (int i = start; i < otherBindingsCount; i++) {", "-\t\t\t\tif (lastFieldBinding != null) { // could be null if first was a local variable", "-\t\t\t\t\tTypeBinding lastReceiverType;", "-\t\t\t\t\tswitch(i){", "-\t\t\t\t\t\tcase 0 :", "-\t\t\t\t\t\t\tlastReceiverType = this.actualReceiverType;", "-\t\t\t\t\t\t\tbreak;", "-\t\t\t\t\t\tcase 1 :", "-\t\t\t\t\t\t\tlastReceiverType = ((VariableBinding)binding).type;", "-\t\t\t\t\t\t\tbreak;", "-\t\t\t\t\t\tdefault :", "-\t\t\t\t\t\t\tlastReceiverType = otherBindings[i-2].type;", "-\t\t\t\t\t}", "+\t\t\tfor (int i = 0; i < otherBindingsCount-1; i++) {", "+\t\t\t\tlastFieldBinding = otherBindings[i];", "+\t\t\t\tneedValue = !otherBindings[i+1].isStatic();", "+\t\t\t\tif (needValue) {", "-\t\t\t\t\t\tlastReceiverType,", "-\t\t\t\t\t\ti);", "+\t\t\t\t\t\ti == 0 ", "+\t\t\t\t\t\t\t? ((VariableBinding)binding).type", "+\t\t\t\t\t\t\t: otherBindings[i-1].type,", "+\t\t\t\t\t\ti + 1);", "-\t\t\t\tlastFieldBinding = otherBindings[i];", "+\t\t\tlastFieldBinding = otherBindings[otherBindingsCount-1];", "+"]}], "num": 15916}