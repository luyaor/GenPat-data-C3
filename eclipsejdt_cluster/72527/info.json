{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "744b19a896a61313837ababfc8c071f1", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2d0a278ff47dd21004a1275aefb16e57", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/DeltaProcessor.java", "commitBeforeChange": "0e8ca24e8451f1d91ed53a269d184ea21d12301f", "commitAfterChange": "369ffd3db09511488e039ba2575df2eeea055320", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 6, "signatureBeforeChange": "\r \tprotected void elementAdded(Openable element, IResourceDelta delta)", "signatureAfterChange": "\r \tprotected void elementAdded(Openable element, IResourceDelta delta)", "diff": ["-\r", "-\t\tif (element.getElementType() == IJavaElement.JAVA_PROJECT) {\r", "+\t\tint elementType = element.getElementType();\r", "+\t\tif (elementType == IJavaElement.JAVA_PROJECT) {\r", "-\t\t\t\tbasicElementAdded(element, delta);\r", "+\t\t\t\taddToParentInfo(element);\r", "+\t\t\t\tfCurrentDelta.added(element);\r", "-\t\t\tbasicElementAdded(element, delta);\r", "+\t\t\taddToParentInfo(element);\r", "+\t\t\tfCurrentDelta.added(element);\r", "+\t\t\t\r", "+\t\t\tswitch (elementType) {\r", "+\t\t\t\tcase IJavaElement.PACKAGE_FRAGMENT_ROOT :\r", "+\t\t\t\t\t// when a root is added, and is on the classpath, the project must be updated\r", "+\t\t\t\t\tthis.projectsToUpdate.add(element.getJavaProject());\r", "+\t\t\t\t\telement = (Openable)((IPackageFragmentRoot)element).getPackageFragment(\"\");//$NON-NLS-1$\r", "+\t\t\t\t\t// don't break as subpackages must be added too\r", "+\t\t\t\tcase IJavaElement.PACKAGE_FRAGMENT :\r", "+\t\t\t\t\t// get rid of namelookup since it holds onto obsolete cached info \r", "+\t\t\t\t\tJavaProject project = (JavaProject) element.getJavaProject();\r", "+\t\t\t\t\ttry {\r", "+\t\t\t\t\t\tproject.getJavaProjectElementInfo().setNameLookup(null);\r", "+\t\t\t\t\t} catch (JavaModelException e) {\r", "+\t\t\t\t\t}\r", "+\t\t\t\t\t// add subpackages\r", "+\t\t\t\t\tPackageFragmentRoot root = element.getPackageFragmentRoot();\r", "+\t\t\t\t\tString name = element.getElementName();\r", "+\t\t\t\t\tIResourceDelta[] children = delta.getAffectedChildren();\r", "+\t\t\t\t\tfor (int i = 0, length = children.length; i < length; i++) {\r", "+\t\t\t\t\t\tIResourceDelta child = children[i];\r", "+\t\t\t\t\t\tIResource resource = child.getResource();\r", "+\t\t\t\t\t\tif (resource instanceof IFolder) {\r", "+\t\t\t\t\t\t\tString subpkgName = \r", "+\t\t\t\t\t\t\t\tname.length() == 0 ? \r", "+\t\t\t\t\t\t\t\t\tresource.getName() : \r", "+\t\t\t\t\t\t\t\t\tname + \".\" + resource.getName(); //$NON-NLS-1$\r", "+\t\t\t\t\t\t\tOpenable subpkg = (Openable)root.getPackageFragment(subpkgName);\r", "+\t\t\t\t\t\t\tthis.updateIndex(subpkg, child);\r", "+\t\t\t\t\t\t\tthis.elementAdded(subpkg, child);\r", "+\t\t\t\t\t\t}\r", "+\t\t\t\t\t}\r", "+\t\t\t\t\tbreak;\r", "+\t\t\t}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3f3d68c1f9f859ac90bc0a9db993fea3", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/DeltaProcessor.java", "commitBeforeChange": "0e8ca24e8451f1d91ed53a269d184ea21d12301f", "commitAfterChange": "369ffd3db09511488e039ba2575df2eeea055320", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 9, "signatureBeforeChange": "\r \tprotected void elementRemoved(Openable element, IResourceDelta delta)", "signatureAfterChange": "\r \tprotected void elementRemoved(Openable element, IResourceDelta delta)", "diff": ["+\t\t\tcase IJavaElement.JAVA_MODEL :\r", "+\t\t\t\telement.getJavaModelManager().getIndexManager().reset();\r", "+\t\t\t\telement.getJavaModelManager().fModelInfo = null;\r", "+\t\t\t\tbreak;\r", "-\t\t\t\tbreak;\r", "+\t\t\t\telement = (Openable)((IPackageFragmentRoot)element).getPackageFragment(\"\");//$NON-NLS-1$\r", "+\t\t\t\t// don't break so that subpackages are also removed\r", "-\t\t\t\tbreak;\r", "-\t\t\tcase IJavaElement.JAVA_MODEL :\r", "-\t\t\t\telement.getJavaModelManager().getIndexManager().reset();\r", "-\t\t\t\telement.getJavaModelManager().fModelInfo = null;\r", "+\t\t\t\t// remove subpackages\r", "+\t\t\t\tPackageFragmentRoot root = element.getPackageFragmentRoot();\r", "+\t\t\t\tString name = element.getElementName();\r", "+\t\t\t\tIResourceDelta[] children = delta.getAffectedChildren();\r", "+\t\t\t\tfor (int i = 0, length = children.length; i < length; i++) {\r", "+\t\t\t\t\tIResourceDelta child = children[i];\r", "+\t\t\t\t\tIResource resource = child.getResource();\r", "+\t\t\t\t\tif (resource instanceof IFolder) {\r", "+\t\t\t\t\t\tString subpkgName = \r", "+\t\t\t\t\t\t\tname.length() == 0 ? \r", "+\t\t\t\t\t\t\t\tresource.getName() : \r", "+\t\t\t\t\t\t\t\tname + \".\" + resource.getName(); //$NON-NLS-1$\r", "+\t\t\t\t\t\tOpenable subpkg = (Openable)root.getPackageFragment(subpkgName);\r", "+\t\t\t\t\t\tthis.updateIndex(subpkg, child);\r", "+\t\t\t\t\t\tthis.elementRemoved(subpkg, child);\r", "+\t\t\t\t\t}\r", "+\t\t\t\t}\r"]}], "num": 72527}