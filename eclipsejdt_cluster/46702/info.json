{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "86c14f7bf95740223af53cc14793f65d", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "512b0a6ece456c16053de36f8627ce02", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/GetSourceTests.java", "commitBeforeChange": "23d1f03b5721ce2de9c0b6bda12e344c2ac468ba", "commitAfterChange": "966ae4bbaf97367f3fc38a9b2c2261f477021842", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": " \t \tprivate String getNameSource(String cuSource, IMember member) throws JavaModelException", "signatureAfterChange": " \t \tprivate String getNameSource(String cuSource, IJavaElement element) throws JavaModelException", "diff": ["-\tprivate String getNameSource(String cuSource, IMember member) throws JavaModelException {", "-\t\tISourceRange nameRange = member.getNameRange();", "+\tprivate String getNameSource(String cuSource, IJavaElement element) throws JavaModelException {", "+\t\tISourceRange nameRange = element instanceof ITypeParameter ? ((ITypeParameter) element).getNameRange() : ((IMember) element).getNameRange();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fe6e2018b022808d3175eb210bcf2a4b", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/MatchLocator.java", "commitBeforeChange": "957977037bae1c5fe509d6f5b83d064a1bf50d04", "commitAfterChange": "78430308e7d45c151f6732314055fefd33935867", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 14, "signatureBeforeChange": " protected IMethod createMethodHandle(AbstractMethodDeclaration method, IType type)", "signatureAfterChange": " protected IJavaElement createHandle(AbstractMethodDeclaration method, IJavaElement parent)", "diff": ["+ */", "+protected IJavaElement createHandle(AbstractMethodDeclaration method, IJavaElement parent) {", "+\tif (!(parent instanceof IType)) return parent;", "+", "+\tIType type = (IType) parent;", "+\tArgument[] arguments = method.arguments;", "+\tint argCount = arguments == null ? 0 : arguments.length;", "+\tif (type.isBinary()) {", "+\t\t// don't cache the methods of the binary type", "+\t\tClassFileReader reader = classFileReader(type);", "+\t\tif (reader == null) return null;", "+", "+\t\tIBinaryMethod[] methods = reader.getMethods();", "+\t\tif (methods != null) {", "+\t\t\tnextMethod : for (int i = 0, methodsLength = methods.length; i < methodsLength; i++) {", "+\t\t\t\tIBinaryMethod binaryMethod = methods[i];", "+\t\t\t\tchar[] selector = binaryMethod.isConstructor() ? type.getElementName().toCharArray() : binaryMethod.getSelector();", "+\t\t\t\tif (CharOperation.equals(selector, method.selector)) {", "+\t\t\t\t\tchar[][] parameterTypes = Signature.getParameterTypes(binaryMethod.getMethodDescriptor());", "+\t\t\t\t\tif (argCount != parameterTypes.length) continue nextMethod;", "+\t\t\t\t\tfor (int j = 0; j < argCount; j++) {", "+\t\t\t\t\t\tTypeReference typeRef = arguments[j].type;", "+\t\t\t\t\t\tchar[] typeName = CharOperation.concatWith(typeRef.getTypeName(), '.');", "+\t\t\t\t\t\tfor (int k = 0, dim = typeRef.dimensions(); k < dim; k++)", "+\t\t\t\t\t\t\ttypeName = CharOperation.concat(typeName, new char[] {'[', ']'});", "+\t\t\t\t\t\tchar[] parameterTypeName = ClassFileMatchLocator.convertClassFileFormat(parameterTypes[j]);", "+\t\t\t\t\t\tif (!CharOperation.endsWith(Signature.toCharArray(parameterTypeName), typeName))", "+\t\t\t\t\t\t\tcontinue nextMethod;", "+\t\t\t\t\t\tparameterTypes[j] = parameterTypeName;", "+\t\t\t\t\t}", "+\t\t\t\t\treturn type.getMethod(new String(selector), CharOperation.toStrings(parameterTypes));", "+\t\t\t\t}", "+\t\t\t}", "+\t\t}", "+\t\treturn null;", "+\t}", "+", "+\tString[] parameterTypeSignatures = new String[argCount];", "+\tfor (int i = 0; i < argCount; i++) {", "+\t\tTypeReference typeRef = arguments[i].type;", "+\t\tchar[] typeName = CharOperation.concatWith(typeRef.getTypeName(), '.');", "+\t\tfor (int j = 0, dim = typeRef.dimensions(); j < dim; j++)", "+\t\t\ttypeName = CharOperation.concat(typeName, new char[] {'[', ']'});", "+\t\tparameterTypeSignatures[i] = Signature.createTypeSignature(typeName, false);", "+\t}", "+\treturn type.getMethod(new String(method.selector), parameterTypeSignatures);", "+}", "- */", "-protected IMethod createMethodHandle(AbstractMethodDeclaration method, IType type) {", "-\tif (type == null) return null;", "-\tArgument[] arguments = method.arguments;", "-\tint argCount = arguments == null ? 0 : arguments.length;", "-\tif (type.isBinary()) {", "-\t\t// don't cache the methods of the binary type", "-\t\tClassFileReader reader = classFileReader(type);", "-\t\tif (reader == null) return null;", "-", "-\t\tIBinaryMethod[] methods = reader.getMethods();", "-\t\tif (methods != null) {", "-\t\t\tnextMethod : for (int i = 0, methodsLength = methods.length; i < methodsLength; i++) {", "-\t\t\t\tIBinaryMethod binaryMethod = methods[i];", "-\t\t\t\tchar[] selector = binaryMethod.isConstructor() ? type.getElementName().toCharArray() : binaryMethod.getSelector();", "-\t\t\t\tif (CharOperation.equals(selector, method.selector)) {", "-\t\t\t\t\tchar[][] parameterTypes = Signature.getParameterTypes(binaryMethod.getMethodDescriptor());", "-\t\t\t\t\tif (argCount != parameterTypes.length) continue nextMethod;", "-\t\t\t\t\tfor (int j = 0; j < argCount; j++) {", "-\t\t\t\t\t\tTypeReference typeRef = arguments[j].type;", "-\t\t\t\t\t\tchar[] typeName = CharOperation.concatWith(typeRef.getTypeName(), '.');", "-\t\t\t\t\t\tfor (int k = 0, dim = typeRef.dimensions(); k < dim; k++)", "-\t\t\t\t\t\t\ttypeName = CharOperation.concat(typeName, new char[] {'[', ']'});", "-\t\t\t\t\t\tchar[] parameterTypeName = ClassFileMatchLocator.convertClassFileFormat(parameterTypes[j]);", "-\t\t\t\t\t\tif (!CharOperation.endsWith(Signature.toCharArray(parameterTypeName), typeName))", "-\t\t\t\t\t\t\tcontinue nextMethod;", "-\t\t\t\t\t\tparameterTypes[j] = parameterTypeName;", "-\t\t\t\t\t}", "-\t\t\t\t\treturn type.getMethod(new String(selector), CharOperation.toStrings(parameterTypes));", "-\t\t\t\t}", "-\t\t\t}", "-\t\t}", "-\t\treturn null;", "-\t}", "-", "-\tString[] parameterTypeSignatures = new String[argCount];", "-\tfor (int i = 0; i < argCount; i++) {", "-\t\tTypeReference typeRef = arguments[i].type;", "-\t\tchar[] typeName = CharOperation.concatWith(typeRef.getTypeName(), '.');", "-\t\tfor (int j = 0, dim = typeRef.dimensions(); j < dim; j++)", "-\t\t\ttypeName = CharOperation.concat(typeName, new char[] {'[', ']'});", "-\t\tparameterTypeSignatures[i] = Signature.createTypeSignature(typeName, false);", "-\t}", "-\treturn type.getMethod(new String(method.selector), parameterTypeSignatures);"]}], "num": 46702}