{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0f4a29ae26c46e3e15dda83cf5f84cdb", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ca69da2847323d9356bcd6fcfed0d9a4", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTestsRequestor2.java", "commitBeforeChange": "271be052e104f1beefee4cd78039eca6ee6adb4f", "commitAfterChange": "f21888ae6d4ceca17a4c2f2fe7153b358e68695f", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": " \t \tpublic String getContext()", "signatureAfterChange": " \t \tpublic String getContext()", "diff": ["+\t\t", "+\t\tif (this.computeEnclosingElement) {", "+\t\t\tbuffer.append('\\n');", "+\t\t\tbuffer.append(\"enclosingElement=\"); //$NON-NLS-1$", "+\t\t\tJavaElement enclosingElement = (JavaElement)this.context.getEnclosingElement();", "+\t\t\tif (enclosingElement == null) {", "+\t\t\t\tbuffer.append(\"null\"); //$NON-NLS-1$", "+\t\t\t} else {", "+\t\t\t\tbuffer.append(enclosingElement.toStringWithAncestors(true /*show resolved info*/));", "+\t\t\t}", "+\t\t}", "+\t\t", "+\t\tif (this.computeVisibleElements) {", "+\t\t\tbuffer.append('\\n');", "+\t\t\t", "+\t\t\tIJavaElement[] visibleElements = this.context.getVisibleElements(this.assignableType);", "+\t\t\tbuffer.append(\"visibleElements=\"); //$NON-NLS-1$", "+\t\t\tif (visibleElements == null) {", "+\t\t\t\tbuffer.append(\"null\"); //$NON-NLS-1$", "+\t\t\t} else if (visibleElements.length == 0) {", "+\t\t\t\tbuffer.append(\"{}\"); //$NON-NLS-1$", "+\t\t\t} else {", "+\t\t\t\tbuffer.append('{');", "+\t\t\t\tbuffer.append('\\n');", "+\t\t\t\tfor (int i = 0; i < visibleElements.length; i++) {", "+\t\t\t\t\tJavaElement element = (JavaElement) visibleElements[i];", "+\t\t\t\t\tbuffer.append('\\t');", "+\t\t\t\t\tbuffer.append(element.toStringWithAncestors(true /*show resolved info*/));", "+\t\t\t\t\tbuffer.append(\",\\n\"); //$NON-NLS-1$", "+\t\t\t\t}", "+\t\t\t\tbuffer.append('}');", "+\t\t\t}", "+\t\t}", "+\t\t"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e09a1e53696f4136893b662746f48191", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/dom/ASTConverterJavadocTest.java", "commitBeforeChange": "f174c5e3ec66ea2a46810b190cc3e9d57c0432d4", "commitAfterChange": "8bbacffbe712e7ac5a5d22a44809b44ff8a5e616", "methodNumberBeforeChange": 36, "methodNumberAfterChange": 25, "signatureBeforeChange": " \tprotected void verifyComments(String sourceStr, char[] source, List unitComments)", "signatureAfterChange": " \t \tprotected void verifyComments(String fileName, char[] source)", "diff": ["+\t", "+\tprotected void verifyComments(String fileName, char[] source) {", "+", "+\t\t// Get comments infos from test file", "+\t\tsetSourceComment(source);", "+\t\t", "+\t\t// Verify comments either in unicode or not", "+\t\tchar[] testedSource = source;", "+\t\tif (unicode) {", "+\t\t\ttestedSource = getUnicodeSource(source);", "+\t\t}", "+//\t\tMap originalOptions = this.currentProject.getOptions(true);", "+//\t\ttry {", "+//\t\t\tthis.currentProject.setOption(JavaCore.COMPILER_PB_INVALID_JAVADOC, this.compilerOption);", "+//\t\t\tthis.currentProject.setOption(JavaCore.COMPILER_PB_MISSING_JAVADOC_TAGS, this.compilerOption);", "+//\t\t\tthis.currentProject.setOption(JavaCore.COMPILER_PB_MISSING_JAVADOC_COMMENTS, this.compilerOption);", "+//\t\t\tthis.currentProject.setOption(JavaCore.COMPILER_PB_METHOD_WITH_CONSTRUCTOR_NAME, JavaCore.IGNORE);", "+//\t\t\tthis.currentProject.setOption(JavaCore.COMPILER_DOC_COMMENT_SUPPORT, this.docCommentSupport);", "+\t\t\tCompilationUnit compilUnit = (CompilationUnit) runConversion(testedSource, fileName, this.currentProject);", "+//\t\t\tCompilationUnit compilUnit = (CompilationUnit) runConversion(this.sourceUnit, this.resolveBinding); // resolve bindings", "+//\t\t} finally {", "+//\t\t\tthis.currentProject.setOptions(originalOptions);", "+//\t\t}", "-\t */", "-\tprotected void verifyComments(String sourceStr, char[] source, List unitComments) {", "-\t\t// Get comments infos from test file", "-\t\tsetSourceComment(source);", "-\t\tassumeEquals(this.prefix+\"Wrong number of comments in source:\\n\"+sourceStr+\"\\n\", this.comments.size(), size);", "+\t\tassumeEquals(this.prefix+\"Wrong number of comments!\", this.comments.size(), size);", "+", "-\t\tfor (int i=0; i<size; i++) {", "-\t\t\tComment comment = (Comment) unitComments.get(i);", "-\t\t\tList tags = (List) allTags.get(i);", "-\t\t\t// Verify flattened content", "-\t\t\tString stringComment = (String) this.comments.get(i);", "-\t\t\tASTConverterJavadocFlattener printer = new ASTConverterJavadocFlattener(stringComment);", "-\t\t\tcomment.accept(printer);", "-\t\t\tString text = new String(source, comment.getStartPosition(), comment.getLength());", "-\t\t\tassumeEquals(this.prefix+\"Flattened comment does NOT match source!\", stringComment, text);", "-\t\t\t// Verify javdoc tags positions and bindings", "-\t\t\tif (comment.isDocComment()) {", "-\t\t\t\tJavadoc docComment = (Javadoc)comment;", "-\t\t\t\tassumeEquals(this.prefix+\"Invalid tags number in javadoc:\\n\"+docComment+\"\\n\", tags.size(), allTags(docComment));", "-\t\t\t\tverifyPositions(docComment, source);", "-\t\t\t\tif (this.resolveBinding) {", "-\t\t\t\t\tverifyBindings(docComment);", "+//\t\tif (this.comments.size() == size) {", "+\t\t\tfor (int i=0; i<size; i++) {", "+\t\t\t\tComment comment = (Comment) unitComments.get(i);", "+\t\t\t\tList tags = (List) allTags.get(i);", "+\t\t\t\t// Verify flattened content", "+\t\t\t\tString stringComment = (String) this.comments.get(i);", "+\t//\t\t\tASTConverterJavadocFlattener printer = new ASTConverterJavadocFlattener(stringComment);", "+\t//\t\t\tcomment.accept(printer);", "+\t\t\t\tString text = new String(testedSource, comment.getStartPosition(), comment.getLength());", "+\t\t\t\tassumeEquals(this.prefix+\"Flattened comment does NOT match source!\", stringComment, text);", "+\t\t\t\t// Verify javdoc tags positions and bindings", "+\t\t\t\tif (comment.isDocComment()) {", "+\t\t\t\t\tJavadoc docComment = (Javadoc)comment;", "+\t\t\t\t\tif (this.docCommentSupport.equals(JavaCore.ENABLED)) {", "+\t\t\t\t\t\tassumeEquals(this.prefix+\"Invalid tags number in javadoc:\\n\"+docComment+\"\\n\", tags.size(), allTags(docComment));", "+\t\t\t\t\t\tverifyPositions(docComment, testedSource);", "+\t\t\t\t\t\tif (this.resolveBinding) {", "+\t\t\t\t\t\t\tverifyBindings(docComment);", "+\t\t\t\t\t\t}", "+\t\t\t\t\t} else {", "+\t\t\t\t\t\tassumeEquals(\"Javadoc should be flat!\", 0, docComment.tags().size());", "+\t\t\t\t\t}", "-\t\t}", "+//\t\t}"]}], "num": 31300}