{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e844b7154309bb9614d51e2368a917ec", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "07fdb491e4fbee398775b9ab3ec8be20", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/newbuilder/ReferenceCollection.java", "commitBeforeChange": "39745a85705361f7e5b8ca890f80a07d85799adc", "commitAfterChange": "9ce2d699e0d21b200d57773c8cb35525d3ffa98d", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "\r \r static char[][][] internQualifiedNames(char[][][] qualifiedNames, boolean removeWellKnown)", "signatureAfterChange": "\r \r static char[][][] internQualifiedNames(char[][][] qualifiedNames)", "diff": ["-static char[][][] internQualifiedNames(char[][][] qualifiedNames, boolean removeWellKnown) {\r", "+static char[][][] internQualifiedNames(char[][][] qualifiedNames) {\r", "-\tArrayList keepers = new ArrayList(length);\r", "+\tchar[][][] keepers = new char[length][][];\r", "+\tint index = 0;\r", "+\t\tint qLength = qualifiedName.length;\r", "-\t\t\tif (CharOperation.equals(qualifiedName, internedName)) {\r", "-\t\t\t\tkeepers.add(internedName);\r", "+\t\t\tif (qLength == internedName.length && CharOperation.equals(qualifiedName, internedName)) {\r", "+\t\t\t\tkeepers[index++] = internedName;\r", "-\t\t\tif (CharOperation.equals(qualifiedName, WellKnownQualifiedNames[j])) {\r", "-\t\t\t\tif (!removeWellKnown)\r", "-\t\t\t\t\tkeepers.add(WellKnownQualifiedNames[j]);\r", "+\t\t\tchar[][] wellKnownName = WellKnownQualifiedNames[j];\r", "+\t\t\tif (qLength > wellKnownName.length)\r", "+\t\t\t\tbreak; // all other well known names are shorter\r", "+\t\t\tif (qLength == wellKnownName.length && CharOperation.equals(qualifiedName, wellKnownName))\r", "-\t\t\t}\r", "-\t\tkeepers.add(qualifiedName);\r", "+\t\tkeepers[index++] = qualifiedName;\r", "-\tchar[][][] result = new char[keepers.size()][][];\r", "-\tkeepers.toArray(result);\r", "-\treturn result;\r", "+\tif (length > index) {\r", "+\t\tif (length == 0) return EmptyQualifiedNames;\r", "+\t\tSystem.arraycopy(keepers, 0, keepers = new char[index][][], 0, index);\r", "+\t}\r", "+\treturn keepers;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b6cd13f68232c591135db3d86ef4b6de", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/newbuilder/ReferenceCollection.java", "commitBeforeChange": "39745a85705361f7e5b8ca890f80a07d85799adc", "commitAfterChange": "9ce2d699e0d21b200d57773c8cb35525d3ffa98d", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "\r \r static char[][] internSimpleNames(char[][] simpleNames, boolean removeWellKnown)", "signatureAfterChange": "\r \r static char[][] internSimpleNames(char[][] simpleNames, boolean removeWellKnown)", "diff": ["-\tArrayList keepers = new ArrayList(length);\r", "+\tchar[][] keepers = new char[length][];\r", "+\tint index = 0;\r", "+\t\tint sLength = name.length;\r", "-\t\t\tif (CharOperation.equals(name, internedName)) {\r", "-\t\t\t\tkeepers.add(internedName);\r", "+\t\t\tif (sLength == internedName.length && CharOperation.equals(name, internedName)) {\r", "+\t\t\t\tkeepers[index++] = internedName;\r", "-\t\t\tif (CharOperation.equals(name, WellKnownSimpleNames[j])) {\r", "+\t\t\tchar[] wellKnownName = WellKnownSimpleNames[j];\r", "+\t\t\tif (sLength > wellKnownName.length)\r", "+\t\t\t\tbreak; // all other well known names are shorter\r", "+\t\t\tif (sLength == wellKnownName.length && CharOperation.equals(name, wellKnownName)) {\r", "-\t\t\t\t\tkeepers.add(WellKnownSimpleNames[j]);\r", "+\t\t\t\t\tkeepers[index++] = WellKnownSimpleNames[j];\r", "-\t\tkeepers.add(name);\r", "+\t\tkeepers[index++] = name;\r", "-\tchar[][] result = new char[keepers.size()][];\r", "-\tkeepers.toArray(result);\r", "-\treturn result;\r", "+\tif (length > index) {\r", "+\t\tif (index == 0) return EmptySimpleNames;\r", "+\t\tSystem.arraycopy(keepers, 0, keepers = new char[index][], 0, index);\r", "+\t}\r", "+\treturn keepers;\r"]}], "num": 7798}