{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "16b406b81170412d40e14dcef3bf37b6", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "176ef84ac2ceb9775a4724153d680bef", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/CompletionEngine.java", "commitBeforeChange": "240396375bcd308bc801defacd8d000d9826bf17", "commitAfterChange": "d24d28f1cf95d80c381c825283113e7b36dcb836", "methodNumberBeforeChange": 68, "methodNumberAfterChange": 68, "signatureBeforeChange": " \t \tprivate void completionOnQualifiedAllocationExpression(ASTNode astNode, Binding qualifiedBinding, Scope scope)", "signatureAfterChange": " \t \tprivate void completionOnQualifiedAllocationExpression(ASTNode astNode, Binding qualifiedBinding, Scope scope)", "diff": ["-\t\tif (!this.requestor.isIgnored(CompletionProposal.METHOD_REF)", "-\t\t\t\t&& ref.isClass()", "-\t\t\t\t&& !ref.isAbstract()) {", "-\t\t\t\tfindConstructors(", "+\t\t", "+\t\tif (ref.problemId() == ProblemReasons.NotFound) {", "+\t\t\tfindConstructorsFromMissingType(", "+\t\t\t\t\tallocExpression.type,", "+\t\t\t\t\targTypes,", "+\t\t\t\t\tscope,", "+\t\t\t\t\tallocExpression);", "+\t\t} else {", "+\t\t\tif (!this.requestor.isIgnored(CompletionProposal.METHOD_REF)", "+\t\t\t\t\t&& ref.isClass()", "+\t\t\t\t\t&& !ref.isAbstract()) {", "+\t\t\t\t\tfindConstructors(", "+\t\t\t\t\t\tref,", "+\t\t\t\t\t\targTypes,", "+\t\t\t\t\t\tscope,", "+\t\t\t\t\t\tallocExpression,", "+\t\t\t\t\t\tfalse,", "+\t\t\t\t\t\tnull,", "+\t\t\t\t\t\tnull,", "+\t\t\t\t\t\tnull,", "+\t\t\t\t\t\tfalse);", "+\t\t\t}", "+\t\t\t", "+\t\t\tcheckCancel();", "+\t\t\t", "+\t\t\tif (!this.requestor.isIgnored(CompletionProposal.ANONYMOUS_CLASS_DECLARATION)", "+\t\t\t\t\t&& !ref.isFinal()", "+\t\t\t\t\t&& !ref.isEnum()){", "+\t\t\t\tfindAnonymousType(", "+\t\t\t\t\tnull,", "+\t\t\t\t\tnull,", "+\t\t\t\t\tnull,", "-\t\t}", "-\t\t", "-\t\tcheckCancel();", "-\t\t", "-\t\tif (!this.requestor.isIgnored(CompletionProposal.ANONYMOUS_CLASS_DECLARATION)", "-\t\t\t\t&& !ref.isFinal()", "-\t\t\t\t&& !ref.isEnum()){", "-\t\t\tfindAnonymousType(", "-\t\t\t\tref,", "-\t\t\t\targTypes,", "-\t\t\t\tscope,", "-\t\t\t\tallocExpression);", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "600e23e5773e8dff630d4925c0ca39af", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/CompletionEngine.java", "commitBeforeChange": "24cf489e4c973e29dff7eade9d41897f72a37db0", "commitAfterChange": "f924ed86fe1dbe148077a9cade20b11e404ba89b", "methodNumberBeforeChange": 170, "methodNumberAfterChange": 182, "signatureBeforeChange": "  \tprivate void findTypesAndSubpackages( \t\tchar[] token, \t\tPackageBinding packageBinding, \t\tScope scope)", "signatureAfterChange": "  \tprivate void findTypesAndSubpackages( \t\tchar[] token, \t\tPackageBinding packageBinding, \t\tScope scope)", "diff": ["+\t\t", "+\t\tboolean allowingLongComputationProposals = isAllowingLongComputationProposals();", "+\t\t", "+\t\tboolean proposeConstructor =", "+\t\t\tallowingLongComputationProposals &&", "+\t\t\tthis.assistNodeIsConstructor &&", "+\t\t\t(!isIgnored(CompletionProposal.CONSTRUCTOR_INVOCATION, CompletionProposal.TYPE_REF) ||", "+\t\t\t\t\t!isIgnored(CompletionProposal.ANONYMOUS_CLASS_CONSTRUCTOR_INVOCATION, CompletionProposal.TYPE_REF));", "-\t\tif (proposeType && this.unitScope != null) {", "+\t\tif ((proposeType || proposeConstructor) && this.unitScope != null) {", "-\t\t\t\tthis.knownTypes.put(CharOperation.concat(sourceType.qualifiedPackageName(), sourceType.sourceName(), '.'), this);", "+\t\t\t\tthis.knownTypes.put(CharOperation.concat(sourceType.qualifiedPackageName(), sourceType.sourceName(), '.'), KNOWN_TYPE_WITH_KNOWN_CONSTRUCTORS);", "+\t\t\t\t", "-\t\t\t\tif(proposeType) {", "+\t\t\t\tif(proposeType &&", "+\t\t\t\t\t\t(!this.assistNodeIsConstructor ||", "+\t\t\t\t\t\t\t\t!allowingLongComputationProposals ||", "+\t\t\t\t\t\t\t\thasStaticMemberTypes(sourceType, null, this.unitScope) ||", "+\t\t\t\t\t\t\t\thasMemberTypesInEnclosingScope(sourceType, scope))) {", "+\t\t\t\t", "+\t\t\t\tif (proposeConstructor) {", "+\t\t\t\t\tfindConstructorsOrAnonymousTypes(", "+\t\t\t\t\t\t\tsourceType,", "+\t\t\t\t\t\t\tscope,", "+\t\t\t\t\t\t\tFakeInvocationSite,", "+\t\t\t\t\t\t\tfalse,", "+\t\t\t\t\t\t\trelevance);", "+\t\t\t\t}", "-\t\tif(proposeType) {", "+\t\tif (proposeConstructor) {", "+", "+\t\t\t", "+\t\t\tcheckCancel();", "+\t\t\t", "+\t\t\tthis.foundConstructorsCount = 0;", "+\t\t\tthis.nameEnvironment.findConstructorDeclarations(", "+\t\t\t\t\tqualifiedName,", "+\t\t\t\t\tthis.options.camelCaseMatch,", "+\t\t\t\t\tthis,", "+\t\t\t\t\tthis.monitor);", "+\t\t\tacceptConstructors(scope);", "+\t\t} if(proposeType) {", "+\t\t"]}], "num": 14657}