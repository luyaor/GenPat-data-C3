{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ec79ee2ba7bbc0cbfb5b76452200a831", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "69bb7aa0d2360a7c494c4bd33694b29d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaSearchBugsTests.java", "commitBeforeChange": "457fc77ec96140a15fc3e1c18bbf7bf53c7ea1c9", "commitAfterChange": "44074e366655e2cf89768617c1e64463f5949123", "methodNumberBeforeChange": 29, "methodNumberAfterChange": 28, "signatureBeforeChange": " \tpublic void testBug77388() throws CoreException", "signatureAfterChange": " \tpublic void testBug77388() throws CoreException", "diff": ["-\t\tICompilationUnit workingCopy = null;", "-\t\ttry {", "-\t\t\tworkingCopy = getWorkingCopy(\"/JavaSearchBugs/src/b77388/Test.java\",", "-\t\t\t\t\"package b77388;\\n\" + ", "-\t\t\t\t\"class Test {\\n\" + ", "-\t\t\t\t\"\tTest(int a, int b) {\t}\\n\" + ", "-\t\t\t\t\"\tvoid take(Test mc) { }\\n\" + ", "-\t\t\t\t\"\tvoid run() {\\n\" + ", "-\t\t\t\t\"\t\ttake( new Test(1, 2) ); // space in \\\") )\\\" is in match\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"}\");", "-\t\t\tIType type = workingCopy.getType(\"Test\");", "-\t\t\tIMethod method = type.getMethod(\"Test\", new String[] {\"I\", \"I\"});", "-\t\t\t// Search for constructor references", "-\t\t\tsearch(method, REFERENCES);", "-\t\t\tassertSearchResults(", "-\t\t\t\t\"src/b77388/Test.java void b77388.Test.run() [new Test(1, 2)] EXACT_MATCH\"", "-\t\t\t);", "-\t\t}", "-\t\tfinally {", "-\t\t\tif (workingCopy != null)", "-\t\t\t\tworkingCopy.discardWorkingCopy();", "-\t\t}", "+\t\tworkingCopies = new ICompilationUnit[1];", "+\t\tworkingCopies[0] = getWorkingCopy(\"/JavaSearchBugs/src/b77388/Test.java\",", "+\t\t\t\"package b77388;\\n\" + ", "+\t\t\t\"class Test {\\n\" + ", "+\t\t\t\"\tTest(int a, int b) {\t}\\n\" + ", "+\t\t\t\"\tvoid take(Test mc) { }\\n\" + ", "+\t\t\t\"\tvoid run() {\\n\" + ", "+\t\t\t\"\t\ttake( new Test(1, 2) ); // space in \\\") )\\\" is in match\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"}\");", "+\t\tIType type = workingCopies[0].getType(\"Test\");", "+\t\tIMethod method = type.getMethod(\"Test\", new String[] {\"I\", \"I\"});", "+\t\t// Search for constructor references", "+\t\tsearch(method, REFERENCES);", "+\t\tassertSearchResults(", "+\t\t\t\"src/b77388/Test.java void b77388.Test.run() [new Test(1, 2)] EXACT_MATCH\"", "+\t\t);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a35586abfa95431d6c1bb06dabfc500a", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaSearchBugsTests.java", "commitBeforeChange": "457fc77ec96140a15fc3e1c18bbf7bf53c7ea1c9", "commitAfterChange": "44074e366655e2cf89768617c1e64463f5949123", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 13, "signatureBeforeChange": " \tpublic void testBug70827() throws CoreException", "signatureAfterChange": " \tpublic void testBug70827() throws CoreException", "diff": ["-\t\tICompilationUnit workingCopy = null;", "-\t\ttry {", "-\t\t\tworkingCopy = getWorkingCopy(\"/JavaSearchBugs/src/b70827/A.java\",", "-\t\t\t\t\"package b70827;\\n\" + ", "-\t\t\t\t\"class A {\\n\" + ", "-\t\t\t\t\"\tprivate void privateMethod() {\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"}\\n\" + ", "-\t\t\t\t\"class Second extends A {\\n\" + ", "-\t\t\t\t\"\tvoid call() {\\n\" + ", "-\t\t\t\t\"\t\tint i= privateMethod();\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"\tint privateMethod() {\\n\" + ", "-\t\t\t\t\"\t\treturn 1;\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"}\\n\"", "-\t\t\t\t);", "-\t\t\tIType type = workingCopy.getType(\"A\");", "-\t\t\tIMethod method = type.getMethod(\"privateMethod\", new String[] {});", "-\t\t\tsearch(method, REFERENCES);", "-\t\t\tassertSearchResults(", "-\t\t\t\t\"\"", "+\t\tworkingCopies = new ICompilationUnit[1];", "+\t\tworkingCopies[0] = getWorkingCopy(\"/JavaSearchBugs/src/b70827/A.java\",", "+\t\t\t\"package b70827;\\n\" + ", "+\t\t\t\"class A {\\n\" + ", "+\t\t\t\"\tprivate void privateMethod() {\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"}\\n\" + ", "+\t\t\t\"class Second extends A {\\n\" + ", "+\t\t\t\"\tvoid call() {\\n\" + ", "+\t\t\t\"\t\tint i= privateMethod();\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"\tint privateMethod() {\\n\" + ", "+\t\t\t\"\t\treturn 1;\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"}\\n\"", "-\t\t}", "-\t\tfinally {", "-\t\t\tif (workingCopy != null)", "-\t\t\t\tworkingCopy.discardWorkingCopy();", "-\t\t}", "+\t\tIType type = workingCopies[0].getType(\"A\");", "+\t\tIMethod method = type.getMethod(\"privateMethod\", new String[] {});", "+\t\tsearch(method, REFERENCES);", "+\t\tassertSearchResults(", "+\t\t\t\"\"", "+\t\t);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a56af801cb68b5b1a0fdb7f5f82788d5", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaSearchBugsTests.java", "commitBeforeChange": "457fc77ec96140a15fc3e1c18bbf7bf53c7ea1c9", "commitAfterChange": "44074e366655e2cf89768617c1e64463f5949123", "methodNumberBeforeChange": 26, "methodNumberAfterChange": 25, "signatureBeforeChange": " \tpublic void testBug77093constructor() throws CoreException", "signatureAfterChange": " \tpublic void testBug77093constructor() throws CoreException", "diff": ["-\t\tICompilationUnit workingCopy = null;", "-\t\ttry {", "-\t\t\tworkingCopy = getWorkingCopy(\"/JavaSearchBugs/src/b77093/X.java\",", "-\t\t\t\t\"package b77093;\\n\" + ", "-\t\t\t\t\"public class X {\\n\" + ", "-\t\t\t\t\"\tclass Z {\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"\tZ[][] z_arrays;\\n\" + ", "-\t\t\t\t\"\tX() {\\n\" + ", "-\t\t\t\t\"\t\tthis(new Z[10][]);\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"\tX(Z[][] arrays) {\\n\" + ", "-\t\t\t\t\"\t\tz_arrays = arrays;\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"\tprivate void foo(Z[] args) {\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"\tvoid bar() {\\n\" + ", "-\t\t\t\t\"\t\tfor (int i=0; i<z_arrays.length; i++)\\n\" + ", "-\t\t\t\t\"\t\t\tfoo(z_arrays[i]);\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"}\");", "-\t\t\tIType type = workingCopy.getType(\"X\");", "-\t\t\tIMethod method = type.getMethod(\"X\", new String[] {\"[[QZ;\"});", "-\t\t\t// Search for constructor declarations and references", "-\t\t\tsearch(method, ALL_OCCURRENCES);", "-\t\t\tassertSearchResults(", "-\t\t\t\t\"src/b77093/X.java b77093.X() [this(new Z[10][])] EXACT_MATCH\\n\"+", "-\t\t\t\t\"src/b77093/X.java b77093.X(Z[][]) [X] EXACT_MATCH\"", "-\t\t\t);", "-\t\t}", "-\t\tfinally {", "-\t\t\tif (workingCopy != null)", "-\t\t\t\tworkingCopy.discardWorkingCopy();", "-\t\t}", "+\t\tworkingCopies = new ICompilationUnit[1];", "+\t\tworkingCopies[0] = getWorkingCopy(\"/JavaSearchBugs/src/b77093/X.java\",", "+\t\t\t\"package b77093;\\n\" + ", "+\t\t\t\"public class X {\\n\" + ", "+\t\t\t\"\tclass Z {\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"\tZ[][] z_arrays;\\n\" + ", "+\t\t\t\"\tX() {\\n\" + ", "+\t\t\t\"\t\tthis(new Z[10][]);\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"\tX(Z[][] arrays) {\\n\" + ", "+\t\t\t\"\t\tz_arrays = arrays;\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"\tprivate void foo(Z[] args) {\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"\tvoid bar() {\\n\" + ", "+\t\t\t\"\t\tfor (int i=0; i<z_arrays.length; i++)\\n\" + ", "+\t\t\t\"\t\t\tfoo(z_arrays[i]);\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"}\");", "+\t\tIType type = workingCopies[0].getType(\"X\");", "+\t\tIMethod method = type.getMethod(\"X\", new String[] {\"[[QZ;\"});", "+\t\t// Search for constructor declarations and references", "+\t\tsearch(method, ALL_OCCURRENCES);", "+\t\tassertSearchResults(", "+\t\t\t\"src/b77093/X.java b77093.X() [this(new Z[10][])] EXACT_MATCH\\n\"+", "+\t\t\t\"src/b77093/X.java b77093.X(Z[][]) [X] EXACT_MATCH\"", "+\t\t);", "+\t\t// keep working copies for next test", "+\t\tdiscard = false;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "be73a66826edd3667967d7f4963cdb5f", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaSearchBugsTests.java", "commitBeforeChange": "457fc77ec96140a15fc3e1c18bbf7bf53c7ea1c9", "commitAfterChange": "44074e366655e2cf89768617c1e64463f5949123", "methodNumberBeforeChange": 39, "methodNumberAfterChange": 44, "signatureBeforeChange": " \tpublic void testBug81084a() throws CoreException, JavaModelException", "signatureAfterChange": " \tpublic void testBug81084a() throws CoreException, JavaModelException", "diff": ["-\t\tICompilationUnit workingCopy = null;", "-\t\ttry {", "-\t\t\tworkingCopy = getWorkingCopy(\"/JavaSearchBugs/src/b81084a/Test.java\",", "-\t\t\t\t\"package b81084a;\\n\" + ", "-\t\t\t\t\"class List<E> {}\\n\" + ", "-\t\t\t\t\"public class Test {\\n\" + ", "-\t\t\t\t\"\tclass Element{}\\n\" + ", "-\t\t\t\t\"\tstatic class Inner {\\n\" + ", "-\t\t\t\t\"\t\tprivate final List<Element> fList1;\\n\" + ", "-\t\t\t\t\"\t\tprivate final List<Test.Element> fList2;\\n\" + ", "-\t\t\t\t\"\t\tpublic Inner(List<Element> list) {\\n\" + ", "-\t\t\t\t\"\t\t\tfList1 = list;\\n\" + ", "-\t\t\t\t\"\t\t\tfList2 = list;\\n\" + ", "-\t\t\t\t\"\t\t}\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"}\\n\"", "-\t\t\t\t);", "-\t\t\tIType type = workingCopy.getType(\"Test\").getType(\"Inner\");", "-\t\t\tIField field1 = type.getField(\"fList1\");", "-\t\t\tsearch(field1, REFERENCES);", "-\t\t\tIField field2 = type.getField(\"fList2\");", "-\t\t\tsearch(field2, REFERENCES);", "-\t\t\tassertSearchResults(", "-\t\t\t\t\"src/b81084a/Test.java b81084a.Test$Inner(List<Element>) [fList1] EXACT_MATCH\\n\" + ", "-\t\t\t\t\"src/b81084a/Test.java b81084a.Test$Inner(List<Element>) [fList2] EXACT_MATCH\",", "-\t\t\t\tthis.resultCollector);", "-\t\t}", "-\t\tfinally {", "-\t\t\tif (workingCopy != null)", "-\t\t\t\tworkingCopy.discardWorkingCopy();", "-\t\t}", "-\t}", "+\t\tworkingCopies = new ICompilationUnit[1];", "+\t\tworkingCopies[0] = getWorkingCopy(\"/JavaSearchBugs/src/b81084a/Test.java\",", "+\t\t\t\"package b81084a;\\n\" + ", "+\t\t\t\"class List<E> {}\\n\" + ", "+\t\t\t\"public class Test {\\n\" + ", "+\t\t\t\"\tclass Element{}\\n\" + ", "+\t\t\t\"\tstatic class Inner {\\n\" + ", "+\t\t\t\"\t\tprivate final List<Element> fList1;\\n\" + ", "+\t\t\t\"\t\tprivate final List<Test.Element> fList2;\\n\" + ", "+\t\t\t\"\t\tpublic Inner(List<Element> list) {\\n\" + ", "+\t\t\t\"\t\t\tfList1 = list;\\n\" + ", "+\t\t\t\"\t\t\tfList2 = list;\\n\" + ", "+\t\t\t\"\t\t}\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"}\\n\"", "+\t\t\t);", "+\t\tIType type = workingCopies[0].getType(\"Test\").getType(\"Inner\");", "+\t\tIField field1 = type.getField(\"fList1\");", "+\t\tsearch(field1, REFERENCES);", "+\t\tIField field2 = type.getField(\"fList2\");", "+\t\tsearch(field2, REFERENCES);", "+\t\t\t\"src/b81084a/Test.java b81084a.Test$Inner(List<Element>) [fList2] EXACT_MATCH\"", "+\t\t);", "+\t\t// keep working copies for next test", "+\t\tdiscard = false;", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c33cd96c2ad58099dcb493444b74bdf5", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaSearchBugsTests.java", "commitBeforeChange": "457fc77ec96140a15fc3e1c18bbf7bf53c7ea1c9", "commitAfterChange": "44074e366655e2cf89768617c1e64463f5949123", "methodNumberBeforeChange": 37, "methodNumberAfterChange": 42, "signatureBeforeChange": " \tpublic void testBug80890() throws CoreException, JavaModelException", "signatureAfterChange": " \tpublic void testBug80890() throws CoreException, JavaModelException", "diff": ["-\t\tICompilationUnit workingCopy = null;", "-\t\ttry {", "-\t\t\tworkingCopy = getWorkingCopy(\"/JavaSearchBugs/src/b80890/A.java\",", "-\t\t\t\t\"package b80890;\\n\" + ", "-\t\t\t\t\"public class A {\\n\" + ", "-\t\t\t\t\"\tprotected void foo(Exception e) {}\\n\" + ", "-\t\t\t\t\"\tprotected void foo(String s) {}\\n\" + ", "-\t\t\t\t\"}\\n\" + ", "-\t\t\t\t\"class B1 extends A {\\n\" + ", "-\t\t\t\t\"\tpublic void bar1() {\\n\" + ", "-\t\t\t\t\"\t\tfoo(null);\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"}\\n\" + ", "-\t\t\t\t\"class B2 extends A {\\n\" + ", "-\t\t\t\t\"\tpublic void bar2() {\\n\" + ", "-\t\t\t\t\"\t\tfoo(null);\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"}\\n\"", "-\t\t\t\t);", "-\t\t\t// search for first and second method should both return 2 inaccurate matches", "-\t\t\tIType type = workingCopy.getType(\"A\");", "-\t\t\tIMethod method = type.getMethods()[0];", "-\t\t\tsearch(method, REFERENCES);", "-\t\t\tmethod = type.getMethods()[1];", "-\t\t\tsearch(method, REFERENCES);", "-\t\t\tassertSearchResults(", "-\t\t\t\t\"src/b80890/A.java void b80890.B1.bar1() [foo(null)] POTENTIAL_MATCH\\n\" + ", "-\t\t\t\t\"src/b80890/A.java void b80890.B2.bar2() [foo(null)] POTENTIAL_MATCH\\n\" + ", "-\t\t\t\t\"src/b80890/A.java void b80890.B1.bar1() [foo(null)] POTENTIAL_MATCH\\n\" + ", "-\t\t\t\t\"src/b80890/A.java void b80890.B2.bar2() [foo(null)] POTENTIAL_MATCH\"", "+\t\tworkingCopies = new ICompilationUnit[1];", "+\t\tworkingCopies[0] = getWorkingCopy(\"/JavaSearchBugs/src/b80890/A.java\",", "+\t\t\t\"package b80890;\\n\" + ", "+\t\t\t\"public class A {\\n\" + ", "+\t\t\t\"\tprotected void foo(Exception e) {}\\n\" + ", "+\t\t\t\"\tprotected void foo(String s) {}\\n\" + ", "+\t\t\t\"}\\n\" + ", "+\t\t\t\"class B1 extends A {\\n\" + ", "+\t\t\t\"\tpublic void bar1() {\\n\" + ", "+\t\t\t\"\t\tfoo(null);\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"}\\n\" + ", "+\t\t\t\"class B2 extends A {\\n\" + ", "+\t\t\t\"\tpublic void bar2() {\\n\" + ", "+\t\t\t\"\t\tfoo(null);\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"}\\n\"", "-\t\t}", "-\t\tfinally {", "-\t\t\tif (workingCopy != null)", "-\t\t\t\tworkingCopy.discardWorkingCopy();", "-\t\t}", "+\t\t// search for first and second method should both return 2 inaccurate matches", "+\t\tIType type = workingCopies[0].getType(\"A\");", "+\t\tIMethod method = type.getMethods()[0];", "+\t\tsearch(method, REFERENCES);", "+\t\tmethod = type.getMethods()[1];", "+\t\tsearch(method, REFERENCES);", "+\t\tassertSearchResults(", "+\t\t\t\"src/b80890/A.java void b80890.B1.bar1() [foo(null)] POTENTIAL_MATCH\\n\" + ", "+\t\t\t\"src/b80890/A.java void b80890.B2.bar2() [foo(null)] POTENTIAL_MATCH\\n\" + ", "+\t\t\t\"src/b80890/A.java void b80890.B1.bar1() [foo(null)] POTENTIAL_MATCH\\n\" + ", "+\t\t\t\"src/b80890/A.java void b80890.B2.bar2() [foo(null)] POTENTIAL_MATCH\"", "+\t\t);"]}], "num": 60042}