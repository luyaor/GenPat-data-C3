{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "cfe012cdf7922346f50cafffd1c62bf0", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2077b71075e2d4011d5285418edf4b40", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/PackageFragmentRoot.java", "commitBeforeChange": "5266b947a41bc87e33ca243d2f06d621c5b35d8c", "commitAfterChange": "5b0c62f0c85cc7c393266b52408d3bd3c14d0ef5", "methodNumberBeforeChange": 34, "methodNumberAfterChange": 31, "signatureBeforeChange": " public IPath getSourceAttachmentRootPath() throws JavaModelException", "signatureAfterChange": " public IPath getSourceAttachmentRootPath() throws JavaModelException", "diff": ["-\tString serverPathString= getSourceAttachmentProperty();", "-\tif (serverPathString == null) {", "-\t\treturn null;", "+\t// 1) look source attachment property (set iff attachSource(...) was called", "+\tIPath path = getPath();", "+\tString serverPathString= Util.getSourceAttachmentProperty(path);", "+\tif (serverPathString != null) {", "+\t\tint index = serverPathString.lastIndexOf(ATTACHMENT_PROPERTY_DELIMITER);", "+\t\tif (index == -1) return null;", "+\t\tString serverRootPathString= IPackageFragmentRoot.DEFAULT_PACKAGEROOT_PATH;", "+\t\tif (index != serverPathString.length() - 1) {", "+\t\t\tserverRootPathString= serverPathString.substring(index + 1);", "+\t\t}", "+\t\treturn new Path(serverRootPathString);", "-\tint index = serverPathString.lastIndexOf(ATTACHMENT_PROPERTY_DELIMITER);", "-\tif (index == -1) return null;", "-\tString serverRootPathString= IPackageFragmentRoot.DEFAULT_PACKAGEROOT_PATH;", "-\tif (index != serverPathString.length() - 1) {", "-\t\tserverRootPathString= serverPathString.substring(index + 1);", "-\t}", "-\treturn new Path(serverRootPathString);", "+", "+\t// 2) look at classpath entry", "+\tIClasspathEntry entry = ((JavaProject) getParent()).getClasspathEntryFor(path);", "+\tIPath sourceAttachmentRootPath;", "+\tif (entry != null && (sourceAttachmentRootPath = entry.getSourceAttachmentRootPath()) != null)", "+\t\treturn sourceAttachmentRootPath;", "+\t", "+\t// 3) look for a recomendation", "+\tentry = findSourceAttachmentRecommendation();", "+\tif (entry != null && (sourceAttachmentRootPath = entry.getSourceAttachmentRootPath()) != null)", "+\t\treturn sourceAttachmentRootPath;", "+\t", "+\treturn null;\t"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7caed96523c6212fb0f55b3bf9e569b7", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/PackageFragmentRoot.java", "commitBeforeChange": "5266b947a41bc87e33ca243d2f06d621c5b35d8c", "commitAfterChange": "5b0c62f0c85cc7c393266b52408d3bd3c14d0ef5", "methodNumberBeforeChange": 29, "methodNumberAfterChange": 29, "signatureBeforeChange": " public IPath getSourceAttachmentPath() throws JavaModelException", "signatureAfterChange": " public IPath getSourceAttachmentPath() throws JavaModelException", "diff": ["-\tString serverPathString= getSourceAttachmentProperty();", "-\tif (serverPathString == null) {", "-\t\treturn null;", "-\t}", "-\tint index= serverPathString.lastIndexOf(ATTACHMENT_PROPERTY_DELIMITER);", "-\tif (index < 0) {", "-\t\t// no root path specified", "-\t\treturn new Path(serverPathString);", "-\t} else {", "-\t\tString serverSourcePathString= serverPathString.substring(0, index);", "-\t\treturn new Path(serverSourcePathString);", "-\t}", "-}", "+\t// 1) look source attachment property (set iff attachSource(...) was called", "+\tIPath path = getPath();", "+\tString serverPathString= Util.getSourceAttachmentProperty(path);", "+\tif (serverPathString != null) {", "+\t\tint index= serverPathString.lastIndexOf(ATTACHMENT_PROPERTY_DELIMITER);", "+\t\tif (index < 0) {", "+\t\t\t// no root path specified", "+\t\t\treturn new Path(serverPathString);", "+\t\t} else {", "+\t\t\tString serverSourcePathString= serverPathString.substring(0, index);", "+\t\t\treturn new Path(serverSourcePathString);", "+\t// 2) look at classpath entry", "+\tIClasspathEntry entry = ((JavaProject) getParent()).getClasspathEntryFor(path);", "+\tIPath sourceAttachmentPath;", "+\tif (entry != null && (sourceAttachmentPath = entry.getSourceAttachmentPath()) != null)", "+\t\treturn sourceAttachmentPath;", "+\t", "+\t// 3) look for a recommendation", "+\tentry = findSourceAttachmentRecommendation();", "+\tif (entry != null && (sourceAttachmentPath = entry.getSourceAttachmentPath()) != null) {", "+\t\treturn sourceAttachmentPath;", "+\t", "+\treturn null;\t"]}], "num": 26193}