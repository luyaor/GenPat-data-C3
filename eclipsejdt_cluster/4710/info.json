{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "bfcf34b1d8c0c08a79f461160ca27ea4", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4bbe47de023d23366bd3584eededa868", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/util/FactoryPathUtil.java", "commitBeforeChange": "a0c7c7ae93b0a77ffb3fb6a58e4bf02df3a8c4e8", "commitAfterChange": "578c21c1e18bf1107cbfd2c0d5f2f8d0a328f266", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " \tpublic static void saveFactoryPathFile(IJavaProject jproj, Map<FactoryContainer, Boolean> containerMap)  \t\tthrows CoreException, IOException", "signatureAfterChange": " \tpublic static void saveFactoryPathFile(IJavaProject jproj, Map<FactoryContainer, Boolean> containerMap)  \t\tthrows CoreException, IOException", "diff": ["-\t\tString data = FactoryPathUtil.encodeFactoryPath(containerMap);", "-\t\t// If project is null, use workspace-level data", "-\t\tif (jproj == null) {", "-\t\t\tFile file = new File(getFileForWorkspace(), WORKSPACE_SETTINGS_FILE);", "-\t\t\tFileSystemUtil.writeStringToFile(file, data);", "+\t\tIFile projFile;", "+\t\tFile wkspFile;", "+\t\tif (jproj != null) {", "+\t\t\tprojFile = getIFileForProject(jproj);", "+\t\t\twkspFile = null;", "-\t\t\tIProject proj = jproj.getProject();", "-\t\t\tIFile file = proj.getFile(FACTORYPATH_FILE);", "-\t\t\tif (containerMap == null) {", "-\t\t\t\tfile.delete(true, null);", "-\t\t\t\treturn;", "+\t\t\twkspFile = getFileForWorkspace();", "+\t\t\tprojFile = null;", "+\t\t}", "+\t\t", "+\t\tif (containerMap != null) {", "+\t\t\tString data = FactoryPathUtil.encodeFactoryPath(containerMap);", "+\t\t\t// If project is null, set workspace-level data", "+\t\t\tif (jproj == null) {", "+\t\t\t\tFileSystemUtil.writeStringToFile(wkspFile, data);", "-\t\t\t", "-\t\t\tFileSystemUtil.writeStringToIFile(file, data);", "+\t\t\telse {", "+\t\t\t\tFileSystemUtil.writeStringToIFile(projFile, data);", "+\t\t\t}", "+\t\t}", "+\t\telse { // restore defaults by deleting the factorypath file.", "+\t\t\tif (jproj != null) {", "+\t\t\t\tprojFile.delete(true, null);", "+\t\t\t}", "+\t\t\telse {", "+\t\t\t\twkspFile.delete();", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "887412228f238e88d527e926c3ab544d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/CreateInitializerOperation.java", "commitBeforeChange": "28810fda1a5009e0ed066fab8c90d5a184849acb", "commitAfterChange": "76c3d2bb1bc28ee100e67adf3605d92f0754c0b1", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " protected IDOMNode generateElementDOM() throws JavaModelException", "signatureAfterChange": " protected IDOMNode generateElementDOM() throws JavaModelException", "diff": ["-\tIDOMInitializer domInitializer = (new DOMFactory()).createInitializer(fSource);", "-\tif (domInitializer == null) {", "-\t\tIDOMNode node = generateSyntaxIncorrectDOM();", "-\t\tif (!(node instanceof IDOMInitializer)) {", "-\t\t\treturn null;", "+\tif (fDOMNode == null) {", "+\t\tfDOMNode = (new DOMFactory()).createInitializer(fSource);", "+\t\tif (fDOMNode == null) {", "+\t\t\tfDOMNode = generateSyntaxIncorrectDOM();", "+\t\t\tif (fDOMNode == null) {", "+\t\t\t\tthrow new JavaModelException(new JavaModelStatus(IJavaModelStatusConstants.INVALID_CONTENTS));", "+\t\t\t}", "-\t\tdomInitializer = (IDOMInitializer) node;", "+\t}\t\t\t\t\t", "+\tif (!(fDOMNode instanceof IDOMInitializer)) {", "+\t\tthrow new JavaModelException(new JavaModelStatus(IJavaModelStatusConstants.INVALID_CONTENTS));", "-\treturn domInitializer;", "+\treturn fDOMNode;"]}], "num": 4710}