{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4f5fa67ac621c38466dfad0500a314a5", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5980facddef70b36ebd898f415daa3b8", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/SetClasspathOperation.java", "commitBeforeChange": "b04602938404af4f8569a399fb36a5018768a262", "commitAfterChange": "6a230a9d6ae1a4a6adbf38879cb9ee685eccffe9", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "\r \tprotected void executeOperation() throws JavaModelException", "signatureAfterChange": "\r protected void executeOperation() throws JavaModelException", "diff": ["+ */\r", "+protected void executeOperation() throws JavaModelException {\r", "+\tbeginTask(Util.bind(\"classpath.settingProgress\"/*nonNLS*/), 2);\r", "+\tJavaProject project= ((JavaProject) getElementsToProcess()[0]);\r", "+\t\r", "+\tproject.setRawClasspath0(this.newRawPath);\r", "-\t */\r", "-\tprotected void executeOperation() throws JavaModelException {\r", "-\t\tbeginTask(\"Setting classpath...\", 2);\r", "-\t\tJavaProject project = ((JavaProject) getElementsToProcess()[0]);\r", "+\t// change builder specs to build in the order given by the new classpath\r", "+\tJavaModelManager manager = project.getJavaModelManager();\r", "+\tmanager.setBuildOrder(((JavaModel) project.getJavaModel()).computeBuildOrder(true));\r", "-\t\tproject.setRawClasspath0(this.newRawPath);\r", "+\t// flush markers\r", "+\tproject.flushClasspathProblemMarkers();\r", "-\t\t// change builder specs to build in the order given by the new classpath\r", "-\t\tJavaModelManager manager = project.getJavaModelManager();\r", "-\t\tmanager.setBuildOrder(\r", "-\t\t\t((JavaModel) project.getJavaModel()).computeBuildOrder(true));\r", "-\r", "-\t\tif (this.oldResolvedPath != null) {\r", "-\t\t\tgenerateClasspathChangeDeltas(\r", "-\t\t\t\tthis.oldResolvedPath,\r", "-\t\t\t\tproject.getResolvedClasspath(true),\r", "-\t\t\t\tmanager,\r", "-\t\t\t\tproject);\r", "-\t\t} else {\r", "-\t\t\tproject.saveClasspath(this.saveClasspath);\r", "-\t\t}\r", "-\r", "-\t\tdone();\r", "+\t// resolve new path (asking for marker creation if problems)\r", "+\tIClasspathEntry[] newResolvedPath = project.getResolvedClasspath(true, true);\r", "+\t\r", "+\tif (this.oldResolvedPath != null) {\r", "+\t\tgenerateClasspathChangeDeltas(this.oldResolvedPath, newResolvedPath, manager, project);\r", "+\t} else {\r", "+\t\tproject.saveClasspath(this.saveClasspath);\t\t\r", "+\tdone();\r", "+}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "be1382bde00a319b3dd0dd6af9200299", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/ClasspathTests.java", "commitBeforeChange": "db82ddad284f32cf411bd6c2865030a9b9d54b1b", "commitAfterChange": "52e515933df6ccd1319d11147552ac110018c2a9", "methodNumberBeforeChange": 251, "methodNumberAfterChange": 251, "signatureBeforeChange": " public void testBug300136() throws Exception", "signatureAfterChange": " public void testBug300136() throws Exception", "diff": ["+\t\tJavaCore.setClasspathVariables(", "+\t\t\t\tnew String[] {\"INVALID_LIB\",},", "+\t\t\t\tnew IPath[] {new Path(\"/lib/tmp.jar\")},", "+\t\t\t\tnull);", "+\t\t", "-\t\t\t\t\"   <classpathentry  kind=\\\"var\\\" path=\\\"TEST_LIB\\\">\\n\" +", "+\t\t\t\t\"   <classpathentry  kind=\\\"var\\\" path=\\\"INVALID_LIB\\\">\\n\" +", "+\t\tJavaCore.removeClasspathVariable(\"INVALID_LIB\", null);"]}], "num": 29954}