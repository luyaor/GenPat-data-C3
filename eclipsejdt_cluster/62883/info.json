{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6b31bd7b187cf6b6c287692dc4a3fc43", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "08deddbd2096df88290441f77583eedc", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaModelOperation.java", "commitBeforeChange": "b12492ad0eb83de9816def47b0f6dea2ec7ff67f", "commitAfterChange": "0deabbafa4ad0926b565767fe8d2a589d68558ed", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 22, "signatureBeforeChange": " public void executeNestedOperation(JavaModelOperation operation, int subWorkAmount) throws JavaModelException", "signatureAfterChange": " \tpublic void executeNestedOperation(JavaModelOperation operation, int subWorkAmount) throws JavaModelException", "diff": ["- */", "-public void executeNestedOperation(JavaModelOperation operation, int subWorkAmount) throws JavaModelException {", "-\tIProgressMonitor subProgressMonitor = getSubProgressMonitor(subWorkAmount);", "-\t// fix for 1FW7IKC, part (1)", "-\ttry {", "-\t\toperation.setNested(true);", "-\t\toperation.run(subProgressMonitor);", "-\t\tif (operation.hasModifiedResource()) {", "-\t\t\tthis.hasModifiedResource = true;", "-\t\t//accumulate the nested operation deltas", "-\t\tif (operation.fDeltas != null) {", "-\t\t\tfor (int i = 0; i < operation.fDeltas.length; i++) {", "-\t\t\t\taddDelta(operation.fDeltas[i]);", "-\t\t\t}", "-\t} catch (CoreException ce) {", "-\t\tif (ce instanceof JavaModelException) {", "-\t\t\tthrow (JavaModelException)ce;", "-\t\t} else {", "-\t\t\t// translate the core exception to a java model exception", "-\t\t\tif (ce.getStatus().getCode() == IResourceStatus.OPERATION_FAILED) {", "-\t\t\t\tThrowable e = ce.getStatus().getException();", "-\t\t\t\tif (e instanceof JavaModelException) {", "-\t\t\t\t\tthrow (JavaModelException) e;", "-\t\t\tthrow new JavaModelException(ce);", "-}", "+\t */", "+\tpublic void executeNestedOperation(JavaModelOperation operation, int subWorkAmount) throws JavaModelException {", "+\t\tIProgressMonitor subProgressMonitor = getSubProgressMonitor(subWorkAmount);", "+\t\t// fix for 1FW7IKC, part (1)", "+\t\ttry {", "+\t\t\toperation.setNested(true);", "+\t\t\toperation.run(subProgressMonitor);", "+\t\t} catch (CoreException ce) {", "+\t\t\tif (ce instanceof JavaModelException) {", "+\t\t\t\tthrow (JavaModelException)ce;", "+\t\t\t} else {", "+\t\t\t\t// translate the core exception to a java model exception", "+\t\t\t\tif (ce.getStatus().getCode() == IResourceStatus.OPERATION_FAILED) {", "+\t\t\t\t\tThrowable e = ce.getStatus().getException();", "+\t\t\t\t\tif (e instanceof JavaModelException) {", "+\t\t\t\t\t\tthrow (JavaModelException) e;", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t\tthrow new JavaModelException(ce);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "59670c07f144e21abdabdae3b61e56ba", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaModelOperation.java", "commitBeforeChange": "8c44460411942a16aad4cdd569d521a9db8691de", "commitAfterChange": "bd1a352505d54cd25f76f62c7552eb0840e6ce13", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 52, "signatureBeforeChange": " \tprotected void execute() throws JavaModelException", "signatureAfterChange": " \tpublic void runOperation(IProgressMonitor monitor) throws JavaModelException", "diff": ["-\t */", "-\tprotected void execute() throws JavaModelException {", "-\t\tIJavaModelStatus status= verify();", "-\t\tif (status.isOK()) {", "-\t\t\t// computes the root infos before executing the operation", "-\t\t\t// noop if aready initialized", "-\t\t\tJavaModelManager.getJavaModelManager().deltaState.initializeRoots();", "-", "-\t\t\texecuteOperation();", "-\t\t} else {", "-\t\t\tthrow new JavaModelException(status);", "-\t\t}", "-\t}", "+\t */", "+\tpublic void runOperation(IProgressMonitor monitor) throws JavaModelException {", "+\t\ttry {", "+\t\t\tif (isReadOnly()) {", "+\t\t\t\trun(monitor);", "+\t\t\t} else {", "+\t\t\t\t// Use IWorkspace.run(...) to ensure that a build will be done in autobuild mode.", "+\t\t\t\t// Note that if the tree is locked, this will throw a CoreException, but this is ok", "+\t\t\t\t// as this operation is modifying the tree (not read-only) and a CoreException will be thrown anyway.", "+\t\t\t\tResourcesPlugin.getWorkspace().run(this, getSchedulingRule(), IWorkspace.AVOID_UPDATE, monitor);", "+\t\t\t}", "+\t\t} catch (CoreException ce) {", "+\t\t\tif (ce instanceof JavaModelException) {", "+\t\t\t\tthrow (JavaModelException)ce;", "+\t\t\t} else {", "+\t\t\t\tif (ce.getStatus().getCode() == IResourceStatus.OPERATION_FAILED) {", "+\t\t\t\t\tThrowable e= ce.getStatus().getException();", "+\t\t\t\t\tif (e instanceof JavaModelException) {", "+\t\t\t\t\t\tthrow (JavaModelException) e;", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t\tthrow new JavaModelException(ce);", "+\t\t\t}", "+\t\t}", "+\t}"]}], "num": 62883}