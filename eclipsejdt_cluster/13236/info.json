{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "fdbef58b83791e5b4807c30348d260f5", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "409d76cf23a884d3dca80c6e5fa819c8", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/BinaryTypeBinding.java", "commitBeforeChange": "c6083a2d48fa11ffa1e9554a2f00be6af36feafe", "commitAfterChange": "6dbe2813dd7277bd2252f3441ba09237b6b43790", "methodNumberBeforeChange": 49, "methodNumberAfterChange": 49, "signatureBeforeChange": " private void scanFieldForNullAnnotation(IBinaryField field, FieldBinding fieldBinding, boolean isEnum, ITypeAnnotationWalker externalAnnotationWalker)", "signatureAfterChange": " private void scanFieldForNullAnnotation(IBinaryField field, FieldBinding fieldBinding, boolean isEnum, ITypeAnnotationWalker externalAnnotationWalker)", "diff": ["-\tchar[][] nullableAnnotationName = this.environment.getNullableAnnotationName();", "-\tchar[][] nonNullAnnotationName = this.environment.getNonNullAnnotationName();", "-\tif (nullableAnnotationName == null || nonNullAnnotationName == null)", "-\t\treturn; // not well-configured to use null annotations", "-\t\t\tchar[][] typeName = signature2qualifiedTypeName(annotationTypeName);", "-\t\t\tif (CharOperation.equals(typeName, nonNullAnnotationName)) {", "+\t\t\tint typeBit = this.environment.getNullAnnotationBit(signature2qualifiedTypeName(annotationTypeName));", "+\t\t\tif (typeBit == TypeIds.BitNonNullAnnotation) {", "-\t\t\tif (CharOperation.equals(typeName, nullableAnnotationName)) {", "+\t\t\tif (typeBit == TypeIds.BitNullableAnnotation) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "95ab57c866c617d68445a6345ce51635", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/SuperTypeNamesCollector.java", "commitBeforeChange": "0271031e5844c32df2646c3a81a2c00b29e7d251", "commitAfterChange": "14c82497ad7236bee9eedf2d9ff4867e4a47ff21", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 23, "signatureBeforeChange": " protected boolean matches(char[][] compoundName)", "signatureAfterChange": " protected boolean matches(char[][] compoundName)", "diff": ["-}", "-protected boolean matches(char[][] compoundName) {", "-\tint length = compoundName.length;", "-\tif (length == 0) return false;", "-\tchar[] simpleName = compoundName[length-1];", "-\tint last = length - 1;", "-\tif (this.typeSimpleName != null) {", "-\t\t// most frequent case: simple name equals last segment of compoundName", "-\t\tif (this.pattern.matchesName(simpleName, this.typeSimpleName)) {", "-\t\t\tchar[][] qualification = new char[last][];", "-\t\t\tSystem.arraycopy(compoundName, 0, qualification, 0, last);", "-\t\t\treturn ", "-\t\t\t\tthis.pattern.matchesName(", "-\t\t\t\t\tthis.typeQualification, ", "-\t\t\t\t\tCharOperation.concatWith(qualification, '.'));", "-\t\t} else if (!CharOperation.endsWith(simpleName, this.typeSimpleName)) {", "-\t\t\treturn false;", "-\t\t} else {", "-\t\t\t// member type -> transform A.B.C$D into A.B.C.D", "-\t\t\tSystem.arraycopy(compoundName, 0, compoundName = new char[length+1][], 0, last);", "-\t\t\tint dollar = CharOperation.indexOf('$', simpleName);", "-\t\t\tif (dollar == -1) return false;", "-\t\t\tcompoundName[last] = CharOperation.subarray(simpleName, 0, dollar);", "-\t\t\tcompoundName[length] = CharOperation.subarray(simpleName, dollar+1, simpleName.length); ", "-\t\t\treturn this.matches(compoundName);", "-\t\t}", "-\t} else {", "-\t\tchar[][] qualification = new char[last][];", "-\t\tSystem.arraycopy(compoundName, 0, qualification, 0, last);", "-\t\treturn ", "-\t\t\tthis.pattern.matchesName(", "-\t\t\t\tthis.typeQualification, ", "-\t\t\t\tCharOperation.concatWith(qualification, '.'));", "-\t}", "-}", "+}", "+protected boolean matches(char[][] compoundName) {", "+\tint length = compoundName.length;", "+\tif (length == 0) return false;", "+\tchar[] simpleName = compoundName[length-1];", "+\tint last = length - 1;", "+\tif (this.typeSimpleName == null || this.pattern.matchesName(simpleName, this.typeSimpleName)) {", "+\t\t// most frequent case: simple name equals last segment of compoundName", "+\t\tchar[][] qualification = new char[last][];", "+\t\tSystem.arraycopy(compoundName, 0, qualification, 0, last);", "+\t\treturn this.pattern.matchesName(this.typeQualification, CharOperation.concatWith(qualification, '.'));", "+\t}", "+", "+\tif (!CharOperation.endsWith(simpleName, this.typeSimpleName)) return false;", "+", "+\t// member type -> transform A.B.C$D into A.B.C.D", "+\tSystem.arraycopy(compoundName, 0, compoundName = new char[length+1][], 0, last);", "+\tint dollar = CharOperation.indexOf('$', simpleName);", "+\tif (dollar == -1) return false;", "+\tcompoundName[last] = CharOperation.subarray(simpleName, 0, dollar);", "+\tcompoundName[length] = CharOperation.subarray(simpleName, dollar+1, simpleName.length); ", "+\treturn this.matches(compoundName);", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f4f090b560873a4f8e2f576e5296bfe3", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/indexing/IndexManager.java", "commitBeforeChange": "9d422f535f1cf1a8b8f8401815db736b124961e4", "commitAfterChange": "13ebf03f7d31f9fda8d23c3fe70da0f01fcad14a", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 3, "signatureBeforeChange": " private String computeIndexName(IPath path)", "signatureAfterChange": " String computeIndexName(IPath path)", "diff": ["+}", "+String computeIndexName(IPath path) {", "+\tString name = (String) indexNames.get(path);", "+\tif (name == null) {", "+\t\tString pathString = path.toOSString();", "+\t\tchecksumCalculator.reset();", "+\t\tchecksumCalculator.update(pathString.getBytes());", "+\t\tString fileName = Long.toString(checksumCalculator.getValue()) + \".index\"; //$NON-NLS-1$", "+\t\tif (VERBOSE)", "+\t\t\tJobManager.verbose(\"-> index name for \" + pathString + \" is \" + fileName); //$NON-NLS-1$ //$NON-NLS-2$", "+\t\tname = getJavaPluginWorkingLocation().append(fileName).toOSString();", "+\t\tindexNames.put(path, name);", "+\treturn name;", "-}", "-private String computeIndexName(IPath path) {", "-\t", "-\tString pathString = path.toOSString();", "-\tbyte[] pathBytes = pathString.getBytes();", "-\tchecksumCalculator.reset();", "-\tchecksumCalculator.update(pathBytes);", "-\tString fileName = Long.toString(checksumCalculator.getValue()) + \".index\"; //$NON-NLS-1$", "-\tif (VERBOSE) JobManager.verbose(\"-> index name for \" + pathString + \" is \" + fileName); //$NON-NLS-1$ //$NON-NLS-2$", "-\tIPath indexPath = getJavaPluginWorkingLocation();", "-\tString indexDirectory = indexPath.toOSString();", "-\tif (indexDirectory.endsWith(File.separator)) {", "-\t\treturn indexDirectory + fileName;", "-\t} else {", "-\t\treturn indexDirectory + File.separator + fileName;", "-\t} ", "-}"]}], "num": 13236}