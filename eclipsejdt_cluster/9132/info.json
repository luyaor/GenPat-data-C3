{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "cf47b7d967a81b4402a79716136c1844", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "82c49558c726354ba3e8a8a980bac674", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/generatedfile/GeneratedFileManager.java", "commitBeforeChange": "07500b3aefa58aecd5e846627b7c70382793f29f", "commitAfterChange": "641c18a6fa8d154329ae2bcdac1ab25ff8b18f71", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 46, "signatureBeforeChange": " \tpublic static synchronized GeneratedFileManager getGeneratedFileManager(final IProject project)", "signatureAfterChange": "             public void run(IProgressMonitor monitor)", "diff": ["-\t */", "-\tpublic static synchronized GeneratedFileManager getGeneratedFileManager(final IProject project) ", "-\t{", "-\t\tif ( project == null )", "-\t\t\treturn null;", "-\t\t", "-\t\tif ( ! _initialized ) ", "-\t\t\tinit();", "-\t\tGeneratedFileManager gfm = MANAGERS_MAP.get(project);", "-\t\tif (gfm != null)", "-\t\t\treturn gfm;", "-", "-\t\tgfm = new GeneratedFileManager(project);", "-\t\tMANAGERS_MAP.put(project, gfm);", "-\t\treturn gfm;", "+\t\tfinal IWorkspaceRunnable runnable = new IWorkspaceRunnable(){", "+            public void run(IProgressMonitor monitor)", "+            {\t\t", "+            \tif( srcFolder != null ){", "+\t            \ttry{", "+\t            \t\tsrcFolder.delete(true, false, null);", "+\t            \t}catch(CoreException e){", "+\t            \t\tAptPlugin.log(e, \"failed to delete old generated source folder \" + srcFolder.getName() ); //$NON-NLS-1$", "+\t            \t}catch(OperationCanceledException cancel){", "+\t            \t\tAptPlugin.log(cancel, \"deletion of generated source folder got cancelled\"); //$NON-NLS-1$", "+\t            \t}", "+            \t}", "+            };"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "be9eeda20f5c7bfd603b8daa0275e75e", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/generatedfile/GeneratedSourceFolderManager.java", "commitBeforeChange": "b4f6df5ae08d61af8762ee59e5c247a670be227d", "commitAfterChange": "7007043cae1b12e48764a4ad7f71075181f1dd30", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": " \tprivate void removeFolder()", "signatureAfterChange": " \tprivate void removeFolder()", "diff": ["-\t\tIFolder srcFolder = null;", "+\t\tfinal IFolder srcFolder;", "-\t\ttry {\t", "-\t\t\tClasspathUtil.removeFromProjectClasspath( _aptProject.getJavaProject(), srcFolder, null );\t\t", "+\t\ttry {", "+\t\t\tif (srcFolder.isDerived()) {", "+\t\t\t\tClasspathUtil.removeFromProjectClasspath( _aptProject.getJavaProject(), srcFolder, null );", "+\t\t\t}", "-\t\tFileSystemUtil.deleteFolder(srcFolder);", "+\t\tfinal IWorkspaceRunnable runnable = new IWorkspaceRunnable(){", "+\t        public void run(IProgressMonitor monitor)", "+\t        {\t\t", "+            \ttry {", "+            \t\tFileSystemUtil.deleteDerivedResources(srcFolder);", "+            \t} catch(CoreException e) {", "+            \t\tAptPlugin.log(e, \"failed to delete old generated source folder \" + srcFolder.getName() ); //$NON-NLS-1$", "+            \t} catch(OperationCanceledException cancel) {", "+            \t\tAptPlugin.log(cancel, \"deletion of generated source folder got cancelled\"); //$NON-NLS-1$", "+            \t}", "+\t        }", "+\t    };", "+\t    IWorkspace ws = ResourcesPlugin.getWorkspace();", "+\t    try{", "+\t    \tws.run(runnable, ws.getRoot(), IWorkspace.AVOID_UPDATE, null);", "+\t    }catch(CoreException e){", "+\t\t\tAptPlugin.log(e, \"Runnable for deleting old generated source folder \" + srcFolder.getName() + \" failed.\"); //$NON-NLS-1$ //$NON-NLS-2$", "+\t\t}"]}], "num": 9132}