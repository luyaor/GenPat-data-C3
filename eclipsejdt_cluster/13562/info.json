{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "10d50b76e500cfc0546bb71d8d426174", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "116530d32c025154ab7c365f215d532a", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/TypeDeclarationPattern.java", "commitBeforeChange": "9ccc53063dda8b7e1afdde95ae36a8417c582abc", "commitAfterChange": "7143e72571bb2e6a2e74f6791210a97b375b5ab6", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "   public static char[] createIndexKey(char[] packageName, char[][] enclosingTypeNames, char[] typeName, boolean isClass)", "signatureAfterChange": "  public static char[] createIndexKey(char[] typeName, char[] packageName, char[][] enclosingTypeNames, char classOrInterface)", "diff": ["-public static char[] createIndexKey(char[] packageName, char[][] enclosingTypeNames, char[] typeName, boolean isClass) {", "-\tTypeDeclarationPattern pattern = new TypeDeclarationPattern(R_EXACT_MATCH | R_CASE_SENSITIVE);", "-\tpattern.pkg = packageName;", "-\tpattern.enclosingTypeNames = enclosingTypeNames;", "-\tpattern.simpleName = typeName;", "-\tpattern.classOrInterface = isClass ? CLASS_SUFFIX : INTERFACE_SUFFIX;", "-\treturn pattern.encodeIndexKey();", "+", "+public static char[] createIndexKey(char[] typeName, char[] packageName, char[][] enclosingTypeNames, char classOrInterface) {", "+\tint typeNameLength = typeName == null ? 0 : typeName.length;", "+\tint packageLength = packageName == null ? 0 : packageName.length;", "+\tint enclosingNamesLength = 0;", "+\tif (enclosingTypeNames != null) {", "+\t\tfor (int i = 0, length = enclosingTypeNames.length; i < length;) {", "+\t\t\tenclosingNamesLength += enclosingTypeNames[i].length;", "+\t\t\tif (++i < length)", "+\t\t\t\tenclosingNamesLength++; // for the '.' separator", "+\t\t}", "+\t}", "+", "+\tchar[] result = new char[typeNameLength + packageLength + enclosingNamesLength + 4];", "+\tint pos = 0;", "+\tif (typeNameLength > 0) {", "+\t\tSystem.arraycopy(typeName, 0, result, pos, typeNameLength);", "+\t\tpos += typeNameLength;", "+\t}", "+\tresult[pos++] = SEPARATOR;", "+\tif (packageLength > 0) {", "+\t\tSystem.arraycopy(packageName, 0, result, pos, packageLength);", "+\t\tpos += packageLength;", "+\t}", "+\tresult[pos++] = SEPARATOR;", "+\tif (enclosingNamesLength > 0) {", "+\t\tfor (int i = 0, length = enclosingTypeNames.length; i < length;) {", "+\t\t\tchar[] enclosingName = enclosingTypeNames[i];", "+\t\t\tint itsLength = enclosingName.length;", "+\t\t\tSystem.arraycopy(enclosingName, 0, result, pos, itsLength);", "+\t\t\tpos += itsLength;", "+\t\t\tif (++i < length)", "+\t\t\t\tresult[pos++] = '.';", "+\t\t}", "+\t}", "+\tresult[pos++] = SEPARATOR;", "+\tresult[pos] = classOrInterface;", "+\treturn result;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2cd573937d1bea650356af67292023f4", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/TypeDeclarationPattern.java", "commitBeforeChange": "7dce3ced6f2c34a63721a3fda038e2fad50139b7", "commitAfterChange": "4a258c24dea43b906f3daa4041c94e7315633dfe", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " protected static char[] createTypeDeclaration(char[] packageName, char[][] enclosingTypeNames, char[] typeName, boolean isClass)", "signatureAfterChange": " public static TypeDeclarationPattern getTypeDeclarationRecord()", "diff": ["+public static TypeDeclarationPattern getTypeDeclarationRecord() {", "+\treturn (TypeDeclarationPattern)indexRecord.get();", "- */", "-protected static char[] createTypeDeclaration(char[] packageName, char[][] enclosingTypeNames, char[] typeName, boolean isClass) {", "-\tint packageLength = packageName == null ? 0 : packageName.length;", "-\tint enclosingTypeNamesLength = 0;", "-\tif (enclosingTypeNames != null)", "-\t\tfor (int i = 0, length = enclosingTypeNames.length; i < length; i++)", "-\t\t\tenclosingTypeNamesLength += enclosingTypeNames[i].length + 1;", "-\tint pos = TYPE_DECL_LENGTH;", "-\tchar[] result = new char[pos + packageLength + typeName.length + enclosingTypeNamesLength + 4];", "-\tSystem.arraycopy(TYPE_DECL, 0, result, 0, pos);", "-\tresult[pos++] = isClass ? CLASS_SUFFIX : INTERFACE_SUFFIX;", "-\tresult[pos++] = SEPARATOR;", "-\tif (packageLength > 0) {", "-\t\tSystem.arraycopy(packageName, 0, result, pos, packageLength);", "-\t\tpos += packageLength;", "-\t}", "-\tresult[pos++] = SEPARATOR;", "-\tSystem.arraycopy(typeName, 0, result, pos, typeName.length);", "-\tpos += typeName.length;", "-\tresult[pos++] = SEPARATOR;", "-\tif (enclosingTypeNames != null) {", "-\t\tfor (int i = 0, length = enclosingTypeNames.length; i < length; i++) {", "-\t\t\tint enclosingTypeNameLength = enclosingTypeNames[i].length;", "-\t\t\tSystem.arraycopy(enclosingTypeNames[i], 0, result, pos, enclosingTypeNameLength);", "-\t\t\tpos += enclosingTypeNameLength;", "-\t\t\tresult[pos++] = SEPARATOR;", "-\t\t}", "-\t}", "-\treturn result;", "-}"]}], "num": 13562}