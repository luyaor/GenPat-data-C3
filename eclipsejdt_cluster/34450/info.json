{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6295204835b08284a06668097dbdcfa8", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a484ed44b9d95b43f9b4ea8296ba2e07", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/JavaSearchScope.java", "commitBeforeChange": "de1a896ae0cf9cc7fdee8ce3aebee48242ef244b", "commitAfterChange": "38590129939501d58d89738289276afaa02e2706", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "\r public void add(IJavaElement element) throws JavaModelException", "signatureAfterChange": "\r public void add(IJavaElement element) throws JavaModelException", "diff": ["-\tif (element instanceof IJavaProject) {\r", "-\t\tthis.add((IJavaProject)element, true, new HashSet(2));\r", "-\t} else if (element instanceof IPackageFragmentRoot) {\r", "-\t\troot = (IPackageFragmentRoot)element;\r", "-\t\tthis.add(root.getPath(), true);\r", "-\t} else if (element instanceof IPackageFragment) {\r", "-\t\troot = (IPackageFragmentRoot)element.getParent();\r", "-\t\tif (root.isArchive()) {\r", "-\t\t\tthis.add(root.getPath().append(new Path(element.getElementName().replace('.', '/'))), false);\r", "-\t\t} else {\r", "+\tswitch (element.getElementType()) {\r", "+\t\tcase IJavaElement.JAVA_MODEL:\r", "+\t\t\t// a workspace sope should be used\r", "+\t\t\tbreak; \r", "+\t\tcase IJavaElement.JAVA_PROJECT:\r", "+\t\t\tthis.add((IJavaProject)element, true, new HashSet(2));\r", "+\t\t\tbreak;\r", "+\t\tcase IJavaElement.PACKAGE_FRAGMENT_ROOT:\r", "+\t\t\troot = (IPackageFragmentRoot)element;\r", "+\t\t\tthis.add(root.getPath(), true);\r", "+\t\t\tbreak;\r", "+\t\tcase IJavaElement.PACKAGE_FRAGMENT:\r", "+\t\t\troot = (IPackageFragmentRoot)element.getParent();\r", "+\t\t\tif (root.isArchive()) {\r", "+\t\t\t\tthis.add(root.getPath().append(new Path(element.getElementName().replace('.', '/'))), false);\r", "+\t\t\t} else {\r", "+\t\t\t\tIResource resource = element.getUnderlyingResource();\r", "+\t\t\t\tif (resource != null && resource.isAccessible()) {\r", "+\t\t\t\t\tthis.add(resource.getFullPath(), false);\r", "+\t\t\t\t}\r", "+\t\t\t}\r", "+\t\t\tbreak;\r", "+\t\tdefault:\r", "-\t\t\t\tthis.add(resource.getFullPath(), false);\r", "-\t\t\t}\r", "-\t\t}\r", "-\t} else {\r", "-\t\tIResource resource = element.getUnderlyingResource();\r", "-\t\tif (resource != null && resource.isAccessible()) {\r", "-\t\t\tthis.add(resource.getFullPath(), true);\r", "-\t\t\t\r", "-\t\t\t// find package fragment root including this java element\r", "-\t\t\tIJavaElement parent = element.getParent();\r", "-\t\t\twhile (parent != null && !(parent instanceof IPackageFragmentRoot)) {\r", "-\t\t\t\tparent = parent.getParent();\r", "-\t\t\t}\r", "-\t\t\tif (parent instanceof IPackageFragmentRoot) {\r", "-\t\t\t\troot = (IPackageFragmentRoot)parent;\r", "-\t\t\t}\r", "-\t\t}\t\r", "+\t\t\t\t// remember sub-cu (or sub-class file) java elements\r", "+\t\t\t\tif (element instanceof IMember) {\r", "+\t\t\t\t\tif (this.elements == null) {\r", "+\t\t\t\t\t\tthis.elements = new ArrayList();\r", "+\t\t\t\t\t}\r", "+\t\t\t\t\tthis.elements.add(element);\r", "+\t\t\t\t}\r", "+\t\t\t\tthis.add(resource.getFullPath(), true);\r", "+\t\t\t\t\r", "+\t\t\t\t// find package fragment root including this java element\r", "+\t\t\t\tIJavaElement parent = element.getParent();\r", "+\t\t\t\twhile (parent != null && !(parent instanceof IPackageFragmentRoot)) {\r", "+\t\t\t\t\tparent = parent.getParent();\r", "+\t\t\t\t}\r", "+\t\t\t\tif (parent instanceof IPackageFragmentRoot) {\r", "+\t\t\t\t\troot = (IPackageFragmentRoot)parent;\r", "+\t\t\t\t}\r", "+\t\t\t}\t\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c90e09160615563fae0063f95c5cd93d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaModelManager.java", "commitBeforeChange": "66e076adb0340dce3dd9bba5c2d65608184b470b", "commitAfterChange": "d685be15e32cbcd494b7318a189cad8a366bfa09", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": " \t\tprivate int indexForSourceLevel(String sourceLevel)", "signatureAfterChange": " \t\tprivate int indexForSourceLevel(String sourceLevel)", "diff": ["-\t\t\treturn sourceLevel.charAt(2) - 49;", "+\t\t\tint majVersion = (int) (CompilerOptions.versionToJdkLevel(sourceLevel) >>> 16);", "+\t\t\tswitch (majVersion) {", "+\t\t\t\tcase ClassFileConstants.MAJOR_VERSION_1_2:", "+\t\t\t\t\treturn 1;", "+\t\t\t\tcase ClassFileConstants.MAJOR_VERSION_1_3:", "+\t\t\t\t\treturn 2;", "+\t\t\t\tcase ClassFileConstants.MAJOR_VERSION_1_4:", "+\t\t\t\t\treturn 3;", "+\t\t\t\tcase ClassFileConstants.MAJOR_VERSION_1_5:", "+\t\t\t\t\treturn 4;", "+\t\t\t\tcase ClassFileConstants.MAJOR_VERSION_1_6:", "+\t\t\t\t\treturn 5;", "+\t\t\t\tdefault:", "+\t\t\t\t\t// all other cases including ClassFileConstants.MAJOR_VERSION_1_1", "+\t\t\t\t\treturn 0;", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d01663667ba0f81fadd2692d2271587a", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/impl/CompilerOptions.java", "commitBeforeChange": "64b84587b7856d69e4ee35eeedce33ea5a268ce4", "commitAfterChange": "4f90f7005696a0951a49d2ebe0ca59ea39a6f81e", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "  \tpublic static String versionFromJdkLevel(long jdkLevel)", "signatureAfterChange": "  \tpublic static String versionFromJdkLevel(long jdkLevel)", "diff": ["-\t\tif (jdkLevel == ClassFileConstants.JDK1_1) {", "-\t\t\treturn VERSION_1_1;", "-\t\t} else if (jdkLevel == ClassFileConstants.JDK1_2) {", "-\t\t\treturn VERSION_1_2;", "-\t\t} else if (jdkLevel == ClassFileConstants.JDK1_3) {", "-\t\t\treturn VERSION_1_3;", "-\t\t} else if (jdkLevel == ClassFileConstants.JDK1_4) {", "-\t\t\treturn VERSION_1_4;", "-\t\t} else if (jdkLevel == ClassFileConstants.JDK1_5) {", "-\t\t\treturn VERSION_1_5;", "-\t\t} else if (jdkLevel == ClassFileConstants.JDK1_6) {", "-\t\t\treturn VERSION_1_6;", "+\t\tswitch ((int)(jdkLevel>>16)) {", "+\t\t\tcase ClassFileConstants.MAJOR_VERSION_1_1 :", "+\t\t\t\tif (jdkLevel == ClassFileConstants.JDK1_1) ", "+\t\t\t\t\treturn VERSION_1_1;", "+\t\t\t\tbreak;", "+\t\t\tcase ClassFileConstants.MAJOR_VERSION_1_2 :", "+\t\t\t\tif (jdkLevel == ClassFileConstants.JDK1_2) ", "+\t\t\t\t\treturn VERSION_1_2;", "+\t\t\t\tbreak;", "+\t\t\tcase ClassFileConstants.MAJOR_VERSION_1_3 :", "+\t\t\t\tif (jdkLevel == ClassFileConstants.JDK1_3) ", "+\t\t\t\t\treturn VERSION_1_3;", "+\t\t\t\tbreak;", "+\t\t\tcase ClassFileConstants.MAJOR_VERSION_1_4 :", "+\t\t\t\tif (jdkLevel == ClassFileConstants.JDK1_4) ", "+\t\t\t\t\treturn VERSION_1_4;", "+\t\t\t\tbreak;", "+\t\t\tcase ClassFileConstants.MAJOR_VERSION_1_5 :", "+\t\t\t\tif (jdkLevel == ClassFileConstants.JDK1_5) ", "+\t\t\t\t\treturn VERSION_1_5;", "+\t\t\t\tbreak;", "+\t\t\tcase ClassFileConstants.MAJOR_VERSION_1_6 :", "+\t\t\t\tif (jdkLevel == ClassFileConstants.JDK1_6) ", "+\t\t\t\t\treturn VERSION_1_6;", "+\t\t\t\tbreak;", "+\t\t\tcase ClassFileConstants.MAJOR_VERSION_1_7 :", "+\t\t\t\tif (jdkLevel == ClassFileConstants.JDK1_7) ", "+\t\t\t\t\treturn VERSION_1_7;", "+\t\t\t\tbreak;"]}], "num": 34450}