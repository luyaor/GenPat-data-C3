{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8964329bb6c831cd70b346bf463a3086", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "752dffbdec74fc09da3016e384a4df94", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.performance/src/org/eclipse/jdt/core/tests/performance/FullSourceWorkspaceTests.java", "commitBeforeChange": "ded90d967b480e6d7d22b3283d60f4ed44ccc489", "commitAfterChange": "18c83b91d182e52feafdad6b2c46eb79ffb0e002", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 20, "signatureBeforeChange": " \tprotected void buildUsingBatchCompiler(String options) throws IOException", "signatureAfterChange": " \tprotected void buildUsingBatchCompiler(String options) throws IOException", "diff": ["-\t\tPrintWriter err = new PrintWriter(new StringWriter());", "+\t\tStringWriter errStrWriter = new StringWriter();", "+\t\tPrintWriter err = new PrintWriter(errStrWriter);", "+\t\tint errorsCount = 0;", "+\t\t\tif (main.globalErrorsCount > 0 && main.globalErrorsCount != errorsCount) {", "+\t\t\t\tSystem.out.println(this.scenarioShortName+\": \"+errorsCount+\" Unexpected compile ERROR!\");", "+\t\t\t\tif (DEBUG) {", "+\t\t\t\t\tSystem.out.println(errStrWriter.toString());", "+\t\t\t\t\tSystem.out.println(\"--------------------\");", "+\t\t\t\t}", "+\t\t\t\terrorsCount = main.globalErrorsCount;", "+\t\t\t}", "+", "+\t\t// Clear memory", "+\t\trunGc();", "-\t\t\trunGc();", "+\t\t\tif (main.globalErrorsCount > 0 && main.globalErrorsCount != errorsCount) {", "+\t\t\t\tSystem.out.println(this.scenarioShortName+\": \"+errorsCount+\" Unexpected compile ERROR!\");", "+\t\t\t\tif (DEBUG) {", "+\t\t\t\t\tSystem.out.println(errStrWriter.toString());", "+\t\t\t\t\tSystem.out.println(\"--------------------\");", "+\t\t\t\t}", "+\t\t\t\terrorsCount = main.globalErrorsCount;", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a4629fafa5d96adeefd82c36d415357d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/CodeStream.java", "commitBeforeChange": "b722a746f46217b7440d73c5e0dfc83844a8012d", "commitAfterChange": "9cc5bde0cff147bf990090541b8a0cede8969f68", "methodNumberBeforeChange": 133, "methodNumberAfterChange": 133, "signatureBeforeChange": " final public void goto_(BranchLabel label)", "signatureAfterChange": " final public void goto_(BranchLabel label)", "diff": ["-\tthis.inlineForwardReferencesFromLabelsTargeting(label, position);", "+\tboolean chained = this.inlineForwardReferencesFromLabelsTargeting(label, position);", "+\tif (DEBUG && chained) {", "+\t\tif (DEBUG) {", "+\t\t\tif (this.lastAbruptCompletion == this.position) {", "+\t\t\t\tSystem.out.println(\"\\t\\t\\t\\t<branch chaining - goto eliminated : \"+this.position+\",\"+label+\">\");//$NON-NLS-1$//$NON-NLS-2$//$NON-NLS-3$\t\t\t\t", "+\t\t\t} else {", "+\t\t\t\tSystem.out.println(\"\\t\\t\\t\\t<branch chaining - goto issued : \"+this.position+\",\"+label+\">\");//$NON-NLS-1$//$NON-NLS-2$//$NON-NLS-3$", "+\t\t\t}", "+\t\t}\t\t", "+\t}", "-\treturns.", "-\tSee inlineForwardReferencesFromLabelsTargeting defined", "-\ton the Label class for the remaining part of this", "-\toptimization.", "-\t if (!lbl.isBranchTarget(position)) {", "-\t\tswitch(bCodeStream[classFileOffset-1]) {", "-\t\t\tcase Opcodes.OPC_return :", "-\t\t\tcase Opcodes.OPC_areturn:", "-\t\t\t\treturn;", "-\t\t}", "+\treturns. Also see 114894", "+\tif (chained && this.lastAbruptCompletion == this.position) {", "+\t\tif (label.position != Label.POS_NOT_SET) { // ensure existing forward references are updated", "+\t\t\tint[] forwardRefs = label.forwardReferences();", "+\t\t\tfor (int i = 0, max = label.forwardReferenceCount(); i < max; i++) {", "+\t\t\t\tthis.writePosition(label, forwardRefs[i]);", "+\t\t\t}\t\t\t\t", "+\t\t\tthis.countLabels = 0; // backward jump, no further chaining allowed", "+\t\t}", "+//\t\tthis.lastAbruptCompletion = -1;", "+\t\treturn;", "+\t}", "+\tthis.lastAbruptCompletion = this.position;"]}], "num": 47982}