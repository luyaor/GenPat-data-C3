{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5efb75e6517170bf030e9d13c92144f7", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3ad6a52cf7f57654b8e89e0e9b118d5d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/DefaultCodeFormatterOptions.java", "commitBeforeChange": "24c681585ef2f4b155e3d0f5cb2c551e612e2484", "commitAfterChange": "1075c02575f13a345cda8e06bd18891df8b3e61e", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": " \tprivate void setDeprecatedOptions(Map settings)", "signatureAfterChange": " \tprivate void setDeprecatedOptions(Map settings)", "diff": ["-\t\t// https://bugs.eclipse.org/bugs/show_bug.cgi?id=122247", "+\t\t// New line after annotations", "-\t\tif (insertNewLineAfterAnnotationOption != null) { // check if deprecated option was used", "-\t\t\tthis.insert_new_line_after_annotation_on_member = JavaCore.INSERT.equals(insertNewLineAfterAnnotationOption);", "-\t\t\tthis.insert_new_line_after_annotation_on_parameter = JavaCore.INSERT.equals(insertNewLineAfterAnnotationOption);", "-\t\t\tthis.insert_new_line_after_annotation_on_local_variable = JavaCore.INSERT.equals(insertNewLineAfterAnnotationOption);", "+\t\tif (insertNewLineAfterAnnotationOption != null) { // check if deprecated 3.1 option was used", "+\t\t\tboolean insert = JavaCore.INSERT.equals(insertNewLineAfterAnnotationOption);", "+\t\t\tthis.insert_new_line_after_annotation_on_type = insert;", "+\t\t\tthis.insert_new_line_after_annotation_on_field = insert;", "+\t\t\tthis.insert_new_line_after_annotation_on_method = insert;", "+\t\t\tthis.insert_new_line_after_annotation_on_package = insert;", "+\t\t\tthis.insert_new_line_after_annotation_on_parameter = insert;", "+\t\t\tthis.insert_new_line_after_annotation_on_local_variable = insert;", "-\t\t\tif (insertNewLineAfterAnnotationOnMemberOption != null) { // otherwhise, use the new options", "-\t\t\t\tthis.insert_new_line_after_annotation_on_member = JavaCore.INSERT.equals(insertNewLineAfterAnnotationOnMemberOption);", "+\t\t\tif (insertNewLineAfterAnnotationOnMemberOption != null) { // check if deprecated 3.4 option was used", "+\t\t\t\tboolean insert = JavaCore.INSERT.equals(insertNewLineAfterAnnotationOnMemberOption);", "+\t\t\t\tthis.insert_new_line_after_annotation_on_type = insert;", "+\t\t\t\tthis.insert_new_line_after_annotation_on_field = insert;", "+\t\t\t\tthis.insert_new_line_after_annotation_on_method = insert;", "+\t\t\t\tthis.insert_new_line_after_annotation_on_package = insert;", "+\t\t\t} else { // otherwise use new options", "+\t\t\t\tfinal Object insertNewLineAfterAnnotationOnTypeOption = settings.get(DefaultCodeFormatterConstants.FORMATTER_INSERT_NEW_LINE_AFTER_ANNOTATION_ON_TYPE);", "+\t\t\t\tif (insertNewLineAfterAnnotationOnTypeOption != null) {", "+\t\t\t\t\tthis.insert_new_line_after_annotation_on_type = JavaCore.INSERT.equals(insertNewLineAfterAnnotationOnTypeOption);", "+\t\t\t\t}", "+\t\t\t\tfinal Object insertNewLineAfterAnnotationOnFieldOption = settings.get(DefaultCodeFormatterConstants.FORMATTER_INSERT_NEW_LINE_AFTER_ANNOTATION_ON_FIELD);", "+\t\t\t\tif (insertNewLineAfterAnnotationOnFieldOption != null) {", "+\t\t\t\t\tthis.insert_new_line_after_annotation_on_field = JavaCore.INSERT.equals(insertNewLineAfterAnnotationOnFieldOption);", "+\t\t\t\t}", "+\t\t\t\tfinal Object insertNewLineAfterAnnotationOnMethodOption = settings.get(DefaultCodeFormatterConstants.FORMATTER_INSERT_NEW_LINE_AFTER_ANNOTATION_ON_METHOD);", "+\t\t\t\tif (insertNewLineAfterAnnotationOnMethodOption != null) {", "+\t\t\t\t\tthis.insert_new_line_after_annotation_on_method = JavaCore.INSERT.equals(insertNewLineAfterAnnotationOnMethodOption);", "+\t\t\t\t}", "+\t\t\t\tfinal Object insertNewLineAfterAnnotationOnPackageOption = settings.get(DefaultCodeFormatterConstants.FORMATTER_INSERT_NEW_LINE_AFTER_ANNOTATION_ON_PACKAGE);", "+\t\t\t\tif (insertNewLineAfterAnnotationOnPackageOption != null) {", "+\t\t\t\t\tthis.insert_new_line_after_annotation_on_package = JavaCore.INSERT.equals(insertNewLineAfterAnnotationOnPackageOption);", "+\t\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d3e3ae9692193626ee0717e49aab47ab", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/Scribe.java", "commitBeforeChange": "24eb072a7e8fa246f853df0748e7c66069f4ff20", "commitAfterChange": "cd140389e1d0cdca9f232f9b33d1b09e90034b22", "methodNumberBeforeChange": 81, "methodNumberAfterChange": 81, "signatureBeforeChange": "  \tpublic void printModifiers(Annotation[] annotations, ASTVisitor visitor, int annotationSourceKind)", "signatureAfterChange": "  \tpublic void printModifiers(Annotation[] annotations, ASTVisitor visitor, int annotationSourceKind, boolean firstIsTypeAnnotation)", "diff": ["-\tpublic void printModifiers(Annotation[] annotations, ASTVisitor visitor, int annotationSourceKind) {", "+\tpublic void printModifiers(Annotation[] annotations, ASTVisitor visitor, int annotationSourceKind, boolean firstIsTypeAnnotation) {", "-\t\t\tboolean foundNonAnnotModifiers = false;", "+\t\t\tboolean treatNextAsTypeAnnotation = firstIsTypeAnnotation;", "-\t\t\t\t\t\tfoundNonAnnotModifiers = true;", "+\t\t\t\t\t\ttreatNextAsTypeAnnotation = true;", "-\t\t\t\t\t\t\t\t\tif (this.formatter.preferences.insert_new_line_after_annotation_on_type) {", "-\t\t\t\t\t\t\t\t\t\tshouldAddNewLine = foundNonAnnotModifiers ? this.formatter.preferences.insert_new_line_after_type_annotation : true;", "-\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t\tshouldAddNewLine = treatNextAsTypeAnnotation", "+\t\t\t\t\t\t\t\t\t\t\t? this.formatter.preferences.insert_new_line_after_type_annotation", "+\t\t\t\t\t\t\t\t\t\t\t: this.formatter.preferences.insert_new_line_after_annotation_on_type;", "-\t\t\t\t\t\t\t\t\tif (this.formatter.preferences.insert_new_line_after_annotation_on_field) {", "-\t\t\t\t\t\t\t\t\t\tshouldAddNewLine = foundNonAnnotModifiers ? this.formatter.preferences.insert_new_line_after_type_annotation : true;", "-\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t\tshouldAddNewLine = treatNextAsTypeAnnotation", "+\t\t\t\t\t\t\t\t\t\t\t? this.formatter.preferences.insert_new_line_after_type_annotation", "+\t\t\t\t\t\t\t\t\t\t\t: this.formatter.preferences.insert_new_line_after_annotation_on_field;", "-\t\t\t\t\t\t\t\t\tif (this.formatter.preferences.insert_new_line_after_annotation_on_method) {", "-\t\t\t\t\t\t\t\t\t\tshouldAddNewLine = foundNonAnnotModifiers ? this.formatter.preferences.insert_new_line_after_type_annotation : true;", "-\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t\tshouldAddNewLine = treatNextAsTypeAnnotation", "+\t\t\t\t\t\t\t\t\t\t\t? this.formatter.preferences.insert_new_line_after_type_annotation", "+\t\t\t\t\t\t\t\t\t\t\t: this.formatter.preferences.insert_new_line_after_annotation_on_method;", "-\t\t\t\t\t\t\t\t\tif (this.formatter.preferences.insert_new_line_after_annotation_on_package) {", "-\t\t\t\t\t\t\t\t\t\tshouldAddNewLine = foundNonAnnotModifiers ? this.formatter.preferences.insert_new_line_after_type_annotation : true;", "-\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t\tshouldAddNewLine = treatNextAsTypeAnnotation", "+\t\t\t\t\t\t\t\t\t\t\t? this.formatter.preferences.insert_new_line_after_type_annotation", "+\t\t\t\t\t\t\t\t\t\t\t: this.formatter.preferences.insert_new_line_after_annotation_on_package;", "-\t\t\t\t\t\t\t\t\tif (this.formatter.preferences.insert_new_line_after_annotation_on_parameter) {", "-\t\t\t\t\t\t\t\t\t\tshouldAddNewLine = foundNonAnnotModifiers ? this.formatter.preferences.insert_new_line_after_type_annotation : true;", "-\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t\tshouldAddNewLine = treatNextAsTypeAnnotation", "+\t\t\t\t\t\t\t\t\t\t\t? this.formatter.preferences.insert_new_line_after_type_annotation", "+\t\t\t\t\t\t\t\t\t\t\t: this.formatter.preferences.insert_new_line_after_annotation_on_parameter;", "-\t\t\t\t\t\t\t\t\tif (this.formatter.preferences.insert_new_line_after_annotation_on_local_variable) {", "-\t\t\t\t\t\t\t\t\t\tshouldAddNewLine = foundNonAnnotModifiers ? this.formatter.preferences.insert_new_line_after_type_annotation : true;", "-\t\t\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\t\t\tshouldAddNewLine = treatNextAsTypeAnnotation", "+\t\t\t\t\t\t\t\t\t\t\t? this.formatter.preferences.insert_new_line_after_type_annotation", "+\t\t\t\t\t\t\t\t\t\t\t: this.formatter.preferences.insert_new_line_after_annotation_on_local_variable;"]}], "num": 25061}