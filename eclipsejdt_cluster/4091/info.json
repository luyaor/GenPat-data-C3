{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2792b92fe5eb82d243a870993d40a62e", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7cf1acd09d4fb11df3c2908057141744", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/ParameterizedGenericMethodBinding.java", "commitBeforeChange": "8d86c45b7dbc1d8316194b358e7234e4491fa695", "commitAfterChange": "0305482ace5c5443f44c914a225574b12096815b", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": " \t \tpublic void inferFromExpectedType(TypeBinding expectedType, Scope scope)", "signatureAfterChange": " \t \tpublic void inferFromExpectedType(TypeBinding expectedType, Scope scope)", "diff": ["-        if ((this.returnType.tagBits & TagBits.HasTypeVariable) == 0) ", "-            return;", "-        Map substitutes = new HashMap(1);", "-        int length = this.typeArguments.length;", "-        TypeVariableBinding[] originalVariables = this.original().typeVariables;", "-        boolean hasUnboundParameters = false;", "-        for (int i = 0; i < length; i++) {", "-            if (this.typeArguments[i] == originalVariables[i]) {", "-                hasUnboundParameters = true;", "+\t    if ((this.returnType.tagBits & TagBits.HasTypeVariable) == 0) ", "+\t        return;", "+\t    Map substitutes = new HashMap(1);", "+\t    int length = this.typeArguments.length;", "+\t    TypeVariableBinding[] originalVariables = this.original().typeVariables;", "+\t    boolean hasUnboundParameters = false;", "+\t    for (int i = 0; i < length; i++) {", "+\t        if (this.typeArguments[i] == originalVariables[i]) {", "+\t            hasUnboundParameters = true;", "-            } else {", "+\t        } else {", "-            }", "-        }", "-        if (!hasUnboundParameters)", "-            return;", "-        returnType.collectSubstitutes(expectedType, substitutes);", "-\t\tfor (int i = 0; i < length; i++) {", "-\t\t\tTypeBinding[] variableSubstitutes = (TypeBinding[]) substitutes.get(originalVariables[i]);", "-\t\t\tTypeBinding mostSpecificSubstitute = scope.lowerUpperBound(variableSubstitutes);", "-\t\t\tif (mostSpecificSubstitute == null) {", "-\t\t\t    return; // TODO (philippe) should report no way to infer type", "-\t\t\t}", "-\t\t\tif (mostSpecificSubstitute != VoidBinding) ", "+\t        }", "+\t    }", "+\t    if (!hasUnboundParameters)", "+\t        return;", "+\t    returnType.collectSubstitutes(expectedType, substitutes);", "+\t    if (substitutes.isEmpty()) {", "+\t    \t// raw generic method inferred", "+\t    \tthis.isRaw = true;", "+\t    \tfor (int i = 0; i < length; i++) {", "+\t    \t\tthis.typeArguments[i] = originalVariables[i].erasure();", "+\t    \t}", "+\t    } else {", "+\t\t\tfor (int i = 0; i < length; i++) {", "+\t\t\t\tTypeBinding[] variableSubstitutes = (TypeBinding[]) substitutes.get(originalVariables[i]);", "+\t\t\t\tTypeBinding mostSpecificSubstitute = scope.lowerUpperBound(variableSubstitutes);", "+\t\t\t\tif (mostSpecificSubstitute == null) {", "+\t\t\t\t    return; // TODO (philippe) should report no way to infer type", "+\t\t\t\t}", "+\t\t\t\tif (mostSpecificSubstitute == VoidBinding) {", "+\t\t\t\t\t// 15.12.2.8 - any remaining variable is assumed to be Object", "+\t\t\t\t\tmostSpecificSubstitute = scope.getJavaLangObject();", "+\t\t\t\t}\t\t\t\t", "-\t\t}", "+\t\t\t}", "+\t    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e2d6626b5b67991eb953a2c5fdb388e7", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/TypeDeclaration.java", "commitBeforeChange": "39e0b3c44033d41fbb2f81071d1364bb178092c7", "commitAfterChange": "b4de16a0dc7d3ad9d6dd3c598e29125b9c3084c3", "methodNumberBeforeChange": 29, "methodNumberAfterChange": 29, "signatureBeforeChange": "  \tpublic StringBuffer printHeader(int indent, StringBuffer output)", "signatureAfterChange": "  \tpublic StringBuffer printHeader(int indent, StringBuffer output)", "diff": ["+\t\tif (typeParameters != null) {", "+\t\t\toutput.append(\"<\");//$NON-NLS-1$", "+\t\t\tfor (int i = 0; i < typeParameters.length; i++) {", "+\t\t\t\tif (i > 0) output.append( \", \"); //$NON-NLS-1$", "+\t\t\t\ttypeParameters[i].print(0, output);", "+\t\t\t}", "+\t\t\toutput.append(\">\");//$NON-NLS-1$", "+\t\t}"]}], "num": 4091}