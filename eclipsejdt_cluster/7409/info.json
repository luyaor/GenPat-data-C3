{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "76807cc61de35041920dbba95baffe76", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3f3d68c1f9f859ac90bc0a9db993fea3", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/DeltaProcessor.java", "commitBeforeChange": "0e8ca24e8451f1d91ed53a269d184ea21d12301f", "commitAfterChange": "369ffd3db09511488e039ba2575df2eeea055320", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 9, "signatureBeforeChange": "\r \tprotected void elementRemoved(Openable element, IResourceDelta delta)", "signatureAfterChange": "\r \tprotected void elementRemoved(Openable element, IResourceDelta delta)", "diff": ["+\t\t\tcase IJavaElement.JAVA_MODEL :\r", "+\t\t\t\telement.getJavaModelManager().getIndexManager().reset();\r", "+\t\t\t\telement.getJavaModelManager().fModelInfo = null;\r", "+\t\t\t\tbreak;\r", "-\t\t\t\tbreak;\r", "+\t\t\t\telement = (Openable)((IPackageFragmentRoot)element).getPackageFragment(\"\");//$NON-NLS-1$\r", "+\t\t\t\t// don't break so that subpackages are also removed\r", "-\t\t\t\tbreak;\r", "-\t\t\tcase IJavaElement.JAVA_MODEL :\r", "-\t\t\t\telement.getJavaModelManager().getIndexManager().reset();\r", "-\t\t\t\telement.getJavaModelManager().fModelInfo = null;\r", "+\t\t\t\t// remove subpackages\r", "+\t\t\t\tPackageFragmentRoot root = element.getPackageFragmentRoot();\r", "+\t\t\t\tString name = element.getElementName();\r", "+\t\t\t\tIResourceDelta[] children = delta.getAffectedChildren();\r", "+\t\t\t\tfor (int i = 0, length = children.length; i < length; i++) {\r", "+\t\t\t\t\tIResourceDelta child = children[i];\r", "+\t\t\t\t\tIResource resource = child.getResource();\r", "+\t\t\t\t\tif (resource instanceof IFolder) {\r", "+\t\t\t\t\t\tString subpkgName = \r", "+\t\t\t\t\t\t\tname.length() == 0 ? \r", "+\t\t\t\t\t\t\t\tresource.getName() : \r", "+\t\t\t\t\t\t\t\tname + \".\" + resource.getName(); //$NON-NLS-1$\r", "+\t\t\t\t\t\tOpenable subpkg = (Openable)root.getPackageFragment(subpkgName);\r", "+\t\t\t\t\t\tthis.updateIndex(subpkg, child);\r", "+\t\t\t\t\t\tthis.elementRemoved(subpkg, child);\r", "+\t\t\t\t\t}\r", "+\t\t\t\t}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b6cf260d6649c7a942ea349f427619ea", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/ClasspathEntry.java", "commitBeforeChange": "1f4efb41a52f8c33e561047da4304f9fe9e90dc9", "commitAfterChange": "44b2c87051c4d9bbf37b4cf649be500c54102bf7", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 12, "signatureBeforeChange": " \tpublic void elementEncode(XMLWriter writer, IPath projectPath, boolean indent, boolean newLine)", "signatureAfterChange": " \tpublic void elementEncode(XMLWriter writer, IPath projectPath, boolean indent, boolean newLine, Map unknownElements)", "diff": ["-\tpublic void elementEncode(XMLWriter writer, IPath projectPath, boolean indent, boolean newLine) {", "+\tpublic void elementEncode(XMLWriter writer, IPath projectPath, boolean indent, boolean newLine, Map unknownElements) {", "+\t\t// unknown attributes", "+\t\tUnknownXmlElements unknownXmlElements = unknownElements == null ? null : (UnknownXmlElements) unknownElements.get(this.path);", "+\t\tString[] unknownAttributes;", "+\t\tif (unknownXmlElements != null && (unknownAttributes = unknownXmlElements.attributes) != null)", "+\t\t\tfor (int i = 0, length = unknownAttributes.length; i < length; i+=2) {", "+\t\t\t\tString tagName = unknownAttributes[i];", "+\t\t\t\tString tagValue = unknownAttributes[i+1];", "+\t\t\t\tparameters.put(tagName, tagValue);", "+\t\t\t}", "+\t\t", "-\t\twriter.printTag(TAG_CLASSPATHENTRY, parameters, indent, newLine, !hasExtraAttributes && !hasRestrictions /*close tag if no extra attributes and no restriction*/);", "+\t\tArrayList unknownChildren = unknownXmlElements != null ? unknownXmlElements.children : null;", "+\t\tboolean hasUnknownChildren = unknownChildren != null;", "+\t\twriter.printTag(", "+\t\t\tTAG_CLASSPATHENTRY, ", "+\t\t\tparameters, ", "+\t\t\tindent, ", "+\t\t\tnewLine, ", "+\t\t\t!hasExtraAttributes && !hasRestrictions && !hasUnknownChildren/*close tag if no extra attributes, no restriction and no unknown children*/);", "+\t\t", "+\t\tif (hasUnknownChildren)", "+\t\t\tencodeUnknownChildren(writer, indent, newLine, unknownChildren);", "-\t\tif (hasExtraAttributes || hasRestrictions)", "-\t\t\twriter.endTag(TAG_CLASSPATHENTRY, indent);", "+\t\tif (hasExtraAttributes || hasRestrictions || hasUnknownChildren)", "+\t\t\twriter.endTag(TAG_CLASSPATHENTRY, indent, true/*insert new line*/);"]}], "num": 7409}