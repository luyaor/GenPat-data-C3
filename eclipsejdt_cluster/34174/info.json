{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e5f33864d08cca19e2a7e94293018354", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "49b04ffc0e1bdae6e99ec3015c7f6d3c", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/MethodScope.java", "commitBeforeChange": "d781dcbe8a593d5ba6dc04230bf23771b905f7bd", "commitAfterChange": "f8e9cc8d760d40e7aca97ebb627c5ab02392d804", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " \tprivate void checkAndSetModifiersForConstructor(MethodBinding methodBinding)", "signatureAfterChange": " \tprivate void checkAndSetModifiersForConstructor(MethodBinding methodBinding)", "diff": ["-\t\t\tif (declaringClass.isEnum())", "-\t\t\t\tmodifiers = ClassFileConstants.AccPrivate;", "-\t\t\telse if (declaringClass.isPublic())", "-\t\t\t\tmodifiers |= ClassFileConstants.AccPublic;", "-\t\t\telse if (declaringClass.isProtected())", "-\t\t\t\tmodifiers |= ClassFileConstants.AccProtected;", "+\t\t\t// certain flags are propagated from declaring class onto constructor", "+\t\t\tfinal int DECLARING_FLAGS = ClassFileConstants.AccEnum|ClassFileConstants.AccPublic|ClassFileConstants.AccProtected;", "+\t\t\tfinal int VISIBILITY_FLAGS = ClassFileConstants.AccPrivate|ClassFileConstants.AccPublic|ClassFileConstants.AccProtected;", "+\t\t\tint flags;", "+\t\t\tif ((flags = declaringClass.modifiers & DECLARING_FLAGS) != 0) {", "+\t\t\t\tif ((flags & ClassFileConstants.AccEnum) != 0) {", "+\t\t\t\t\tmodifiers &= ~VISIBILITY_FLAGS;", "+\t\t\t\t\tmodifiers |= ClassFileConstants.AccPrivate; // default constructor is implicitly private in enum", "+\t\t\t\t} else {", "+\t\t\t\t\tmodifiers &= ~VISIBILITY_FLAGS;", "+\t\t\t\t\tmodifiers |= flags; // propagate public/protected", "+\t\t\t\t}", "+\t\t\t}", "-\t\tint unexpectedModifiers = ~(ClassFileConstants.AccPublic | ClassFileConstants.AccPrivate | ClassFileConstants.AccProtected | ClassFileConstants.AccStrictfp);", "+\t\tfinal int UNEXPECTED_MODIFIERS = ~(ClassFileConstants.AccPublic | ClassFileConstants.AccPrivate | ClassFileConstants.AccProtected | ClassFileConstants.AccStrictfp);", "-\t\t\tunexpectedModifiers = ~(ClassFileConstants.AccPrivate | ClassFileConstants.AccStrictfp);", "-\t\t\tif ((realModifiers & unexpectedModifiers) != 0) {", "+\t\t\tfinal int UNEXPECTED_ENUM_CONSTR_MODIFIERS = ~(ClassFileConstants.AccPrivate | ClassFileConstants.AccStrictfp);", "+\t\t\tif ((realModifiers & UNEXPECTED_ENUM_CONSTR_MODIFIERS) != 0) {", "-\t\t\t\tmodifiers &= ~ExtraCompilerModifiers.AccJustFlag | ~unexpectedModifiers;", "+\t\t\t\tmodifiers &= ~ExtraCompilerModifiers.AccJustFlag | ~UNEXPECTED_ENUM_CONSTR_MODIFIERS;", "-\t\t} else if ((realModifiers & unexpectedModifiers) != 0) {", "+\t\t} else if ((realModifiers & UNEXPECTED_MODIFIERS) != 0) {", "-\t\t\tmodifiers &= ~ExtraCompilerModifiers.AccJustFlag | ~unexpectedModifiers;", "+\t\t\tmodifiers &= ~ExtraCompilerModifiers.AccJustFlag | ~UNEXPECTED_MODIFIERS;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ba06cb63934a3accf3c9b5f3594f3815", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/ClassScope.java", "commitBeforeChange": "d781dcbe8a593d5ba6dc04230bf23771b905f7bd", "commitAfterChange": "f8e9cc8d760d40e7aca97ebb627c5ab02392d804", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": " \tprivate void checkAndSetModifiersForField(FieldBinding fieldBinding, FieldDeclaration fieldDecl)", "signatureAfterChange": " \tprivate void checkAndSetModifiersForField(FieldBinding fieldBinding, FieldDeclaration fieldDecl)", "diff": ["-\t\t\tint expectedValue = ClassFileConstants.AccPublic | ClassFileConstants.AccStatic | ClassFileConstants.AccFinal;", "+\t\t\tfinal int IMPLICIT_MODIFIERS = ClassFileConstants.AccPublic | ClassFileConstants.AccStatic | ClassFileConstants.AccFinal;", "-\t\t\tmodifiers |= expectedValue;", "+\t\t\tmodifiers |= IMPLICIT_MODIFIERS;", "-\t\t\tif ((modifiers & ExtraCompilerModifiers.AccJustFlag) != expectedValue) {", "+\t\t\tif ((modifiers & ExtraCompilerModifiers.AccJustFlag) != IMPLICIT_MODIFIERS) {", "-\t\t\tint implicitValue = ClassFileConstants.AccPublic | ClassFileConstants.AccStatic | ClassFileConstants.AccFinal | ClassFileConstants.AccEnum;", "+\t\t\tfinal int IMPLICIT_MODIFIERS = ClassFileConstants.AccPublic | ClassFileConstants.AccStatic | ClassFileConstants.AccFinal | ClassFileConstants.AccEnum;", "-\t\t\tfieldBinding.modifiers|= implicitValue;", "+\t\t\tfieldBinding.modifiers|= IMPLICIT_MODIFIERS;", "-\t\tint unexpectedModifiers = ~(ClassFileConstants.AccPublic | ClassFileConstants.AccPrivate | ClassFileConstants.AccProtected | ClassFileConstants.AccFinal | ClassFileConstants.AccStatic | ClassFileConstants.AccTransient | ClassFileConstants.AccVolatile);", "-\t\tif ((realModifiers & unexpectedModifiers) != 0) {", "+\t\tfinal int UNEXPECTED_MODIFIERS = ~(ClassFileConstants.AccPublic | ClassFileConstants.AccPrivate | ClassFileConstants.AccProtected | ClassFileConstants.AccFinal | ClassFileConstants.AccStatic | ClassFileConstants.AccTransient | ClassFileConstants.AccVolatile);", "+\t\tif ((realModifiers & UNEXPECTED_MODIFIERS) != 0) {", "-\t\t\tmodifiers &= ~ExtraCompilerModifiers.AccJustFlag | ~unexpectedModifiers;", "+\t\t\tmodifiers &= ~ExtraCompilerModifiers.AccJustFlag | ~UNEXPECTED_MODIFIERS;"]}], "num": 34174}