{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "fd29a54fba0123cb6c251ec72fc374b4", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "24250beb62cc398ffc21afa967a7a15c", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/util/FactoryPathUtil.java", "commitBeforeChange": "8908235d3be70b9dc1a86302d67d48a28d815e79", "commitAfterChange": "a5a5f2f627cd928ff3dd3693be20380c04afbdb2", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " \tpublic static void saveFactoryPathFile(IJavaProject jproj, Map<FactoryContainer, Boolean> containerMap)  \t\tthrows CoreException, IOException", "signatureAfterChange": " \tpublic static void saveFactoryPathFile(IJavaProject jproj, Map<FactoryContainer, Boolean> containerMap)  \t\tthrows CoreException", "diff": ["-\t\tthrows CoreException, IOException ", "+\t\tthrows CoreException ", "-\t\tif (containerMap != null) {", "-\t\t\tString data = FactoryPathUtil.encodeFactoryPath(containerMap);", "-\t\t\t// If project is null, set workspace-level data", "-\t\t\tif (jproj == null) {", "-\t\t\t\tFileSystemUtil.writeStringToFile(wkspFile, data);", "+\t\ttry {", "+\t\t\tif (containerMap != null) {", "+\t\t\t\tString data = FactoryPathUtil.encodeFactoryPath(containerMap);", "+\t\t\t\t// If project is null, set workspace-level data", "+\t\t\t\tif (jproj == null) {", "+\t\t\t\t\tFileSystemUtil.writeStringToFile(wkspFile, data);", "+\t\t\t\t}", "+\t\t\t\telse {", "+\t\t\t\t\tFileSystemUtil.writeStringToIFile(projFile, data);", "+\t\t\t\t}", "-\t\t\telse {", "-\t\t\t\tFileSystemUtil.writeStringToIFile(projFile, data);", "+\t\t\telse { // restore defaults by deleting the factorypath file.", "+\t\t\t\tif (jproj != null) {", "+\t\t\t\t\tprojFile.delete(true, null);", "+\t\t\t\t}", "+\t\t\t\telse {", "+\t\t\t\t\twkspFile.delete();", "+\t\t\t\t}", "-\t\telse { // restore defaults by deleting the factorypath file.", "-\t\t\tif (jproj != null) {", "-\t\t\t\tprojFile.delete(true, null);", "-\t\t\t}", "-\t\t\telse {", "-\t\t\t\twkspFile.delete();", "-\t\t\t}", "+\t\tcatch (IOException e) {", "+\t\t\tthrow new CoreException(new Status(IStatus.ERROR, AptPlugin.PLUGIN_ID, -1, Messages.FactoryPathUtil_status_ioException, e));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4bbe47de023d23366bd3584eededa868", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/util/FactoryPathUtil.java", "commitBeforeChange": "a0c7c7ae93b0a77ffb3fb6a58e4bf02df3a8c4e8", "commitAfterChange": "578c21c1e18bf1107cbfd2c0d5f2f8d0a328f266", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " \tpublic static void saveFactoryPathFile(IJavaProject jproj, Map<FactoryContainer, Boolean> containerMap)  \t\tthrows CoreException, IOException", "signatureAfterChange": " \tpublic static void saveFactoryPathFile(IJavaProject jproj, Map<FactoryContainer, Boolean> containerMap)  \t\tthrows CoreException, IOException", "diff": ["-\t\tString data = FactoryPathUtil.encodeFactoryPath(containerMap);", "-\t\t// If project is null, use workspace-level data", "-\t\tif (jproj == null) {", "-\t\t\tFile file = new File(getFileForWorkspace(), WORKSPACE_SETTINGS_FILE);", "-\t\t\tFileSystemUtil.writeStringToFile(file, data);", "+\t\tIFile projFile;", "+\t\tFile wkspFile;", "+\t\tif (jproj != null) {", "+\t\t\tprojFile = getIFileForProject(jproj);", "+\t\t\twkspFile = null;", "-\t\t\tIProject proj = jproj.getProject();", "-\t\t\tIFile file = proj.getFile(FACTORYPATH_FILE);", "-\t\t\tif (containerMap == null) {", "-\t\t\t\tfile.delete(true, null);", "-\t\t\t\treturn;", "+\t\t\twkspFile = getFileForWorkspace();", "+\t\t\tprojFile = null;", "+\t\t}", "+\t\t", "+\t\tif (containerMap != null) {", "+\t\t\tString data = FactoryPathUtil.encodeFactoryPath(containerMap);", "+\t\t\t// If project is null, set workspace-level data", "+\t\t\tif (jproj == null) {", "+\t\t\t\tFileSystemUtil.writeStringToFile(wkspFile, data);", "-\t\t\t", "-\t\t\tFileSystemUtil.writeStringToIFile(file, data);", "+\t\t\telse {", "+\t\t\t\tFileSystemUtil.writeStringToIFile(projFile, data);", "+\t\t\t}", "+\t\t}", "+\t\telse { // restore defaults by deleting the factorypath file.", "+\t\t\tif (jproj != null) {", "+\t\t\t\tprojFile.delete(true, null);", "+\t\t\t}", "+\t\t\telse {", "+\t\t\t\twkspFile.delete();", "+\t\t\t}"]}], "num": 30384}