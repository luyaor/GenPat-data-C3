{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "7d4916b23a1ee3adaa5132a043775c55", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "86405a827adbca3f73b24cdb38808c11", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/DeltaProcessor.java", "commitBeforeChange": "2d75cef028da9a8fe8c9804711f5a598b2019a3c", "commitAfterChange": "e5a5a828b036dbe2b7c3417e8b56969576e779d4", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "\r \tprotected Openable createElement(IResource resource, int elementType, IJavaProject project)", "signatureAfterChange": "\r \tprotected Openable createElement(IResource resource, int elementType, IJavaProject project)", "diff": ["-\t\t/* TEMPORARY DISABLED\r", "+\t\t\t\tcase IJavaElement.CLASS_FILE:\r", "+\t\t\t\t\t\tcase IJavaElement.PACKAGE_FRAGMENT_ROOT:\r", "+\t\t\t\t\t\t\troot = (IPackageFragmentRoot)this.currentElement;\r", "+\t\t\t\t\t\t\tIPath rootPath = root.getPath();\r", "+\t\t\t\t\t\t\tIPath pkgPath = path.removeLastSegments(1);\r", "+\t\t\t\t\t\t\tString pkgName = Util.packageName(pkgPath.removeFirstSegments(rootPath.segmentCount()));\r", "+\t\t\t\t\t\t\tif (pkgName != null) {\r", "+\t\t\t\t\t\t\t\tpkgFragment = root.getPackageFragment(pkgName);\r", "+\t\t\t\t\t\t\t}\r", "+\t\t\t\t\t\t\tbreak;\r", "-\t\t\t\t\t\t// create compilation unit handle \r", "-\t\t\t\t\t\tString fileName = path.lastSegment();\r", "-\t\t\t\t\t\tif (!Util.isValidCompilationUnitName(fileName)) return null;\r", "-\t\t\t\t\t\telement = pkgFragment.getCompilationUnit(fileName);\r", "-\t\t\t\t\t}\r", "-\t\t\t\t\tbreak;\r", "-\t\t\t\tcase IJavaElement.CLASS_FILE:\r", "-\t\t\t\t\t// find the element that encloses the resource\r", "-\t\t\t\t\tthis.popUntilPrefixOf(path);\r", "-\t\t\t\t\tif (this.currentElement == null) break;\r", "-\t\t\t\t\t\r", "-\t\t\t\t\t// find the package\r", "-\t\t\t\t\tpkgFragment = null;\r", "-\t\t\t\t\tswitch (this.currentElement.getElementType()) {\r", "-\t\t\t\t\t\tcase IJavaElement.PACKAGE_FRAGMENT:\r", "-\t\t\t\t\t\t\tpkgFragment = (IPackageFragment)this.currentElement;\r", "-\t\t\t\t\t\t\tbreak;\r", "-\t\t\t\t\t\tcase IJavaElement.COMPILATION_UNIT:\r", "-\t\t\t\t\t\tcase IJavaElement.CLASS_FILE:\r", "-\t\t\t\t\t\t\tpkgFragment = (IPackageFragment)this.currentElement.getParent();\r", "-\t\t\t\t\t\t\tbreak;\r", "-\t\t\t\t\t}\r", "-\t\t\t\t\tif (pkgFragment != null) {\r", "-\t\t\t\t\t\t// create class file handle\r", "-\t\t\t\t\t\tString fileName = path.lastSegment();\r", "-\t\t\t\t\t\tif (!Util.isValidClassFileName(fileName)) return null;\r", "-\t\t\t\t\t\telement = pkgFragment.getClassFile(fileName);\r", "+\t\t\t\t\t\tif (elementType == IJavaElement.COMPILATION_UNIT) {\r", "+\t\t\t\t\t\t\t// create compilation unit handle \r", "+\t\t\t\t\t\t\tString fileName = path.lastSegment();\r", "+\t\t\t\t\t\t\tif (!Util.isValidCompilationUnitName(fileName)) return null;\r", "+\t\t\t\t\t\t\telement = pkgFragment.getCompilationUnit(fileName);\r", "+\t\t\t\t\t\t} else {\r", "+\t\t\t\t\t\t\t// create class file handle\r", "+\t\t\t\t\t\t\tString fileName = path.lastSegment();\r", "+\t\t\t\t\t\t\tif (!Util.isValidClassFileName(fileName)) return null;\r", "+\t\t\t\t\t\t\telement = pkgFragment.getClassFile(fileName);\r", "+\t\t\t\t\t\t}\r", "-\t\t*/\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "de60b56c6fd7c6ae056fa7877b2e37b8", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/DeltaProcessor.java", "commitBeforeChange": "b04602938404af4f8569a399fb36a5018768a262", "commitAfterChange": "6a230a9d6ae1a4a6adbf38879cb9ee685eccffe9", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 25, "signatureBeforeChange": "\r protected void traverseDelta(IResourceDelta delta, Openable parentElement)", "signatureAfterChange": "\r protected void traverseDelta(IResourceDelta delta, Openable parentElement)", "diff": ["-\t\t\t\t\tswitch(res.getType()) {\r", "-\t\t\t\t\t\tcase IResource.FILE :\r", "-\t\t\t\t\t\tcase IResource.FOLDER:\r", "-\t\t\t\t\t\t\tIProject fileProject = delta.getResource().getProject();\r", "-\t\t\t\t\t\t\tIJavaProject project = (IJavaProject) JavaCore.create(fileProject);\r", "-\t\t\t\t\t\t\ttry {\r", "-\t\t\t\t\t\t\t\tIPackageFragmentRoot pkgRoot;\r", "-\t\t\t\t\t\t\t\tif (parentElement != null \r", "-\t\t\t\t\t\t\t\t\t&& ((pkgRoot = parentElement.getPackageFragmentRoot()) != null)\r", "-\t\t\t\t\t\t\t\t\t&& !pkgRoot.exists()) {\r", "-\t\t\t\t\t\t\t\t\tnonJavaResourcesChanged(parentElement, delta);\r", "-\t\t\t\t\t\t\t\t\tbreak;\r", "-\t\t\t\t\t\t\t\t}\r", "-\t\t\t\t\t\t\t} catch(JavaModelException e) {\r", "-\t\t\t\t\t\t\t}\r", "-\t\t\t\t\t\tbreak;\r", "+\t\t\t\t\tPackageFragmentRoot pkgRoot;\r", "+\t\t\t\t\tif (res.getType() == IResource.FILE \r", "+\t\t\t\t\t\t&& parentElement != null \r", "+\t\t\t\t\t\t&& !parentElement.equals(element.getParent())\r", "+\t\t\t\t\t\t&& ((pkgRoot = element.getPackageFragmentRoot()) == null || !isOnClasspath(pkgRoot))){\r", "+\t\t\t\t\t\ttry { // fake compilation/class file scenario (see JavaCore.createCompilationUnitFrom & createClassFileFrom\r", "+\t\t\t\t\t\t\tnonJavaResourcesChanged(parentElement, delta);\r", "+\t\t\t\t\t\t\tbreak;\r", "+\t\t\t\t\t\t} catch(JavaModelException e) {\r", "+\t\t\t\t\t\t}\r", "-\t\t\t\t\tswitch(res.getType()) {\r", "-\t\t\t\t\t\tcase IResource.FILE :\r", "-\t\t\t\t\t\tcase IResource.FOLDER:\r", "-\t\t\t\t\t\t\tIProject fileProject = delta.getResource().getProject();\r", "-\t\t\t\t\t\t\tIJavaProject project = (IJavaProject) JavaCore.create(fileProject);\r", "-\t\t\t\t\t\t\ttry {\r", "-\t\t\t\t\t\t\t\tIPackageFragmentRoot pkgRoot;\r", "-\t\t\t\t\t\t\t\tif (parentElement != null \r", "-\t\t\t\t\t\t\t\t\t&& ((pkgRoot = parentElement.getPackageFragmentRoot()) != null)\r", "-\t\t\t\t\t\t\t\t\t&& !pkgRoot.exists()) {\r", "-\t\t\t\t\t\t\t\t\tnonJavaResourcesChanged(parentElement, delta);\r", "-\t\t\t\t\t\t\t\t\tbreak;\r", "-\t\t\t\t\t\t\t\t}\r", "-\t\t\t\t\t\t\t} catch(JavaModelException e) {\r", "-\t\t\t\t\t\t\t}\r", "-\t\t\t\t\t\tbreak;\r", "+\t\t\t\t\tif (res.getType() == IResource.FILE \r", "+\t\t\t\t\t\t&& parentElement != null \r", "+\t\t\t\t\t\t&& !parentElement.equals(element.getParent())\r", "+\t\t\t\t\t\t&& ((pkgRoot = element.getPackageFragmentRoot()) == null || !isOnClasspath(pkgRoot))){\r", "+\t\t\t\t\t\ttry { // fake compilation/class file scenario (see JavaCore.createCompilationUnitFrom & createClassFileFrom\r", "+\t\t\t\t\t\t\tnonJavaResourcesChanged(parentElement, delta);\r", "+\t\t\t\t\t\t\tbreak;\r", "+\t\t\t\t\t\t} catch(JavaModelException e) {\r", "+\t\t\t\t\t\t}\r"]}], "num": 7125}