{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "647b9e857ffffa772427d1960f8cbd54", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e9f24d3b707cbc2f4abaa34bf018d1af", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/IfStatement.java", "commitBeforeChange": "084468bbb4b6b4ced2d619a494bb2b10d317ac14", "commitAfterChange": "4f4c37f43e175a5ea8c8aa35d79cc22779b21e81", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  \tpublic FlowInfo analyseCode( \t\tBlockScope currentScope, \t\tFlowContext flowContext, \t\tFlowInfo flowInfo)", "signatureAfterChange": "  \tpublic FlowInfo analyseCode( \t\tBlockScope currentScope, \t\tFlowContext flowContext, \t\tFlowInfo flowInfo)", "diff": ["-\t\tFlowInfo mergedInfo;", "-\t\tif (isConditionOptimizedTrue){", "-\t\t\tif (thenFlowInfo != FlowInfo.DEAD_END) {", "-\t\t\t\tmergedInfo = thenFlowInfo.addPotentialInitializationsFrom(elseFlowInfo);", "-\t\t\t} else {", "-\t\t\t\tmergedInfo = elseFlowInfo.setReachMode(FlowInfo.UNREACHABLE);", "-\t\t\t}", "-", "-\t\t} else if (isConditionOptimizedFalse) {", "-\t\t\tif (elseFlowInfo != FlowInfo.DEAD_END) {", "-\t\t\t\tmergedInfo = elseFlowInfo.addPotentialInitializationsFrom(thenFlowInfo);", "-\t\t\t} else {", "-\t\t\t\tmergedInfo = thenFlowInfo.setReachMode(FlowInfo.UNREACHABLE);", "-\t\t\t}", "-", "-\t\t} else {", "-\t\t\tmergedInfo = thenFlowInfo.mergedWith(elseFlowInfo.unconditionalInits());", "-\t\t}", "-", "-\t\tmergedInitStateIndex =", "-\t\t\tcurrentScope.methodScope().recordInitializationStates(mergedInfo);", "+\t\tFlowInfo mergedInfo = FlowInfo.mergedOptimizedBranches(", "+\t\t\t\tthenFlowInfo, ", "+\t\t\t\tisConditionOptimizedTrue, ", "+\t\t\t\telseFlowInfo, ", "+\t\t\t\tisConditionOptimizedFalse,", "+\t\t\t\ttrue /*if(true){ return; }  fake-reachable(); */);", "+\t\tmergedInitStateIndex = currentScope.methodScope().recordInitializationStates(mergedInfo);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fe60e397f04034e4781e7a5bba21404e", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/DoStatement.java", "commitBeforeChange": "084468bbb4b6b4ced2d619a494bb2b10d317ac14", "commitAfterChange": "4f4c37f43e175a5ea8c8aa35d79cc22779b21e81", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "  \tpublic FlowInfo analyseCode( \t\tBlockScope currentScope, \t\tFlowContext flowContext, \t\tFlowInfo flowInfo)", "signatureAfterChange": "  \tpublic FlowInfo analyseCode( \t\tBlockScope currentScope, \t\tFlowContext flowContext, \t\tFlowInfo flowInfo)", "diff": ["-\t\t// infinite loop", "-\t\tFlowInfo mergedInfo;", "-\t\tif (isConditionTrue) {", "-\t\t\tmergedInfo = loopingContext.initsOnBreak;", "-\t\t\t/* according to 16.2.10, potential initializations are to be considered in any case", "-\t\t\tif (!mergedInfo.isReachable()) mergedInfo.addPotentialInitializationsFrom(flowInfo.initsWhenFalse());", "-\t\t\t */", "-\t\t\tmergedInfo.addPotentialInitializationsFrom(flowInfo.initsWhenFalse());", "-\t\t} else {", "-\t\t\t// end of loop: either condition false or break", "-\t\t\tmergedInfo =", "-\t\t\t\tflowInfo.initsWhenFalse().unconditionalInits().mergedWith(", "-\t\t\t\t\tloopingContext.initsOnBreak);", "-\t\t\tif (isConditionOptimizedTrue && !loopingContext.initsOnBreak.isReachable()) {", "-\t\t\t\tmergedInfo.setReachMode(FlowInfo.UNREACHABLE);", "-\t\t\t}", "-\t\t}", "-\t\tmergedInitStateIndex =", "-\t\t\tcurrentScope.methodScope().recordInitializationStates(mergedInfo);", "+\t\t// end of loop", "+\t\tFlowInfo mergedInfo = FlowInfo.mergedOptimizedBranches(", "+\t\t\t\tloopingContext.initsOnBreak, ", "+\t\t\t\tisConditionOptimizedTrue, ", "+\t\t\t\tflowInfo.initsWhenFalse(), ", "+\t\t\t\tisConditionOptimizedFalse, ", "+\t\t\t\t!isConditionTrue /*do{}while(true); unreachable(); */);", "+\t\tmergedInitStateIndex = currentScope.methodScope().recordInitializationStates(mergedInfo);"]}], "num": 35692}