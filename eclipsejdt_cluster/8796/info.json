{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "cf0f26db3802f11886b14e383f118a05", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9bb2bae1c573ae3844a6ee747a8af927", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/MessageSend.java", "commitBeforeChange": "63bda44d804d11c0afa7e8111644ceeb5480e759", "commitAfterChange": "6e3484e93dc48a09ac8c425df0144a313c14ab99", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  public void generateCode(BlockScope currentScope, CodeStream codeStream, boolean valueRequired)", "signatureAfterChange": "  public void generateCode(BlockScope currentScope, CodeStream codeStream, boolean valueRequired)", "diff": ["-\tif (binding.isVarargs()) {", "-\t\t// 4 possibilities exist for a call to the vararg method foo(int i, int ... value) : foo(1), foo(1, 2), foo(1, 2, 3, 4) & foo(1, new int[] {1, 2})", "-\t\tTypeBinding[] params = binding.parameters;", "-\t\tint lastIndex = params.length - 1;", "-\t\tfor (int i = 0; i < lastIndex; i++) {", "-\t\t\targuments[i].generateCode(currentScope, codeStream, true);", "-\t\t}", "-", "-\t\tArrayBinding varArgsType = (ArrayBinding) params[lastIndex]; // parameterType has to be an array type", "-\t\tint argLength = arguments == null ? 0 : arguments.length;", "-\t\tif (lastIndex < argLength) { // vararg argument was provided", "-\t\t\tif (params.length == argLength && varArgsType.dimensions() == arguments[lastIndex].resolvedType.dimensions()) {", "-\t\t\t\t// called with matching array : foo(1, new int[] {1, 2}", "-\t\t\t\targuments[lastIndex].generateCode(currentScope, codeStream, true);", "-\t\t\t} else {", "-\t\t\t\t// called with (argLength - lastIndex) elements : foo(1, 2) or foo(1, 2, 3, 4)", "-\t\t\t\t// need to gen elements into an array, then gen each remaining element into created array", "-\t\t\t\tcodeStream.generateInlinedValue(argLength - lastIndex);", "-\t\t\t\tcodeStream.newArray(currentScope, varArgsType); // create a mono-dimensional array", "-\t\t\t\tint elementsTypeID = varArgsType.elementsType().id;", "-\t\t\t\tfor (int i = 0, max = argLength - lastIndex; i < max; i++) {", "-\t\t\t\t\tcodeStream.dup();", "-\t\t\t\t\tcodeStream.generateInlinedValue(i);", "-\t\t\t\t\targuments[i + lastIndex].generateCode(currentScope, codeStream, true);", "-\t\t\t\t\tcodeStream.arrayAtPut(elementsTypeID, false);", "-\t\t\t\t}", "-\t\t\t}", "-\t\t} else {", "-\t\t\t// generate code for an empty array of parameterType", "-\t\t\tcodeStream.generateInlinedValue(0);", "-\t\t\tcodeStream.newArray(currentScope, varArgsType); // create a mono-dimensional array", "-\t\t}", "-\t} else if (arguments != null){", "-\t\tfor (int i = 0, max = arguments.length; i < max; i++){", "-\t\t\targuments[i].generateCode(currentScope, codeStream, true);", "-\t\t}", "-\t}", "+\tgenerateArguments(binding, arguments, currentScope, codeStream);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9f739b36258e22d3206a255228cd2d93", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/MessageSend.java", "commitBeforeChange": "55f4964943e2f63287728b29450cbefa492d313d", "commitAfterChange": "ffcfe0dac7f476f076089d3cdae600b5982efdfb", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  public void generateCode(BlockScope currentScope, CodeStream codeStream, boolean valueRequired)", "signatureAfterChange": "  public void generateCode(BlockScope currentScope, CodeStream codeStream, boolean valueRequired)", "diff": ["-\tif (arguments != null){", "+\tif (binding.isVararg()) {", "+\t\t// 4 possibilities exist for a call to the vararg method foo(int i, int ... value) : foo(1), foo(1, 2), foo(1, 2, 3, 4) & foo(1, new int[] {1, 2})", "+\t\tTypeBinding[] params = binding.parameters;", "+\t\tint lastIndex = params.length - 1;", "+\t\tfor (int i = 0; i < lastIndex; i++) {", "+\t\t\targuments[i].generateCode(currentScope, codeStream, true);", "+\t\t}", "+", "+\t\tArrayBinding varArgsType = (ArrayBinding) params[lastIndex]; // parameterType has to be an array type", "+\t\tint argLength = arguments == null ? 0 : arguments.length;", "+\t\tif (lastIndex < argLength) { // vararg argument was provided", "+\t\t\tif (params.length == argLength && varArgsType.dimensions() == arguments[lastIndex].resolvedType.dimensions()) {", "+\t\t\t\t// called with matching array : foo(1, new int[] {1, 2}", "+\t\t\t\targuments[lastIndex].generateCode(currentScope, codeStream, true);", "+\t\t\t} else {", "+\t\t\t\t// called with (argLength - lastIndex) elements : foo(1, 2) or foo(1, 2, 3, 4)", "+\t\t\t\t// need to gen elements into an array, then gen each remaining element into created array", "+\t\t\t\tcodeStream.generateInlinedValue(argLength - lastIndex);", "+\t\t\t\tcodeStream.newArray(currentScope, varArgsType); // create a mono-dimensional array", "+\t\t\t\tint elementsTypeID = varArgsType.elementsType().id;", "+\t\t\t\tfor (int i = 0, max = argLength - lastIndex; i < max; i++) {", "+\t\t\t\t\tcodeStream.dup();", "+\t\t\t\t\tcodeStream.generateInlinedValue(i);", "+\t\t\t\t\targuments[i + lastIndex].generateCode(currentScope, codeStream, true);", "+\t\t\t\t\tcodeStream.arrayAtPut(elementsTypeID, false);", "+\t\t\t\t}", "+\t\t\t}", "+\t\t} else {", "+\t\t\t// generate code for an empty array of parameterType", "+\t\t\tcodeStream.generateInlinedValue(0);", "+\t\t\tcodeStream.newArray(currentScope, varArgsType); // create a mono-dimensional array", "+\t\t}", "+\t} else if (arguments != null){"]}], "num": 8796}