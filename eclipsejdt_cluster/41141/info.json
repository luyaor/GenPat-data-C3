{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b29f13b09706fb6e25f89a6b0e4a30f7", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "702ff12a1fe17b5deee2ae5d49106450", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/JavaSearchNameEnvironment.java", "commitBeforeChange": "d95449cf37bb2e33a7804a35ceffb191c7190444", "commitAfterChange": "131cd393eb4d930b10c57f065ce4f8717582ea2a", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": " \t public JavaSearchNameEnvironment(IJavaProject javaProject)", "signatureAfterChange": " \t public JavaSearchNameEnvironment(IJavaProject javaProject, org.eclipse.jdt.core.ICompilationUnit[] copies)", "diff": ["-public JavaSearchNameEnvironment(IJavaProject javaProject) {", "+\t", "+public JavaSearchNameEnvironment(IJavaProject javaProject, org.eclipse.jdt.core.ICompilationUnit[] copies) {", "+\ttry {", "+\t\tint length = copies == null ? 0 : copies.length;", "+\t\tthis.workingCopies = new HashMap(length);", "+\t\tfor (int i = 0; i < length; i++) {", "+\t\t\torg.eclipse.jdt.core.ICompilationUnit workingCopy = copies[i];", "+\t\t\tIPackageDeclaration[] pkgs = workingCopy.getPackageDeclarations();", "+\t\t\tString pkg = pkgs.length > 0 ? pkgs[0].getElementName() : \"\"; //$NON-NLS-1$", "+\t\t\tString cuName = workingCopy.getElementName();", "+\t\t\tString mainTypeName = cuName.substring(0, cuName.length() - SUFFIX_JAVA.length);", "+\t\t\tString qualifiedMainTypeName = pkg.length() == 0 ? mainTypeName : pkg.replace('.', '/') + '/' + mainTypeName;", "+\t\t\tthis.workingCopies.put(qualifiedMainTypeName, workingCopy);", "+\t\t}", "+\t} catch (JavaModelException e) {", "+\t\t// working copy doesn't exist: cannot happen", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cf6463308b3ba44300a7941affd292f5", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/JavaSearchNameEnvironment.java", "commitBeforeChange": "31c45831879fb9d166146101d8c06704e7b03918", "commitAfterChange": "4cbee9c4edfca3748d4063d8a7e10ad2054f1b8a", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": " \t public JavaSearchNameEnvironment(IJavaProject javaProject, org.eclipse.jdt.core.ICompilationUnit[] copies)", "signatureAfterChange": " \t public JavaSearchNameEnvironment(IJavaProject javaProject, org.eclipse.jdt.core.ICompilationUnit[] copies)", "diff": ["-\t\tfor (int i = 0; i < length; i++) {", "-\t\t\torg.eclipse.jdt.core.ICompilationUnit workingCopy = copies[i];", "-\t\t\tIPackageDeclaration[] pkgs = workingCopy.getPackageDeclarations();", "-\t\t\tString pkg = pkgs.length > 0 ? pkgs[0].getElementName() : \"\"; //$NON-NLS-1$", "-\t\t\tString cuName = workingCopy.getElementName();", "-\t\t\tString mainTypeName = Util.getNameWithoutJavaLikeExtension(cuName);", "-\t\t\tString qualifiedMainTypeName = pkg.length() == 0 ? mainTypeName : pkg.replace('.', '/') + '/' + mainTypeName;", "-\t\t\tthis.workingCopies.put(qualifiedMainTypeName, workingCopy);", "+\t\tif (copies != null) {", "+\t\t\tfor (int i = 0; i < length; i++) {", "+\t\t\t\torg.eclipse.jdt.core.ICompilationUnit workingCopy = copies[i];", "+\t\t\t\tIPackageDeclaration[] pkgs = workingCopy.getPackageDeclarations();", "+\t\t\t\tString pkg = pkgs.length > 0 ? pkgs[0].getElementName() : \"\"; //$NON-NLS-1$", "+\t\t\t\tString cuName = workingCopy.getElementName();", "+\t\t\t\tString mainTypeName = Util.getNameWithoutJavaLikeExtension(cuName);", "+\t\t\t\tString qualifiedMainTypeName = pkg.length() == 0 ? mainTypeName : pkg.replace('.', '/') + '/' + mainTypeName;", "+\t\t\t\tthis.workingCopies.put(qualifiedMainTypeName, workingCopy);", "+\t\t\t}"]}], "num": 41141}