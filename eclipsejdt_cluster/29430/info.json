{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "94ce91e4e2f2facdffa9318eec5f7978", "detectedBy": ["DIFF_DBSCAN", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2cc0373489da8315e2cad5eb5332c499", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/env/ProcessorEnvImpl.java", "commitBeforeChange": "2894ba75386697d7bf484434d073fb6ffaf6cec9", "commitAfterChange": "c5ef0e6fd93c55fc5204e498f5b58ab9f95c6ab7", "methodNumberBeforeChange": 48, "methodNumberAfterChange": 33, "signatureBeforeChange": " \t \tprivate void getTypeDeclarationsFromAdditionFiles(List<AbstractTypeDeclaration> typeDecls)", "signatureAfterChange": " \t \tprivate void getTypeDeclarationsFromAdditionFiles(List<AbstractTypeDeclaration> typeDecls)", "diff": ["-\t\tICompilationUnit[] units = createICUsFrom(_additionFiles);", "-\t\tfinal int actualLen = units.length;", "-\t\tfinal int numFiles = _additionFiles.length;", "-\t\tif( actualLen == 0 )", "-\t\t\treturn;", "-\t\t", "-\t\t// We are simply silently dropping files that doesn't have a compilation unit.", "-\t\t// This most like means the file has been deleted.", "-\t\tif( numFiles != actualLen ){", "-\t\t\tfinal ICompilationUnit[] newUnits = new ICompilationUnit[actualLen];", "-\t\t\tint newIndex = 0;", "-\t\t\tfor( ICompilationUnit unit : units ){", "-\t\t\t\tif( unit != null )", "-\t\t\t\t\tnewUnits[newIndex ++] = unit;", "-\t\t\t}", "-\t\t\tunits = newUnits;", "-\t\t}", "-\t\tfinal CompilationUnit[] domUnits = createDietASTs(_javaProject, units);", "-\t\tfor( CompilationUnit domUnit : domUnits ){", "-\t\t\tif( domUnit != null ){", "-\t\t\t\ttypeDecls.addAll( domUnit.types() );", "+\t\tCompilationUnit[] asts = createASTsFrom(_additionFiles);", "+\t\tfor( CompilationUnit ast : asts ){", "+\t\t\tif( ast != null ){", "+\t\t\t\ttypeDecls.addAll( ast.types() );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9ff46110217c22bface16f84c24c683c", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/env/ProcessorEnvImpl.java", "commitBeforeChange": "9bca6c64d5f06e09288bbe705f432c80b6768f11", "commitAfterChange": "1f165d30a1b65384e3ec245ff2ecd9c2f700ae13", "methodNumberBeforeChange": 60, "methodNumberAfterChange": 59, "signatureBeforeChange": " \tprivate void createICompilationUnits()", "signatureAfterChange": " \tprivate void createICompilationUnits()", "diff": ["-\t\t// drop files that doesn't have an ICompilationUnit from the list ", "-\t\t// and shrink the list of ICompilationUnits.", "-\t\tfinal int actualLen = getNumberNonNulls(_units);", "-\t\tif(actualLen != _filesWithAnnotation.length ){", "-\t\t\tfinal IFile[] newFiles = new IFile[actualLen];", "-\t\t\tfinal ICompilationUnit[] newUnits = new ICompilationUnit[actualLen];", "-\t\t\tint newIndex = 0;", "-\t\t\tfor( int i=0; i<_filesWithAnnotation.length ; i++ ){", "-\t\t\t\tif( _units[i] != null ){", "-\t\t\t\t\tnewFiles[newIndex] = _filesWithAnnotation[i];", "-\t\t\t\t\tnewUnits[newIndex] = _units[i];", "-\t\t\t\t\tnewIndex ++;", "-\t\t\t\t}", "-\t\t\t}", "-\t\t\t_filesWithAnnotation = newFiles;", "-\t\t\t_units = newUnits;", "-\t\t}", "+\t"]}], "num": 29430}