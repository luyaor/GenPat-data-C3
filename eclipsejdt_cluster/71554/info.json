{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "674305353ab8639a168a3c65655d811e", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6c904d63c36de36fe5be246274cb213c", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/CompletionEngine.java", "commitBeforeChange": "49221e1dedf80843e710093d67caabba63367062", "commitAfterChange": "26bd6002dbcadf28eb844a4d87a4d9f705c01741", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 19, "signatureBeforeChange": " \t \tprivate void proposeType(char[] packageName, char[] simpleTypeName, int modifiers, int accessibility, char[] typeName, char[] fullyQualifiedName, boolean isQualified)", "signatureAfterChange": " \t \tprivate void proposeType(char[] packageName, char[] simpleTypeName, int modifiers, int accessibility, char[] typeName, char[] fullyQualifiedName, boolean isQualified, Scope scope)", "diff": ["-\tprivate void proposeType(char[] packageName, char[] simpleTypeName, int modifiers, int accessibility, char[] typeName, char[] fullyQualifiedName, boolean isQualified) {", "+\tprivate void proposeType(char[] packageName, char[] simpleTypeName, int modifiers, int accessibility, char[] typeName, char[] fullyQualifiedName, boolean isQualified, Scope scope) {", "+\t\t}", "+\t\t", "+\t\tTypeBinding guessedType = null;", "+\t\tif ((modifiers & ClassFileConstants.AccAnnotation) != 0 &&", "+\t\t\t\tthis.assistNodeIsAnnotation &&", "+\t\t\t\t(this.targetedElement & TagBits.AnnotationTargetMASK) != 0) {", "+\t\t\tchar[][] cn = CharOperation.splitOn('.', fullyQualifiedName);", "+\t\t\t", "+\t\t\tTypeReference ref;", "+\t\t\tif (cn.length == 1) {", "+\t\t\t\tref = new SingleTypeReference(simpleTypeName, 0);", "+\t\t\t} else {", "+\t\t\t\tref = new QualifiedTypeReference(cn,new long[cn.length]);", "+\t\t\t}", "+\t\t\t", "+\t\t\tswitch (scope.kind) {", "+\t\t\t\tcase Scope.METHOD_SCOPE :", "+\t\t\t\tcase Scope.BLOCK_SCOPE :", "+\t\t\t\t\tguessedType = ref.resolveType((BlockScope)scope);", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase Scope.CLASS_SCOPE :", "+\t\t\t\t\tguessedType = ref.resolveType((ClassScope)scope);", "+\t\t\t\t\tbreak;", "+\t\t\t}", "+\t\t\t", "+\t\t\tif (!guessedType.isValidBinding()) return;", "+\t\t\t", "+\t\t\tif (!hasPossibleAnnotationTarget(guessedType, scope)) return;", "+\t\t\t\tif (guessedType != null) relevance += computeRelevanceForAnnotationTarget(guessedType);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a54e73802d1eb5ef4c211830bcff427e", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/AllocationExpression.java", "commitBeforeChange": "b48948c440f4082a22e31c203db0c29a35ec4b75", "commitAfterChange": "699cc351076b7c5897a886d674772d111233f0a3", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "  public TypeBinding resolveType(BlockScope scope)", "signatureAfterChange": "  public TypeBinding resolveType(BlockScope scope)", "diff": ["+\tfinal boolean isDiamond = this.type != null && (this.type.bits & ASTNode.IsDiamond) != 0;", "+\t\t}", "+\t\tif (isDiamond) {", "+\t\t\tscope.problemReporter().diamondNotWithExplicitTypeArguments(this.typeArguments);", "+\t\t\treturn null;", "+\t\t\t/* https://bugs.eclipse.org/bugs/show_bug.cgi?id=345359, if arguments have errors, completely bail out in the <> case.", "+\t\t\t   No meaningful type resolution is possible since inference of the elided types is fully tied to argument types. Do", "+\t\t\t   not return the partially resolved type.", "+\t\t\t */", "+\t\t\tif (isDiamond) {", "+\t\t\t\treturn null; // not the partially cooked this.resolvedType", "+\t\t\t}", "-\t\t\t\t// record a best guess, for clients who need hint about possible contructor match", "+\t\t\t\t// record a best guess, for clients who need hint about possible constructor match", "+\tif (isDiamond) {", "+\t\tTypeBinding [] inferredTypes = inferElidedTypes(((ParameterizedTypeBinding) this.resolvedType).genericType(), null, argumentTypes, scope);", "+\t\tif (inferredTypes == null) {", "+\t\t\tscope.problemReporter().cannotInferElidedTypes(this);", "+\t\t\treturn this.resolvedType = null;", "+\t\t}", "+\t\tthis.resolvedType = this.type.resolvedType = scope.environment().createParameterizedType(((ParameterizedTypeBinding) this.resolvedType).genericType(), inferredTypes, ((ParameterizedTypeBinding) this.resolvedType).enclosingType());", "+ \t}", "+\tif (!isDiamond && this.resolvedType.isParameterizedTypeWithActualArguments()) {", "+ \t\tcheckTypeArgumentRedundancy((ParameterizedTypeBinding) this.resolvedType, null, argumentTypes, scope);", "+ \t}", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e561280225d360e8998b0d80c2a60717", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/QualifiedAllocationExpression.java", "commitBeforeChange": "b48948c440f4082a22e31c203db0c29a35ec4b75", "commitAfterChange": "699cc351076b7c5897a886d674772d111233f0a3", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "  \tpublic TypeBinding resolveType(BlockScope scope)", "signatureAfterChange": "  \tpublic TypeBinding resolveType(BlockScope scope)", "diff": ["+\t\tfinal boolean isDiamond = this.type != null && (this.type.bits & ASTNode.IsDiamond) != 0;", "+\t\t\t}", "+\t\t\tif (isDiamond) {", "+\t\t\t\tscope.problemReporter().diamondNotWithExplicitTypeArguments(this.typeArguments);", "+\t\t\t\treturn null;", "+\t\t\t/* https://bugs.eclipse.org/bugs/show_bug.cgi?id=345359, if arguments have errors, completely bail out in the <> case.", "+\t\t\t   No meaningful type resolution is possible since inference of the elided types is fully tied to argument types. Do", "+\t\t\t   not return the partially resolved type.", "+\t\t\t */", "+\t\t\tif (isDiamond) {", "+\t\t\t\treturn null; // not the partially cooked this.resolvedType", "+\t\t\t}", "+\t\t\tif (isDiamond) {", "+\t\t\t\tTypeBinding [] inferredTypes = inferElidedTypes(((ParameterizedTypeBinding) receiverType).genericType(), receiverType.enclosingType(), argumentTypes, scope);", "+\t\t\t\tif (inferredTypes == null) {", "+\t\t\t\t\tscope.problemReporter().cannotInferElidedTypes(this);", "+\t\t\t\t\treturn this.resolvedType = null;", "+\t\t\t\t}", "+\t\t\t\treceiverType = this.type.resolvedType = scope.environment().createParameterizedType(((ParameterizedTypeBinding) receiverType).genericType(), inferredTypes, ((ParameterizedTypeBinding) receiverType).enclosingType());", "+\t\t\t}", "+\t\t\tif (!isDiamond && receiverType.isParameterizedTypeWithActualArguments()) {", "+\t\t \t\tcheckTypeArgumentRedundancy((ParameterizedTypeBinding)receiverType, receiverType.enclosingType(), argumentTypes , scope);", "+\t\t \t}", "+\t\t} else {", "+\t\t\tif (isDiamond) {", "+\t\t\t\tscope.problemReporter().diamondNotWithAnoymousClasses(this.type);", "+\t\t\t\treturn null;", "+\t\t\t}\t"]}], "num": 71554}