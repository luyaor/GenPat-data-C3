{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "069c944cc98dbe3a0bdf547ced30ae78", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "123e5319d8cbe8ce5b4d194622c56244", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaSearchBugsTests.java", "commitBeforeChange": "59cddc534051cc4e23e296eb517b3676eee08cc0", "commitAfterChange": "a739bc928d6e81f07965268d15ff502fa14ed12d", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 14, "signatureBeforeChange": " \tpublic void testMethodReferenceBug70827() throws CoreException", "signatureAfterChange": " \tpublic void testBug70827() throws CoreException", "diff": ["-\t */", "-\tpublic void testMethodReferenceBug70827() throws CoreException {", "-\t\tIType type = getCompilationUnit(\"JavaSearchBugs\", \"src\", \"b70827\", \"A.java\").getType(\"A\");", "-\t\tIMethod method = type.getMethod(\"privateMethod\", new String[] {});", "-\t\tsearch(method, REFERENCES, getJavaSearchScopeBugs(), resultCollector);", "-\t\tassertSearchResults(\"\", resultCollector);", "-\t}", "+\t */", "+\tpublic void testBug70827() throws CoreException {", "+\t\tICompilationUnit workingCopy = null;", "+\t\ttry {", "+\t\t\tworkingCopy = getWorkingCopy(\"/JavaSearchBugs/src/b70827/A.java\",", "+\t\t\t\t\"package b70827;\\n\" + ", "+\t\t\t\t\"class A {\\n\" + ", "+\t\t\t\t\"\tprivate void privateMethod() {\\n\" + ", "+\t\t\t\t\"\t}\\n\" + ", "+\t\t\t\t\"}\\n\" + ", "+\t\t\t\t\"class Second extends A {\\n\" + ", "+\t\t\t\t\"\tvoid call() {\\n\" + ", "+\t\t\t\t\"\t\tint i= privateMethod();\\n\" + ", "+\t\t\t\t\"\t}\\n\" + ", "+\t\t\t\t\"\tint privateMethod() {\\n\" + ", "+\t\t\t\t\"\t\treturn 1;\\n\" + ", "+\t\t\t\t\"\t}\\n\" + ", "+\t\t\t\t\"}\\n\"", "+\t\t\t\t);", "+\t\t\tIType type = workingCopy.getType(\"A\");", "+\t\t\tIMethod method = type.getMethod(\"privateMethod\", new String[] {});", "+\t\t\tsearch(method, REFERENCES);", "+\t\t\tassertSearchResults(", "+\t\t\t\t\"\"", "+\t\t\t);", "+\t\t}", "+\t\tfinally {", "+\t\t\tif (workingCopy != null)", "+\t\t\t\tworkingCopy.discardWorkingCopy();", "+\t\t}", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "23c14d37bde72079d56422e4a078827d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaSearchBugsTests.java", "commitBeforeChange": "59cddc534051cc4e23e296eb517b3676eee08cc0", "commitAfterChange": "a739bc928d6e81f07965268d15ff502fa14ed12d", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 15, "signatureBeforeChange": " \tpublic void testMethodReferenceBug74776() throws CoreException", "signatureAfterChange": " \tpublic void testBug71279() throws CoreException", "diff": ["-\t */", "-\tpublic void testMethodReferenceBug74776() throws CoreException {", "-\t\tIType type = getCompilationUnit(\"JavaSearchBugs\", \"src\", \"b74776\", \"A.java\").getType(\"A\");", "-\t\tIMethod method = type.getMethod(\"foo\", new String[] { \"QRegion;\" });", "-\t\tsearch(method, REFERENCES, getJavaSearchScopeBugs(), resultCollector);", "-\t\tassertSearchResults(\"\", resultCollector);", "-\t}", "+\t */", "+\tpublic void testBug71279() throws CoreException {", "+\t\tJavaSearchResultCollector result = new JavaSearchResultCollector() {", "+\t\t    public void beginReporting() {", "+\t\t        results.append(\"Starting search...\");", "+\t        }", "+\t\t    public void endReporting() {", "+\t\t        results.append(\"\\nDone searching.\");", "+\t        }", "+\t\t};", "+\t\tICompilationUnit workingCopy = null;", "+\t\ttry {", "+\t\t\tworkingCopy = getWorkingCopy(\"/JavaSearchBugs/src/b71279/AA.java\",", "+\t\t\t\t\"package b71279;\\n\" + ", "+\t\t\t\t\"public class AA {\\n\" + ", "+\t\t\t\t\"\tUnknown ref;\\n\" + ", "+\t\t\t\t\"}\\n\"", "+\t\t\t\t);", "+\t\t\tnew SearchEngine().searchDeclarationsOfReferencedTypes(workingCopy, result, null);", "+\t\t\tassertSearchResults(", "+\t\t\t\t\"Starting search...\\n\" + ", "+\t\t\t\t\"Done searching.\",", "+\t\t\t\tresult);", "+\t\t}", "+\t\tfinally {", "+\t\t\tif (workingCopy != null)", "+\t\t\t\tworkingCopy.discardWorkingCopy();", "+\t\t}", "+\t}"]}], "num": 22506}