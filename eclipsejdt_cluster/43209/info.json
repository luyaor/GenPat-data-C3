{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "09087bc5c1a2719e62fc27b8db271d33", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "892fa08f2609ac3fea2f795595d2082e", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/builder/NameEnvironment.java", "commitBeforeChange": "da1ed68bc4edf753a4c670a981fc3b101d0548b0", "commitAfterChange": "d60a521aebaf899095636d4081476cd72ef03126", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "  void setNames(String[] initialTypeNames, SourceFile[] additionalUnits)", "signatureAfterChange": "  void setNames(String[] typeNames, SourceFile[] additionalFiles)", "diff": ["-void setNames(String[] initialTypeNames, SourceFile[] additionalUnits) {", "-\tthis.initialTypeNames = initialTypeNames;", "-\tthis.additionalUnits = additionalUnits;", "+void setNames(String[] typeNames, SourceFile[] additionalFiles) {", "+\t// convert the initial typeNames to a set", "+\tif (typeNames == null) {", "+\t\tthis.initialTypeNames = null;", "+\t} else {", "+\t\tthis.initialTypeNames = new SimpleSet(typeNames.length);", "+\t\tfor (int i = 0, l = typeNames.length; i < l; i++)", "+\t\t\tthis.initialTypeNames.add(typeNames[i]);", "+\t}", "+\t// map the additional source files by qualified type name", "+\tif (additionalFiles == null) {", "+\t\tthis.additionalUnits = null;", "+\t} else {", "+\t\tthis.additionalUnits = new SimpleLookupTable(additionalFiles.length);", "+\t\tfor (int i = 0, l = additionalFiles.length; i < l; i++) {", "+\t\t\tSourceFile additionalUnit = additionalFiles[i];", "+\t\t\tif (additionalUnit != null)", "+\t\t\t\tthis.additionalUnits.put(additionalUnit.initialTypeName, additionalFiles[i]);", "+\t\t}", "+\t}", "+"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d2a53968a485668add7c82886da1eb12", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/builder/AbstractImageBuilder.java", "commitBeforeChange": "1146476ca138da09c36a16ea64250a150f60b014", "commitAfterChange": "e3d3c02cc33fd5166184422215f4903c5a405e0f", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "  void compile(SourceFile[] units, String[] initialTypeNames, String[] additionalFilenames)", "signatureAfterChange": "  void compile(SourceFile[] units, SourceFile[] additionalUnits)", "diff": ["-void compile(SourceFile[] units, String[] initialTypeNames, String[] additionalFilenames) {", "+void compile(SourceFile[] units, SourceFile[] additionalUnits) {", "-\tif (!problemTypeLocations.isEmpty()) {", "-\t\tint toAdd = problemTypeLocations.size();", "-\t\tint length = additionalFilenames == null ? 0 : additionalFilenames.length;", "+\tif (!problemSourceFiles.isEmpty()) {", "+\t\tint toAdd = problemSourceFiles.size();", "+\t\tint length = additionalUnits == null ? 0 : additionalUnits.length;", "-\t\t\tadditionalFilenames = new String[toAdd];", "+\t\t\tadditionalUnits = new SourceFile[toAdd];", "-\t\t\tSystem.arraycopy(additionalFilenames, 0, additionalFilenames = new String[length + toAdd], 0, length);", "+\t\t\tSystem.arraycopy(additionalUnits, 0, additionalUnits = new SourceFile[length + toAdd], 0, length);", "-\t\t\tadditionalFilenames[length + i] = (String) problemTypeLocations.get(i);", "+\t\t\tadditionalUnits[length + i] = (SourceFile) problemSourceFiles.get(i);", "-\tnameEnvironment.setNames(initialTypeNames, additionalFilenames);", "+\tString[] initialTypeNames = new String[units.length];", "+\tfor (int i = 0, l = units.length; i < l; i++)", "+\t\tinitialTypeNames[i] = units[i].initialTypeName;", "+\tnameEnvironment.setNames(initialTypeNames, additionalUnits);"]}], "num": 43209}