{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "c6cec11377baabfbbab2c7b2fce0af2a", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cae8c8243daa9d152d580c5c6cadbcd3", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/PackageReferenceLocator.java", "commitBeforeChange": "265ec26aa6d2cbdb7df581eef4b2a30df572f94f", "commitAfterChange": "5d94e59203547041c3323b926241b976c3908892", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " public boolean isDeclaringPackageFragment(IPackageFragment packageFragment, ReferenceBinding typeBinding)", "signatureAfterChange": " public boolean isDeclaringPackageFragment(IPackageFragment packageFragment, ReferenceBinding typeBinding)", "diff": ["-\t\tif (typeBinding.isBinaryBinding()) {", "-\t\t\tIClassFile classfile = packageFragment.getClassFile(new String(fileName));", "-\t\t\treturn classfile.exists();", "-\t\t} else {", "-\t\t\tICompilationUnit unit = packageFragment.getCompilationUnit(new String(fileName));", "-\t\t\treturn unit.exists();", "+\t\t", "+\t\ttry { ", "+\t\t\tswitch (packageFragment.getKind()) {", "+\t\t\t\tcase IPackageFragmentRoot.K_SOURCE :", "+\t\t\t\t\tif (!Util.isJavaFileName(fileName) || !packageFragment.getCompilationUnit(new String(fileName)).exists()) {", "+\t\t\t\t\t\treturn false; // unit doesn't live in selected package", "+\t\t\t\t\t}", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase IPackageFragmentRoot.K_BINARY :", "+//\t\t\t\t\tif (Util.isJavaFileName(fileName)) { // binary with attached source", "+//\t\t\t\t\t\tint length = fileName.length;", "+//\t\t\t\t\t\tSystem.arraycopy(fileName, 0, fileName = new char[length], 0, length - 4); // copy all but extension", "+//\t\t\t\t\t\tSystem.arraycopy(SuffixConstants.SUFFIX_class, 0, fileName, length - 4, 4);", "+//\t\t\t\t\t}", "+\t\t\t\t\tif (!Util.isClassFileName(fileName) || !packageFragment.getClassFile(new String(fileName)).exists()) {", "+\t\t\t\t\t\treturn false; // classfile doesn't live in selected package", "+\t\t\t\t\t}", "+\t\t\t\t\tbreak;", "+\t\t\t}", "+\t\t} catch(JavaModelException e) {", "+\t\t\t// unable to determine kind; tolerate this match"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fe18a00cff5dd9ad66e8f1575f66808f", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/PackageFragmentRoot.java", "commitBeforeChange": "15960429370eb59e63bf5b77d39c92b5c06c9f8e", "commitAfterChange": "0d0ece63676205621683728295e330e5d3ff8080", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "  public IClasspathEntry findSourceAttachmentRecommendation()", "signatureAfterChange": "  public IClasspathEntry findSourceAttachmentRecommendation()", "diff": ["-\t\t\t\tif (target instanceof IFile){", "-\t\t\t\t\tIFile file = (IFile) target;", "-\t\t\t\t\tif (org.eclipse.jdt.internal.compiler.util.Util.isArchiveFileName(file.getName())){", "+\t\t\t\tif (target instanceof IResource) {", "+\t\t\t\t\tif (target instanceof IFile) {", "+\t\t\t\t\t\tIFile file = (IFile) target;", "+\t\t\t\t\t\tif (org.eclipse.jdt.internal.compiler.util.Util.isArchiveFileName(file.getName())){", "+\t\t\t\t\t\t\treturn entry;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t} else if (target instanceof IContainer) {", "-\t\t\t\t} else if (target instanceof IFolder) {", "-\t\t\t\t\treturn entry;", "-\t\t\t\t}", "-\t\t\t\tif (target instanceof java.io.File){", "+\t\t\t\t} else if (target instanceof java.io.File){", "-\t\t\t\t\tif (target instanceof IFile){", "-\t\t\t\t\t\tIFile file = (IFile) target;", "-\t\t\t\t\t\tif (org.eclipse.jdt.internal.compiler.util.Util.isArchiveFileName(file.getName())){", "+\t\t\t\t\tif (target instanceof IResource) {", "+\t\t\t\t\t\tif (target instanceof IFile){", "+\t\t\t\t\t\t\tIFile file = (IFile) target;", "+\t\t\t\t\t\t\tif (org.eclipse.jdt.internal.compiler.util.Util.isArchiveFileName(file.getName())){", "+\t\t\t\t\t\t\t\treturn entry;", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t} else if (target instanceof IContainer) {", "-\t\t\t\t\t} else if (target instanceof IFolder) {", "-\t\t\t\t\t\treturn entry;", "-\t\t\t\t\t}", "-\t\t\t\t\tif (target instanceof java.io.File){", "+\t\t\t\t\t} else if (target instanceof java.io.File){"]}], "num": 8817}