{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "acfc7b06c4390df8ecc37ecc57945751", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "480bfef896c2644df8ca257fae237d26", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/dom/AbstractASTTests.java", "commitBeforeChange": "445862b3ac94af052eb272bc07b8bce2907ade1f", "commitAfterChange": "3695268f3d47cb88012e58d6baed589f7f62bb31", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " \t\tpublic MarkerInfo(String path, String source)", "signatureAfterChange": " \t\tpublic MarkerInfo(String source, int markerIndex)", "diff": ["+\t\t}", "+\t\tpublic MarkerInfo(String source, int markerIndex) {", "+\t\t\tthis(null, source, markerIndex);", "-\t\t\tString markerStart = \"/*start*/\";", "-\t\t\tString markerEnd = \"/*end*/\";"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "695cb0616cfce234550dbaa02e6088e0", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/dom/AbstractASTTests.java", "commitBeforeChange": "3cdc40c3e141f1d38e6828b30530d087867619a9", "commitAfterChange": "0768a01c46bf55c1ad1aefdbfa14c12019b43872", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 19, "signatureBeforeChange": " \tprotected ASTNode[] buildASTs(String contents, ICompilationUnit cu, boolean reportErrors) throws JavaModelException", "signatureAfterChange": " \tprotected ASTNode[] buildASTs(String contents, ICompilationUnit cu, boolean reportErrors) throws JavaModelException", "diff": ["-\t\tArrayList infos = new ArrayList();", "-\t\tMarkerInfo markerInfo;", "-\t\tint markerIndex = 0;", "-\t\twhile (contents.indexOf(\"/*start\" + ++markerIndex + \"*/\") != -1) {", "-\t\t\tmarkerInfo = new MarkerInfo(contents, markerIndex);", "-\t\t\tinfos.add(markerInfo);", "-\t\t\tcontents = markerInfo.source;", "-\t\t}", "-\t\tif (contents.indexOf(\"/*start*/\") != -1 || infos.size() == 0) {", "-\t\t\tmarkerInfo = new MarkerInfo(contents);", "-\t\t\tinfos.add(markerInfo);", "-\t\t\tcontents = markerInfo.source;", "-\t\t}", "+\t\tMarkerInfo markerInfo = new MarkerInfo(contents);", "+\t\tcontents = markerInfo.source;", "-\t\tint length = infos.size();", "-\t\tASTNode[] nodes = new ASTNode[length];", "-\t\tfor (int i = 0; i < length; i++) {", "-\t\t\tMarkerInfo info = (MarkerInfo) infos.get(i);", "-\t\t\tnodes[i] = findNode(unit, info);", "-\t\t}", "-\t\t", "+\t\tASTNode[] nodes = findNodes(unit, markerInfo);", "+\t\tif (nodes.length == 0)", "+\t\t\treturn new ASTNode[] {unit};"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8231df3a1404ae64e4d8012595492d91", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/dom/ASTModelBridgeTests.java", "commitBeforeChange": "105a4ca655d44213ffe23400e85e9364ac7516e4", "commitAfterChange": "3e28b00b3ff1ea2877f4a4e8b245ac6023e86b59", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " \tprivate ASTNode buildAST(String contents) throws JavaModelException", "signatureAfterChange": " \tprivate ASTNode buildAST(String contents) throws JavaModelException", "diff": ["-\t\tString markerStart = \"/*start*/\";", "-\t\tString markerEnd = \"/*end*/\";", "-\t\tfinal int astStart = contents.indexOf(markerStart); // start of AST inclusive", "-\t\tcontents = new String(CharOperation.replace(contents.toCharArray(), markerStart.toCharArray(), CharOperation.NO_CHAR));", "-\t\tfinal int astEnd = contents.indexOf(markerEnd); // end of AST exclusive", "-\t\tcontents = new String(CharOperation.replace(contents.toCharArray(), markerEnd.toCharArray(), CharOperation.NO_CHAR));", "+\t\tMarkerInfo markerInfo = new MarkerInfo(contents);", "+\t\tcontents = markerInfo.source;", "-\t\tclass EndVisit extends RuntimeException {", "-\t\t\tprivate static final long serialVersionUID = 1L;", "-\t\t}", "-\t\tclass Visitor extends ASTVisitor {", "-\t\t\tASTNode found;", "-\t\t\tpublic void preVisit(ASTNode node) {", "-\t\t\t\tif (node instanceof CompilationUnit) return;", "-\t\t\t\tif (node.getStartPosition() == astStart && node.getStartPosition() + node.getLength() == astEnd) {", "-\t\t\t\t\tthis.found = node;", "-\t\t\t\t\tthrow new EndVisit();", "-\t\t\t\t}", "-\t\t\t}", "-\t\t}", "-\t\tVisitor visitor = new Visitor();", "-\t\ttry {", "-\t\t\tunit.accept(visitor);", "-\t\t} catch (EndVisit e) {", "-\t\t\treturn visitor.found;", "-\t\t}", "-\t\treturn null;", "+\t\treturn findNode(unit, markerInfo);"]}], "num": 64636}