{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "778996e7d6b7cfe7d06f1d466a4d899d", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "03357c5b7c7f00b8bbc5a8ed41c6e4e1", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/PackageReferenceLocator.java", "commitBeforeChange": "9ccc53063dda8b7e1afdde95ae36a8417c582abc", "commitAfterChange": "7143e72571bb2e6a2e74f6791210a97b375b5ab6", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": " protected void matchReportImportRef(ImportReference importRef, Binding binding, IJavaElement element, int accuracy, MatchLocator locator) throws CoreException", "signatureAfterChange": " protected void matchReportImportRef(ImportReference importRef, Binding binding, IJavaElement element, int accuracy, MatchLocator locator) throws CoreException", "diff": ["-\t\tlong[] positions = importRef.sourcePositions;", "-\t\tint last = positions.length - 1;", "-\t\tif (binding instanceof ProblemReferenceBinding)", "-\t\t\tbinding = ((ProblemReferenceBinding) binding).original;", "-\t\tif (binding instanceof ReferenceBinding) {", "-\t\t\tPackageBinding pkgBinding = ((ReferenceBinding) binding).fPackage;", "-\t\t\tif (pkgBinding != null)", "-\t\t\t\tlast = pkgBinding.compoundName.length;", "+\t\tif (locator.encloses(element)) {", "+\t\t\tlong[] positions = importRef.sourcePositions;", "+\t\t\tint last = positions.length - 1;", "+\t\t\tif (binding instanceof ProblemReferenceBinding)", "+\t\t\t\tbinding = ((ProblemReferenceBinding) binding).original;", "+\t\t\tif (binding instanceof ReferenceBinding) {", "+\t\t\t\tPackageBinding pkgBinding = ((ReferenceBinding) binding).fPackage;", "+\t\t\t\tif (pkgBinding != null)", "+\t\t\t\t\tlast = pkgBinding.compoundName.length;", "+\t\t\t}", "+\t\t\tSearchMatch match = JavaSearchMatch.newReferenceMatch(IJavaElement.PACKAGE_FRAGMENT, element, accuracy, ((int) (positions[0] >>> 32)), ((int) positions[last - 1])+1, locator);", "+\t\t\tlocator.report(match);", "-\t\tlocator.report(positions[0], positions[last - 1], element, accuracy);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a6cf25e31b9fc61673df9207ff391366", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/PackageReferenceLocator.java", "commitBeforeChange": "309be04a155363e9f398875d6734d13ff5334b6c", "commitAfterChange": "6b58c2063066f4462a27490669b336c2263fae86", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": " protected void matchReportImportRef(ImportReference importRef, Binding binding, IJavaElement element, int accuracy, MatchLocator locator) throws CoreException", "signatureAfterChange": " protected void matchReportImportRef(ImportReference importRef, Binding binding, IJavaElement element, int accuracy, MatchLocator locator) throws CoreException", "diff": ["-\t\tif (binding instanceof ImportBinding) {", "-\t\t\tlocator.reportAccurateReference(importRef.sourceStart, importRef.sourceEnd, importRef.tokens, element, accuracy);", "-\t\t} else if (binding instanceof ReferenceBinding) {", "+\t\tlong[] positions = importRef.sourcePositions;", "+\t\tint last = positions.length - 1;", "+\t\tif (binding instanceof ProblemReferenceBinding)", "+\t\t\tbinding = ((ProblemReferenceBinding) binding).original;", "+\t\tif (binding instanceof ReferenceBinding) {", "-\t\t\t\tlocator.reportAccurateReference(importRef.sourceStart, importRef.sourceEnd, pkgBinding.compoundName, element, accuracy);", "-\t\t\telse", "-\t\t\t\tlocator.reportAccurateReference(importRef.sourceStart, importRef.sourceEnd, importRef.tokens, element, accuracy);", "-\t\t} ", "+\t\t\t\tlast = pkgBinding.compoundName.length;", "+\t\t}", "+\t\tlocator.report(positions[0], positions[last - 1], element, accuracy);"]}], "num": 32362}