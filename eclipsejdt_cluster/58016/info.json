{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a6493d0a80370a123fb08ee032f843ca", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8bd9d1185bbe9bf8b67b9115d8206523", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/hierarchy/HierarchyResolver.java", "commitBeforeChange": "06cedbd8bd184e3f34c939385e2cbddd9e3aedca", "commitAfterChange": "0d09a2966f3cebfb8d6601000e2b64259fed7dd8", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": " private void remember(IType type, ReferenceBinding typeBinding)", "signatureAfterChange": " private void remember(IType type, ReferenceBinding typeBinding)", "diff": ["-\t\tTypeDeclaration typeDeclaration = ((SourceTypeBinding)typeBinding).scope.referenceType();", "+\t\tif (typeBinding instanceof SourceTypeBinding) {", "+\t\t\tTypeDeclaration typeDeclaration = ((SourceTypeBinding)typeBinding).scope.referenceType();", "-\t\t// simple super class name", "-\t\tchar[] superclassName = null;", "-\t\tTypeReference superclass;", "-\t\tif ((typeDeclaration.bits & ASTNode.IsAnonymousType) != 0) {", "-\t\t\tsuperclass = typeDeclaration.allocation.type;", "-\t\t} else {", "-\t\t\tsuperclass = typeDeclaration.superclass;", "-\t\t}", "-\t\tif (superclass != null) {", "-\t\t\tchar[][] typeName = superclass.getTypeName();", "-\t\t\tsuperclassName = typeName == null ? null : typeName[typeName.length-1];", "-\t\t}", "-", "-\t\t// simple super interface names", "-\t\tchar[][] superInterfaceNames = null;", "-\t\tTypeReference[] superInterfaces = typeDeclaration.superInterfaces;", "-\t\tif (superInterfaces != null) {", "-\t\t\tint length = superInterfaces.length;", "-\t\t\tsuperInterfaceNames = new char[length][];", "-\t\t\tfor (int i = 0; i < length; i++) {", "-\t\t\t\tTypeReference superInterface = superInterfaces[i];", "-\t\t\t\tchar[][] typeName = superInterface.getTypeName();", "-\t\t\t\tsuperInterfaceNames[i] = typeName[typeName.length-1];", "+\t\t\t// simple super class name", "+\t\t\tchar[] superclassName = null;", "+\t\t\tTypeReference superclass;", "+\t\t\tif ((typeDeclaration.bits & ASTNode.IsAnonymousType) != 0) {", "+\t\t\t\tsuperclass = typeDeclaration.allocation.type;", "+\t\t\t} else {", "+\t\t\t\tsuperclass = typeDeclaration.superclass;", "-\t\t}", "+\t\t\tif (superclass != null) {", "+\t\t\t\tchar[][] typeName = superclass.getTypeName();", "+\t\t\t\tsuperclassName = typeName == null ? null : typeName[typeName.length-1];", "+\t\t\t}", "-\t\tHierarchyType hierarchyType = new HierarchyType(", "-\t\t\ttype,", "-\t\t\ttypeDeclaration.name,", "-\t\t\ttypeDeclaration.binding.modifiers,", "-\t\t\tsuperclassName,", "-\t\t\tsuperInterfaceNames);", "-\t\tremember(hierarchyType, typeDeclaration.binding);", "+\t\t\t// simple super interface names", "+\t\t\tchar[][] superInterfaceNames = null;", "+\t\t\tTypeReference[] superInterfaces = typeDeclaration.superInterfaces;", "+\t\t\tif (superInterfaces != null) {", "+\t\t\t\tint length = superInterfaces.length;", "+\t\t\t\tsuperInterfaceNames = new char[length][];", "+\t\t\t\tfor (int i = 0; i < length; i++) {", "+\t\t\t\t\tTypeReference superInterface = superInterfaces[i];", "+\t\t\t\t\tchar[][] typeName = superInterface.getTypeName();", "+\t\t\t\t\tsuperInterfaceNames[i] = typeName[typeName.length-1];", "+\t\t\t\t}", "+\t\t\t}", "+", "+\t\t\tHierarchyType hierarchyType = new HierarchyType(", "+\t\t\t\t\ttype,", "+\t\t\t\t\ttypeDeclaration.name,", "+\t\t\t\t\ttypeDeclaration.binding.modifiers,", "+\t\t\t\t\tsuperclassName,", "+\t\t\t\t\tsuperInterfaceNames);", "+\t\t\tremember(hierarchyType, typeDeclaration.binding);", "+\t\t} else {", "+\t\t\tHierarchyType hierarchyType = new HierarchyType(", "+\t\t\t\t\ttype,", "+\t\t\t\t\ttypeBinding.sourceName(),", "+\t\t\t\t\ttypeBinding.modifiers,", "+\t\t\t\t\ttypeBinding.superclass().sourceName(),", "+\t\t\t\t\tnew char [][] { typeBinding.superInterfaces()[0].sourceName() });", "+\t\t\tremember(hierarchyType, typeBinding);", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d14642e6e7b2242727b334d08598e688", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/hierarchy/HierarchyResolver.java", "commitBeforeChange": "b17f0033873962e79cd540a0937b76249dec8a6c", "commitAfterChange": "360e136a8e044225071869fa38d7072ea1d3cdac", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 15, "signatureBeforeChange": " private void rememberWithMemberTypes(TypeDeclaration typeDeclaration, HierarchyType enclosingType, ICompilationUnit unit)", "signatureAfterChange": " private void remember(IType type, ReferenceBinding typeBinding)", "diff": ["-}", "-private void rememberWithMemberTypes(TypeDeclaration typeDeclaration, HierarchyType enclosingType, ICompilationUnit unit) {", "-", "-\tif (typeDeclaration.binding == null) return;", "-", "-\t// simple super class name", "-\tchar[] superclassName = null;", "-\tTypeReference superclass = typeDeclaration.superclass;", "-\tif (superclass != null) {", "-\t\tchar[][] typeName = superclass.getTypeName();", "-\t\tsuperclassName = typeName == null ? null : typeName[typeName.length-1];", "-\t}", "-\t", "-\t// simple super interface names", "-\tchar[][] superInterfaceNames = null;", "-\tTypeReference[] superInterfaces = typeDeclaration.superInterfaces;", "-\tif (superInterfaces != null) {", "-\t\tint length = superInterfaces.length;", "-\t\tsuperInterfaceNames = new char[length][];", "-\t\tfor (int i = 0; i < length; i++) {", "-\t\t\tTypeReference superInterface = superInterfaces[i];", "-\t\t\tchar[][] typeName = superInterface.getTypeName();", "-\t\t\tsuperInterfaceNames[i] = typeName[typeName.length-1];", "+private void remember(IType type, ReferenceBinding typeBinding) {", "+\tif (((CompilationUnit)type.getCompilationUnit()).isOpen()) {", "+\t\ttry {", "+\t\t\tIGenericType genericType = (IGenericType)((JavaElement)type).getElementInfo();", "+\t\t\tremember(genericType, typeBinding);", "+\t\t} catch (JavaModelException e) {", "+\t\t\t// cannot happen since element is open", "+\t\t\treturn;", "+\t} else {", "+\t\tif (typeBinding == null) return;", "+\t\t", "+\t\tTypeDeclaration typeDeclaration = ((SourceTypeBinding)typeBinding).scope.referenceType();", "+\t", "+\t\t// simple super class name", "+\t\tchar[] superclassName = null;", "+\t\tTypeReference superclass = typeDeclaration.superclass;", "+\t\tif (superclass != null) {", "+\t\t\tchar[][] typeName = superclass.getTypeName();", "+\t\t\tsuperclassName = typeName == null ? null : typeName[typeName.length-1];", "+\t\t}", "+\t\t", "+\t\t// simple super interface names", "+\t\tchar[][] superInterfaceNames = null;", "+\t\tTypeReference[] superInterfaces = typeDeclaration.superInterfaces;", "+\t\tif (superInterfaces != null) {", "+\t\t\tint length = superInterfaces.length;", "+\t\t\tsuperInterfaceNames = new char[length][];", "+\t\t\tfor (int i = 0; i < length; i++) {", "+\t\t\t\tTypeReference superInterface = superInterfaces[i];", "+\t\t\t\tchar[][] typeName = superInterface.getTypeName();", "+\t\t\t\tsuperInterfaceNames[i] = typeName[typeName.length-1];", "+\t\t\t}", "+\t\t}", "+\t", "+\t\tHierarchyType hierarchyType = new HierarchyType(", "+\t\t\ttype, ", "+\t\t\t!typeDeclaration.isInterface(),", "+\t\t\ttypeDeclaration.name,", "+\t\t\ttypeDeclaration.binding.modifiers,", "+\t\t\tsuperclassName,", "+\t\t\tsuperInterfaceNames);", "+\t\tremember(hierarchyType, typeDeclaration.binding);", "-\tHierarchyType hierarchyType = new HierarchyType(", "-\t\tenclosingType, ", "-\t\t!typeDeclaration.isInterface(),", "-\t\ttypeDeclaration.name,", "-\t\ttypeDeclaration.binding.modifiers,", "-\t\tsuperclassName,", "-\t\tsuperInterfaceNames,", "-\t\tunit);", "-\tremember(hierarchyType, typeDeclaration.binding);", "-", "-\t// propagate into member types", "-\tif (typeDeclaration.memberTypes == null) return;", "-\tMemberTypeDeclaration[] memberTypes = typeDeclaration.memberTypes;", "-\tfor (int i = 0, max = memberTypes.length; i < max; i++){", "-\t\trememberWithMemberTypes(memberTypes[i], hierarchyType, unit);", "-\t}"]}], "num": 58016}