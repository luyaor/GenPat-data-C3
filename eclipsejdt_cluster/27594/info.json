{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "51c0ddf741856463f12b61dd19697634", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0ea39b02ad2cdbb9f38c3cb8881a2460", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/util/BindingKeyResolver.java", "commitBeforeChange": "582314aebaa81c30307377892044ded507af1f74", "commitAfterChange": "c0ecc47cac9e40a73cc3ed5a5be93bbace7cb891", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": " \t \tpublic void consumeCapture(final int position)", "signatureAfterChange": " \t \tpublic void consumeCapture(final int position)", "diff": ["+\t\tfinal Binding wildcardBinding = ((BindingKeyResolver) this.types.get(0)).compilerBinding;", "-\t\t\tBinding parameterizedTypeBinding;", "-\t\t\tpublic boolean visit(SingleNameReference singleNameReference, BlockScope blockScope) {", "-\t\t\t\tif (singleNameReference.sourceEnd == position) {", "-\t\t\t\t\tthis.parameterizedTypeBinding = singleNameReference.resolvedType;", "+\t\t\tCaptureBinding capture;", "+\t\t\tboolean checkType(TypeBinding binding) {", "+\t\t\t\tif (binding == null)", "-\t\t\t\t} ", "+\t\t\t\tswitch (binding.kind()) {", "+\t\t\t\t\tcase Binding.PARAMETERIZED_TYPE:", "+\t\t\t\t\t\tTypeBinding[] arguments = ((ParameterizedTypeBinding) binding).arguments;", "+\t\t\t\t\t\tif (arguments == null) return false;", "+\t\t\t\t\t\tfor (int i = 0, length = arguments.length; i < length; i++) {", "+\t\t\t\t\t\t\tif (checkType(arguments[i]))", "+\t\t\t\t\t\t\t\treturn true;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t\tbreak;", "+\t\t\t\t\tcase Binding.WILDCARD_TYPE:", "+\t\t\t\t\t\treturn checkType(((WildcardBinding) binding).bound);", "+\t\t\t\t\tcase Binding.ARRAY_TYPE:", "+\t\t\t\t\t\treturn checkType(((ArrayBinding) binding).leafComponentType);", "+\t\t\t\t\tcase Binding.TYPE_PARAMETER:", "+\t\t\t\t\t\tif (binding.isCapture()) {", "+\t\t\t\t\t\t\tCaptureBinding captureBinding = (CaptureBinding) binding;", "+\t\t\t\t\t\t\tif (captureBinding.position == position && captureBinding.wildcard == wildcardBinding) {", "+\t\t\t\t\t\t\t\tthis.capture = captureBinding;", "+\t\t\t\t\t\t\t\treturn true;", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t}", "+\t\t\t\t\t\tbreak;", "+\t\t\t\t}", "+\t\t\t\treturn false;", "+\t\t\t}", "+\t\t\tpublic boolean visit(SingleNameReference singleNameReference, BlockScope blockScope) {", "+\t\t\t\tif (checkType(singleNameReference.resolvedType)) ", "+\t\t\t\t\treturn false;", "-\t\t\t\tif (qualifiedNameReference.sourceEnd == position) {", "-\t\t\t\t\tthis.parameterizedTypeBinding = qualifiedNameReference.resolvedType;", "+\t\t\t\tif (checkType(qualifiedNameReference.resolvedType))", "-\t\t\t\t} ", "-\t\t\t\tif (messageSend.sourceEnd == position) {", "-\t\t\t\t\tthis.parameterizedTypeBinding = messageSend.resolvedType;", "+\t\t\t\tif (checkType(messageSend.resolvedType))", "-\t\t\t\t} ", "-\t\t\t\tif (fieldReference.sourceEnd == position) {", "-\t\t\t\t\tthis.parameterizedTypeBinding = fieldReference.resolvedType;", "+\t\t\t\tif (checkType(fieldReference.resolvedType))", "-\t\t\t\t} ", "-\t\t\t\tif (conditionalExpression.sourceEnd == position) {", "-\t\t\t\t\tthis.parameterizedTypeBinding = conditionalExpression.resolvedType;", "+\t\t\t\tif (checkType(conditionalExpression.resolvedType))", "-\t\t\t\t} ", "-\t\t\t\tif (castExpression.sourceEnd == position) {", "-\t\t\t\t\tthis.parameterizedTypeBinding = castExpression.resolvedType;", "+\t\t\t\tif (checkType(castExpression.resolvedType))", "-\t\t\t\t} ", "-\t\t\t\tif (assignment.sourceEnd == position) {", "-\t\t\t\t\tthis.parameterizedTypeBinding = assignment.resolvedType;", "+\t\t\t\tif (checkType(assignment.resolvedType))", "-\t\t\t\t} ", "-\t\t\t\tif (arrayReference.sourceEnd == position) {", "-\t\t\t\t\tthis.parameterizedTypeBinding = arrayReference.resolvedType;", "+\t\t\t\tif (checkType(arrayReference.resolvedType))", "-\t\t\t\t} ", "-\t\tif (!(captureFinder.parameterizedTypeBinding instanceof ParameterizedTypeBinding))", "-\t\t\treturn;", "-\t\tTypeBinding[] arguments = ((ParameterizedTypeBinding) captureFinder.parameterizedTypeBinding).arguments;", "-\t\tif (arguments == null) return;", "-\t\tBinding wildcardBinding = ((BindingKeyResolver) this.types.get(0)).compilerBinding;", "-\t\tfor (int i = 0, length = arguments.length; i < length; i++) {", "-\t\t\tTypeBinding binding = arguments[i];", "-\t\t\tif (binding instanceof CaptureBinding) {", "-\t\t\t\tCaptureBinding captureBinding = (CaptureBinding) binding;", "-\t\t\t\tif (captureBinding.wildcard == wildcardBinding && captureBinding.sourceType == this.typeBinding) {", "-\t\t\t\t\tthis.compilerBinding = binding;", "-\t\t\t\t\treturn;", "-\t\t\t\t}", "-\t\t\t}", "-\t\t}", "+\t\tthis.compilerBinding = captureFinder.capture;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7636540658eebad6625c67828c0b87eb", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/core/JavaCore.java", "commitBeforeChange": "ac6a9f56760bba7aec9ca8548c00a789a95fdc11", "commitAfterChange": "f238d59edecc5d87c39084d60c9040567d09deaf", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "\r \tpublic static IPackageFragmentRoot createJarPackageFragmentRootFrom(IFile file)", "signatureAfterChange": "\r \tpublic static IPackageFragmentRoot createJarPackageFragmentRootFrom(IFile file)", "diff": ["-\t\tIJavaProject project = (IJavaProject) create(file.getProject());\r", "+\t\treturn JavaModelManager.createJarPackageFragmentRootFrom(file, null);\r", "+\t}\r", "-\t\t// Create a jar package fragment root only if on the classpath\r", "-\t\tIPath resourcePath = file.getFullPath();\r", "-\t\ttry {\r", "-\t\t\tIClasspathEntry[] entries = ((JavaProject)project).getExpandedClasspath(true);\r", "-\t\t\tfor (int i = 0, length = entries.length; i < length; i++) {\r", "-\t\t\t\tIClasspathEntry entry = entries[i];\r", "-\t\t\t\tIPath rootPath = entry.getPath();\r", "-\t\t\t\tif (rootPath.equals(resourcePath)) {\r", "-\t\t\t\t\treturn project.getPackageFragmentRoot(file);\r", "-\t\t\t\t}\r", "-\t\t\t}\r", "-\t\t} catch (JavaModelException e) {\r", "-\t\t}\r", "-\t\treturn null;\r", "-\t}\r"]}], "num": 27594}