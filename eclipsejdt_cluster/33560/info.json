{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2163d5873ade753b0a2be53b15443085", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "836abea9dcea51dbf12796d8cf673beb", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaModelManager.java", "commitBeforeChange": "ca1c70fe619bd146613895fa764af2d040529e30", "commitAfterChange": "0ae44cb94fd5970ee99a6625f01c4e21cfef9943", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 17, "signatureBeforeChange": "\r \tpublic void checkProjectsBeingAddedOpenedOrClosed(IResourceDelta delta)", "signatureAfterChange": "\r \tpublic void checkProjectsBeingAddedOrRemoved(IResourceDelta delta)", "diff": ["-\tpublic void checkProjectsBeingAddedOpenedOrClosed(IResourceDelta delta) {\r", "+\tpublic void checkProjectsBeingAddedOrRemoved(IResourceDelta delta) {\r", "-\t\t\t\t\tthis.checkProjectsBeingAddedOpenedOrClosed(children[i]);\r", "+\t\t\t\t\tthis.checkProjectsBeingAddedOrRemoved(children[i]);\r", "+\t\t\t\t\t}\r", "+\t\t\t\t\tif ((delta.getFlags() & IResourceDelta.DESCRIPTION) != 0) {\r", "+\t\t\t\t\t\tIProject project = (IProject)resource;\r", "+\t\t\t\t\t\tboolean wasJavaProject = this.getJavaModel().findJavaProject(project) != null;\r", "+\t\t\t\t\t\tboolean isJavaProject = this.deltaProcessor.hasJavaNature(project);\r", "+\t\t\t\t\t\tif (wasJavaProject != isJavaProject) {\r", "+\t\t\t\t\t\t\t// java nature added or removed: remember dependents\r", "+\t\t\t\t\t\t\tthis.deltaProcessor.addDependentsToProjectsToUpdate(resource.getFullPath());\r", "+\t\t\t\t\t\t}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d0d9e0565dc93170154b64314bd9f704", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/DeltaProcessor.java", "commitBeforeChange": "be247eb150a4ae64408d691fa5f52cc64cf01665", "commitAfterChange": "560772312173d5112198fae503105dd04e5536f2", "methodNumberBeforeChange": 28, "methodNumberAfterChange": 28, "signatureBeforeChange": " \tpublic IJavaElementDelta[] processResourceDelta(IResourceDelta changes, int eventType)", "signatureAfterChange": " \tpublic IJavaElementDelta[] processResourceDelta(IResourceDelta changes, int eventType)", "diff": ["-\t\t\t\tRootInfo rootInfo = (RootInfo)this.roots.get(res.getFullPath());", "-\t\t\t\tint elementType = ", "-\t\t\t\t\tthis.elementType(", "-\t\t\t\t\t\tres, ", "-\t\t\t\t\t\tdelta.getKind(),", "-\t\t\t\t\t\tdelta.getFlags(),", "-\t\t\t\t\t\tIJavaElement.JAVA_MODEL, ", "-\t\t\t\t\t\trootInfo);", "+\t\t\t\tRootInfo rootInfo = null;", "+\t\t\t\tint elementType;", "+\t\t\t\tIProject proj = (IProject)res;", "+\t\t\t\tboolean wasJavaProject = JavaModelManager.getJavaModelManager().getJavaModel().findJavaProject(proj) != null;", "+\t\t\t\tboolean isJavaProject = JavaProject.hasJavaNature(proj);", "+\t\t\t\tif (!wasJavaProject && !isJavaProject) {", "+\t\t\t\t\telementType = NON_JAVA_RESOURCE;", "+\t\t\t\t} else {", "+\t\t\t\t\trootInfo = this.rootInfo(res.getFullPath());", "+\t\t\t\t\tif (rootInfo != null && (rootInfo.project.getProject().getFullPath().isPrefixOf(res.getFullPath()))) {", "+\t\t\t\t\t\telementType = IJavaElement.PACKAGE_FRAGMENT_ROOT;", "+\t\t\t\t\t} else {", "+\t\t\t\t\t\telementType = IJavaElement.JAVA_PROJECT; ", "+\t\t\t\t\t}", "+\t\t\t\t}", "-\t\t\t\tthis.traverseDelta(delta, elementType, rootInfo, null); // traverse delta", "+\t\t\t\t// traverse delta", "+\t\t\t\tif (!this.traverseDelta(delta, elementType, rootInfo, null) ", "+\t\t\t\t\t\t|| (wasJavaProject != isJavaProject && (delta.getKind()) == IResourceDelta.CHANGED)) { // project has changed nature (description or open/closed)", "+\t\t\t\t\ttry {", "+\t\t\t\t\t\t// add child as non java resource", "+\t\t\t\t\t\tnonJavaResourcesChanged((JavaModel)model, delta);", "+\t\t\t\t\t} catch (JavaModelException e) {", "+\t\t\t\t\t}", "+\t\t\t\t}", "+"]}], "num": 33560}