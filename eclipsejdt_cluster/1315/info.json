{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "c0aeba0fe158c7543b3dfc4e8d1478c0", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2bbbad52ec7ed00575c693cbe7db23b9", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/env/JavaSourceFilePrintWriter.java", "commitBeforeChange": "f18746495477338a9b83fca4f673d973bc3b28e9", "commitAfterChange": "b7c75d5af8ed9aa46f28be9d8bc08449dc25dc4e", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " \t     public void close()", "signatureAfterChange": " \t     public void close()", "diff": ["-        try", "+    \tString contents = _sw.toString();", "+        super.close();", "+        GeneratedFileManager gfm = GeneratedFileManager.getGeneratedFileManager(_env.getProject());", "+        Phase phase = _env.getPhase();", "+\t", "+        if ( phase == Phase.RECONCILE )", "-            String contents = _sw.toString();", "-            super.close();", "-            GeneratedFileManager gfm = GeneratedFileManager.getGeneratedFileManager(_env.getProject());", "-            Phase phase = _env.getPhase();", "-\t\t", "-            if ( phase == Phase.RECONCILE )", "-            {", "-            \tICompilationUnit parentCompilationUnit = _env.getCompilationUnit();", "-                FileGenerationResult result  = gfm.generateFileDuringReconcile( ", "-                    parentCompilationUnit, _typeName, contents, parentCompilationUnit.getOwner(), null, null );", "-\t\t\t\tif ( result != null )", "-\t\t\t\t\t_env.addGeneratedFile(result.getFile(), result.isModified());", "-            }", "-            else if ( phase == Phase.BUILD)\t", "-            {", "-\t\t\t\tFileGenerationResult result = gfm.generateFileDuringBuild( _env.getFile(),  _typeName, contents, null /* progress monitor */, _charsetName );", "+        \tICompilationUnit parentCompilationUnit = _env.getCompilationUnit();", "+            FileGenerationResult result  = gfm.generateFileDuringReconcile( ", "+                parentCompilationUnit, _typeName, contents, parentCompilationUnit.getOwner(), null, null );", "+\t\t\tif ( result != null )", "+\t\t\t\t_env.addGeneratedFile(result.getFile(), result.isModified());", "+        }", "+        else if ( phase == Phase.BUILD)\t", "+        {", "+        \ttry {", "+\t\t\t\tFileGenerationResult result = gfm.generateFileDuringBuild( _env.getFile(),  _typeName, contents, null /* progress monitor */ );", "-            }", "-            else", "-            {", "-                assert false : \"Unexpected phase value: \" + phase ; //$NON-NLS-1$", "-            }", "+        \t}", "+        \tcatch (CoreException ce) {", "+        \t\tAptPlugin.log(ce, \"Failure generating file\"); //$NON-NLS-1$", "+        \t}", "-        catch ( JavaModelException jme )", "+        else", "-            // TODO:  handle this exception in a nicer way.", "-            AptPlugin.log(jme, \"Unexpected failure closing the JavaSourceFilePrintWriter\"); //$NON-NLS-1$", "-            throw new RuntimeException( jme );", "-        }", "-        catch ( CoreException ce )", "-        {", "-            // TODO:  handle this exception", "-            AptPlugin.log(ce, \"Unexpected failure closing the JavaSourceFilePrintWriter\"); //$NON-NLS-1$", "-            throw new RuntimeException( ce );", "-        }", "-        catch( UnsupportedEncodingException use )", "-        {", "-        \tAptPlugin.log(use, \"Could not encode\"); //$NON-NLS-1$", "-        \t// TODO: handle this exception", "-        \tthrow new RuntimeException( use );", "+            assert false : \"Unexpected phase value: \" + phase ; //$NON-NLS-1$"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c19a2500ad007ea0ac95805981dccfcf", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/OptionTests.java", "commitBeforeChange": "63e1f1decc43a525e62efd06af41afe94624af82", "commitAfterChange": "75e4065d4db8d1c67a280c4b46e8853fada67561", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " \tpublic static Test suite()", "signatureAfterChange": " \tpublic static Test suite()", "diff": ["-\tpublic static Test suite() {", "-\t", "-\t\tif (false){", "-\t\t\tSystem.err.println(\"Warning: only tests subset is currently running!\");", "-\t\t\tTestSuite suite = new Suite(OptionTests.class.getName());", "-\t\t\tsuite.addTest(new OptionTests(\"testBug72214\"));", "-\t\t\tsuite.addTest(new OptionTests(\"testBug72214b\"));", "-\t\t\treturn suite;", "-\t\t}", "-\t\treturn new Suite(OptionTests.class);\t", "+\tpublic static Test suite() {", "+\t\treturn buildTestSuite(OptionTests.class);\t", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cc1eb588fb74fbe260e46a2350cfdf79", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/ClasspathInitializerTests.java", "commitBeforeChange": "4e65c4119dadcaa4c5efef86f1373d469b137c02", "commitAfterChange": "028fabba816eeb0fd840dacac7e8e60f3c3758c8", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": " public static Test suite()", "signatureAfterChange": " public static Test suite()", "diff": ["-\tif (false) {", "-\t\tSystem.err.println(\"WARNING: \"+ClasspathInitializerTests.class.getName()+\" is currently running subset of test cases!!!\");", "-\t\tSuite suite = new Suite(ClasspathInitializerTests.class.getName());", "-\t\tsuite.addTest(new ClasspathInitializerTests(\"testContainerInitializer10\"));", "-\t\treturn suite;", "-\t}", "-\treturn new Suite(ClasspathInitializerTests.class);", "+\treturn buildTestSuite(ClasspathInitializerTests.class);", "+}"]}], "num": 1315}