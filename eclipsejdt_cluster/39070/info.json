{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2b90c29aedb27d5a13f2b42b5d915d3b", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d3fc28fa37f44653267d4a04ccfa4f1c", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/CompletionEngine.java", "commitBeforeChange": "0580b12603e025516ea827d181150b0daae85b9b", "commitAfterChange": "f6e646cfd67462923a3ee7e8121ae224b9177415", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": " \t\t \tprivate void buildContext( \t\t\tASTNode astNode, \t\t\tASTNode astNodeParent, \t\t\tBinding qualifiedBinding, \t\t\tScope scope)", "signatureAfterChange": " \t\t \tprivate void buildContext( \t\t\tASTNode astNode, \t\t\tASTNode astNodeParent, \t\t\tBinding qualifiedBinding, \t\t\tScope scope)", "diff": ["-\t\tcontext.setOffset(this.actualCompletionPosition + 1);", "+\t\tcontext.setOffset(this.actualCompletionPosition + 1 - this.offset);", "-\t\t\t\t\tscanner.completedIdentifierStart,", "-\t\t\t\t\tscanner.completedIdentifierEnd,", "-\t\t\t\t\tscanner.endOfEmptyToken);", "+\t\t\t\t\tscanner.completedIdentifierStart - this.offset,", "+\t\t\t\t\tscanner.completedIdentifierEnd - this.offset,", "+\t\t\t\t\tscanner.endOfEmptyToken - this.offset);", "-\t\t\t\t\tjavadocTag.tagSourceStart,", "-\t\t\t\t\tjavadocTag.tagSourceEnd,", "-\t\t\t\t\t((CompletionScanner)this.parser.javadocParser.scanner).endOfEmptyToken);", "+\t\t\t\t\tjavadocTag.tagSourceStart - this.offset,", "+\t\t\t\t\tjavadocTag.tagSourceEnd - this.offset,", "+\t\t\t\t\t((CompletionScanner)this.parser.javadocParser.scanner).endOfEmptyToken - this.offset);", "-\t\t\t\t\tscanner.completedIdentifierStart,", "-\t\t\t\t\tscanner.completedIdentifierEnd,", "-\t\t\t\t\tscanner.endOfEmptyToken);", "+\t\t\t\t\tscanner.completedIdentifierStart - this.offset,", "+\t\t\t\t\tscanner.completedIdentifierEnd - this.offset,", "+\t\t\t\t\tscanner.endOfEmptyToken - this.offset);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ffd1eb7743df57937cf57e1ab1c424cb", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/CompletionEngine.java", "commitBeforeChange": "43910be7c5e7874a970515d1dbb3b63c454bc688", "commitAfterChange": "d7d4a2e6181a270380c8726d1367c8cd49a78b6b", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": " \t\t \tprivate void buildContext(ASTNode astNode)", "signatureAfterChange": " \t\t \tprivate void buildContext( \t\t\tASTNode astNode, \t\t\tASTNode astNodeParent, \t\t\tBinding qualifiedBinding, \t\t\tScope scope)", "diff": ["-\tprivate void buildContext(ASTNode astNode) {", "+\tprivate void buildContext(", "+\t\t\tASTNode astNode,", "+\t\t\tASTNode astNodeParent,", "+\t\t\tBinding qualifiedBinding,", "+\t\t\tScope scope) {", "+\t\tcontext.setOffset(this.actualCompletionPosition + 1);", "+\t\t", "+\t\t}", "+\t\t", "+\t\tif (!(astNode instanceof CompletionOnJavadoc)) {", "+\t\t\tCompletionScanner scanner = (CompletionScanner)this.parser.scanner;", "+\t\t\tcontext.setToken(scanner.completionIdentifier);", "+\t\t\tcontext.setTokenRange(", "+\t\t\t\t\tscanner.completedIdentifierStart,", "+\t\t\t\t\tscanner.completedIdentifierEnd,", "+\t\t\t\t\tscanner.endOfEmptyToken);", "+\t\t} else if(astNode instanceof CompletionOnJavadocTag) {", "+\t\t\tCompletionOnJavadocTag javadocTag = (CompletionOnJavadocTag) astNode;", "+\t\t\tcontext.setToken(CharOperation.concat(new char[]{'@'}, javadocTag.token));", "+\t\t\tcontext.setTokenRange(", "+\t\t\t\t\tjavadocTag.tagSourceStart,", "+\t\t\t\t\tjavadocTag.tagSourceEnd,", "+\t\t\t\t\t((CompletionScanner)this.parser.javadocParser.scanner).endOfEmptyToken);", "+\t\t} else {", "+\t\t\tCompletionScanner scanner = (CompletionScanner)this.parser.javadocParser.scanner;", "+\t\t\tcontext.setToken(scanner.completionIdentifier);", "+\t\t\tcontext.setTokenRange(", "+\t\t\t\t\tscanner.completedIdentifierStart,", "+\t\t\t\t\tscanner.completedIdentifierEnd,", "+\t\t\t\t\tscanner.endOfEmptyToken);", "+\t\t}", "+\t\t", "+\t\t", "+\t\t//TODO add support for string literal", "+\t\tcontext.setTokenKind(CompletionContext.TOKEN_KIND_NAME);", "+\t\t", "+\t\tif(DEBUG) {", "+\t\t\tSystem.out.println(context.toString());"]}], "num": 39070}