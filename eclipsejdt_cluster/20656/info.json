{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "7b1a992359836d256a69bd6e31f2e910", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1b626bbbb359cdd1b1d2e4b0d54c4f2d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/builder/ClasspathJar.java", "commitBeforeChange": "88e5aa006a98c27f378a9ba9656ac196342e257f", "commitAfterChange": "80c078ddcf769ceb84a30bdd1354fc49a196e760", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 4, "signatureBeforeChange": "\r \r void buildDirectoryStructure()", "signatureAfterChange": "\r \r boolean isPackage(String qualifiedPackageName)", "diff": ["-\r", "-void buildDirectoryStructure() {\r", "-\tthis.directoryCache = new SimpleLookupTable(101);\r", "-\r", "-\ttry {\r", "-\t\tif (JavaModelManager.ZIP_ACCESS_VERBOSE) {\r", "-\t\t\tSystem.out.println(\"[ClasspathJar.buildDirectoryStructure()] Creating ZipFile on \" + zipFilename); //$NON-NLS-1$\r", "-\t\t}\r", "-\t\tthis.zipFile = new ZipFile(zipFilename);\r", "-\t} catch(IOException e) {\r", "-\t\treturn;\r", "-\t}\r", "-\tfor (Enumeration e = zipFile.entries(); e.hasMoreElements(); ) {\r", "-\t\tString fileName = ((ZipEntry) e.nextElement()).getName();\r", "-\r", "-\t\t// extract the package name\r", "-\t\tint last = fileName.lastIndexOf('/');\r", "-\t\tif (last > 0 && directoryCache.get(fileName.substring(0, last)) == null) {\r", "-\t\t\t// add the package name & all of its parent packages\r", "-\t\t\tfor (int i = 0; i <= last; i++) {\r", "-\t\t\t\ti = fileName.indexOf('/', i);\r", "-\t\t\t\tString packageName = fileName.substring(0, i);\r", "-\t\t\t\tif (directoryCache.get(packageName) == null)\r", "-\t\t\t\t\tdirectoryCache.put(packageName, packageName);\r", "-\t\t\t}\r", "-\t\t}\r", "-\t}\r", "+boolean isPackage(String qualifiedPackageName) {\r", "+\tif (packageCache != null)\r", "+\t\treturn packageCache.containsKey(qualifiedPackageName);\r", "+\r", "+\tthis.packageCache = new SimpleLookupTable(41);\r", "+\tpackageCache.put(\"\", \"\"); //$NON-NLS-1$ //$NON-NLS-2$\r", "+\ttry {\r", "+\t\tthis.zipFile = new ZipFile(zipFilename);\r", "+\t} catch(IOException e) {\r", "+\t\treturn false;\r", "+\t}\r", "+\r", "+\tnextEntry : for (Enumeration e = zipFile.entries(); e.hasMoreElements(); ) {\r", "+\t\tString fileName = ((ZipEntry) e.nextElement()).getName();\r", "+\r", "+\t\t// add the package name & all of its parent packages\r", "+\t\tint last = fileName.lastIndexOf('/');\r", "+\t\twhile (last > 0) {\r", "+\t\t\t// extract the package name\r", "+\t\t\tString packageName = fileName.substring(0, last);\r", "+\t\t\tif (packageCache.containsKey(packageName))\r", "+\t\t\t\tcontinue nextEntry;\r", "+\t\t\tpackageCache.put(packageName, packageName);\r", "+\t\t\tlast = packageName.lastIndexOf('/');\r", "+\t\t}\r", "+\t}\r", "+\treturn packageCache.containsKey(qualifiedPackageName);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "99d47826a156e503defbdd837eb911ea", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/builder/ClasspathJar.java", "commitBeforeChange": "5a357781b18f9c0da87d4bd531386ace1a689b45", "commitAfterChange": "957c062a7eeca0cbbc90c20c236ee57cfbdec759", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "\r \r boolean isPackage(String qualifiedPackageName)", "signatureAfterChange": "\r \r boolean isPackage(String qualifiedPackageName)", "diff": ["-\t} catch(IOException e) {\r", "-\t\treturn false;\r", "-\t}\r", "-\tnextEntry : for (Enumeration e = zipFile.entries(); e.hasMoreElements(); ) {\r", "-\t\tString fileName = ((ZipEntry) e.nextElement()).getName();\r", "-\r", "-\t\t// add the package name & all of its parent packages\r", "-\t\tint last = fileName.lastIndexOf('/');\r", "-\t\twhile (last > 0) {\r", "-\t\t\t// extract the package name\r", "-\t\t\tString packageName = fileName.substring(0, last);\r", "-\t\t\tif (packageCache.containsKey(packageName))\r", "-\t\t\t\tcontinue nextEntry;\r", "-\t\t\tpackageCache.put(packageName, packageName);\r", "-\t\t\tlast = packageName.lastIndexOf('/');\r", "+\t\tnextEntry : for (Enumeration e = zipFile.entries(); e.hasMoreElements(); ) {\r", "+\t\t\tString fileName = ((ZipEntry) e.nextElement()).getName();\r", "+\t\r", "+\t\t\t// add the package name & all of its parent packages\r", "+\t\t\tint last = fileName.lastIndexOf('/');\r", "+\t\t\twhile (last > 0) {\r", "+\t\t\t\t// extract the package name\r", "+\t\t\t\tString packageName = fileName.substring(0, last);\r", "+\t\t\t\tif (packageCache.containsKey(packageName))\r", "+\t\t\t\t\tcontinue nextEntry;\r", "+\t\t\t\tpackageCache.put(packageName, packageName);\r", "+\t\t\t\tlast = packageName.lastIndexOf('/');\r", "+\t\t\t}\r", "-\t}\r", "-\treturn packageCache.containsKey(qualifiedPackageName);\r", "+\t\treturn packageCache.containsKey(qualifiedPackageName);\r", "+\t} catch(Exception e) {}\r", "+\treturn false;\r"]}], "num": 20656}