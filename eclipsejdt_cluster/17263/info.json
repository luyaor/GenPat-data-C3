{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d82a71d50b3ad3e9423bcfa9da3b4877", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "02d084fe0289c4257cda160076121e28", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/SetClasspathOperation.java", "commitBeforeChange": "b04602938404af4f8569a399fb36a5018768a262", "commitAfterChange": "6a230a9d6ae1a4a6adbf38879cb9ee685eccffe9", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "\r \tpublic IJavaModelStatus verify()", "signatureAfterChange": "\r public IJavaModelStatus verify()", "diff": ["+ */\r", "+public IJavaModelStatus verify() {\r", "+\tIJavaModelStatus status = super.verify();\r", "+\tif (!status.isOK()) {\r", "+\t\treturn status;\r", "+\t}\r", "+\tIJavaProject javaProject = (IJavaProject)getElementToProcess();\r", "-\t */\r", "-\tpublic IJavaModelStatus verify() {\r", "-\t\tIJavaModelStatus status = super.verify();\r", "-\t\tif (!status.isOK()) {\r", "-\t\t\treturn status;\r", "-\t\t}\r", "-\t\tIClasspathEntry[] cp = this.newRawPath;\r", "-\t\tIJavaProject javaProject = (IJavaProject) getElementToProcess();\r", "-\t\tIPath projectPath = javaProject.getProject().getFullPath();\r", "-\r", "-\t\tIPath outputLocation;\r", "-\t\ttry {\r", "-\t\t\toutputLocation = javaProject.getOutputLocation();\r", "-\t\t} catch (JavaModelException e) {\r", "-\t\t\treturn e.getJavaModelStatus();\r", "-\t\t}\r", "-\t\tfor (int i = 0; i < cp.length; i++) {\r", "-\t\t\tif (cp[i].getEntryKind() == IClasspathEntry.CPE_SOURCE) {\r", "-\t\t\t\tIPath entry = cp[i].getPath();\r", "-\t\t\t\tif (!entry.equals(projectPath)\r", "-\t\t\t\t\t&& !entry.equals(outputLocation)\r", "-\t\t\t\t\t&& (outputLocation.isPrefixOf(entry) || entry.isPrefixOf(outputLocation))) {\r", "-\t\t\t\t\treturn new JavaModelStatus(IJavaModelStatusConstants.INVALID_PATH, entry);\r", "-\t\t\t\t}\r", "-\t\t\t}\r", "-\t\t}\r", "-\t\treturn JavaModelStatus.VERIFIED_OK;\r", "+\t// retrieve output location\r", "+\tIPath outputLocation;\r", "+\ttry {\r", "+\t\toutputLocation = javaProject.getOutputLocation();\r", "+\t} catch(JavaModelException e){\r", "+\t\treturn e.getJavaModelStatus();\r", "+\treturn JavaConventions.validateClasspath(javaProject, this.newRawPath, outputLocation);\r", "+}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0c8e7f024e3a76aa08b5cbbf01b39d92", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/SetClasspathOperation.java", "commitBeforeChange": "0aee0da8dedb4337034c2218c8361a59d0d8fa97", "commitAfterChange": "9687350fee055f775aa6db78ace631e357b68877", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 17, "signatureBeforeChange": "\r \r \tpublic IJavaModelStatus verify()", "signatureAfterChange": "\r \r \tpublic IJavaModelStatus verify()", "diff": ["-\t\tIJavaProject project = (IJavaProject) getElementToProcess();\r", "-\t\t// retrieve classpath \r", "-\t\tIClasspathEntry[] entries = this.newRawPath;\r", "-\t\tif (entries == ReuseClasspath){\r", "-\t\t\ttry {\r", "-\t\t\t\tentries = project.getRawClasspath();\t\t\t\r", "-\t\t\t} catch (JavaModelException e) {\r", "-\t\t\t\treturn e.getJavaModelStatus();\r", "+\t\tif (needValidation) {\r", "+\t\t\tIJavaProject project = (IJavaProject) getElementToProcess();\r", "+\t\t\t// retrieve classpath \r", "+\t\t\tIClasspathEntry[] entries = this.newRawPath;\r", "+\t\t\tif (entries == ReuseClasspath){\r", "+\t\t\t\ttry {\r", "+\t\t\t\t\tentries = project.getRawClasspath();\t\t\t\r", "+\t\t\t\t} catch (JavaModelException e) {\r", "+\t\t\t\t\treturn e.getJavaModelStatus();\r", "+\t\t\t\t}\r", "+\t\t\t}\t\t\r", "+\t\t\t// retrieve output location\r", "+\t\t\tIPath outputLocation = this.newOutputLocation;\r", "+\t\t\tif (outputLocation == ReuseOutputLocation){\r", "+\t\t\t\ttry {\r", "+\t\t\t\t\toutputLocation = project.getOutputLocation();\r", "+\t\t\t\t} catch (JavaModelException e) {\r", "+\t\t\t\t\treturn e.getJavaModelStatus();\r", "+\t\t\t\t}\r", "-\t\t}\t\t\r", "-\t\t// retrieve output location\r", "-\t\tIPath outputLocation = this.newOutputLocation;\r", "-\t\tif (outputLocation == ReuseOutputLocation){\r", "-\t\t\ttry {\r", "-\t\t\t\toutputLocation = project.getOutputLocation();\r", "-\t\t\t} catch (JavaModelException e) {\r", "-\t\t\t\treturn e.getJavaModelStatus();\r", "-\t\t\t}\r", "+\t\t\t\t\t\r", "+\t\t\t// perform validation\r", "+\t\t\treturn JavaConventions.validateClasspath(\r", "+\t\t\t\tproject,\r", "+\t\t\t\tentries,\r", "+\t\t\t\toutputLocation);\r", "-\t\t// perform validation\r", "-\t\treturn JavaConventions.validateClasspath(\r", "-\t\t\tproject,\r", "-\t\t\tentries,\r", "-\t\t\toutputLocation);\r", "+\t\treturn JavaModelStatus.VERIFIED_OK;\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "43db5f998e39ee69d192e08151fc12ab", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/SetClasspathOperation.java", "commitBeforeChange": "415e478fd80c86e1c699eefa6d86979134ae5921", "commitAfterChange": "63b8bf54c7c6ab31eaeaf33c9d376ceaa28b674d", "methodNumberBeforeChange": 30, "methodNumberAfterChange": 3, "signatureBeforeChange": "  \tpublic IJavaModelStatus verify()", "signatureAfterChange": "  \tpublic IJavaModelStatus verify()", "diff": ["-", "-", "-\t\tif (!status.isOK()) {", "+\t\tif (!status.isOK())", "-\t\t}", "-", "-\t\tif (needValidation) {", "-\t\t\t// retrieve classpath ", "-\t\t\tIClasspathEntry[] entries = this.newRawPath;", "-\t\t\tif (entries == DO_NOT_SET_ENTRIES){", "-\t\t\t\ttry {", "-\t\t\t\t\tentries = project.getRawClasspath();\t\t\t", "-\t\t\t\t} catch (JavaModelException e) {", "-\t\t\t\t\treturn e.getJavaModelStatus();", "-\t\t\t\t}", "-\t\t\t}\t\t", "-\t\t\t// retrieve output location", "-\t\t\tIPath outputLocation = this.newOutputLocation;", "-\t\t\tif (outputLocation == DO_NOT_SET_OUTPUT){", "-\t\t\t\ttry {", "-\t\t\t\t\toutputLocation = project.getOutputLocation();", "-\t\t\t\t} catch (JavaModelException e) {", "-\t\t\t\t\treturn e.getJavaModelStatus();", "-\t\t\t\t}", "-\t\t\t}", "-\t\t\t\t\t", "-\t\t\t// perform validation", "-\t\t\treturn ClasspathEntry.validateClasspath(", "-\t\t\t\tproject,", "-\t\t\t\tentries,", "-\t\t\t\toutputLocation);", "-\t\t}", "-\t\t", "-\t\treturn JavaModelStatus.VERIFIED_OK;", "+\t\treturn ClasspathEntry.validateClasspath(\tthis.project, this.newRawClasspath, this.newOutputLocation);"]}], "num": 17263}