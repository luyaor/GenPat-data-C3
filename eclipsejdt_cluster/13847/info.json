{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f53504f72e2254f6dbef17a052827d88", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "60aa571ab42dc1caa53405b7c759a13a", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/FieldReferencePattern.java", "commitBeforeChange": "979da62d1a5cd491b76997795c13f5211a0cfedf", "commitAfterChange": "c7faa32a6528344b00a9e604c5a7741d66ef04b2", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": " private int matchLevel(NameReference nameRef, boolean resolve)", "signatureAfterChange": " private int matchLevel(NameReference nameRef, boolean resolve)", "diff": ["-\t\t\t\tif (binding instanceof FieldBinding && this.matchesName(this.name, (fieldBinding = (FieldBinding)binding).name)) {", "-\t\t\t\t\treturn this.matchLevel(fieldBinding);", "-\t\t\t\t} else {", "-\t\t\t\t\tint otherLevel = IMPOSSIBLE_MATCH;", "-\t\t\t\t\tint otherMax = qNameRef.otherBindings == null ? 0 : qNameRef.otherBindings.length;", "-\t\t\t\t\tfor (int i = 0; i < otherMax && (otherLevel == IMPOSSIBLE_MATCH); i++){", "-\t\t\t\t\t\tchar[] token = qNameRef.tokens[i + qNameRef.indexOfFirstFieldBinding];", "-\t\t\t\t\t\tif (this.matchesName(this.name, token)) {", "-\t\t\t\t\t\t\tFieldBinding otherBinding = qNameRef.otherBindings[i];", "-\t\t\t\t\t\t\totherLevel = this.matchLevel(otherBinding);", "-\t\t\t\t\t\t}", "+\t\t\t\tif (binding instanceof FieldBinding) {", "+\t\t\t\t\tfieldBinding = (FieldBinding)binding;", "+\t\t\t\t\tchar[] name = fieldBinding.name;", "+\t\t\t\t\tint lastDot = CharOperation.lastIndexOf('.', name);", "+\t\t\t\t\tif (lastDot > -1) {", "+\t\t\t\t\t\tname = CharOperation.subarray(name, lastDot+1, name.length);", "-\t\t\t\t\treturn otherLevel;", "+\t\t\t\t\tif (this.matchesName(this.name, name)) {", "+\t\t\t\t\t\treturn this.matchLevel(fieldBinding);", "+\t\t\t\t\t} ", "+\t\t\t\t} ", "+\t\t\t\tint otherLevel = IMPOSSIBLE_MATCH;", "+\t\t\t\tint otherMax = qNameRef.otherBindings == null ? 0 : qNameRef.otherBindings.length;", "+\t\t\t\tfor (int i = 0; i < otherMax && (otherLevel == IMPOSSIBLE_MATCH); i++){", "+\t\t\t\t\tchar[] token = qNameRef.tokens[i + qNameRef.indexOfFirstFieldBinding];", "+\t\t\t\t\tif (this.matchesName(this.name, token)) {", "+\t\t\t\t\t\tFieldBinding otherBinding = qNameRef.otherBindings[i];", "+\t\t\t\t\t\totherLevel = this.matchLevel(otherBinding);", "+\t\t\t\t\t}", "+\t\t\t\treturn otherLevel;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e4f2861d2009fd7585367522ba6393b7", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/AnnotationProcessorFactoryLoader.java", "commitBeforeChange": "98f970f58fc61208a8cdd52e3b9981ef32c5937b", "commitAfterChange": "29a8044fc706583901ff89364d428dff04f6a567", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "     public synchronized void resetBatchProcessors(IJavaProject javaProj)", "signatureAfterChange": "     public synchronized void resetBatchProcessors(IJavaProject javaProj)", "diff": ["-    \t// Only need to do a reset if we have batch processors", "-    \tMap<AnnotationProcessorFactory, Attributes> factories = _project2Factories.get(javaProj);", "-    \tif (factories == null) {", "-    \t\t// Already empty", "-    \t\treturn;", "+    \tIterable<Attributes> attrs = null;", "+    \tMap<AnnotationProcessorFactory, Attributes> factories = _project2Java5Factories.get(javaProj);", "+    \tif (factories != null) {", "+    \t\tattrs = factories.values();", "+    \t}", "+    \telse {", "+    \t\tMap<IServiceFactory, Attributes> java6factories = _project2Java6Factories.get(javaProj);", "+    \t\tif (java6factories != null) {", "+    \t\t\tattrs = java6factories.values();", "+    \t\t}", "+    \t\telse {", "+    \t\t\t// This project's factories have already been cleared.", "+    \t\t\treturn;", "+    \t\t}", "-    \tfor (Attributes attr : factories.values()) {", "+    \tfor (Attributes attr : attrs) {", "-    \t\t_project2Factories.remove(javaProj);", "+    \t\t_project2Java5Factories.remove(javaProj);", "+    \t\t_project2Java6Factories.remove(javaProj);"]}], "num": 13847}