{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8e9b2c099ad03bb0e6ff1d97ba4a76e5", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "250f3ccd3553aca48c695d83b4d6b464", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/FieldBinding.java", "commitBeforeChange": "14609503efe4c7d28a69750ca6853c468e091676", "commitAfterChange": "60778824f4bf80e0d58926de2175a29d947efbe8", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "  public void fillInDefaultNonNullness(FieldDeclaration sourceField, Scope scope)", "signatureAfterChange": "  public void fillInDefaultNonNullness(FieldDeclaration sourceField, Scope scope)", "diff": ["+\tif (this.type == null || this.type.isBaseType())", "+\t\treturn;", "-\tif (this.type == null)", "-\t\treturn;", "-\tif (environment.usesNullTypeAnnotations() && !this.type.acceptsNonNullDefault())", "-\t\treturn;", "-\tif (   !this.type.isBaseType()", "-\t\t&& (this.tagBits & TagBits.AnnotationNullMASK) == 0 \t\t// declaration annotation?", "-\t\t&& (this.type.tagBits & TagBits.AnnotationNullMASK) == 0)\t// type annotation? (java.lang.@Nullable String)", "-\t{", "-\t\tif (environment.usesNullTypeAnnotations())", "+\tif (environment.usesNullTypeAnnotations()) {", "+\t\tif (!this.type.acceptsNonNullDefault())", "+\t\t\treturn;", "+\t\tif ( (this.type.tagBits & TagBits.AnnotationNullMASK) == 0) {", "-\t\telse", "+\t\t} else if ((this.type.tagBits & TagBits.AnnotationNonNull) != 0) {", "+\t\t\tscope.problemReporter().nullAnnotationIsRedundant(sourceField);", "+\t\t}", "+\t} else {", "+\t\tif ( (this.tagBits & TagBits.AnnotationNullMASK) == 0 ) {", "-\t} else if ((this.tagBits & TagBits.AnnotationNonNull) != 0) {", "-\t\tscope.problemReporter().nullAnnotationIsRedundant(sourceField);", "+\t\t} else if ((this.tagBits & TagBits.AnnotationNonNull) != 0) {", "+\t\t\tscope.problemReporter().nullAnnotationIsRedundant(sourceField);", "+\t\t}\t\t"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6ea9a1b7f3e0421b6adccae8c1428419", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/FieldBinding.java", "commitBeforeChange": "478c088afa2c10c70f8aaf55254c0edf92d45827", "commitAfterChange": "874e2c41609c64af417834df9af2e898d8dcf37a", "methodNumberBeforeChange": 30, "methodNumberAfterChange": 8, "signatureBeforeChange": " public void fillInDefaultNonNullness(TypeBinding annotationBinding, FieldDeclaration sourceField, Scope scope)", "signatureAfterChange": "  public void fillInDefaultNonNullness(TypeBinding annotationBinding, FieldDeclaration sourceField, Scope scope)", "diff": ["+public void fillInDefaultNonNullness(TypeBinding annotationBinding, FieldDeclaration sourceField, Scope scope) {", "+\tif (   this.type != null", "+\t\t&& !this.type.isBaseType()", "+\t\t&& (this.tagBits & (TagBits.AnnotationNonNull|TagBits.AnnotationNullable)) == 0)", "+\t{", "+\t\tthis.tagBits |= TagBits.AnnotationNonNull;", "+\t} else if ((this.tagBits & TagBits.AnnotationNonNull) != 0) {", "+\t\tscope.problemReporter().nullAnnotationIsRedundant(sourceField);", "+\t}", "+}", "-}", "-public void fillInDefaultNonNullness(TypeBinding annotationBinding, FieldDeclaration sourceField, Scope scope) {", "-//\tif (added)", "-//\t\tthis.tagBits |= TagBits.HasParameterAnnotations;", "-\tif (   this.type != null", "-\t\t&& !this.type.isBaseType()", "-\t\t&& (this.tagBits & (TagBits.AnnotationNonNull|TagBits.AnnotationNullable)) == 0)", "-\t{", "-\t\tthis.tagBits |= TagBits.AnnotationNonNull;", "-// FIXME", "-//\t\tif (sourceField != null)", "-//\t\t\tsourceField.addNullnessAnnotation((ReferenceBinding)annotationBinding);", "-\t} else if ((this.tagBits & TagBits.AnnotationNonNull) != 0) {", "-// FIXME", "-//\t\tscope.problemReporter().nullAnnotationIsRedundant(sourceField);", "-\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a99eae8dec0519a8da3e8ca01603e706", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/MethodBinding.java", "commitBeforeChange": "04462acb576297f6fd2704a63e0758e525633e09", "commitAfterChange": "cd22e7cc518ff2d997c93cef84c2cb3849fd35bd", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 17, "signatureBeforeChange": "  protected void fillInDefaultNonNullness18(AbstractMethodDeclaration sourceMethod, LookupEnvironment env)", "signatureAfterChange": "  protected void fillInDefaultNonNullness18(AbstractMethodDeclaration sourceMethod, LookupEnvironment env)", "diff": ["-\tif (   this.returnType != null", "-\t\t&& !this.returnType.isBaseType()", "-\t\t&& (this.returnType.tagBits & TagBits.AnnotationNullMASK) == 0)", "-\t{", "-\t\tthis.returnType = env.createAnnotatedType(this.returnType, new AnnotationBinding[]{env.getNonNullAnnotation()});", "-\t} else if (sourceMethod != null && (this.returnType.tagBits & TagBits.AnnotationNonNull) != 0) {", "-\t\tsourceMethod.scope.problemReporter().nullAnnotationIsRedundant(sourceMethod, -1/*signifies method return*/);", "+\tif (this.returnType != null) {", "+\t\tif (!this.returnType.isBaseType() && (this.returnType.tagBits & TagBits.AnnotationNullMASK) == 0) {", "+\t\t\tthis.returnType = env.createAnnotatedType(this.returnType, new AnnotationBinding[]{env.getNonNullAnnotation()});", "+\t\t} else if (sourceMethod != null && (this.returnType.tagBits & TagBits.AnnotationNonNull) != 0) {", "+\t\t\tsourceMethod.scope.problemReporter().nullAnnotationIsRedundant(sourceMethod, -1/*signifies method return*/);", "+\t\t}"]}], "num": 48454}