{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "7b588d69c5ebdd68d410b7b3d110176d", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0d61f70667dd7d2c53ea9bb4c304cd3d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/newbuilder/IncrementalImageBuilder.java", "commitBeforeChange": "4e88e1625bb1c2659a2ee4ba931e466f5126f9f4", "commitAfterChange": "075da32620f3ceb13a370a8be8550de2baf091f1", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "\r \r protected void addAffectedSourceFiles()", "signatureAfterChange": "\r \r protected void addAffectedSourceFiles()", "diff": ["-\t\tString location = (String) keyTable[i];\r", "-\t\tif (location != null) {\r", "-\t\t\tif (compiledAllAtOnce && previousLocations != null && previousLocations.contains(location))\r", "+\t\tString sourceLocation = (String) keyTable[i];\r", "+\t\tif (sourceLocation != null && !locations.contains(sourceLocation)) {\r", "+\t\t\tif (compiledAllAtOnce && previousLocations != null && previousLocations.contains(sourceLocation))\r", "-\t\t\tif (locations.contains(location))\r", "-\t\t\t\tcontinue next; // already know to compile this file so skip it\r", "-\t\t\t\tIResource affectedFile = javaBuilder.workspaceRoot.getFileForLocation(new Path(location));\r", "+\t\t\t\tIResource affectedFile = resourceForLocation(sourceLocation);\r", "-\t\t\t\t\t\tSystem.out.println(\"  adding affected source file \" + location); //$NON-NLS-1$\r", "-\t\t\t\t\tlocations.add(location);\r", "-\t\t\t\t\tfor (int j = 0, k = sourceFolders.length; j < k; j++) {\r", "-\t\t\t\t\t\tString sourceLocation = sourceFolders[j].getLocation().toString() + '/';\r", "-\t\t\t\t\t\tif (location.startsWith(sourceLocation)) {\r", "-\t\t\t\t\t\t\ttypeNames.add(location.substring(sourceLocation.length(), location.length() - 5)); // length of \".java\"\r", "-\t\t\t\t\t\t\tcontinue next;\r", "-\t\t\t\t\t\t}\r", "-\t\t\t\t\t}\r", "-\t\t\t\t\ttypeNames.add(location); // should not reach here\r", "+\t\t\t\t\t\tSystem.out.println(\"  adding affected source file \" + sourceLocation); //$NON-NLS-1$\r", "+\t\t\t\t\tlocations.add(sourceLocation);\r", "+\t\t\t\t\ttypeNames.add(extractTypeNameFrom(sourceLocation));\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "62015cb69bfb6cf7ed25c22fab6144a2", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaModelManager.java", "commitBeforeChange": "20f9880068ffc8b9ca5e4df40a1417c5832ce46b", "commitAfterChange": "0fb012af3c6557520ab00415c58833602b027192", "methodNumberBeforeChange": 32, "methodNumberAfterChange": 32, "signatureBeforeChange": " \tpublic IJavaElement getHandleFromMemento(String memento) throws JavaModelException", "signatureAfterChange": " \tpublic IJavaElement getHandleFromMemento(String memento) throws JavaModelException", "diff": ["-\t\t\treturn proj.getPackageFragmentRoot(new Path(Path.SEPARATOR + memento.substring(modelEnd + 1)));", "+\t\t\treturn model.getHandleFromMementoForRoot(memento, proj, projectEnd, memento.length());", "-\t\tString rootName= null;", "-\t\tif (rootEnd == projectEnd - 1) {", "-\t\t\t//default root", "-\t\t\trootName= IPackageFragmentRoot.DEFAULT_PACKAGEROOT_PATH;", "-\t\t} else {", "-\t\t\trootName= memento.substring(projectEnd + 1, rootEnd);", "-\t\t}", "-\t\tIPath rootPath= new Path(rootName);", "-\t\tIPackageFragmentRoot root= null;", "-\t\tif (rootPath.isAbsolute()) {", "-\t\t\troot= proj.getPackageFragmentRoot(rootPath);", "-\t\t} else {", "-\t\t\troot= proj.getPackageFragmentRoot(proj.getProject().getFullPath().append(rootName));", "-\t\t}", "+\t\tIPackageFragmentRoot root = model.getHandleFromMementoForRoot(memento, proj, projectEnd, rootEnd);"]}], "num": 31237}