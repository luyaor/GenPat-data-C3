{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "bfdd677850636c42ad617db199a48efa", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0adc2dc6105476f7fc97268d61bcbae6", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaSearchTests.java", "commitBeforeChange": "d5681cddd2bc040c1eb37719a4428ed2ff838f36", "commitAfterChange": "3334e44255d4ee3f5cec1b83d0e0822fcc4d85ec", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " \tpublic void accept(IResource resource, int start, int end, IJavaElement element, int accuracy)", "signatureAfterChange": " \tpublic void accept(IResource resource, int start, int end, IJavaElement element, int accuracy)", "diff": ["-\t\t\t\tchar[] contents;", "-\t\t\t\tif (!resource.equals(element.getUnderlyingResource())) {", "-\t\t\t\t\t// working copy", "-\t\t\t\t\tcontents = unit.getBuffer().getCharacters();", "-\t\t\t\t} else {", "-\t\t\t\t\tcontents = new org.eclipse.jdt.internal.compiler.batch.CompilationUnit(", "-\t\t\t\t\t\tnull, ", "-\t\t\t\t\t\t((IFile) resource).getLocation().toFile().getPath(),", "-\t\t\t\t\t\tnull).getContents();", "+\t\t\t\tchar[] contents = null;", "+\t\t\t\tif (\"java\".equals(resource.getFileExtension())) {", "+\t\t\t\t\tif (!resource.equals(element.getUnderlyingResource())) {", "+\t\t\t\t\t\t// working copy", "+\t\t\t\t\t\tcontents = unit.getBuffer().getCharacters();", "+\t\t\t\t\t} else {", "+\t\t\t\t\t\tcontents = new org.eclipse.jdt.internal.compiler.batch.CompilationUnit(", "+\t\t\t\t\t\t\tnull, ", "+\t\t\t\t\t\t\t((IFile) resource).getLocation().toFile().getPath(),", "+\t\t\t\t\t\t\tnull).getContents();", "+\t\t\t\t\t}", "-\t\t\t\tresults.append(\" [\");", "-\t\t\t\tif (start > -1) {", "-\t\t\t\t\tresults.append(CharOperation.subarray(contents, start, end));", "-\t\t\t\t} else {", "-\t\t\t\t\tresults.append(\"No source\");", "+\t\t\t\tif (start == -1 || contents != null) { // retrieving attached source not implemented here", "+\t\t\t\t\tresults.append(\" [\");", "+\t\t\t\t\tif (start > -1) {", "+\t\t\t\t\t\tresults.append(CharOperation.subarray(contents, start, end));", "+\t\t\t\t\t} else {", "+\t\t\t\t\t\tresults.append(\"No source\");", "+\t\t\t\t\t}", "+\t\t\t\t\tresults.append(\"]\");", "-\t\t\t\tresults.append(\"]\");"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "83dac3c5c334796493744e58d98d87c3", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/PackageFragmentRoot.java", "commitBeforeChange": "14ba43da4ca84e6aa2e4b0e2b6c660335b90691e", "commitAfterChange": "b7f39314c9eefd05e7002c31c87dcdb0333c0655", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "  private IClasspathEntry findSourceAttachmentRecommendation()", "signatureAfterChange": "  private IClasspathEntry findSourceAttachmentRecommendation()", "diff": ["-\t\t\tif (entry != null){", "+\t\t\tif (entry != null) {", "-\t\t\t\tif (target instanceof IResource) {", "-\t\t\t\t\tif (target instanceof IFile) {", "-\t\t\t\t\t\tIFile file = (IFile) target;", "-\t\t\t\t\t\tif (org.eclipse.jdt.internal.compiler.util.Util.isArchiveFileName(file.getName())){", "-\t\t\t\t\t\t\treturn entry;", "-\t\t\t\t\t\t}", "-\t\t\t\t\t} else if (target instanceof IContainer) {", "-\t\t\t\t\t\treturn entry;", "-\t\t\t\t\t}", "-\t\t\t\t} else if (target instanceof java.io.File){", "-\t\t\t\t\tjava.io.File file = JavaModel.getFile(target);", "-\t\t\t\t\tif (file != null) {", "-\t\t\t\t\t\tif (org.eclipse.jdt.internal.compiler.util.Util.isArchiveFileName(file.getName())){", "-\t\t\t\t\t\t\treturn entry;", "-\t\t\t\t\t\t}", "-\t\t\t\t\t} else {", "-\t\t\t\t\t\t// external directory", "-\t\t\t\t\t\treturn entry;", "-\t\t\t\t\t}", "+\t\t\t\tif (target != null) {", "+\t\t\t\t\treturn entry;", "-\t\t\t\t\tif (target instanceof IResource) {", "-\t\t\t\t\t\tif (target instanceof IFile){", "-\t\t\t\t\t\t\tIFile file = (IFile) target;", "-\t\t\t\t\t\t\tif (org.eclipse.jdt.internal.compiler.util.Util.isArchiveFileName(file.getName())){", "-\t\t\t\t\t\t\t\treturn entry;", "-\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t} else if (target instanceof IContainer) {", "-\t\t\t\t\t\t\treturn entry;", "-\t\t\t\t\t\t}", "-\t\t\t\t\t} else if (target instanceof java.io.File){", "-\t\t\t\t\t\tjava.io.File file = (java.io.File) target;", "-\t\t\t\t\t\tif (org.eclipse.jdt.internal.compiler.util.Util.isArchiveFileName(file.getName())){", "-\t\t\t\t\t\t\treturn entry;", "-\t\t\t\t\t\t}", "+\t\t\t\t\tif (target != null) {", "+\t\t\t\t\t\treturn entry;"]}], "num": 33146}