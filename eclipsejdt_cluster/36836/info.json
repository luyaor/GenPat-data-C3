{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "bd000fecd9da803b4fa98166ace3a7dc", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "276c5cd43c7efe35e26692588e1f113d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaElementDelta.java", "commitBeforeChange": "6a5c512cff72c8d122f75160d7a3ca9f79b312ee", "commitAfterChange": "2b626d6b99c12d614e4c1d8f27d369b3ddf2a137", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " protected void addAffectedChild(JavaElementDelta child)", "signatureAfterChange": " protected void addAffectedChild(JavaElementDelta child)", "diff": ["-\tIJavaElementDelta existingChild = null;", "+\tJavaElementDelta existingChild = null;", "-\t\t\t\texistingChild = fAffectedChildren[i];", "+\t\t\t\texistingChild = (JavaElementDelta)fAffectedChildren[i];", "-\t\t\t\t\t\t\t((JavaElementDelta) existingChild).addAffectedChild(childsChild);", "+\t\t\t\t\t\t\texistingChild.addAffectedChild(childsChild);", "-\t\t\t\t\t\t// update flags if needed", "-\t\t\t\t\t\tswitch (((JavaElementDelta) existingChild).fChangeFlags) {", "-\t\t\t\t\t\t\tcase F_ADDED_TO_CLASSPATH:", "-\t\t\t\t\t\t\tcase F_REMOVED_FROM_CLASSPATH:", "-\t\t\t\t\t\t\tcase F_SOURCEATTACHED:", "-\t\t\t\t\t\t\tcase F_SOURCEDETACHED:", "-\t\t\t\t\t\t\t\t((JavaElementDelta) existingChild).fChangeFlags |= child.fChangeFlags;", "-\t\t\t\t\t\t\t\tbreak;", "+\t\t\t\t\t\t// update flags", "+\t\t\t\t\t\tboolean childHadContentFlag = (child.fChangeFlags & F_CONTENT) != 0;", "+\t\t\t\t\t\tboolean existingChildHadChildrenFlag = (existingChild.fChangeFlags & F_CHILDREN) != 0;", "+\t\t\t\t\t\texistingChild.fChangeFlags |= child.fChangeFlags;", "+\t\t\t\t\t\t", "+\t\t\t\t\t\t// remove F_CONTENT flag if existing child had F_CHILDREN flag set ", "+\t\t\t\t\t\t// (case of fine grained delta (existing child) and delta coming from ", "+\t\t\t\t\t\t// DeltaProcessor (child))", "+\t\t\t\t\t\tif (childHadContentFlag && existingChildHadChildrenFlag) {", "+\t\t\t\t\t\t\texistingChild.fChangeFlags &= ~F_CONTENT;", "-\t\t\t\t\t\t\t((JavaElementDelta)existingChild).resourceDeltas = resDeltas;", "-\t\t\t\t\t\t\t((JavaElementDelta)existingChild).resourceDeltasCounter = child.resourceDeltasCounter;", "+\t\t\t\t\t\t\texistingChild.resourceDeltas = resDeltas;", "+\t\t\t\t\t\t\texistingChild.resourceDeltasCounter = child.resourceDeltasCounter;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "73fb1828b967f82815d20b75b727572f", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaElementDelta.java", "commitBeforeChange": "f5dedbad023ed535da8140c4ada528c2bf574f20", "commitAfterChange": "b7dcee8ec99a66c7cd3b7ec7ac6ac22c9994d5db", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " protected void addAffectedChild(JavaElementDelta child)", "signatureAfterChange": " protected void addAffectedChild(JavaElementDelta child)", "diff": ["-\tswitch (fKind) {", "+\tswitch (this.kind) {", "-\t\t\tfChangeFlags |= F_CHILDREN;", "+\t\t\tthis.changeFlags |= F_CHILDREN;", "-\t\t\tfKind = CHANGED;", "-\t\t\tfChangeFlags |= F_CHILDREN;", "+\t\t\tthis.kind = CHANGED;", "+\t\t\tthis.changeFlags |= F_CHILDREN;", "-\tif (fChangedElement.getElementType() >= IJavaElement.COMPILATION_UNIT) {", "+\tif (this.changedElement.getElementType() >= IJavaElement.COMPILATION_UNIT) {", "-\t\t\t\t\t\tchild.fKind = CHANGED;", "+\t\t\t\t\t\tchild.kind = CHANGED;", "-\t\t\t\t\t\tboolean childHadContentFlag = (child.fChangeFlags & F_CONTENT) != 0;", "-\t\t\t\t\t\tboolean existingChildHadChildrenFlag = (existingChild.fChangeFlags & F_CHILDREN) != 0;", "-\t\t\t\t\t\texistingChild.fChangeFlags |= child.fChangeFlags;", "+\t\t\t\t\t\tboolean childHadContentFlag = (child.changeFlags & F_CONTENT) != 0;", "+\t\t\t\t\t\tboolean existingChildHadChildrenFlag = (existingChild.changeFlags & F_CHILDREN) != 0;", "+\t\t\t\t\t\texistingChild.changeFlags |= child.changeFlags;", "-\t\t\t\t\t\t\texistingChild.fChangeFlags &= ~F_CONTENT;", "+\t\t\t\t\t\t\texistingChild.changeFlags &= ~F_CONTENT;", "-\t\t\t\tchild.fChangeFlags |= flags;", "+\t\t\t\tchild.changeFlags |= flags;"]}], "num": 36836}