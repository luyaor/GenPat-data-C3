{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "61ddf5f0db4e036801faf38f74859648", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "041ff36b7989ef0791af44770e7a6f7b", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/APTDispatchRunnable.java", "commitBeforeChange": "2894ba75386697d7bf484434d073fb6ffaf6cec9", "commitAfterChange": "c5ef0e6fd93c55fc5204e498f5b58ab9f95c6ab7", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 20, "signatureBeforeChange": " \t \tprivate Set<IFile> cleanupNoLongerGeneratedFiles(  \t\tIFile parentFile,  \t\tICompilationUnit parentCompilationUnit,  \t\tSet<IFile> lastGeneratedFiles, Set<IFile> newGeneratedFiles, \t\tGeneratedFileManager gfm,\t\t \t\tProcessorEnvImpl processorEnv)", "signatureAfterChange": " \tprivate Set<IFile> cleanupNoLongerGeneratedFiles( \t\t\tIFile parentFile, \t\t\tSet<IFile> lastGeneratedFiles,  \t\t\tSet<IFile> newGeneratedFiles, \t\t\tGeneratedFileManager gfm,\t\t \t\t\tProcessorEnvImpl processorEnv, \t\t\tSet<IFile> deletedFiles)", "diff": ["-\tprivate Set<IFile> cleanupNoLongerGeneratedFiles( ", "-\t\tIFile parentFile, ", "-\t\tICompilationUnit parentCompilationUnit, ", "-\t\tSet<IFile> lastGeneratedFiles, Set<IFile> newGeneratedFiles,", "-\t\tGeneratedFileManager gfm,\t\t", "-\t\tProcessorEnvImpl processorEnv)", "+\t// Note: only work under build mode. ", "+\tprivate Set<IFile> cleanupNoLongerGeneratedFiles(", "+\t\t\tIFile parentFile,", "+\t\t\tSet<IFile> lastGeneratedFiles, ", "+\t\t\tSet<IFile> newGeneratedFiles,", "+\t\t\tGeneratedFileManager gfm,\t\t", "+\t\t\tProcessorEnvImpl processorEnv,", "+\t\t\tSet<IFile> deletedFiles)", "-\t\tHashSet<IFile> deletedFiles = new HashSet<IFile>();", "-\t\t\t", "+\t\tif( deletedFiles == null )", "+\t\t\tdeletedFiles = new HashSet<IFile>();", "+\t\t", "-\t\t\t\t\t// _compialtionUnit == null means we are in a build phase. ", "-\t\t\t\t\tif ( (processorEnv != null && processorEnv.getPhase() == Phase.BUILD) || ", "-\t\t\t\t\t\t  _compilationUnit == null )", "-\t\t\t\t\t{", "-\t\t\t\t\t\tif ( gfm.deleteGeneratedFile( f, parentFile, null ) )", "-\t\t\t\t\t\t\tdeletedFiles.add( f );", "-\t\t\t\t\t}", "-\t\t\t\t\telse ", "-\t\t\t\t\t{  ", "-\t\t\t\t\t\tassert parentCompilationUnit != null : \"missing compilation unit\"; //$NON-NLS-1$", "-\t\t\t\t\t\tif ( gfm.deleteGeneratedTypeInMemory( f, parentCompilationUnit, null ) )", "-\t\t\t\t\t\t\tdeletedFiles.add( f );", "-\t\t\t\t\t}", "+\t\t\t\t\tif ( gfm.deleteGeneratedFile( f, parentFile, null ) )", "+\t\t\t\t\t\tdeletedFiles.add( f );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "224834e811828a60404b84135b4faa9e", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/APTDispatchRunnable.java", "commitBeforeChange": "1c3298c6e059e091058be85e5c193be4f3e2bb5c", "commitAfterChange": "1604c4cb884aee860a1cc5ef654a628a5e36afd0", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": " \t \tprivate Set<IFile> cleanupNoLongerGeneratedFiles(  \t\tIFile parent, Set<IFile> lastGeneratedFiles, Set<IFile> newGeneratedFiles, \t\tGeneratedFileManager gfm )", "signatureAfterChange": " \t \tprivate Set<IFile> cleanupNoLongerGeneratedFiles(  \t\tIFile parentFile, ICompilationUnit parentCompilationUnit, Set<IFile> lastGeneratedFiles, Set<IFile> newGeneratedFiles, \t\tGeneratedFileManager gfm )", "diff": ["-\t\tIFile parent, Set<IFile> lastGeneratedFiles, Set<IFile> newGeneratedFiles,", "+\t\tIFile parentFile, ICompilationUnit parentCompilationUnit, Set<IFile> lastGeneratedFiles, Set<IFile> newGeneratedFiles,", "-\t\t\t\tif ( AptPlugin.DEBUG ) trace( \"runAPT:  File \" + f + \" is no longer a generated file for \" + parent ); //$NON-NLS-1$ //$NON-NLS-2$", "+\t\t\t\tif ( AptPlugin.DEBUG ) trace( \"runAPT:  File \" + f + \" is no longer a generated file for \" + parentFile ); //$NON-NLS-1$ //$NON-NLS-2$", "-\t\t\t\t\tif ( gfm.deleteGeneratedFile( f, parent, null ) )", "-\t\t\t\t\t\tdeletedFiles.add( f );", "+\t\t\t\t\tif ( parentCompilationUnit == null )", "+\t\t\t\t\t{", "+\t\t\t\t\t\tif ( gfm.deleteGeneratedFile( f, parentFile, null ) )", "+\t\t\t\t\t\t\tdeletedFiles.add( f );", "+\t\t\t\t\t}", "+\t\t\t\t\telse ", "+\t\t\t\t\t{", "+\t\t\t\t\t\tif ( gfm.deleteGeneratedTypeInMemory( f, parentCompilationUnit, null ) )", "+\t\t\t\t\t\t\tdeletedFiles.add( f );", "+\t\t\t\t\t}"]}], "num": 62061}