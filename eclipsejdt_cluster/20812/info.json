{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9f7ed33a931752a866ed51005ee565b2", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "54a3f6f0b95245becdb6c51d51676b44", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/CodeFormatterVisitor.java", "commitBeforeChange": "8a64589617f7b80b7f12bb3f773ab58c605663c7", "commitAfterChange": "6585c7471e2cc73387fb0d652a600f2678de9051", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "  \tpublic CodeFormatterVisitor(FormattingPreferences preferences, Map settings)", "signatureAfterChange": "  \tpublic CodeFormatterVisitor(FormattingPreferences preferences, Map settings, int offset, int length)", "diff": ["-\tpublic CodeFormatterVisitor(FormattingPreferences preferences, Map settings) {", "+\tpublic CodeFormatterVisitor(FormattingPreferences preferences, Map settings, int offset, int length) {", "-\t\t\tString compiler_source = (String) settings.get(JavaCore.COMPILER_SOURCE);", "-\t\t\tif (compiler_source == null) {", "-\t\t\t\tthis.localScanner = ToolFactory.createScanner(false, false, false, false);", "+\t\t\tObject assertModeSetting = settings.get(JavaCore.COMPILER_SOURCE);", "+\t\t\tif (assertModeSetting == null) {", "+\t\t\t\tthis.localScanner = new Scanner(true, false, false/*nls*/, JavaCore.VERSION_1_4.equals(assertModeSetting) ? ClassFileConstants.JDK1_4 : ClassFileConstants.JDK1_3/*sourceLevel*/, null/*taskTags*/, null/*taskPriorities*/);", "-\t\t\t\tthis.localScanner = ToolFactory.createScanner(false, false, false, compiler_source);", "+\t\t\t\tthis.localScanner = new Scanner(true, false, false/*nls*/, ClassFileConstants.JDK1_3/*sourceLevel*/, null/*taskTags*/, null/*taskPriorities*/);", "-\t\t\tthis.localScanner = ToolFactory.createScanner(false, false, false, false);", "+\t\t\tthis.localScanner = new Scanner(true, false, false/*nls*/, ClassFileConstants.JDK1_3/*sourceLevel*/, null/*taskTags*/, null/*taskPriorities*/);", "-\t\t// TODO set the java core options when common preferences are changed", "+\t\t", "-\t\tthis.scribe = new Scribe(this, settings);", "+\t\tthis.scribe = new Scribe(this, settings, offset, length);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5ffcb1cb494e8564c4fcfb9336f6390d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/Scribe.java", "commitBeforeChange": "8a64589617f7b80b7f12bb3f773ab58c605663c7", "commitAfterChange": "6585c7471e2cc73387fb0d652a600f2678de9051", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": " \t \tScribe(CodeFormatterVisitor formatter, Map settings)", "signatureAfterChange": "  \tScribe(CodeFormatterVisitor formatter, Map settings, int offset, int length)", "diff": ["-\t", "-\tScribe(CodeFormatterVisitor formatter, Map settings) {", "+", "+\tScribe(CodeFormatterVisitor formatter, Map settings, int offset, int length) {", "-\t\t\tthis.scanner = (PublicScanner) ToolFactory.createScanner(true, true, JavaCore.VERSION_1_4.equals(assertModeSetting), true);", "+\t\t\tif (assertModeSetting == null) {", "+\t\t\t\tthis.scanner = new Scanner(true, true, false/*nls*/, JavaCore.VERSION_1_4.equals(assertModeSetting) ? ClassFileConstants.JDK1_4 : ClassFileConstants.JDK1_3/*sourceLevel*/, null/*taskTags*/, null/*taskPriorities*/);", "+\t\t\t} else {", "+\t\t\t\tthis.scanner = new Scanner(true, true, false/*nls*/, ClassFileConstants.JDK1_3/*sourceLevel*/, null/*taskTags*/, null/*taskPriorities*/);", "+\t\t\t}", "-\t\t\tthis.scanner = (PublicScanner) ToolFactory.createScanner(true, true, false, true);", "+\t\t\tthis.scanner = new Scanner(true, true, false/*nls*/, ClassFileConstants.JDK1_3/*sourceLevel*/, null/*taskTags*/, null/*taskPriorities*/);", "+\t\tthis.textRegionStart = offset;", "+\t\tthis.textRegionEnd = offset + length - 1; ", "+\t\treset();", "+\t}", "-\t\treset(positionsToMap);"]}], "num": 20812}