{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ae22d657682a01b71020c2962b1d95d1", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7b53b7a94999ef6930e28c0c8393b6a9", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/parser/AnnotationParser.java", "commitBeforeChange": "6a44e0777af1a4632e0d20c0e9b92d35d2ad59f3", "commitAfterChange": "2ca339c139c0fe73a5bd2705f66592731098d347", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 12, "signatureBeforeChange": " \tchar[] readIdentifier()", "signatureAfterChange": " \t \tprotected void pushIdentifier()", "diff": ["-\t */", "-\tchar[] readIdentifier() {", "-\t", "-\t\tif (!Character.isJavaIdentifierStart(this.currentCharacter)) return null;", "-\t\tchar[] identifier = null;", "-\t\tthis.scanner.currentCharacter = this.currentCharacter;", "-\t\tthis.scanner.startPosition = this.startPosition;", "-\t\tthis.scanner.currentPosition = this.currentPosition;", "-\t\t", "-\t\tint token = this.scanner.scanIdentifierOrKeyword();\t\t", "-\t\tif (token == TerminalTokens.TokenNameIdentifier) {", "-\t\t\tidentifier = this.scanner.getCurrentIdentifierSource();", "-\t\treturn identifier;", "+\t", "+\tprotected void pushIdentifier() {", "+\t\t/*push the consumeToken on the identifier stack.", "+\t\tIncrease the total number of identifier in the stack.", "+\t\tidentifierPtr points on the next top */", "+\t", "+\t\ttry {", "+\t\t\tthis.identifierStack[++this.identifierPtr] = this.scanner.getCurrentIdentifierSource();", "+\t\t\tthis.identifierPositionStack[this.identifierPtr] = ", "+\t\t\t\t(((long) this.scanner.startPosition) << 32) + (this.scanner.currentPosition - 1); ", "+\t\t} catch (IndexOutOfBoundsException e) {", "+\t\t\t/*---stack reallaocation (identifierPtr is correct)---*/", "+\t\t\tint oldStackLength = this.identifierStack.length;", "+\t\t\tchar[][] oldStack = this.identifierStack;", "+\t\t\tthis.identifierStack = new char[oldStackLength + 20][];", "+\t\t\tSystem.arraycopy(oldStack, 0, this.identifierStack, 0, oldStackLength);", "+\t\t\tthis.identifierStack[this.identifierPtr] = this.scanner.getCurrentTokenSource();", "+\t\t\t/*identifier position stack*/", "+\t\t\tlong[] oldPos = this.identifierPositionStack;", "+\t\t\tthis.identifierPositionStack = new long[oldStackLength + 20];", "+\t\t\tSystem.arraycopy(oldPos, 0, this.identifierPositionStack, 0, oldStackLength);", "+\t\t\tthis.identifierPositionStack[this.identifierPtr] = ", "+\t\t\t\t(((long) this.scanner.startPosition) << 32) + (this.scanner.currentPosition - 1); ", "+\t\t}", "+\t", "+\t\ttry {", "+\t\t\tthis.identifierLengthStack[++this.identifierLengthPtr] = 1;", "+\t\t} catch (IndexOutOfBoundsException e) {", "+\t\t\t/*---stack reallocation (identifierLengthPtr is correct)---*/", "+\t\t\tint oldStackLength = this.identifierLengthStack.length;", "+\t\t\tint oldStack[] = this.identifierLengthStack;", "+\t\t\tthis.identifierLengthStack = new int[oldStackLength + 10];", "+\t\t\tSystem.arraycopy(oldStack, 0, this.identifierLengthStack, 0, oldStackLength);", "+\t\t\tthis.identifierLengthStack[this.identifierLengthPtr] = 1;", "+\t\t}", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e46a98edbb9114cb4f238a2386d979ce", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/parser/Parser.java", "commitBeforeChange": "db260d93667acab111e64138469df12a566a7b90", "commitAfterChange": "41616c6495c935b90356748e848cc3a6ffe7665e", "methodNumberBeforeChange": 248, "methodNumberAfterChange": 248, "signatureBeforeChange": " protected void pushIdentifier()", "signatureAfterChange": " protected void pushIdentifier()", "diff": ["-\ttry {", "-\t\tthis.identifierStack[++this.identifierPtr] = this.scanner.getCurrentIdentifierSource();", "-\t\tthis.identifierPositionStack[this.identifierPtr] = ", "-\t\t\t(((long) this.scanner.startPosition) << 32) + (this.scanner.currentPosition - 1); ", "-\t} catch (IndexOutOfBoundsException e) {", "-\t\t/*---stack reallaocation (this.identifierPtr is correct)---*/", "-\t\tint oldStackLength = this.identifierStack.length;", "-\t\tchar[][] oldStack = this.identifierStack;", "-\t\tthis.identifierStack = new char[oldStackLength + 20][];", "-\t\tSystem.arraycopy(oldStack, 0, this.identifierStack, 0, oldStackLength);", "-\t\tthis.identifierStack[this.identifierPtr] = this.scanner.getCurrentTokenSource();", "-\t\t/*identifier position stack*/", "-\t\tlong[] oldPos = this.identifierPositionStack;", "-\t\tthis.identifierPositionStack = new long[oldStackLength + 20];", "-\t\tSystem.arraycopy(oldPos, 0, this.identifierPositionStack, 0, oldStackLength);", "-\t\tthis.identifierPositionStack[this.identifierPtr] = ", "-\t\t\t(((long) this.scanner.startPosition) << 32) + (this.scanner.currentPosition - 1); ", "+\tint stackLength = this.identifierStack.length;", "+\tif (++this.identifierPtr >= stackLength) {", "+\t\tSystem.arraycopy(", "+\t\t\tthis.identifierStack, 0,", "+\t\t\tthis.identifierStack = new char[stackLength + 20][], 0,", "+\t\t\tstackLength);", "+\t\tSystem.arraycopy(", "+\t\t\tthis.identifierPositionStack, 0,", "+\t\t\tthis.identifierPositionStack = new long[stackLength + 20], 0,", "+\t\t\tstackLength);", "+\tthis.identifierStack[this.identifierPtr] = this.scanner.getCurrentIdentifierSource();", "+\tthis.identifierPositionStack[this.identifierPtr] =", "+\t\t(((long) this.scanner.startPosition) << 32) + (this.scanner.currentPosition - 1); ", "-\ttry {", "-\t\tthis.identifierLengthStack[++this.identifierLengthPtr] = 1;", "-\t} catch (IndexOutOfBoundsException e) {", "-\t\t/*---stack reallocation (this.identifierLengthPtr is correct)---*/", "-\t\tint oldStackLength = this.identifierLengthStack.length;", "-\t\tint oldStack[] = this.identifierLengthStack;", "-\t\tthis.identifierLengthStack = new int[oldStackLength + 10];", "-\t\tSystem.arraycopy(oldStack, 0, this.identifierLengthStack, 0, oldStackLength);", "-\t\tthis.identifierLengthStack[this.identifierLengthPtr] = 1;", "+\tstackLength = this.identifierLengthStack.length;", "+\tif (++this.identifierLengthPtr >= stackLength) {", "+\t\tSystem.arraycopy(", "+\t\t\tthis.identifierLengthStack, 0,", "+\t\t\tthis.identifierLengthStack = new int[stackLength + 10], 0,", "+\t\t\tstackLength);", "-", "+\tthis.identifierLengthStack[this.identifierLengthPtr] = 1;"]}], "num": 13260}