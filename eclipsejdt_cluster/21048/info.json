{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "18c77a0d1a7463335d51102169fb9cf9", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5a885773531d40914f0a9114af5a300f", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/StackMapFrameCodeStream.java", "commitBeforeChange": "830277de86eee08c18b5e0da495c01b96cccdad2", "commitAfterChange": "a874c20c38675a0faf72bfd6c0cb69354f6ff3fb", "methodNumberBeforeChange": 140, "methodNumberAfterChange": 21, "signatureBeforeChange": " public void initializeMaxLocals(MethodBinding methodBinding)", "signatureAfterChange": "  public void initializeMaxLocals(MethodBinding methodBinding)", "diff": ["-}", "-public void initializeMaxLocals(MethodBinding methodBinding) {", "-    super.initializeMaxLocals(methodBinding);", "-    StackMapFrame frame = new StackMapFrame();", "-    frame.pc = -1;", "-", "-    if (this.maxLocals != 0) {", "-        int resolvedPosition = 0;", "-        // take into account enum constructor synthetic name+ordinal", "-        final boolean isConstructor = methodBinding.isConstructor();", "-        if (isConstructor) {", "-            frame.putLocal(resolvedPosition, new VerificationTypeInfo(VerificationTypeInfo.ITEM_UNINITIALIZED_THIS, methodBinding.declaringClass));", "-            resolvedPosition++;", "-        } else if (!methodBinding.isStatic()) {", "-            frame.putLocal(resolvedPosition, new VerificationTypeInfo(VerificationTypeInfo.ITEM_OBJECT, methodBinding.declaringClass));", "-            resolvedPosition++;", "-        }", "-", "-        if (isConstructor) {", "-            if (methodBinding.declaringClass.isEnum()) {", "-                frame.putLocal(resolvedPosition, new VerificationTypeInfo(TypeIds.T_JavaLangString, ConstantPool.JavaLangStringConstantPoolName));", "-                resolvedPosition++;", "-                frame.putLocal(resolvedPosition, new VerificationTypeInfo(TypeBinding.INT));", "-                resolvedPosition++;", "-            }", "-", "-            // take into account the synthetic parameters", "-            if (methodBinding.declaringClass.isNestedType()) {", "-                ReferenceBinding enclosingInstanceTypes[];", "-                if ((enclosingInstanceTypes = methodBinding.declaringClass.syntheticEnclosingInstanceTypes()) != null) {", "-                    for (int i = 0, max = enclosingInstanceTypes.length; i < max; i++) {", "-                         // an enclosingInstanceType can only be a reference binding. It cannot be", "-                        // LongBinding or DoubleBinding", "-                        frame.putLocal(resolvedPosition, new VerificationTypeInfo(enclosingInstanceTypes[i]));", "-                        resolvedPosition++;", "-                    }", "-                }", "-", "-                TypeBinding[] arguments;", "-                if ((arguments = methodBinding.parameters) != null) {", "-                    for (int i = 0, max = arguments.length; i < max; i++) {", "-                        final TypeBinding typeBinding = arguments[i];", "-                        frame.putLocal(resolvedPosition, new VerificationTypeInfo(typeBinding));", "-                        switch(typeBinding.id) {", "-                            case TypeIds.T_double :", "-                            case TypeIds.T_long :", "-                                resolvedPosition += 2;", "-                                break;", "-                            default:", "-                                resolvedPosition++;", "-                        }", "-                    }", "-                }", "-", "-                SyntheticArgumentBinding syntheticArguments[];", "-                if ((syntheticArguments = methodBinding.declaringClass.syntheticOuterLocalVariables()) != null) {", "-                    for (int i = 0, max = syntheticArguments.length; i < max; i++) {", "-                        final TypeBinding typeBinding = syntheticArguments[i].type;", "-                        frame.putLocal(resolvedPosition, new VerificationTypeInfo(typeBinding));", "-                        switch(typeBinding.id) {", "-                            case TypeIds.T_double :", "-                            case TypeIds.T_long :", "-                                resolvedPosition+=2;", "-                                break;", "-                            default:", "-                                resolvedPosition++;", "-                        }", "-                    }", "-                }", "-            } else {", "-                TypeBinding[] arguments;", "-                if ((arguments = methodBinding.parameters) != null) {", "-                    for (int i = 0, max = arguments.length; i < max; i++) {", "-                        final TypeBinding typeBinding = arguments[i];", "-                        frame.putLocal(resolvedPosition, new VerificationTypeInfo(typeBinding));", "-                        switch(typeBinding.id) {", "-                            case TypeIds.T_double :", "-                            case TypeIds.T_long :", "-                                resolvedPosition += 2;", "-                                break;", "-                            default:", "-                                resolvedPosition++;", "-                        }", "-                    }", "-                }", "-            }", "-        } else {", "-            TypeBinding[] arguments;", "-            if ((arguments = methodBinding.parameters) != null) {", "-                for (int i = 0, max = arguments.length; i < max; i++) {", "-                    final TypeBinding typeBinding = arguments[i];", "-                    frame.putLocal(resolvedPosition, new VerificationTypeInfo(typeBinding));", "-                    switch(typeBinding.id) {", "-                        case TypeIds.T_double :", "-                        case TypeIds.T_long :", "-                            resolvedPosition += 2;", "-                            break;", "-                        default:", "-                            resolvedPosition++;", "-                    }", "-                }", "-            }", "-        }", "-    }", "-    try {", "-        this.frames = new ArrayList();", "-        this.frames.add(frame.clone());", "-    } catch (CloneNotSupportedException e) {", "-        e.printStackTrace();", "-    }", "-    this.currentFrame = frame;", "-    this.framePositions = new HashSet();", "-    this.variablesModificationsPositions = new ArrayList();", "-}", "+", "+public void initializeMaxLocals(MethodBinding methodBinding) {", "+\tsuper.initializeMaxLocals(methodBinding);", "+\tif (this.framePositions == null) {", "+\t\tthis.framePositions = new HashMap();", "+\t} else {", "+\t\tthis.framePositions.clear();", "+\t}", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ae6d21c8a0cf8c0f4fb2d4b9536f86a4", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/StackMapFrameCodeStream.java", "commitBeforeChange": "3817fb9be5d23e5c6f76a434da338233b90b5a46", "commitAfterChange": "8d9f700412e8d76f89db3ccd17a42191a013d35d", "methodNumberBeforeChange": 58, "methodNumberAfterChange": 58, "signatureBeforeChange": " public void dup2_x2()", "signatureAfterChange": " public void dup2_x2()", "diff": ["-}", "-public void dup2_x2() {", "-\tsuper.dup2_x2();", "-\tVerificationTypeInfo info = this.currentFrame.stackItems[this.currentFrame.numberOfStackItems - 1];", "-\tthis.currentFrame.numberOfStackItems--;", "-\tVerificationTypeInfo info2 = this.currentFrame.stackItems[this.currentFrame.numberOfStackItems - 1];", "-\tthis.currentFrame.numberOfStackItems--;", "-\tswitch(info.id()) {", "-\t\tcase TypeIds.T_long :", "-\t\tcase TypeIds.T_double :", "-\t\t\tswitch(info2.id()) {", "-\t\t\t\tcase TypeIds.T_long :", "-\t\t\t\tcase TypeIds.T_double :", "-\t\t\t\t\t// form 4", "-\t\t\t\t\tthis.currentFrame.addStackItem(info);", "-\t\t\t\t\tthis.currentFrame.addStackItem(info2);", "-\t\t\t\t\tthis.currentFrame.addStackItem(info);", "-\t\t\t\t\tbreak;", "-\t\t\t\tdefault:", "-\t\t\t\t\t// form 2", "-\t\t\t\t\tVerificationTypeInfo info3 = this.currentFrame.stackItems[this.currentFrame.numberOfStackItems - 1];", "-\t\t\t\t\tthis.currentFrame.numberOfStackItems--;", "-\t\t\t\t\tthis.currentFrame.addStackItem(info);", "-\t\t\t\t\tthis.currentFrame.addStackItem(info3);", "-\t\t\t\t\tthis.currentFrame.addStackItem(info2);", "-\t\t\t\t\tthis.currentFrame.addStackItem(info);", "-\t\t\t}", "-\t\t\tbreak;", "-\t\tdefault:", "-\t\t\tVerificationTypeInfo info3 = this.currentFrame.stackItems[this.currentFrame.numberOfStackItems - 1];", "-\t\t\tthis.currentFrame.numberOfStackItems--;", "-\t\t\tswitch(info3.id()) {", "-\t\t\t\tcase TypeIds.T_long :", "-\t\t\t\tcase TypeIds.T_double :", "-\t\t\t\t\t// form 3", "-\t\t\t\t\tthis.currentFrame.addStackItem(info2);", "-\t\t\t\t\tthis.currentFrame.addStackItem(info);", "-\t\t\t\t\tthis.currentFrame.addStackItem(info3);", "-\t\t\t\t\tthis.currentFrame.addStackItem(info2);", "-\t\t\t\t\tthis.currentFrame.addStackItem(info);", "-\t\t\t\t\tbreak;", "-\t\t\t\tdefault:", "-\t\t\t\t\t// form 1", "-\t\t\t\t\tVerificationTypeInfo info4 = this.currentFrame.stackItems[this.currentFrame.numberOfStackItems - 1];", "-\t\t\t\t\tthis.currentFrame.numberOfStackItems--;", "-\t\t\t\t\tthis.currentFrame.addStackItem(info2);", "-\t\t\t\t\tthis.currentFrame.addStackItem(info);", "-\t\t\t\t\tthis.currentFrame.addStackItem(info4);", "-\t\t\t\t\tthis.currentFrame.addStackItem(info3);", "-\t\t\t\t\tthis.currentFrame.addStackItem(info2);", "-\t\t\t\t\tthis.currentFrame.addStackItem(info);", "-\t\t\t}", "-\t}", "-}", "+}", "+public void dup2_x2() {", "+    super.dup2_x2();", "+    int numberOfStackItems = this.currentFrame.numberOfStackItems;", "+    if (numberOfStackItems >= 2) {", "+        VerificationTypeInfo info = this.currentFrame.stackItems[numberOfStackItems - 1];", "+        this.currentFrame.numberOfStackItems--;", "+        VerificationTypeInfo info2 = this.currentFrame.stackItems[this.currentFrame.numberOfStackItems - 1];", "+        this.currentFrame.numberOfStackItems--;", "+        switch(info.id()) {", "+            case TypeIds.T_long :", "+            case TypeIds.T_double :", "+                switch(info2.id()) {", "+                    case TypeIds.T_long :", "+                    case TypeIds.T_double :", "+                        // form 4", "+                        this.currentFrame.addStackItem(info);", "+                        this.currentFrame.addStackItem(info2);", "+                        this.currentFrame.addStackItem(info);", "+                        break;", "+                    default:", "+                        // form 2", "+                        numberOfStackItems = this.currentFrame.numberOfStackItems;", "+                        if (numberOfStackItems >= 1) {", "+                            VerificationTypeInfo info3 = this.currentFrame.stackItems[numberOfStackItems - 1];", "+                            this.currentFrame.numberOfStackItems--;", "+                            this.currentFrame.addStackItem(info);", "+                            this.currentFrame.addStackItem(info3);", "+                            this.currentFrame.addStackItem(info2);", "+                            this.currentFrame.addStackItem(info);", "+                        }", "+                }", "+                break;", "+            default:", "+                numberOfStackItems = this.currentFrame.numberOfStackItems;", "+                if (numberOfStackItems >= 1) {", "+                    VerificationTypeInfo info3 = this.currentFrame.stackItems[numberOfStackItems - 1];", "+                    this.currentFrame.numberOfStackItems--;", "+                    switch(info3.id()) {", "+                        case TypeIds.T_long :", "+                        case TypeIds.T_double :", "+                            // form 3", "+                            this.currentFrame.addStackItem(info2);", "+                            this.currentFrame.addStackItem(info);", "+                            this.currentFrame.addStackItem(info3);", "+                            this.currentFrame.addStackItem(info2);", "+                            this.currentFrame.addStackItem(info);", "+                            break;", "+                        default:", "+                            // form 1", "+                            numberOfStackItems = this.currentFrame.numberOfStackItems;", "+                            if (numberOfStackItems >= 1) {", "+                                VerificationTypeInfo info4 = this.currentFrame.stackItems[numberOfStackItems - 1];", "+                                this.currentFrame.numberOfStackItems--;", "+                                this.currentFrame.addStackItem(info2);", "+                                this.currentFrame.addStackItem(info);", "+                                this.currentFrame.addStackItem(info4);", "+                                this.currentFrame.addStackItem(info3);", "+                                this.currentFrame.addStackItem(info2);", "+                                this.currentFrame.addStackItem(info);", "+                            }", "+                    }", "+                }", "+        }", "+    }", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d6a778f3926b21b176cd09ba05cd466a", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/StackMapFrameCodeStream.java", "commitBeforeChange": "830277de86eee08c18b5e0da495c01b96cccdad2", "commitAfterChange": "a874c20c38675a0faf72bfd6c0cb69354f6ff3fb", "methodNumberBeforeChange": 58, "methodNumberAfterChange": 17, "signatureBeforeChange": " public void dup2_x2()", "signatureAfterChange": " public ExceptionMarker[] getExceptionMarkers()", "diff": ["-}", "-public void dup2_x2() {", "-    super.dup2_x2();", "-    int numberOfStackItems = this.currentFrame.numberOfStackItems;", "-    if (numberOfStackItems >= 2) {", "-        VerificationTypeInfo info = this.currentFrame.stackItems[numberOfStackItems - 1];", "-        this.currentFrame.numberOfStackItems--;", "-        VerificationTypeInfo info2 = this.currentFrame.stackItems[this.currentFrame.numberOfStackItems - 1];", "-        this.currentFrame.numberOfStackItems--;", "-        switch(info.id()) {", "-            case TypeIds.T_long :", "-            case TypeIds.T_double :", "-                switch(info2.id()) {", "-                    case TypeIds.T_long :", "-                    case TypeIds.T_double :", "-                        // form 4", "-                        this.currentFrame.addStackItem(info);", "-                        this.currentFrame.addStackItem(info2);", "-                        this.currentFrame.addStackItem(info);", "-                        break;", "-                    default:", "-                        // form 2", "-                        numberOfStackItems = this.currentFrame.numberOfStackItems;", "-                        if (numberOfStackItems >= 1) {", "-                            VerificationTypeInfo info3 = this.currentFrame.stackItems[numberOfStackItems - 1];", "-                            this.currentFrame.numberOfStackItems--;", "-                            this.currentFrame.addStackItem(info);", "-                            this.currentFrame.addStackItem(info3);", "-                            this.currentFrame.addStackItem(info2);", "-                            this.currentFrame.addStackItem(info);", "-                        }", "-                }", "-                break;", "-            default:", "-                numberOfStackItems = this.currentFrame.numberOfStackItems;", "-                if (numberOfStackItems >= 1) {", "-                    VerificationTypeInfo info3 = this.currentFrame.stackItems[numberOfStackItems - 1];", "-                    this.currentFrame.numberOfStackItems--;", "-                    switch(info3.id()) {", "-                        case TypeIds.T_long :", "-                        case TypeIds.T_double :", "-                            // form 3", "-                            this.currentFrame.addStackItem(info2);", "-                            this.currentFrame.addStackItem(info);", "-                            this.currentFrame.addStackItem(info3);", "-                            this.currentFrame.addStackItem(info2);", "-                            this.currentFrame.addStackItem(info);", "-                            break;", "-                        default:", "-                            // form 1", "-                            numberOfStackItems = this.currentFrame.numberOfStackItems;", "-                            if (numberOfStackItems >= 1) {", "-                                VerificationTypeInfo info4 = this.currentFrame.stackItems[numberOfStackItems - 1];", "-                                this.currentFrame.numberOfStackItems--;", "-                                this.currentFrame.addStackItem(info2);", "-                                this.currentFrame.addStackItem(info);", "-                                this.currentFrame.addStackItem(info4);", "-                                this.currentFrame.addStackItem(info3);", "-                                this.currentFrame.addStackItem(info2);", "-                                this.currentFrame.addStackItem(info);", "-                            }", "-                    }", "-                }", "-        }", "-    }", "-}", "+public ExceptionMarker[] getExceptionMarkers() {", "+\tSet exceptionMarkerSet = this.exceptionMarkers;", "+\tif (this.exceptionMarkers == null) return null;", "+\tint size = exceptionMarkerSet.size();", "+\tExceptionMarker[] markers = new ExceptionMarker[size];", "+\tint n = 0;", "+\tfor (Iterator iterator = exceptionMarkerSet.iterator(); iterator.hasNext(); ) {", "+\t\tmarkers[n++] = (ExceptionMarker) iterator.next();", "+\t}", "+\tArrays.sort(markers);", "+//  System.out.print('[');", "+//  for (int n = 0; n < size; n++) {", "+//  \tif (n != 0) System.out.print(',');", "+//  \tSystem.out.print(positions[n]);", "+//  }", "+//  System.out.println(']');", "+\treturn markers;", "+}"]}], "num": 21048}