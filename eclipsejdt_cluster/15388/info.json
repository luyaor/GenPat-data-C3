{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "21ea19963d9d603c0240ba00c591c918", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "651d1676ef9278f44dfcf8fbee81d9f8", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/SearchableEnvironment.java", "commitBeforeChange": "af8ddf1224acdd73d35eff5f86a6b2b80c9a4304", "commitAfterChange": "5949526ecc18e0967f54519179f4d69e16617703", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": " \tprotected NameEnvironmentAnswer find(String typeName, String packageName)", "signatureAfterChange": " \tprotected NameEnvironmentAnswer find(String typeName, String packageName)", "diff": ["-\t\t\t\t\t\tIPath typePath = type.getPath();", "-\t\t\t\t\t\tIPath rootPath = root.getPath();", "-\t\t\t\t\t\tIPath relativePath = typePath.removeFirstSegments(rootPath.segmentCount());", "-\t\t\t\t\t\tchar[] path;", "-\t\t\t\t\t\tif (relativePath.segmentCount() == 0) {", "-\t\t\t\t\t\t\t// case of a binary type in a jar (see 82542 Internal error during AST creation)", "-\t\t\t\t\t\t\tchar[][] packageChars = CharOperation.splitOn('.', packageName.toCharArray());", "-\t\t\t\t\t\t\tchar[] classFileChars = type.getParent().getElementName().toCharArray();", "-\t\t\t\t\t\t\tpath = CharOperation.concatWith(packageChars, classFileChars, '/');", "-\t\t\t\t\t\t} else", "-\t\t\t\t\t\t\tpath = relativePath.toString().toCharArray();", "-\t\t\t\t\t\taccessRestriction = accessRestriction.getViolatedRestriction(path, null);", "+\t\t\t\t\t\tchar[][] packageChars = CharOperation.splitOn('.', packageName.toCharArray());", "+\t\t\t\t\t\tchar[] classFileChars = type.getParent().getElementName().toCharArray();", "+\t\t\t\t\t\taccessRestriction = accessRestriction.getViolatedRestriction(CharOperation.concatWith(packageChars, classFileChars, '/'), null);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a9a399fd72418f2021f074ce31d1169b", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/SearchableEnvironmentRequestor.java", "commitBeforeChange": "af8ddf1224acdd73d35eff5f86a6b2b80c9a4304", "commitAfterChange": "5949526ecc18e0967f54519179f4d69e16617703", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": " public void acceptType(IType type)", "signatureAfterChange": " public void acceptType(IType type)", "diff": ["+\t\tchar[] packageName = type.getPackageFragment().getElementName().toCharArray();", "-\t\t\t\t\tIPath typePath = type.getPath();", "-\t\t\t\t\tIPath rootPath = root.getPath();", "-\t\t\t\t\tIPath relativePath = typePath.removeFirstSegments(rootPath.segmentCount());", "-\t\t\t\t\tchar[] path;", "-\t\t\t\t\tif (relativePath.segmentCount() == 0) {", "-\t\t\t\t\t\t// case of a binary type in a jar (see 82542 Internal error during AST creation)", "-\t\t\t\t\t\tchar[][] packageChars = CharOperation.splitOn('.', type.getParent().getElementName().toCharArray());", "-\t\t\t\t\t\tchar[] classFileChars = type.getParent().getElementName().toCharArray();", "-\t\t\t\t\t\tpath = CharOperation.concatWith(packageChars, classFileChars, '/');", "-\t\t\t\t\t} else", "-\t\t\t\t\t\tpath = relativePath.toString().toCharArray();", "-\t\t\t\t\taccessRestriction = accessRestriction.getViolatedRestriction(path, null);", "+\t\t\t\t\tchar[][] packageChars = CharOperation.splitOn('.', packageName);", "+\t\t\t\t\tchar[] classFileChars = type.getParent().getElementName().toCharArray();", "+\t\t\t\t\taccessRestriction = accessRestriction.getViolatedRestriction(CharOperation.concatWith(packageChars, classFileChars, '/'), null);", "-\t\t\tthis.requestor.acceptClass(type.getPackageFragment().getElementName().toCharArray(), type.getElementName().toCharArray(), type.getFlags(), accessRestriction);", "+\t\t\tthis.requestor.acceptClass(packageName, type.getElementName().toCharArray(), type.getFlags(), accessRestriction);", "-\t\t\tthis.requestor.acceptInterface(type.getPackageFragment().getElementName().toCharArray(), type.getElementName().toCharArray(), type.getFlags(), accessRestriction);", "+\t\t\tthis.requestor.acceptInterface(packageName, type.getElementName().toCharArray(), type.getFlags(), accessRestriction);"]}], "num": 15388}