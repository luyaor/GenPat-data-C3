{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "7fdf14cc936d867daddde1712a5a482f", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "59286dabccaeb7e48e47ff1a250ccf2f", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/env/ProcessorEnvImpl.java", "commitBeforeChange": "448130a4fef9b2a813962f7bf740288ca0953d30", "commitAfterChange": "4c0e4b25d072f8c59c483eac59e11103b9c86412", "methodNumberBeforeChange": 51, "methodNumberAfterChange": 51, "signatureBeforeChange": " \t \tvoid postMarkers()", "signatureAfterChange": " \t \tvoid postMarkers()", "diff": ["-\t\tif( _markerInfos == null )", "+\t\tif( _markerInfos == null || _markerInfos.size() == 0 )", "-\t\t\t// the resource of the compilation unit in the environment.", "-\t\t\tfinal IResource currentResource = _file;", "-\t                for( Map<String, Object> markerInfo : _markerInfos ){\t                  ", "+\t                for( MarkerInfo markerInfo : _markerInfos ){\t                  ", "-\t\t                    final IMarker marker = _javaProject.getProject().createMarker(BUILD_MARKER);                    ", "-\t\t                    marker.setAttributes(markerInfo);", "+\t\t                    final IMarker marker = _javaProject.getProject().createMarker(BUILD_MARKER);", "+\t\t\t\t\t\t\t//final IMarker marker = _javaProject.getProject().createMarker(IJavaModelMarker.JAVA_MODEL_PROBLEM_MARKER);", "+\t\t                    markerInfo.copyIntoMarker(marker);", "-\t\t\t\t\t\t\tthrow new IllegalStateException(e);", "-\t\t\t\t\t\t\t// TODO: (theodora) report the problem", "+\t\t\t\t\t\t\tAptPlugin.log(e, \"Failure posting markers\"); //$NON-NLS-1$", "-\t\t\tcurrentResource.getWorkspace().run(runnable, null);", "+\t        IWorkspace ws;", "+\t        if (_file != null) {", "+\t        \tws = _file.getWorkspace();", "+\t        }", "+\t        else {", "+\t        \tws = _files[0].getWorkspace(); ", "+\t        }", "+\t\t\tws.run(runnable, null);", "-\t\t\te.printStackTrace();", "-\t\t\t// TODO:(theodora) report the problem.", "+\t\t\tAptPlugin.log(e, \"Failed to post markers\"); //$NON-NLS-1$"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cd1662ae339e8e970b0cf6c6dce6d229", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/generatedfile/GeneratedFileManager.java", "commitBeforeChange": "6008c17a45808fceabf1cda9453174f5e15f7a54", "commitAfterChange": "66f0e8b8112bb13bbbf568db765302c9834a0001", "methodNumberBeforeChange": 45, "methodNumberAfterChange": 47, "signatureBeforeChange": " \tprivate void setGeneratedSourceFolderName( String s )", "signatureAfterChange": " \tprivate void setGeneratedSourceFolderName( String s )", "diff": ["-\t\tIFolder srcFolder;", "+\t\tfinal IFolder srcFolder;", "-\t\t", "-\t\t// delete generatedSourceFolder", "-\t\tif( srcFolder == null )", "+\t\t/*", "+\t\tfinal IWorkspaceRunnable runnable = new IWorkspaceRunnable(){", "+            public void run(IProgressMonitor monitor)", "+            {\t\t", "+            \tif( srcFolder != null ){", "+\t            \ttry{", "+\t            \t\tsrcFolder.delete(true, false, null);", "+\t            \t}catch(CoreException e){", "+\t            \t\tAptPlugin.log(e, \"failed to delete old generated source folder \" + srcFolder.getName() ); //$NON-NLS-1$", "+\t            \t}catch(OperationCanceledException cancel){", "+\t            \t\tAptPlugin.log(cancel, \"deletion of generated source folder got cancelled\"); //$NON-NLS-1$", "+\t            \t}", "+            \t}", "+            \t", "+            \ttry{", "+            \t\tensureGeneratedSourceFolder(null);", "+            \t}", "+            \tcatch(OperationCanceledException cancel){", "+            \t\tAptPlugin.log(cancel, \"ensureGeneratedSourceFolder() operation got cancelled\"); //$NON-NLS-1$", "+            \t\t// something bad will likely to happen.", "+            \t}", "+            };", "+        };", "+        IWorkspace ws = _javaProject.getProject().getWorkspace();", "+        try{", "+        \tws.run(runnable, ws.getRoot(), IWorkspace.AVOID_UPDATE, null);", "+        }catch(CoreException e){", "+    \t\tAptPlugin.log(e, \"Runnable for deleting old generated source folder \" + srcFolder.getName() + \" failed.\"); //$NON-NLS-1$ //$NON-NLS-2$", "+    \t}", "+    \t*/", "+\t\tif(srcFolder == null)"]}], "num": 32928}