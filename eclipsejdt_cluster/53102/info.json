{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "bfc56d9fc0cb70af44aeeb8e45aefffc", "detectedBy": ["DIFF_HIERARCHICAL", "AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6b17947a1e95940188b230bdcd47ad9b", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/ParameterizedTypeBinding.java", "commitBeforeChange": "da518c52dcbfe044bb9f162f86d0c3f3de2bc467", "commitAfterChange": "1bc1a66dee8786645fc203b9ded688e657fbf446", "methodNumberBeforeChange": 30, "methodNumberAfterChange": 31, "signatureBeforeChange": " \tpublic TypeBinding substitute(TypeBinding originalType)", "signatureAfterChange": " \tpublic TypeBinding substitute(TypeBinding originalType)", "diff": ["-\t\tif ((originalType.tagBits & TagBits.HasTypeVariable) != 0) {", "-\t\t\tif (originalType.isTypeVariable()) {", "+\t\t", "+\t\tswitch (originalType.bindingType()) {", "+\t\t\t", "+\t\t\tcase Binding.TYPE_PARAMETER:", "-\t\t\t} else if (originalType.isParameterizedType()) {", "+\t\t\t\tbreak;", "+\t\t\t\t", "+\t\t\tcase Binding.PARAMETERIZED_TYPE:", "-\t\t\t\tTypeBinding[] substitutedArguments = Scope.substitute(this, originalArguments);", "-\t\t\t\tif (substitutedArguments != originalArguments) {", "-\t\t\t\t\tidenticalVariables: { // if substituted with original variables, then answer the generic type itself", "-\t\t\t\t\t\tTypeVariableBinding[] originalVariables = originalParameterizedType.type.typeVariables();", "-\t\t\t\t\t\tfor (int i = 0, length = originalVariables.length; i < length; i++) {", "-\t\t\t\t\t\t\tif (substitutedArguments[i] != originalVariables[i]) break identicalVariables;", "+\t\t\t\tif (originalArguments != null) {", "+\t\t\t\t\tTypeBinding[] substitutedArguments = Scope.substitute(this, originalArguments);", "+\t\t\t\t\tif (substitutedArguments != originalArguments) {", "+\t\t\t\t\t\tidenticalVariables: { // if substituted with original variables, then answer the generic type itself", "+\t\t\t\t\t\t\tTypeVariableBinding[] originalVariables = originalParameterizedType.type.typeVariables();", "+\t\t\t\t\t\t\tfor (int i = 0, length = originalVariables.length; i < length; i++) {", "+\t\t\t\t\t\t\t\tif (substitutedArguments[i] != originalVariables[i]) break identicalVariables;", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\treturn originalParameterizedType.type;", "-\t\t\t\t\t\treturn originalParameterizedType.type;", "-\t\t\t\t\t}", "-\t\t\t\t\treturn this.environment.createParameterizedType(", "-\t\t\t\t\t\t\toriginalParameterizedType.type, substitutedArguments, originalParameterizedType.enclosingType);", "+\t\t\t\t\t\treturn this.environment.createParameterizedType(", "+\t\t\t\t\t\t\t\toriginalParameterizedType.type, substitutedArguments, originalParameterizedType.enclosingType);", "+\t\t\t\t\t}\t\t\t\t", "-\t\t\t} else if (originalType.isArrayType()) {", "+\t\t\t\tbreak;", "+\t\t\t\t", "+\t\t\tcase Binding.ARRAY_TYPE:", "-\t\t\t} else if (originalType.isWildcard()) {", "+\t\t\t\tbreak;", "+", "+\t\t\tcase Binding.WILDCARD_TYPE:", "-\t\t\t}", "-\t\t} else if (originalType.isGenericType()) {", "-\t\t    // treat as if parameterized with its type variables", "-\t\t\tReferenceBinding originalGenericType = (ReferenceBinding) originalType;", "-\t\t\tTypeVariableBinding[] originalVariables = originalGenericType.typeVariables();", "-\t\t\tint length = originalVariables.length;", "-\t\t\tTypeBinding[] originalArguments;", "-\t\t\tSystem.arraycopy(originalVariables, 0, originalArguments = new TypeBinding[length], 0, length);", "-\t\t\tTypeBinding[] substitutedArguments = Scope.substitute(this, originalArguments);", "-\t\t\tif (substitutedArguments != originalArguments) {", "-\t\t\t\treturn this.environment.createParameterizedType(", "-\t\t\t\t\t\toriginalGenericType, substitutedArguments, null);", "-\t\t\t}", "+\t\t\t\tbreak;", "+", "+\t\t\tcase Binding.GENERIC_TYPE:", "+\t\t\t    // treat as if parameterized with its type variables", "+\t\t\t\tReferenceBinding originalGenericType = (ReferenceBinding) originalType;", "+\t\t\t\tTypeVariableBinding[] originalVariables = originalGenericType.typeVariables();", "+\t\t\t\tint length = originalVariables.length;", "+\t\t\t\tSystem.arraycopy(originalVariables, 0, originalArguments = new TypeBinding[length], 0, length);", "+\t\t\t\tTypeBinding[] substitutedArguments = Scope.substitute(this, originalArguments);", "+\t\t\t\tif (substitutedArguments != originalArguments) {", "+\t\t\t\t\treturn this.environment.createParameterizedType(", "+\t\t\t\t\t\t\toriginalGenericType, substitutedArguments, null);", "+\t\t\t\t}", "+\t\t\t\tbreak;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b931d1f7a08d1bf7638f211ca8ba0b84", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/ParameterizedGenericMethodBinding.java", "commitBeforeChange": "da518c52dcbfe044bb9f162f86d0c3f3de2bc467", "commitAfterChange": "1bc1a66dee8786645fc203b9ded688e657fbf446", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "     public TypeBinding substitute(TypeBinding originalType)", "signatureAfterChange": "     public TypeBinding substitute(TypeBinding originalType)", "diff": ["-        if ((originalType.tagBits & TagBits.HasTypeVariable) != 0) {", "-    \t    if (originalType.isTypeVariable()) {", "+\t\tswitch (originalType.bindingType()) {", "+\t\t\t", "+\t\t\tcase Binding.TYPE_PARAMETER:", "-       \t\t        if (originalVariable.rank < length && variables[originalVariable.rank] == originalVariable) {", "-    \t\t\t\t\treturn this.typeArguments[originalVariable.rank];", "-       \t\t        }", "-    \t    } else if (originalType.isParameterizedType()) {", "+   \t\t        if (originalVariable.rank < length && variables[originalVariable.rank] == originalVariable) {", "+\t\t\t\t\treturn this.typeArguments[originalVariable.rank];", "+   \t\t        }", "+   \t\t        break;", "+       \t\t       ", "+\t\t\tcase Binding.PARAMETERIZED_TYPE:", "-    \t        TypeBinding[] substitutedArguments = Scope.substitute(this, originalArguments);", "-    \t        if (substitutedArguments != originalArguments) {", "-\t\t\t\t\tidenticalVariables: { // if substituted with original variables, then answer the generic type itself", "-\t\t\t\t\t\tTypeVariableBinding[] originalVariables = originalParameterizedType.type.typeVariables();", "-\t\t\t\t\t\tfor (int i = 0, length = originalVariables.length; i < length; i++) {", "-\t\t\t\t\t\t\tif (substitutedArguments[i] != originalVariables[i]) break identicalVariables;", "-\t\t\t\t\t\t}", "-\t\t\t\t\t\treturn originalParameterizedType.type;", "-\t\t\t\t\t}    \t        \t", "-    \t            return this.environment.createParameterizedType(", "-    \t                    originalParameterizedType.type, substitutedArguments, originalParameterizedType.enclosingType());", "-        \t    } ", "-\t\t\t} else if (originalType.isArrayType()) {", "+    \t        if (originalArguments != null) {", "+\t    \t        TypeBinding[] substitutedArguments = Scope.substitute(this, originalArguments);", "+\t    \t        if (substitutedArguments != originalArguments) {", "+\t\t\t\t\t\tidenticalVariables: { // if substituted with original variables, then answer the generic type itself", "+\t\t\t\t\t\t\tTypeVariableBinding[] originalVariables = originalParameterizedType.type.typeVariables();", "+\t\t\t\t\t\t\tlength = originalVariables.length;", "+\t\t\t\t\t\t\tfor (int i = 0; i < length; i++) {", "+\t\t\t\t\t\t\t\tif (substitutedArguments[i] != originalVariables[i]) break identicalVariables;", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t\treturn originalParameterizedType.type;", "+\t\t\t\t\t\t}    \t        \t", "+\t    \t            return this.environment.createParameterizedType(", "+\t    \t                    originalParameterizedType.type, substitutedArguments, originalParameterizedType.enclosingType());", "+\t        \t    } ", "+    \t        }", "+    \t        break;", "+    \t        ", "+\t\t\tcase Binding.ARRAY_TYPE:", "-\t\t\t} else if (originalType.isWildcard()) {", "+\t\t\t\tbreak;", "+\t\t\t\t", "+\t\t\tcase Binding.WILDCARD_TYPE:", "-    \t    }", "-\t\t} else if (originalType.isGenericType()) {", "-\t\t    // treat as if parameterized with its type variables", "-\t\t\tReferenceBinding originalGenericType = (ReferenceBinding) originalType;", "-\t\t\tTypeVariableBinding[] originalVariables = originalGenericType.typeVariables();", "-\t\t\tint length = originalVariables.length;", "-\t\t\tTypeBinding[] originalArguments;", "-\t\t\tSystem.arraycopy(originalVariables, 0, originalArguments = new TypeBinding[length], 0, length);", "-\t\t\tTypeBinding[] substitutedArguments = Scope.substitute(this, originalArguments);", "-\t\t\tif (substitutedArguments != originalArguments) {", "-\t\t\t\treturn this.environment.createParameterizedType(", "-\t\t\t\t\t\toriginalGenericType, substitutedArguments, null);", "-\t\t\t}", "+\t\t        break;", "+", "+\t\t\tcase Binding.GENERIC_TYPE:", "+\t\t\t    // treat as if parameterized with its type variables", "+\t\t\t\tReferenceBinding originalGenericType = (ReferenceBinding) originalType;", "+\t\t\t\tTypeVariableBinding[] originalVariables = originalGenericType.typeVariables();", "+\t\t\t\tlength = originalVariables.length;", "+\t\t\t\tSystem.arraycopy(originalVariables, 0, originalArguments = new TypeBinding[length], 0, length);", "+\t\t\t\tTypeBinding[] substitutedArguments = Scope.substitute(this, originalArguments);", "+\t\t\t\tif (substitutedArguments != originalArguments) {", "+\t\t\t\t\treturn this.environment.createParameterizedType(", "+\t\t\t\t\t\t\toriginalGenericType, substitutedArguments, null);", "+\t\t\t\t}", "+\t\t\t\tbreak;"]}], "num": 53102}