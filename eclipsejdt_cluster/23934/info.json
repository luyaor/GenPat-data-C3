{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6009756a01e9c356bec70bf1067c739f", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "638064a439b47cdeea47d11d0fe40c4c", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/CastExpression.java", "commitBeforeChange": "44b2c87051c4d9bbf37b4cf649be500c54102bf7", "commitAfterChange": "9abfcc7867d970a4b8915c842032bf1660c0523c", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": " \t \tpublic boolean checkUnsafeCast(Scope scope, TypeBinding castType, TypeBinding expressionType, TypeBinding match, boolean isNarrowing)", "signatureAfterChange": " \t \tpublic boolean checkUnsafeCast(Scope scope, TypeBinding castType, TypeBinding expressionType, TypeBinding match, boolean isNarrowing)", "diff": ["-\t\tif (match != null && (castType.isBoundParameterizedType() || castType.isGenericType() || expressionType.isBoundParameterizedType() || expressionType.isGenericType())) {", "+\t\tif (match != null && (", "+\t\t\t\tcastType.isBoundParameterizedType() ", "+\t\t\t\t|| castType.isGenericType() ", "+\t\t\t\t|| \texpressionType.isBoundParameterizedType() ", "+\t\t\t\t|| expressionType.isGenericType())) {", "+\t\t\t", "-\t\t} else if (isNarrowing && castType.leafComponentType().isTypeVariable()) {", "-\t\t\tthis.bits |= UnsafeCastMask;", "-\t\t\treturn true;", "+\t\t} else if (isNarrowing) {", "+\t\t\tTypeBinding leafType = castType.leafComponentType();", "+\t\t\tif (expressionType.id == T_JavaLangObject && castType.isArrayType() && (leafType.isBoundParameterizedType() || leafType.isGenericType())) {", "+\t\t\t\tthis.bits |= UnsafeCastMask;", "+\t\t\t\treturn true;", "+\t\t\t}", "+\t\t\tif (leafType.isTypeVariable()) {", "+\t\t\t\tthis.bits |= UnsafeCastMask;", "+\t\t\t\treturn true;", "+\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "73412f35dcc1d39f1f5a256e8d9022a7", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/Expression.java", "commitBeforeChange": "3e1ac9332051468842a1e12f17167ff5224d13b2", "commitAfterChange": "9b20617e51225c8d5ac488c75961e3c5635f1fde", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": " \tpublic final boolean checkCastTypesCompatibility( \t\tScope scope, \t\tTypeBinding castType, \t\tTypeBinding expressionType, \t\tExpression expression)", "signatureAfterChange": " \tpublic final boolean checkCastTypesCompatibility( \t\tScope scope, \t\tTypeBinding castType, \t\tTypeBinding expressionType, \t\tExpression expression)", "diff": ["-\t\t\t} else if (castType.isClass()) {", "+\t\t\t} else if (castType.isClass() || castType.isEnum()) {", "-\t\tif (expressionType.isClass()) {", "+\t\tif (expressionType.isClass() || expressionType.isEnum()) {", "-\t\t\t} else if (castType.isClass()) { // ----- (castType.isClass) expressionType.isClass ------", "+\t\t\t} else if (castType.isClass() || castType.isEnum()) { // ----- (castType.isClass) expressionType.isClass ------", "-\t\t} else if (castType.isClass()) { // ----- (castType.isClass) expressionType.isInterface --------", "+\t\t} else if (castType.isClass() || castType.isEnum()) { // ----- (castType.isClass) expressionType.isInterface --------"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a8b843c18209e1229c5b78e0811f71c4", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/CastExpression.java", "commitBeforeChange": "dd7a18d099a9b8a557ed1fb7fc46e76ea5cfac10", "commitAfterChange": "61620cc52bd94ec88d2d4d64acf040dcf8022b0a", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": " \t \tpublic boolean checkUnsafeCast(Scope scope, TypeBinding castType, TypeBinding expressionType, TypeBinding match, boolean isNarrowing)", "signatureAfterChange": " \t \tpublic boolean checkUnsafeCast(Scope scope, TypeBinding castType, TypeBinding expressionType, TypeBinding match, boolean isNarrowing)", "diff": ["-\t\t\t\t|| castType.isGenericType() ", "-\t\t\t\t|| \texpressionType.isBoundParameterizedType() ", "-\t\t\t\t|| expressionType.isGenericType())) {", "+\t\t\t\t|| \texpressionType.isBoundParameterizedType())) {", "-\t\t\t\tif ((!match.isParameterizedType() && !match.isGenericType())", "-\t\t\t\t\t\t|| expressionType.isRawType()) {", "+\t\t\t\tif (!match.isParameterizedType() || expressionType.isRawType()) {", "-\t\t\tif (expressionType.id == T_JavaLangObject && castType.isArrayType() && (leafType.isBoundParameterizedType() || leafType.isGenericType())) {", "+\t\t\tif (expressionType.id == T_JavaLangObject && castType.isArrayType() && leafType.isBoundParameterizedType()) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f778e7a760225e5678e46026d3bb3a26", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/CastExpression.java", "commitBeforeChange": "16dca0cdbe17832dfb29f0072e09feca8f8a7af6", "commitAfterChange": "eb9694e0519c131ba8708de11ae2ad1c0157552f", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": " \t \tpublic boolean checkUnsafeCast(Scope scope, TypeBinding castType, TypeBinding expressionType, TypeBinding match, boolean isNarrowing)", "signatureAfterChange": " \t \tpublic boolean checkUnsafeCast(Scope scope, TypeBinding castType, TypeBinding expressionType, TypeBinding match, boolean isNarrowing)", "diff": ["+\t\tboolean isCastingToBoundParameterized;", "-\t\t\t\tcastType.isBoundParameterizedType() ", "+\t\t\t\t(isCastingToBoundParameterized = castType.isBoundParameterizedType())", "-\t\t\tif (isNarrowing ? !expressionType.isEquivalentTo(match) : !match.isEquivalentTo(castType)) {", "+\t\t\tif (isCastingToBoundParameterized ", "+\t\t\t\t\t&& (isNarrowing ? !expressionType.isEquivalentTo(match) : !match.isEquivalentTo(castType))) {", "-\t\t\t}", "-\t\t\tif ((castType.tagBits & TagBits.HasDirectWildcard) == 0) {", "-\t\t\t\tif (!match.isParameterizedType() || expressionType.isRawType()) {", "-\t\t\t\t\tthis.bits |= UnsafeCast;", "-\t\t\t\t\treturn true;", "-\t\t\t\t}", "+\t\t\t} else if ((castType.tagBits & TagBits.HasDirectWildcard) == 0", "+\t\t\t\t\t&& (!match.isParameterizedType() || expressionType.isRawType())) {", "+\t\t\t\tthis.bits |= UnsafeCast;", "+\t\t\t\treturn true;"]}], "num": 23934}