{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "16db8545acedf38f241cc5cbdd545f48", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "098327d8f6538f04d342316d3097d3a3", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/generatedfile/GeneratedResourceChangeListener.java", "commitBeforeChange": "21b06b1f77b7fda7b2358e6e2d335e77a6ac8125", "commitAfterChange": "b397fbf1ef2684ee73e7617091ec4c7be38fc011", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 3, "signatureBeforeChange": " \t\tpublic boolean visit(IResourceDelta delta) throws CoreException", "signatureAfterChange": " \t\tpublic boolean visit(IResourceDelta delta) throws CoreException", "diff": ["+\t\tprivate final Set<IProject> _removedProjects = new HashSet<IProject>();", "-\t\t\tIProject project = r.getProject();\t\t", "+\t\t\tIProject project = r.getProject();", "-\t\t\t\tIJavaProject jp = JavaCore.create(project);", "-\t\t\t\tGeneratedFileManager gfm = AptPlugin.getAptProject(jp).getGeneratedFileManager();", "+\t\t\t\tfinal IJavaProject javaProj = JavaCore.create(project);", "+\t\t\t\tfinal GeneratedFileManager gfm = AptPlugin.getAptProject(javaProj).getGeneratedFileManager();", "-\t\t\t\t}", "+\t\t\t\t}\t\t\t\t", "-\t\t\t\t\tIFolder f = (IFolder) r;", "+\t\t\t\t\tIFolder f = (IFolder) r;\t\t\t\t\t", "+\t\t\t\t\t\t// all deletion occurs before any add (adding the generated source directory)", "+\t\t\t\t\t\tif( !_removedProjects.contains(project) ){", "+\t\t\t\t\t\t\t_addGenFolderTo.add(project);", "+\t\t\t\t\t\t}", "+\t\t\t\t\t\t// if the project is already closed or in the process of being", "+\t\t\t\t\t\t// deleted, will ignore this deletion since we cannot correct ", "+\t\t\t\t\t\t// the classpath anyways.", "+\t\t\t\telse if( r instanceof IProject ){\t", "+\t\t\t\t\t_removedProjects.add((IProject)r);", "+\t\t\t\t}", "+\t\t\telse if( r instanceof IProject ){", "+\t\t\t\tfinal IProject proj = (IProject)delta.getResource();\t\t", "+\t\t\t\tif( canUpdate(proj) ){", "+\t\t\t\t\t_addGenFolderTo.add(proj);", "+\t\t\t\t}\t\t\t\t", "+\t\t\t\telse", "+\t\t\t\t\t_removedProjects.add(proj);", "+\t\t\t}", "+", "+\t\t}\t"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "210d757cf12355889ecf96195ad0d099", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/generatedfile/GeneratedResourceChangeListener.java", "commitBeforeChange": "07500b3aefa58aecd5e846627b7c70382793f29f", "commitAfterChange": "641c18a6fa8d154329ae2bcdac1ab25ff8b18f71", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 2, "signatureBeforeChange": " \t\tpublic boolean visit(IResourceDelta delta) throws CoreException", "signatureAfterChange": " \t\tpublic boolean visit(IResourceDelta delta) throws CoreException", "diff": ["-\t\tprivate final Set<IProject> _removedProjects = new HashSet<IProject>();", "-\t\t\t\tGeneratedFileManager gfm = GeneratedFileManager.getGeneratedFileManager( project );", "+\t\t\t\tIJavaProject jp = JavaCore.create(project);", "+\t\t\t\tGeneratedFileManager gfm = AptPlugin.getAptProject(jp).getGeneratedFileManager();", "-\t\t\t\t\t\t// all deletion occurs before any add (adding the generated source directory)", "-\t\t\t\t\t\tif( !_removedProjects.contains(project) ){\t\t\t\t\t\t\t", "-\t\t\t\t\t\t\tgfm.generatedSourceFolderDeleted();", "-\t\t\t\t\t\t\t_addGenFolderTo.add(project);", "-\t\t\t\t\t\t}", "-\t\t\t\t\t\t// if the project is already closed or in the process of being", "-\t\t\t\t\t\t// deleted, will ignore this deletion since we cannot correct ", "-\t\t\t\t\t\t// the classpath anyways.", "+\t\t\t\t\t\tgfm.generatedSourceFolderDeleted();", "-\t\t\t\telse if( r instanceof IProject ){\t", "-\t\t\t\t\t_removedProjects.add((IProject)r);", "-\t\t\t\t}", "-\t\t\telse if( r instanceof IProject ){", "-\t\t\t\tfinal IProject proj = (IProject)delta.getResource();\t\t", "-\t\t\t\tif( canUpdate(proj) ){", "-\t\t\t\t\t_addGenFolderTo.add(proj);", "-\t\t\t\t}\t\t\t\t", "-\t\t\t\telse", "-\t\t\t\t\t_removedProjects.add(proj);", "-\t\t\t}", "-", "-\t\t}\t"]}], "num": 39504}