{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ad1230794258ce7256ff95a2bd35a363", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b71db4dd210b9f515513e3d1d7252f70", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/NameLookup.java", "commitBeforeChange": "ca8ac59322f9a5546de88cf1c276f2947f3dabe2", "commitAfterChange": "da25131cabd17a48ed55149d76a1e2be2aabb378", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 19, "signatureBeforeChange": " public void setUnitsToLookInside(IWorkingCopy[] unitsToLookInside)", "signatureAfterChange": " public void setUnitsToLookInside(ICompilationUnit[] unitsToLookInside)", "diff": ["-public void setUnitsToLookInside(IWorkingCopy[] unitsToLookInside) {", "+public void setUnitsToLookInside(ICompilationUnit[] unitsToLookInside) {", "-\t\t\tIWorkingCopy unitToLookInside = unitsToLookInside[i];", "-\t\t\tICompilationUnit original = (ICompilationUnit)unitToLookInside.getOriginalElement();", "-\t\t\tif (original != null) {", "-\t\t\t\tworkingCopies.put(original, unitToLookInside);", "-\t\t\t} else {", "-\t\t\t\tworkingCopies.put(unitToLookInside, unitToLookInside);", "-\t\t\t}", "+\t\t\tICompilationUnit unitToLookInside = unitsToLookInside[i];", "+\t\t\tICompilationUnit original = unitToLookInside.getPrimary();", "+\t\t\tworkingCopies.put(original, unitToLookInside);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c3f9277553ecc2cfb51bf0f3fc94ba26", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/NameLookup.java", "commitBeforeChange": "08504ba476b411d63330d4820dcef9b3032013d3", "commitAfterChange": "c2c9899514741103674136b061d37380904756e0", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": "\r public void setUnitsToLookInside(IWorkingCopy[] unitsToLookInside)", "signatureAfterChange": "\r public void setUnitsToLookInside(IWorkingCopy[] unitsToLookInside)", "diff": ["+\t\r", "+\tThread currentThread = Thread.currentThread();\r", "-\t\tthis.unitsToLookInside = null;\r", "+\t\tthis.unitsToLookInside.put(currentThread, null);\r", "-\t\tthis.unitsToLookInside = new HashMap();\r", "+\t\tMap workingCopies = (Map)this.unitsToLookInside.get(currentThread);\r", "+\t\tif (workingCopies == null){\r", "+\t\t\tthis.unitsToLookInside.put(currentThread, workingCopies = new HashMap());\r", "+\t\t}\r", "-\t\t\t\tthis.unitsToLookInside.put(original, unitToLookInside);\r", "+\t\t\t\tworkingCopies.put(original, unitToLookInside);\r", "-\t\t\t\tthis.unitsToLookInside.put(unitToLookInside, unitToLookInside);\r", "+\t\t\t\tworkingCopies.put(unitToLookInside, unitToLookInside);\r"]}], "num": 40582}