{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "bb94893c180dc53cf166b70cff14e75b", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "05794ac6ee707b7f50fedafe5b9d7f51", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/CodeStream.java", "commitBeforeChange": "e6f197651cbdf07261298d2395f1290ce2dfe4c1", "commitAfterChange": "5a485cb39d1ee33622141cf426fac71c4bf93ded", "methodNumberBeforeChange": 239, "methodNumberAfterChange": 258, "signatureBeforeChange": " public final void load(LocalVariableBinding localBinding)", "signatureAfterChange": " public final void load(LocalVariableBinding localBinding)", "diff": ["-\tcountLabels = 0;", "-\tTypeBinding typeBinding = localBinding.type;", "-\tint resolvedPosition = localBinding.resolvedPosition;", "-\t// Using dedicated int bytecode", "-\tif (typeBinding == TypeBinding.INT) {", "-\t\tswitch (resolvedPosition) {", "-\t\t\tcase 0 :", "-\t\t\t\tthis.iload_0();", "-\t\t\t\tbreak;", "-\t\t\tcase 1 :", "-\t\t\t\tthis.iload_1();", "-\t\t\t\tbreak;", "-\t\t\tcase 2 :", "-\t\t\t\tthis.iload_2();", "-\t\t\t\tbreak;", "-\t\t\tcase 3 :", "-\t\t\t\tthis.iload_3();", "-\t\t\t\tbreak;", "-\t\t\t//case -1 :", "-\t\t\t// internal failure: trying to load variable not supposed to be generated", "-\t\t\t//\tbreak;", "-\t\t\tdefault :", "-\t\t\t\tthis.iload(resolvedPosition);", "-\t\t}", "-\t\treturn;", "-\t}", "-\t// Using dedicated float bytecode", "-\tif (typeBinding == TypeBinding.FLOAT) {", "-\t\tswitch (resolvedPosition) {", "-\t\t\tcase 0 :", "-\t\t\t\tthis.fload_0();", "-\t\t\t\tbreak;", "-\t\t\tcase 1 :", "-\t\t\t\tthis.fload_1();", "-\t\t\t\tbreak;", "-\t\t\tcase 2 :", "-\t\t\t\tthis.fload_2();", "-\t\t\t\tbreak;", "-\t\t\tcase 3 :", "-\t\t\t\tthis.fload_3();", "-\t\t\t\tbreak;", "-\t\t\tdefault :", "-\t\t\t\tthis.fload(resolvedPosition);", "-\t\t}", "-\t\treturn;", "-\t}", "-\t// Using dedicated long bytecode", "-\tif (typeBinding == TypeBinding.LONG) {", "-\t\tswitch (resolvedPosition) {", "-\t\t\tcase 0 :", "-\t\t\t\tthis.lload_0();", "-\t\t\t\tbreak;", "-\t\t\tcase 1 :", "-\t\t\t\tthis.lload_1();", "-\t\t\t\tbreak;", "-\t\t\tcase 2 :", "-\t\t\t\tthis.lload_2();", "-\t\t\t\tbreak;", "-\t\t\tcase 3 :", "-\t\t\t\tthis.lload_3();", "-\t\t\t\tbreak;", "-\t\t\tdefault :", "-\t\t\t\tthis.lload(resolvedPosition);", "-\t\t}", "-\t\treturn;", "-\t}", "-\t// Using dedicated double bytecode", "-\tif (typeBinding == TypeBinding.DOUBLE) {", "-\t\tswitch (resolvedPosition) {", "-\t\t\tcase 0 :", "-\t\t\t\tthis.dload_0();", "-\t\t\t\tbreak;", "-\t\t\tcase 1 :", "-\t\t\t\tthis.dload_1();", "-\t\t\t\tbreak;", "-\t\t\tcase 2 :", "-\t\t\t\tthis.dload_2();", "-\t\t\t\tbreak;", "-\t\t\tcase 3 :", "-\t\t\t\tthis.dload_3();", "-\t\t\t\tbreak;", "-\t\t\tdefault :", "-\t\t\t\tthis.dload(resolvedPosition);", "-\t\t}", "-\t\treturn;", "-\t}", "-\t// boolean, byte, char and short are handled as int", "-\tif ((typeBinding == TypeBinding.BYTE) || (typeBinding == TypeBinding.CHAR) || (typeBinding == TypeBinding.BOOLEAN) || (typeBinding == TypeBinding.SHORT)) {", "-\t\tswitch (resolvedPosition) {", "-\t\t\tcase 0 :", "-\t\t\t\tthis.iload_0();", "-\t\t\t\tbreak;", "-\t\t\tcase 1 :", "-\t\t\t\tthis.iload_1();", "-\t\t\t\tbreak;", "-\t\t\tcase 2 :", "-\t\t\t\tthis.iload_2();", "-\t\t\t\tbreak;", "-\t\t\tcase 3 :", "-\t\t\t\tthis.iload_3();", "-\t\t\t\tbreak;", "-\t\t\tdefault :", "-\t\t\t\tthis.iload(resolvedPosition);", "-\t\t}", "-\t\treturn;", "-\t}", "-", "-\t// Reference object", "-\tswitch (resolvedPosition) {", "-\t\tcase 0 :", "-\t\t\tthis.aload_0();", "-\t\t\tbreak;", "-\t\tcase 1 :", "-\t\t\tthis.aload_1();", "-\t\t\tbreak;", "-\t\tcase 2 :", "-\t\t\tthis.aload_2();", "-\t\t\tbreak;", "-\t\tcase 3 :", "-\t\t\tthis.aload_3();", "-\t\t\tbreak;", "-\t\tdefault :", "-\t\t\tthis.aload(resolvedPosition);", "-\t}", "+\tload(localBinding.type, localBinding.resolvedPosition);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4ccb0b951bbfc86d1a178473cdbed65c", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/CodeStream.java", "commitBeforeChange": "e6f197651cbdf07261298d2395f1290ce2dfe4c1", "commitAfterChange": "5a485cb39d1ee33622141cf426fac71c4bf93ded", "methodNumberBeforeChange": 290, "methodNumberAfterChange": 100, "signatureBeforeChange": " public final void store(TypeBinding type, int localPosition)", "signatureAfterChange": " public void generateEmulationForConstructor(Scope scope, MethodBinding methodBinding)", "diff": ["+}", "+public void generateEmulationForConstructor(Scope scope, MethodBinding methodBinding) {", "+\t// leave a java.lang.reflect.Field object on the stack", "+\tthis.ldc(String.valueOf(methodBinding.declaringClass.constantPoolName()).replace('/', '.'));", "+\tthis.invokeClassForName();", "+\tint paramLength = methodBinding.parameters.length;", "+\tthis.generateInlinedValue(paramLength);", "+\tthis.newArray(scope.createArrayType(scope.getType(TypeConstants.JAVA_LANG_CLASS, 3), 1));", "+\tif (paramLength > 0) {", "+\t\tthis.dup();", "+\t\tfor (int i = 0; i < paramLength; i++) {", "+\t\t\tthis.generateInlinedValue(i);\t", "+\t\t\tTypeBinding parameter = methodBinding.parameters[i];", "+\t\t\tif (parameter.isBaseType()) {", "+\t\t\t\tthis.getTYPE(parameter.id);", "+\t\t\t} else if (parameter.isArrayType()) {", "+\t\t\t\tArrayBinding array = (ArrayBinding)parameter;", "+\t\t\t\tif (array.leafComponentType.isBaseType()) {", "+\t\t\t\t\tthis.getTYPE(array.leafComponentType.id);", "+\t\t\t\t} else {", "+\t\t\t\t\tthis.ldc(String.valueOf(array.leafComponentType.constantPoolName()).replace('/', '.'));", "+\t\t\t\t\tthis.invokeClassForName();", "+\t\t\t\t}", "+\t\t\t\tint dimensions = array.dimensions;", "+\t\t\t\tthis.generateInlinedValue(dimensions);", "+\t\t\t\tthis.newarray(TypeIds.T_int);\t", "+\t\t\t\tthis.invokeArrayNewInstance();", "+\t\t\t\tthis.invokeObjectGetClass();", "+\t\t\t} else {", "+\t\t\t\t// parameter is a reference binding", "+\t\t\t\tthis.ldc(String.valueOf(methodBinding.declaringClass.constantPoolName()).replace('/', '.'));", "+\t\t\t\tthis.invokeClassForName();", "+\t\t\t}", "+\t\t\tthis.aastore();", "+\t\t\tif (i < paramLength - 1) {", "+\t\t\t\tthis.dup();", "+\t\t\t}", "+\t\t}", "+\t}", "+\tthis.invokeClassGetDeclaredConstructor();", "+\tthis.dup();", "+\tthis.iconst_1();", "+\tthis.invokeAccessibleObjectSetAccessible();", "+}", "-public final void store(TypeBinding type, int localPosition) {", "-\t// Using dedicated int bytecode", "-\tif ((type == TypeBinding.INT) || (type == TypeBinding.CHAR) || (type == TypeBinding.BYTE) || (type == TypeBinding.SHORT) || (type == TypeBinding.BOOLEAN)) {", "-\t\tswitch (localPosition) {", "-\t\t\tcase 0 :", "-\t\t\t\tthis.istore_0();", "-\t\t\t\tbreak;", "-\t\t\tcase 1 :", "-\t\t\t\tthis.istore_1();", "-\t\t\t\tbreak;", "-\t\t\tcase 2 :", "-\t\t\t\tthis.istore_2();", "-\t\t\t\tbreak;", "-\t\t\tcase 3 :", "-\t\t\t\tthis.istore_3();", "-\t\t\t\tbreak;", "-\t\t\tdefault :", "-\t\t\t\tthis.istore(localPosition);", "-\t\t}", "-\t\treturn;", "-\t}", "-\t// Using dedicated float bytecode", "-\tif (type == TypeBinding.FLOAT) {", "-\t\tswitch (localPosition) {", "-\t\t\tcase 0 :", "-\t\t\t\tthis.fstore_0();", "-\t\t\t\tbreak;", "-\t\t\tcase 1 :", "-\t\t\t\tthis.fstore_1();", "-\t\t\t\tbreak;", "-\t\t\tcase 2 :", "-\t\t\t\tthis.fstore_2();", "-\t\t\t\tbreak;", "-\t\t\tcase 3 :", "-\t\t\t\tthis.fstore_3();", "-\t\t\t\tbreak;", "-\t\t\tdefault :", "-\t\t\t\tthis.fstore(localPosition);", "-\t\t}", "-\t\treturn;", "-\t}", "-\t// Using dedicated long bytecode", "-\tif (type == TypeBinding.LONG) {", "-\t\tswitch (localPosition) {", "-\t\t\tcase 0 :", "-\t\t\t\tthis.lstore_0();", "-\t\t\t\tbreak;", "-\t\t\tcase 1 :", "-\t\t\t\tthis.lstore_1();", "-\t\t\t\tbreak;", "-\t\t\tcase 2 :", "-\t\t\t\tthis.lstore_2();", "-\t\t\t\tbreak;", "-\t\t\tcase 3 :", "-\t\t\t\tthis.lstore_3();", "-\t\t\t\tbreak;", "-\t\t\tdefault :", "-\t\t\t\tthis.lstore(localPosition);", "-\t\t}", "-\t\treturn;", "-\t}", "-\t// Using dedicated double bytecode", "-\tif (type == TypeBinding.DOUBLE) {", "-\t\tswitch (localPosition) {", "-\t\t\tcase 0 :", "-\t\t\t\tthis.dstore_0();", "-\t\t\t\tbreak;", "-\t\t\tcase 1 :", "-\t\t\t\tthis.dstore_1();", "-\t\t\t\tbreak;", "-\t\t\tcase 2 :", "-\t\t\t\tthis.dstore_2();", "-\t\t\t\tbreak;", "-\t\t\tcase 3 :", "-\t\t\t\tthis.dstore_3();", "-\t\t\t\tbreak;", "-\t\t\tdefault :", "-\t\t\t\tthis.dstore(localPosition);", "-\t\t}", "-\t\treturn;", "-\t}", "-\t// Reference object", "-\tswitch (localPosition) {", "-\t\tcase 0 :", "-\t\t\tthis.astore_0();", "-\t\t\tbreak;", "-\t\tcase 1 :", "-\t\t\tthis.astore_1();", "-\t\t\tbreak;", "-\t\tcase 2 :", "-\t\t\tthis.astore_2();", "-\t\t\tbreak;", "-\t\tcase 3 :", "-\t\t\tthis.astore_3();", "-\t\t\tbreak;", "-\t\tdefault :", "-\t\t\tthis.astore(localPosition);", "-\t}", "-}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cda9782058023160a2e747dbb658df6d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/CodeStream.java", "commitBeforeChange": "e6f197651cbdf07261298d2395f1290ce2dfe4c1", "commitAfterChange": "5a485cb39d1ee33622141cf426fac71c4bf93ded", "methodNumberBeforeChange": 240, "methodNumberAfterChange": 259, "signatureBeforeChange": " public final void load(TypeBinding typeBinding, int resolvedPosition)", "signatureAfterChange": " public final void load(TypeBinding typeBinding, int resolvedPosition)", "diff": ["-\tif (typeBinding == TypeBinding.INT) {", "-\t\tswitch (resolvedPosition) {", "-\t\t\tcase 0 :", "-\t\t\t\tthis.iload_0();", "-\t\t\t\tbreak;", "-\t\t\tcase 1 :", "-\t\t\t\tthis.iload_1();", "-\t\t\t\tbreak;", "-\t\t\tcase 2 :", "-\t\t\t\tthis.iload_2();", "-\t\t\t\tbreak;", "-\t\t\tcase 3 :", "-\t\t\t\tthis.iload_3();", "-\t\t\t\tbreak;", "-\t\t\tdefault :", "-\t\t\t\tthis.iload(resolvedPosition);", "-\t\t}", "-\t\treturn;", "-\t}", "-\t// Using dedicated float bytecode", "-\tif (typeBinding == TypeBinding.FLOAT) {", "-\t\tswitch (resolvedPosition) {", "-\t\t\tcase 0 :", "-\t\t\t\tthis.fload_0();", "-\t\t\t\tbreak;", "-\t\t\tcase 1 :", "-\t\t\t\tthis.fload_1();", "-\t\t\t\tbreak;", "-\t\t\tcase 2 :", "-\t\t\t\tthis.fload_2();", "-\t\t\t\tbreak;", "-\t\t\tcase 3 :", "-\t\t\t\tthis.fload_3();", "-\t\t\t\tbreak;", "-\t\t\tdefault :", "-\t\t\t\tthis.fload(resolvedPosition);", "-\t\t}", "-\t\treturn;", "-\t}", "-\t// Using dedicated long bytecode", "-\tif (typeBinding == TypeBinding.LONG) {", "-\t\tswitch (resolvedPosition) {", "-\t\t\tcase 0 :", "-\t\t\t\tthis.lload_0();", "-\t\t\t\tbreak;", "-\t\t\tcase 1 :", "-\t\t\t\tthis.lload_1();", "-\t\t\t\tbreak;", "-\t\t\tcase 2 :", "-\t\t\t\tthis.lload_2();", "-\t\t\t\tbreak;", "-\t\t\tcase 3 :", "-\t\t\t\tthis.lload_3();", "-\t\t\t\tbreak;", "-\t\t\tdefault :", "-\t\t\t\tthis.lload(resolvedPosition);", "-\t\t}", "-\t\treturn;", "-\t}", "-\t// Using dedicated double bytecode", "-\tif (typeBinding == TypeBinding.DOUBLE) {", "-\t\tswitch (resolvedPosition) {", "-\t\t\tcase 0 :", "-\t\t\t\tthis.dload_0();", "-\t\t\t\tbreak;", "-\t\t\tcase 1 :", "-\t\t\t\tthis.dload_1();", "-\t\t\t\tbreak;", "-\t\t\tcase 2 :", "-\t\t\t\tthis.dload_2();", "-\t\t\t\tbreak;", "-\t\t\tcase 3 :", "-\t\t\t\tthis.dload_3();", "-\t\t\t\tbreak;", "-\t\t\tdefault :", "-\t\t\t\tthis.dload(resolvedPosition);", "-\t\t}", "-\t\treturn;", "-\t}", "-\t// boolean, byte, char and short are handled as int", "-\tif ((typeBinding == TypeBinding.BYTE) || (typeBinding == TypeBinding.CHAR) || (typeBinding == TypeBinding.BOOLEAN) || (typeBinding == TypeBinding.SHORT)) {", "-\t\tswitch (resolvedPosition) {", "-\t\t\tcase 0 :", "-\t\t\t\tthis.iload_0();", "-\t\t\t\tbreak;", "-\t\t\tcase 1 :", "-\t\t\t\tthis.iload_1();", "-\t\t\t\tbreak;", "-\t\t\tcase 2 :", "-\t\t\t\tthis.iload_2();", "-\t\t\t\tbreak;", "-\t\t\tcase 3 :", "-\t\t\t\tthis.iload_3();", "-\t\t\t\tbreak;", "-\t\t\tdefault :", "-\t\t\t\tthis.iload(resolvedPosition);", "-\t\t}", "-\t\treturn;", "-\t}", "-", "-\t// Reference object", "-\tswitch (resolvedPosition) {", "-\t\tcase 0 :", "-\t\t\tthis.aload_0();", "+\tswitch(typeBinding.id) {", "+\t\tcase TypeIds.T_int :", "+\t\tcase TypeIds.T_byte :", "+\t\tcase TypeIds.T_char :", "+\t\tcase TypeIds.T_boolean :", "+\t\tcase TypeIds.T_short :", "+\t\t\tswitch (resolvedPosition) {", "+\t\t\t\tcase 0 :", "+\t\t\t\t\tthis.iload_0();", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase 1 :", "+\t\t\t\t\tthis.iload_1();", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase 2 :", "+\t\t\t\t\tthis.iload_2();", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase 3 :", "+\t\t\t\t\tthis.iload_3();", "+\t\t\t\t\tbreak;", "+\t\t\t\t//case -1 :", "+\t\t\t\t// internal failure: trying to load variable not supposed to be generated", "+\t\t\t\t//\tbreak;", "+\t\t\t\tdefault :", "+\t\t\t\t\tthis.iload(resolvedPosition);", "+\t\t\t}", "-\t\tcase 1 :", "-\t\t\tthis.aload_1();", "+\t\tcase TypeIds.T_float :", "+\t\t\tswitch (resolvedPosition) {", "+\t\t\t\tcase 0 :", "+\t\t\t\t\tthis.fload_0();", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase 1 :", "+\t\t\t\t\tthis.fload_1();", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase 2 :", "+\t\t\t\t\tthis.fload_2();", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase 3 :", "+\t\t\t\t\tthis.fload_3();", "+\t\t\t\t\tbreak;", "+\t\t\t\tdefault :", "+\t\t\t\t\tthis.fload(resolvedPosition);", "+\t\t\t}", "-\t\tcase 2 :", "-\t\t\tthis.aload_2();", "+\t\tcase TypeIds.T_long :", "+\t\t\tswitch (resolvedPosition) {", "+\t\t\t\tcase 0 :", "+\t\t\t\t\tthis.lload_0();", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase 1 :", "+\t\t\t\t\tthis.lload_1();", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase 2 :", "+\t\t\t\t\tthis.lload_2();", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase 3 :", "+\t\t\t\t\tthis.lload_3();", "+\t\t\t\t\tbreak;", "+\t\t\t\tdefault :", "+\t\t\t\t\tthis.lload(resolvedPosition);", "+\t\t\t}", "-\t\tcase 3 :", "-\t\t\tthis.aload_3();", "+\t\tcase TypeIds.T_double :", "+\t\t\tswitch (resolvedPosition) {", "+\t\t\t\tcase 0 :", "+\t\t\t\t\tthis.dload_0();", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase 1 :", "+\t\t\t\t\tthis.dload_1();", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase 2 :", "+\t\t\t\t\tthis.dload_2();", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase 3 :", "+\t\t\t\t\tthis.dload_3();", "+\t\t\t\t\tbreak;", "+\t\t\t\tdefault :", "+\t\t\t\t\tthis.dload(resolvedPosition);", "+\t\t\t}", "-\t\t\tthis.aload(resolvedPosition);", "+\t\t\tswitch (resolvedPosition) {", "+\t\t\t\tcase 0 :", "+\t\t\t\t\tthis.aload_0();", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase 1 :", "+\t\t\t\t\tthis.aload_1();", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase 2 :", "+\t\t\t\t\tthis.aload_2();", "+\t\t\t\t\tbreak;", "+\t\t\t\tcase 3 :", "+\t\t\t\t\tthis.aload_3();", "+\t\t\t\t\tbreak;", "+\t\t\t\tdefault :", "+\t\t\t\t\tthis.aload(resolvedPosition);", "+\t\t\t}"]}], "num": 57005}