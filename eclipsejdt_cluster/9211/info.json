{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f2c1dce6034c4945c68677a861d8d85b", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "54111b2f26322d50409645fbf73db080", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/ASTConverter.java", "commitBeforeChange": "b42e8d4e3737175b925c20ff2d83cccd857d4944", "commitAfterChange": "b3031b3455034eac76b444fd20cbebeea6a2f5ff", "methodNumberBeforeChange": 169, "methodNumberAfterChange": 171, "signatureBeforeChange": "  \tprotected void setTypeForField(FieldDeclaration fieldDeclaration, Type type, int extraDimension)", "signatureAfterChange": "  \tprotected void setTypeForField(FieldDeclaration fieldDeclaration, Type type, int extraDimension)", "diff": ["-\t\t\t\t\tint start = type.getStartPosition();", "-\t\t\t\t\tArrayType subarrayType = arrayType;", "-\t\t\t\t\tint index = extraDimension;", "-\t\t\t\t\twhile (index > 0) {", "-\t\t\t\t\t\tsubarrayType = (ArrayType) subarrayType.getComponentType();", "-\t\t\t\t\t\tindex--;", "-\t\t\t\t\t}", "-\t\t\t\t\tint end = retrieveProperRightBracketPosition(remainingDimensions, start);", "-\t\t\t\t\tsubarrayType.setSourceRange(start, end - start + 1);", "-\t\t\t\t\t// cut the child loose from its parent (without creating garbage)", "-\t\t\t\t\tsubarrayType.setParent(null, null);", "+\t\t\t\t\tArrayType subarrayType = extractSubArrayType(arrayType, remainingDimensions, extraDimension);", "-\t\t\t\t\tupdateInnerPositions(subarrayType, remainingDimensions);", "+\t\t\t\tcheckAndSetMalformed(type, fieldDeclaration);", "-\t\t\tif (type.isArrayType()) {", "+\t\t\tif (type.isArrayType() && (this.ast.apiLevel() < AST.JLS8)) {", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a6111efe0fcbc051eef442013c50a39b", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/ASTConverter.java", "commitBeforeChange": "b42e8d4e3737175b925c20ff2d83cccd857d4944", "commitAfterChange": "b3031b3455034eac76b444fd20cbebeea6a2f5ff", "methodNumberBeforeChange": 172, "methodNumberAfterChange": 175, "signatureBeforeChange": "  \tprotected void setTypeForSingleVariableDeclaration(SingleVariableDeclaration singleVariableDeclaration, Type type, int extraDimension)", "signatureAfterChange": "  \tprotected void setTypeForSingleVariableDeclaration(SingleVariableDeclaration singleVariableDeclaration, Type type, int extraDimension)", "diff": ["-\t\t\t\t\tint start = type.getStartPosition();", "-\t\t\t\t\tArrayType subarrayType = arrayType;", "-\t\t\t\t\tint index = extraDimension;", "-\t\t\t\t\twhile (index > 0) {", "-\t\t\t\t\t\tsubarrayType = (ArrayType) subarrayType.getComponentType();", "-\t\t\t\t\t\tindex--;", "-\t\t\t\t\t}", "-\t\t\t\t\tint end = retrieveProperRightBracketPosition(remainingDimensions, start);", "-\t\t\t\t\tsubarrayType.setSourceRange(start, end - start + 1);", "-\t\t\t\t\t// cut the child loose from its parent (without creating garbage)", "-\t\t\t\t\tsubarrayType.setParent(null, null);", "-\t\t\t\t\tupdateInnerPositions(subarrayType, remainingDimensions);", "-\t\t\t\t\tsingleVariableDeclaration.setType(subarrayType);", "+\t\t\t\t\tArrayType subarrayType = extractSubArrayType(arrayType, remainingDimensions, extraDimension);", "+\t\t\t\t\tsingleVariableDeclaration.setType(subarrayType);", "+\t\t\t\tcheckAndSetMalformed(type, singleVariableDeclaration);", "+\t\t\t\t\t"]}], "num": 9211}