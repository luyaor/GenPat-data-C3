{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "22a137d3ecd829329d9163b5113ab592", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0ce1611df0bf106f1436ad97659413d2", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/BinaryType.java", "commitBeforeChange": "9a282e201d7bcf805a911be644106295038b1f1b", "commitAfterChange": "e6d78cda375a26ce6fdb882d62ed50fe3c6a25b5", "methodNumberBeforeChange": 68, "methodNumberAfterChange": 68, "signatureBeforeChange": " public String getAttachedJavadoc(IProgressMonitor monitor, String defaultEncoding) throws JavaModelException", "signatureAfterChange": " public String getAttachedJavadoc(IProgressMonitor monitor, String defaultEncoding) throws JavaModelException", "diff": ["+\tfinal String contents = getJavadocContents(monitor, defaultEncoding);", "+\tif (contents == null) throw new JavaModelException(new JavaModelStatus(IJavaModelStatusConstants.CANNOT_RETRIEVE_ATTACHED_JAVADOC, this));", "+\tfinal int indexOfStartOfClassData = contents.indexOf(JavadocConstants.START_OF_CLASS_DATA);", "+\tif (indexOfStartOfClassData == -1) throw new JavaModelException(new JavaModelStatus(IJavaModelStatusConstants.UNKNOWN_JAVADOC_FORMAT, this));", "+\tint indexOfNextSummary = contents.indexOf(JavadocConstants.NESTED_CLASS_SUMMARY);", "+\tif (indexOfNextSummary == -1) {", "+\t\t// try to find constructor summary start", "+\t\tindexOfNextSummary = contents.indexOf(JavadocConstants.CONSTRUCTOR_SUMMARY);", "+\t}", "+\tif (indexOfNextSummary == -1) {", "+\t\t// try to find method summary start", "+\t\tindexOfNextSummary = contents.indexOf(JavadocConstants.METHOD_SUMMARY);", "+\t}", "+\tif (indexOfNextSummary == -1) {", "+\t\t// we take the end of class data", "+\t\tindexOfNextSummary = contents.indexOf(JavadocConstants.END_OF_CLASS_DATA);", "+\t}", "+\tif (indexOfNextSummary == -1) {", "+\t\tthrow new JavaModelException(new JavaModelStatus(IJavaModelStatusConstants.UNKNOWN_JAVADOC_FORMAT, this));", "+\t}", "+\treturn contents.substring(indexOfStartOfClassData + JavadocConstants.START_OF_CLASS_DATA_LENGTH, indexOfNextSummary);", "+}", "-\tif (monitor != null && monitor.isCanceled()) throw new OperationCanceledException();", "-\tif (contents == null) throw new JavaModelException(new JavaModelStatus(IJavaModelStatusConstants.CANNOT_RETRIEVE_ATTACHED_JAVADOC, this));", "-\tfinal int indexOfStartOfClassData = contents.indexOf(JavadocConstants.START_OF_CLASS_DATA);", "-\tif (indexOfStartOfClassData == -1) throw new JavaModelException(new JavaModelStatus(IJavaModelStatusConstants.UNRECOGNIZED_JAVADOC_FORMAT, this));", "-\tint indexOfNextSummary = contents.indexOf(JavadocConstants.NESTED_CLASS_SUMMARY);", "-\tif (indexOfNextSummary == -1) {", "-\t\t// try to find constructor summary start", "-\t\tindexOfNextSummary = contents.indexOf(JavadocConstants.CONSTRUCTOR_SUMMARY);", "-\t}", "-\tif (indexOfNextSummary == -1) {", "-\t\t// try to find method summary start", "-\t\tindexOfNextSummary = contents.indexOf(JavadocConstants.METHOD_SUMMARY);", "-\t}", "-\tif (indexOfNextSummary == -1) {", "-\t\t// we take the end of class data", "-\t\tindexOfNextSummary = contents.indexOf(JavadocConstants.END_OF_CLASS_DATA);", "-\t}", "-\tif (indexOfNextSummary == -1) {", "-\t\tthrow new JavaModelException(new JavaModelStatus(IJavaModelStatusConstants.UNRECOGNIZED_JAVADOC_FORMAT, this));", "-\t}", "-\treturn contents.substring(indexOfStartOfClassData + JavadocConstants.START_OF_CLASS_DATA_LENGTH, indexOfNextSummary);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "210837fa0c2d331dab2d5008813052ba", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/BinaryType.java", "commitBeforeChange": "5df75ce3074574b9ceea64411eeaa18313a445b2", "commitAfterChange": "418c3c32abb13732045765a3a2278937dc9fd129", "methodNumberBeforeChange": 70, "methodNumberAfterChange": 70, "signatureBeforeChange": " public String getAttachedJavadoc(IProgressMonitor monitor) throws JavaModelException", "signatureAfterChange": " public String getAttachedJavadoc(IProgressMonitor monitor) throws JavaModelException", "diff": ["-\tfinal String contents = getJavadocContents(monitor);", "-\tif (contents == null) return null;", "-\tfinal int indexOfStartOfClassData = contents.indexOf(JavadocConstants.START_OF_CLASS_DATA);", "-\tif (indexOfStartOfClassData == -1) throw new JavaModelException(new JavaModelStatus(IJavaModelStatusConstants.UNKNOWN_JAVADOC_FORMAT, this));", "-\tint indexOfNextSummary = contents.indexOf(JavadocConstants.NESTED_CLASS_SUMMARY);", "-\tif (isEnum() && indexOfNextSummary == -1) {", "-\t\t// try to find enum constant summary start", "-\t\tindexOfNextSummary = contents.indexOf(JavadocConstants.ENUM_CONSTANT_SUMMARY);", "-\t}", "-\tif (isAnnotation() && indexOfNextSummary == -1) {", "-\t\t// try to find required enum constant summary start", "-\t\tindexOfNextSummary = contents.indexOf(JavadocConstants.ANNOTATION_TYPE_REQUIRED_MEMBER_SUMMARY);", "-\t\tif (indexOfNextSummary == -1) {", "-\t\t\t// try to find optional enum constant summary start", "-\t\t\tindexOfNextSummary = contents.indexOf(JavadocConstants.ANNOTATION_TYPE_OPTIONAL_MEMBER_SUMMARY);", "-\t\t}", "-\t}", "-\tif (indexOfNextSummary == -1) {", "-\t\t// try to find field summary start", "-\t\tindexOfNextSummary = contents.indexOf(JavadocConstants.FIELD_SUMMARY);", "-\t}", "-\tif (indexOfNextSummary == -1) {", "-\t\t// try to find constructor summary start", "-\t\tindexOfNextSummary = contents.indexOf(JavadocConstants.CONSTRUCTOR_SUMMARY);", "-\t}", "-\tif (indexOfNextSummary == -1) {", "-\t\t// try to find method summary start", "-\t\tindexOfNextSummary = contents.indexOf(JavadocConstants.METHOD_SUMMARY);", "-\t}", "-\tif (indexOfNextSummary == -1) {", "-\t\t// we take the end of class data", "-\t\tindexOfNextSummary = contents.indexOf(JavadocConstants.END_OF_CLASS_DATA);", "-\t}", "-\tif (indexOfNextSummary == -1) {", "-\t\tthrow new JavaModelException(new JavaModelStatus(IJavaModelStatusConstants.UNKNOWN_JAVADOC_FORMAT, this));", "-\t}", "-\t/*", "-\t * Check out to cut off the hierarchy see 119844", "-\t * We remove what the contents between the start of class data and the first <P>", "-\t */", "-\tint start = indexOfStartOfClassData + JavadocConstants.START_OF_CLASS_DATA_LENGTH;", "-\tint indexOfFirstParagraph = contents.indexOf(\"<P>\", start); //$NON-NLS-1$", "-\tif (indexOfFirstParagraph == -1) {", "-\t\tindexOfFirstParagraph = contents.indexOf(\"<p>\", start); //$NON-NLS-1$", "-\t}", "-\tif (indexOfFirstParagraph != -1 && indexOfFirstParagraph < indexOfNextSummary) {", "-\t\tstart = indexOfFirstParagraph;", "-\t}", "-\treturn contents.substring(start, indexOfNextSummary);", "+\tJavadocContents javadocContents = getJavadocContents(monitor);", "+\tif (javadocContents == null) return null;", "+\treturn javadocContents.getTypeDoc();"]}], "num": 4460}