{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3ef983869d7138a5d7f794683ce2e311", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a56af801cb68b5b1a0fdb7f5f82788d5", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaSearchBugsTests.java", "commitBeforeChange": "457fc77ec96140a15fc3e1c18bbf7bf53c7ea1c9", "commitAfterChange": "44074e366655e2cf89768617c1e64463f5949123", "methodNumberBeforeChange": 26, "methodNumberAfterChange": 25, "signatureBeforeChange": " \tpublic void testBug77093constructor() throws CoreException", "signatureAfterChange": " \tpublic void testBug77093constructor() throws CoreException", "diff": ["-\t\tICompilationUnit workingCopy = null;", "-\t\ttry {", "-\t\t\tworkingCopy = getWorkingCopy(\"/JavaSearchBugs/src/b77093/X.java\",", "-\t\t\t\t\"package b77093;\\n\" + ", "-\t\t\t\t\"public class X {\\n\" + ", "-\t\t\t\t\"\tclass Z {\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"\tZ[][] z_arrays;\\n\" + ", "-\t\t\t\t\"\tX() {\\n\" + ", "-\t\t\t\t\"\t\tthis(new Z[10][]);\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"\tX(Z[][] arrays) {\\n\" + ", "-\t\t\t\t\"\t\tz_arrays = arrays;\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"\tprivate void foo(Z[] args) {\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"\tvoid bar() {\\n\" + ", "-\t\t\t\t\"\t\tfor (int i=0; i<z_arrays.length; i++)\\n\" + ", "-\t\t\t\t\"\t\t\tfoo(z_arrays[i]);\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"}\");", "-\t\t\tIType type = workingCopy.getType(\"X\");", "-\t\t\tIMethod method = type.getMethod(\"X\", new String[] {\"[[QZ;\"});", "-\t\t\t// Search for constructor declarations and references", "-\t\t\tsearch(method, ALL_OCCURRENCES);", "-\t\t\tassertSearchResults(", "-\t\t\t\t\"src/b77093/X.java b77093.X() [this(new Z[10][])] EXACT_MATCH\\n\"+", "-\t\t\t\t\"src/b77093/X.java b77093.X(Z[][]) [X] EXACT_MATCH\"", "-\t\t\t);", "-\t\t}", "-\t\tfinally {", "-\t\t\tif (workingCopy != null)", "-\t\t\t\tworkingCopy.discardWorkingCopy();", "-\t\t}", "+\t\tworkingCopies = new ICompilationUnit[1];", "+\t\tworkingCopies[0] = getWorkingCopy(\"/JavaSearchBugs/src/b77093/X.java\",", "+\t\t\t\"package b77093;\\n\" + ", "+\t\t\t\"public class X {\\n\" + ", "+\t\t\t\"\tclass Z {\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"\tZ[][] z_arrays;\\n\" + ", "+\t\t\t\"\tX() {\\n\" + ", "+\t\t\t\"\t\tthis(new Z[10][]);\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"\tX(Z[][] arrays) {\\n\" + ", "+\t\t\t\"\t\tz_arrays = arrays;\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"\tprivate void foo(Z[] args) {\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"\tvoid bar() {\\n\" + ", "+\t\t\t\"\t\tfor (int i=0; i<z_arrays.length; i++)\\n\" + ", "+\t\t\t\"\t\t\tfoo(z_arrays[i]);\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"}\");", "+\t\tIType type = workingCopies[0].getType(\"X\");", "+\t\tIMethod method = type.getMethod(\"X\", new String[] {\"[[QZ;\"});", "+\t\t// Search for constructor declarations and references", "+\t\tsearch(method, ALL_OCCURRENCES);", "+\t\tassertSearchResults(", "+\t\t\t\"src/b77093/X.java b77093.X() [this(new Z[10][])] EXACT_MATCH\\n\"+", "+\t\t\t\"src/b77093/X.java b77093.X(Z[][]) [X] EXACT_MATCH\"", "+\t\t);", "+\t\t// keep working copies for next test", "+\t\tdiscard = false;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c33cd96c2ad58099dcb493444b74bdf5", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaSearchBugsTests.java", "commitBeforeChange": "457fc77ec96140a15fc3e1c18bbf7bf53c7ea1c9", "commitAfterChange": "44074e366655e2cf89768617c1e64463f5949123", "methodNumberBeforeChange": 37, "methodNumberAfterChange": 42, "signatureBeforeChange": " \tpublic void testBug80890() throws CoreException, JavaModelException", "signatureAfterChange": " \tpublic void testBug80890() throws CoreException, JavaModelException", "diff": ["-\t\tICompilationUnit workingCopy = null;", "-\t\ttry {", "-\t\t\tworkingCopy = getWorkingCopy(\"/JavaSearchBugs/src/b80890/A.java\",", "-\t\t\t\t\"package b80890;\\n\" + ", "-\t\t\t\t\"public class A {\\n\" + ", "-\t\t\t\t\"\tprotected void foo(Exception e) {}\\n\" + ", "-\t\t\t\t\"\tprotected void foo(String s) {}\\n\" + ", "-\t\t\t\t\"}\\n\" + ", "-\t\t\t\t\"class B1 extends A {\\n\" + ", "-\t\t\t\t\"\tpublic void bar1() {\\n\" + ", "-\t\t\t\t\"\t\tfoo(null);\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"}\\n\" + ", "-\t\t\t\t\"class B2 extends A {\\n\" + ", "-\t\t\t\t\"\tpublic void bar2() {\\n\" + ", "-\t\t\t\t\"\t\tfoo(null);\\n\" + ", "-\t\t\t\t\"\t}\\n\" + ", "-\t\t\t\t\"}\\n\"", "-\t\t\t\t);", "-\t\t\t// search for first and second method should both return 2 inaccurate matches", "-\t\t\tIType type = workingCopy.getType(\"A\");", "-\t\t\tIMethod method = type.getMethods()[0];", "-\t\t\tsearch(method, REFERENCES);", "-\t\t\tmethod = type.getMethods()[1];", "-\t\t\tsearch(method, REFERENCES);", "-\t\t\tassertSearchResults(", "-\t\t\t\t\"src/b80890/A.java void b80890.B1.bar1() [foo(null)] POTENTIAL_MATCH\\n\" + ", "-\t\t\t\t\"src/b80890/A.java void b80890.B2.bar2() [foo(null)] POTENTIAL_MATCH\\n\" + ", "-\t\t\t\t\"src/b80890/A.java void b80890.B1.bar1() [foo(null)] POTENTIAL_MATCH\\n\" + ", "-\t\t\t\t\"src/b80890/A.java void b80890.B2.bar2() [foo(null)] POTENTIAL_MATCH\"", "+\t\tworkingCopies = new ICompilationUnit[1];", "+\t\tworkingCopies[0] = getWorkingCopy(\"/JavaSearchBugs/src/b80890/A.java\",", "+\t\t\t\"package b80890;\\n\" + ", "+\t\t\t\"public class A {\\n\" + ", "+\t\t\t\"\tprotected void foo(Exception e) {}\\n\" + ", "+\t\t\t\"\tprotected void foo(String s) {}\\n\" + ", "+\t\t\t\"}\\n\" + ", "+\t\t\t\"class B1 extends A {\\n\" + ", "+\t\t\t\"\tpublic void bar1() {\\n\" + ", "+\t\t\t\"\t\tfoo(null);\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"}\\n\" + ", "+\t\t\t\"class B2 extends A {\\n\" + ", "+\t\t\t\"\tpublic void bar2() {\\n\" + ", "+\t\t\t\"\t\tfoo(null);\\n\" + ", "+\t\t\t\"\t}\\n\" + ", "+\t\t\t\"}\\n\"", "-\t\t}", "-\t\tfinally {", "-\t\t\tif (workingCopy != null)", "-\t\t\t\tworkingCopy.discardWorkingCopy();", "-\t\t}", "+\t\t// search for first and second method should both return 2 inaccurate matches", "+\t\tIType type = workingCopies[0].getType(\"A\");", "+\t\tIMethod method = type.getMethods()[0];", "+\t\tsearch(method, REFERENCES);", "+\t\tmethod = type.getMethods()[1];", "+\t\tsearch(method, REFERENCES);", "+\t\tassertSearchResults(", "+\t\t\t\"src/b80890/A.java void b80890.B1.bar1() [foo(null)] POTENTIAL_MATCH\\n\" + ", "+\t\t\t\"src/b80890/A.java void b80890.B2.bar2() [foo(null)] POTENTIAL_MATCH\\n\" + ", "+\t\t\t\"src/b80890/A.java void b80890.B1.bar1() [foo(null)] POTENTIAL_MATCH\\n\" + ", "+\t\t\t\"src/b80890/A.java void b80890.B2.bar2() [foo(null)] POTENTIAL_MATCH\"", "+\t\t);"]}], "num": 24991}