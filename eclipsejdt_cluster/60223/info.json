{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "79f4919a7733580d1743a723279cdf1f", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8c3cf08274b27e22555aca4cd3a5088f", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/CompilationUnitStructureRequestor.java", "commitBeforeChange": "8d96b52b3ee6d748bf52fa2774ac5cb71b98586d", "commitAfterChange": "fb3a08eec3c3ef8e80508685d28be0e6a5d41be7", "methodNumberBeforeChange": 32, "methodNumberAfterChange": 32, "signatureBeforeChange": " protected void resolveDuplicates(SourceRefElement handle)", "signatureAfterChange": " protected void resolveDuplicates(SourceRefElement handle)", "diff": ["-\twhile (this.newElements.containsKey(handle)) {", "-\t\thandle.occurrenceCount++;", "+\tint occurenceCount = this.occurenceCounts.get(handle);", "+\tif (occurenceCount == -1)", "+\t\tthis.occurenceCounts.put(handle, 1);", "+\telse {", "+\t\tthis.occurenceCounts.put(handle, ++occurenceCount);", "+\t\thandle.occurrenceCount = occurenceCount;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cbeb29dcb7a66be42bde870b5a70ed28", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/CompilationUnitStructureRequestor.java", "commitBeforeChange": "189e4902a8cd4c72cdcb57f23d61ddb627236e43", "commitAfterChange": "02009b41ec945f5cfcf629234ac75cbc76ce6809", "methodNumberBeforeChange": 34, "methodNumberAfterChange": 34, "signatureBeforeChange": " protected void resolveDuplicates(SourceRefElement handle)", "signatureAfterChange": " protected void resolveDuplicates(SourceRefElement handle)", "diff": ["+", "+\t// https://bugs.eclipse.org/bugs/show_bug.cgi?id=342393", "+\t// For anonymous source types, the occurrence count should be in the context", "+\t// of the enclosing type.", "+\tif (handle instanceof SourceType && handle.getElementName().length() == 0) {", "+\t\tObject key = handle.getParent().getAncestor(IJavaElement.TYPE);", "+\t\toccurenceCount = this.localOccurrenceCounts.get(key);", "+\t\tif (occurenceCount == -1)", "+\t\t\tthis.localOccurrenceCounts.put(key, 1);", "+\t\telse {", "+\t\t\tthis.localOccurrenceCounts.put(key, ++occurenceCount);", "+\t\t\t((SourceType)handle).localOccurrenceCount = occurenceCount;", "+\t\t}", "+\t}"]}], "num": 60223}