{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "940cbfa31abdfce42c206a02c3de24dc", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6c85e77eea9f31fe2698cca1f9a71693", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/parser/RecoveredField.java", "commitBeforeChange": "c11f54b96467c7e64bf80849ce30a605b9889eee", "commitAfterChange": "dbff9f719b19fdbf4bbd42aae594729f90b95407", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": " public FieldDeclaration updatedFieldDeclaration()", "signatureAfterChange": " public FieldDeclaration updatedFieldDeclaration()", "diff": ["-\t\t\t\tif (anonymousTypes[i].preserveContent){", "-\t\t\t\t\tfieldDeclaration.initialization = this.anonymousTypes[i].updatedTypeDeclaration().allocation;", "+\t\t\t\tRecoveredType recoveredType = anonymousTypes[i];", "+\t\t\t\tTypeDeclaration typeDeclaration = recoveredType.typeDeclaration;", "+\t\t\t\tif(typeDeclaration.declarationSourceEnd == 0) {", "+\t\t\t\t\ttypeDeclaration.declarationSourceEnd = this.fieldDeclaration.declarationSourceEnd;", "+\t\t\t\t\ttypeDeclaration.bodyEnd = this.fieldDeclaration.declarationSourceEnd;", "+\t\t\t\t}", "+\t\t\t\tif (recoveredType.preserveContent){", "+\t\t\t\t\tfieldDeclaration.initialization = recoveredType.updatedTypeDeclaration().allocation;", "-\t\t\t\tif (anonymousTypes[i].preserveContent){", "-\t\t\t\t\tthis.anonymousTypes[i].updatedTypeDeclaration();", "+\t\t\t\tRecoveredType recoveredType = anonymousTypes[i];", "+\t\t\t\tTypeDeclaration typeDeclaration = recoveredType.typeDeclaration;", "+\t\t\t\tif(typeDeclaration.declarationSourceEnd == 0) {", "+\t\t\t\t\ttypeDeclaration.declarationSourceEnd = this.fieldDeclaration.declarationSourceEnd;", "+\t\t\t\t\ttypeDeclaration.bodyEnd = this.fieldDeclaration.declarationSourceEnd;", "+\t\t\t\t}", "+\t\t\t\tif (recoveredType.preserveContent){", "+\t\t\t\t\trecoveredType.updatedTypeDeclaration();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d7a10658ba518685710d4d8a21c10cbf", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/parser/RecoveredType.java", "commitBeforeChange": "0534618c17c0b5f6c361eb5acf9c22731255984f", "commitAfterChange": "d85ef445439a7932d1fe7c7dafa9bf16e2d2dd51", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": " public TypeDeclaration updatedTypeDeclaration()", "signatureAfterChange": " public TypeDeclaration updatedTypeDeclaration()", "diff": ["-", "+\tint lastEnd = typeDeclaration.bodyStart;", "+\t\tif(memberTypeDeclarations[memberTypeDeclarations.length - 1].declarationSourceEnd > lastEnd) {", "+\t\t\tlastEnd = memberTypeDeclarations[memberTypeDeclarations.length - 1].declarationSourceEnd;", "+\t\t}", "+\t\tif(fieldDeclarations[fieldDeclarations.length - 1].declarationSourceEnd > lastEnd) {", "+\t\t\tlastEnd = fieldDeclarations[fieldDeclarations.length - 1].declarationSourceEnd;", "+\t\t}", "+\t\tif(methodDeclarations[methodDeclarations.length - 1].declarationSourceEnd > lastEnd) {", "+\t\t\tlastEnd = methodDeclarations[methodDeclarations.length - 1].declarationSourceEnd;", "+\t\t}", "+\tif(typeDeclaration.declarationSourceEnd == 0) {", "+\t\ttypeDeclaration.declarationSourceEnd = lastEnd;", "+\t\ttypeDeclaration.bodyEnd = lastEnd;", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e77b15cb005a8ff95af99df9330d3dec", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/CodeFormatter.java", "commitBeforeChange": "e6520c1e77e2f531562a5ecb5b56ab768c03d04f", "commitAfterChange": "c20a93f1a4de74304d3924bd744f9738c84aaf03", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "\r \tprivate void flushBuffer()", "signatureAfterChange": "\r \tprivate void flushBuffer()", "diff": ["-\t\tupdateMappedPositions(scanner.startPosition);\t\r", "+\t\tint scannerSourceLength = scanner.source.length;\r", "+\t\tif (scanner.source[scannerSourceLength - 1] == '\\n' && \r", "+\t\t\tscanner.source[scannerSourceLength - 2] == '\\r') {\r", "+\t\t\t\tformattedSource.append(options.lineSeparatorSequence);\r", "+\t\t\t\tincreaseGlobalDelta(options.lineSeparatorSequence.length - 2);\r", "+\t\t} else if (scanner.source[scannerSourceLength - 1] == '\\n') {\r", "+\t\t\tformattedSource.append(options.lineSeparatorSequence);\r", "+\t\t\tincreaseGlobalDelta(options.lineSeparatorSequence.length - 1);\r", "+\t\t} else if (scanner.source[scannerSourceLength - 1] == '\\r') {\r", "+\t\t\tformattedSource.append(options.lineSeparatorSequence);\r", "+\t\t\tincreaseGlobalDelta(options.lineSeparatorSequence.length - 1);\r", "+\t\t}\r", "+\t\tupdateMappedPositions(scanner.startPosition);\r"]}], "num": 6983}