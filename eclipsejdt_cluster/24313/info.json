{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "598cddaffcd498dfe7aa360e18a8a345", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b1d6c185b5488cbcd24fc4122eadb3d3", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaSearchBugsTests.java", "commitBeforeChange": "457fc77ec96140a15fc3e1c18bbf7bf53c7ea1c9", "commitAfterChange": "44074e366655e2cf89768617c1e64463f5949123", "methodNumberBeforeChange": 34, "methodNumberAfterChange": 33, "signatureBeforeChange": " \tpublic void testBug79860() throws CoreException", "signatureAfterChange": " \tpublic void testBug79860() throws CoreException", "diff": ["-\t\tICompilationUnit[] workingCopies = new ICompilationUnit[2];", "-\t\ttry {", "-\t\t\tWorkingCopyOwner owner = new WorkingCopyOwner() {};", "-\t\t\tworkingCopies[0] = getWorkingCopy(\"/JavaSearchBugs/src/b79860/X.java\",", "-\t\t\t\t\"package b79860;\\n\" + ", "-\t\t\t\t\"public class X<T extends A> { }\\n\" + ", "-\t\t\t\t\"class A { }\",", "-\t\t\t\towner", "-\t\t\t\t);", "-\t\t\tworkingCopies[1] = getWorkingCopy(\"/JavaSearchBugs/src/b79860/Y.java\",", "-\t\t\t\t\"package b79860;\\n\" + ", "-\t\t\t\t\"public class Y<T extends B&I1&I2&I3> { }\\n\" + ", "-\t\t\t\t\"class B { }\\n\" + ", "-\t\t\t\t\"interface I1 {}\\n\" + ", "-\t\t\t\t\"interface I2 {}\\n\" + ", "-\t\t\t\t\"interface I3 {}\\n\",", "-\t\t\t\towner,", "-\t\t\t\ttrue);", "-\t\t\t// search for first and second method should both return 2 inaccurate matches", "-\t\t\tIType type = workingCopies[0].getType(\"A\");", "-\t\t\tsearch(type,", "-\t\t\t\tREFERENCES,", "-\t\t\t\tgetJavaSearchScopeBugs(\"b79860\", false), ", "-\t\t\t\tthis.resultCollector);", "-\t\t\tassertSearchResults(", "-\t\t\t\t\"src/b79860/X.java b79860.X [A] EXACT_MATCH\"", "-\t\t\t);", "-\t\t}", "-\t\tfinally {", "-\t\t\tdiscardWorkingCopies(workingCopies);", "-\t\t}", "+\t\tworkingCopies = new ICompilationUnit[2];", "+\t\tWorkingCopyOwner owner = new WorkingCopyOwner() {};", "+\t\tworkingCopies[0] = getWorkingCopy(\"/JavaSearchBugs/src/b79860/X.java\",", "+\t\t\t\"package b79860;\\n\" + ", "+\t\t\t\"public class X<T extends A> { }\\n\" + ", "+\t\t\t\"class A { }\",", "+\t\t\towner,", "+\t\t\ttrue);", "+\t\tworkingCopies[1] = getWorkingCopy(\"/JavaSearchBugs/src/b79860/Y.java\",", "+\t\t\t\"package b79860;\\n\" + ", "+\t\t\t\"public class Y<T extends B&I1&I2&I3> { }\\n\" + ", "+\t\t\t\"class B { }\\n\" + ", "+\t\t\t\"interface I1 {}\\n\" + ", "+\t\t\t\"interface I2 {}\\n\" + ", "+\t\t\t\"interface I3 {}\\n\",", "+\t\t\towner,", "+\t\t\ttrue);", "+\t\tIType type = workingCopies[0].getType(\"A\");", "+\t\tsearch(type, REFERENCES, getJavaSearchScopeBugs(\"b79860\", false));", "+\t\tassertSearchResults(", "+\t\t\t\"src/b79860/X.java b79860.X [A] EXACT_MATCH\"", "+\t\t);", "+\t\t// keep working copies for next test", "+\t\tdiscard = false;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e17ca9d07151419d2bf1b38d250457ce", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaSearchBugsTests.java", "commitBeforeChange": "457fc77ec96140a15fc3e1c18bbf7bf53c7ea1c9", "commitAfterChange": "44074e366655e2cf89768617c1e64463f5949123", "methodNumberBeforeChange": 36, "methodNumberAfterChange": 41, "signatureBeforeChange": " \tpublic void testBug80223() throws CoreException", "signatureAfterChange": " \tpublic void testBug80223() throws CoreException", "diff": ["-\t\tICompilationUnit[] workingCopies = new ICompilationUnit[2];", "-\t\ttry {", "-\t\t\tWorkingCopyOwner owner = new WorkingCopyOwner() {};", "-\t\t\tworkingCopies[0] = getWorkingCopy(\"/JavaSearchBugs/src/b80223/a/A.java\",", "-\t\t\t\t\"package b80223.a;\\n\" + ", "-\t\t\t\t\"public class A {\\n\" + ", "-\t\t\t\t\"    void m() {}\\n\" + ", "-\t\t\t\t\"}\",", "-\t\t\t\towner", "-\t\t\t\t);", "-\t\t\tworkingCopies[1] = getWorkingCopy(\"/JavaSearchBugs/src/b80223/b/B.java\",", "-\t\t\t\t\"package b80223.b;\\n\" + ", "-\t\t\t\t\"public class B extends b80223.a.A {\\n\" + ", "-\t\t\t\t\"    void m() {}\\n\" + ", "-\t\t\t\t\"}\",", "-\t\t\t\towner);", "-\t\t\t// search for method declaration should find only A match", "-\t\t\tIType type = workingCopies[0].getType(\"A\");", "-\t\t\tIMethod method = type.getMethod(\"m\", new String[0]);", "-\t\t\tsearch(method,", "-\t\t\t\tDECLARATIONS,", "-\t\t\t\tgetJavaSearchScopeBugs(\"b80223\", true), ", "-\t\t\t\tthis.resultCollector);", "-\t\t\tassertSearchResults(", "-\t\t\t\t\"src/b80223/a/A.java void b80223.a.A.m() [m] EXACT_MATCH\"", "-\t\t\t);", "-\t\t}", "-\t\tfinally {", "-\t\t\tdiscardWorkingCopies(workingCopies);", "-\t\t}", "+\t\tworkingCopies = new ICompilationUnit[2];", "+\t\tWorkingCopyOwner owner = new WorkingCopyOwner() {};", "+\t\tworkingCopies[0] = getWorkingCopy(\"/JavaSearchBugs/src/b80223/a/A.java\",", "+\t\t\t\"package b80223.a;\\n\" + ", "+\t\t\t\"public class A {\\n\" + ", "+\t\t\t\"    void m() {}\\n\" + ", "+\t\t\t\"}\",", "+\t\t\towner,", "+\t\t\ttrue);", "+\t\tworkingCopies[1] = getWorkingCopy(\"/JavaSearchBugs/src/b80223/b/B.java\",", "+\t\t\t\"package b80223.b;\\n\" + ", "+\t\t\t\"public class B extends b80223.a.A {\\n\" + ", "+\t\t\t\"    void m() {}\\n\" + ", "+\t\t\t\"}\",", "+\t\t\towner,", "+\t\t\ttrue);", "+\t\t// search for method declaration should find only A match", "+\t\tIType type = workingCopies[0].getType(\"A\");", "+\t\tIMethod method = type.getMethod(\"m\", new String[0]);", "+\t\tsearch(method, DECLARATIONS);", "+\t\tassertSearchResults(", "+\t\t\t\"src/b80223/a/A.java void b80223.a.A.m() [m] EXACT_MATCH\"", "+\t\t);"]}], "num": 24313}