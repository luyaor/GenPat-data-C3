{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f23f0d84447b531e49aa02609762ff99", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "632bf1313d45f3a1221ae9df6737139c", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/TypeBinding.java", "commitBeforeChange": "ac7757b9f18b80af245a139edbb9e9ec0399cc95", "commitAfterChange": "f8334cc2f4707a38bb8c442d2aa0203f2137a4bf", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": " \tprivate IClassFile getClassFile(char[] fileName)", "signatureAfterChange": " \tprivate IClassFile getClassFile(char[] fileName)", "diff": ["-\t\tchar[] slashSeparatedFileName = CharOperation.replaceOnCopy(fileName, File.separatorChar, '/');", "-\t\tint lastSlash = CharOperation.lastIndexOf('/', slashSeparatedFileName);", "-\t\tif (lastSlash == -1) return null;", "-\t\tIPackageFragment pkg = getPackageFragment(slashSeparatedFileName, lastSlash);", "+\t\tint lastSlash = CharOperation.lastIndexOf('/', fileName);", "+\t\tif (lastSlash == -1) ", "+\t\t\tlastSlash = CharOperation.lastIndexOf(File.separatorChar, fileName);", "+\t\tif (lastSlash == -1)", "+\t\t\treturn null;", "+\t\tIPackageFragment pkg = getPackageFragment(fileName, lastSlash);", "-\t\tchar[] simpleName = CharOperation.subarray(slashSeparatedFileName, lastSlash+1, slashSeparatedFileName.length);", "+\t\tchar[] simpleName = CharOperation.subarray(fileName, lastSlash+1, fileName.length);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "70f63d6b0e337adde8598e7692459abc", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/TypeBinding.java", "commitBeforeChange": "38faf3efd9d7a9e66ede29f2210a34a5031698a0", "commitAfterChange": "102c35a2a8562c276abba3a19ac61f3d18639af8", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": " \tprivate IClassFile getClassFile(char[] fileName)", "signatureAfterChange": " \tprivate IClassFile getClassFile(char[] fileName)", "diff": ["+\t\tint jarSeparator = CharOperation.indexOf(IDependent.JAR_FILE_ENTRY_SEPARATOR, fileName);", "-\t\tif (lastSlash == -1)", "-\t\t\treturn null;", "-\t\tIPackageFragment pkg = getPackageFragment(fileName, lastSlash);", "+\t\tif (lastSlash <= jarSeparator) // if jarSeparator == -1 and there is no slash, lastSlash should be 0", "+\t\t\tlastSlash = jarSeparator+1;", "+\t\tIPackageFragment pkg = getPackageFragment(fileName, lastSlash, jarSeparator);", "-\t\tint start;", "-\t\treturn pkg.getClassFile(new String(fileName, start = lastSlash+1, fileName.length - start));", "+\t\tint start = lastSlash == jarSeparator+1 ? lastSlash : lastSlash+1;", "+\t\treturn pkg.getClassFile(new String(fileName, start, fileName.length - start));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "eb4cd842453890c5722738ae363e6855", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/TypeBinding.java", "commitBeforeChange": "102c35a2a8562c276abba3a19ac61f3d18639af8", "commitAfterChange": "d020ac06f382c23053bc9e518001a91176eaef5f", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": " \tprivate ICompilationUnit getCompilationUnit(char[] fileName)", "signatureAfterChange": " \tprivate ICompilationUnit getCompilationUnit(char[] fileName)", "diff": ["-\t\tint lastSlash = CharOperation.lastIndexOf('/', slashSeparatedFileName);", "-\t\tif (lastSlash == -1) return null;", "-\t\tIPackageFragment pkg = getPackageFragment(slashSeparatedFileName, lastSlash, -1/*no jar separator for .java files*/);", "+\t\tint pkgEnd = CharOperation.lastIndexOf('/', slashSeparatedFileName); // pkgEnd is exclusive", "+\t\tif (pkgEnd == -1)", "+\t\t\treturn null;", "+\t\tIPackageFragment pkg = getPackageFragment(slashSeparatedFileName, pkgEnd, -1/*no jar separator for .java files*/);", "-\t\tICompilationUnit cu = pkg.getCompilationUnit(new String(slashSeparatedFileName, start =  lastSlash+1, slashSeparatedFileName.length - start));", "+\t\tICompilationUnit cu = pkg.getCompilationUnit(new String(slashSeparatedFileName, start =  pkgEnd+1, slashSeparatedFileName.length - start));"]}], "num": 38350}