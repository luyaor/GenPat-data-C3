{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5b76ceb92ebe9754f15fabbed430d273", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8c8000ccdb90060f39642ba436dbd297", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/EncodingTests.java", "commitBeforeChange": "7dfdcc33c89bb2a137f9c84963dd6ab9ff74a661", "commitAfterChange": "f24c43070146ea63fd82e385697f695064b998f3", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 18, "signatureBeforeChange": " \tpublic void test010() throws JavaModelException, CoreException", "signatureAfterChange": " \tpublic void test016() throws JavaModelException, CoreException", "diff": ["-\t */", "-\tpublic void test010() throws JavaModelException, CoreException {", "-\t\t", "-\t\t// Set encoding (be sure to have a different than system one)", "-\t\tString encoding = \"ASCII\".equals(systemEncoding) ? \"Cp1252\" : \"ASCII\";", "-", "-\t\t// Get class file and compare source", "-\t\tthis.utf8Source = getClassFile(\"Encoding\" , \"bins\", \"testUTF8\", \"Test.class\"); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$ //$NON-NLS-4$", "-\t\tassertNotNull(this.utf8Source);", "-\t\tString source = this.utf8Source.getSource();", "-\t\tassertNotNull(source);", "-\t\tString encodedContents = new String (Util.getResourceContentsAsCharArray(this.utf8File, encoding));", "-\t\tassertFalse(\"Sources should not be the same as they were decoded with different encoding!\", encodedContents.equals(source));", "-\t}", "+\t/* Same config than test006  */", "+\tpublic void test016() throws JavaModelException, CoreException {", "+", "+\t\t// Set encoding different than workspace default one", "+\t\tString encoding = wkspEncoding.equals(vmEncoding) ? (\"UTF-8\".equals(wkspEncoding) ? \"Cp1252\" : \"UTF-8\") : vmEncoding;", "+", "+\t\t// Get source and compare with file contents", "+\t\tthis.utf8Source = getClassFile(\"Encoding\" , \"bins\", \"testUTF8\", \"Test.class\"); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$ //$NON-NLS-4$", "+\t\tString source = org.eclipse.jdt.core.tests.util.Util.convertToIndependantLineDelimiter(this.utf8Source.getSource());", "+\t\tString encodedContents = new String (Util.getResourceContentsAsCharArray(this.utf8File, encoding));", "+\t\tencodedContents = org.eclipse.jdt.core.tests.util.Util.convertToIndependantLineDelimiter(encodedContents);", "+\t\tassertFalse(\"Sources should not be the same as they were decoded with different encoding!\", encodedContents.equals(source));", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cb0a962bf2b92d2834ffd6e15ad7b3c2", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaProjectTests.java", "commitBeforeChange": "7fb197ab99d30c069feb91d66a62c96dc0d77500", "commitAfterChange": "f1be73585a15718b8d7e7bfcd6517de46dc0a4a4", "methodNumberBeforeChange": 52, "methodNumberAfterChange": 52, "signatureBeforeChange": " public void testUserLibrary() throws JavaModelException", "signatureAfterChange": " public void testUserLibrary() throws JavaModelException", "diff": ["-\t// TODO (frederic) seems that it should not run if the OS is not Windows", "-\tif (!Platform.getOS().equals(Platform.OS_WIN32)) return;", "-\tIPath path = new Path(\"d:/tmp/test.jar\");", "+\tIPath path = new Path(\"/tmp/test.jar\");", "-\textraAttributes[1] = JavaCore.newClasspathAttribute(\"org.eclipse.jdt.launching.CLASSPATH_ATTR_LIBRARY_PATH_ENTRY\", \"d:/tmp\");", "+\textraAttributes[1] = JavaCore.newClasspathAttribute(\"org.eclipse.jdt.launching.CLASSPATH_ATTR_LIBRARY_PATH_ENTRY\", \"/tmp\");", "-\tpath = new Path(\"d:/tmp/test.jar\");", "+\tpath = new Path(\"/tmp/test.jar\");", "-\textraAttributes[1] = JavaCore.newClasspathAttribute(\"org.eclipse.jdt.launching.CLASSPATH_ATTR_LIBRARY_PATH_ENTRY\", \"d:/tmp\");", "+\textraAttributes[1] = JavaCore.newClasspathAttribute(\"org.eclipse.jdt.launching.CLASSPATH_ATTR_LIBRARY_PATH_ENTRY\", \"/tmp\");", "-\texpected.append(\"\t<archive path=\\\"D:/tmp/test.jar\\\">\\r\\n\");", "+\texpected.append(\"\t<archive path=\\\"/tmp/test.jar\\\">\\r\\n\");", "-\texpected.append(\"\t\t\t<attribute value=\\\"d:/tmp\\\" name=\\\"org.eclipse.jdt.launching.CLASSPATH_ATTR_LIBRARY_PATH_ENTRY\\\"/>\\r\\n\");", "+\texpected.append(\"\t\t\t<attribute value=\\\"/tmp\\\" name=\\\"org.eclipse.jdt.launching.CLASSPATH_ATTR_LIBRARY_PATH_ENTRY\\\"/>\\r\\n\");", "-\texpected.append(\"\t<archive path=\\\"D:/tmp/test.jar\\\">\\r\\n\");", "+\texpected.append(\"\t<archive path=\\\"/tmp/test.jar\\\">\\r\\n\");", "-\texpected.append(\"\t\t\t<attribute value=\\\"d:/tmp\\\" name=\\\"org.eclipse.jdt.launching.CLASSPATH_ATTR_LIBRARY_PATH_ENTRY\\\"/>\\r\\n\");", "+\texpected.append(\"\t\t\t<attribute value=\\\"/tmp\\\" name=\\\"org.eclipse.jdt.launching.CLASSPATH_ATTR_LIBRARY_PATH_ENTRY\\\"/>\\r\\n\");", "-\tassertEquals(\"Invalid library contents\", expected.toString(), libraryPreference);", "+\tString expectedString = org.eclipse.jdt.core.tests.util.Util.convertToIndependantLineDelimiter(expected.toString());", "+\tassertEquals(\"Invalid library contents\", expectedString, org.eclipse.jdt.core.tests.util.Util.convertToIndependantLineDelimiter(libraryPreference));"]}], "num": 54750}