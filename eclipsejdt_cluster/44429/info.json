{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b74c6c4190ae5dfe69c8bd6a896cd0a2", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "18e5d057527aca13d5dd04af8d32e12e", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaModelManager.java", "commitBeforeChange": "465181f1f61b658b5c010a5efd2a11b469b6f094", "commitAfterChange": "96da9a04d9ec9dc1f22c7aed0a42a67c5851c653", "methodNumberBeforeChange": 36, "methodNumberAfterChange": 36, "signatureBeforeChange": " \tprivate PerProjectInfo getPerProjectInfo(IProject project)", "signatureAfterChange": " \tprivate PerProjectInfo getPerProjectInfo(IProject project)", "diff": ["-\t */", "+\t * Returns the per-project info for the given project. Create the info if the info doesn't exist.\r\t */", "+\t\treturn getPerProjectInfo(project, true /* create info */);", "+\t}", "-\t\tif (info == null) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5e277576498d7488465cff9c9c521a9a", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaModelManager.java", "commitBeforeChange": "e7620c4baeaf7edb12a437138cc41572b2c254c4", "commitAfterChange": "b1e3d60e355d081cd7eb3bded0d6e53fd9fb2ceb", "methodNumberBeforeChange": 210, "methodNumberAfterChange": 210, "signatureBeforeChange": "  \t\tvoid save(ISaveContext context) throws IOException, JavaModelException", "signatureAfterChange": "  \t\tvoid save(ISaveContext context) throws IOException, JavaModelException", "diff": ["-\t\t\tIProject project = context.getProject();", "-\t\t\tif (project == null) { // save all projects if none specified (snapshot or full save)", "-\t\t\t\tsaveProjects(getJavaModel().getJavaProjects());", "-\t\t\t}", "-\t\t\telse {", "-\t\t\t\tsaveProjects(new IJavaProject[] {JavaCore.create(project)});", "-\t\t\t}", "+\t\t\tsaveProjects(getJavaModel().getJavaProjects());", "+\t\t\t// remove variables that should not be saved", "+\t\t\tHashMap varsToSave = null;", "+\t\t\tIterator iterator = JavaModelManager.this.variables.entrySet().iterator();", "+\t\t\tIEclipsePreferences defaultPreferences = getDefaultPreferences();", "+\t\t\twhile (iterator.hasNext()) {", "+\t\t\t\tMap.Entry entry = (Map.Entry) iterator.next();", "+\t\t\t\tString varName = (String) entry.getKey();", "+\t\t\t\tif (defaultPreferences.get(CP_VARIABLE_PREFERENCES_PREFIX + varName, null) != null // don't save classpath variables from the default preferences as there is no delta if they are removed", "+\t\t\t\t\t\t|| CP_ENTRY_IGNORE_PATH.equals(entry.getValue())) {", "-\t\t\tswitch (context.getKind()) {", "-\t\t\t\tcase ISaveContext.FULL_SAVE :", "-\t\t\t\t\t// TODO (eric) - investigate after 3.3 if variables should be saved for a SNAPSHOT", "-\t\t\t\tcase ISaveContext.SNAPSHOT :", "-\t\t\t\t\t// remove variables that should not be saved", "-\t\t\t\t\tHashMap varsToSave = null;", "-\t\t\t\t\tIterator iterator = JavaModelManager.this.variables.entrySet().iterator();", "-\t\t\t\t\tIEclipsePreferences defaultPreferences = getDefaultPreferences();", "-\t\t\t\t\twhile (iterator.hasNext()) {", "-\t\t\t\t\t\tMap.Entry entry = (Map.Entry) iterator.next();", "-\t\t\t\t\t\tString varName = (String) entry.getKey();", "-\t\t\t\t\t\tif (defaultPreferences.get(CP_VARIABLE_PREFERENCES_PREFIX + varName, null) != null // don't save classpath variables from the default preferences as there is no delta if they are removed", "-\t\t\t\t\t\t\t\t|| CP_ENTRY_IGNORE_PATH.equals(entry.getValue())) {", "-", "-\t\t\t\t\t\t\tif (varsToSave == null)", "-\t\t\t\t\t\t\t\tvarsToSave = new HashMap(JavaModelManager.this.variables);", "-\t\t\t\t\t\t\tvarsToSave.remove(varName);", "-\t\t\t\t\t\t}", "-\t\t\t\t\t}", "-\t\t\t\t\tsaveVariables(varsToSave != null ? varsToSave : JavaModelManager.this.variables);", "-\t\t\t\t\tbreak;", "-\t\t\t\tdefault :", "-\t\t\t\t\t// do nothing", "+\t\t\t\t\tif (varsToSave == null)", "+\t\t\t\t\t\tvarsToSave = new HashMap(JavaModelManager.this.variables);", "+\t\t\t\t\tvarsToSave.remove(varName);", "+\t\t\t\t}", "+\t\t\tsaveVariables(varsToSave != null ? varsToSave : JavaModelManager.this.variables);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "68ae0ea4ecd2f4973008b6dc810ac16a", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/generatedfile/GeneratedFileManager.java", "commitBeforeChange": "3d64bc62d20a2710c039270dfe1984ed9440baac", "commitAfterChange": "59c8900830fdd7030ce1661bb274f1a5924b0f37", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 25, "signatureBeforeChange": " \t \tprivate void updateMaps( String typeName, ICompilationUnit parentCompilationUnit, ICompilationUnit workingCopy )", "signatureAfterChange": " \t \tprivate void updateMaps( String typeName, ICompilationUnit parentCompilationUnit, ICompilationUnit workingCopy )", "diff": ["-", "-\t\t// type name -> set of parent compilation unit", "-\t\tSet<ICompilationUnit> s = _typeName2Parents.get( typeName );", "-\t\tif ( s == null )", "-\t\t{", "-\t\t\ts = new HashSet();", "-\t\t\t_typeName2Parents.put( typeName, s );", "-\t\t}", "-\t\ts.add( parentCompilationUnit );"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7298ecb6094da96f751242b0b1c2d7fb", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/env/ProcessorEnvImpl.java", "commitBeforeChange": "2894ba75386697d7bf484434d073fb6ffaf6cec9", "commitAfterChange": "c5ef0e6fd93c55fc5204e498f5b58ab9f95c6ab7", "methodNumberBeforeChange": 46, "methodNumberAfterChange": 31, "signatureBeforeChange": "  \tpublic void addTypeDependency(final String fullyQualifiedTypeName )", "signatureAfterChange": "  \tpublic void addTypeDependency(final String fullyQualifiedTypeName )", "diff": ["-\t\tif(!_batchMode){", "-\t\t\tSet<String> deps = _typeDependencies.get(_file);", "-\t\t\tif( deps == null ){", "-\t\t\t\tdeps = new HashSet<String>(4);", "-\t\t\t\t_typeDependencies.put(_file, deps);", "-\t\t\t}", "-\t\t\tdeps.add( fullyQualifiedTypeName );", "+\t\tif(!_batchMode){\t\t\t", "+\t\t\t_typeDependencies.add( fullyQualifiedTypeName );"]}], "num": 44429}