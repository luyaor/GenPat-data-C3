{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2007cd344a7d55a4399c06a9d0f86e00", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4b9647f5888851ee7fec0de3a0cbc4c7", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/CreatePackageFragmentOperation.java", "commitBeforeChange": "8bea847412c36874664a80a329bfe627deff5fa9", "commitAfterChange": "c4145c80a504c8681f4571ff2bd214b778e87107", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " protected void executeOperation() throws JavaModelException", "signatureAfterChange": " protected void executeOperation() throws JavaModelException", "diff": ["-\tJavaElementDelta delta = null;", "-\tPackageFragmentRoot root = (PackageFragmentRoot) getParentElement();", "-\tbeginTask(Messages.operation_createPackageFragmentProgress, this.pkgName.length); ", "-\tIContainer parentFolder = (IContainer) root.getResource();", "-\tString[] sideEffectPackageName = CharOperation.NO_STRINGS; ", "-\tArrayList results = new ArrayList(this.pkgName.length);", "-\tchar[][] inclusionPatterns = root.fullInclusionPatternChars();", "-\tchar[][] exclusionPatterns = root.fullExclusionPatternChars();", "-\tint i;", "-\tfor (i = 0; i < this.pkgName.length; i++) {", "-\t\tString subFolderName = this.pkgName[i];", "-\t\tsideEffectPackageName = Util.arrayConcat(sideEffectPackageName, subFolderName);", "-\t\tIResource subFolder = parentFolder.findMember(subFolderName);", "-\t\tif (subFolder == null) {", "-\t\t\tcreateFolder(parentFolder, subFolderName, force);", "-\t\t\tparentFolder = parentFolder.getFolder(new Path(subFolderName));", "-\t\t\tIPackageFragment addedFrag = root.getPackageFragment(sideEffectPackageName);", "-\t\t\tif (!Util.isExcluded(parentFolder, inclusionPatterns, exclusionPatterns)) {", "-\t\t\t\tif (delta == null) {", "-\t\t\t\t\tdelta = newJavaElementDelta();", "+\ttry {", "+\t\tJavaElementDelta delta = null;", "+\t\tPackageFragmentRoot root = (PackageFragmentRoot) getParentElement();", "+\t\tbeginTask(Messages.operation_createPackageFragmentProgress, this.pkgName.length); ", "+\t\tIContainer parentFolder = (IContainer) root.getResource();", "+\t\tString[] sideEffectPackageName = CharOperation.NO_STRINGS; ", "+\t\tArrayList results = new ArrayList(this.pkgName.length);", "+\t\tchar[][] inclusionPatterns = root.fullInclusionPatternChars();", "+\t\tchar[][] exclusionPatterns = root.fullExclusionPatternChars();", "+\t\tint i;", "+\t\tfor (i = 0; i < this.pkgName.length; i++) {", "+\t\t\tString subFolderName = this.pkgName[i];", "+\t\t\tsideEffectPackageName = Util.arrayConcat(sideEffectPackageName, subFolderName);", "+\t\t\tIResource subFolder = parentFolder.findMember(subFolderName);", "+\t\t\tif (subFolder == null) {", "+\t\t\t\tcreateFolder(parentFolder, subFolderName, force);", "+\t\t\t\tparentFolder = parentFolder.getFolder(new Path(subFolderName));", "+\t\t\t\tIPackageFragment addedFrag = root.getPackageFragment(sideEffectPackageName);", "+\t\t\t\tif (!Util.isExcluded(parentFolder, inclusionPatterns, exclusionPatterns)) {", "+\t\t\t\t\tif (delta == null) {", "+\t\t\t\t\t\tdelta = newJavaElementDelta();", "+\t\t\t\t\t}", "+\t\t\t\t\tdelta.added(addedFrag);", "-\t\t\t\tdelta.added(addedFrag);", "+\t\t\t\tresults.add(addedFrag);", "+\t\t\t} else {", "+\t\t\t\tparentFolder = (IContainer) subFolder;", "-\t\t\tresults.add(addedFrag);", "-\t\t} else {", "-\t\t\tparentFolder = (IContainer) subFolder;", "+\t\t\tworked(1);", "-\t\tworked(1);", "-\t}", "-\tif (results.size() > 0) {", "-\t\tthis.resultElements = new IJavaElement[results.size()];", "-\t\tresults.toArray(this.resultElements);", "-\t\tif (delta != null) {", "-\t\t\taddDelta(delta);", "+\t\tif (results.size() > 0) {", "+\t\t\tthis.resultElements = new IJavaElement[results.size()];", "+\t\t\tresults.toArray(this.resultElements);", "+\t\t\tif (delta != null) {", "+\t\t\t\taddDelta(delta);", "+\t\t\t}", "+\t} finally {", "+\t\tdone();", "-\tdone();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b3b0c2ad947ac83e981bf9978480cc90", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/CreatePackageFragmentOperation.java", "commitBeforeChange": "b04602938404af4f8569a399fb36a5018768a262", "commitAfterChange": "6a230a9d6ae1a4a6adbf38879cb9ee685eccffe9", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "\r \tprotected void executeOperation() throws JavaModelException", "signatureAfterChange": "\r protected void executeOperation() throws JavaModelException", "diff": ["+ */\r", "+protected void executeOperation() throws JavaModelException {\r", "+\tJavaElementDelta delta = newJavaElementDelta();\r", "+\tIPackageFragmentRoot root = (IPackageFragmentRoot) getParentElement();\r", "+\tString[] names = Signature.getSimpleNames(fName);\r", "+\tbeginTask(Util.bind(\"operation.createPackageFragmentProgress\"/*nonNLS*/), names.length);\r", "+\tIContainer parentFolder = (IContainer) root.getUnderlyingResource();\r", "+\tString sideEffectPackageName = \"\"/*nonNLS*/;\r", "+\tVector resultElements = new Vector(names.length);\r", "+\tint i;\r", "+\tfor (i = 0; i < names.length; i++) {\r", "+\t\tString subFolderName = names[i];\r", "+\t\tsideEffectPackageName += subFolderName;\r", "+\t\tIResource subFolder = parentFolder.findMember(subFolderName);\r", "+\t\tif (subFolder == null) {\r", "+\t\t\tcreateFolder(parentFolder, subFolderName, fForce);\r", "+\t\t\tparentFolder = parentFolder.getFolder(new Path(subFolderName));\r", "+\t\t\tIPackageFragment addedFrag = root.getPackageFragment(sideEffectPackageName);\r", "+\t\t\tdelta.added(addedFrag);\r", "+\t\t\tresultElements.addElement(addedFrag);\r", "+\t\t} else {\r", "+\t\t\tparentFolder = (IContainer) subFolder;\r", "+\t\t}\r", "+\t\tsideEffectPackageName += '.';\r", "+\t\tworked(1);\r", "-\t */\r", "-\tprotected void executeOperation() throws JavaModelException {\r", "-\t\tJavaElementDelta delta = newJavaElementDelta();\r", "-\t\tIPackageFragmentRoot root = (IPackageFragmentRoot) getParentElement();\r", "-\t\tString[] names = Signature.getSimpleNames(fName);\r", "-\t\tbeginTask(\"Creating package fragment(s)...\", names.length);\r", "+\tif (resultElements.size() > 0) {\r", "+\t\tfResultElements = new IJavaElement[resultElements.size()];\r", "+\t\tresultElements.copyInto(fResultElements);\r", "+\t\taddDelta(delta);\r", "+\t}\r", "+\tdone();\r", "+}\r", "-\t\tString sideEffectPackageName = \"\";\r", "-\t\tVector resultElements = new Vector(names.length);\r", "-\t\t\tString subFolderName = names[i];\r", "-\t\t\tsideEffectPackageName += subFolderName;\r", "-\t\t\tIResource subFolder = parentFolder.findMember(subFolderName);\r", "-\t\t\tif (subFolder == null) {\r", "-\t\t\t\tcreateFolder(parentFolder, subFolderName, fForce);\r", "-\t\t\t\tparentFolder = parentFolder.getFolder(new Path(subFolderName));\r", "-\t\t\t\tIPackageFragment addedFrag = root.getPackageFragment(sideEffectPackageName);\r", "-\t\t\t\tdelta.added(addedFrag);\r", "-\t\t\t\tresultElements.addElement(addedFrag);\r", "-\t\t\t} else {\r", "-\t\t\tsideEffectPackageName += '.';\r", "-\t\t\tworked(1);\r", "-\t\tif (resultElements.size() > 0) {\r", "-\t\t\tfResultElements = new IJavaElement[resultElements.size()];\r", "-\t\t\tresultElements.copyInto(fResultElements);\r", "-\t\t\taddDelta(delta);\r", "-\t\t}\r", "-\t\tdone();\r"]}], "num": 66219}