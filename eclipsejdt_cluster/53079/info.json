{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "849cdc2d1f389e20ed81137a29361dec", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fa1b339b27fb92868faff0502c721d9d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionParser.java", "commitBeforeChange": "7336215b569e42bf0d7946c272b0da8ff71d12fb", "commitAfterChange": "e29082e6108e43f171cfe9fae0a56914a1f2ec3e", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 17, "signatureBeforeChange": " private boolean checkKeyword()", "signatureAfterChange": " private boolean checkKeyword()", "diff": ["+\t\t\t\t&& (!this.compilationUnit.isPackageInfo() || this.compilationUnit.currentPackage != null)", "-\t\t\tif((this.lastModifiers & ClassFileConstants.AccPublic) == 0) {", "-\t\t\t\tboolean hasNoPublicType = true;", "-\t\t\t\tfor (int i = 0; i < unit.typeCount; i++) {", "-\t\t\t\t\tif((unit.types[i].typeDeclaration.modifiers & ClassFileConstants.AccPublic) != 0) {", "-\t\t\t\t\t\thasNoPublicType = false;", "+\t\t\tif (!this.compilationUnit.isPackageInfo()) {", "+\t\t\t\tif((this.lastModifiers & ClassFileConstants.AccPublic) == 0) {", "+\t\t\t\t\tboolean hasNoPublicType = true;", "+\t\t\t\t\tfor (int i = 0; i < unit.typeCount; i++) {", "+\t\t\t\t\t\tif((unit.types[i].typeDeclaration.modifiers & ClassFileConstants.AccPublic) != 0) {", "+\t\t\t\t\t\t\thasNoPublicType = false;", "+\t\t\t\t\t\t}", "+\t\t\t\t\t}", "+\t\t\t\t\tif(hasNoPublicType) {", "+\t\t\t\t\t\tkeywords[count++] = Keywords.PUBLIC;", "-\t\t\t\tif(hasNoPublicType) {", "-\t\t\t\t\tkeywords[count++] = Keywords.PUBLIC;", "+\t\t\t\tif((this.lastModifiers & ClassFileConstants.AccAbstract) == 0", "+\t\t\t\t\t&& (this.lastModifiers & ClassFileConstants.AccFinal) == 0) {", "+\t\t\t\t\tkeywords[count++] = Keywords.ABSTRACT;", "-\t\t\t}", "-\t\t\tif((this.lastModifiers & ClassFileConstants.AccAbstract) == 0", "-\t\t\t\t&& (this.lastModifiers & ClassFileConstants.AccFinal) == 0) {", "-\t\t\t\tkeywords[count++] = Keywords.ABSTRACT;", "-\t\t\t}", "-\t\t\tif((this.lastModifiers & ClassFileConstants.AccAbstract) == 0", "-\t\t\t\t&& (this.lastModifiers & ClassFileConstants.AccFinal) == 0) {", "-\t\t\t\tkeywords[count++] = Keywords.FINAL;", "-\t\t\t}", "-", "-\t\t\tkeywords[count++] = Keywords.CLASS;", "-\t\t\tif (this.options.complianceLevel >= ClassFileConstants.JDK1_5) {", "-\t\t\t\tkeywords[count++] = Keywords.ENUM;", "-\t\t\t}", "-", "-\t\t\tif((this.lastModifiers & ClassFileConstants.AccFinal) == 0) {", "-\t\t\t\tkeywords[count++] = Keywords.INTERFACE;", "+\t\t\t\tif((this.lastModifiers & ClassFileConstants.AccAbstract) == 0", "+\t\t\t\t\t&& (this.lastModifiers & ClassFileConstants.AccFinal) == 0) {", "+\t\t\t\t\tkeywords[count++] = Keywords.FINAL;", "+\t\t\t\t}", "+\t", "+\t\t\t\tkeywords[count++] = Keywords.CLASS;", "+\t\t\t\tif (this.options.complianceLevel >= ClassFileConstants.JDK1_5) {", "+\t\t\t\t\tkeywords[count++] = Keywords.ENUM;", "+\t\t\t\t}", "+\t", "+\t\t\t\tif((this.lastModifiers & ClassFileConstants.AccFinal) == 0) {", "+\t\t\t\t\tkeywords[count++] = Keywords.INTERFACE;", "+\t\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ff9075ed5d07f8a5f5733edafbc12135", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionParser.java", "commitBeforeChange": "69b02d68015b1f30ee38d1576a843274517957c7", "commitAfterChange": "c7a9edf536467451ba659d7e03ac6c483c5c0cfe", "methodNumberBeforeChange": 59, "methodNumberAfterChange": 68, "signatureBeforeChange": " public NameReference createSingleAssistNameReference(char[] name, long position)", "signatureAfterChange": " public NameReference createSingleAssistNameReference(char[] name, long position)", "diff": ["-\treturn new CompletionOnSingleNameReference(name, position);", "+\tint kind = topKnownElementKind(COMPLETION_OR_ASSIST_PARSER);", "+\tif(!isInsideMethod()) {", "+\t\treturn new CompletionOnSingleNameReference(name, position);", "+\t} else {", "+\t\tboolean canBeExplicitConstructorCall = false;", "+\t\tif(kind == K_BLOCK_DELIMITER", "+\t\t\t&& previousKind == K_BLOCK_DELIMITER", "+\t\t\t&& previousInfo == DO) {", "+\t\t\treturn new CompletionOnKeyword3(name, position, Keywords.WHILE);", "+\t\t} else if(kind == K_BLOCK_DELIMITER", "+\t\t\t&& previousKind == K_BLOCK_DELIMITER", "+\t\t\t&& previousInfo == TRY) {", "+\t\t\treturn new CompletionOnKeyword3(name, position, new char[][]{Keywords.CATCH, Keywords.FINALLY});", "+\t\t} else {", "+\t\t\tchar[][] keywords = new char[Keywords.COUNT][];", "+\t\t\tint count = 0;", "+\t\t\t", "+\t\t\tif((lastModifiers & AccStatic) == 0) {", "+\t\t\t\tkeywords[count++]= Keywords.SUPER;", "+\t\t\t\tkeywords[count++]= Keywords.THIS;", "+\t\t\t}", "+\t\t\tkeywords[count++]= Keywords.NEW;", "+\t\t\t", "+\t\t\tif(kind == K_BLOCK_DELIMITER) {", "+\t\t\t\tif(canBeExplicitConstructor == YES) {", "+\t\t\t\t\tcanBeExplicitConstructorCall = true;", "+\t\t\t\t}", "+\t\t\t\t", "+\t\t\t\tkeywords[count++]= Keywords.ASSERT;", "+\t\t\t\tkeywords[count++]= Keywords.DO;", "+\t\t\t\tkeywords[count++]= Keywords.FOR;", "+\t\t\t\tkeywords[count++]= Keywords.IF;", "+\t\t\t\tkeywords[count++]= Keywords.RETURN;", "+\t\t\t\tkeywords[count++]= Keywords.SWITCH;", "+\t\t\t\tkeywords[count++]= Keywords.SYNCHRONIZED;", "+\t\t\t\tkeywords[count++]= Keywords.THROW;", "+\t\t\t\tkeywords[count++]= Keywords.TRY;", "+\t\t\t\tkeywords[count++]= Keywords.WHILE;", "+\t\t\t\t", "+\t\t\t\tkeywords[count++]= Keywords.FINAL;", "+\t\t\t\tkeywords[count++]= Keywords.CLASS;", "+\t\t\t\t", "+\t\t\t\tif(previousKind == K_BLOCK_DELIMITER) {", "+\t\t\t\t\tswitch (previousInfo) {", "+\t\t\t\t\t\tcase IF :", "+\t\t\t\t\t\t\tkeywords[count++]= Keywords.ELSE;", "+\t\t\t\t\t\t\tbreak;", "+\t\t\t\t\t\tcase CATCH :", "+\t\t\t\t\t\t\tkeywords[count++]= Keywords.CATCH;", "+\t\t\t\t\t\t\tkeywords[count++]= Keywords.FINALLY;", "+\t\t\t\t\t\t\tbreak;", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t\tif(isInsideLoop()) {", "+\t\t\t\t\tkeywords[count++]= Keywords.CONTINUE;", "+\t\t\t\t}", "+\t\t\t\tif(isInsideBreakable()) {", "+\t\t\t\t\tkeywords[count++]= Keywords.BREAK;", "+\t\t\t\t}", "+\t\t\t\tif(topKnownElementInfo(COMPLETION_OR_ASSIST_PARSER) == SWITCH) {", "+\t\t\t\t\tkeywords[count++]= Keywords.CASE;", "+\t\t\t\t\tkeywords[count++]= Keywords.DEFAULT;", "+\t\t\t\t}", "+\t\t\t} else {", "+\t\t\t\tkeywords[count++]= Keywords.TRUE;", "+\t\t\t\tkeywords[count++]= Keywords.FALSE;", "+\t\t\t\tkeywords[count++]= Keywords.NULL;", "+\t\t\t", "+\t\t\t\tif(kind == K_SWITCH_LABEL) {", "+\t\t\t\t\tif(topKnownElementInfo(COMPLETION_OR_ASSIST_PARSER) != DEFAULT) {", "+\t\t\t\t\t\tkeywords[count++]= Keywords.DEFAULT;", "+\t\t\t\t\t}", "+\t\t\t\t\tkeywords[count++]= Keywords.BREAK;", "+\t\t\t\t\tkeywords[count++]= Keywords.CASE;", "+\t\t\t\t}", "+\t\t\t}", "+\t\t\tSystem.arraycopy(keywords, 0 , keywords = new char[count][], 0, count);", "+\t\t\t", "+\t\t\treturn new CompletionOnSingleNameReference(name, position, keywords, canBeExplicitConstructorCall);", "+\t\t}", "+\t}"]}], "num": 53079}