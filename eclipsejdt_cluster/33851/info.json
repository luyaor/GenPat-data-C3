{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6a889bef9ccecaca666b3edabc085fee", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "62aa223217b6f61e8eb68c6af20143e0", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/env/ProcessorEnvImpl.java", "commitBeforeChange": "2894ba75386697d7bf484434d073fb6ffaf6cec9", "commitAfterChange": "c5ef0e6fd93c55fc5204e498f5b58ab9f95c6ab7", "methodNumberBeforeChange": 50, "methodNumberAfterChange": 35, "signatureBeforeChange": " \t \tprotected IFile getFileForNode(final ASTNode node)", "signatureAfterChange": " \t \tprotected IFile getFileForNode(final ASTNode node)", "diff": ["-\t\tfinal CompilationUnit curRoot = (CompilationUnit)node.getRoot();", "-\t\tfor( int i=0, len=_astUnits.length; i<len; i++ ){", "-\t\t\tif( _astUnits[i] == curRoot )", "-\t\t\t\treturn _filesWithAnnotation[i];", "+\t\tfinal CompilationUnit curAST = (CompilationUnit)node.getRoot();", "+\t\tfor( int i=0, len=_astRoots.length; i<len; i++ ){", "+\t\t\tif( _astRoots[i] == curAST )", "+\t\t\t\treturn _filesWithAnnotation[i].getFile();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8fd92634f2773b013ed16837c7021cd3", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/env/ProcessorEnvImpl.java", "commitBeforeChange": "6f6bc9d0562d23a055ee9e986cf21155795a29ff", "commitAfterChange": "7f289b483e1414e7141e9f94307fbe445e3b1b34", "methodNumberBeforeChange": 49, "methodNumberAfterChange": 49, "signatureBeforeChange": " \t \tpublic CompilationUnit getAstCompilationUnit(final IFile file)", "signatureAfterChange": " \tpublic CompilationUnit getAstCompilationUnit(final IFile file)", "diff": ["+     */", "-\t\tfor( int i=0, len=_files.length; i<len; i++ ){", "-\t\t\tif( _files[i] == file )", "-\t\t\t\treturn _astUnits[i];", "-\t\t}", "-\t\treturn null;", "+\t\tif( file == null ) ", "+    \t\treturn null;", "+    \telse if( file.equals(_file) )", "+    \t\treturn _astRoot;", "+    \telse if( _batchMode ){", "+    \t\tfor( int i=0, len=_files.length; i<len; i++ ){", "+        \t\tif( file.equals(_files[i]) )", "+        \t\t\treturn _astUnits[i];", "+        \t}", "+    \t}", "+    \treturn null;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9709f79b2b1290b3d3673909c46e8317", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/env/ProcessorEnvImpl.java", "commitBeforeChange": "7064f5cf4e1b20562054db6ff22e27e2bfde4008", "commitAfterChange": "c020688b25edf08bbc7d8d68981663ad78d2a9d8", "methodNumberBeforeChange": 43, "methodNumberAfterChange": 43, "signatureBeforeChange": " \t \tpublic void setFileProcessing(IFile file)", "signatureAfterChange": " \t \tpublic void setFileProcessing(IFile file)", "diff": ["-\t\tif( _files != null ){", "-\t\t\tfor( int i=0, len=_files.length; i<len; i++ ){", "-\t\t\t\tif( file.equals(_files[i]) ){", "+\t\tif( _filesWithAnnotation != null ){", "+\t\t\tfor( int i=0, len=_filesWithAnnotation.length; i<len; i++ ){", "+\t\t\t\tif( file.equals(_filesWithAnnotation[i]) ){", "-\t\t\t\t\t\t_unit = JavaCore.createCompilationUnitFrom(_files[i]);", "+\t\t\t\t\t\t_unit = JavaCore.createCompilationUnitFrom(_filesWithAnnotation[i]);"]}], "num": 33851}