{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a6ae7fbdfd37ded848220f0f580f5de7", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a69dcc721a547fc7a9b0d55429dc277d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/TypeDeclaration.java", "commitBeforeChange": "99e06cdf0656ed0f6c3eb604300a8baae7ee3beb", "commitAfterChange": "d6c2a90130be430285c5f6a000090d250c310afd", "methodNumberBeforeChange": 32, "methodNumberAfterChange": 32, "signatureBeforeChange": "    public void resolve()", "signatureAfterChange": "    public void resolve()", "diff": ["-\t\t// this.maxFieldCount might already be set", "-\t\tint localMaxFieldCount = 0;", "+\t\t// field count from enclosing and supertypes should be included in maxFieldCount,", "+\t\t// to make field-ids unique among all fields in scope.", "+\t\t// 1.: enclosing:", "+\t\tTypeBinding original = sourceType.original();", "+\t\tint fieldAnalysisOffset = 0;", "+\t\tif (original instanceof NestedTypeBinding) {", "+\t\t\t// note: local types have no enclosingType in the AST but only in the binding:", "+\t\t\tfieldAnalysisOffset = ((NestedTypeBinding)original).enclosingType.cumulativeFieldCount;", "+\t\t}", "+\t\t// 2.: supers:", "+\t\tReferenceBinding superClassBinding = sourceType.superclass;", "+\t\twhile (superClassBinding != null) {", "+\t\t\tFieldBinding[] unResolvedFields = superClassBinding.unResolvedFields();", "+\t\t\tif (unResolvedFields != null) {", "+\t\t\t\tfor (int i=unResolvedFields.length-1; i>=0; i--) {", "+ \t\t\t\t\t// if the field is an initializer we do not want to update the count ", "+\t\t\t\t\tswitch (unResolvedFields[i].kind()) {", "+\t\t\t\t\t\tcase AbstractVariableDeclaration.FIELD:", "+\t\t\t\t\t\tcase AbstractVariableDeclaration.ENUM_CONSTANT:", "+\t\t\t\t\t\t\tfieldAnalysisOffset++;", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t}", "+\t\t\tfieldAnalysisOffset += findFieldCountFromSuperInterfaces(superClassBinding.superInterfaces());", "+\t\t\tsuperClassBinding = superClassBinding.superclass();", "+\t\t}", "+\t\tReferenceBinding[] superInterfacesBinding = sourceType.superInterfaces;", "+\t\tfieldAnalysisOffset += findFieldCountFromSuperInterfaces(superInterfacesBinding);", "+\t\tsourceType.cumulativeFieldCount += fieldAnalysisOffset;", "+\t\tsourceType.fieldAnalysisOffset = fieldAnalysisOffset;", "+\t\tthis.maxFieldCount = sourceType.cumulativeFieldCount;", "+", "-\t\t\t\t\t\tlocalMaxFieldCount++;", "-\t\t}", "-\t\tif (this.maxFieldCount < localMaxFieldCount) {", "-\t\t\tthis.maxFieldCount = localMaxFieldCount;", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bf92e934e568b30fd3273caab96aa884", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/TypeBinding.java", "commitBeforeChange": "3561a65aa6894682f3ea9a6665dee82b18c3d4bf", "commitAfterChange": "0b12d287970a543efa74b3f16f5eaa0f1a0fc0f9", "methodNumberBeforeChange": 35, "methodNumberAfterChange": 35, "signatureBeforeChange": " \tpublic ITypeBinding[] getTypeBounds()", "signatureAfterChange": " \tpublic ITypeBinding[] getTypeBounds()", "diff": ["-\t\t// TODO (olivier) missing implementation of J2SE 1.5 language feature", "+\t\tif (this.binding instanceof TypeVariableBinding) {", "+\t\t\tTypeVariableBinding typeVariableBinding = (TypeVariableBinding) this.binding;", "+\t\t\tint boundsNumber = 0;", "+\t\t\tReferenceBinding superclass = typeVariableBinding.superclass();", "+\t\t\tif (superclass != null) {", "+\t\t\t\tboundsNumber++;", "+\t\t\t}", "+\t\t\tReferenceBinding[] superinterfaces = typeVariableBinding.superInterfaces();", "+\t\t\tint superinterfacesLength = 0;", "+\t\t\tif (superinterfaces != null) {", "+\t\t\t\tsuperinterfacesLength = superinterfaces.length;", "+\t\t\t\tboundsNumber += superinterfacesLength;", "+\t\t\t}", "+\t\t\tif (boundsNumber != 0) {", "+\t\t\t\tITypeBinding[] typeBounds = new ITypeBinding[boundsNumber];", "+\t\t\t\tint boundsIndex = 0;", "+\t\t\t\tif (superclass != null) {", "+\t\t\t\t\ttypeBounds[boundsIndex++] = this.resolver.getTypeBinding(superclass);", "+\t\t\t\t}", "+\t\t\t\tif (superinterfaces != null) {", "+\t\t\t\t\tfor (int i = 0; i < superinterfacesLength; i++, boundsIndex++) {", "+\t\t\t\t\t\ttypeBounds[boundsIndex] = this.resolver.getTypeBinding(superinterfaces[i]);", "+\t\t\t\t\t}", "+\t\t\t\t}", "+\t\t\t\treturn typeBounds;", "+\t\t\t}", "+\t\t}"]}], "num": 19107}