{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ac9ae5d621c1206bd55efc5849f348ae", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1b3a226de6408bbf6a715b1526b953c5", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaModelOperation.java", "commitBeforeChange": "af4e6d900d5d8e7a9bf4d8017d7710df7047045e", "commitAfterChange": "f7f0c26c94c2835a4e4e5f46a3cd63b53d559a6d", "methodNumberBeforeChange": 44, "methodNumberAfterChange": 44, "signatureBeforeChange": " \tprotected void postAction(IPostAction action, int insertionMode)", "signatureAfterChange": " \tprotected void postAction(IPostAction action, int insertionMode)", "diff": ["-\t\tJavaModelOperation outerMostOp = (JavaModelOperation)getCurrentOperationStack().get(0);", "-\t\tIPostAction[] postActions = outerMostOp.actions;", "+\t\tJavaModelOperation topLevelOp = (JavaModelOperation)getCurrentOperationStack().get(0);", "+\t\tIPostAction[] postActions = topLevelOp.actions;", "-\t\t\touterMostOp.actions = postActions = new IPostAction[1];", "+\t\t\ttopLevelOp.actions = postActions = new IPostAction[1];", "-\t\t\touterMostOp.actionsPtr++;", "+\t\t\ttopLevelOp.actionsEnd = 0;", "-\t\t\t\t\tint index = -1;", "-\t\t\t\t\twhile ((index = outerMostOp.firstActionWithID(id, index+1)) >= 0) {", "+\t\t\t\t\tint index = this.actionsStart-1;", "+\t\t\t\t\twhile ((index = topLevelOp.firstActionWithID(id, index+1)) >= 0) {", "-\t\t\t\t\t\tSystem.arraycopy(postActions, index+1, postActions, index, outerMostOp.actionsPtr - index);", "-\t\t\t\t\t\tpostActions[outerMostOp.actionsPtr--] = null;", "+\t\t\t\t\t\tSystem.arraycopy(postActions, index+1, postActions, index, topLevelOp.actionsEnd - index);", "+\t\t\t\t\t\tpostActions[topLevelOp.actionsEnd--] = null;", "-\t\t\t\t\touterMostOp.addAction(action);", "+\t\t\t\t\ttopLevelOp.addAction(action);", "-\t\t\t\t\tif (outerMostOp.firstActionWithID(id, 0) < 0) {", "-\t\t\t\t\t\touterMostOp.addAction(action);", "+\t\t\t\t\tif (topLevelOp.firstActionWithID(id, 0) < 0) {", "+\t\t\t\t\t\ttopLevelOp.addAction(action);", "-\t\t\t\t\touterMostOp.addAction(action);", "+\t\t\t\t\ttopLevelOp.addAction(action);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8f2362270d142eef23afa269e2d82633", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaModelOperation.java", "commitBeforeChange": "465d39fc0cb8ac60a1b9d098d2c75aab057cb4ee", "commitAfterChange": "0672a6103898dc8927891a504296eb1fa16ff5d7", "methodNumberBeforeChange": 44, "methodNumberAfterChange": 44, "signatureBeforeChange": " \tprotected void postAction(IPostAction action, int insertionMode)", "signatureAfterChange": " \tprotected void postAction(IPostAction action, int insertionMode)", "diff": ["-\t\tif (outerMostOp.actions == null) {", "-\t\t\touterMostOp.actions = new IPostAction[1];", "-\t\t\touterMostOp.actions[0] = action;", "+\t\tIPostAction[] postActions = outerMostOp.actions;", "+\t\tif (postActions == null) {", "+\t\t\touterMostOp.actions = postActions = new IPostAction[1];", "+\t\t\tpostActions[0] = action;", "-\t\t\t\tcase REPLACE_LAST :", "-\t\t\t\t\tint existing = outerMostOp.lastActionWithID(id);", "-\t\t\t\t\tif (existing != -1) {", "-\t\t\t\t\t\touterMostOp.actions[existing] = action;", "-\t\t\t\t\t} else {", "-\t\t\t\t\t\touterMostOp.addAction(action);", "+\t\t\t\tcase REMOVEALL_APPEND :", "+\t\t\t\t\tint index = -1;", "+\t\t\t\t\twhile ((index = outerMostOp.firstActionWithID(id, index+1)) >= 0) {", "+\t\t\t\t\t\t// remove action[index]", "+\t\t\t\t\t\tSystem.arraycopy(postActions, index+1, postActions, index, outerMostOp.actionsPtr - index);", "+\t\t\t\t\t\tpostActions[outerMostOp.actionsPtr--] = null;", "+\t\t\t\t\touterMostOp.addAction(action);", "-\t\t\t\t\texisting = outerMostOp.lastActionWithID(id);", "-\t\t\t\t\tif (existing == -1) {", "+\t\t\t\t\tif (outerMostOp.firstActionWithID(id, 0) < 0) {", "-\t\t\t\tcase DEFAULT:", "+\t\t\t\tcase APPEND:"]}], "num": 56216}