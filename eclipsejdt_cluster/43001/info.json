{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "192d39e5accabdee1259b3e7efb0515d", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1c0ac4e03751003cef9b8c41a676ce12", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/eval/EvaluationTest.java", "commitBeforeChange": "faf6597aa00a794b3bf608aa263d02964fb5a0f9", "commitAfterChange": "26e210811de2fca857d5561ae26405b72dccc0f5", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 14, "signatureBeforeChange": " protected void evaluateWithExpectedProblem(GlobalVariable var, IProblem expected)", "signatureAfterChange": " \tprotected void evaluateWithExpectedProblem(GlobalVariable var, IProblem expected)", "diff": ["- */", "-protected void evaluateWithExpectedProblem(GlobalVariable var, IProblem expected) {", "-\tRequestor requestor = new Requestor();", "-\ttry {", "-\t\tcontext.evaluateVariables(getEnv(), getOptions(), requestor, getProblemFactory());", "-\t} catch (InstallException e) {", "-\t\tassertTrue(\"Target exception \" + e.getMessage(), false);", "-\t}", "-\tfor (int i = 0; i <= requestor.resultIndex; i++) {", "-\t\tEvaluationResult result = requestor.results[i];", "-\t\tassertTrue(\"Has value\", !result.hasValue());", "-\t\tassertTrue(\"Has problem\", result.hasProblems());", "-\t\tassertEquals(\"Evaluation type\", EvaluationResult.T_VARIABLE, result.getEvaluationType());", "-\t\tassertEquals(\"Evaluation id\", var.getName(), result.getEvaluationID());", "-\t\tIProblem[] problems = result.getProblems();", "-\t\tif (equals(expected, problems[0])) {", "-\t\t\treturn;", "+\t */", "+\tprotected void evaluateWithExpectedProblem(GlobalVariable var, IProblem expected) {", "+\t\tRequestor requestor = new Requestor();", "+\t\ttry {", "+\t\t\tcontext.evaluateVariables(getEnv(), getCompilerOptions(), requestor, getProblemFactory());", "+\t\t} catch (InstallException e) {", "+\t\t\tassertTrue(\"Target exception \" + e.getMessage(), false);", "-\t}", "-\tassertTrue(\"Expected problem not found\", false);", "-}", "+\t\tfor (int i = 0; i <= requestor.resultIndex; i++) {", "+\t\t\tEvaluationResult result = requestor.results[i];", "+\t\t\tassertTrue(\"Has value\", !result.hasValue());", "+\t\t\tassertTrue(\"Has problem\", result.hasProblems());", "+\t\t\tassertEquals(\"Evaluation type\", EvaluationResult.T_VARIABLE, result.getEvaluationType());", "+\t\t\tassertEquals(\"Evaluation id\", var.getName(), result.getEvaluationID());", "+\t\t\tIProblem[] problems = result.getProblems();", "+\t\t\tif (equals(expected, problems[0])) {", "+\t\t\t\treturn;", "+\t\t\t}", "+\t\tassertTrue(\"Expected problem not found\", false);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "790b3928797fae51bb3fd7dd79a18652", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/eval/EvaluationTest.java", "commitBeforeChange": "faf6597aa00a794b3bf608aa263d02964fb5a0f9", "commitAfterChange": "26e210811de2fca857d5561ae26405b72dccc0f5", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 13, "signatureBeforeChange": " protected void evaluateWithExpectedProblem(char[] codeSnippet, String problemsString)", "signatureAfterChange": " \tprotected void evaluateWithExpectedProblem(char[] codeSnippet, String problemsString)", "diff": ["- */", "-protected void evaluateWithExpectedProblem(char[] codeSnippet, String problemsString) {", "-\tRequestor requestor = new Requestor();", "-\ttry {", "-\t\tcontext.evaluate(codeSnippet, getEnv(), getOptions(), requestor, getProblemFactory());", "-\t} catch (InstallException e) {", "-\t\tassertTrue(\"Target exception \" + e.getMessage(), false);", "-\tassertTrue(\"Got one result\", requestor.resultIndex == 0);", "-\tEvaluationResult result = requestor.results[0];", "-\tassertTrue(\"Has value\", !result.hasValue());", "-\tassertTrue(\"Has problem\", result.hasProblems());", "-\tassertEquals(\"Evaluation type\", EvaluationResult.T_CODE_SNIPPET, result.getEvaluationType());", "-\tassertEquals(\"Evaluation id\", codeSnippet, result.getEvaluationID());", "-\tStringBuffer problemBuffer = new StringBuffer(20);", "-\tIProblem[] problems = result.getProblems();", "-\tfor (int i = 0; i < problems.length; i++) {", "-\t\tproblemBuffer.append(problems[i].getMessage()).append('\\n');", "-\t}", "-\tassertEquals(\"Unexpected problems\", problemsString, problemBuffer.toString());", "-}", "+\t */", "+\tprotected void evaluateWithExpectedProblem(char[] codeSnippet, String problemsString) {", "+\t\tRequestor requestor = new Requestor();", "+\t\ttry {", "+\t\t\tcontext.evaluate(codeSnippet, getEnv(), getCompilerOptions(), requestor, getProblemFactory());", "+\t\t} catch (InstallException e) {", "+\t\t\tassertTrue(\"Target exception \" + e.getMessage(), false);", "+\t\t}", "+\t\tassertTrue(\"Got one result\", requestor.resultIndex == 0);", "+\t\tEvaluationResult result = requestor.results[0];", "+\t\tStringBuffer problemBuffer = new StringBuffer(20);", "+\t\tfor (int i = 0; i < problems.length; i++) {", "+\t\t\tproblemBuffer.append(problems[i].getMessage()).append('\\n');", "+\t\tassertEquals(\"Unexpected problems\", problemsString, problemBuffer.toString());"]}], "num": 43001}