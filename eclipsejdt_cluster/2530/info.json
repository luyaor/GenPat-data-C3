{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0bb0cfdac5b8c36caba454b1c585fac9", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b70b61d7fd791f567efc77d89c358887", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/batch/org/eclipse/jdt/internal/compiler/batch/FileSystem.java", "commitBeforeChange": "49709bf8c2e28ee09c1495f3c38bd0f03955bc27", "commitAfterChange": "a1768f443093f3441269907bc7cfbf61433d342b", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": " private void initializeKnownFileNames(String[] initialFileNames)", "signatureAfterChange": " private void initializeKnownFileNames(String[] initialFileNames)", "diff": ["-\tthis.knownFileNames = new String[initialFileNames.length];", "+\tthis.knownFileNames = new HashSet(initialFileNames.length * 2);", "-\t\tString fileName = initialFileNames[i];", "-\t\tString matchingPathName = null;", "-\t\tif (fileName.lastIndexOf(\".\") != -1) //$NON-NLS-1$", "-\t\t\tfileName = fileName.substring(0, fileName.lastIndexOf('.')); // remove trailing \".java\"", "-", "-\t\tfileName = convertPathSeparators(fileName);", "+\t\tchar[] fileName = initialFileNames[i].toCharArray();", "+\t\tchar[] matchingPathName = null;", "+\t\tfinal int lastIndexOf = CharOperation.lastIndexOf('.', fileName);", "+\t\tif (lastIndexOf != -1) {", "+\t\t\tfileName = CharOperation.subarray(fileName, 0, lastIndexOf);", "+\t\t}", "+\t\tCharOperation.replace(fileName, '\\\\', '/');", "-\t\t\tString matchCandidate = this.classpaths[j].normalizedPath();", "+\t\t\tchar[] matchCandidate = this.classpaths[j].normalizedPath();", "-\t\t\t\t\tfileName.startsWith(matchCandidate) && ", "-\t\t\t\t\t(matchingPathName == null || ", "-\t\t\t\t\t\t\tmatchCandidate.length() < matchingPathName.length()))", "+\t\t\t\t\tCharOperation.prefixEquals(matchCandidate, fileName) && ", "+\t\t\t\t\t(matchingPathName == null ||", "+\t\t\t\t\t\t\tmatchCandidate.length < matchingPathName.length))", "-\t\tif (matchingPathName == null)", "-\t\t\tthis.knownFileNames[i] = fileName; // leave as is...", "-\t\telse", "-\t\t\tthis.knownFileNames[i] = fileName.substring(matchingPathName.length());", "+\t\tif (matchingPathName == null) {", "+\t\t\tthis.knownFileNames.add(new String(fileName)); // leave as is...", "+\t\t} else {", "+\t\t\tthis.knownFileNames.add(new String(CharOperation.subarray(fileName, matchingPathName.length, fileName.length)));", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ee1760a6f4f9f7140cc0232fffd760a8", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/batch/org/eclipse/jdt/internal/compiler/batch/Main.java", "commitBeforeChange": "1fd4391b9d956e4b222e75746a12248fe673ae09", "commitAfterChange": "0ac06ace387f6f7ca79dcd41a12a6564b157c4e4", "methodNumberBeforeChange": 42, "methodNumberAfterChange": 41, "signatureBeforeChange": "  \t\tpublic void printStats(Main main)", "signatureAfterChange": "  \t\tpublic void printStats()", "diff": ["-\t\tpublic void printStats(Main main) {", "-\t\t\tfinal boolean isTimed = main.timing;", "+\t\tpublic void printStats() {", "+\t\t\tfinal boolean isTimed = this.main.timing;", "-\t\t\t\tlong time = System.currentTimeMillis() - main.startTime;", "-\t\t\t\tthis.logTiming(time, main.lineCount);", "-\t\t\t\tif (main.times != null) {", "-\t\t\t\t\tmain.times[main.timesCounter++] = time;", "+\t\t\t\tlong time = System.currentTimeMillis() - this.main.startTime;", "+\t\t\t\tthis.logTiming(time, this.main.lineCount);", "+\t\t\t\tif (this.main.times != null) {", "+\t\t\t\t\tthis.main.times[this.main.timesCounter++] = time;", "-\t\t\tif (main.globalProblemsCount > 0) {", "-\t\t\t\tthis.logProblemsSummary(main.globalProblemsCount, main.globalErrorsCount, main.globalWarningsCount, main.globalTasksCount);", "+\t\t\tif (this.main.globalProblemsCount > 0) {", "+\t\t\t\tthis.logProblemsSummary(this.main.globalProblemsCount, this.main.globalErrorsCount, this.main.globalWarningsCount, main.globalTasksCount);", "-\t\t\tif (main.exportedClassFilesCounter != 0", "-\t\t\t\t\t&& (main.showProgress || isTimed || main.verbose)) {", "-\t\t\t\tthis.logNumberOfClassFilesGenerated(main.exportedClassFilesCounter);", "+\t\t\tif (this.main.exportedClassFilesCounter != 0", "+\t\t\t\t\t&& (this.main.showProgress || isTimed || this.main.verbose)) {", "+\t\t\t\tthis.logNumberOfClassFilesGenerated(this.main.exportedClassFilesCounter);", "+\t\t}"]}], "num": 2530}