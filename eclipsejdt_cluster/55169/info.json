{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "efc74a97854bc6f4296dc895ed31d316", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "107bbfac0408bc65517d2a7e29eebd89", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/processing/JobManager.java", "commitBeforeChange": "2c7188c2cc54fb87a64d770ede4d437b19568fed", "commitAfterChange": "73cb911baa8db75db819f7327ce2bb8d1c8537b4", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "\r \tpublic void run()", "signatureAfterChange": "\r \tpublic void run()", "diff": ["-\t\t\twhile (true) {\r", "+\t\t\twhile (this.thread != null) {\r", "-\t\t\t// log exception\r", "-\t\t\torg.eclipse.jdt.internal.core.Util.log(e, \"Background Indexer Crash Recovery\"); //$NON-NLS-1$\r", "-\t\t\t\r", "-\t\t\t// keep job manager alive\r", "-\t\t\tthis.discardJobs(null);\r", "-\t\t\tthis.thread = null;\r", "-\t\t\tthis.reset(); // this will fork a new thread\r", "-\t\t\tthrow e;\r", "+\t\t\tif (this.thread != null) { // if not shutting down\r", "+\t\t\t\t// log exception\r", "+\t\t\t\torg.eclipse.jdt.internal.core.Util.log(e, \"Background Indexer Crash Recovery\"); //$NON-NLS-1$\r", "+\t\t\t\t\r", "+\t\t\t\t// keep job manager alive\r", "+\t\t\t\tthis.discardJobs(null);\r", "+\t\t\t\tthis.thread = null;\r", "+\t\t\t\tthis.reset(); // this will fork a new thread\r", "+\t\t\t\tthrow e;\r", "+\t\t\t}\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "520041748e23342d0a5c6ae75dacbc54", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/processing/JobManager.java", "commitBeforeChange": "2ead4bdcbfe85e4d5b336d70f2ec655c30027212", "commitAfterChange": "f616e9e60854b9ecc305ec556fb6b4dc12ff00d6", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": " \tpublic void run()", "signatureAfterChange": " \tpublic void run()", "diff": ["-\t\t\t\tthis.reset(); // this will fork a new thread", "-\t\t\t\tthrow e;", "+\t\t\t\tthis.reset(); // this will fork a new thread with no waiting jobs, some indexes will be inconsistent", "+\t\t\tthrow e;", "+\t\t} catch (Error e) {", "+\t\t\tif (this.thread != null && !(e instanceof ThreadDeath)) {", "+\t\t\t\t// log exception", "+\t\t\t\torg.eclipse.jdt.internal.core.Util.log(e, \"Background Indexer Crash Recovery\"); //$NON-NLS-1$", "+\t\t\t\t", "+\t\t\t\t// keep job manager alive", "+\t\t\t\tthis.discardJobs(null);", "+\t\t\t\tthis.thread = null;", "+\t\t\t\tthis.reset(); // this will fork a new thread with no waiting jobs, some indexes will be inconsistent", "+\t\t\t}", "+\t\t\tthrow e;"]}], "num": 55169}