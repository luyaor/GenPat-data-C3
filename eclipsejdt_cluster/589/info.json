{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e7edef0c85ab945ba2fe246ac8dd01a7", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "564a193d2c3e409b69dc3032d0634b56", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/DeltaProcessor.java", "commitBeforeChange": "b217112507f53a311f9d32f09e4f736a9ed00294", "commitAfterChange": "7eb499e0531ac46b3d11960000ddd11e09bd5a0f", "methodNumberBeforeChange": 53, "methodNumberAfterChange": 54, "signatureBeforeChange": " \tpublic boolean updateCurrentDeltaAndIndex(IResourceDelta delta, int elementType, RootInfo rootInfo)", "signatureAfterChange": " \tpublic boolean updateCurrentDeltaAndIndex(IResourceDelta delta, int elementType, RootInfo rootInfo)", "diff": ["-\t\t\t\telement = this.createElement(deltaRes, elementType, rootInfo);", "+\t\t\t\telement = createElement(deltaRes, elementType, rootInfo);", "-\t\t\t\tthis.updateIndex(element, delta);", "-\t\t\t\tthis.elementAdded(element, delta, rootInfo);", "+\t\t\t\tupdateIndex(element, delta);", "+\t\t\t\t", "+\t\t\t\t// filter out changes to primary compilation unit in working copy mode", "+\t\t\t\tif (!isPrimaryWorkingCopy(element, elementType)) {", "+\t\t\t\t\telementAdded(element, delta, rootInfo);", "+\t\t\t\t}", "-\t\t\t\telement = this.createElement(deltaRes, elementType, rootInfo);", "+\t\t\t\telement = createElement(deltaRes, elementType, rootInfo);", "-\t\t\t\tthis.updateIndex(element, delta);", "-\t\t\t\tthis.elementRemoved(element, delta, rootInfo);", "+\t\t\t\tupdateIndex(element, delta);", "+", "+\t\t\t\t// filter out changes to primary compilation unit in working copy mode", "+\t\t\t\tif (!isPrimaryWorkingCopy(element, elementType)) {", "+\t\t\t\t\telementRemoved(element, delta, rootInfo);", "+\t\t\t\t}", "-\t\t\t\t\telement = this.createElement(delta.getResource(), elementType, rootInfo);", "+\t\t\t\t\telement = createElement(delta.getResource(), elementType, rootInfo);", "-\t\t\t\t\tthis.updateIndex(element, delta);", "-\t\t\t\t\tthis.contentChanged(element);", "+\t\t\t\t\tupdateIndex(element, delta);", "+\t\t\t\t\t", "+\t\t\t\t\t// filter out changes to primary compilation unit in working copy mode", "+\t\t\t\t\tif (!isPrimaryWorkingCopy(element, elementType)) {", "+\t\t\t\t\t\tcontentChanged(element);", "+\t\t\t\t\t}", "-\t\t\t\t\t\telement = this.createElement(res, elementType, rootInfo);", "+\t\t\t\t\t\telement = createElement(res, elementType, rootInfo);", "-\t\t\t\t\t\t\t\tthis.elementAdded(element, delta, rootInfo);", "+\t\t\t\t\t\t\t\telementAdded(element, delta, rootInfo);", "-\t\t\t\t\t\t\t\tthis.elementRemoved(element, delta, rootInfo);", "+\t\t\t\t\t\t\t\telementRemoved(element, delta, rootInfo);", "-\t\t\t\t\t\t\t\tthis.elementAdded(element, delta, rootInfo);", "+\t\t\t\t\t\t\t\telementAdded(element, delta, rootInfo);", "-\t\t\t\t\t\t\t\tthis.elementRemoved(element, delta, rootInfo);", "+\t\t\t\t\t\t\t\telementRemoved(element, delta, rootInfo);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d04488ed297e7e57be1a126f39ed2981", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/DeltaProcessor.java", "commitBeforeChange": "9edf0a990e69fc752ead21c476a00fb874aa8f40", "commitAfterChange": "a5351a8c92738db988d5e1c19e4b7b0af64944e3", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 17, "signatureBeforeChange": "\r private boolean updateCurrentDeltaAndIndex(IResourceDelta delta, int elementType, IJavaProject project) throws JavaModelException", "signatureAfterChange": "\r private boolean updateCurrentDeltaAndIndex(IResourceDelta delta, int elementType, IJavaProject project) throws JavaModelException", "diff": ["-\t\t\tupdateIndex(element, delta);\r", "-\t\t\telementAdded(element, delta);\r", "+\t\t\tthis.updateIndex(element, delta);\r", "+\t\t\tthis.elementAdded(element, delta);\r", "-\t\t\tupdateIndex(element, delta);\r", "-\t\t\telementRemoved(element, delta);\r", "+\t\t\tthis.updateIndex(element, delta);\r", "+\t\t\tthis.elementRemoved(element, delta);\r", "+\t\t\t\t// content has changed\r", "-\t\t\t\tupdateIndex(element, delta);\r", "-\t\t\t\tcontentChanged(element, delta);\r", "-\t\t\t} else if ((flags & IResourceDelta.OPEN) != 0) {\r", "-\t\t\t\telement = this.createElement(delta.getResource(), elementType, project);\r", "+\t\t\t\tthis.updateIndex(element, delta);\r", "+\t\t\t\tthis.contentChanged(element, delta);\r", "+\t\t\t} else if (elementType == IJavaElement.JAVA_PROJECT\r", "+\t\t\t\t\t&& (flags & IResourceDelta.OPEN) != 0) {\r", "+\t\t\t\t// project has been opened or closed\r", "+\t\t\t\tIProject res = (IProject)delta.getResource();\r", "+\t\t\t\telement = this.createElement(res, elementType, project);\r", "-\t\t\t\tupdateIndex(element, delta);\r", "-\t\t\t\tif (isOpen(delta.getResource())) {\r", "-\t\t\t\t\telementOpened(element, delta);\r", "+\t\t\t\tif (res.isOpen()) {\r", "+\t\t\t\t\tthis.elementOpened(element, delta);\r", "-\t\t\t\t\telementClosed(element, delta);\r", "+\t\t\t\t\tthis.elementClosed(element, delta);\r", "+\t\t\t\tthis.updateIndex(element, delta);\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d54051142c201970e776aa6cf5dca964", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/DeltaProcessor.java", "commitBeforeChange": "410d11642750f05a6243be841d06f42ceed7a0e1", "commitAfterChange": "e69b75f122af6f64c831ddc9380ae2c446ae4d8b", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 21, "signatureBeforeChange": "\r private boolean updateCurrentDeltaAndIndex(IResourceDelta delta, int elementType, IJavaProject project) throws JavaModelException", "signatureAfterChange": "\r private boolean updateCurrentDeltaAndIndex(IResourceDelta delta, int elementType, IJavaProject project) throws JavaModelException", "diff": ["-\t\t\telement = this.createElement(delta.getResource(), elementType, project);\r", "-\t\t\tif (element == null) throw newInvalidElementType();\r", "+\t\t\tIResource deltaRes = delta.getResource();\r", "+\t\t\telement = this.createElement(deltaRes, elementType, project);\r", "+\t\t\tif (element == null) {\r", "+\t\t\t\t// resource might be containing shared roots (see bug 19058)\r", "+\t\t\t\tthis.updateRoots(deltaRes.getFullPath(), delta);\r", "+\t\t\t\tthrow newInvalidElementType();\r", "+\t\t\t}\r", "-\t\t\telement = this.createElement(delta.getResource(), elementType, project);\r", "-\t\t\tif (element == null) throw newInvalidElementType();\r", "+\t\t\tdeltaRes = delta.getResource();\r", "+\t\t\telement = this.createElement(deltaRes, elementType, project);\r", "+\t\t\tif (element == null) {\r", "+\t\t\t\t// resource might be containing shared roots (see bug 19058)\r", "+\t\t\t\tthis.updateRoots(deltaRes.getFullPath(), delta);\r", "+\t\t\t\tthrow newInvalidElementType();\r", "+\t\t\t}\r", "-\t\t\t\t\tif (element == null) throw newInvalidElementType();\r", "+\t\t\t\t\tif (element == null) {\r", "+\t\t\t\t\t\t// resource might be containing shared roots (see bug 19058)\r", "+\t\t\t\t\t\tthis.updateRoots(res.getFullPath(), delta);\r", "+\t\t\t\t\t\tthrow newInvalidElementType();\r", "+\t\t\t\t\t}\r", "-\t\t\t\t\t\tif (element == null) throw newInvalidElementType();\r", "+\t\t\t\t\t\tif (element == null) throw newInvalidElementType(); // note its resources are still visible as roots to other projects\r"]}], "num": 589}