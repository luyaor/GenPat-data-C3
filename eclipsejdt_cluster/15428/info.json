{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "189003fc21177ccccdf9f6a3678def33", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2ca054a7220b150c5ab1e89c492b111d", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/Scribe.java", "commitBeforeChange": "c62ecfd031507c11ea236866605fedd6f3a952c5", "commitAfterChange": "ded73445e8c5cf2db0a4abcc53e1680f02ae6cf7", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": "  \tpublic Alignment createAlignment(int kind, int mode, int tieBreakRule, int count, int sourceRestart, int continuationIndent, boolean adjust)", "signatureAfterChange": "  \tpublic Alignment createAlignment(int kind, int mode, int tieBreakRule, int count, int sourceRestart, int continuationIndent, boolean adjust)", "diff": ["+\t\t// specific break indentation for message arguments inside binary expressions", "+\t\tif ((this.currentAlignment == null && this.formatter.expressionsDepth >= 0) ||", "+\t\t\t(this.currentAlignment != null && this.currentAlignment.kind == Alignment.BINARY_EXPRESSION &&", "+\t\t\t\t(this.formatter.expressionsPos & CodeFormatterVisitor.EXPRESSIONS_POS_MASK) == CodeFormatterVisitor.EXPRESSIONS_POS_BETWEEN_TWO)) {", "+\t\t\tswitch (kind) {", "+\t\t\t\tcase Alignment.CONDITIONAL_EXPRESSION:", "+\t\t\t\tcase Alignment.MESSAGE_ARGUMENTS:", "+\t\t\t\tcase Alignment.MESSAGE_SEND:", "+\t\t\t\t\tif (this.formatter.lastBinaryExpressionAlignmentBreakIndentation == alignment.breakIndentationLevel) {", "+\t\t\t\t\t\talignment.breakIndentationLevel += this.indentationSize;", "+\t\t\t\t\t\talignment.shiftBreakIndentationLevel += this.indentationSize;", "+\t\t\t\t\t\tthis.formatter.lastBinaryExpressionAlignmentBreakIndentation = 0;", "+\t\t\t\t\t}", "+\t\t\t\t\tbreak;", "+\t\t\t}", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4094f21b9d9355911b5ef079e61e6d0e", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/Scribe.java", "commitBeforeChange": "e7d60d6a1b8e52fde368eb35071909d0d4d0895e", "commitAfterChange": "dbccfabc436a755dd314d3780906cc13c2df858a", "methodNumberBeforeChange": 36, "methodNumberAfterChange": 36, "signatureBeforeChange": " \tprivate String getPreserveEmptyLines(int count)", "signatureAfterChange": " \tprivate String getPreserveEmptyLines(int count)", "diff": ["-\t\t\tif (this.currentAlignment != null && !this.formatter.preferences.join_wrapped_lines) {", "-\t\t\t\tint savedIndentation = this.indentationLevel;", "-\t\t\t\tStringBuffer buffer = new StringBuffer(getNewLine());", "-\t\t\t\tthis.indentationLevel = this.currentAlignment.breakIndentationLevel;", "-\t\t\t\tprintIndentationIfNecessary(buffer);", "-\t\t\t\tthis.indentationLevel = savedIndentation;", "-\t\t\t\treturn buffer.toString();", "+\t\t\tif (this.currentAlignment != null && this.memberAlignment != null && !this.formatter.preferences.join_wrapped_lines) {", "+\t\t\t\tif (this.memberAlignment.depth() <= this.currentAlignment.depth()) {", "+\t\t\t\t\tint savedIndentation = this.indentationLevel;", "+\t\t\t\t\tStringBuffer buffer = new StringBuffer(getNewLine());", "+\t\t\t\t\tthis.indentationLevel = this.currentAlignment.breakIndentationLevel;", "+\t\t\t\t\tprintIndentationIfNecessary(buffer);", "+\t\t\t\t\tthis.indentationLevel = savedIndentation;", "+\t\t\t\t\treturn buffer.toString();", "+\t\t\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8db4b16c2c801eeb3728a0d064020c39", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/Scribe.java", "commitBeforeChange": "418c9d96f68afdaa5bf2af6f5a37a844d4f83382", "commitAfterChange": "0ca5c78856085a3f8ae52f8191293310a57eb6c4", "methodNumberBeforeChange": 36, "methodNumberAfterChange": 36, "signatureBeforeChange": "  \tprivate String getPreserveEmptyLines(int count)", "signatureAfterChange": " \tprivate String getPreserveEmptyLines(int count)", "diff": ["+\t */", "-\t\tif (count > 0) {", "-\t\t\tif (this.formatter.preferences.number_of_empty_lines_to_preserve != 0) {", "-\t\t\t\tint linesToPreserve = Math.min(count, this.formatter.preferences.number_of_empty_lines_to_preserve);", "-\t\t\t\treturn getEmptyLines(linesToPreserve);", "+\t\tif (count == 0) {", "+\t\t\t// preserve line breaks in wrapping if specified", "+\t\t\t// see bug https://bugs.eclipse.org/bugs/show_bug.cgi?id=198074", "+\t\t\tif (this.currentAlignment != null && this.formatter.preferences.preserve_existing_line_breaks) {", "+\t\t\t\tint savedIndentation = this.indentationLevel;", "+\t\t\t\tStringBuffer buffer = new StringBuffer(getNewLine());", "+\t\t\t\tthis.indentationLevel = this.currentAlignment.breakIndentationLevel;", "+\t\t\t\tprintIndentationIfNecessary(buffer);", "+\t\t\t\tthis.indentationLevel = savedIndentation;", "+\t\t\t\treturn buffer.toString();", "-\t\t\treturn getNewLine();", "+\t\t\treturn Util.EMPTY_STRING;", "-\t\treturn Util.EMPTY_STRING;", "+\t\tif (this.formatter.preferences.number_of_empty_lines_to_preserve != 0) {", "+\t\t\tint linesToPreserve = Math.min(count, this.formatter.preferences.number_of_empty_lines_to_preserve);", "+\t\t\treturn getEmptyLines(linesToPreserve);", "+\t\t}", "+\t\treturn getNewLine();"]}], "num": 15428}