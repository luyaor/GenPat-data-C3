{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "17bfd9c7caa17f4f9eb326240fab336d", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1d6cb697516fb0a4a26d3fc9eb34a6d9", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/Annotation.java", "commitBeforeChange": "319e132378b5c1c0aece8d1d96f3f91cd79e4d01", "commitAfterChange": "55099d2c60113e1ad2e8ab8558e8720dd555fab8", "methodNumberBeforeChange": 27, "methodNumberAfterChange": 27, "signatureBeforeChange": "  \tpublic TypeBinding resolveType(BlockScope scope)", "signatureAfterChange": "  \tpublic TypeBinding resolveType(BlockScope scope)", "diff": ["-\t\t\t\t\t\tif ((annotationType.tagBits & TagBits.AnnotationTargetMASK) == TagBits.AnnotationForTypeUse) {", "-\t\t\t\t\t\t\tif (variable.type != null) {", "+\t\t\t\t\t\tif (scope.compilerOptions().sourceLevel < ClassFileConstants.JDK1_8) {", "+\t\t\t\t\t\t\tvariable.tagBits |= tagBits;", "+\t\t\t\t\t\t\tif ((variable.tagBits & TAGBITS_NULLABLE_OR_NONNULL) == TAGBITS_NULLABLE_OR_NONNULL) {", "+\t\t\t\t\t\t\t\tscope.problemReporter().contradictoryNullAnnotations(this);", "+\t\t\t\t\t\t\t\tvariable.tagBits &= ~TAGBITS_NULLABLE_OR_NONNULL; // avoid secondary problems", "+\t\t\t\t\t\t\t}", "+\t\t\t\t\t\t} else if (variable.type != null) {", "+\t\t\t\t\t\t\t// bits not relating to null analysis go into the variable:", "+\t\t\t\t\t\t\tvariable.tagBits |= tagBits & ~TagBits.AnnotationNullMASK;", "+\t\t\t\t\t\t\t// null bits go into the type:", "+\t\t\t\t\t\t\tlong nullTagBits = tagBits & TagBits.AnnotationNullMASK;", "+\t\t\t\t\t\t\tif (nullTagBits != 0) {", "-\t\t\t\t\t\t\t\t\tlong nullTagBits = tagBits & TagBits.AnnotationNullMASK;", "-\t\t\t\t\t\t\t\t\tvariable.type = scope.environment().createAnnotatedType(variable.type, nullTagBits);", "-\t\t\t\t\t\t\t\t\tif ((variable.type.tagBits & TAGBITS_NULLABLE_OR_NONNULL) == TAGBITS_NULLABLE_OR_NONNULL) {", "-\t\t\t\t\t\t\t\t\t\tscope.problemReporter().contradictoryNullAnnotations(this);", "-\t\t\t\t\t\t\t\t\t\tvariable.type.tagBits &= ~TAGBITS_NULLABLE_OR_NONNULL; // avoid secondary problems", "-\t\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\tif (scope.compilerOptions().sourceLevel < ClassFileConstants.JDK1_8) {", "-\t\t\t\t\t\t\t\tvariable.tagBits |= tagBits;", "-\t\t\t\t\t\t\t\tif ((variable.tagBits & TAGBITS_NULLABLE_OR_NONNULL) == TAGBITS_NULLABLE_OR_NONNULL) {", "-\t\t\t\t\t\t\t\t\tscope.problemReporter().contradictoryNullAnnotations(this);", "-\t\t\t\t\t\t\t\t\tvariable.tagBits &= ~TAGBITS_NULLABLE_OR_NONNULL; // avoid secondary problems", "-\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t} else if (variable.type != null) {", "-\t\t\t\t\t\t\t\t// bits not relating to null analysis go into the variable:", "-\t\t\t\t\t\t\t\tvariable.tagBits |= tagBits & ~TagBits.AnnotationNullMASK;", "-\t\t\t\t\t\t\t\t// null bits go into the type:", "-\t\t\t\t\t\t\t\tlong nullTagBits = tagBits & TagBits.AnnotationNullMASK;", "-\t\t\t\t\t\t\t\tif (nullTagBits != 0) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e296eda27f6df68f78800f14dfcb9348", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/Annotation.java", "commitBeforeChange": "93e5ff3a6545305db70cc209a35909ba11267a03", "commitAfterChange": "68db0a50107f072688f40bcdb70cc1c2cadc3119", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": "  \tpublic TypeBinding resolveType(BlockScope scope)", "signatureAfterChange": "  \tpublic TypeBinding resolveType(BlockScope scope)", "diff": ["-\t\t\t\t\t\tif (scope.compilerOptions().sourceLevel < ClassFileConstants.JDK1_8) {", "-\t\t\t\t\t\t\tvariable.tagBits |= tagBits;", "-\t\t\t\t\t\t\tif ((variable.tagBits & TagBits.AnnotationNullMASK) == TagBits.AnnotationNullMASK) {", "-\t\t\t\t\t\t\t\tscope.problemReporter().contradictoryNullAnnotations(this);", "-\t\t\t\t\t\t\t\tvariable.tagBits &= ~TagBits.AnnotationNullMASK; // avoid secondary problems", "-\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t} else if (variable.type != null) {", "-\t\t\t\t\t\t\t// bits not relating to null analysis go into the variable:", "-\t\t\t\t\t\t\tvariable.tagBits |= tagBits & ~TagBits.AnnotationNullMASK;", "-\t\t\t\t\t\t\t// null bits go into the type:", "-\t\t\t\t\t\t\tlong nullTagBits = tagBits & TagBits.AnnotationNullMASK;", "-\t\t\t\t\t\t\tif (nullTagBits != 0) {", "-\t\t\t\t\t\t\t\tif (variable.type.isBaseType()) {", "-\t\t\t\t\t\t\t\t\tscope.problemReporter().illegalAnnotationForBaseType(this, variable.type);", "-\t\t\t\t\t\t\t\t} else if (variable.declaration.type instanceof QualifiedTypeReference) {", "-\t\t\t\t\t\t\t\t\tscope.problemReporter().nullAnnotationUnsupportedLocation(this);", "-\t\t\t\t\t\t\t\t} else if (nullTagBits != (variable.type.tagBits & TagBits.AnnotationNullMASK)) {", "-\t\t\t\t\t\t\t\t\tif (((variable.type.tagBits & TagBits.AnnotationNullMASK) | nullTagBits ) == TagBits.AnnotationNullMASK) {", "-\t\t\t\t\t\t\t\t\t\tscope.problemReporter().contradictoryNullAnnotations(this);", "-\t\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t}", "+\t\t\t\t\t\tvariable.tagBits |= tagBits;", "+\t\t\t\t\t\tif ((variable.tagBits & TagBits.AnnotationNullMASK) == TagBits.AnnotationNullMASK) {", "+\t\t\t\t\t\t\tscope.problemReporter().contradictoryNullAnnotations(this);", "+\t\t\t\t\t\t\tvariable.tagBits &= ~TagBits.AnnotationNullMASK; // avoid secondary problems"]}], "num": 23598}