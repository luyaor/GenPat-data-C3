{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "48b450c25ed924a2ab63d662d5c29590", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7f795db178bff5fcf5586b3cfabadeb5", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/ReferenceBinding.java", "commitBeforeChange": "74d118e989117eba0163f0f707314197db0891af", "commitAfterChange": "43cdae5117454d896e9e9cf435f63b0b509e3a4c", "methodNumberBeforeChange": 44, "methodNumberAfterChange": 44, "signatureBeforeChange": " boolean hasNonNullDefault()", "signatureAfterChange": " boolean hasNonNullDefaultFor(int location, boolean useTypeAnnotations)", "diff": ["-boolean hasNonNullDefault() {", "+// pre: null annotation analysis is enabled", "+boolean hasNonNullDefaultFor(int location, boolean useTypeAnnotations) {", "-\t\tif ((currentType.tagBits & TagBits.AnnotationNonNullByDefault) != 0)", "-\t\t\treturn true;", "-\t\tif ((currentType.tagBits & TagBits.AnnotationNullUnspecifiedByDefault) != 0)", "-\t\t\treturn false;", "+\t\tif (useTypeAnnotations) {", "+\t\t\tint nullDefault = ((ReferenceBinding)currentType.original()).getNullDefault();", "+\t\t\tif (nullDefault != 0)", "+\t\t\t\treturn (nullDefault & location) != 0;", "+\t\t} else {", "+\t\t\tif ((currentType.tagBits & TagBits.AnnotationNonNullByDefault) != 0)", "+\t\t\t\treturn true;", "+\t\t\tif ((currentType.tagBits & TagBits.AnnotationNullUnspecifiedByDefault) != 0)", "+\t\t\t\treturn false;", "+\t\t}", "-\treturn this.getPackage().defaultNullness == NONNULL_BY_DEFAULT;", "+\tif (useTypeAnnotations)", "+\t\treturn (this.getPackage().defaultNullness & location) != 0;", "+\telse", "+\t\treturn this.getPackage().defaultNullness == NONNULL_BY_DEFAULT;", "+}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ed66b714f1c28b242b50daa660dac227", "repository": "http://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git", "fileName": "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/MethodBinding.java", "commitBeforeChange": "74d118e989117eba0163f0f707314197db0891af", "commitAfterChange": "43cdae5117454d896e9e9cf435f63b0b509e3a4c", "methodNumberBeforeChange": 72, "methodNumberAfterChange": 72, "signatureBeforeChange": " public boolean hasNonNullDefault()", "signatureAfterChange": " public boolean hasNonNullDefaultFor(int location, boolean useTypeAnnotations)", "diff": ["-public boolean hasNonNullDefault() {", "-\tif ((this.tagBits & TagBits.AnnotationNonNullByDefault) != 0)", "-\t\treturn true;", "-\tif ((this.tagBits & TagBits.AnnotationNullUnspecifiedByDefault) != 0)", "-\t\treturn false;", "-\treturn this.declaringClass.hasNonNullDefault();", "+//pre: null annotation analysis is enabled", "+public boolean hasNonNullDefaultFor(int location, boolean useTypeAnnotations) {", "+\tif (useTypeAnnotations) {", "+\t\tif (this.defaultNullness != 0)", "+\t\t\treturn (this.defaultNullness & location) != 0;", "+\t} else {", "+\t\tif ((this.tagBits & TagBits.AnnotationNonNullByDefault) != 0)", "+\t\t\treturn true;", "+\t\tif ((this.tagBits & TagBits.AnnotationNullUnspecifiedByDefault) != 0)", "+\t\t\treturn false;", "+\t}", "+\treturn this.declaringClass.hasNonNullDefaultFor(location, useTypeAnnotations);"]}], "num": 48954}