{"members": [{"repository": "git://git.code.sf.net/p/fitlibrary/fitlibrary", "methodNumberBeforeChange": 2, "signatureBeforeChange": "\r \r \tpublic boolean reportsEqual(String level, Tables actualTables, Tables expectedTables)", "fileName": "src/fitlibrary/spec/SpecifyFixture2.java", "methodNumberAfterChange": 2, "commitBeforeChange": "681d5f08a03cb8efaa429831112a5d45fa950ef3", "diff": ["-\tpublic boolean reportsEqual(String level, Tables actualTables, Tables expectedTables) {\r", "-\t\tif (actualTables.size() != expectedTables.size()) {\r", "-\t\t\terrorReport.sizeWrong(level,\"tables\",actualTables.size(),expectedTables.size());\r", "+\tpublic boolean reportsEqual(String path, TableElement actual, TableElement expected) {\r", "+\t\tif (actual.getClass() != expected.getClass()) {\r", "+\t\t\terrorReport.classesWrong(path,actual,expected);\r", "-\t\treturn false;\r", "+\t\tif (actual.size() != expected.size()) {\r", "+\t\t\terrorReport.sizeWrong(path,actual,expected);\r", "+\t\t\treturn false;\r", "+\t\t}\r", "+\t\tIterator<TableElement> actuals = actual.iterator();\r", "+\t\tIterator<TableElement> expecteds = expected.iterator();\r", "+\t\tint count = 0;\r", "+\t\twhile (actuals.hasNext()) {\r", "+\t\t\tTableElement act = actuals.next();\r", "+\t\t\tString nameOfElement = act.getType()+\"[\"+count+\"]\";\r", "+\t\t\tString pathFurther = path.isEmpty() ? nameOfElement : path + \".\" + nameOfElement;\r", "+\t\t\tif (!reportsEqual(pathFurther,act,expecteds.next()))\r", "+\t\t\t\treturn false;\r", "+\t\t\tcount++;\r", "+\t\t}\r", "+\t\tif (actual instanceof Cell) {\r", "+\t\t\tCell actualCell = (Cell) actual;\r", "+\t\t\tCell expectedCell = (Cell) expected;\r", "+\t\t\tif (!actualCell.text().equals(expectedCell.text())) {\r", "+\t\t\t\terrorReport.cellTextWrong(path,actualCell.text(),expectedCell.text());\r", "+\t\t\t\treturn false;\r", "+\t\t\t}\r", "+\t\t}\r", "+\t\treturn true;\r"], "commitAfterChange": "e2da601cf629ddf34f7877021df06bd4f5925d28", "signatureAfterChange": "\r \r \tpublic boolean reportsEqual(String path, TableElement actual, TableElement expected)", "id": "38225b581d50e04626ea63efa26bcfed", "@class": "de.fau.cs.inf2.cthree.data.CodeChange"}, {"repository": "git://git.code.sf.net/p/fitlibrary/fitlibrary", "methodNumberBeforeChange": 2, "signatureBeforeChange": "\r \tprivate boolean equals(String actual, String expected)", "fileName": "src/fitlibrary/spec/TablesCompare.java", "methodNumberAfterChange": 2, "commitBeforeChange": "aa7e035202af44c59ac4b9611ab51754bfc767f1", "diff": ["-\tprivate boolean equals(String actual, String expected) {\r", "-\t\tString canonicalActual = canonical(actual);\r", "-\t\tString canonicalExpected = canonical(expected);\r", "+\tpublic boolean equals(String actualString, String expectedString) {\r", "+\t\tString actual = canonical(actualString);\r", "+\t\tString expected = canonical(expectedString);\r", "-\t\tif (\"IGNORE\".equals(canonicalExpected))\r", "+\t\tif (\"IGNORE\".equals(expected))\r", "-\t\tint start = canonicalExpected.indexOf(stackTrace);\r", "-\t\tif (start >= 0)\r", "-\t\t\treturn canonicalActual.startsWith(canonicalExpected.substring(0,start+stackTrace.length()));\r", "+\t\tint startExpected = expected.indexOf(stackTrace);\r", "+\t\tint startActual = actual.indexOf(stackTrace);\r", "+\t\tif (startExpected != startActual)\r", "+\t\t\treturn false;\r", "+\t\tif (startExpected >= 0)\r", "+\t\t\treturn actual.startsWith(expected.substring(0,startExpected));\r", "-\t\tstart = canonicalExpected.indexOf(fitLabel);\r", "-\t\tif (start >= 0)\r", "-\t\t\treturn canonicalActual.startsWith(canonicalExpected.substring(0,start+fitLabel.length()));\r", "-\t\treturn canonicalActual.equals(canonicalExpected);\r", "+\t\tString endFitLabel = \"</span>\";\r", "+\t\twhile (true) {\r", "+\t\t\tstartExpected = expected.indexOf(fitLabel);\r", "+\t\t\tstartActual = actual.indexOf(fitLabel);\r", "+\t\t\tif (startExpected != startActual)\r", "+\t\t\t\treturn false;\r", "+\t\t\tif (startExpected < 0)\r", "+\t\t\t\treturn actual.equals(expected);\r", "+\t\t\t\r", "+\t\t\tString expectedPrefix = expected.substring(0,startExpected);\r", "+\t\t\tif (!actual.substring(0,startActual).equals(expectedPrefix))\r", "+\t\t\t\treturn false;\r", "+\t\t\tint endExpected = expected.indexOf(endFitLabel,startExpected);\r", "+\t\t\tint endActual = actual.indexOf(endFitLabel,startActual);\r", "+\t\t\tif (endExpected < 0 || endActual < 0)\r", "+\t\t\t\treturn false;\r", "+\t\t\tString actualLabel = actual.substring(startActual+fitLabel.length(),endActual);\r", "+\t\t\tString expectedLabel = expected.substring(startExpected+fitLabel.length(),endExpected);\r", "+\t\t\tif (!actualLabel.startsWith(expectedLabel))\r", "+\t\t\t\treturn false;\r", "+\t\t\tactual = actual.substring(endActual+endFitLabel.length());\r", "+\t\t\texpected = expected.substring(endExpected+endFitLabel.length());\r", "+\t\t}\r"], "commitAfterChange": "0c95be0b15a91849d3e53045090b616f855d42ad", "signatureAfterChange": "\r \tpublic boolean equals(String actualString, String expectedString)", "id": "549df21d3aecc6712d17c4fa2f5a3489", "@class": "de.fau.cs.inf2.cthree.data.CodeChange"}], "id": "9d7174cf322b12703c782fafb15a6284", "@class": "de.fau.cs.inf2.cthree.data.Cluster", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"]}