{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "494de75f65e7904cd08f015dc26be9be", "detectedBy": ["DIFF_DBSCAN", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c131065fc5e834fb186b58bfab142d2f", "repository": "https://github.com/cobertura/cobertura.git", "fileName": "cobertura/src/net/sourceforge/cobertura/coveragedata/ProjectData.java", "commitBeforeChange": "9d9559bc35e31469dc0037197bbb87c9c61ff122", "commitAfterChange": "3c60402fd58f26a40620843b35fedf083357e308", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "  \tpublic static void saveGlobalProjectData()", "signatureAfterChange": "  \tpublic static void saveGlobalProjectData()", "diff": ["-\t\tProjectData projectDataToSave = globalProjectData;", "-", "-\t\t/*", "-\t\t * The next statement is not necessary at the moment, because this method is only called", "-\t\t * either at the very beginning or at the very end of a test.  If the code is changed", "-\t\t * to save more frequently, then this will become important.", "-\t\t */", "-\t\tglobalProjectData = new ProjectData();", "+\t\tProjectData projectDataToSave = null;", "+\t\t", "+\t\tglobalProjectDataLock.lock();", "+\t\ttry", "+\t\t{", "+\t\t\tprojectDataToSave = globalProjectData;", "+\t", "+\t\t\t/*", "+\t\t\t * The next statement is not necessary at the moment, because this method is only called", "+\t\t\t * either at the very beginning or at the very end of a test.  If the code is changed", "+\t\t\t * to save more frequently, then this will become important.", "+\t\t\t */", "+\t\t\tglobalProjectData = new ProjectData();", "+\t\t}", "+\t\tfinally", "+\t\t{", "+\t\t\tglobalProjectDataLock.unlock();", "+\t\t}", "-\t\t * We want it to finish its updates.  I assume 2 seconds is plenty of time.", "+\t\t * We want it to finish its updates.  I assume 1 second is plenty of time."]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fe97c4ec0d903bc084ea753af5b38e82", "repository": "https://github.com/cobertura/cobertura.git", "fileName": "cobertura/src/net/sourceforge/cobertura/coveragedata/ProjectData.java", "commitBeforeChange": "39aff69c052bed11ddf0e72014f573a749d7b423", "commitAfterChange": "d2a99fd01a0928b8540b82a22d6a1f3dfabcc94a", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 12, "signatureBeforeChange": "  \tpublic static void saveGlobalProjectData()", "signatureAfterChange": "  \tpublic static void saveGlobalProjectData()", "diff": ["-\t\tProjectData projectDataToSave = new ProjectData();", "+\t\tProjectData projectDataToSave = null;", "+\t\t", "+\t\tglobalProjectDataLock.lock();", "+\t\ttry", "+\t\t{", "+\t\t\tprojectDataToSave = getGlobalProjectData();\t\t\t\t\t\t", "+\t", "+\t\t\t/*", "+\t\t\t * The next statement is not necessary at the moment, because this method is only called", "+\t\t\t * either at the very beginning or at the very end of a test.  If the code is changed", "+\t\t\t * to save more frequently, then this will become important.", "+\t\t\t */", "+\t\t\tglobalProjectData = new ProjectData();", "+\t\t}", "+\t\tfinally", "+\t\t{", "+\t\t\tglobalProjectDataLock.unlock();", "+\t\t}", "+", "+\t\t/*", "+\t\t * Now sleep a bit in case there is a thread still holding a reference to the \"old\"", "+\t\t * globalProjectData (now referenced with projectDataToSave).  ", "+\t\t * We want it to finish its updates.  I assume 1 second is plenty of time.", "+\t\t */", "+\t\ttry", "+\t\t{", "+\t\t\tThread.sleep(1000);", "+\t\t}", "+\t\tcatch (InterruptedException e)", "+\t\t{", "+\t\t}", "-\t\tFile dataFile = CoverageDataFileHandler.getDefaultDataFile();", "-\t\t", "+\t\tFile dataFile = CoverageDataFileHandler.getDefaultDataFile();\t\t"]}]}