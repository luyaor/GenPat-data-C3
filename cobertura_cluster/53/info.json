{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "fa92c5ad04496a466145ce3f0b31e35b", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0ec06d7245a29477d634ccfcb676417f", "repository": "https://github.com/cobertura/cobertura.git", "fileName": "cobertura/src/test/java/net/sourceforge/cobertura/test/util/WebappServer.java", "commitBeforeChange": "c375766d9094530d2f833df204ec339bfbb1b3b9", "commitAfterChange": "eca94255cccacd9f5e33441462a1b8a3ddc4d322", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " \tpublic void deployApp(Map map) throws Exception", "signatureAfterChange": " \t \tpublic void deployApp(File srcDir, boolean instrumentCobertura, boolean deployCoberturaFlush, boolean modifyMainCoberturaDataFile, String instrumentRegEx) throws Exception", "diff": ["-\t */", "-\tpublic void deployApp(Map map) throws Exception {", "-\t\tmodifyMainCoberturaDataFile = (map", "-\t\t\t\t.containsKey(\"modifyMainCoberturaDataFile\")) ? (Boolean) map", "-\t\t\t\t.get(\"modifyMainCoberturaDataFile\") : false;", "+\t", "+\tpublic void deployApp(File srcDir, boolean instrumentCobertura, boolean deployCoberturaFlush, boolean modifyMainCoberturaDataFile, String instrumentRegEx) throws Exception{", "+\t\tthis.modifyMainCoberturaDataFile = modifyMainCoberturaDataFile;", "-\t\tFile webInfFile = writeWebInfFile(webInfDir, (String) map", "-\t\t\t\t.get(\"webInfText\"));", "+\t\tFile webInfFile = writeWebInfFile(webInfDir, SIMPLE_SERVLET_WEB_XML_TEXT);", "-\t\tcompileSourceFiles((File) map.get(\"srcDir\"), classesDir);", "+\t\tcompileSourceFiles(srcDir, classesDir);", "-\t\tFile war = makeWarFile((String) map.get(\"appName\"), webInfFile,", "+\t\tFile war = makeWarFile(appName, webInfFile,", "-\t\tDelete delete = new Delete();", "-\t\tdelete.setProject(TestUtils.project);", "-\t\tdelete.setDir(extractedDir);", "-\t\tdelete.execute();", "+\t\tFileUtils.deleteDirectory(extractedDir);", "-\t\tif (map.get(\"instrumentRegEx\") != null) {", "-\t\t\tinstrumentWar(war, (String) map.get(\"instrumentRegEx\"));", "+\t\tif (instrumentRegEx != null) {", "+\t\t\tinstrumentWar(war, instrumentRegEx);", "-\t\tif (map.get(\"instrumentCobertura\") != null) {", "+\t\tif (instrumentCobertura != false) {", "-\t\tif (map.get(\"deployCoberturaFlush\") != null) {", "-\t\t\tdeployCoberturaFlush((map.containsKey(\"instrumentCobertura\"))", "-\t\t\t\t\t? (Boolean) map.get(\"instrumentCobertura\")", "-\t\t\t\t\t: false);", "+\t\tif (deployCoberturaFlush != false) {", "+\t\t\tdeployCoberturaFlush(deployCoberturaFlush);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1d01d61033aaf39dfaefcee3d0eefade", "repository": "https://github.com/cobertura/cobertura.git", "fileName": "cobertura/test/net/sourceforge/cobertura/reporting/CoverageTest.java", "commitBeforeChange": "7cdece92ea0660e086a27d07d0eef3df4b583a23", "commitAfterChange": "100512ee483a0d8eebc3eb78a5d8913b7b64ddb6", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 1, "signatureBeforeChange": "  \tpublic void setUp()", "signatureAfterChange": " \t \tpublic void setUp()", "diff": ["+\t", "-\t\tclazz1 = new Clazz(\"HelloWorld\");", "-\t\tclazz1.setNumberOfBranches(4);", "-\t\tclazz1.setNumberOfCoveredBranches(2);", "-\t\tclazz1.setNumberOfCoveredLines(20);", "-\t\tclazz1.setNumberOfLines(40);", "-\t\tfor (int i = 0; i < clazz1.getNumberOfLines(); i++)", "-\t\t{", "-\t\t\tclazz1.addLine(i + 1, 5 * (i + 1));", "-\t\t}", "-", "-\t\tclazz2 = new Clazz(\"com.example.HelloWorld\");", "-\t\tclazz2.setNumberOfBranches(6);", "-\t\tclazz2.setNumberOfCoveredBranches(3);", "-\t\tclazz2.setNumberOfCoveredLines(10);", "-\t\tclazz2.setNumberOfLines(20);", "-\t\tfor (int i = 0; i < clazz2.getNumberOfLines(); i++)", "-\t\t{", "-\t\t\tclazz1.addLine(i + 1, 4 * (i + 1));", "-\t\t}", "-", "-\t\tclazz3 = new Clazz(\"com.example.GoodbyeWorld\");", "-\t\tclazz3.setNumberOfBranches(8);", "-\t\tclazz3.setNumberOfCoveredBranches(4);", "-\t\tclazz3.setNumberOfCoveredLines(5);", "-\t\tclazz3.setNumberOfLines(10);", "-\t\tfor (int i = 0; i < clazz3.getNumberOfLines(); i++)", "-\t\t{", "-\t\t\tclazz1.addLine(i + 1, 9 * (i + 1));", "-\t\t}", "+\t    // clazz1 expects 50% line coverage && 100% branch coverage ", "+\t    clazz1 = new Clazz(\"HelloWorld\", getTestDataInstance(40, 20, new int[] { 5, 10, 15, 18 }));", "+\t    // clazz2 expects 50% line coverage && 66% branch coverage", "+\t    clazz2 = new Clazz(\"com.example.HelloWorld\", getTestDataInstance(20, 10, new int[] { 4, 7, 15 }));", "+\t    // clazz3 expects 40% line coverage && 33% branch coverage", "+\t    clazz3 = new Clazz(\"com.example.GoodbyeWorld\", getTestDataInstance(10, 4, new int[] { 3, 7, 9 }));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7275ed984647513e400a391268aae87e", "repository": "https://github.com/cobertura/cobertura.git", "fileName": "cobertura/src/test/java/net/sourceforge/cobertura/test/AbstractCoberturaTestCase.java", "commitBeforeChange": "ff8cad0e718c0f189f430976fa2d30c021b6bcab", "commitAfterChange": "7e78be0e4979458a03625707b0438775e50fbd13", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "  \tpublic Node createAndExecuteMainMethod(String packageName, String fileName, \t\t\tString fileContent, String mainMethod) throws Exception", "signatureAfterChange": "  \tpublic Node createAndExecuteMainMethod(String packageName, String fileName, \t\t\tString fileContent, String mainMethod) throws Exception", "diff": ["+\t\treturn createAndExecuteMainMethod(packageName, fileName, fileContent, mainMethod, \"xml\");", "+\t}", "-\t\treportTask.setDestDir(srcDir);", "-", "-\t\treturn TestUtils.getXMLReportDOM(srcDir.getAbsolutePath()", "-\t\t\t\t+ \"/coverage.xml\");"]}]}