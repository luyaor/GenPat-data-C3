{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a5f03b5a6111a98726d04b0c4769ea03", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2bb141097f724067568f0e67bc5cd78a", "repository": "https://github.com/cobertura/cobertura.git", "fileName": "cobertura/src/net/sourceforge/cobertura/coveragedata/PackageData.java", "commitBeforeChange": "3a88f8312591e720c6c5583a3c854cd8911977a7", "commitAfterChange": "28a503bb032971e8c3210d048d0d0939d0e8f231", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 3, "signatureBeforeChange": "  \tpublic void addClassData(ClassData classData)", "signatureAfterChange": "  \tpublic void addClassData(ClassData classData)", "diff": ["+", "-\t\tif (children.containsKey(classData.getBaseName()))", "-\t\t\tthrow new IllegalArgumentException(\"Package \" + this.name", "-\t\t\t\t\t+ \" already contains a class with the name \"", "-\t\t\t\t\t+ classData.getBaseName());", "+\t    // this method aggregates data if classData is an inner class", "+\t    //  with the data from the top level class that it is contained in", "+\t    LOGGER.debug(\"addClassData: \" + classData.getName());", "+\t    String parentClassName = getClassNameIgnoreInner(classData.getName());", "+\t    LOGGER.debug(\"\\tparentClassName = \" + parentClassName);", "+\t    String keyName = new ClassData(parentClassName).getBaseName();", "+\t    LOGGER.debug(\"\\tkeyName = \" + keyName);", "+\t    ", "+\t    ClassData parent = getClassData(classData.getName());", "+        if (parent == null) {", "+            LOGGER.debug(\"\\tno parent\");", "+            parent = new ClassData(parentClassName);", "+        }", "+        classData.merge(parent);", "-\t\tchildren.put(classData.getBaseName(), classData);", "+        LOGGER.debug(\"putting \" + keyName + \" = \" + classData.getName());", "+\t\tchildren.put(keyName, classData);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "43720d78799f8864284040a047399447", "repository": "https://github.com/cobertura/cobertura.git", "fileName": "cobertura/src/net/sourceforge/cobertura/coveragedata/PackageData.java", "commitBeforeChange": "9a830b0110b84315c0c267421611842128c2ca35", "commitAfterChange": "2d04adc2554406c41824d5b965907076ecdceb80", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 1, "signatureBeforeChange": "  \tpublic void addClassData(ClassData classData)", "signatureAfterChange": "  \tpublic void addClassData(ClassData classData)", "diff": ["-", "-\t    // this method aggregates data if classData is an inner class", "-\t    //  with the data from the top level class that it is contained in", "-\t    LOGGER.debug(\"addClassData: \" + classData.getName());", "-\t    String parentClassName = getClassNameIgnoreInner(classData.getName());", "-\t    LOGGER.debug(\"\\tparentClassName = \" + parentClassName);", "-\t    String keyName = new ClassData(parentClassName).getBaseName();", "-\t    LOGGER.debug(\"\\tkeyName = \" + keyName);", "-\t    ", "-\t    ClassData parent = getClassData(classData.getName());", "-        if (parent == null) {", "-            LOGGER.debug(\"\\tno parent\");", "-            parent = new ClassData(parentClassName);", "-        }", "-        classData.merge(parent);", "-", "-\t\t// Each key is a class basename, stored as an String object.", "-\t\t// Each value is information about the class, stored as a ClassData object.", "-        LOGGER.debug(\"putting \" + keyName + \" = \" + classData.getName());", "-\t\tchildren.put(keyName, classData);", "+\t\tString sourceFileName = classData.getSourceFileName();", "+\t\tSourceFileData sourceFileData = (SourceFileData)children.get(sourceFileName);", "+\t\tif (sourceFileData == null)", "+\t\t{", "+\t\t\tsourceFileData = new SourceFileData(sourceFileName);", "+\t\t\t// Each key is a source file name, stored as an String object.", "+\t\t\t// Each value is information about the source file, stored as", "+\t\t\t// a SourceFileData object.", "+\t\t\tthis.children.put(sourceFileName, sourceFileData);", "+\t\t}", "+\t\tsourceFileData.addClassData(classData);"]}]}