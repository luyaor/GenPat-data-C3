{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "de2c4e550f84a9eefec779be0ec2400c", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7842c293b527282d91f44967215a07ae", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsModel.java", "commitBeforeChange": "6e6dc20e393a893a5d9ad55d0b971c8d23c8c73e", "commitAfterChange": "94f0a27f33bac9f77c517bf8ab75dfe92afa1ace", "methodNumberBeforeChange": 58, "methodNumberAfterChange": 58, "signatureBeforeChange": "   protected void advanceCaret(final int n)", "signatureAfterChange": "   protected void advanceCaret(final int n)", "diff": ["-    if (Utilities.TEST_MODE && _pane == null) return;  // Kludge to accommodate legacy unit tests", "-    Utilities.invokeLater(new Runnable() {  // initialize caret in the interactions pane", "+    /* In legacy unit tests, _pane can apparently be null in some cases.  It can also be mutated in the middle of run() ", "+       in InteractionsDJDocumentTest.testStylesListContentAndReset. */", "+    final InteractionsPane pane = _pane;  ", "+    if (Utilities.TEST_MODE && pane == null) return;  // Some legacy unit tests do not set up an interactions pane", "+    ", "+    Utilities.invokeLater(new Runnable() {  // initialize caret in the interactions pane ", "-//        _pane.validate();", "-        int caretPos = _pane.getCaretPosition();", "+//        pane.validate();", "+        int caretPos = pane.getCaretPosition();", "-        _pane.setCaretPos(newCaretPos);", "-        int pos = _pane.getCaretPosition();", "-        try { _pane.scrollRectToVisible(_pane.modelToView(pos)); }", "+        pane.setCaretPos(newCaretPos);", "+        int pos = pane.getCaretPosition();", "+        try { pane.scrollRectToVisible(pane.modelToView(pos)); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b9d9ec1aa4373447ccd71ba58606ee4c", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsModel.java", "commitBeforeChange": "e753017eccbd872714e58c93831cb488b5045d2a", "commitAfterChange": "abaea23707eba81455db9185a249740d89273b85", "methodNumberBeforeChange": 58, "methodNumberAfterChange": 62, "signatureBeforeChange": "   protected void advanceCaret(final int n)", "signatureAfterChange": "      protected void scrollToCaret()", "diff": ["-  /** Advances the caret in the interactions pane by n characters and scrolls the pane to make it visible. */", "-  protected void advanceCaret(final int n) {", "-    /* In legacy unit tests, _pane can apparently be null in some cases.  It can also be mutated in the middle of run() ", "-       in InteractionsDJDocumentTest.testStylesListContentAndReset. */", "-    final InteractionsPane pane = _pane;  ", "-    if (Utilities.TEST_MODE && pane == null) return;  // Some legacy unit tests do not set up an interactions pane", "-    ", "-    Utilities.invokeLater(new Runnable() {  // initialize caret in the interactions pane ", "+  ", "+  protected void scrollToCaret() {", "+    Utilities.invokeLater(new Runnable() {", "-//        pane.validate();", "-        int caretPos = pane.getCaretPosition();", "-        int newCaretPos = Math.min(caretPos + n, _document.getLength());", "-        pane.setCaretPos(newCaretPos);", "+        final InteractionsPane pane = _pane; ", "+        if (pane == null) return;  // Can be called in tests when component has not been realized", "-      } ", "+      }"]}], "num": 7893}