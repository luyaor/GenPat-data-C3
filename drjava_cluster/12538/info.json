{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8df5cefc380f5ab4259a04cde5b58e9a", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "04f61639e8eab41c27d6d2ed89dcd3f1", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "1ca22d8d9e892abbe72cd6aa5627cc7ce0e56b03", "commitAfterChange": "024873f55ad7ba6280213fee7183c6688ba3b395", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 22, "signatureBeforeChange": "   public synchronized void forwardHistorySearch(String searchString)", "signatureAfterChange": "   public void forwardHistorySearch(String searchString)", "diff": ["-  public synchronized void forwardHistorySearch(String searchString) {", "-    _history.forwardSearch(searchString);", "-    _replaceCurrentLineFromHistory();", "+  public void forwardHistorySearch(String searchString) {", "+    acquireWriteLock();", "+    try {   ", "+      _history.forwardSearch(searchString);", "+      _replaceCurrentLineFromHistory();", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "06f28dad5d98d2a9a3ce421e766c92f7", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "1ca22d8d9e892abbe72cd6aa5627cc7ce0e56b03", "commitAfterChange": "024873f55ad7ba6280213fee7183c6688ba3b395", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 25, "signatureBeforeChange": "   public synchronized void reverseSearchInteractionsInHistory()", "signatureAfterChange": "   public void reverseSearchInteractionsInHistory()", "diff": ["-  public synchronized void reverseSearchInteractionsInHistory() {", "-    if (hasHistoryPrevious()) reverseHistorySearch(getCurrentInteraction());", "-    else _beep.run();", "+  public void reverseSearchInteractionsInHistory() {", "+    acquireWriteLock();", "+    try {   ", "+      if (hasHistoryPrevious()) reverseHistorySearch(getCurrentInteraction());", "+      else _beep.run();", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "07bec1cb35c0386f0a8a00e054cdef02", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/ConsoleDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "      public void setHasPrompt(boolean val)", "signatureAfterChange": "      public void setHasPrompt(boolean val)", "diff": ["-  public void setHasPrompt(boolean val) { _document.setHasPrompt(val); }", "+  public void setHasPrompt(boolean val) {", "+    acquireWriteLock();    // Is this overkill?", "+    try { _document.setHasPrompt(val); }", "+    finally { releaseWriteLock(); }", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "18b2c0bf8a03d33400fa726c544fb488", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": "   public void clearHistory()", "signatureAfterChange": "   public void clearHistory()", "diff": ["-//    acquireWriteLock();", "-//    try { ", "-      _history.clear(); ", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();", "+    try { _history.clear(); }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "19287bdf3fd62f2ce9ccc81c503bb23d", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 17, "signatureBeforeChange": "   public void moveHistoryPrevious(String entry)", "signatureAfterChange": "   public void moveHistoryPrevious(String entry)", "diff": ["-//    acquireWriteLock();", "-//    try { ", "+    acquireWriteLock();", "+    try { ", "-//    }", "-//    finally { releaseWriteLock(); }", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1a0a283e4b31c9b0cc0ec3ef8b7b873d", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/ConsoleDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 21, "signatureBeforeChange": "   public void forceInsertText(int offs, String str, String style) throws EditDocumentException", "signatureAfterChange": "   public void forceInsertText(int offs, String str, String style) throws EditDocumentException", "diff": ["-//    acquireWriteLock();", "-//    try { ", "-      _forceInsertText(offs, str, style); ", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();", "+    try { _forceInsertText(offs, str, style); }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1a733e0a0fd09ae04d9aa50b7ced9ee9", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 21, "signatureBeforeChange": "   public void reverseHistorySearch(String searchString)", "signatureAfterChange": "   public void reverseHistorySearch(String searchString)", "diff": ["-//    acquireWriteLock();", "-//    try {", "-    _history.reverseSearch(searchString);", "-    _replaceCurrentLineFromHistory();", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();", "+    try {", "+      _history.reverseSearch(searchString);", "+      _replaceCurrentLineFromHistory();", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1aefd682a07b853d5b3450614168653b", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/SwingDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "   public void insertText(int offs, String str, String style)", "signatureAfterChange": "   public void insertText(int offs, String str, String style)", "diff": ["-//    acquireWriteLock();", "-//    try { ", "-      _insertText(offs, str, style); ", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();", "+    try { _insertText(offs, str, style); }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2bf8173e605d61e7c0ad1ae8d6463d58", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "1ca22d8d9e892abbe72cd6aa5627cc7ce0e56b03", "commitAfterChange": "024873f55ad7ba6280213fee7183c6688ba3b395", "methodNumberBeforeChange": 29, "methodNumberAfterChange": 29, "signatureBeforeChange": "   public synchronized void clearCurrentInteraction()", "signatureAfterChange": "   public void clearCurrentInteraction()", "diff": ["-  public synchronized void clearCurrentInteraction() {", "-    super.clearCurrentInput();", "-    _history.moveEnd();", "-  }", "+  public void clearCurrentInteraction() {", "+    acquireWriteLock();", "+    try {", "+      super.clearCurrentInput();", "+      _history.moveEnd();", "+    }", "+    finally { releaseWriteLock(); }", "+  }  "]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "31e7eff978118d8eca823b5a6d78a4fd", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/SwingDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": "   public void remove(int offs, int len) throws BadLocationException", "signatureAfterChange": "   public void remove(int offs, int len) throws BadLocationException", "diff": ["-//    acquireWriteLock(); // locking is used to make the test and modification atomic", "-//    try { ", "-    if (_condition.canRemoveText(offs))  super.remove(offs, len); ", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock(); // locking is used to make the test and modification atomic", "+    try { if (_condition.canRemoveText(offs))  super.remove(offs, len); }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "385a874963b889b88c5f859fe5e9688c", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 29, "methodNumberAfterChange": 29, "signatureBeforeChange": "   public void clearCurrentInteraction()", "signatureAfterChange": "   public void clearCurrentInteraction()", "diff": ["-//    acquireWriteLock();", "-//    try {", "-    super.clearCurrentInput();", "-    _history.moveEnd();", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();", "+    try {", "+      super.clearCurrentInput();", "+      _history.moveEnd();", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "394766b5002cb2817c43101a2c82746b", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/ConsoleDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 18, "signatureBeforeChange": "   public void insertText(int offs, String str, String style) throws EditDocumentException", "signatureAfterChange": "   public void insertText(int offs, String str, String style) throws EditDocumentException", "diff": ["-//    acquireWriteLock();", "-//    try { ", "-    _insertText(offs, str, style); ", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();", "+    try { _insertText(offs, str, style); }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "39628939ca2d608792b993769c7bfe00", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "   public void addToHistory(String text)", "signatureAfterChange": "   public void addToHistory(String text)", "diff": ["-//    acquireWriteLock();", "-//    try { ", "-    _history.add(text); ", "-//    } ", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();", "+    try { _history.add(text); } ", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4388f178da29b8d81360cfc677001e4e", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/ConsoleDocument.java", "commitBeforeChange": "1ca22d8d9e892abbe72cd6aa5627cc7ce0e56b03", "commitAfterChange": "024873f55ad7ba6280213fee7183c6688ba3b395", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 20, "signatureBeforeChange": "   public synchronized void removeText(int offs, int len) throws DocumentAdapterException", "signatureAfterChange": "   public void removeText(int offs, int len) throws DocumentAdapterException", "diff": ["-  public synchronized void removeText(int offs, int len) throws DocumentAdapterException {", "-    if (offs < _promptPos) _beep.run();", "-    else _document.removeText(offs, len);", "+  public void removeText(int offs, int len) throws DocumentAdapterException {", "+    acquireWriteLock();", "+    try {", "+      if (offs < _promptPos) _beep.run();", "+      else _document.removeText(offs, len);", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "44cf1185ad07f6383216a102bdc1cfa1", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "   public void insertString(int offset, String str, AttributeSet a) throws BadLocationException", "signatureAfterChange": "   public void insertString(int offset, String str, AttributeSet a) throws BadLocationException", "diff": ["-//    acquireWriteLock();", "-//    try { ", "-    _insertString(offset, str, a); ", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();", "+    try { _insertString(offset, str, a); }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "44e521d9408139e5914e4628e3934d1b", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/ConsoleDocument.java", "commitBeforeChange": "1ca22d8d9e892abbe72cd6aa5627cc7ce0e56b03", "commitAfterChange": "024873f55ad7ba6280213fee7183c6688ba3b395", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": "   public synchronized void insertText(int offs, String str, String style) throws DocumentAdapterException", "signatureAfterChange": "   public void insertText(int offs, String str, String style) throws DocumentAdapterException", "diff": ["-  public synchronized void insertText(int offs, String str, String style) throws DocumentAdapterException {", "-    if (offs < _promptPos) _beep.run();", "-    else {", "+  public void insertText(int offs, String str, String style) throws DocumentAdapterException {", "+    acquireWriteLock();", "+    try {", "+      if (offs < _promptPos) _beep.run();", "+      else {", "+        _addToStyleLists(offs,str,style);", "+        _document.insertText(offs, str, style);", "+      }", "+    }", "+    finally { releaseWriteLock(); }", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "474752de40a63ccd250138960ee7eacb", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "      protected void _styleChanged()", "signatureAfterChange": "      protected void _styleChanged()", "diff": ["-//    acquireWriteLock();", "-//    try {", "+    acquireWriteLock();", "+    try {", "-//    }", "-//    finally { releaseWriteLock(); }", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4cf6f03c2cbbfcfdd8b86132c061fb98", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/ConsoleDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 20, "signatureBeforeChange": "   public void append(String str, String style) throws EditDocumentException", "signatureAfterChange": "   public void append(String str, String style) throws EditDocumentException", "diff": ["-//    acquireWriteLock();", "-//    try {", "-    int offs = _document.getLength();", "-    _addToStyleLists(offs, str, style);", "-    _document._insertText(offs, str, style);", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();", "+    try {", "+      int offs = _document.getLength();", "+      _addToStyleLists(offs, str, style);", "+      _document._insertText(offs, str, style);", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4f7ddfa9867d9596df3d3631a178ed86", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/ConsoleDocument.java", "commitBeforeChange": "1ca22d8d9e892abbe72cd6aa5627cc7ce0e56b03", "commitAfterChange": "024873f55ad7ba6280213fee7183c6688ba3b395", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "   public synchronized void disablePrompt()", "signatureAfterChange": "   public void disablePrompt()", "diff": ["-  public synchronized void disablePrompt() {", "+  public void disablePrompt() {", "+    acquireWriteLock();", "+    try {", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "55682573e9dc1a37fd083b6335f570de", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "1ca22d8d9e892abbe72cd6aa5627cc7ce0e56b03", "commitAfterChange": "024873f55ad7ba6280213fee7183c6688ba3b395", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 23, "signatureBeforeChange": "   public synchronized boolean recallPreviousInteractionInHistory()", "signatureAfterChange": "   public boolean recallPreviousInteractionInHistory()", "diff": ["-  public synchronized boolean recallPreviousInteractionInHistory() {", "-    if (hasHistoryPrevious()) {", "-      moveHistoryPrevious(getCurrentInteraction());", "-      return true;", "+  public boolean recallPreviousInteractionInHistory() {", "+    acquireWriteLock();", "+    try {    ", "+      if (hasHistoryPrevious()) {", "+        moveHistoryPrevious(getCurrentInteraction());", "+        return true;", "+      }", "+      _beep.run();", "+      return false;", "-    _beep.run();", "-    return false;", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "64b0a54bcba72ceb7a17213c9330ede2", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 25, "signatureBeforeChange": "   public void reverseSearchInteractionsInHistory()", "signatureAfterChange": "   public void reverseSearchInteractionsInHistory()", "diff": ["-//    acquireWriteLock();", "-//    try {   ", "+    acquireWriteLock();", "+    try {   ", "-//    }", "-//    finally { releaseWriteLock(); }", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "653601bcb04f705dd9e192312029cca6", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "   public String removeLastFromHistory()", "signatureAfterChange": "   public String removeLastFromHistory()", "diff": ["-//    acquireWriteLock();", "-//    try { ", "-      return _history.removeLast(); ", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();", "+    try { return _history.removeLast(); }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "68ea2defe66003bb2c669f06899dc2c8", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": "   public boolean recallNextInteractionInHistory()", "signatureAfterChange": "   public boolean recallNextInteractionInHistory()", "diff": ["-//    acquireWriteLock();", "-//    try {    ", "+    acquireWriteLock();", "+    try {    ", "-//    }", "-//    finally { releaseWriteLock(); }", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "71ccef3068998d0c7041ef9aa04bdbee", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/SwingDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "   public void removeText(int offs, int len)", "signatureAfterChange": "   public void removeText(int offs, int len)", "diff": ["-//    acquireWriteLock();  // locking is used to make the test and modification atomic", "-//    try { ", "-    _removeText(offs, len); ", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();  // locking is used to make the test and modification atomic", "+    try { _removeText(offs, len); }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "74d9fca9ba442cc8f74181271de895d8", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "1ca22d8d9e892abbe72cd6aa5627cc7ce0e56b03", "commitAfterChange": "024873f55ad7ba6280213fee7183c6688ba3b395", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 18, "signatureBeforeChange": "   public synchronized void moveHistoryNext(String entry)", "signatureAfterChange": "   public void moveHistoryNext(String entry)", "diff": ["-  public synchronized void moveHistoryNext(String entry) {", "-    _history.moveNext(entry);", "-    _replaceCurrentLineFromHistory();", "+  public void moveHistoryNext(String entry) {", "+    acquireWriteLock();", "+    try {", "+      _history.moveNext(entry);", "+      _replaceCurrentLineFromHistory();", "+    }", "+   finally { releaseWriteLock(); }", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8520a976efe2802410708bd99be70ab0", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 18, "signatureBeforeChange": "   public void moveHistoryNext(String entry)", "signatureAfterChange": "   public void moveHistoryNext(String entry)", "diff": ["-//    acquireWriteLock();", "-//    try {", "+    acquireWriteLock();", "+    try {", "-//    }", "-//    finally { releaseWriteLock(); }", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8b04b84bdf7953058a15adc1969a3dd7", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/ConsoleDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": "   public void removeText(int offs, int len) throws EditDocumentException", "signatureAfterChange": "   public void removeText(int offs, int len) throws EditDocumentException", "diff": ["-//    acquireWriteLock();", "-//    try { ", "-      _removeText(offs, len); ", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();", "+    try { _removeText(offs, len); }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8e9e705ab6d7ee66e96a52418eab4d63", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 18, "signatureBeforeChange": "   public void updateModifiedSinceSave()", "signatureAfterChange": "   public void updateModifiedSinceSave()", "diff": ["-//    acquireWriteLock();", "-//    try {", "-    _isModifiedSinceSave = _undoManager.isModified();", "-    if (_odd != null) _odd.documentReset();", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();", "+    try {", "+      _isModifiedSinceSave = _undoManager.isModified();", "+      if (_odd != null) _odd.documentReset();", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9695889e9bf8099f23bc6816afb1bb27", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/ConsoleDocument.java", "commitBeforeChange": "1ca22d8d9e892abbe72cd6aa5627cc7ce0e56b03", "commitAfterChange": "024873f55ad7ba6280213fee7183c6688ba3b395", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 18, "signatureBeforeChange": "   public synchronized void forceInsertText(int offs, String str, String style) throws DocumentAdapterException", "signatureAfterChange": "   public void forceInsertText(int offs, String str, String style) throws DocumentAdapterException", "diff": ["-  public synchronized void forceInsertText(int offs, String str, String style) throws DocumentAdapterException {", "-    _addToStyleLists(offs,str,style);", "-    _document.forceInsertText(offs, str, style);", "+  public void forceInsertText(int offs, String str, String style) throws DocumentAdapterException {", "+    acquireWriteLock();", "+    try {", "+      _addToStyleLists(offs,str,style);", "+      _document.forceInsertText(offs, str, style);", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "975857ab7ef98aaca9c588f90c47f186", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 20, "signatureBeforeChange": "   public void resetModification()", "signatureAfterChange": "   public void resetModification()", "diff": ["-//    acquireWriteLock();", "-//    try {", "+    acquireWriteLock();", "+    try {", "-//    }", "-//    finally { releaseWriteLock(); }", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "af22e6fda205332030b282907b6a2c61", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 22, "methodNumberAfterChange": 22, "signatureBeforeChange": "   public void forwardHistorySearch(String searchString)", "signatureAfterChange": "   public void forwardHistorySearch(String searchString)", "diff": ["-//    acquireWriteLock();", "-//    try {   ", "-    _history.forwardSearch(searchString);", "-    _replaceCurrentLineFromHistory();", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();", "+    try {   ", "+      _history.forwardSearch(searchString);", "+      _replaceCurrentLineFromHistory();", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b03f2cfe99bc2f08f2c09b2dfd2a1e8b", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/SwingDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "   public void forceInsertText(int offs, String str, String style)", "signatureAfterChange": "   public void forceInsertText(int offs, String str, String style)", "diff": ["-//    acquireWriteLock();", "-//    try { ", "-    _forceInsertText(offs, str, style); ", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();", "+    try { _forceInsertText(offs, str, style); }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b557f560443e7174e9a46894edaf136d", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/SwingDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "   public void insertString(int offs, String str, AttributeSet set) throws BadLocationException", "signatureAfterChange": "   public void insertString(int offs, String str, AttributeSet set) throws BadLocationException", "diff": ["-//    acquireWriteLock();  // locking is used to make the test and modification atomic", "-//    try { ", "-      _insertString(offs, str, set); ", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();  // locking is used to make the test and modification atomic", "+    try { _insertString(offs, str, set); }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b7029fa9313b2d7084578a4da63ed733", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "1ca22d8d9e892abbe72cd6aa5627cc7ce0e56b03", "commitAfterChange": "024873f55ad7ba6280213fee7183c6688ba3b395", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 17, "signatureBeforeChange": "   public synchronized void moveHistoryPrevious(String entry)", "signatureAfterChange": "   public void moveHistoryPrevious(String entry)", "diff": ["-  public synchronized void moveHistoryPrevious(String entry) {", "-    _history.movePrevious(entry);", "-    _replaceCurrentLineFromHistory();", "+  public void moveHistoryPrevious(String entry) {", "+    acquireWriteLock();", "+    try { ", "+      _history.movePrevious(entry);", "+      _replaceCurrentLineFromHistory();", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bc806c8e6769aa92742a3cbaf34498ed", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/SwingDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 21, "signatureBeforeChange": "   public void append(String str, AttributeSet set)", "signatureAfterChange": "   public void append(String str, AttributeSet set)", "diff": ["-//    acquireWriteLock();", "-//    try { ", "-    _append(str, set); ", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();", "+    try { _append(str, set); }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bf799578efd4228c10dca28be8de54ee", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/ConsoleDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "   public void disablePrompt()", "signatureAfterChange": "   public void disablePrompt()", "diff": ["-//    acquireWriteLock();", "-//    try {", "-    _document.setHasPrompt(false);", "-    _promptPos = _document.getLength();", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();", "+    try {", "+      _document.setHasPrompt(false);", "+      _promptPos = _document.getLength();", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c7fb121aae83fc67d29983b4926aae68", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 26, "methodNumberAfterChange": 26, "signatureBeforeChange": "   public void forwardSearchInteractionsInHistory()", "signatureAfterChange": "   public void forwardSearchInteractionsInHistory()", "diff": ["-//    acquireWriteLock();", "-//    try {   ", "+    acquireWriteLock();", "+    try {   ", "-//    }", "-//    finally { releaseWriteLock(); }", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d59662713c3ef12307722ff31d33f392", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "1ca22d8d9e892abbe72cd6aa5627cc7ce0e56b03", "commitAfterChange": "024873f55ad7ba6280213fee7183c6688ba3b395", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "   public synchronized void addToHistory(String text)", "signatureAfterChange": "   public void addToHistory(String text)", "diff": ["-  public synchronized void addToHistory(String text) { _history.add(text); }", "+  public void addToHistory(String text) { ", "+    acquireWriteLock();", "+    try { _history.add(text); } ", "+    finally { releaseWriteLock(); }", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e8116ad7a5a94bd6c741d347193997be", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "1ca22d8d9e892abbe72cd6aa5627cc7ce0e56b03", "commitAfterChange": "024873f55ad7ba6280213fee7183c6688ba3b395", "methodNumberBeforeChange": 26, "methodNumberAfterChange": 26, "signatureBeforeChange": "   public synchronized void forwardSearchInteractionsInHistory()", "signatureAfterChange": "   public void forwardSearchInteractionsInHistory()", "diff": ["-  public synchronized void forwardSearchInteractionsInHistory() {", "-    if (hasHistoryNext()) forwardHistorySearch(getCurrentInteraction());", "-    else _beep.run();", "+  public void forwardSearchInteractionsInHistory() {", "+    acquireWriteLock();", "+    try {   ", "+      if (hasHistoryNext()) forwardHistorySearch(getCurrentInteraction());", "+      else _beep.run();", "+    }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ed32083e5222ee04c99da1f7ebd0decb", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/SwingDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "   public void setEditCondition(DocumentEditCondition condition)", "signatureAfterChange": "   public void setEditCondition(DocumentEditCondition condition)", "diff": ["-//    acquireWriteLock();", "-//    try { ", "-    _condition = condition; ", "-//    }", "-//    finally { releaseWriteLock(); }", "+    acquireWriteLock();", "+    try { _condition = condition; }", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f7e55e8cb3ebefcbaaa3f0f53f834814", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "1ca22d8d9e892abbe72cd6aa5627cc7ce0e56b03", "commitAfterChange": "024873f55ad7ba6280213fee7183c6688ba3b395", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": "   public synchronized void clearHistory()", "signatureAfterChange": "   public void clearHistory()", "diff": ["-  public synchronized void clearHistory() { _history.clear();  }", "+  public void clearHistory() { ", "+    acquireWriteLock();", "+    try { _history.clear(); }", "+    finally { releaseWriteLock(); }", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f846835ea6448b9f4d0fe06c99af57f3", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "1ca22d8d9e892abbe72cd6aa5627cc7ce0e56b03", "commitAfterChange": "024873f55ad7ba6280213fee7183c6688ba3b395", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": "   public synchronized boolean recallNextInteractionInHistory()", "signatureAfterChange": "   public boolean recallNextInteractionInHistory()", "diff": ["-  public synchronized boolean recallNextInteractionInHistory() {", "-    if (hasHistoryNext()) {", "-      moveHistoryNext(getCurrentInteraction());", "-      return true;", "+  public boolean recallNextInteractionInHistory() {", "+    acquireWriteLock();", "+    try {    ", "+      if (hasHistoryNext()) {", "+        moveHistoryNext(getCurrentInteraction());", "+        return true;", "+      }", "+      _beep.run();", "+      return false;", "-    _beep.run();", "-    return false;", "+    finally { releaseWriteLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fdb8ea316d1ac4fa6c0ae47354f6823a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocument.java", "commitBeforeChange": "1ca22d8d9e892abbe72cd6aa5627cc7ce0e56b03", "commitAfterChange": "024873f55ad7ba6280213fee7183c6688ba3b395", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 21, "signatureBeforeChange": "   public synchronized void reverseHistorySearch(String searchString)", "signatureAfterChange": "   public void reverseHistorySearch(String searchString)", "diff": ["-  public synchronized void reverseHistorySearch(String searchString) {", "-    _history.reverseSearch(searchString);", "-    _replaceCurrentLineFromHistory();", "+  public void reverseHistorySearch(String searchString) {", "+    acquireWriteLock();", "+    try {", "+      _history.reverseSearch(searchString);", "+      _replaceCurrentLineFromHistory();", "+    }", "+    finally { releaseWriteLock(); }"]}], "num": 12538}