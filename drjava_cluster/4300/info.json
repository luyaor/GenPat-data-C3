{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3e66e68e0ef15c56e4e08fc6e7eb1b91", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6a92a4d5d8318c3ea3b24826c901cb46", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/EventNotifier.java", "commitBeforeChange": "2c16e0d4d9158060234171af20b20d5de3e555f9", "commitAfterChange": "e1f5c81c52809e8bace735e11df6213768d823f8", "methodNumberBeforeChange": 30, "methodNumberAfterChange": 30, "signatureBeforeChange": "   synchronized public boolean canAbandonFile(OpenDefinitionsDocument doc)", "signatureAfterChange": "   public boolean canAbandonFile(OpenDefinitionsDocument doc)", "diff": ["-  synchronized public boolean canAbandonFile(OpenDefinitionsDocument doc) {", "-    boolean poll = true;", "-    int size = _listeners.size();", "-    for(int i = 0; (poll && (i < size)); i++) {", "-      poll = poll && _listeners.get(i).canAbandonFile(doc);", "+  public boolean canAbandonFile(OpenDefinitionsDocument doc) {", "+    _lock.startRead();", "+    try {", "+      boolean poll = true;", "+      int size = _listeners.size();", "+      for(int i = 0; (poll && (i < size)); i++) {", "+        poll = poll && _listeners.get(i).canAbandonFile(doc);", "+      }", "+      return poll;", "-    return poll;", "+    finally {", "+      _lock.endRead();", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8580585466a464813f1dd5b71dcb862a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/EventNotifier.java", "commitBeforeChange": "2c16e0d4d9158060234171af20b20d5de3e555f9", "commitAfterChange": "e1f5c81c52809e8bace735e11df6213768d823f8", "methodNumberBeforeChange": 33, "methodNumberAfterChange": 33, "signatureBeforeChange": "   synchronized public boolean shouldRevertFile(OpenDefinitionsDocument doc)", "signatureAfterChange": "   public boolean shouldRevertFile(OpenDefinitionsDocument doc)", "diff": ["-  synchronized public boolean shouldRevertFile(OpenDefinitionsDocument doc) {", "-    boolean poll = true;", "-    int size = _listeners.size();", "-    for(int i = 0; (poll && (i < size)); i++) {", "-      poll = poll && _listeners.get(i).shouldRevertFile(doc);", "+  public boolean shouldRevertFile(OpenDefinitionsDocument doc) {", "+    _lock.startRead();", "+    try {", "+      boolean poll = true;", "+      int size = _listeners.size();", "+      for(int i = 0; (poll && (i < size)); i++) {", "+        poll = poll && _listeners.get(i).shouldRevertFile(doc);", "+      }", "+      return poll;", "-    return poll;", "+    finally {", "+      _lock.endRead();", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b5349bb6dc085cb88000d1bde6fadc45", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/EventNotifier.java", "commitBeforeChange": "2c16e0d4d9158060234171af20b20d5de3e555f9", "commitAfterChange": "e1f5c81c52809e8bace735e11df6213768d823f8", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "   synchronized public boolean pollListeners(Poller p)", "signatureAfterChange": "   public boolean pollListeners(Poller p)", "diff": ["-  synchronized public boolean pollListeners(Poller p) {", "-    boolean poll = true;", "-    ", "-    int size = _listeners.size();", "-    for(int i = 0; (poll && (i < size)); i++) {", "-      poll = poll && p.poll(_listeners.get(i));", "+  public boolean pollListeners(Poller p) {", "+    _lock.startRead();", "+    try {", "+      boolean poll = true;", "+      ", "+      int size = _listeners.size();", "+      for(int i = 0; (poll && (i < size)); i++) {", "+        poll = poll && p.poll(_listeners.get(i));", "+      }", "+      return poll;", "-    return poll;", "+    finally {", "+      _lock.endRead();", "+    }"]}], "num": 4300}