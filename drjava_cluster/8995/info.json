{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e02007e6854cae02404ab297646020a6", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3adc67bf766af31e39dab506098e72ad", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractGlobalModel.java", "commitBeforeChange": "fb266d92ba9efd43e20ccabcb8837490fbeddaea", "commitAfterChange": "9b317c4ea1656d56bf74b4b1688b4337b5b40277", "methodNumberBeforeChange": 283, "methodNumberAfterChange": 285, "signatureBeforeChange": "     public void setFile(File file)", "signatureAfterChange": "     public void setFile(final File file)", "diff": ["-    public void setFile(File file) {", "-      _file = file;", "-      if (_file != null) _timestamp = _file.lastModified();", "+    public void setFile(final File file) {  ", "+      synchronized(this) { // ensures that _file and _timestamp are consistent", "+        _file = file;", "+        if (! AbstractGlobalModel.isUntitled(file)) _timestamp = file.lastModified();", "+        else _timestamp = 0L;", "+      }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "49fb760a21d18d8ca6e9d73a0a73093c", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractGlobalModel.java", "commitBeforeChange": "fb266d92ba9efd43e20ccabcb8837490fbeddaea", "commitAfterChange": "9b317c4ea1656d56bf74b4b1688b4337b5b40277", "methodNumberBeforeChange": 347, "methodNumberAfterChange": 347, "signatureBeforeChange": "     public boolean canAbandonFile()", "signatureAfterChange": "     public boolean canAbandonFile()", "diff": ["-      File f = _file;", "-      if (isModifiedSinceSave() || (f != null && ! f.exists() && _cacheAdapter.isReady()))", "+      File f = _file;", "+      if (isModifiedSinceSave() || (! AbstractGlobalModel.isUntitled(f) && ! f.exists() && _cacheAdapter.isReady()))"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "aff4865a781b253ba62e626a43b6fc3d", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractGlobalModel.java", "commitBeforeChange": "fb266d92ba9efd43e20ccabcb8837490fbeddaea", "commitAfterChange": "9b317c4ea1656d56bf74b4b1688b4337b5b40277", "methodNumberBeforeChange": 287, "methodNumberAfterChange": 289, "signatureBeforeChange": "     public void setParentDirectory(File pd)", "signatureAfterChange": "     public void setParentDirectory(File pd)", "diff": ["-      if (_file != null)", "-        throw new IllegalArgumentException(\"The parent directory can only be set for untitled documents\");", "-      _parentDir = pd;  ", "+      synchronized(this) {", "+        if (! AbstractGlobalModel.isUntitled(_file))", "+          throw new IllegalArgumentException(\"The parent directory can only be set for untitled documents\");", "+        _parentDir = pd;  ", "+      }"]}], "num": 8995}