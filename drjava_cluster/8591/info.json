{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4822d624ef29e55fbda2aa4d80f2e56e", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7e815976077c022489bd9a32e82e2d38", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/ConcreteRegionManager.java", "commitBeforeChange": "2f57375aa757b8e31ce23b70d8189ee121e3e44b", "commitAfterChange": "4fb080a38871d6561e99bfdfdb664ff987fb15c5", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 15, "signatureBeforeChange": "     public void clearRegions()", "signatureAfterChange": "     public void clearRegions()", "diff": ["-    public void clearRegions() { ", "+    public void clearRegions() {", "+      for(OpenDefinitionsDocument doc: _documents) {", "+        for (final R region: _regions.get(doc)) {", "+          // notify", "+          Utilities.invokeLater(new Runnable() { public void run() {", "+            _lock.startRead();", "+            try {", "+              for (RegionManagerListener<R> l: _listeners) { l.regionRemoved(region); }", "+            } finally { _lock.endRead(); }", "+          } });", "+        }", "+      }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ea25e109dc8c8450830992bb714b4b64", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/ConcreteRegionManager.java", "commitBeforeChange": "2f57375aa757b8e31ce23b70d8189ee121e3e44b", "commitAfterChange": "4fb080a38871d6561e99bfdfdb664ff987fb15c5", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "     public void removeRegions(OpenDefinitionsDocument doc)", "signatureAfterChange": "     public void removeRegions(OpenDefinitionsDocument doc)", "diff": ["-      if (found) _regions.remove(doc);", "+      if (found) {", "+        for (final R region: _regions.get(doc)) {", "+          // notify", "+          Utilities.invokeLater(new Runnable() { public void run() {", "+            _lock.startRead();", "+            try {", "+              for (RegionManagerListener<R> l: _listeners) { l.regionRemoved(region); }", "+            } finally { _lock.endRead(); }", "+          } });", "+        }", "+        _regions.remove(doc);", "+      }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fbfcbe0d001a717b92029097a4ba0326", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/BrowserHistoryManager.java", "commitBeforeChange": "7abad9d4d237e1759bd098868c3fc80eb6e4365f", "commitAfterChange": "dcd05db97717868f3a1bba07cb5b1b9106d93c65", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 7, "signatureBeforeChange": "   public void remove(final BrowserDocumentRegion r)", "signatureAfterChange": "   public void remove(final BrowserDocumentRegion r)", "diff": ["-    _regions.remove(r);", "+    if (!_pastRegions.remove(r)) _futureRegions.remove(r);", "-    _current = next(r);", "+    // Notify listeners of this event", "+    Utilities.invokeLater(new Runnable() { ", "+      public void run() {", "+        _lock.startRead();", "+        try { for (RegionManagerListener<BrowserDocumentRegion> l: _listeners) { l.regionRemoved(r); } } ", "+        finally { _lock.endRead(); }", "+      } ", "+    });"]}], "num": 8591}