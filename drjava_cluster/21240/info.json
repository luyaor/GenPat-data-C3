{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "cc759261974e16ebee21cea0690ec35d", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "243098e94813cb52420ad885b6c78924", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "33fc3d467fee5f4de09286fa1079029cb22ee327", "commitAfterChange": "ca0d74addfd439eb6314fb8167978328b41eb16f", "methodNumberBeforeChange": 712, "methodNumberAfterChange": 712, "signatureBeforeChange": "     public boolean shouldRevertFile(OpenDefinitionsDocument doc)", "signatureAfterChange": "     public boolean shouldRevertFile(OpenDefinitionsDocument doc)", "diff": ["-      String text = fname + \" has changed on disk. Would you like to reload it?\\n\" + ", "-        \"This will discard any changes you have made.\";", "-      int rc = JOptionPane.showConfirmDialog(MainFrame.this, text, fname + \" Modified on Disk\", ", "-                                             JOptionPane.YES_NO_OPTION);", "+      String text = fname + \" has changed on disk.\\n\" + ", "+        \"Would you like to reload it and discard any changes you have made?\";", "+      String[] options = { \"Reload from disk\", \"Keep my changes\" };", "+      int rc = JOptionPane.showOptionDialog(MainFrame.this, text, fname + \" Modified on Disk\", ", "+                                            JOptionPane.DEFAULT_OPTION, JOptionPane.QUESTION_MESSAGE,", "+                                            null, options, options[0]);", "-        case JOptionPane.YES_OPTION:    return true;", "-        case JOptionPane.NO_OPTION:     return false;", "+        case 0:                         return true;", "+        case 1:                         return false;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cace6328a825134bd20a3478aa811ba8", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "6bd1f449c6b6476464bf38d05b5455668d0d2ac5", "commitAfterChange": "c6857a248a65e4dc52a9c98c57b551279861859d", "methodNumberBeforeChange": 189, "methodNumberAfterChange": 189, "signatureBeforeChange": "   private void _close()", "signatureAfterChange": "   private void _close()", "diff": ["-//    LinkedList<OpenDefinitionsDocument> l = new LinkedList<OpenDefinitionsDocument>();", "-//    l.add(_model.getActiveDocument());", "-//    _model.closeFiles(l);", "-    ", "+    //    LinkedList<OpenDefinitionsDocument> l = new LinkedList<OpenDefinitionsDocument>();", "+    //    l.add(_model.getActiveDocument());", "+    //    _model.closeFiles(l);", "+    String filename = null;", "-      if(_model.getActiveDocument().isAuxiliaryFile() || ", "-         _model.getActiveDocument().isProjectFile()){", "-        String text = \"Closing this file will permanently remove it from the current project.\" + ", "-          \"\\nAre you sure that you want to close this file?\";", "-        ", "-        int rc = JOptionPane.showConfirmDialog(MainFrame.this,", "-                                             text,", "-                                             \"Close \" + ", "-                                               _model.getActiveDocument().getFile().getName() + ", "-                                               \"?\",", "-                                             JOptionPane.YES_NO_OPTION);", "-        if(rc != JOptionPane.YES_OPTION)", "-          return;", "-      }", "-      ", "-      //Either this is an external file or user actually wants to close it", "-      _model.closeFile(_model.getActiveDocument());", "-        ", "+      filename = _model.getActiveDocument().getFile().getName();", "-      //Not sure what exactly should be done.", "-      //For now, let's just say the error is unexpected.", "-      throw new UnexpectedException(e);", "+      filename = \"File\";", "+    if(_model.getActiveDocument().isAuxiliaryFile() || ", "+       _model.getActiveDocument().isProjectFile()){", "+      String text = \"Closing this file will permanently remove it from the current project.\" + ", "+        \"\\nAre you sure that you want to close this file?\";", "+      ", "+      Object[] options = {\"Yes\", \"No\"};", "+      int rc = JOptionPane.showOptionDialog(MainFrame.this,", "+                                            text,", "+                                            \"Close \" + filename + \"?\",", "+                                            JOptionPane.YES_NO_OPTION,", "+                                            JOptionPane.QUESTION_MESSAGE,", "+                                            null,", "+                                            options,", "+                                            options[1]);", "+      if(rc != JOptionPane.YES_OPTION)", "+        return;", "+    }", "+    ", "+    //Either this is an external file or user actually wants to close it", "+    _model.closeFile(_model.getActiveDocument());", "+      "]}], "num": 21240}