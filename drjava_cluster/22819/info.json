{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "18d6884a8bb6cbae535d3692815a5842", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4421bbacaf371dcf8cb89c9ff998ebf6", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/project/ProjectFileParser.java", "commitBeforeChange": "25b42c6ab8532332033323c9856bcd81aff002d8", "commitAfterChange": "4e9024f79382344df7a15499ea8826062a420a5f", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "   public ProjectFileIR parse(File projFile)      throws IOException, FileNotFoundException, MalformedProjectFileException", "signatureAfterChange": "   public ProjectFileIR parse(File projFile) throws IOException, FileNotFoundException, MalformedProjectFileException", "diff": ["-  public ProjectFileIR parse(File projFile) ", "-    throws IOException, FileNotFoundException, MalformedProjectFileException{", "+  public ProjectFileIR parse(File projFile) throws IOException, FileNotFoundException, MalformedProjectFileException {", "+    ", "+    _projectFile = projFile;", "+    _parentDir = projFile.getParent();", "+//    System.err.println(\"Parsing project file \" + projFile + \" with parent \" + _parentDir);", "+    ", "-    catch(SExpParseException e) {", "-      throw new MalformedProjectFileException(\"Parse Error: \" + e.getMessage());", "-    }", "+    catch(SExpParseException e) { throw new MalformedProjectFileException(\"Parse Error: \" + e.getMessage()); }", "-    ProjectFileIRImpl pfir = new ProjectFileIRImpl();", "+    ProjectFileIR pfir = new ProjectProfile(projFile);", "-      for (SEList exp : forest) { evaluateExpression(exp, pfir, new FileListVisitor(projFile.getParent())); }", "+      for (SEList exp : forest) evaluateExpression(exp, pfir);", "+    ", "+//    System.err.println(\"Parsed buildDir is \" + pfir.getBuildDirectory());"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a63918b757b2198e2b80c0bd57090d5a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/project/ProjectFileParser.java", "commitBeforeChange": "314c962d7f6ed2c6b00f5edc6e764b582b016016", "commitAfterChange": "3b2b8c4279d3d3c19a0254256362d4d46aeeddaf", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 8, "signatureBeforeChange": "      public ProjectFileIR parse(File projFile) throws IOException, FileNotFoundException", "signatureAfterChange": "   public ProjectFileIR parse(File projFile)      throws IOException, FileNotFoundException, MalformedProjectFileException", "diff": ["-  public ProjectFileIR parse(File projFile) throws IOException, FileNotFoundException {", "-    BufferedReader r = new BufferedReader(new FileReader(projFile));", "-    /* we actually want the path to the project file, not the file itself */", "-    if( projFile.isFile() ) {", "-      projFile = projFile.getParentFile();", "-    SourceTag st = TagFactory.makeSourceTag(projFile, r);", "-    ResourceTag rt = TagFactory.makeResourceTag(projFile, r);", "-    BuildDirTag mt = TagFactory.makeBuildDirTag(projFile, r);", "-    ClasspathTag ct = TagFactory.makeClasspathTag(projFile, r);", "-    JarTag jt = TagFactory.makeJarTag(projFile, r);", "+   */", "+  public ProjectFileIR parse(File projFile) ", "+    throws IOException, FileNotFoundException, MalformedProjectFileException{", "+    List<SEList> forest = null;", "+    try {", "+      forest = SExpParser.parse(projFile);", "+    }", "+    catch(SExpParseException e) {", "+      throw new MalformedProjectFileException(\"Parse Error: \" + e.getMessage());", "+    }", "-    return new ProjectFileIRImpl(st, rt, mt, ct, jt);", "+    ProjectFileIRImpl pfir = new ProjectFileIRImpl();", "+    ", "+    try{", "+      for(SEList exp : forest) {", "+        evaluateExpression(exp, pfir);", "+      }", "+    }catch(PrivateProjectException e){", "+      throw new MalformedProjectFileException(\"Parse Error: \" + e.getMessage());", "+    }", "+    ", "+    return pfir;", "+  }"]}], "num": 22819}