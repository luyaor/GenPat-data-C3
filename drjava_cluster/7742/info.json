{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6108af85e6c12a3847ca8bd5ae45ba9a", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "83be7a78104d8d71e63c097da0aa7827", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/reducedmodel/ReducedModelBrace.java", "commitBeforeChange": "910d746e63f304ca12ddaf504f429a40f31bf858", "commitAfterChange": "5aa76b13dff40570c1cd7aec5ad8f4bfd4acc66f", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": "   protected void getDistToEnclosingBrace(IndentInfo braceInfo)", "signatureAfterChange": "   public BraceInfo getDistToEnclosingBrace()", "diff": ["+    */", "+  public BraceInfo getDistToEnclosingBrace() {", "+    Stack<Brace> braceStack = new Stack<Brace>();", "+    TokenList.Iterator iter = _cursor._copy();", "+    resetWalkerLocationToCursor();", "+    // this is the distance to in front of the previous newline.", "+    final int distToPrevNewline = _parent.getDistToPreviousNewline();", "+", "+    if (distToPrevNewline == -1) {", "+      iter.dispose();", "+      return BraceInfo.NONE;", "+    }", "+    ", "+    int relDistance = distToPrevNewline + 1;", "+    int distance = relDistance;", "+    ", "+    // move to the proper location, then add the rest of the block and go to the previous.", "+    iter.move(-relDistance);", "+    final int offset = iter.getBlockOffset();", "+    relDistance += offset;", "+    distance += offset;", "+", "+    if (iter.atStart() || iter.atFirstItem()) { // no preceding brace exists", "+      iter.dispose();", "+      return BraceInfo.NONE;", "+    }", "+", "+    iter.prev(); // move to reduced token preceding the newline.", "+", "+    ", "+    String braceType;", "+", "+    // either we get a match and the stack is empty", "+    // or we reach the start of a file and haven't found a match", "+    // or we have a open brace that doesn't have a match,", "+    // so we abort", "+    while (! iter.atStart()) {", "+            ", "+      ReducedToken curToken = iter.current();", "+      int size = curToken.getSize();", "+      distance += size;", "+      relDistance += size;", "+", "+      if (! curToken.isGap()) {", "+        ", "+        Brace curBrace = (Brace) curToken;", "+", "+        if (moveWalkerGetState(-relDistance) == FREE) {", "+              // open", "+              if (curBrace.isOpenBrace()) {", "+                if (braceStack.isEmpty()) {", "+                  braceType = curBrace.getType();", "+                  // distance to brace == distance;", "+                  iter.dispose();", "+                  return new BraceInfo(braceType, distance);", "+                }", "+                Brace popped = braceStack.pop();", "+                if (! curBrace.isMatch(popped)) {", "+                  iter.dispose();", "+                  return BraceInfo.NONE;", "+                }", "+              }", "+              // closed", "+              else braceStack.push(curBrace);", "+            }", "+        relDistance = 0;", "+      }", "+      // no matter what, we always want to increase the distance", "+      // by the size of the token we have just gone over", "+      iter.prev();", "+    }", "+", "+    // Enclosing brace not found", "+    iter.dispose();", "+    return BraceInfo.NONE;", "+  }", "-    int relDistance = braceInfo.distToNewline + 1;", "-    if (braceInfo.distToNewline == -1) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c12ab865fda5d948150027a35eedc947", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/DrJava.java", "commitBeforeChange": "9b3d9c50193384b6879a006d53cc699b70b78101", "commitAfterChange": "18c065824a3025d62c2f6ca04849f79b162fb494", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 15, "signatureBeforeChange": "   public static boolean warnIfLinuxWithCompiz()", "signatureAfterChange": "   public static boolean warnIfLinuxWithCompiz()", "diff": ["-      if (!DrJava.getConfig().getSetting(edu.rice.cs.drjava.config.OptionConstants.WARN_IF_COMPIZ)) return false; // set to ignore", "+      if (!DrJava.getConfig().getSetting(OptionConstants.WARN_IF_COMPIZ)) return false; // set to ignore", "+      final JavaVersion.FullVersion ver160_20 = JavaVersion.parseFullVersion(\"1.6.0_20\");", "+      if (JavaVersion.CURRENT_FULL.compareTo(ver160_20)>=0) return false; // Java >= 1.6.0_20", "+      ", "-      int res = javax.swing.JOptionPane.showOptionDialog(null,", "-                                                         \"<html>DrJava has detected that you are using Compiz.<br>\" + ", "-                                                         \"<br>\" + ", "-                                                         \"Compiz and Java Swing are currently incompatible and can cause<br>\" + ", "-                                                         \"DrJava or your computer to crash.<br>\" + ", "-                                                         \"<br>\" + ", "-                                                         \"We recommend that you <b>disable Compiz</b>. On Ubuntu, go to<br>\" + ", "-                                                         \"System->Preferences->Appearence, display the Visual Effects tab,<br>\" + ", "-                                                         \"and select 'None'.<br>\" + ", "-                                                         \"<br>\" + ", "-                                                         \"For more information, please go to http://drjava.org/compiz<br>\" + ", "-                                                         \"<br>\" + ", "-                                                         \"Do you want to start DrJava anyway?</html>\",", "-                                                         \"Compiz detected\",", "-                                                         JOptionPane.DEFAULT_OPTION,", "-                                                         javax.swing.JOptionPane.WARNING_MESSAGE,", "-                                                         null,", "-                                                         options,", "-                                                         options[0]);", "+      int res = javax.swing.JOptionPane.", "+        showOptionDialog(null,", "+                         \"<html>DrJava has detected that you are using Compiz with a version<br>\" +", "+                         \"of Java that is older than \" + ver160_20 + \".<br>\" + ", "+                         \"<br>\" + ", "+                         \"Compiz and older versions of Java are incompatible and can cause<br>\" + ", "+                         \"DrJava or your computer to crash.<br>\" + ", "+                         \"<br>\" + ", "+                         \"We recommend that you <b>update to \" + ver160_20 + \" or newer</b>,<br>\" +", "+                         \"or that you disable Compiz if you still experience problems.<br>\" +", "+                         \"On Ubuntu, go to System->Preferences->Appearence, display the<br>\" +", "+                         \"Visual Effects tab, and select 'None'.<br>\" + ", "+                         \"<br>\" + ", "+                         \"For more information, please go to http://drjava.org/compiz<br>\" + ", "+                         \"<br>\" + ", "+                         \"Do you want to start DrJava anyway?</html>\",", "+                         \"Compiz detected\",", "+                         JOptionPane.DEFAULT_OPTION,", "+                         javax.swing.JOptionPane.WARNING_MESSAGE,", "+                         null,", "+                         options,", "+                         options[0]);", "-          DrJava.getConfig().setSetting(edu.rice.cs.drjava.config.OptionConstants.WARN_IF_COMPIZ, false);", "+          DrJava.getConfig().setSetting(OptionConstants.WARN_IF_COMPIZ, false);"]}], "num": 7742}