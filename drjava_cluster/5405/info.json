{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "01adf52763f2bba6d7d71e139a866306", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7ad8064314c9a5a9305027aeb0e75487", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/SwingDocumentAdapter.java", "commitBeforeChange": "a456c3c569290738778ef74445b985b166374279", "commitAfterChange": "96280514fb881d50943f0d3b8d04a28cff171d49", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "   public void insertText(int offs, String str, String style)     throws DocumentAdapterException", "signatureAfterChange": "   public void insertText(int offs, String str, String style)     throws DocumentAdapterException", "diff": ["-    throws DocumentAdapterException", "-  {", "-    if (_condition.canInsertText(offs, str, style)) {", "-      forceInsertText(offs, str, style);", "+    throws DocumentAdapterException {", "+    writeLock();", "+    try {", "+      if (_condition.canInsertText(offs, str, style)) forceInsertText(offs, str, style);", "+    finally { writeUnlock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "90d93376baf1f85d14edda925956565a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/SwingDocumentAdapter.java", "commitBeforeChange": "a456c3c569290738778ef74445b985b166374279", "commitAfterChange": "96280514fb881d50943f0d3b8d04a28cff171d49", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "   public void remove(int offs, int len) throws BadLocationException", "signatureAfterChange": "   public void remove(int offs, int len) throws BadLocationException", "diff": ["-    if (_condition.canRemoveText(offs, len)) {", "-      super.remove(offs, len);", "+    writeLock(); // locking is used to make the test and modification atomic", "+    try {", "+      if (_condition.canRemoveText(offs, len))  super.remove(offs, len);", "+    finally { writeUnlock(); }", "+"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9c6e2ec0e1e0da283b7bf5f919494001", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/SwingDocumentAdapter.java", "commitBeforeChange": "a456c3c569290738778ef74445b985b166374279", "commitAfterChange": "96280514fb881d50943f0d3b8d04a28cff171d49", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "   public void removeText(int offs, int len) throws DocumentAdapterException", "signatureAfterChange": "   public void removeText(int offs, int len) throws DocumentAdapterException", "diff": ["-    if (_condition.canRemoveText(offs, len)) {", "-      forceRemoveText(offs, len);", "+    writeLock();  // locking is used to make the test and modification atomic", "+    try {", "+      if (_condition.canRemoveText(offs, len)) forceRemoveText(offs, len);", "+    finally { writeUnlock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c8d3327955c39e087e155ce2563eaaf4", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/SwingDocumentAdapter.java", "commitBeforeChange": "a456c3c569290738778ef74445b985b166374279", "commitAfterChange": "96280514fb881d50943f0d3b8d04a28cff171d49", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "   public void insertString(int offs, String str, AttributeSet set)     throws BadLocationException", "signatureAfterChange": "   public void insertString(int offs, String str, AttributeSet set)     throws BadLocationException", "diff": ["-    throws BadLocationException", "-  {", "-    if (_condition.canInsertText(offs, str, null)) {", "-      super.insertString(offs, str, set);", "+    throws BadLocationException {", "+    writeLock();  // locking is used to make the test and modification atomic", "+    try { ", "+      if (_condition.canInsertText(offs, str, null)) super.insertString(offs, str, set);", "+    finally { writeUnlock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d69745eeb960b9d953cb4069ab36981f", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "e64e0f2febfc163cfb04eb35ce1134673166ab50", "commitAfterChange": "71b4e72a1b4feef5a2621bd09e829e0108d8d893", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 23, "signatureBeforeChange": "   public void insertString(int offset, String str, AttributeSet a)     throws BadLocationException", "signatureAfterChange": "   public void insertString(int offset, String str, AttributeSet a) throws BadLocationException", "diff": ["-  public void insertString(int offset, String str, AttributeSet a)", "-    throws BadLocationException", "-  {", "-    // throwErrorHuh();", "+  public void insertString(int offset, String str, AttributeSet a) throws BadLocationException {", "-    if (_tabsRemoved) {", "-      str = _removeTabs(str);", "+    ", "+    writeLock();", "+    try {", "+      if (_tabsRemoved) str = _removeTabs(str);", "+      ", "+      if (!_modifiedSinceSave) {", "+        _modifiedSinceSave = true;", "+        _classFileInSync = false;", "+      }", "+      super.insertString(offset, str, a);", "-", "-    if (!_modifiedSinceSave) {", "-      _modifiedSinceSave = true;", "-      _classFileInSync = false;", "-    }", "-    super.insertString(offset, str, a);", "+    finally { writeUnlock(); }"]}], "num": 5405}