{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d95cf5b0139d708e51fee99dd98e5a4e", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "72b495e426233d7c9afa00a266ed5436", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractDJDocument.java", "commitBeforeChange": "92fd06b34796984853343dde64251cfdd2a0ce25", "commitAfterChange": "ad91ad9028e35ded2c6aef6b30e8459151ecae7c", "methodNumberBeforeChange": 41, "methodNumberAfterChange": 41, "signatureBeforeChange": "   protected void _storeInCache(String key, Object result)", "signatureAfterChange": "   protected void _storeInCache(String query, Object answer, int offset)", "diff": ["-   */", "-  protected void _storeInCache(String key, Object result) {", "-    synchronized(_helperCache) {", "-      _cacheInUse = true;", "-      ", "-      // Prevent going over max size", "-      if (_helperCache.size() >= MAX_CACHE_SIZE) {", "-        if (_helperCacheHistory.size() > 0) {", "-          _helperCache.remove( _helperCacheHistory.get(0) );", "-          _helperCacheHistory.remove(0);", "-        }", "-        else { // Should not happen", "-          throw new RuntimeException(\"Cache larger than cache history!\");", "-        }", "-      }", "-      Object prev = _helperCache.put(key, result);", "-      // Add to history if the insert increased the size of the table", "-      if (prev == null) _helperCacheHistory.add(key);", "+    */", "+  protected void _storeInCache(String query, Object answer, int offset) {", "+    synchronized(_reduced) {", "+      _queryCache.put(query, answer);", "+      _addToOffsetsToQueries(query, offset);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ea089114564b450b71872c77e30dee0c", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "8714a43a313a1a0d2ca9cc83816dab7a08ff011b", "commitAfterChange": "ea5cfb95023de08fddeb23c31d383ebdee6d9006", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "   protected void _storeInCache(String key, Object result)", "signatureAfterChange": "   protected void _storeInCache(String key, Object result)", "diff": ["-    _helperCache.put(key, result);", "+    ", "+    // Prevent going over max size", "+    if (_helperCache.size() >= MAX_CACHE_SIZE) {", "+      if (_helperCacheHistory.size() > 0) {", "+        _helperCache.remove( _helperCacheHistory.elementAt(0) );", "+        _helperCacheHistory.removeElementAt(0);", "+      }", "+      else {", "+        // Shouldn't happen", "+        throw new RuntimeException(\"Cache larger than cache history!\");", "+      }", "+    }", "+    Object prev = _helperCache.put(key, result);", "+    // Add to history if the insert increased the size of the table", "+    if (prev == null) {", "+      _helperCacheHistory.addElement(key);", "+    }"]}], "num": 363}