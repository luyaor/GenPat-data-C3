{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e424e6a2b7b7c70613435a9f9f4fa393", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "34f36ccc86502cd8bc0c62436e5fc36e", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "dynamicjava/src/koala/dynamicjava/util/TigerUtilities.java", "commitBeforeChange": "66067a3f1d3a007b2ddad388dba56bb3c6f9df80", "commitAfterChange": "81d6db8320cf4667127c44e5b1de134b58b6f3dc", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "     public static boolean isEnum(Class<?> c)", "signatureAfterChange": "     public static boolean isEnum(Class<?> c)", "diff": ["-    return _tigerEnabled && c.isEnum();", "+    try {", "+      return _tigerEnabled && (c.getSuperclass() == Class.forName(\"java.lang.Enum\"));", "+    }", "+    // this try/catch block should in fact not be there, but to use", "+    // c.isEnum() instead if the value of the ENUM flag", "+    // was known (see commented line below)", "+    catch(ClassNotFoundException e){", "+      throw new ExecutionError(\"Tiger is enabled, but cannot find class java.lang.Enum! Please contact the DynamicJava/DrJava team (javaplt@cs.rice.edu).\");", "+    }", "+    ", "+    //return _tigerEnabled && c.isEnum();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "47df0516cd50241fca7bb7e77f762463", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "dynamicjava/src/koala/dynamicjava/interpreter/EvaluationVisitor.java", "commitBeforeChange": "66067a3f1d3a007b2ddad388dba56bb3c6f9df80", "commitAfterChange": "81d6db8320cf4667127c44e5b1de134b58b6f3dc", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "   public Object visit(SwitchStatement node)", "signatureAfterChange": "   public Object visit(SwitchStatement node)", "diff": ["-      if (o instanceof Enum){", "-        sel = (Enum) o;", "+      Class<?> EnumClass = (TigerUtilities.isTigerEnabled() ? Class.forName(\"java.lang.Enum\") : null);", "+      if (TigerUtilities.isTigerEnabled() && o.getClass().getSuperclass() == EnumClass){", "+        sel = /*(Enum)*/ o;", "-          if(TigerUtilities.isTigerEnabled() && o instanceof Enum ){", "-            bind = (Enum) o;", "+          if(TigerUtilities.isTigerEnabled() && o.getClass().getSuperclass() == EnumClass){", "+            bind = /*(Enum)*/ o;", "-            (TigerUtilities.isTigerEnabled() && (sel instanceof Enum) && ((Enum)sel).equals((Enum)bind))", "+            (TigerUtilities.isTigerEnabled() && (sel.getClass().getSuperclass() == EnumClass) && (/*(Enum)*/sel).equals(/*(Enum)*/bind))", "+    } catch(ClassNotFoundException e){", "+      throw new ExecutionError(\"Tiger is enabled, but cannot find class java.lang.Enum! Please contact the DynamicJava/DrJava team (javaplt@cs.rice.edu).\");", "+    } catch(NoClassDefFoundError e){", "+      throw new ExecutionError(\"Tiger is enabled, but cannot find class java.lang.Enum! Please contact the DynamicJava/DrJava team (javaplt@cs.rice.edu).\");", "+    "]}], "num": 6839}