{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2e7c308c95798c4fa454195e0b11d60d", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "08e2ec997686597450b6cef2fa212266", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractGlobalModel.java", "commitBeforeChange": "f1e49fbbed5c92cb9e03198e54bd2a4b521e7d76", "commitAfterChange": "f8db0c631984f399cc3dc69f63db7cc67ab9e242", "methodNumberBeforeChange": 258, "methodNumberAfterChange": 258, "signatureBeforeChange": "   public void addToBrowserHistory()", "signatureAfterChange": "   public void addToBrowserHistory()", "diff": ["+    assert EventQueue.isDispatchThread();", "-    if (doc != null) {", "+    if (doc != null) {  // how can doc == null?", "-        startPos = doc.createPosition(doc.getCaretPosition()).getOffset();", "-        endPos = doc.createPosition(doc.getLineEndPos(doc.getCaretPosition())).getOffset();", "+        startPos = doc.createUnwrappedPosition(doc.getCaretPosition()).getOffset();", "+        endPos = doc.createUnwrappedPosition(doc.getLineEndPos(doc.getCaretPosition())).getOffset();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3848ecfd44fdbc8e1d9ae44cac1e2558", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractGlobalModel.java", "commitBeforeChange": "6d55d86705248616cac5b324a7c528485ceb6104", "commitAfterChange": "d9483f6c228cd09f3431ad6b50a3d96bdaf83832", "methodNumberBeforeChange": 251, "methodNumberAfterChange": 251, "signatureBeforeChange": "   public synchronized void addToBrowserHistory()", "signatureAfterChange": "   public void addToBrowserHistory()", "diff": ["-  /** Add the current location to the browser history. */", "-  public synchronized void addToBrowserHistory() {", "+  /** Add the current location to the browser history.  Only runs in event thread. */", "+  public void addToBrowserHistory() {", "+    assert EventQueue.isDispatchThread(); ", "-        startPos = doc.createPosition(doc.getCaretPosition()).getOffset();", "-        endPos = doc.createPosition(doc.getLineEndPos(doc.getCaretPosition())).getOffset();", "+        startPos = doc.createWrappedPosition(doc.getCaretPosition()).getOffset();", "+        endPos = doc.createWrappedPosition(doc.getLineEndPos(doc.getCaretPosition())).getOffset();"]}], "num": 7093}