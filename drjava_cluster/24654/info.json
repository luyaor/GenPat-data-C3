{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ad18ab9e4a989cde85aad152905e6744", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0e0bb9e46a53be2d9b59f6cf93d61ee3", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 32, "methodNumberAfterChange": 32, "signatureBeforeChange": "   public void gotoLine(int line)", "signatureAfterChange": "   public void gotoLine(int line)", "diff": ["-//    acquireReadLock();", "+    acquireReadLock();", "-//    try {", "-//    synchronized(_reduced) {", "-      _setCurrentLocation(0);", "-      for (int i = 1; (i < line) && (_currentLocation < len); i++) {", "-        dist = _reduced.getDistToNextNewline();", "-        if (_currentLocation + dist < len) dist++;", "-        actualLine++;", "-        _move(dist);  // updates _currentLocation", "+    try {", "+      synchronized(_reduced) {", "+        _setCurrentLocation(0);", "+        for (int i = 1; (i < line) && (_currentLocation < len); i++) {", "+          dist = _reduced.getDistToNextNewline();", "+          if (_currentLocation + dist < len) dist++;", "+          actualLine++;", "+          _move(dist);  // updates _currentLocation", "+        }", "+        _cachedLineNum = actualLine;", "+        _cachedLocation = _currentLocation;", "+        _cachedPrevLineLoc = _getLineStartPos(_currentLocation);", "+        _cachedNextLineLoc = _getLineEndPos(_currentLocation);", "-      _cachedLineNum = actualLine;", "-      _cachedLocation = _currentLocation;", "-      _cachedPrevLineLoc = _getLineStartPos(_currentLocation);", "-      _cachedNextLineLoc = _getLineEndPos(_currentLocation);", "-//    }", "-//    }", "-//    finally { releaseReadLock(); }", "+    }", "+    finally { releaseReadLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d122b9662a859e9235b81b0b5245ae3d", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "a8db062e8dfd667df6324c059f7a6725afc99a1b", "commitAfterChange": "35da9b77b7d75aca3d6277e27e3ba3dc86f3eaa9", "methodNumberBeforeChange": 39, "methodNumberAfterChange": 39, "signatureBeforeChange": "   public void gotoLine(int line)", "signatureAfterChange": "   public void gotoLine(int line)", "diff": ["-   */", "+  /** Goes to a particular line in the document. */", "-    synchronized (_reduced) {", "-      setCurrentLocation(0);", "-      for (int i = 1; (i < line) && (_currentLocation < getLength()); i++) {", "-        dist = _reduced.getDistToNextNewline();", "-        if (_currentLocation + dist < getLength()) {", "-          dist++;", "+    readLock();", "+    int len = getLength();", "+    try {", "+      synchronized (_reduced) {", "+        setCurrentLocation(0);", "+        for (int i = 1; (i < line) && (_currentLocation < len); i++) {", "+          dist = _reduced.getDistToNextNewline();", "+          if (_currentLocation + dist < len) dist++;", "+          actualLine++;", "+          move(dist);", "-        actualLine++;", "-        move(dist);", "+        _cachedLineNum = actualLine;", "+        _cachedLocation = _currentLocation;", "+        _cachedPrevLineLoc = getLineStartPos(_currentLocation);", "+        _cachedNextLineLoc = getLineEndPos(_currentLocation);", "-      _cachedLineNum = actualLine;", "-      _cachedLocation = _currentLocation;", "-      _cachedPrevLineLoc = getLineStartPos(_currentLocation);", "-      _cachedNextLineLoc = getLineEndPos(_currentLocation);", "+    finally { readUnlock(); }"]}], "num": 24654}