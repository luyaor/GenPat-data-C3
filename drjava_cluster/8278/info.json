{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8299be2b930937e3996eff0e31f1cb2a", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bcbb6f0b849ab5feef1b61c6e6808ba7", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/compiler/DefaultCompilerModel.java", "commitBeforeChange": "e64e0f2febfc163cfb04eb35ce1134673166ab50", "commitAfterChange": "71b4e72a1b4feef5a2621bd09e829e0108d8d893", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "   synchronized public void compileAll(List<File> sourceRootSet, List<File> filesToCompile) throws IOException", "signatureAfterChange": "   public void compileAll(List<File> sourceRootSet, List<File> filesToCompile) throws IOException", "diff": ["-  synchronized public void compileAll(List<File> sourceRootSet, List<File> filesToCompile) throws IOException {", "+  public void compileAll(List<File> sourceRootSet, List<File> filesToCompile) throws IOException {", "+    ", "-    if (_getter.getFileGroupingState().isProjectActive()) {", "+    ", "+    if (_getter.getFileGroupingState().isProjectActive()) ", "-    }", "-    List<OpenDefinitionsDocument> defDocs = _getter.getDefinitionsDocuments();", "+    List<OpenDefinitionsDocument> defDocs;", "+    ", "+    defDocs = _getter.getDefinitionsDocuments(); ", "+    ", "-", "-    // check for modified project files, in case they didn't save when prompted", "-    if (_hasModifiedFiles(defDocs)) {", "-      // if any files haven't been saved after we told our", "-      // listeners to do so, don't proceed with the rest", "-      // of the compile.", "+    ", "+    // Check for modified project files, in case they didn't save when prompted.", "+    // If any files haven't been saved after we told our listeners to do so, ", "+    // don't proceed with the rest of the compile.", "+    if (_hasModifiedFiles(defDocs)) return;", "+    ", "+    // Get sourceroots and all files", "+    File[] sourceRoots = sourceRootSet.toArray(new File[0]);;", "+    File[] files = filesToCompile.toArray(new File[0]);", "+    ", "+    _notifier.compileStarted();", "+    ", "+    try { _compileFiles(sourceRoots, files, buildDir); }", "+    catch (Throwable t) {", "+      CompilerError err = new CompilerError(t.toString(), false);", "+      CompilerError[] errors = new CompilerError[] { err };", "+      _distributeErrors(errors);", "-    else {", "-", "-      // Get sourceroots and all files", "-      File[] sourceRoots = sourceRootSet.toArray(new File[0]);;", "-      File[] files = filesToCompile.toArray(new File[0]);", "-", "-      _notifier.compileStarted();", "-", "+    finally { _notifier.compileEnded(); }", "+  }", "-        // Compile the files", "-        _compileFiles(sourceRoots, files, buildDir);", "-      catch (Throwable t) {", "-        CompilerError err = new CompilerError(t.toString(), false);", "-        CompilerError[] errors = new CompilerError[] { err };", "-        _distributeErrors(errors);", "-      finally {", "-        // Fire a compileEnded event", "-        _notifier.compileEnded();", "-      }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ddc277708058fa698c64f62a2f00d6ef", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/compiler/DefaultCompilerModel.java", "commitBeforeChange": "11f5b9e7df5eb990bc9eeb3f9e343e54f88d561a", "commitAfterChange": "03fcb19e2e455531cf9f2f73094d7f9c8d5e6255", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "   public void compileAll(List<File> sourceRootSet, List<File> filesToCompile) throws IOException", "signatureAfterChange": "   public void compileAll(List<File> sourceRootSet, List<File> filesToCompile) throws IOException", "diff": ["-   ", "-    //ScrollableDialog sd1 = new ScrollableDialog(null, \"DefaultCompilerModel.compileAll called\", \"\", \"\");", "-    //sd1.show();", "-    ", "-    if (_hasModifiedFiles(defDocs)) {", "-      //System.out.println(\"Has modified files\");", "-      //ScrollableDialog sd2 = new ScrollableDialog(null, \"_hasModifiedFiles(...) returned true!\", \"\", \"\");", "-      //sd2.show();", "-      _notifier.saveBeforeCompile();", "-    }", "+    if (_hasModifiedFiles(defDocs)) _notifier.saveBeforeCompile();", "-    // Check for modified project files, in case they didn't save when prompted.", "-    // If any files haven't been saved after we told our listeners to do so, ", "-    // don't proceed with the rest of the compile.", "+    // Check for modified project files, in case they didn't save when prompted. If any files haven't been saved", "+    // after we told our listeners to do so, don't proceed with the rest of the compile.", "-//    ScrollableDialog sd3 = new ScrollableDialog(null, \"DefaultCompilerModel.compileAll(...,...) has finished file saving\", \"\",\"\");", "-//    sd3.show();", "-    ", "-    File[] sourceRoots = sourceRootSet.toArray(new File[0]);;", "-    File[] files = filesToCompile.toArray(new File[0]);", "-    ", "-//    ScrollableDialog sd4 = new ScrollableDialog(null, \"Ready to invoke compileStarted() event on _notifier [\" + _notifier + \"]\", \"\", \"\");", "-//    sd4.show();", "-    ", "-    _notifier.compileStarted();", "-    ", "-//    ScrollableDialog sd5 = new ScrollableDialog(null, \"compileStarted() event successfully invoked \", \"\", \"\");", "-//    sd5.show();", "-    ", "-    try { _compileFiles(sourceRoots, files, buildDir); }", "-    catch (Throwable t) {", "-      CompilerError err = new CompilerError(t.toString(), false);", "-      CompilerError[] errors = new CompilerError[] { err };", "-      _distributeErrors(errors);", "-    }", "-    finally { _notifier.compileEnded(); }", "+    _rawCompile(sourceRootSet.toArray(new File[0]), filesToCompile.toArray(new File[0]), buildDir);"]}], "num": 8278}