{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "c636764058333a014e33218ba6fd1850", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "95a96ef40bebe86ae7998d96d012fff6", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/FindResultsPanel.java", "commitBeforeChange": "50372cdcb0e3a8db5661a31f5825b5dc9f07a9e9", "commitAfterChange": "3049ab1c03c6212f738bc13f7b01e843f39da3a7", "methodNumberBeforeChange": 31, "methodNumberAfterChange": 1, "signatureBeforeChange": "      public String toString()", "signatureAfterChange": "             public void regionAdded(MovingDocumentRegion r)", "diff": ["+    _regionManager.addListener(new RegionManagerListener<MovingDocumentRegion>() {      ", "+      public void regionAdded(MovingDocumentRegion r) { addRegion(r); }", "-", "-    public String toString() {", "-      final String textFont = DrJava.getConfig().getSetting(OptionConstants.FONT_MAIN).toString();", "-      final String numFont = DrJava.getConfig().getSetting(OptionConstants.FONT_LINE_NUMBERS).toString();", "-      final StringBuilder sb = new StringBuilder(120);", "-      sb.append(\"<html>\");", "-      sb.append(lineNumber());", "-      sb.append(\": \");", "-      String text = _region.getString();", "-      sb.append(text);", "-      sb.append(StringOps.getBlankString(120 - text.length()));", "-      sb.append(\"</html>\");", "-      return sb.toString();", "-    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ef1f6ec4075b62b16a6c85f2f88d40b8", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/DrJavaSurveyPopup.java", "commitBeforeChange": "2c201f7935638475a11fa56b3f2494c245d1ef90", "commitAfterChange": "2f4a42f54aaa74c25ba0a929e664640f896ec43a", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 8, "signatureBeforeChange": "    protected void yesAction()", "signatureAfterChange": "      protected void yesAction()", "diff": ["+  ", "-      final String DRJAVA_SURVEY_PAGE = \"http://www.drjava.org/submit-usage.php?\";", "-      StringBuilder sb = new StringBuilder();", "-      sb.append(DRJAVA_SURVEY_PAGE);", "-//    sb.append(\"date=\");", "-//    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyyMMdd\");", "-//    sdf.setTimeZone(TimeZone.getTimeZone(\"GMT\"));", "-//    sb.append(sdf.format(new Date()));", "-      boolean first = true;", "-      for(String k: DRJAVA_SURVEY_KEYS) {", "-        if (first) { first = false; } else { sb.append('&'); }", "-        sb.append(k);", "-        sb.append('=');", "-        sb.append(System.getProperty(k));", "-      }", "-      LOG.log(sb.toString());", "-      String result = sb.toString().replaceAll(\" \",\"%20\");", "+      String result = getSurveyURL();", "-      if (!(new java.util.Date().after(nextCheck)) &&", "-          (DrJava.getConfig().getSetting(OptionConstants.LAST_DRJAVA_SURVEY_RESULT).equals(result))) {", "-        // not enough days have passed, and the configuration has not changed, quietly terminate", "+      if (!maySubmitSurvey()) {", "+        // not enough days have passed, or the configuration has not changed, quietly terminate", "-        sb.setLength(0);", "+        StringBuilder sb = new StringBuilder();"]}], "num": 26508}