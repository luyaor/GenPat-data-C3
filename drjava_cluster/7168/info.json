{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d9509951e218f830d35e78395ba076db", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "302037d70bbeffdaf7ddc799132cebab", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/FileOps.java", "commitBeforeChange": "c5b9cf28a37b667f04f0540e4d89fb73184a80a2", "commitAfterChange": "18e16fa33368c591f3ff38462373a1f8b2d32e42", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 12, "signatureBeforeChange": "   public static void saveFile(FileSaver fileSaver) throws IOException", "signatureAfterChange": "   public static void saveFile(FileSaver fileSaver) throws IOException", "diff": ["-      if (!file.renameTo(backup)){", "+      if (!renameFile(file, backup)){", "-      if (tempFileUsed && !tempFile.renameTo(fileSaver.getTargetFile())){", "+", "+      if (tempFileUsed && !renameFile(tempFile, fileSaver.getTargetFile())) {", "+      /* Delete the temp file */", "+      tempFile.delete();", "+", "-          backup.renameTo(file);", "+          renameFile(backup, file);", "-      /* Delete the temp file */", "-      tempFile.delete();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7da7025ae5f8720c8995a62b075080b3", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/FileOps.java", "commitBeforeChange": "a3b94da025d35ad7aeb4080660309a66820eaabc", "commitAfterChange": "c3686d18afe86d8459a6ef71e5f779589d915dd8", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "   public static void saveFile(FileSaver fileSaver) throws IOException", "signatureAfterChange": "   public static void saveFile(FileSaver fileSaver) throws IOException", "diff": ["+    if (!file.canWrite()) {", "+      throw new IOException(\"Permission denied\");", "+    }", "-      if (tempFileUsed && !renameFile(tempFile, fileSaver.getTargetFile())) {", "+      if (tempFileUsed && !renameFile(tempFile, file)) {", "-      /* Delete the temp file */", "-      tempFile.delete();", "-    } finally {", "+    } ", "+    finally {", "+      if (tempFileUsed) {", "+        /* Delete the temp file */", "+        tempFile.delete();", "+      }"]}], "num": 7168}