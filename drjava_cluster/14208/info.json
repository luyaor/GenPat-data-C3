{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d6541879fa67606e6db8ae5c649665cc", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "19657de41f62dde89ca0059d35f4c88a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractDJDocument.java", "commitBeforeChange": "ba2b5ff7a570417e9dd4c8e447dbbd043b8c1381", "commitAfterChange": "098be4c27233835145531c86355bc697a3b62bfd", "methodNumberBeforeChange": 58, "methodNumberAfterChange": 62, "signatureBeforeChange": "   public int getLineEndPos(final int pos)", "signatureAfterChange": "   public int _getLineEndPos(final int pos)", "diff": ["-  public int getLineEndPos(final int pos) {", "+  public int _getLineEndPos(final int pos) {", "+    ", "+    assert isReadLocked();", "+    ", "-    acquireReadLock();", "-    try {", "-      synchronized(_reduced) {", "-        final int oldPos = _currentLocation;", "-        _setCurrentLocation(pos);", "-        dist = _reduced.getDistToNextNewline();", "-        _setCurrentLocation(oldPos);", "-      }", "-      newPos = pos + dist;", "-      assert newPos == getLength() || _getText(newPos, 1).charAt(0) == '\\n';", "-      _storeInCache(key, newPos, newPos);", "-      return newPos;", "+//    acquireReadLock();", "+//    try {", "+    synchronized(_reduced) {", "+      final int oldPos = _currentLocation;", "+      _setCurrentLocation(pos);", "+      dist = _reduced.getDistToNextNewline();", "+      _setCurrentLocation(oldPos);", "-    finally { releaseReadLock(); }", "+    newPos = pos + dist;", "+    assert newPos == getLength() || _getText(newPos, 1).charAt(0) == '\\n';", "+    _storeInCache(key, newPos, newPos);", "+    return newPos;", "+//    }", "+//    finally { releaseReadLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "601f70445c86f44777a7796da1f8b8a4", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractDJDocument.java", "commitBeforeChange": "b552f36a1d45e65c0515c4425e1954dc75014315", "commitAfterChange": "4f7118cfc181d6dc991cba376f6e7b8942d8b8fc", "methodNumberBeforeChange": 54, "methodNumberAfterChange": 52, "signatureBeforeChange": "   public int _getLineEndPos(final int pos)", "signatureAfterChange": "   public int _getLineEndPos(final int pos)", "diff": ["-    final int oldPos = _currentLocation;", "-    _setCurrentLocation(pos);", "-    dist = _reduced.getDistToNextNewline();", "-    _setCurrentLocation(oldPos);", "-    newPos = pos + dist;", "-    assert newPos == getLength() || _getText(newPos, 1).charAt(0) == '\\n';", "-    _storeInCache(key, newPos, newPos);  // insertions after newPos do not affect result", "+    final int oldPos = _currentLocation;", "+    setCurrentLocation(pos);", "+    dist = _reduced.getDistToNextNewline();", "+    setCurrentLocation(oldPos);", "+", "+    newPos = pos + dist;", "+    assert newPos == getLength() || _getText(newPos, 1).charAt(0) == newline;", "+    _storeInCache(key, newPos, newPos);"]}], "num": 14208}