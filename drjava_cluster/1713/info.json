{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "c7d7c7764208b933871722a621eed123", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c863f4eadcdc40b719c854fb651b47c5", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "0f8e3de4404f31c0be663f53dc9f13f993417600", "commitAfterChange": "a18bb851a57c48dcae2d71fcfc96fdc834ac0245", "methodNumberBeforeChange": 92, "methodNumberAfterChange": 92, "signatureBeforeChange": "   private synchronized int _findKeywordAtToplevel(String keyword,                                                   String text,                                                   int textOffset)", "signatureAfterChange": "   private synchronized int _findKeywordAtToplevel(String keyword,                                                   String text,                                                   int textOffset)", "diff": ["-        done = true; break;", "-      } else {", "+        done = true;", "+        break;", "+      }", "+      else {", "-        if (rt.getState() == ReducedModelStates.FREE && ", "-            Character.isWhitespace(text.charAt(index + keyword.length()))) {", "-          //if (!_isCommentedOrSpace(index,text)) {", "-          done = true;", "-          if (!posNotInBlock(index)) { //in a paren phrase, gone too far", "-            index = -1;", "+        int indexPastKeyword = index + keyword.length();", "+        if (indexPastKeyword < text.length()) {", "+          if (rt.getState() == ReducedModelStates.FREE &&", "+              Character.isWhitespace(text.charAt(indexPastKeyword))) {", "+            //if (!_isCommentedOrSpace(index,text)) {", "+            done = true;", "+            if (!posNotInBlock(index)) { //in a paren phrase, gone too far", "+              index = -1;", "+            }", "-        } else {", "-          index++;  //move past so we can search again", "+          else {", "+            index++;  //move past so we can search again", "+          }", "+        }", "+        else {", "+          // No space found past the keyword", "+          index = -1;", "+          done = true;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dfbd03d80e69522220927b829a15ca55", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "e64e0f2febfc163cfb04eb35ce1134673166ab50", "commitAfterChange": "71b4e72a1b4feef5a2621bd09e829e0108d8d893", "methodNumberBeforeChange": 45, "methodNumberAfterChange": 45, "signatureBeforeChange": "   private int _findKeywordAtToplevel(String keyword,                                                   String text,                                                   int textOffset)", "signatureAfterChange": "   private int _findKeywordAtToplevel(String keyword, String text, int textOffset)", "diff": ["-  private int _findKeywordAtToplevel(String keyword,", "-                                                  String text,", "-                                                  int textOffset) {", "-    // throwErrorHuh();", "+  private int _findKeywordAtToplevel(String keyword, String text, int textOffset) {", "-      boolean done = false;", "-      while (!done) {", "+      while (true) {", "-        if (index == -1) {  //not found", "-          done = true;", "-          break;", "-        }", "+        if (index == -1) break; // not found", "-          //found a match, check quality", "+          // found a match, check quality", "-              //if (!_isCommentedOrSpace(index,text)) {", "-              done = true;", "-              if (!posNotInBlock(index)) { //in a paren phrase, gone too far", "-                index = -1;", "-              }", "+              // found a match but may not be at top level", "+              if (!posNotInBlock(index)) index = -1; //in a paren phrase, gone too far", "+              break;", "-            else {", "-              index++;  //move past so we can search again", "-            }", "+            else index++;  //move past so we can search again", "-          else {", "-            // No space found past the keyword", "+          else { // No space found past the keyword", "-            done = true;", "+            break;"]}], "num": 1713}