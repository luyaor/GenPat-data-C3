{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "66cc1c13c0611bf0af8e89ea2f357297", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "29e551814b447d5b04e0a1d0159f24f6", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/FindReplaceMachine.java", "commitBeforeChange": "97a825e752ef3da28458a0080f0990b0f0659788", "commitAfterChange": "3f50a00dbfaba534529de5a114a9d7c30612e9a7", "methodNumberBeforeChange": 35, "methodNumberAfterChange": 35, "signatureBeforeChange": "   private FindResult      _findNextInDocSegment(OpenDefinitionsDocument doc, int start, int len, boolean wrapped, boolean allWrapped)", "signatureAfterChange": "   private FindResult _findNextInDocSegment(final OpenDefinitionsDocument doc, int start, int len,                                             final boolean wrapped, final boolean allWrapped)", "diff": ["-  private FindResult ", "-    _findNextInDocSegment(OpenDefinitionsDocument doc, int start, int len, boolean wrapped, boolean allWrapped) {  ", "+  private FindResult _findNextInDocSegment(final OpenDefinitionsDocument doc, int start, int len, ", "+                                           final boolean wrapped, final boolean allWrapped) {  ", "-    if (len == 0 || doc.getLength() == 0) return new FindResult(doc, -1, wrapped, allWrapped);", "+    final int docLen = doc.getLength();;     // The length of the segment to be searched", "-    int docLen;     // The length of the segment to be searched", "+    if (len == 0 || docLen == 0) return new FindResult(doc, -1, wrapped, allWrapped);", "+   ", "-    ", "-    String findWord = _findWord;       // copy of word being searched (so it can converted to lower case if necessary", "-    int wordLen = findWord.length();   // length of search key (word being searched fo  ", "+    final String findWord;       // copy of word being searched (so it can converted to lower case if necessary", "+    final int wordLen = _findWord.length();   // length of search key (word being searched fo  ", "-      docLen = doc.getLength();", "+", "-        findWord = findWord.toLowerCase();  // does not affect wordLen", "+        findWord = _findWord.toLowerCase();  // does not affect wordLen", "-      ", "+      else findWord = _findWord;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ce0e8d9eb9fa0bf9427dbefcb149b1f8", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/FindReplaceMachine.java", "commitBeforeChange": "ab3915db475da29d3ee24758ec211eb5cba4cacd", "commitAfterChange": "d9a76cb80177eb2d47da47ee2faf31cc610e0f62", "methodNumberBeforeChange": 35, "methodNumberAfterChange": 35, "signatureBeforeChange": "   private FindResult _findNextInDocSegment(final OpenDefinitionsDocument doc, final int start, final int origLen,                                             final boolean wrapped, final boolean allWrapped)", "signatureAfterChange": "   private FindResult _findNextInDocSegment(final OpenDefinitionsDocument doc, final int start, int len,                                             final boolean wrapped, final boolean allWrapped)", "diff": ["-  private FindResult _findNextInDocSegment(final OpenDefinitionsDocument doc, final int start, final int origLen, ", "+  private FindResult _findNextInDocSegment(final OpenDefinitionsDocument doc, final int start, int len, ", "-    assert start > -1;", "-    ", "+    final int wordLen = _findWord.length();   // length of search key (word being searched for)", "-    final int len = (origLen < 0) ? docLen - start : origLen;  // set len for end of doc if origLen < 0", "+    assert (start >= 0 && start <= docLen) && (len >= 0 && len <= docLen);", "+    ", "+    if (start + len > docLen) len = docLen - start;", "+    ", "+//    if (start + len > docLen) len = docLen - start;", "-    String text;    // The text segment to be searched", "-    final String findWord;       // copy of word being searched (so it can converted to lower case if necessary", "-    final int wordLen = _findWord.length();   // length of search key (word being searched fo  ", "+    String text;             // The text segment to be searched", "+    final String findWord;   // copy of word being searched (so it can converted to lower case if necessary"]}], "num": 27580}