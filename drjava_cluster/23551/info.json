{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e8f4705ff98677162041f971e3fcf9ee", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6b928bd9ab42261df63912fc4edbdbee", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ReducedModelComment.java", "commitBeforeChange": "ab1acd6921fa73274023da473a4888d5bdd6b5f2", "commitAfterChange": "a5a766c0abe1a94ea1cfa69aac7995654eda0886", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " \tpublic Vector<StateBlock> generateHighlights(int offset, int insertSize)", "signatureAfterChange": " \tpublic StyleUpdateMessage generateHighlights(int offset, int insertSize, \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t boolean simple)", "diff": ["-\tpublic Vector<StateBlock> generateHighlights(int offset, int insertSize)", "+\tpublic StyleUpdateMessage generateHighlights(int offset, int insertSize,", "+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t boolean simple)", "-\t\t\tint markOffset = -1;", "-\t\t\tint adjustment = 0;", "-\t\t\tint moveSize = 0;", "-\t\t\t", "-\t\t\tif (2 > offset){", "-\t\t\t\tmoveSize = insertSize + offset;", "-\t\t\t\tadjustment = 0;", "+\t\t\tStyleUpdateMessage message;", "+\t\t\tif (simple) {", "+\t\t\t\tif (insertSize == 0)", "+\t\t\t\t\t{", "+\t\t\t\t\t\tmessage = new NoUpdateMessage();", "+\t\t\t\t\t}", "+\t\t\t\telse {", "+\t\t\t\t\t_move(-insertSize, mark, _offset);", "+\t\t\t\t\tmessage = new SimpleUpdateMessage(offset, insertSize,", "+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmark.current().getHighlight());", "+\t\t\t\t}", "-\t\t\t\tmoveSize = 2 + insertSize;", "-\t\t\t\tadjustment = offset - 2;", "+\t\t\t\tint markOffset = -1;", "+\t\t\t\tint adjustment = 0;", "+\t\t\t\tint moveSize = 0;", "+\t\t\t\t", "+\t\t\t\tif (2 > offset){", "+\t\t\t\t\tmoveSize = insertSize + offset;", "+\t\t\t\t\tadjustment = 0;", "+\t\t\t\t}", "+\t\t\t\telse {", "+\t\t\t\t\tmoveSize = 2 + insertSize;", "+\t\t\t\t\tadjustment = offset - 2;", "+\t\t\t\t}", "+\t\t\t\t", "+\t\t\t\t//move back to before the insert.", "+\t\t\t\tmarkOffset = _move(-moveSize,mark,_offset);\t\t\t", "+\t\t\t\t", "+\t\t\t\tVector<StateBlock> states =", "+\t\t\t\t\tSBVectorFactory.generate(mark,markOffset,adjustment);", "+\t\t\t\tif (states.size() == 0)", "+\t\t\t\t\tmessage = new NoUpdateMessage();", "+\t\t\t\telse", "+\t\t\t\t\tmessage = new CompoundUpdateMessage(states);", "-", "-\t\t\t//move back to before the insert.", "-\t\t\tmarkOffset = _move(-moveSize,mark,_offset);\t\t\t", "-", "-\t\t\tVector<StateBlock> states =", "-\t\t\t\tSBVectorFactory.generate(mark,markOffset,adjustment);", "-\t\t\treturn states;", "+\t\t\treturn message;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fcbe62d00f48ac1734d0739da3fc33aa", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/reducedmodel/ReducedModelComment.java", "commitBeforeChange": "ab1acd6921fa73274023da473a4888d5bdd6b5f2", "commitAfterChange": "a5a766c0abe1a94ea1cfa69aac7995654eda0886", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": " \tpublic Vector<StateBlock> generateHighlights(int offset, int insertSize)", "signatureAfterChange": " \tpublic StyleUpdateMessage generateHighlights(int offset, int insertSize, \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t boolean simple)", "diff": ["-\tpublic Vector<StateBlock> generateHighlights(int offset, int insertSize)", "+\tpublic StyleUpdateMessage generateHighlights(int offset, int insertSize,", "+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t boolean simple)", "-\t\t\tint markOffset = -1;", "-\t\t\tint adjustment = 0;", "-\t\t\tint moveSize = 0;", "-\t\t\t", "-\t\t\tif (2 > offset){", "-\t\t\t\tmoveSize = insertSize + offset;", "-\t\t\t\tadjustment = 0;", "+\t\t\tStyleUpdateMessage message;", "+\t\t\tif (simple) {", "+\t\t\t\tif (insertSize == 0)", "+\t\t\t\t\t{", "+\t\t\t\t\t\tmessage = new NoUpdateMessage();", "+\t\t\t\t\t}", "+\t\t\t\telse {", "+\t\t\t\t\t_move(-insertSize, mark, _offset);", "+\t\t\t\t\tmessage = new SimpleUpdateMessage(offset, insertSize,", "+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmark.current().getHighlight());", "+\t\t\t\t}", "-\t\t\t\tmoveSize = 2 + insertSize;", "-\t\t\t\tadjustment = offset - 2;", "+\t\t\t\tint markOffset = -1;", "+\t\t\t\tint adjustment = 0;", "+\t\t\t\tint moveSize = 0;", "+\t\t\t\t", "+\t\t\t\tif (2 > offset){", "+\t\t\t\t\tmoveSize = insertSize + offset;", "+\t\t\t\t\tadjustment = 0;", "+\t\t\t\t}", "+\t\t\t\telse {", "+\t\t\t\t\tmoveSize = 2 + insertSize;", "+\t\t\t\t\tadjustment = offset - 2;", "+\t\t\t\t}", "+\t\t\t\t", "+\t\t\t\t//move back to before the insert.", "+\t\t\t\tmarkOffset = _move(-moveSize,mark,_offset);\t\t\t", "+\t\t\t\t", "+\t\t\t\tVector<StateBlock> states =", "+\t\t\t\t\tSBVectorFactory.generate(mark,markOffset,adjustment);", "+\t\t\t\tif (states.size() == 0)", "+\t\t\t\t\tmessage = new NoUpdateMessage();", "+\t\t\t\telse", "+\t\t\t\t\tmessage = new CompoundUpdateMessage(states);", "-", "-\t\t\t//move back to before the insert.", "-\t\t\tmarkOffset = _move(-moveSize,mark,_offset);\t\t\t", "-", "-\t\t\tVector<StateBlock> states =", "-\t\t\t\tSBVectorFactory.generate(mark,markOffset,adjustment);", "-\t\t\treturn states;", "+\t\t\treturn message;"]}], "num": 23551}