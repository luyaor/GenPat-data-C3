{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "19c285b56c822212187602628f87af59", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "38202df2eabbde0c13957ab0a3f80c4d", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractGlobalModel.java", "commitBeforeChange": "805c373a0ec3b1117a99ab61e1255aea61e2bd63", "commitAfterChange": "4117398987de5205499e8524a48aeb3a8a6b43ad", "methodNumberBeforeChange": 92, "methodNumberAfterChange": 92, "signatureBeforeChange": "     public File getWorkingDirectory()", "signatureAfterChange": "     public File getWorkingDirectory()", "diff": ["-        if (roots.length == 0) return getMasterWorkingDirectory();", "+        if (roots.length == 0) {", "+          // return getMasterWorkingDirectory();", "+          // use the last directory saved to the configuration", "+          File file;", "+          try {", "+            // restore the path from the configuration", "+            file = FileOps.getValidDirectory(DrJava.getConfig().getSetting(LAST_INTERACTIONS_DIRECTORY));", "+          }", "+          catch (RuntimeException e) {", "+            // something went wrong, clear the setting and use \"user.home\"", "+            DrJava.getConfig().setSetting(LAST_INTERACTIONS_DIRECTORY, FileOption.NULL_FILE);", "+            file = FileOps.getValidDirectory(DrJava.getConfig().getSetting(LAST_INTERACTIONS_DIRECTORY));", "+          }", "+          // update the setting and return it", "+          DrJava.getConfig().setSetting(LAST_INTERACTIONS_DIRECTORY, file);", "+          return file;", "+        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dd840be563c19c3aaeb3017eac78329e", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractGlobalModel.java", "commitBeforeChange": "4117398987de5205499e8524a48aeb3a8a6b43ad", "commitAfterChange": "e433bba86704c86b158b09f6c33458c252eb4b1b", "methodNumberBeforeChange": 92, "methodNumberAfterChange": 92, "signatureBeforeChange": "     public File getWorkingDirectory()", "signatureAfterChange": "     public File getWorkingDirectory()", "diff": ["-          File file;", "-          try {", "-            // restore the path from the configuration", "-            file = FileOps.getValidDirectory(DrJava.getConfig().getSetting(LAST_INTERACTIONS_DIRECTORY));", "+          File file = null;", "+          if (DrJava.getConfig().getSetting(STICKY_INTERACTIONS_DIRECTORY)) {", "+            try {", "+              // restore the path from the configuration", "+              file = FileOps.getValidDirectory(DrJava.getConfig().getSetting(LAST_INTERACTIONS_DIRECTORY));", "+            }", "+            catch (RuntimeException e) { file = null; }", "-          catch (RuntimeException e) {", "+          if (file==null) {"]}], "num": 26127}