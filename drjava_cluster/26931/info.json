{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e749fb4f7b21b361ecc61a26aee592a3", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3c94ee29f786163933a93105146267b7", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/config/KeyStrokeOption.java", "commitBeforeChange": "0cceb29d64fbac1b4be36f5a87cc236bf2407364", "commitAfterChange": "516755fb1bc3cdf62239f31eeb5aaa4ca6ac65ed", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "   public String format(KeyStroke k)", "signatureAfterChange": "   public String format(KeyStroke k)", "diff": ["-    if (CodeStatus.DEVELOPMENT) {", "-      if (k == NULL_KEYSTROKE)", "-        return \"<none>\";", "-      String s = KeyEvent.getKeyModifiersText(k.getModifiers()).toLowerCase();", "-      s = s.replace('+', ' ');", "-      if (!s.equals(\"\"))", "-        s += \" \";", "-      // If the key code is undefined, this is a \"typed\" unicode character", "-      if (k.getKeyCode() == KeyEvent.VK_UNDEFINED) {", "-        s += \"typed \";", "-        s += k.getKeyChar();", "-      }", "-      // else this corresponds to a static KeyEvent constant", "-      else {", "-        // defaults to pressed", "-        if (k.isOnKeyRelease())", "-          s += \"released \";", "-        String key = (String) keys.get(new Integer(k.getKeyCode()));", "-        if (key == null)", "-          throw new IllegalArgumentException(\"Invalid keystroke\");", "-        if (key.equals(\"CONTROL\") || key.equals(\"ALT\") || key.equals(\"META\") ||", "-            key.equals(\"SHIFT\") || key.equals(\"ALT_GRAPH\"))", "-          return s;", "-        s += key;", "-        return s;", "-      }", "-      return s; ", "+    if (k == NULL_KEYSTROKE)", "+      return \"<none>\";", "+    String s = KeyEvent.getKeyModifiersText(k.getModifiers()).toLowerCase();", "+    s = s.replace('+', ' ');", "+    if (!s.equals(\"\"))", "+      s += \" \";", "+    // If the key code is undefined, this is a \"typed\" unicode character", "+    if (k.getKeyCode() == KeyEvent.VK_UNDEFINED) {", "+      s += \"typed \";", "+      s += k.getKeyChar();", "-    else return \"\";", "+    // else this corresponds to a static KeyEvent constant", "+    else {", "+      // defaults to pressed", "+      if (k.isOnKeyRelease())", "+        s += \"released \";", "+      String key = (String) keys.get(new Integer(k.getKeyCode()));", "+      if (key == null)", "+        throw new IllegalArgumentException(\"Invalid keystroke\");", "+      if (key.equals(\"CONTROL\") || key.equals(\"ALT\") || key.equals(\"META\") ||", "+          key.equals(\"SHIFT\") || key.equals(\"ALT_GRAPH\"))", "+        return s;", "+      s += key;", "+      return s;", "+    }", "+    return s; "]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8afea7061a7b77dc51875b500fb142e6", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/KeyBindingManager.java", "commitBeforeChange": "0cceb29d64fbac1b4be36f5a87cc236bf2407364", "commitAfterChange": "516755fb1bc3cdf62239f31eeb5aaa4ca6ac65ed", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "   private boolean shouldUpdate(KeyStroke ks, Action a)", "signatureAfterChange": "   private boolean shouldUpdate(KeyStroke ks, Action a)", "diff": ["-    if (CodeStatus.DEVELOPMENT) {      ", "-      if (ks == KeyStrokeOption.NULL_KEYSTROKE) ", "-        // then there should be no keystroke for this action", "-        return true;", "+    if (ks == KeyStrokeOption.NULL_KEYSTROKE) {", "+      // then there should be no keystroke for this action", "+      return true;", "+    }", "-      if (!_keyToDataMap.containsKey(ks) ) { ", "-        // the key is not in the Hashtable, put it in", "-        //_keyToActionMap.put(ks, a);", "-        //need to update map", "-        //KeyStrokeData data = (KeyStrokeData)_actionToDataMap.get(a);", "-        //data.setKeyStroke(ks);", "-        //_keyToDataMap.put(ks,data);", "+    if (!_keyToDataMap.containsKey(ks) ) { ", "+      // the key is not in the Hashtable, put it in", "+      //_keyToActionMap.put(ks, a);", "+      //need to update map", "+      //KeyStrokeData data = (KeyStrokeData)_actionToDataMap.get(a);", "+      //data.setKeyStroke(ks);", "+      //_keyToDataMap.put(ks,data);", "+      ", "+      return true;", "+    } ", "+    else if (((KeyStrokeData)_keyToDataMap.get(ks)).getAction().equals(a)) { ", "+      // this KeyStroke/Action pair is already in the Hashtable", "+      return false;", "+    }", "+    else { // key-binding conflict", "+      if (_shouldCheckConflict) {", "+        KeyStrokeOption opt = new KeyStrokeOption(null,null);", "+        KeyStrokeData conflictKSD = (KeyStrokeData)_keyToDataMap.get(ks);", "+        String key = opt.format(ks);", "+        KeyStrokeData newKSD = (KeyStrokeData)_actionToDataMap.get(a);", "+        String text = \"\\\"\"+ key +\"\\\"\" + \" is already assigned to \\\"\" + conflictKSD.getName() + ", "+          \"\\\".\\nWould you like to assign \\\"\" + key + \"\\\" to \\\"\" + newKSD.getName() + \"\\\"?\";", "+        int rc = JOptionPane.showConfirmDialog(_mainFrame,", "+                                               text,", "+                                               \"DrJava\",", "+                                               JOptionPane.YES_NO_CANCEL_OPTION);", "-        return true;", "-      } ", "-      else if (((KeyStrokeData)_keyToDataMap.get(ks)).getAction().equals(a)) { ", "-        // this KeyStroke/Action pair is already in the Hashtable", "-        return false;", "-      }", "-      else { // key-binding conflict", "-        if (_shouldCheckConflict) {", "-          KeyStrokeOption opt = new KeyStrokeOption(null,null);", "-          KeyStrokeData conflictKSD = (KeyStrokeData)_keyToDataMap.get(ks);", "-          String key = opt.format(ks);", "-          KeyStrokeData newKSD = (KeyStrokeData)_actionToDataMap.get(a);", "-          String text = \"\\\"\"+ key +\"\\\"\" + \" is already assigned to \\\"\" + conflictKSD.getName() + ", "-            \"\\\".\\nWould you like to assign \\\"\" + key + \"\\\" to \\\"\" + newKSD.getName() + \"\\\"?\";", "-          int rc = JOptionPane.showConfirmDialog(_mainFrame,", "-                                                 text,", "-                                                 \"DrJava\",", "-                                                 JOptionPane.YES_NO_CANCEL_OPTION);", "-          ", "-          switch (rc) {", "-            case JOptionPane.YES_OPTION:", "-              return true;", "-            case JOptionPane.NO_OPTION:", "-              return false;", "-            case JOptionPane.CLOSED_OPTION:", "-              return false;", "-            case JOptionPane.CANCEL_OPTION:", "-              return false;", "-            default:", "-              throw new RuntimeException(\"Invalid rc: \" + rc);", "-          }", "+        switch (rc) {", "+          case JOptionPane.YES_OPTION:", "+            return true;", "+          case JOptionPane.NO_OPTION:", "+            return false;", "+          case JOptionPane.CLOSED_OPTION:", "+            return false;", "+          case JOptionPane.CANCEL_OPTION:", "+            return false;", "+          default:", "+            throw new RuntimeException(\"Invalid rc: \" + rc);", "-        else", "-          return true;", "+      }", "+      else {", "+        return true;", "-    else", "-      return false;"]}], "num": 26931}