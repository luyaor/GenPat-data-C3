{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "c5485a7894804c0b18bedcc98ce40487", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "136508eb198362f59177e4f6afbb9204", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/debug/JPDADebugger.java", "commitBeforeChange": "fb8ddcbfd71bd75d2b307b4e83f7a834ec364082", "commitAfterChange": "be84679bc73e85f88d6958fbfdf8b35be73855ab", "methodNumberBeforeChange": 71, "methodNumberAfterChange": 72, "signatureBeforeChange": "   private void _copyBack(ThreadReference threadRef)     throws InvalidTypeException, ClassNotLoadedException,      IncompatibleThreadStateException, AbsentInformationException,      InvocationException, DebugException", "signatureAfterChange": "   private void _copyBack(ThreadReference threadRef)     throws InvalidTypeException, ClassNotLoadedException,      IncompatibleThreadStateException, AbsentInformationException,      InvocationException, DebugException", "diff": ["+      if( printMessages ) System.out.println(\"Iterating through vars\");        ", "-      if( printMessages ) DrJava.consoleOut().println(\"Copying \" + localVar.name());", "-      List args = new LinkedList();", "-      args.add(_vm.mirrorOf(localVar.name()));", "-      if( printMessages ) DrJava.consoleOut().println(\"Getting getVariableMethod()\");", "-      if( printMessages ) DrJava.consoleOut().println(\"Invoking \" + method2Call.name());", "-      Value v = interpreter.invokeMethod(threadRef, method2Call, args, ", "-                                         ObjectReference.INVOKE_SINGLE_THREADED);", "-      if (v != null) {", "-        v = _convertToActualType(threadRef, localVar, v);", "+      ", "+      // invokeMethod would throw an ObjectCollectedException if the StringReference ", "+      // declared by _vm.mirrorOf(name) had been garbage collected before ", "+      // invokeMethod could execute. This happened infrequently so by trying this", "+      // multiple times, the chance of failure each time should be acceptably low.", "+      ", "+      int tries = 0;", "+      while (tries < MAXINVOKETRIES) {    ", "+        List args = new LinkedList();          ", "+        args.add(_vm.mirrorOf(localVar.name()));", "+        try {", "+          Value v = interpreter.invokeMethod(threadRef, method2Call, args, ", "+                                             ObjectReference.INVOKE_SINGLE_THREADED);", "+          if (v != null) {", "+            v = _convertToActualType(threadRef, localVar, v);", "+          }", "+          frame = threadRef.frame(0);           ", "+          frame.setValue(localVar, v);", "+          break;", "+        }", "+        catch (ObjectCollectedException oce) {", "+          if (printMessages) System.out.println(\"Got ObjectCollectedException\");", "+          tries++;", "+        }        ", "+        catch (ClassNotLoadedException cnle) {", "+          printMessage(\"Could not update the value of '\" + localVar.name() + \"' (class not loaded)\");", "+          break;", "+        }", "-      frame = threadRef.frame(0);", "-      frame.setValue(localVar, v);", "+      if (tries >= MAXINVOKETRIES)", "+        throw new DebugException(\"The value of the variable: \" + localVar.name() + \" could not be obtained from interpreterJVM\");", "+      "]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7ef785af52e2d73a42b6959b3af0dbe6", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/debug/JPDADebugger.java", "commitBeforeChange": "81f7bc68ef7285bacd5689ea0a54ea5647d9a1d8", "commitAfterChange": "12384109e03448701c98d404f37be617f6e32fee", "methodNumberBeforeChange": 82, "methodNumberAfterChange": 82, "signatureBeforeChange": "   private void _copyBack(ThreadReference threadRef)     throws InvalidTypeException, ClassNotLoadedException,     IncompatibleThreadStateException, AbsentInformationException,     InvocationException, DebugException", "signatureAfterChange": "   private void _copyBack(ThreadReference threadRef)     throws InvalidTypeException, ClassNotLoadedException,     IncompatibleThreadStateException, AbsentInformationException,     InvocationException, DebugException", "diff": ["-      // invokeMethod would throw an ObjectCollectedException if the StringReference", "-      // declared by _vm.mirrorOf(name) had been garbage collected before", "-      // invokeMethod could execute. This happened infrequently so by trying this", "-      // multiple times, the chance of failure each time should be acceptably low.", "-      ", "-      int tries = 0;", "-      while (tries < MAXINVOKETRIES) {", "-        try {", "-          Value v = _getValueOfLocalVariable(localVar, threadRef);", "-          frame = threadRef.frame(0);", "-          frame.setValue(localVar, v);", "-          break;", "-        }", "-        catch (ObjectCollectedException oce) {", "-          if (printMessages) System.out.println(\"Got ObjectCollectedException\");", "-          tries++;", "-        }", "-        catch (ClassNotLoadedException cnle) {", "-          printMessage(\"Could not update the value of '\" + localVar.name() + \"' (class not loaded)\");", "-          break;", "-        }", "-        catch (InvalidTypeException ite) {", "-          printMessage(\"Could not update the value of '\" + localVar.name() + \"' (invalid type exception)\");", "-          break;", "-        }", "+      try {", "+        Value v = _getValueOfLocalVariable(localVar, threadRef);", "+        frame = threadRef.frame(0);", "+        frame.setValue(localVar, v);", "-      if (tries >= MAXINVOKETRIES) {", "-        throw new DebugException(\"The value of the variable: \" + localVar.name() + \" could not be obtained from interpreterJVM\");", "+      catch (ClassNotLoadedException cnle) {", "+        printMessage(\"Could not update the value of '\" + localVar.name() + \"' (class not loaded)\");", "+      }", "+      catch (InvalidTypeException ite) {", "+        printMessage(\"Could not update the value of '\" + localVar.name() + \"' (invalid type exception)\");"]}], "num": 30506}