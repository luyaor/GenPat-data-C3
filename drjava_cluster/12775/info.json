{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "53d443b6dc2cd34f2bf56b37973462f8", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7feefb261c82f97b61e2a66f105ba66d", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/debug/Breakpoint.java", "commitBeforeChange": "f1f97edd57f558d6d34abcd1fe039afc22f7a202", "commitAfterChange": "fc098bf0e8c385557d32ed3c183745582612add6", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "     private void _createBreakpointRequest(VirtualMachine vm) throws DebugException", "signatureAfterChange": "   protected void _createRequest(ReferenceType rt) throws DebugException", "diff": ["-  private void _createBreakpointRequest(VirtualMachine vm) throws DebugException {", "-    String packageName = \"\";", "-    try {", "-      packageName = _doc.getDocument().getPackageName();", "-    }", "-    catch (InvalidPackageException e) {", "-      // Couldn't find package, pretend there's none", "-    }", "-    _className = packageName + _doc.getClassName();", "-    _ref = _getReferenceType(_className, vm);", "-  }", "+   */", "+  protected void _createRequest(ReferenceType rt) throws DebugException {", "+    DrJava.consoleOut().println(\"Breakpoint._createRequest starting...\");", "+    /*", "+    DrJava.consoleOut().println(\"rt.isVerified: \" + rt.isVerified() +", "+                                \" rt.isInitialized: \" + rt.isInitialized() +", "+                                \" rt.isPrepared: \" + rt.isPrepared());", "+                                */", "+    // Get locations for the line number, use the first", "+    try {", "+      List lines = rt.locationsOfLine(_lineNumber);", "+      if (lines.size() == 0) {", "+        // Can't find a location on this line", "+        //System.out.println(\"No locations found.\");", "+        throw new DebugException(\"Could not find line number: \" + _lineNumber);", "+      }", "+      Location loc = (Location) lines.get(0);", "+      _request = _manager.getEventRequestManager().createBreakpointRequest(loc);", "+      DrJava.consoleOut().println(\"Created a breakpoint request: \" + _request);", "+      //DrJava.consoleOut().println(\"new Breakpoint: \" + toString());", "+      //_breakpointReq.setSuspendPolicy(EventRequest.SUSPEND_EVENT_THREAD);", "+      //_breakpointReq.enable();", "+      //System.out.println(\"Breakpoint: \" + req);", "+      _manager.addBreakpointToMap(this);", "+    catch (AbsentInformationException aie) {", "+      throw new DebugException(\"Could not find line number: \" + aie);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a9b407110e6767f12dc2b8c49b8b7605", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/debug/Breakpoint.java", "commitBeforeChange": "530cb3b64455d081e962324602750973729aa1fb", "commitAfterChange": "edb6c56f8ad5495255b4157f1e495f302271cd2d", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "   protected void _createRequest(ReferenceType rt) throws DebugException", "signatureAfterChange": "   protected void _createRequests(Vector<ReferenceType> refTypes)     throws DebugException", "diff": ["-  protected void _createRequest(ReferenceType rt) throws DebugException {", "-    // Get locations for the line number, use the first", "+  protected void _createRequests(Vector<ReferenceType> refTypes)", "+    throws DebugException", "+  {", "-      List lines = rt.locationsOfLine(_lineNumber);", "-      if (lines.size() == 0) {", "-        // Can't find a location on this line", "-        throw new DebugException(\"Could not find line number: \" + _lineNumber);", "+      for (int i=0; i < refTypes.size(); i++) {", "+        ReferenceType rt = refTypes.elementAt(i);", "+        ", "+        if (!rt.isPrepared()) {", "+          // Not prepared, so skip this one", "+          continue;", "+        }", "+        ", "+        // Get locations for the line number, use the first", "+        List lines = rt.locationsOfLine(_lineNumber);", "+        if (lines.size() == 0) {", "+          // Can't find a location on this line", "+          throw new DebugException(\"Could not find line number: \" + _lineNumber);", "+        }", "+        Location loc = (Location) lines.get(0);", "+        BreakpointRequest request =", "+          _manager.getEventRequestManager().createBreakpointRequest(loc);", "+        _requests.addElement(request);", "-      Location loc = (Location) lines.get(0);", "-      _request = _manager.getEventRequestManager().createBreakpointRequest(loc);"]}], "num": 12775}