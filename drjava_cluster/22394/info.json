{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "24d585759439da63c4c9e3834ca00c4b", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0af2c6cf4e66dccca0806dccd6396a6e", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "5a26bed1df752ba1358015c1f052f13e80e98cf2", "commitAfterChange": "b2adcf09a03ba6f772e2f3c91188d15851dd508c", "methodNumberBeforeChange": 102, "methodNumberAfterChange": 104, "signatureBeforeChange": "     void _showFileMovedError(FileMovedException fme)", "signatureAfterChange": "     void _showFileMovedError(FileMovedException fme)", "diff": ["-    String text = \"File \" + fme.getFile().getAbsolutePath() +", "-      \"\\ncould not be found on disk!  It was probably moved\\n\" +", "-      \"or deleted.  Would you like to save it in a new file?\";", "-    int rc = JOptionPane.showConfirmDialog(MainFrame.this,", "-                                           text,", "-                                           \"File Moved or Deleted\",", "-                                           JOptionPane.YES_NO_OPTION);", "-    ", "-    switch (rc) {", "-      case JOptionPane.YES_OPTION:", "-        _saveAs();", "-      case JOptionPane.NO_OPTION:", "-      case JOptionPane.CLOSED_OPTION:", "-      case JOptionPane.CANCEL_OPTION:", "-        return;", "-      default:", "-        throw new RuntimeException(\"Invalid rc: \" + rc);", "+    try {", "+      File f = fme.getFile();", "+      OpenDefinitionsDocument doc = _model.getDocumentForFile(f);", "+      if (doc != null) {", "+        if (_saveSelector.shouldSaveAfterFileMoved(doc, f)) {", "+          _saveAs();", "+        }", "+      }", "+    }", "+    catch (IOException ioe) {", "+      // Couldn't find the document, so ignore the FME"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8203b1e633cafde32a3bffe4f0ce2ab4", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/DefinitionsPane.java", "commitBeforeChange": "a4a2af26b6c17a91ead92bae0871adcd6e96d716", "commitAfterChange": "d68c02cecc4cc58e597f55ca1d69f68604b75377", "methodNumberBeforeChange": 61, "methodNumberAfterChange": 60, "signatureBeforeChange": "   public void indent(final int reason)", "signatureAfterChange": "   protected void indentLines(int selStart, int selEnd, int reason, ProgressMonitor pm)", "diff": ["-   */", "-  public void indent(final int reason) {", "-", "-    /**", "-     * Because indent() is a function called directly by the Keymap,", "-     * it does not go through the regular insertString channels and thus", "-     * it may not be in sync with the document's position.  For that", "-     * reason, we must sync the document with the pane before we go", "-     * ahead and indent.", "-     * old: _doc().setCurrentLocation(getCaretPosition());", "-     * new:", "-     */", "-    _doc.setCurrentLocation(getCaretPosition());", "-", "-    final int selStart = getSelectionStart();", "-    final int selEnd = getSelectionEnd();", "-", "-    //    final SwingWorker worker = new SwingWorker() {", "-    //      public Object construct() {", "-", "-    //        // Use a progress monitor to show a progress dialog only if necessary.", "-    ProgressMonitor pm = null;", "-    //= new ProgressMonitor(_mainFrame, \"Indenting...\",", "-    //                    null, 0, selEnd - selStart);", "-", "-    //pm.setProgress(0);", "-    // 3 seconds before displaying the progress bar.", "-    //pm.setMillisToDecideToPopup(3000);", "-", "-    // XXX: Temporary hack because of slow indent...", "-    //  Prompt if more than 10000 characters to be indented", "-    boolean doIndent = true;", "-          doIndent = false;", "-          break;", "-          doIndent = true;", "-          break;", "-", "-    // Do the indent", "-    if (doIndent) {", "-      _mainFrame.hourglassOn();", "+   */", "+  protected void indentLines(int selStart, int selEnd, int reason, ProgressMonitor pm) {", "+    _mainFrame.hourglassOn();", "-    }"]}], "num": 22394}