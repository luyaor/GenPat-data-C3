{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "eccef3eb8d71c6fb4cd095f8e09319d1", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "314e2b4bf80f966ab3c03da6ced6a06c", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "fb852ee67c669f40a587804216508a1dfbe1be4b", "commitAfterChange": "f938008597ce54d16e4a865d30f8ef062ea55d2f", "methodNumberBeforeChange": 471, "methodNumberAfterChange": 489, "signatureBeforeChange": "   private JMenu _setUpToolsMenu(int mask)", "signatureAfterChange": "   private JMenu _setUpToolsMenu(int mask)", "diff": ["-    final int typesCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_TYPES).size();", "-    final int jvmargsCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_JVMARGS).size();", "+    final int drJavaJarFileCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_DRJAVAJAR_FILES).size();", "-        (savedCount!=typesCount) ||", "-        (savedCount!=jvmargsCount) ||", "-        (savedCount!=workdirsCount)) {", "+        (savedCount!=workdirsCount) ||", "+        (savedCount!=drJavaJarFileCount)) {", "-      DrJava.getConfig().setSetting(OptionConstants.EXTERNAL_SAVED_TYPES, new Vector<String>());", "-      DrJava.getConfig().setSetting(OptionConstants.EXTERNAL_SAVED_JVMARGS, new Vector<String>());", "+      DrJava.getConfig().setSetting(OptionConstants.EXTERNAL_SAVED_DRJAVAJAR_FILES, new Vector<String>());", "-              final Vector<String> types = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_TYPES);", "-              final Vector<String> jvmargs = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_JVMARGS);", "+              final Vector<String> drjavajarfiles = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_DRJAVAJAR_FILES);", "-                  if (types.get(i).equals(\"cmdline\")) {", "+                  try {", "+                    PropertyMaps pm = PropertyMaps.TEMPLATE.clone();", "+                    String s = drjavajarfiles.get(i).trim();", "+                    edu.rice.cs.util.GeneralProcessCreator.LOG.log(\"actionPerformed(): drjavajarfiles.get(i) = \"+s);", "+                    ((MutableFileProperty)pm.getProperty(\"drjavajar.file\")).setFile(s.length()>0?new File(s):null);", "+                    edu.rice.cs.util.GeneralProcessCreator.LOG.log(\"actionPerformed(): ${drjavajar.file} = \"+((MutableFileProperty)pm.getProperty(\"drjavajar.file\")).getCurrent(pm));", "-                    _executeExternalDialog.runCommand(names.get(i),cmdlines.get(i),workdirs.get(i));", "+                    _executeExternalDialog.runCommand(names.get(i),cmdlines.get(i),workdirs.get(i),drjavajarfiles.get(i),pm);", "-                  else if (types.get(i).equals(\"java\")) {", "-                    // System.out.println(names.get(i)+\": java \"+jvmargs.get(i)+\" \"+cmdlines.get(i)+\" \"+workdirs.get(i));", "-                    _executeExternalDialog.runJava(names.get(i),jvmargs.get(i),cmdlines.get(i),workdirs.get(i));", "-                  }", "-                  else {", "-                    JOptionPane.showMessageDialog(MainFrame.this,", "-                                                  \"Unknown process type '\"+types.get(i)+\"'.\",", "-                                                  \"Invalid Command Line\",", "-                                                  JOptionPane.ERROR_MESSAGE);", "-                  }", "+                  catch(CloneNotSupportedException e) { throw new edu.rice.cs.util.UnexpectedException(e); }", "-            _editExternalProcessesAction.setEnabled(oce.value>0);", "+            _editExternalProcessesAction.setEnabled(true); // always keep enabled, because it allows import"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b1a25625dc32218f6e59cd5f8d60b3df", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "51e8f4cbce06d140e9a09dd38237b848b4f27d8a", "commitAfterChange": "d350dd729092f66f8ad737ae377c54d2ad394fbf", "methodNumberBeforeChange": 489, "methodNumberAfterChange": 496, "signatureBeforeChange": "   private JMenu _setUpToolsMenu(int mask)", "signatureAfterChange": "   private JMenu _setUpToolsMenu(int mask)", "diff": ["-    toolsMenu.setMnemonic(KeyEvent.VK_T);", "+    PlatformFactory.ONLY.setMnemonic(toolsMenu,KeyEvent.VK_T);", "-    final int drJavaJarFileCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_DRJAVAJAR_FILES).size();", "+    final int enclosingFileCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_ENCLOSING_DJAPP_FILES).size();", "-        (savedCount!=drJavaJarFileCount)) {", "+        (savedCount!=enclosingFileCount)) {", "-      DrJava.getConfig().setSetting(OptionConstants.EXTERNAL_SAVED_DRJAVAJAR_FILES, new Vector<String>());", "+      DrJava.getConfig().setSetting(OptionConstants.EXTERNAL_SAVED_ENCLOSING_DJAPP_FILES, new Vector<String>());", "-              final Vector<String> drjavajarfiles = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_DRJAVAJAR_FILES);", "+              final Vector<String> enclosingfiles = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_ENCLOSING_DJAPP_FILES);", "-                    String s = drjavajarfiles.get(i).trim();", "-                    edu.rice.cs.util.GeneralProcessCreator.LOG.log(\"actionPerformed(): drjavajarfiles.get(i) = \"+s);", "-                    ((MutableFileProperty)pm.getProperty(\"drjavajar.file\")).setFile(s.length()>0?new File(s):null);", "-                    edu.rice.cs.util.GeneralProcessCreator.LOG.log(\"actionPerformed(): ${drjavajar.file} = \"+((MutableFileProperty)pm.getProperty(\"drjavajar.file\")).getCurrent(pm));", "+                    String s = enclosingfiles.get(i).trim();", "+                    edu.rice.cs.util.GeneralProcessCreator.LOG.log(\"actionPerformed(): enclosingfiles.get(i) = \"+s);", "+                    ((MutableFileProperty)pm.getProperty(\"enclosing.djapp.file\")).setFile(s.length()>0?new File(s):null);", "+                    edu.rice.cs.util.GeneralProcessCreator.LOG.log(\"actionPerformed(): ${enclosing.djapp.file} = \"+((MutableFileProperty)pm.getProperty(\"enclosing.djapp.file\")).getCurrent(pm));", "-                    _executeExternalDialog.runCommand(names.get(i),cmdlines.get(i),workdirs.get(i),drjavajarfiles.get(i),pm);", "+                    _executeExternalDialog.runCommand(names.get(i),cmdlines.get(i),workdirs.get(i),enclosingfiles.get(i),pm);"]}], "num": 13949}