{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f0088adbe476b3d0fc9bced1059ca3fa", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "10fc5cb7d3c44c232a243136d6b6f51d", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/text/ConsoleDocument.java", "commitBeforeChange": "29a551202c3bf7e5f026aad6d43ca029448c562d", "commitAfterChange": "eb5a40b971e537c8a9ca6a30686e2583abec6b86", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "   public void insertPrompt()", "signatureAfterChange": "   public void insertPrompt()", "diff": ["-      forceInsertText(_document.getLength(), _prompt, DEFAULT_STYLE);", "-      _promptPos = _document.getLength();", "+      int len = _document.getLength();", "+      // Update _promptPos before updating _document because insertText runs insertUpdate to adjust caret", "+      _promptPos = len + _prompt.length();", "+      forceInsertText(len, _prompt, DEFAULT_STYLE);", "+"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "77703e8f21ca7b39f55efe5a1556db22", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "4fb080a38871d6561e99bfdfdb664ff987fb15c5", "commitAfterChange": "d8298bba22e8675e12094f851d61d88ab6c6f68a", "methodNumberBeforeChange": 435, "methodNumberAfterChange": 435, "signatureBeforeChange": "   void debuggerToggleBreakpoint()", "signatureAfterChange": "   void debuggerToggleBreakpoint()", "diff": ["-      debugger.toggleBreakpoint(doc, _currentDefPane.getCaretPosition(), _currentDefPane.getCurrentLine(), true);", "+      final int line = _currentDefPane.getCurrentLine();", "+      debugger.toggleBreakpoint(doc, doc.getOffsetOfLine(line-1), line, true);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d122b9662a859e9235b81b0b5245ae3d", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "a8db062e8dfd667df6324c059f7a6725afc99a1b", "commitAfterChange": "35da9b77b7d75aca3d6277e27e3ba3dc86f3eaa9", "methodNumberBeforeChange": 39, "methodNumberAfterChange": 39, "signatureBeforeChange": "   public void gotoLine(int line)", "signatureAfterChange": "   public void gotoLine(int line)", "diff": ["-   */", "+  /** Goes to a particular line in the document. */", "-    synchronized (_reduced) {", "-      setCurrentLocation(0);", "-      for (int i = 1; (i < line) && (_currentLocation < getLength()); i++) {", "-        dist = _reduced.getDistToNextNewline();", "-        if (_currentLocation + dist < getLength()) {", "-          dist++;", "+    readLock();", "+    int len = getLength();", "+    try {", "+      synchronized (_reduced) {", "+        setCurrentLocation(0);", "+        for (int i = 1; (i < line) && (_currentLocation < len); i++) {", "+          dist = _reduced.getDistToNextNewline();", "+          if (_currentLocation + dist < len) dist++;", "+          actualLine++;", "+          move(dist);", "-        actualLine++;", "-        move(dist);", "+        _cachedLineNum = actualLine;", "+        _cachedLocation = _currentLocation;", "+        _cachedPrevLineLoc = getLineStartPos(_currentLocation);", "+        _cachedNextLineLoc = getLineEndPos(_currentLocation);", "-      _cachedLineNum = actualLine;", "-      _cachedLocation = _currentLocation;", "-      _cachedPrevLineLoc = getLineStartPos(_currentLocation);", "-      _cachedNextLineLoc = getLineEndPos(_currentLocation);", "+    finally { readUnlock(); }"]}], "num": 19892}