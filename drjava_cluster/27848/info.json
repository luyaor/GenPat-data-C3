{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "c40b5dfc5dc0033ab124c8e93fe990d1", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "690e43abfe093f414f8e63011d665ade", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "cd56f7a2a82093e6e34728c0b5dc6babe9356e0a", "commitAfterChange": "6f37af6087e88b55d504fabdb6eee22be7ba1948", "methodNumberBeforeChange": 150, "methodNumberAfterChange": 151, "signatureBeforeChange": "   public MainFrame()", "signatureAfterChange": "   public MainFrame()", "diff": ["-    File workDir = config.getSetting(WORKING_DIRECTORY);", "-    if (workDir == FileOption.NULL_FILE) {", "-      workDir = config.getSetting(LAST_DIRECTORY);", "-      if (workDir == FileOption.NULL_FILE || !workDir.exists()) {", "-        workDir = new File(System.getProperty(\"user.dir\"));", "-      }", "-    }", "-    if (workDir.isFile() && workDir.getParent() != null) workDir = workDir.getParentFile();", "+    File workDir = _model.getMasterWorkingDirectory();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "81bd4ee0195baa93df277e0a3c0fe2ca", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/config/ConfigFrame.java", "commitBeforeChange": "b555b0cfcc7bbb9f082899ce815305f8a985343e", "commitAfterChange": "aafaf7b848d738e58eee48a6cbc4b800c8027685", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 6, "signatureBeforeChange": "   private File _getWorkDir()", "signatureAfterChange": "   private File _getWorkDir()", "diff": ["-    File workDir = DrJava.getConfig().getSetting(OptionConstants.WORKING_DIRECTORY);", "-    if (workDir == FileOption.NULL_FILE) {", "-      workDir = new File(System.getProperty(\"user.dir\"));", "-    }", "-    if (workDir.isFile() && workDir.getParent() != null) {", "-      workDir = workDir.getParentFile();", "-    }", "+    File workDir = _mainFrame.getModel().getMasterWorkingDirectory();  // cannot be null", "+    if (workDir.isDirectory()) return workDir;", "+    ", "+    if (workDir.getParent() != null) workDir = workDir.getParentFile();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cc052758d988dffffa4df5dbf837134f", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/config/ConfigFrame.java", "commitBeforeChange": "034592db30d33c0ac1a392bea16579d041875914", "commitAfterChange": "35d9365226ba0771f8b6c75f7ce46695407e7805", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "   public ConfigFrame(MainFrame frame)", "signatureAfterChange": "   public ConfigFrame(MainFrame frame)", "diff": ["-    File workDir = DrJava.getConfig().getSetting(OptionConstants.WORKING_DIRECTORY);", "-    if (workDir == FileOption.NULL_FILE) {", "-      workDir = new File(System.getProperty(\"user.dir\"));", "-    }", "-    if (workDir.isFile() && workDir.getParent() != null) {", "-      workDir = workDir.getParentFile();", "-    }", "+    File workDir = _getWorkDir();", "-", "+    ", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fe3702bdf7b4445a74dede9b65f2a2bc", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/ProjectPropertiesFrame.java", "commitBeforeChange": "66cf5c18c85c49dd4268e6eb5e205df7e4243a71", "commitAfterChange": "f6fc0c2918885b86d7588893e1a025f2fac926cd", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 9, "signatureBeforeChange": "   private File _getWorkDir()", "signatureAfterChange": "   private File _getWorkDir()", "diff": ["-   */", "+  /** Returns the current working directory in the project profile (FileOption.NULL_FILE if none is set) */", "-    File workDir = DrJava.getConfig().getSetting(OptionConstants.WORKING_DIRECTORY);", "-    if (workDir == FileOption.NULL_FILE) {", "-      workDir = new File(System.getProperty(\"user.dir\"));", "-    }", "-    if (workDir.isFile() && workDir.getParent() != null) {", "-      workDir = workDir.getParentFile();", "-    }", "-    return workDir;", "+    File workDir = _mainFrame.getModel().getRawWorkingDirectory();", "+    if (workDir != null) return workDir;", "+    return FileOption.NULL_FILE;"]}], "num": 27848}