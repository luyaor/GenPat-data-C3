{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ac58f3ddec6ad91db36fd0c2f619f0ae", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "85468d88d5498c323da2c6583869a342", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "c3686d18afe86d8459a6ef71e5f779589d915dd8", "commitAfterChange": "1e5237b2401d25a04c08b7b54162568a6d55c836", "methodNumberBeforeChange": 65, "methodNumberAfterChange": 66, "signatureBeforeChange": "   public void indentLines(int selStart, int selEnd, int reason)", "signatureAfterChange": "   public void indentLines(int selStart, int selEnd,                            int reason, ProgressMonitor pm)       throws OperationCanceledException", "diff": ["-  public void indentLines(int selStart, int selEnd, int reason) {", "+   */", "+  public void indentLines(int selStart, int selEnd, ", "+                          int reason, ProgressMonitor pm)", "+      throws OperationCanceledException {", "-        _indentLine(reason);", "-        //int caretPos = getCaretPosition();", "-        //_doc().setCurrentLocation(caretPos);", "-        setCurrentLocation(oldCurrentPosition.getOffset());", "-        int space = getWhiteSpace();", "-        move(space);", "-        //setCaretPosition(caretPos + space);", "+        // Indent, updating current location if necessary.", "+        if (_indentLine(reason)) {", "+          //int caretPos = getCaretPosition();", "+          //_doc().setCurrentLocation(caretPos);", "+          setCurrentLocation(oldCurrentPosition.getOffset());", "+          int space = getWhiteSpace();", "+          move(space);", "+          //setCaretPosition(caretPos + space);", "+        }", "-        _indentBlock(selStart, selEnd, reason);", "+        _indentBlock(selStart, selEnd, reason, pm);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f8e88992625914164a475ee4fd646de6", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "a8db062e8dfd667df6324c059f7a6725afc99a1b", "commitAfterChange": "35da9b77b7d75aca3d6277e27e3ba3dc86f3eaa9", "methodNumberBeforeChange": 33, "methodNumberAfterChange": 33, "signatureBeforeChange": "   public void commentLines(int selStart, int selEnd)", "signatureAfterChange": "   public void commentLines(int selStart, int selEnd)", "diff": ["-    try {", "-        Position oldCurrentPosition = createPosition(_currentLocation);", "-        _commentLine();", "-        //int caretPos = getCaretPosition();", "-        //_doc().setCurrentLocation(caretPos);", "-        setCurrentLocation(oldCurrentPosition.getOffset());", "+        writeLock();", "+        try {", "+          ", "+          synchronized (_reduced) {", "+            Position oldCurrentPosition = createPosition(_currentLocation);", "+            _commentLine();", "+            //int caretPos = getCaretPosition();", "+            //_doc().setCurrentLocation(caretPos);", "+          }", "+        }", "+        catch (BadLocationException e) { throw new UnexpectedException(e); }", "+        finally { writeUnlock(); }", "-      else {", "-        _commentBlock(selStart, selEnd);", "-      }", "+      else _commentBlock(selStart, selEnd);", "+        ", "-    }", "-    catch (BadLocationException e) { throw new UnexpectedException(e); }"]}], "num": 3172}