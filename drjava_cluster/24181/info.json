{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9bb9a901a32e485e7d01470236cdbdd6", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "484c699f0eaa8b6e7e32cf4414b9c8af", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/swing/FindReplaceMachine.java", "commitBeforeChange": "ec1234c8205fc39cf1fac2ca94b073f8a0c191b4", "commitAfterChange": "dc012dd7d972609a38d1836c72ebe86b07df0e53", "methodNumberBeforeChange": 35, "methodNumberAfterChange": 35, "signatureBeforeChange": "   private boolean _insideString(String docText)", "signatureAfterChange": "   private boolean _insideString(String docText)", "diff": ["-   * is within a comment on the same line as the string*/", "-  private boolean _insideString(String docText) {", "-//    Utilities.showDebug(\"DEBUG: _insideString called\");  ", "+   */", "+  private boolean _insideString(String docText) {    ", "-", "-//    Utilities.showDebug(\"DEBUG: value of previousNewLineOffset = \" +  previousNewLineOffset);    ", "-    ", "-      if (!_insideBlockComment(tempText) && !_insideChar(tempText))", "+      //     - a quotation mark inside a string should not count as opening or closing a string", "+      if (!_insideBlockComment(tempText) && !_insideChar(tempText) && (tempText.lastIndexOf(\"\\\\\") != tempText.length()-1))"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b06fdfb419b5a9a9427e2f67b198492c", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/GlobalModelCompileSuccessOptionsTest.java", "commitBeforeChange": "4009de7b28d2df87c05fce5746e7b354468d763f", "commitAfterChange": "ef6fbf4282520a8a1b7a89050b6be023e72a81a6", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "   public void testCompileWithJavaAssert()     throws BadLocationException, IOException, InterruptedException", "signatureAfterChange": "   public void testCompileWithJavaAssert()     throws BadLocationException, IOException, InterruptedException", "diff": ["-    OpenDefinitionsDocument doc = setupDocument(FOO_WITH_ASSERT);", "-    final File file = tempFile();", "-    doc.saveFile(new FileSelector(file));", "-    CompileShouldFailListener listener = new CompileShouldFailListener();", "-    _model.addListener(listener);", "-    ", "-    // This is a CompileShouldFailListener, so we don't need to wait.", "-    doc.startCompile();", "-", "-    assertCompileErrorsPresent(_name(), true);", "-    listener.checkCompileOccurred();", "-    File compiled = classForJava(file, \"DrJavaTestFoo\");", "-    assertTrue(_name() + \"Class file exists after compile?!\", !compiled.exists());", "-    _model.removeListener(listener);", "-    ", "-    ", "-    // Only run assertions test in 1.4", "-    String version = System.getProperty(\"java.version\");", "-    if ((version != null) && (\"1.4.0\".compareTo(version) <= 0)) {", "-      // Turn on assert support", "-      DrJava.getConfig().setSetting(OptionConstants.JAVAC_ALLOW_ASSERT,", "-                                    Boolean.TRUE);", "+    if(Float.valueOf(System.getProperty(\"java.specification.version\")) < 1.5) {", "+      OpenDefinitionsDocument doc = setupDocument(FOO_WITH_ASSERT);", "+      final File file = tempFile();", "+      doc.saveFile(new FileSelector(file));", "+      CompileShouldFailListener listener = new CompileShouldFailListener();", "+      _model.addListener(listener);", "-      CompileShouldSucceedListener listener2 = new CompileShouldSucceedListener(false);", "-      _model.addListener(listener2);", "+      // This is a CompileShouldFailListener, so we don't need to wait.", "-      if (_model.getCompilerModel().getNumErrors() > 0) {", "-        fail(\"compile failed: \" + getCompilerErrorString());", "-      }", "-      _model.removeListener(listener2);", "-      assertCompileErrorsPresent(_name(), false);", "-      listener2.checkCompileOccurred();", "-      // Make sure .class exists", "-      compiled = classForJava(file, \"DrJavaTestFoo\");", "-      assertTrue(_name() + \"Class file doesn't exist after compile\",", "-                 compiled.exists());", "+      assertCompileErrorsPresent(_name(), true);", "+      listener.checkCompileOccurred();", "+      File compiled = classForJava(file, \"DrJavaTestFoo\");", "+      assertTrue(_name() + \"Class file exists after compile?!\", !compiled.exists());", "+      _model.removeListener(listener);", "+      ", "+      ", "+      // Only run assertions test in 1.4", "+      String version = System.getProperty(\"java.version\");", "+      if ((version != null) && (\"1.4.0\".compareTo(version) <= 0)) {", "+        // Turn on assert support", "+        DrJava.getConfig().setSetting(OptionConstants.JAVAC_ALLOW_ASSERT,", "+                                      Boolean.TRUE);", "+        ", "+        CompileShouldSucceedListener listener2 = new CompileShouldSucceedListener(false);", "+        _model.addListener(listener2);", "+        doc.startCompile();", "+        if (_model.getCompilerModel().getNumErrors() > 0) {", "+          fail(\"compile failed: \" + getCompilerErrorString());", "+        }", "+        _model.removeListener(listener2);", "+        assertCompileErrorsPresent(_name(), false);", "+        listener2.checkCompileOccurred();", "+        ", "+        // Make sure .class exists", "+        compiled = classForJava(file, \"DrJavaTestFoo\");", "+        assertTrue(_name() + \"Class file doesn't exist after compile\",", "+                   compiled.exists());", "+      }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d2a453e5e2bd898224eafa44ece5c898", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "platform/src-jdk16/edu/rice/cs/drjava/model/compiler/Javac160Compiler.java", "commitBeforeChange": "0d0c5947e7ead7115690128690c9c431a119fb4d", "commitAfterChange": "e65e40659fdfd375a763123b318964023ee18036", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "      public Javac160Compiler(JavaVersion.FullVersion version, String location, List<? extends File> defaultBootClassPath)", "signatureAfterChange": "    public Javac160Compiler(JavaVersion.FullVersion version, String location, List<? extends File> defaultBootClassPath)", "diff": ["-  ", "+", "+    _filterExe = version.compareTo(JavaVersion.parseFullVersion(\"1.6.4_04\")) >= 0;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d4537059d28df065eeed8f666c3b7bc4", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "8470bac42027a288eff50252d965c363d15d41dc", "commitAfterChange": "cb029f12bd6c2fdcdba02605492a4baf5ca47e02", "methodNumberBeforeChange": 74, "methodNumberAfterChange": 74, "signatureBeforeChange": "   private synchronized int _findKeywordAtToplevel( String keyword, String text)", "signatureAfterChange": "   private synchronized int _findKeywordAtToplevel( String keyword, String text)", "diff": ["+          ", "+        // check that the keyword is not in a comment and is followed by whitespace", "-        if (rt.getState() == ReducedModelStates.FREE) {", "-        //if (!_isCommentedOrSpace(index,text)) {", "+        if (rt.getState() == ReducedModelStates.FREE && ", "+            Character.isWhitespace(text.charAt(index + keyword.length()))) {", "+          //if (!_isCommentedOrSpace(index,text)) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e940c44d417952d49b00a5c4cb08a4d4", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/docnavigation/JTreeSortNavigator.java", "commitBeforeChange": "fb4768f0a5915f88272f3d532585a4203c452f84", "commitAfterChange": "94495305a8fb1d1ea8c2b8ae2ef82ea7d92dd639", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "   public void addDocument(INavigatorItem doc, String path) throws IllegalArgumentException", "signatureAfterChange": "   public void addDocument(INavigatorItem doc, String path) throws IllegalArgumentException", "diff": ["-    if (!path.startsWith(_topLevelPath))", "+    ", "+    if (!path.equals(_topLevelPath) && !path.startsWith(_topLevelPath + File.separator) )"]}], "num": 24181}