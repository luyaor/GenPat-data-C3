{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "844229b11dcdf6b3fcfe19615e7abfad", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "05c797e275e7f0770dbe012298d90e17", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/src-jsr14v2_0/edu/rice/cs/drjava/model/compiler/JSR14v20Compiler.java", "commitBeforeChange": "41aaddf2fac13c7b13b54278e1f7a96f30359db8", "commitAfterChange": "7f6c36ddc1f3b8bddbab22750a5a52f89ba18055", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 17, "signatureBeforeChange": "   private boolean _isJSR14v2_4()", "signatureAfterChange": "   private boolean _isJSR14v2_4()", "diff": ["-      return false;", "+      try {", "+        Class.forName(\"com.sun.tools.javac.main.Main+1\");", "+        return true;", "+      }", "+      catch (Exception e2) {", "+        return false;", "+      }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "44c112c8af51137e34bc76b0f67fe62d", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "dynamicjava/src/koala/dynamicjava/util/TigerUtilities.java", "commitBeforeChange": "b5c763bf27a5267e7ff6eb7560dbde820d19b063", "commitAfterChange": "0b7f9842c42a34509d077a5e1d655daf0b8192d6", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "   public static void resetVersion()", "signatureAfterChange": "   public static void resetVersion()", "diff": ["-    _tigerEnabled = (VERSION >= 1.5);", "+    try {", "+      //Class.forName(\"java.lang.Enum\");", "+      Class.forName(\"com.sun.javadoc.ParameterizedType\");", "+      _tigerEnabled = true;", "+    }", "+    catch (Throwable t) {", "+      // failed to load java.lang.Enum, so jsr14 v2.0 is not on the boot claspath.", "+      // This logic avoids a restart if _usingJSR14v20 with the correct boot classpath.", "+      //t.printStackTrace();", "+      _tigerEnabled = (VERSION >= 1.5);", "+    }    "]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a6faeaf5e7044eea95d7b0f167b0ae1f", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/src-jsr14v1_0/edu/rice/cs/drjava/model/compiler/JavacGJCompiler.java", "commitBeforeChange": "2b60d554bfbc943e9895d62c314b1c1db64d50e8", "commitAfterChange": "fb8ddcbfd71bd75d2b307b4e83f7a834ec364082", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "    public boolean isAvailable()", "signatureAfterChange": "    public boolean isAvailable()", "diff": ["-      return true;", "+      try {", "+        Class.forName(\"java.lang.Enum\");", "+        // not available since jsr14 v2.0 is on the boot classpath", "+        return false;", "+      }", "+      catch (SecurityException se) {", "+        return true;", "+      }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e20225f1e64b4d81f4fb87ad18f1679c", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "platforms/src-jdk15/edu/rice/cs/drjava/model/compiler/Javac150Compiler.java", "commitBeforeChange": "ab9e3c17a5a3c5f93e2194242f915fa2f6bda14a", "commitAfterChange": "0bcf0550e09e9d78837430136001fe08d0458948", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "   protected boolean _isValidVersion()", "signatureAfterChange": "   protected boolean _isValidVersion()", "diff": ["+", "-    Class[] validArgs1 = {", "-      Context.class", "-    };", "+    Class[] validArgs1 = { Context.class };", "-      log.getMethod(\"instance\", validArgs1);", "-      // succeeds, therefore must be correct version", "-      return true;", "+      log.getMethod(\"instance\", validArgs1);  // found in Java 5.0 compilers (and JSR14 prototypes >= 1.2)", "+      try {", "+        log.getMethod(\"hasDiagnosticListener\");  // only found in Java 6.0 (1.6.0) and later", "+        return false; // supports Java 6.0 method; hence not a Java 5.0 compiler", "+      }", "+      catch(NoSuchMethodException e) {", "+        return true; // supports Java 5.0 method but does not support Java 6.0 method", "+      }", "-      // Didn't have expected method, so we can't use this compiler.", "-      return false;", "+      return false;  // does not support Java 5.0 Log functionality (added in JSR14 1.2 prototype)"]}], "num": 3138}