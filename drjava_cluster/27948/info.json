{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2931a7e792a96008d4cf8634f7dbec62", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3f20a3e8a64f60af93b536b774e517dd", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsModel.java", "commitBeforeChange": "5293cb4cfbc2f45d6061ba4101ad60348aa251ed", "commitAfterChange": "f68f43e5a680bb235f87f6125c6c0de6d15a12f4", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "   public void interpretCurrentInteraction()", "signatureAfterChange": "   public void interpretCurrentInteraction()", "diff": ["-    synchronized(_interpreterLock) {", "-      // Don't start a new interaction while one is in progress", "-      if (_document.inProgress()) return;", "-      ", "-      String text = _document.getCurrentInteraction();", "-      String toEval = text.trim();", "-      if (toEval.startsWith(\"java \")) toEval = _testClassCall(toEval);", "-", "-      _prepareToInterpret(text);", "-      interpret(toEval);", "-    }", "+    // Don't start a new interaction while one is in progress", "+    if (_document.inProgress()) return;", "+    ", "+    String text = _document.getCurrentInteraction();", "+    String toEval = text.trim();", "+    if (toEval.startsWith(\"java \")) toEval = _testClassCall(toEval);", "+    ", "+    _prepareToInterpret(text);", "+    interpret(toEval);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ac11831ce4c899e6ce8281d875f5e3c6", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsModel.java", "commitBeforeChange": "80e5b2a4860b03c09786e96e9454b1209681f568", "commitAfterChange": "fcd44b069955d5a8c8e628fd06f8d74718eca4f0", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "   public void interpretCurrentInteraction()", "signatureAfterChange": "   public void interpretCurrentInteraction()", "diff": ["-    // Don't start a new interaction while one is in progress", "-    if (_document.inProgress()) return;", "-    String text = _document.getCurrentInteraction();", "-    String toEval = text.trim();", "-    if (toEval.startsWith(\"java \")) toEval = _testClassCall(toEval);", "-    ", "-    _prepareToInterpret(text);", "+    String toEval;", "+    _document.acquireWriteLock();", "+    try {", "+      if (_document.inProgress()) return;  // Don't start a new interaction while one is in progress", "+      ", "+      String text = _document.getCurrentInteraction();", "+      toEval = text.trim();", "+      if (toEval.startsWith(\"java \")) toEval = _testClassCall(toEval);", "+      ", "+      _prepareToInterpret(text);  // Writes a newLine!", "+    }", "+    finally{ _document.releaseWriteLock(); }"]}], "num": 27948}