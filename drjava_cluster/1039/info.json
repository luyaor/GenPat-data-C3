{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0aac21b0a7e19747d063911577f3e207", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "09b7712180fabc685216c0dd352fec70", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/cache/DocumentCache.java", "commitBeforeChange": "c96f6b2e58df41c403474d4e2c581d0c1d878a78", "commitAfterChange": "ee2a4f62f26e8f47974ad5d674dd24e422820bcc", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 23, "signatureBeforeChange": "      public void addRegistrationListener(RegistrationListener list)", "signatureAfterChange": "      public void addRegistrationListener(RegistrationListener list)", "diff": ["-  public void addRegistrationListener(RegistrationListener list) { _regListeners.add(list); }", "+  public void addRegistrationListener(RegistrationListener list) { synchronized(_regListeners) { _regListeners.add(list); } }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3c6e86fd689e5633419aa9535e5f3d7e", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocumentAdapter.java", "commitBeforeChange": "fa78ee7a06602f123abf33b8aef0005c93bb3efa", "commitAfterChange": "f26f93ad5e4b158c960a6cefd64cf99f7137ecbc", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "   public synchronized void addColoring(int start, int end, String style)", "signatureAfterChange": "   public void addColoring(int start, int end, String style)", "diff": ["-  public synchronized void addColoring(int start, int end, String style) {      ", "-    if(_toClear) {", "-      _stylesList.clear();    ", "-      _toClear = false;", "+  public void addColoring(int start, int end, String style) {", "+    synchronized(_stylesList) {", "+      if (_toClear) {", "+        _stylesList.clear();    ", "+        _toClear = false;", "+      }", "+      if (style != null)", "+        _stylesList.add(0, new Pair<Pair<Integer,Integer>,String>", "+                        (new Pair<Integer,Integer>(new Integer(start),new Integer(end)), style));", "-    if(style != null)", "-      _stylesList.add(0, new Pair<Pair<Integer,Integer>,String>", "-                      (new Pair<Integer,Integer>(new Integer(start),new Integer(end)), style));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "85374498019b8f2bf98a68fbe293680a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "e64e0f2febfc163cfb04eb35ce1134673166ab50", "commitAfterChange": "71b4e72a1b4feef5a2621bd09e829e0108d8d893", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "      public void removeDocumentClosedListener(DocumentClosedListener l)", "signatureAfterChange": "      public synchronized void removeDocumentClosedListener(DocumentClosedListener l)", "diff": ["-  public void removeDocumentClosedListener(DocumentClosedListener l){", "-    _closedListeners.remove(l);", "+  public synchronized void removeDocumentClosedListener(DocumentClosedListener l) { ", "+    synchronized (_closedListeners) { _closedListeners.remove(l); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ab98ba5a19a9d2ec948e8accb82b989e", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/cache/DocumentCache.java", "commitBeforeChange": "c96f6b2e58df41c403474d4e2c581d0c1d878a78", "commitAfterChange": "ee2a4f62f26e8f47974ad5d674dd24e422820bcc", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": "   public void removeRegistrationListener(RegistrationListener list)", "signatureAfterChange": "     public void removeRegistrationListener(RegistrationListener list)", "diff": ["-  public void addRegistrationListener(RegistrationListener list) { _regListeners.add(list); }", "-  public void removeRegistrationListener(RegistrationListener list) { _regListeners.remove(list); }", "+  public void addRegistrationListener(RegistrationListener list) { synchronized(_regListeners) { _regListeners.add(list); } }", "+    public void removeRegistrationListener(RegistrationListener list) { synchronized(_regListeners) { _regListeners.remove(list); } }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "afaafd3ce1f8aa151377d5ce93b97f24", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocumentAdapter.java", "commitBeforeChange": "fa78ee7a06602f123abf33b8aef0005c93bb3efa", "commitAfterChange": "f26f93ad5e4b158c960a6cefd64cf99f7137ecbc", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "   public synchronized void clearColoring()", "signatureAfterChange": "   public void clearColoring()", "diff": ["-  //Called when the Interactions pane is reset", "-  public synchronized void clearColoring() {", "-    //Don't clear immediately or else the colors will disappear while the interactions pane resets", "-    //_stylesList.clear();", "-    _toClear = true;", "+  /** Called when the Interactions pane is reset. */", "+  public void clearColoring() { synchronized (_stylesList) { _toClear = true; } }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b4e28be62ee35ad052e078ca42d8ffa2", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "e64e0f2febfc163cfb04eb35ce1134673166ab50", "commitAfterChange": "71b4e72a1b4feef5a2621bd09e829e0108d8d893", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "      public void addDocumentClosedListener(DocumentClosedListener l)", "signatureAfterChange": "      public void addDocumentClosedListener(DocumentClosedListener l)", "diff": ["-  public void addDocumentClosedListener(DocumentClosedListener l){", "-    _closedListeners.add(l);", "+  public void addDocumentClosedListener(DocumentClosedListener l) { ", "+    synchronized (_closedListeners) { _closedListeners.add(l); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b6053aa4287bee9eadb547742e8531d5", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/cache/DocumentCache.java", "commitBeforeChange": "66cf5c18c85c49dd4268e6eb5e205df7e4243a71", "commitAfterChange": "f6fc0c2918885b86d7588893e1a025f2fac926cd", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 10, "signatureBeforeChange": "     public boolean isReady()", "signatureAfterChange": "     public boolean isReady()", "diff": ["-    public boolean isReady() { return _doc != null; }", "+    public boolean isReady() { synchronized (_cacheLock) { return _doc != null; } }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b8e9a87aa9bb75c90ffe5b01ce330764", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/debug/EventHandlerThread.java", "commitBeforeChange": "4b6c56880670c4bb0f37de6a58c9d30d501c274a", "commitAfterChange": "c2a6567c6b5cf5eb1741bdddf032b869b2234b72", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "   protected void _handleThreadStartEvent(ThreadStartEvent e)", "signatureAfterChange": "   protected void _handleThreadStartEvent(ThreadStartEvent e)", "diff": ["-    _debugger.threadStarted();", "+    synchronized(_debugger) {", "+      _debugger.threadStarted();", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c20fb88388d827efcbd0049cc39298c8", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/debug/EventHandlerThread.java", "commitBeforeChange": "4b6c56880670c4bb0f37de6a58c9d30d501c274a", "commitAfterChange": "c2a6567c6b5cf5eb1741bdddf032b869b2234b72", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "   protected void _cleanUp(Event e) throws DebugException", "signatureAfterChange": "   protected void _cleanUp(Event e) throws DebugException", "diff": ["-    _connected = false;", "-    if (_debugger.isReady()) {", "-      if (_debugger.hasSuspendedThreads()) {", "-        _debugger.currThreadDied();", "+    synchronized(_debugger) {", "+      _connected = false;", "+      if (_debugger.isReady()) {", "+        if (_debugger.hasSuspendedThreads()) {", "+          _debugger.currThreadDied();", "+        }", "+        _debugger.shutdown();", "-      _debugger.shutdown();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ed9012148521cfd6946902d39e7c607f", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/cache/DocumentCache.java", "commitBeforeChange": "8cb3141a044af3c7f18d018980f5a22b0b342ea8", "commitAfterChange": "3c8d894853a99e6e32b5d7c276413441b9c000ec", "methodNumberBeforeChange": 26, "methodNumberAfterChange": 26, "signatureBeforeChange": "     public void setKeywords(Set<String> keywords)", "signatureAfterChange": "     public void setKeywords(Set<String> keywords)", "diff": ["-      if (_doc != null) {", "-        // resident", "-        _doc.setKeywords(keywords);", "-      }", "-      else {", "-        // virtualized", "-        _keywords = new HashSet<String>(keywords);", "+      synchronized(_cacheLock) {", "+        if (_doc != null) {", "+          // resident", "+          _doc.setKeywords(keywords);", "+        }", "+        else {", "+          // virtualized", "+          _keywords = new HashSet<String>(keywords);", "+        }"]}], "num": 1039}