{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "41ce116fb8cb81a5738e289158699343", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6b022e790ebbc97043d667d8c7ea9af3", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/cache/DocumentCache.java", "commitBeforeChange": "25d973a9f45bdba84ad4514eba518ee94f041daf", "commitAfterChange": "fa5a46f3cc65ec85b9fa37599dc6542e75cee25e", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "   public void setCacheSize(int size)", "signatureAfterChange": "   public void setCacheSize(int size)", "diff": ["-    synchronized(_cacheLock) {   // lock the cache so entries can be reomoved if necessary", "+    synchronized(_cacheLock) {    // lock the cache so entries can be removed if necessary", "+      if (dist > 0) kickOut(removed);", "-    if (dist > 0) kickOut(removed);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "76a6a3a8bf3e2be22b0f482ea0b6c84e", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractDJDocument.java", "commitBeforeChange": "5497ac60fa563e6e67c580081d99fbd842e52332", "commitAfterChange": "5fa866685226be5aebbebdfba9d7d34d29108e50", "methodNumberBeforeChange": 35, "methodNumberAfterChange": 35, "signatureBeforeChange": "   public int findPrevCharPos(int pos, char[] whitespace) throws BadLocationException", "signatureAfterChange": "   public int findPrevCharPos(int pos, char[] whitespace) throws BadLocationException", "diff": ["-    try { text = getText(0, pos); }", "-    finally { readUnlock(); }", "-    ", "-    synchronized(_reduced) {", "+    try { ", "+      text = getText(0, pos); ", "-      final int origLocation = _currentLocation;", "-      // Move reduced model to location pos", "-      _reduced.move(pos - origLocation);  // reduced model points to pos == reducedPos", "-      ", "-      // Walk backward from specified position", "-      ", "-      while (i >= 0) { ", "-        /* Invariant: reduced model points to reducedPos, i < reducedPos <= pos, ", "-         * text[i+1:pos-1] contains invalid chars */", "+      synchronized(_reduced) {", "-        if (match(text.charAt(i), whitespace)) {", "-          // ith char is whitespace", "-          i--;", "-          continue;", "+        final int origLocation = _currentLocation;", "+        // Move reduced model to location pos", "+        _reduced.move(pos - origLocation);  // reduced model points to pos == reducedPos", "+        ", "+        // Walk backward from specified position", "+        ", "+        while (i >= 0) { ", "+          /* Invariant: reduced model points to reducedPos, i < reducedPos <= pos, ", "+           * text[i+1:pos-1] contains invalid chars */", "+          ", "+          if (match(text.charAt(i), whitespace)) {", "+            // ith char is whitespace", "+            i--;", "+            continue;", "+          }", "+          ", "+          // Found a non-whitespace char;  move reduced model to location i", "+          _reduced.move(i - reducedPos);", "+          reducedPos = i;                  // reduced model points to i == reducedPos", "+          ", "+          // Check if matching char is within a comment (not including opening two characters)", "+          if ((_reduced.getStateAtCurrent().equals(ReducedModelState.INSIDE_LINE_COMMENT)) ||", "+              (_reduced.getStateAtCurrent().equals(ReducedModelState.INSIDE_BLOCK_COMMENT))) {", "+            i--;", "+            continue;", "+          }", "+          ", "+          if (_isEndOfComment(text, i)) { /* char is second character is opening comment market */  ", "+            // Move i past the first comment character and continue searching", "+            i = i - 2;", "+            continue;", "+          }", "+          ", "+          // Found valid previous character", "+          break;", "-        // Found a non-whitespace char;  move reduced model to location i", "-        _reduced.move(i - reducedPos);", "-        reducedPos = i;                  // reduced model points to i == reducedPos", "-        ", "-        // Check if matching char is within a comment (not including opening two characters)", "-        if ((_reduced.getStateAtCurrent().equals(ReducedModelState.INSIDE_LINE_COMMENT)) ||", "-            (_reduced.getStateAtCurrent().equals(ReducedModelState.INSIDE_BLOCK_COMMENT))) {", "-          i--;", "-          continue;", "-        }", "-        ", "-        if (_isEndOfComment(text, i)) { /* char is second character is opening comment market */  ", "-          // Move i past the first comment character and continue searching", "-          i = i - 2;", "-          continue;", "-        }", "-        ", "-        // Found valid previous character", "-        break;", "+        /* Exit invariant same as for loop except that i <= reducedPos because at break i = reducedPos */", "+        _reduced.move(origLocation - reducedPos);", "-      ", "-      /* Exit invariant same as for loop except that i <= reducedPos because at break i = reducedPos */", "-      _reduced.move(origLocation - reducedPos);", "-    ", "+    finally { readUnlock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d1b16008939623de6a9bd9e527621e05", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractDJDocument.java", "commitBeforeChange": "51eb81adbb9a6967e1d5616b976e8363540afc02", "commitAfterChange": "0912ab7ed35ec7cfa4a9c45641294748135ef6a8", "methodNumberBeforeChange": 74, "methodNumberAfterChange": 74, "signatureBeforeChange": "          public void run()", "signatureAfterChange": "          public void run()", "diff": ["+        _styleChanged();", "-      _styleChanged();"]}], "num": 7600}