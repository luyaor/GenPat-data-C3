{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "bf5b66920740614204aa3e07211e8c52", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0c5ef417d28e859919ec6430d4491a2a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/FindReplaceDialog.java", "commitBeforeChange": "ac55d90528653f74034b709e69818ba05a360584", "commitAfterChange": "603c8744a127b7738a621d0f6b6e698d9647db86", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "      public FindReplaceDialog(Frame frame, DefinitionsView view)", "signatureAfterChange": "  \tpublic FindReplaceDialog(Frame frame, DefinitionsView view)", "diff": ["-", "-    public FindReplaceDialog(Frame frame, DefinitionsView view) {", "+\tpublic FindReplaceDialog(Frame frame, DefinitionsView view) {", "-\t\t\t\tsuper(frame);", "+\t\tsuper(frame);", "-\t\t\t\t_view = view;", "-        setTitle(\"Find/Replace\");", "+\t\t_view = view;", "+\t\t_currentPosition = _view.getCaretPosition();", "+\t\tsetTitle(\"Find/Replace\");", "-\t\t\t\tfinal String msgString1 = \"Find:\";", "-\t\t\t\tfinal String msgString2 = \"Replace:\";", "-        final JTextField findField = new JTextField(10);", "-        final JTextField  replaceField = new JTextField(10);", "+\t\tfinal String msgString1 = \"Find:\";", "+\t\tfinal String msgString2 = \"Replace:\";", "+\t\tfinal JTextField findField = new JTextField(10);", "+\t\tfinal JTextField  replaceField = new JTextField(10);", "-\t\t\t\tObject[] array = {msgString1, findField, msgString2, replaceField};", "+\t\tObject[] array = {msgString1, findField, msgString2, replaceField};", "-\t\t\t  _findButton = new JButton (\"Find\");", "-\t\t\t\t_findNextButton = new JButton (\"Find Next\");", "-\t\t\t\t_replaceButton = new JButton (\"Replace and\\nFind Next\");", "-\t\t\t  _replaceAllButton = new JButton (\"Replace All\");", "-\t\t\t\t_closeButton = new JButton (\"Close\");", "-", "-\t\t\t\t// set up the layout", "-\t\t\t\tBox outside = Box.createVerticalBox();", "-\t\t\t\tBox buttons = Box.createHorizontalBox();", "+\t\t_findNextButton = new JButton (\"Find Next\");", "+\t\t_replaceButton = new JButton (\"Replace\");", "+\t\t_replaceFindButton = new JButton (\"Replace and Find Next\");", "+\t\t_replaceAllButton = new JButton (\"Replace All\");", "+\t\t_closeButton = new JButton (\"Close\");", "+\t\t_message = new Label();", "+\t\t", "+\t\t// set up the layout", "+\t\tBox outside = Box.createVerticalBox();", "+\t\tBox buttons = Box.createHorizontalBox();", "-\t\t\t\tbuttons.add(_findButton);", "-\t\t\t\tbuttons.add(_findNextButton);", "-\t\t\t\tbuttons.add(_replaceButton);", "-\t\t\t\t_replaceButton.setEnabled(false);", "-\t\t\t\tbuttons.add(_replaceAllButton);", "-\t\t\t\tbuttons.add(_closeButton);", "+\t\tbuttons.add(_findNextButton);", "+\t\tbuttons.add(_replaceButton);", "+\t\tbuttons.add(_replaceFindButton);", "+\t\t_replaceButton.setEnabled(false);", "+\t\t_replaceFindButton.setEnabled(false);", "+\t\tbuttons.add(_replaceAllButton);", "+\t\tbuttons.add(_closeButton);", "-\t\t\t\toutside.add(new Label(msgString1));", "-\t\t\t\toutside.add(findField);", "-\t\t\t\toutside.add(new Label(msgString2));\t\t\t\t", "-\t\t\t\toutside.add(replaceField);", "-\t\t\t\toutside.add(buttons);", "-", "-        setContentPane(outside);", "-        setDefaultCloseOperation(DISPOSE_ON_CLOSE);", "-        addWindowListener(new WindowAdapter() {", "-                public void windowClosing(WindowEvent we) {", "-                /*", "-                 * Instead of directly closing the window,", "-                 * we're going to change the JOptionPane's", "-                 * value property.", "-                 */", "-\t\t\t\t\t\t\t\t\t\tSystem.out.println(\"closing?\");", "-            }", "-        });", "-", "-", "-\t\t\t\tfindField.getDocument().addDocumentListener(new DocumentListener() {", "-\t\t\t\t\t\tpublic void changedUpdate(DocumentEvent e) {", "-\t\t\t\t\t\t\t\t_replaceButton.setEnabled(false);", "-\t\t\t\t\t\t}", "-", "-\t\t\t\t\t\tpublic void insertUpdate(DocumentEvent e) {", "-\t\t\t\t\t\t\t\t_replaceButton.setEnabled(false);", "-\t\t\t\t\t\t}", "-", "-\t\t\t\t\t\tpublic void removeUpdate(DocumentEvent e) {", "-\t\t\t\t\t\t\t\t_replaceButton.setEnabled(false);", "-\t\t\t\t\t\t}", "-\t\t\t\t});", "-", "-\t\t\t\t// button action listeners", "-\t\t\t\t_findButton.addActionListener(new ActionListener() {", "-\t\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {", "-\t\t\t\t\t\t\t\t_fWord = findField.getText();", "-\t\t\t\t\t\t\t\t_rWord = replaceField.getText();", "-\t\t\t\t\t\t\t\t// finds the first occurance", "-\t\t\t\t\t\t\t\tint pos = _view.findText(_fWord);", "-\t\t\t\t\t\t\t\tif (pos != -1) {", "-\t\t\t\t\t\t\t\t\t\t_currentPosition = pos;", "-\t\t\t\t\t\t\t\t\t\t_replaceButton.setEnabled(true);", "-\t\t\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\t\t\t\t_replaceButton.setEnabled(false);", "-\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t\t\t\t", "-\t\t\t\t\t\t}", "-\t\t\t\t});", "-", "-", "-\t\t\t\t/** only enable if you found one.. otherwise leave it the same as before", "+\t\toutside.add(new Label(msgString1));", "+\t\toutside.add(findField);", "+\t\toutside.add(new Label(msgString2));\t\t\t\t", "+\t\toutside.add(replaceField);", "+\t\toutside.add(buttons);", "+\t\toutside.add(_message);", "+\t\tsetContentPane(outside);", "+\t\tsetDefaultCloseOperation(DISPOSE_ON_CLOSE);", "+\t\taddWindowListener(new WindowAdapter() {", "+\t\t\tpublic void windowClosing(WindowEvent we) {", "+\t\t\t\t/*", "+\t\t\t\t * Instead of directly closing the window,", "+\t\t\t\t * we're going to change the JOptionPane's", "+\t\t\t\t * value property.", "-\t\t\t\t_findNextButton.addActionListener(new ActionListener() {", "-\t\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {", "-\t\t\t\t\t\t\t\t_fWord = findField.getText();", "-\t\t\t\t\t\t\t\t_rWord = replaceField.getText();", "-\t\t\t\t\t\t\t\t// finds the first occurance after curpos + length", "-\t\t\t\t\t\t\t\tint pos = _view.findNextText(_fWord,", "-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t _currentPosition", "-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t + _fWord.length());", "-\t\t\t\t\t\t\t\tif (pos != -1) {", "-\t\t\t\t\t\t\t\t\t\t_currentPosition = pos;", "-\t\t\t\t\t\t\t\t\t\t_replaceButton.setEnabled(true);", "-\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t}", "-\t\t\t\t});", "+\t\t\t\tSystem.out.println(\"closing?\");", "+\t\t\t}", "+\t\t});", "-\t\t\t\t_replaceButton.addActionListener(new ActionListener() {", "-\t\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {", "-\t\t\t\t\t\t\t\t_fWord = findField.getText();", "-\t\t\t\t\t\t\t\t_rWord = replaceField.getText();", "-\t\t\t\t\t\t\t\t// replaces the occurance at the current position", "-\t\t\t\t\t\t\t\t_currentPosition = _view.replaceText(_fWord,", "-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t _rWord,", "-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t _currentPosition);", "-\t\t\t\t\t\t\t\t// and finds the next word", "-\t\t\t\t\t\t\t\t_currentPosition = _view.findNextText(_fWord, _currentPosition);", "-\t\t\t\t\t\t\t\tif (_currentPosition == -1)", "-\t\t\t\t\t\t\t\t\t\t_replaceButton.setEnabled(false);", "-\t\t\t\t\t\t}", "-\t\t\t\t});", "-\t\t\t\t_replaceAllButton.addActionListener(new ActionListener() {", "-\t\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {", "-\t\t\t\t\t\t\t\t_fWord = findField.getText();", "-\t\t\t\t\t\t\t\t_rWord = replaceField.getText();", "-\t\t\t\t\t\t\t\t// replaces everything from the current position on", "-\t\t\t\t\t\t\t\t_currentPosition = _view.replaceAllText(_fWord,", "-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_rWord,", "-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_currentPosition);", "-\t\t\t\t\t\t\t\t_replaceButton.setEnabled(false);", "-\t\t\t\t\t\t\t\t//show \"replaced bing occurances\" dialog?", "-\t\t\t\t\t\t}", "-\t\t\t\t});", "+\t\tfindField.getDocument().addDocumentListener(new DocumentListener() {", "+\t\t\tpublic void changedUpdate(DocumentEvent e) {", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "-\t\t\t\t_closeButton.addActionListener(new ActionListener() {", "-\t\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {", "-\t\t\t\t\t\t\t\tsetVisible(false);", "-\t\t\t\t\t\t}", "-\t\t\t\t});", "+\t\t\tpublic void insertUpdate(DocumentEvent e) {", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "+", "+\t\t\tpublic void removeUpdate(DocumentEvent e) {", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "+\t\t});", "+", "+\t\t_view.getDocument().addDocumentListener(new DocumentListener() {", "+\t\t\tpublic void changedUpdate(DocumentEvent e) {", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "+", "+\t\t\tpublic void insertUpdate(DocumentEvent e) {", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "+", "+\t\t\tpublic void removeUpdate(DocumentEvent e) {", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "+\t\t});", "+", "+\t\t_view.addCaretListener(new CaretListener() {", "+\t\t\tpublic void caretUpdate(CaretEvent e) {", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "+\t\t});", "+", "+\t\t/** only enable if you found one.. otherwise leave it the same as before", "+\t\t */", "+\t\t_findNextButton.addActionListener(new ActionListener() {", "+\t\t\tpublic void actionPerformed(ActionEvent e) {", "+\t\t\t\t_fWord = findField.getText();", "+\t\t\t\t_rWord = replaceField.getText();", "+\t\t\t\t_message.setText(\"\");", "+\t\t\t\tSystem.err.println(e.getActionCommand());", "+\t\t\t\tboolean found = _view.findNextText(_fWord);", "+", "+\t\t\t\tif (found) {", "+\t\t\t\t\t_replaceButton.setEnabled(true);", "+\t\t\t\t\t_replaceFindButton.setEnabled(true);", "+\t\t\t\t}", "+\t\t\t\telse {", "+\t\t\t\t\tToolkit.getDefaultToolkit().beep();", "+\t\t\t\t\t_message.setText(\"Search text \\\"\" + _fWord + \"\\\" not found.\");", "+\t\t\t\t}", "+\t\t\t}", "+\t\t});", "+", "+\t\t_replaceButton.addActionListener(new ActionListener() {", "+\t\t\tpublic void actionPerformed(ActionEvent e) {", "+\t\t\t\t_fWord = findField.getText();", "+\t\t\t\t_rWord = replaceField.getText();", "+\t\t\t\t_message.setText(\"\");", "+", "+\t\t\t\t// replaces the occurance at the current position", "+\t\t\t\t_view.replaceText(_fWord, _rWord);", "+\t\t\t\t\t\t\t\t", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "+\t\t});", "+", "+\t\t_replaceFindButton.addActionListener(new ActionListener() {", "+\t\t\tpublic void actionPerformed(ActionEvent e) {", "+\t\t\t\t_fWord = findField.getText();", "+\t\t\t\t_rWord = replaceField.getText();", "+\t\t\t\t_message.setText(\"\");", "+", "+\t\t\t\t// replaces the occurance at the current position", "+\t\t\t\tboolean found = _view.replaceText(_fWord,", "+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_rWord);", "+\t\t\t\t// and finds the next word", "+\t\t\t\tif (found)", "+\t\t\t\t\tfound = _view.findNextText(_fWord);", "+\t\t\t\tif (found) {", "+\t\t\t\t\t_replaceButton.setEnabled(true);", "+\t\t\t\t\t_replaceFindButton.setEnabled(true);\t\t\t\t\t\t\t\t\t\t", "+\t\t\t\t} else {", "+\t\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t\t\tToolkit.getDefaultToolkit().beep();", "+\t\t\t\t\t_message.setText(\"Search text \\\"\" + _fWord + \"\\\" not found.\");", "+\t\t\t\t}", "+\t\t\t}", "+\t\t});", "+", "+\t\t_replaceAllButton.addActionListener(new ActionListener() {", "+\t\t\tpublic void actionPerformed(ActionEvent e) {", "+\t\t\t\t_fWord = findField.getText();", "+\t\t\t\t_rWord = replaceField.getText();", "+\t\t\t\t_message.setText(\"\");", "+", "+\t\t\t\tint count = _view.replaceAllText(_fWord, _rWord);", "+", "+\t\t\t\t_message.setText(\"Replaced \" + count + \" occurrence\" +", "+\t\t\t\t\t\t\t\t\t\t\t\t ((count == 1)?\"\":\"s\") + \".\");", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "+\t\t});", "+", "+\t\t_closeButton.addActionListener(new ActionListener() {", "+\t\t\tpublic void actionPerformed(ActionEvent e) {", "+\t\t\t\tsetVisible(false);", "+\t\t\t}", "+\t\t});", "-\t\t\t\tsetBounds(100, 200, 500, 300);", "-\t\t\t\tsetSize(500, 300);", "-\t\t\t\tsetVisible(true);", "-\t\t}", "+\t\tsetBounds(100, 200, 520, 300);", "+\t\tsetSize(520, 300);", "+\t\tsetVisible(true);", "+\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2b4b808b25537f2489c7322cf251aaba", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/FindReplaceDialog.java", "commitBeforeChange": "ac55d90528653f74034b709e69818ba05a360584", "commitAfterChange": "603c8744a127b7738a621d0f6b6e698d9647db86", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "      public FindReplaceDialog(Frame frame, DefinitionsView view)", "signatureAfterChange": "  \tpublic FindReplaceDialog(Frame frame, DefinitionsView view)", "diff": ["-", "-    public FindReplaceDialog(Frame frame, DefinitionsView view) {", "+\tpublic FindReplaceDialog(Frame frame, DefinitionsView view) {", "-\t\t\t\tsuper(frame);", "+\t\tsuper(frame);", "-\t\t\t\t_view = view;", "-        setTitle(\"Find/Replace\");", "+\t\t_view = view;", "+\t\t_currentPosition = _view.getCaretPosition();", "+\t\tsetTitle(\"Find/Replace\");", "-\t\t\t\tfinal String msgString1 = \"Find:\";", "-\t\t\t\tfinal String msgString2 = \"Replace:\";", "-        final JTextField findField = new JTextField(10);", "-        final JTextField  replaceField = new JTextField(10);", "+\t\tfinal String msgString1 = \"Find:\";", "+\t\tfinal String msgString2 = \"Replace:\";", "+\t\tfinal JTextField findField = new JTextField(10);", "+\t\tfinal JTextField  replaceField = new JTextField(10);", "-\t\t\t\tObject[] array = {msgString1, findField, msgString2, replaceField};", "+\t\tObject[] array = {msgString1, findField, msgString2, replaceField};", "-\t\t\t  _findButton = new JButton (\"Find\");", "-\t\t\t\t_findNextButton = new JButton (\"Find Next\");", "-\t\t\t\t_replaceButton = new JButton (\"Replace and\\nFind Next\");", "-\t\t\t  _replaceAllButton = new JButton (\"Replace All\");", "-\t\t\t\t_closeButton = new JButton (\"Close\");", "-", "-\t\t\t\t// set up the layout", "-\t\t\t\tBox outside = Box.createVerticalBox();", "-\t\t\t\tBox buttons = Box.createHorizontalBox();", "+\t\t_findNextButton = new JButton (\"Find Next\");", "+\t\t_replaceButton = new JButton (\"Replace\");", "+\t\t_replaceFindButton = new JButton (\"Replace and Find Next\");", "+\t\t_replaceAllButton = new JButton (\"Replace All\");", "+\t\t_closeButton = new JButton (\"Close\");", "+\t\t_message = new Label();", "+\t\t", "+\t\t// set up the layout", "+\t\tBox outside = Box.createVerticalBox();", "+\t\tBox buttons = Box.createHorizontalBox();", "-\t\t\t\tbuttons.add(_findButton);", "-\t\t\t\tbuttons.add(_findNextButton);", "-\t\t\t\tbuttons.add(_replaceButton);", "-\t\t\t\t_replaceButton.setEnabled(false);", "-\t\t\t\tbuttons.add(_replaceAllButton);", "-\t\t\t\tbuttons.add(_closeButton);", "+\t\tbuttons.add(_findNextButton);", "+\t\tbuttons.add(_replaceButton);", "+\t\tbuttons.add(_replaceFindButton);", "+\t\t_replaceButton.setEnabled(false);", "+\t\t_replaceFindButton.setEnabled(false);", "+\t\tbuttons.add(_replaceAllButton);", "+\t\tbuttons.add(_closeButton);", "-\t\t\t\toutside.add(new Label(msgString1));", "-\t\t\t\toutside.add(findField);", "-\t\t\t\toutside.add(new Label(msgString2));\t\t\t\t", "-\t\t\t\toutside.add(replaceField);", "-\t\t\t\toutside.add(buttons);", "-", "-        setContentPane(outside);", "-        setDefaultCloseOperation(DISPOSE_ON_CLOSE);", "-        addWindowListener(new WindowAdapter() {", "-                public void windowClosing(WindowEvent we) {", "-                /*", "-                 * Instead of directly closing the window,", "-                 * we're going to change the JOptionPane's", "-                 * value property.", "-                 */", "-\t\t\t\t\t\t\t\t\t\tSystem.out.println(\"closing?\");", "-            }", "-        });", "-", "-", "-\t\t\t\tfindField.getDocument().addDocumentListener(new DocumentListener() {", "-\t\t\t\t\t\tpublic void changedUpdate(DocumentEvent e) {", "-\t\t\t\t\t\t\t\t_replaceButton.setEnabled(false);", "-\t\t\t\t\t\t}", "-", "-\t\t\t\t\t\tpublic void insertUpdate(DocumentEvent e) {", "-\t\t\t\t\t\t\t\t_replaceButton.setEnabled(false);", "-\t\t\t\t\t\t}", "-", "-\t\t\t\t\t\tpublic void removeUpdate(DocumentEvent e) {", "-\t\t\t\t\t\t\t\t_replaceButton.setEnabled(false);", "-\t\t\t\t\t\t}", "-\t\t\t\t});", "-", "-\t\t\t\t// button action listeners", "-\t\t\t\t_findButton.addActionListener(new ActionListener() {", "-\t\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {", "-\t\t\t\t\t\t\t\t_fWord = findField.getText();", "-\t\t\t\t\t\t\t\t_rWord = replaceField.getText();", "-\t\t\t\t\t\t\t\t// finds the first occurance", "-\t\t\t\t\t\t\t\tint pos = _view.findText(_fWord);", "-\t\t\t\t\t\t\t\tif (pos != -1) {", "-\t\t\t\t\t\t\t\t\t\t_currentPosition = pos;", "-\t\t\t\t\t\t\t\t\t\t_replaceButton.setEnabled(true);", "-\t\t\t\t\t\t\t\t} else {", "-\t\t\t\t\t\t\t\t\t\t_replaceButton.setEnabled(false);", "-\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t\t\t\t\t", "-\t\t\t\t\t\t}", "-\t\t\t\t});", "-", "-", "-\t\t\t\t/** only enable if you found one.. otherwise leave it the same as before", "+\t\toutside.add(new Label(msgString1));", "+\t\toutside.add(findField);", "+\t\toutside.add(new Label(msgString2));\t\t\t\t", "+\t\toutside.add(replaceField);", "+\t\toutside.add(buttons);", "+\t\toutside.add(_message);", "+\t\tsetContentPane(outside);", "+\t\tsetDefaultCloseOperation(DISPOSE_ON_CLOSE);", "+\t\taddWindowListener(new WindowAdapter() {", "+\t\t\tpublic void windowClosing(WindowEvent we) {", "+\t\t\t\t/*", "+\t\t\t\t * Instead of directly closing the window,", "+\t\t\t\t * we're going to change the JOptionPane's", "+\t\t\t\t * value property.", "-\t\t\t\t_findNextButton.addActionListener(new ActionListener() {", "-\t\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {", "-\t\t\t\t\t\t\t\t_fWord = findField.getText();", "-\t\t\t\t\t\t\t\t_rWord = replaceField.getText();", "-\t\t\t\t\t\t\t\t// finds the first occurance after curpos + length", "-\t\t\t\t\t\t\t\tint pos = _view.findNextText(_fWord,", "-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t _currentPosition", "-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t + _fWord.length());", "-\t\t\t\t\t\t\t\tif (pos != -1) {", "-\t\t\t\t\t\t\t\t\t\t_currentPosition = pos;", "-\t\t\t\t\t\t\t\t\t\t_replaceButton.setEnabled(true);", "-\t\t\t\t\t\t\t\t}", "-\t\t\t\t\t\t}", "-\t\t\t\t});", "+\t\t\t\tSystem.out.println(\"closing?\");", "+\t\t\t}", "+\t\t});", "-\t\t\t\t_replaceButton.addActionListener(new ActionListener() {", "-\t\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {", "-\t\t\t\t\t\t\t\t_fWord = findField.getText();", "-\t\t\t\t\t\t\t\t_rWord = replaceField.getText();", "-\t\t\t\t\t\t\t\t// replaces the occurance at the current position", "-\t\t\t\t\t\t\t\t_currentPosition = _view.replaceText(_fWord,", "-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t _rWord,", "-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t _currentPosition);", "-\t\t\t\t\t\t\t\t// and finds the next word", "-\t\t\t\t\t\t\t\t_currentPosition = _view.findNextText(_fWord, _currentPosition);", "-\t\t\t\t\t\t\t\tif (_currentPosition == -1)", "-\t\t\t\t\t\t\t\t\t\t_replaceButton.setEnabled(false);", "-\t\t\t\t\t\t}", "-\t\t\t\t});", "-\t\t\t\t_replaceAllButton.addActionListener(new ActionListener() {", "-\t\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {", "-\t\t\t\t\t\t\t\t_fWord = findField.getText();", "-\t\t\t\t\t\t\t\t_rWord = replaceField.getText();", "-\t\t\t\t\t\t\t\t// replaces everything from the current position on", "-\t\t\t\t\t\t\t\t_currentPosition = _view.replaceAllText(_fWord,", "-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_rWord,", "-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_currentPosition);", "-\t\t\t\t\t\t\t\t_replaceButton.setEnabled(false);", "-\t\t\t\t\t\t\t\t//show \"replaced bing occurances\" dialog?", "-\t\t\t\t\t\t}", "-\t\t\t\t});", "+\t\tfindField.getDocument().addDocumentListener(new DocumentListener() {", "+\t\t\tpublic void changedUpdate(DocumentEvent e) {", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "-\t\t\t\t_closeButton.addActionListener(new ActionListener() {", "-\t\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {", "-\t\t\t\t\t\t\t\tsetVisible(false);", "-\t\t\t\t\t\t}", "-\t\t\t\t});", "+\t\t\tpublic void insertUpdate(DocumentEvent e) {", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "+", "+\t\t\tpublic void removeUpdate(DocumentEvent e) {", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "+\t\t});", "+", "+\t\t_view.getDocument().addDocumentListener(new DocumentListener() {", "+\t\t\tpublic void changedUpdate(DocumentEvent e) {", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "+", "+\t\t\tpublic void insertUpdate(DocumentEvent e) {", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "+", "+\t\t\tpublic void removeUpdate(DocumentEvent e) {", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "+\t\t});", "+", "+\t\t_view.addCaretListener(new CaretListener() {", "+\t\t\tpublic void caretUpdate(CaretEvent e) {", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "+\t\t});", "+", "+\t\t/** only enable if you found one.. otherwise leave it the same as before", "+\t\t */", "+\t\t_findNextButton.addActionListener(new ActionListener() {", "+\t\t\tpublic void actionPerformed(ActionEvent e) {", "+\t\t\t\t_fWord = findField.getText();", "+\t\t\t\t_rWord = replaceField.getText();", "+\t\t\t\t_message.setText(\"\");", "+\t\t\t\tSystem.err.println(e.getActionCommand());", "+\t\t\t\tboolean found = _view.findNextText(_fWord);", "+", "+\t\t\t\tif (found) {", "+\t\t\t\t\t_replaceButton.setEnabled(true);", "+\t\t\t\t\t_replaceFindButton.setEnabled(true);", "+\t\t\t\t}", "+\t\t\t\telse {", "+\t\t\t\t\tToolkit.getDefaultToolkit().beep();", "+\t\t\t\t\t_message.setText(\"Search text \\\"\" + _fWord + \"\\\" not found.\");", "+\t\t\t\t}", "+\t\t\t}", "+\t\t});", "+", "+\t\t_replaceButton.addActionListener(new ActionListener() {", "+\t\t\tpublic void actionPerformed(ActionEvent e) {", "+\t\t\t\t_fWord = findField.getText();", "+\t\t\t\t_rWord = replaceField.getText();", "+\t\t\t\t_message.setText(\"\");", "+", "+\t\t\t\t// replaces the occurance at the current position", "+\t\t\t\t_view.replaceText(_fWord, _rWord);", "+\t\t\t\t\t\t\t\t", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "+\t\t});", "+", "+\t\t_replaceFindButton.addActionListener(new ActionListener() {", "+\t\t\tpublic void actionPerformed(ActionEvent e) {", "+\t\t\t\t_fWord = findField.getText();", "+\t\t\t\t_rWord = replaceField.getText();", "+\t\t\t\t_message.setText(\"\");", "+", "+\t\t\t\t// replaces the occurance at the current position", "+\t\t\t\tboolean found = _view.replaceText(_fWord,", "+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_rWord);", "+\t\t\t\t// and finds the next word", "+\t\t\t\tif (found)", "+\t\t\t\t\tfound = _view.findNextText(_fWord);", "+\t\t\t\tif (found) {", "+\t\t\t\t\t_replaceButton.setEnabled(true);", "+\t\t\t\t\t_replaceFindButton.setEnabled(true);\t\t\t\t\t\t\t\t\t\t", "+\t\t\t\t} else {", "+\t\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t\t\tToolkit.getDefaultToolkit().beep();", "+\t\t\t\t\t_message.setText(\"Search text \\\"\" + _fWord + \"\\\" not found.\");", "+\t\t\t\t}", "+\t\t\t}", "+\t\t});", "+", "+\t\t_replaceAllButton.addActionListener(new ActionListener() {", "+\t\t\tpublic void actionPerformed(ActionEvent e) {", "+\t\t\t\t_fWord = findField.getText();", "+\t\t\t\t_rWord = replaceField.getText();", "+\t\t\t\t_message.setText(\"\");", "+", "+\t\t\t\tint count = _view.replaceAllText(_fWord, _rWord);", "+", "+\t\t\t\t_message.setText(\"Replaced \" + count + \" occurrence\" +", "+\t\t\t\t\t\t\t\t\t\t\t\t ((count == 1)?\"\":\"s\") + \".\");", "+\t\t\t\t_replaceButton.setEnabled(false);", "+\t\t\t\t_replaceFindButton.setEnabled(false);", "+\t\t\t}", "+\t\t});", "+", "+\t\t_closeButton.addActionListener(new ActionListener() {", "+\t\t\tpublic void actionPerformed(ActionEvent e) {", "+\t\t\t\tsetVisible(false);", "+\t\t\t}", "+\t\t});", "-\t\t\t\tsetBounds(100, 200, 500, 300);", "-\t\t\t\tsetSize(500, 300);", "-\t\t\t\tsetVisible(true);", "-\t\t}", "+\t\tsetBounds(100, 200, 520, 300);", "+\t\tsetSize(520, 300);", "+\t\tsetVisible(true);", "+\t}"]}], "num": 19171}