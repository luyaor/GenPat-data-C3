{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "387d9281698c33a47bc92b3f1f2962e8", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "886ecc5e81b1bff51f889a11d43f6c03", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/ExternalProcessPanel.java", "commitBeforeChange": "7fd25882874ad9a06ac74fda13ef9cc77e52813e", "commitAfterChange": "028b13db63615f9cda7227ddd738bbfc3e1c04ec", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 25, "signatureBeforeChange": "   protected void readText(final boolean finish)", "signatureAfterChange": "   protected void readText(final boolean finish)", "diff": ["-        if (_is==null) { _sb.append(\"\\nInput stream suddenly became null.\"); }", "-        if (_erris==null) { _sb.append(\"\\nError input stream suddenly became null.\"); }", "+        if ((_p!=null) && (_is==null)) {", "+          try {", "+            // try to get exitValue() to see if process has terminated; exit value is not otherwise important", "+            int ignored = _p.exitValue();", "+            // if no exception is thrown, then the process has finished, and the stream may be null", "+          }", "+          catch(IllegalThreadStateException e) {", "+            // process has NOT finished yet, but the stream is null; this is a problem", "+            _sb.append(\"\\nInput stream suddenly became null.\");", "+          }", "+        }", "+        if ((_p!=null) && (_erris==null)) { ", "+          try {", "+            // try to get exitValue() to see if process has terminated; exit value is not otherwise important", "+            int ignored = _p.exitValue();", "+            // if no exception is thrown, then the process has finished, and the stream may be null", "+          }", "+          catch(IllegalThreadStateException e) {", "+            // process has NOT finished yet, but the stream is null; this is a problem", "+            _sb.append(\"\\nError input stream suddenly became null.\");", "+          }", "+        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f158ac8a519d7b897cedb690b41c8ddd", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/ExternalProcessPanel.java", "commitBeforeChange": "b68b258fee7c24e8a8c68fc2e7d3d99ccd585753", "commitAfterChange": "ec06880aa408b928b2f252538b208a76154d8334", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 19, "signatureBeforeChange": "   protected void updateButtons()", "signatureAfterChange": "   protected void updateButtons()", "diff": ["-    _abortButton.setEnabled((_is!=null) || (_erris!=null));", "-    _updateNowButton.setEnabled((_is!=null) || (_erris!=null));", "-    _runAgainButton.setEnabled((_is==null) || (_erris==null));", "+    boolean ended = true;", "+    if (_p!=null) {", "+      try {", "+        // try to get exitValue() to see if process has terminated; exit value is not otherwise important", "+        int ignored = _p.exitValue();", "+        // if no exception is thrown, then the process has finished", "+        ended = true;", "+      }", "+      catch(IllegalThreadStateException e) {", "+        // process has NOT finished yet", "+        ended = false;", "+      }", "+    }", "+    _abortButton.setEnabled((_is!=null) && (_erris!=null) && (!ended));", "+    _updateNowButton.setEnabled((_is!=null) && (_erris!=null) && (!ended));", "+    _runAgainButton.setEnabled((_is==null) || (_erris==null) || (ended));"]}], "num": 18731}