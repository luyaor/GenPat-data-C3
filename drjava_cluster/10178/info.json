{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "79c56e34a2988c37fcc36a7f9ecb925f", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0e7ffd370bec8347b09ba93922826e7a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/DebugPanel.java", "commitBeforeChange": "b91661a64fee7b8cdd1ac1251ccb6b9269f4f733", "commitAfterChange": "223d0c96bf01ec9cd58365db0a5f43a8cc81523f", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": "   public void highlightLine(int line)", "signatureAfterChange": "   public Object highlightLine(int line, DefaultHighlighter.DefaultHighlightPainter brush)", "diff": ["-  public void highlightLine(int line) {      ", "-      DefinitionsDocument doc = _model.getActiveDocument().getDocument();", "+  public Object highlightLine(int line, DefaultHighlighter.DefaultHighlightPainter brush) {", "+      ", "+      OpenDefinitionsDocument doc = _model.getActiveDocument();", "+      doc.syncCurrentLocationWithDefinitions(doc.getDocument().getCurrentLocation());", "-      int curPos = doc.getCurrentLocation();", "-      int startPos = doc.getLineStartPos(curPos);", "-      int endPos = doc.getLineEndPos(curPos);", "+      ", "+      int curPos = doc.getDocument().getCurrentLocation();", "+      int startPos = doc.getDocument().getLineStartPos(curPos);", "+      int endPos = doc.getDocument().getLineEndPos(curPos);", "+      Object o=null;      ", "-\t  _frame.getCurrentDefPane().getHighlighter().addHighlight(startPos,", "-\t\t\t\t    endPos,", "-\t\t\t\t    _breakpointHighlightPainter);", "-      } catch (BadLocationException badBadLocation) {}", "-  }    ", "+  \t  o = _frame.getCurrentDefPane().getHighlighter().addHighlight(startPos,", "+\t\t\t\t\t\t\t\t       endPos,", "+\t\t\t\t\t\t\t\t       brush);", "+      } catch (BadLocationException badBadLocation) { System.err.println(\"DebugPanel.highlightLine() Got a ble.\"); }", "+      return o;", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "93b78b29b04a31c052e283954579b352", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/DrJava.java", "commitBeforeChange": "1a20ac05e52f9ee0a88d470513f2a7fe1aa1939e", "commitAfterChange": "d0895d1ac641d5855832b6d42c1c1052f9c47c9f", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 19, "signatureBeforeChange": "   static void setupCompilerIfNeeded()", "signatureAfterChange": "   public static boolean promptForToolsJar(boolean needCompiler,                                           boolean needDebugger)", "diff": ["-  static void setupCompilerIfNeeded() {", "-    if (CompilerRegistry.ONLY.isNoCompilerAvailable()) {", "-      // no compiler available; let's try to let the user pick one.", "-        \"DrJava can not find any Java compiler. Would you \",", "-        \"like to configure the location of the compiler? \",", "-        \"The compiler is generally located in 'tools.jar', \",", "-        \"in the 'lib' subdirectory under your JDK \",", "-        \"installation directory. (If you say 'No', DrJava \",", "-        \"will be unable to compile programs.)\"", "-      ", "-      int result = JOptionPane.showConfirmDialog(null,", "-                                                 text,", "-                                                 \"Compiler not found\",", "-      ", "-      if (result == JOptionPane.YES_OPTION) {", "-        JFileChooser chooser = new JFileChooser();", "-        ", "-        do {", "-          if (chooser.showOpenDialog(null) == JFileChooser.APPROVE_OPTION) {", "-            File jar = chooser.getSelectedFile();", "-            ", "-            // set the javac property", "-            getConfig().setSetting(JAVAC_LOCATION,", "-                              jar);//.getAbsolutePath());", "-            ", "-            // need to re-call getAvailable for it to re-check availability", "-            CompilerInterface[] compilers", "-              = CompilerRegistry.ONLY.getAvailableCompilers();", "-            ", "-            if (compilers[0] != NoCompilerAvailable.ONLY) {", "-              CompilerRegistry.ONLY.setActiveCompiler(compilers[0]);", "-              try {", "-                getConfig().saveConfiguration();", "-              } catch(IOException e) {", "-                // for now, do nothing", "-              }", "-            }", "-          }", "-        }", "-        while (CompilerRegistry.ONLY.isNoCompilerAvailable() &&", "-               _userWantsToPickAgain());", "+   */", "+  public static boolean promptForToolsJar(boolean needCompiler,", "+                                          boolean needDebugger) {", "+    boolean restartRequired = false;", "+      \"DrJava cannot find the Java SDK's 'tools.jar' file. \",", "+      \"This file is necessary to compile files and use the \",", "+      \"debugger.  It is generally located in the 'lib' \",", "+      \"subdirectory of your Java installation directory. \",", "+      \"Would you like to specify its location? \",", "+      \"(If you say 'No', DrJava might be unable to compile \",", "+      \"or debug programs.)\"", "+                                               \"Locate 'tools.jar'?\",", "+                                               JOptionPane.YES_NO_OPTION);", "+    ", "+    if (result == JOptionPane.YES_OPTION) {", "+      JFileChooser chooser = new JFileChooser();", "+      // TO DO: add a file filter", "+      ", "+      // Loop until we find a good tools.jar or the user gives up", "+      do {", "+        if (chooser.showOpenDialog(null) == JFileChooser.APPROVE_OPTION) {", "+          File jar = chooser.getSelectedFile();", "+          ", "+          if (jar != null) {", "+            // set the tools.jar property", "+            getConfig().setSetting(JAVAC_LOCATION, jar);", "+            ", "+            // Adjust if we needed a compiler", "+            if (needCompiler) {", "+              // need to re-call getAvailable for it to re-check availability", "+              CompilerInterface[] compilers", "+                = CompilerRegistry.ONLY.getAvailableCompilers();", "+              ", "+              if (compilers[0] != NoCompilerAvailable.ONLY) {", "+                needCompiler = false;", "+                CompilerRegistry.ONLY.setActiveCompiler(compilers[0]);", "+                _saveConfig();", "+              }", "+            }", "+            ", "+            // Adjust if we need a debugger", "+            if (needDebugger) {", "+              if (classLoadersCanFindDebugger()) {", "+                needDebugger = false;", "+                restartRequired = true;", "+                _saveConfig();", "+              }", "+            }", "+          }", "+        }", "+      }", "+      while ((needCompiler || needDebugger) && _userWantsToPickAgain());", "+    }", "+    ", "+    return restartRequired;", "+  }"]}], "num": 10178}