{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "251c2e93ab063f258eb7e06b4ce42f4c", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8a952f5c4bd7e11aedbe0d6a0b3b5b4f", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "5122b57870a06ce192633fae172ea410d4b7581b", "commitAfterChange": "8cb074150c1494bfc3b263a6dfa5f3cba6209da2", "methodNumberBeforeChange": 31, "methodNumberAfterChange": 36, "signatureBeforeChange": "   private void _open()", "signatureAfterChange": "    private void _open()", "diff": ["-  // Set up for single document interface...", "+", "-    final OpenDefinitionsDocument oldDoc = _definitionsDocuments[0];", "+    // Close an untitled, unchanged document if it is the only one open", "+    boolean closeUntitled = _hasOneUnchangedDoc();", "+    OpenDefinitionsDocument oldDoc = _currentDefPane.getOpenDocument();", "+", "-      // Check if old file needs to be saved (single doc interface)", "-      if (oldDoc.isModifiedSinceSave() && !oldDoc.canAbandonFile()) {", "-        throw new OperationCanceledException();", "-      }", "-      _model.closeFile(oldDoc);", "+      if (closeUntitled) {", "+        _model.closeFile(oldDoc);", "+      }", "+    }", "+    catch (AlreadyOpenException aoe) {", "+      // Switch to existing copy", "+      OpenDefinitionsDocument openDoc = aoe.getOpenDocument();", "+      _docList.setSelectedValue(openDoc, true);", "-      // Make sure we still have one doc open", "-      if (_model.getDefinitionsDocuments().length == 0) {", "-        _model.newFile();", "-      }", "+      // Ok, don't open a file", "-    _definitionsDocuments = _model.getDefinitionsDocuments();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d51b1b0f6a1bc907c913a6537a76bc60", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "33b6c491d8495d13fb85f49f30d50967be376e1a", "commitAfterChange": "467c198d452cebe1711bbb01564c8c41d79d636a", "methodNumberBeforeChange": 30, "methodNumberAfterChange": 31, "signatureBeforeChange": "         private void _open()", "signatureAfterChange": "   private void _open()", "diff": ["-  ", "+  // Set up for single document interface...", "+    final OpenDefinitionsDocument oldDoc = _definitionsDocuments[0];", "+      // Check if old file needs to be saved (single doc interface)", "+      if (oldDoc.isModifiedSinceSave() && !oldDoc.canAbandonFile()) {", "+        throw new OperationCanceledException();", "+      }", "+      _model.closeFile(oldDoc);", "+    }", "+    catch (OperationCanceledException oce) {", "+      // Make sure we still have one doc open", "+      if (_model.getDefinitionsDocuments().length == 0) {", "+        _model.newFile();", "+      }", "+    _definitionsDocuments = _model.getDefinitionsDocuments();"]}], "num": 9678}