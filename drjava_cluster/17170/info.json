{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8275170e4bb4345ce8b1ba248e57a2aa", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5e55f60d5442b5c7a57d247d0c7404d5", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractGlobalModel.java", "commitBeforeChange": "99105223925683ee669479026ce3b62dfa0eda84", "commitAfterChange": "94ede5fc3e289a571a76fcd6a91c26510fe57b12", "methodNumberBeforeChange": 369, "methodNumberAfterChange": 372, "signatureBeforeChange": "   public String fixPathForNavigator(String path) throws IOException", "signatureAfterChange": "   public String fixPathForNavigator(String path) throws IOException", "diff": ["-   * File.separator. */", "+   * File.separator. TODO: convert this method to take a File argument. */", "-    path = path.substring(0, path.lastIndexOf(File.separator));", "-    String _topLevelPath;", "-    if (getProjectFile() != null) {", "-      _topLevelPath = getProjectFile().getCanonicalPath();", "-      _topLevelPath = _topLevelPath.substring(0, _topLevelPath.lastIndexOf(File.separator));;", "-    }", "-    else _topLevelPath = \"\";", "+    String parent = path.substring(0, path.lastIndexOf(File.separator));", "+    String topLevelPath;", "+    String rootPath = getProjectRoot().getCanonicalPath();", "-    if (!path.equals(_topLevelPath) && !path.startsWith(_topLevelPath + File.separator))", "-      /** it's in external files, so don't give it a path */", "+    if (! parent.equals(rootPath) && ! parent.startsWith(rootPath + File.separator))", "+      /** it's an external file, so don't give it a path */", "-    else {", "-      path = path.substring(_topLevelPath.length());", "-      return path;", "-    }", "+    else ", "+      return parent.substring(rootPath.length());"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ecf0b303fe18d7866b5531041f9d8b1a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/DefaultGlobalModel.java", "commitBeforeChange": "e64e0f2febfc163cfb04eb35ce1134673166ab50", "commitAfterChange": "71b4e72a1b4feef5a2621bd09e829e0108d8d893", "methodNumberBeforeChange": 314, "methodNumberAfterChange": 317, "signatureBeforeChange": "        public String fixPathForNavigator(String path) throws IOException", "signatureAfterChange": "      public String fixPathForNavigator(String path) throws IOException", "diff": ["+  ", "+  public String fixPathForNavigator(String path) throws IOException {", "+    path = path.substring(0, path.lastIndexOf(File.separator));", "+    String _topLevelPath;", "+    if (getProjectFile() != null){", "+      _topLevelPath = getProjectFile().getCanonicalPath();", "+      _topLevelPath = _topLevelPath.substring(0, _topLevelPath.lastIndexOf(File.separator));;", "+    }", "+    else _topLevelPath = \"\";", "-  public String fixPathForNavigator(String path) throws IOException{", "-      path = path.substring(0, path.lastIndexOf(File.separator));", "-      String _topLevelPath;", "-      if(getProjectFile() != null){", "-        _topLevelPath = getProjectFile().getCanonicalPath();", "-        _topLevelPath = _topLevelPath.substring(0, _topLevelPath.lastIndexOf(File.separator));;", "-      }else{", "-        _topLevelPath = \"\";", "-      }", "-     ", "-      if (!path.equals(_topLevelPath) && !path.startsWith(_topLevelPath + File.separator) ){", "-        /** it's in external files, so don't give it a path */", "-        return \"\";", "-      }else{", "-        path = path.substring(_topLevelPath.length());", "-        return path;", "-      }", "+    if (!path.equals(_topLevelPath) && !path.startsWith(_topLevelPath + File.separator))", "+      /** it's in external files, so don't give it a path */", "+      return \"\";", "+    else {", "+      path = path.substring(_topLevelPath.length());", "+      return path;", "+    }"]}], "num": 17170}