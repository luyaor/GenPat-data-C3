{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f034bb3f30f8e7fedeb8ec5692031834", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2dcb7900d28cd732fbdad6f2834f3a78", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "d1a5d27cb22a5cf8891a6811cdc476b60834d1c0", "commitAfterChange": "eb9337b4d6e2d2de4c1774413f08dfb947ae389c", "methodNumberBeforeChange": 361, "methodNumberAfterChange": 361, "signatureBeforeChange": "     public void fileClosed(final OpenDefinitionsDocument doc)", "signatureAfterChange": "     public void fileClosed(final OpenDefinitionsDocument doc)", "diff": ["-     */", "+    /** NOTE: Makes certain that this action occurs in the event dispatching thread */", "-      if ( !SwingUtilities.isEventDispatchThread() && !inDebugMode() ) {", "-        // Can't invokeAndWait while in debug mode:", "-        //  UI thread might not respond, so DrJava locks up", "-        try {", "-          Runnable command = new Runnable() {", "-            public void run(){", "-              _fileClosed(doc);", "-//              System.out.println(\"gui closed file 1\");", "-            }", "-          };", "-          SwingUtilities.invokeAndWait(command);", "-        }", "-        catch(InterruptedException ex) {", "-          /** we don't expect to be interrupted */", "-          throw new UnexpectedException(ex);", "-        }", "-        catch(InvocationTargetException ex2) {", "-          /** we don't expect _fileOpened() to throw any exceptions */", "-          throw new UnexpectedException(ex2);", "-        }", "-      }", "-      else {", "-        _fileClosed(doc);", "-//        System.out.println(\"gui closed file 2\");", "-      }", "-      if(doc != null) {", "-        try {", "-          File f = doc.getFile();", "-          if(_model.isProjectFile(f) || doc.isAuxiliaryFile()) {", "-            _model.setProjectChanged(true);", "-          }", "-        }", "-        catch(FileMovedException fme) {", "-          //do nothing", "-        }", "-        catch(IllegalStateException ise) {", "-          //thrown if the document does not yet have a file", "-        }", "-      }", "+      Runnable command = new Runnable() {", "+        public void run() { _fileClosed(doc); }", "+      };", "+      ", "+      // Must run this command in event thread ", "+      Utilities.invokeLater(command);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fab5c963e0639ebe4b1b094d66df8b62", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "d1a5d27cb22a5cf8891a6811cdc476b60834d1c0", "commitAfterChange": "eb9337b4d6e2d2de4c1774413f08dfb947ae389c", "methodNumberBeforeChange": 358, "methodNumberAfterChange": 358, "signatureBeforeChange": "     public void fileOpened(final OpenDefinitionsDocument doc)", "signatureAfterChange": "     public void fileOpened(final OpenDefinitionsDocument doc)", "diff": ["-      if ( !SwingUtilities.isEventDispatchThread() && !inDebugMode() ) {", "-        // Can't invokeAndWait while in debug mode:", "-        //  UI thread might not respond, so DrJava locks up", "-        try {", "-          Runnable command = new Runnable() {", "-            public void run() { _fileOpened(doc); }", "-          };", "-          SwingUtilities.invokeAndWait(command);", "-        }", "-        catch(InterruptedException ex) { throw new UnexpectedException(ex); }", "-        catch(InvocationTargetException ex2) { throw new UnexpectedException(ex2); }", "-      }", "-      else _fileOpened(doc);", "-      try {", "-        File f = doc.getFile();", "-        if (! _model.isProjectFile(f) && _model.isInProjectPath(doc))", "-          _model.setProjectChanged(true);", "-      }", "-      catch(FileMovedException fme) { /* do nothing */ }", "+      Runnable command = new Runnable() {", "+        public void run() { _fileOpened(doc); }", "+      };", "+      Utilities.invokeLater(command);   "]}], "num": 15389}