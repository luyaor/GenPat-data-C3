{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "274e07d03ee2c70463127adbbe8de977", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "20272371a0cfbe3942b22eb69f08219f", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/AbstractInteractionsDocument.java", "commitBeforeChange": "828da1589ecf80d1be67fffa7a1ab51335a3ab2f", "commitAfterChange": "faaa7b3cbc2c17378fdf27d2e0d53e3491783d3d", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 11, "signatureBeforeChange": "   public void insertBeforeLastPrompt(String s, AttributeSet a)", "signatureAfterChange": "   public void insertBeforeLastPrompt(String text, String style)", "diff": ["-  public void insertBeforeLastPrompt(String s, AttributeSet a) {", "+  public void insertBeforeLastPrompt(String text, String style) {", "-        pos = getLength();", "+        pos = getDocLength();", "-      _promptPos += s.length();", "-      super.insertString(pos, s, a);", "+      _promptPos += text.length();", "+      _document.forceInsertText(pos, text, style);", "-    catch (BadLocationException ble) {", "+    catch (DocumentAdapterException ble) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9f38cc474eea366cc8bfd857ce965c37", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/InteractionsController.java", "commitBeforeChange": "f758aacbc5e404bb5b48be8d2800987cd77d8e79", "commitAfterChange": "84e7921bd32edcfceaf3be1ebd8104fc4d274516", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "     public void insertUpdate(DocumentEvent e)", "signatureAfterChange": "     public void insertUpdate(DocumentEvent e)", "diff": ["-      int prevPromptPos = promptPos - e.getLength();", "+      ", "+      // Figure out where the prompt was before the update", "+      int prevPromptPos = promptPos;", "+      if (e.getOffset() < promptPos) {", "+        // Insert happened before prompt,", "+        //  so previous position was further back", "+        prevPromptPos = promptPos - e.getLength();", "+      }", "-          moveTo(caretPos + e.getLength());", "+          int size = promptPos - prevPromptPos;", "+          if (size > 0) {", "+            moveTo(caretPos + size);", "+          }"]}], "num": 29141}