{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f9058aa391c6bc42eae79303a4f310fb", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6ab7f114b90e4c1018fe61aa8a6a3c03", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "df2b79c4755a48b6d68cea0053ee5b504fa8b5d0", "commitAfterChange": "a33dd9cdb6eaad3925dbd0230d8fd4013b8f8126", "methodNumberBeforeChange": 136, "methodNumberAfterChange": 134, "signatureBeforeChange": "   void initCompleteWordDialog()", "signatureAfterChange": "   void initCompleteWordDialog()", "diff": ["-            List<GoToFileListEntry> l = _completeWordDialog.getList();", "+            List<ClassNameAndPackageEntry> l = _completeWordDialog.getList();", "-            List<GoToFileListEntry> l = _completeWordDialog.getList();", "-            List<GoToFileListEntry> n = new ArrayList<GoToFileListEntry>();", "-            for(GoToFileListEntry entry: l) {", "-              if (!(entry instanceof NoDocumentFileListEntry)) { n.add(entry); }", "+            List<ClassNameAndPackageEntry> l = _completeWordDialog.getList();", "+            generateJavaAPIList();", "+            if (_javaAPIList==null) {", "+              DrJava.getConfig().setSetting(OptionConstants.DIALOG_COMPLETE_JAVAAPI, Boolean.FALSE);", "+              _completeJavaAPICheckbox.setSelected(false);", "+              _completeJavaAPICheckbox.setEnabled(false);", "+              List<ClassNameAndPackageEntry> n = new ArrayList<ClassNameAndPackageEntry>();", "+              for(ClassNameAndPackageEntry entry: l) {", "+                if (!(entry instanceof JavaAPIListEntry)) { n.add(entry); }", "+              }", "+              _completeWordDialog.setItems(true,n);", "-            _completeWordDialog.setItems(true,n);", "+            else {", "+              for(JavaAPIListEntry entry: _javaAPIList) { l.remove(entry); }", "+              _completeWordDialog.setItems(true,l);", "+            }", "-      PredictiveInputFrame.InfoSupplier<GoToFileListEntry> info = ", "-        new PredictiveInputFrame.InfoSupplier<GoToFileListEntry>() {", "-        public String apply(GoToFileListEntry entry) {", "+      PredictiveInputFrame.InfoSupplier<ClassNameAndPackageEntry> info = ", "+        new PredictiveInputFrame.InfoSupplier<ClassNameAndPackageEntry>() {", "+        public String apply(ClassNameAndPackageEntry entry) {", "-          sb.append(entry.toString());", "+          sb.append(entry.getClassName());", "-      PredictiveInputFrame.CloseAction<GoToFileListEntry> okAction = new PredictiveInputFrame.CloseAction<GoToFileListEntry>() {", "+      PredictiveInputFrame.CloseAction<ClassNameAndPackageEntry> okAction =", "+        new PredictiveInputFrame.CloseAction<ClassNameAndPackageEntry>() {", "-        public Object apply(PredictiveInputFrame<GoToFileListEntry> p) {", "+        public Object apply(PredictiveInputFrame<ClassNameAndPackageEntry> p) {", "-                odd.insertString(start, p.getItem().toString(), null);", "+                odd.insertString(start, p.getItem().getClassName(), null);", "-      PredictiveInputFrame.CloseAction<GoToFileListEntry> fullAction = new PredictiveInputFrame.CloseAction<GoToFileListEntry>() {", "+      PredictiveInputFrame.CloseAction<ClassNameAndPackageEntry> fullAction =", "+        new PredictiveInputFrame.CloseAction<ClassNameAndPackageEntry>() {", "-        public Object apply(PredictiveInputFrame<GoToFileListEntry> p) {", "+        public Object apply(PredictiveInputFrame<ClassNameAndPackageEntry> p) {", "-                sb.append(p.getItem().toString());", "+                sb.append(p.getItem().getClassName());", "-      PredictiveInputFrame.CloseAction<GoToFileListEntry> cancelAction = ", "-        new PredictiveInputFrame.CloseAction<GoToFileListEntry>() {", "+      PredictiveInputFrame.CloseAction<ClassNameAndPackageEntry> cancelAction = ", "+        new PredictiveInputFrame.CloseAction<ClassNameAndPackageEntry>() {", "-        public Object apply(PredictiveInputFrame<GoToFileListEntry> p) {", "+        public Object apply(PredictiveInputFrame<ClassNameAndPackageEntry> p) {", "-      java.util.ArrayList<PredictiveInputModel.MatchingStrategy<GoToFileListEntry>> strategies =", "-        new java.util.ArrayList<PredictiveInputModel.MatchingStrategy<GoToFileListEntry>>();", "-      strategies.add(new PredictiveInputModel.FragmentStrategy<GoToFileListEntry>());", "-      strategies.add(new PredictiveInputModel.PrefixStrategy<GoToFileListEntry>());", "-      strategies.add(new PredictiveInputModel.RegExStrategy<GoToFileListEntry>());", "-      List<PredictiveInputFrame.CloseAction<GoToFileListEntry>> actions", "-        = new ArrayList<PredictiveInputFrame.CloseAction<GoToFileListEntry>>();", "+      java.util.ArrayList<PredictiveInputModel.MatchingStrategy<ClassNameAndPackageEntry>> strategies =", "+        new java.util.ArrayList<PredictiveInputModel.MatchingStrategy<ClassNameAndPackageEntry>>();", "+      strategies.add(new PredictiveInputModel.FragmentStrategy<ClassNameAndPackageEntry>());", "+      strategies.add(new PredictiveInputModel.PrefixStrategy<ClassNameAndPackageEntry>());", "+      strategies.add(new PredictiveInputModel.RegExStrategy<ClassNameAndPackageEntry>());", "+      List<PredictiveInputFrame.CloseAction<ClassNameAndPackageEntry>> actions", "+        = new ArrayList<PredictiveInputFrame.CloseAction<ClassNameAndPackageEntry>>();", "-        new PredictiveInputFrame<GoToFileListEntry>(MainFrame.this,", "-                                                    \"Auto-Complete Word\",", "-                                                    true, // force", "-                                                    true, // ignore case", "-                                                    info,", "-                                                    strategies,", "-                                                    actions,", "-                                                    new GoToFileListEntry(null, \"dummy\")) {", "+        new PredictiveInputFrame<ClassNameAndPackageEntry>(MainFrame.this,", "+                                                           \"Auto-Complete Word\",", "+                                                           true, // force", "+                                                           true, // ignore case", "+                                                           info,", "+                                                           strategies,", "+                                                           actions,", "+                                                           new GoToFileListEntry(new DummyOpenDefDoc() {", "+        public String getPackageNameFromDocument() { return \"\"; }", "+      }, \"dummyComplete\")) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c999e6739b6854831e204c2246cf1daa", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/AutoCompletePopup.java", "commitBeforeChange": "39a73399844d4efd2d2ebe97954e53d44db0a9b6", "commitAfterChange": "3144efa2bdaef7eb118336f3bc431cce43bf0ac2", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 11, "signatureBeforeChange": "      PredictiveInputFrame<ClassNameAndPackageEntry>     createCompleteWordDialog(final String title,                              final int start,                              final int loc,                              final SizedIterable<String> actionNames,                              final SizedIterable<KeyStroke> actionKeyStrokes,                              final Runnable canceledAction,                              final SizedIterable<Runnable4<String,String,Integer,Integer>> acceptedActions)", "signatureAfterChange": "      protected PredictiveInputFrame<AutoCompletePopupEntry>     createCompleteWordDialog(final String title,                              final int start,                              final int loc,                              final SizedIterable<String> actionNames,                              final SizedIterable<KeyStroke> actionKeyStrokes,                              final Runnable canceledAction,                              final SizedIterable<Runnable3<AutoCompletePopupEntry,Integer,Integer>> acceptedActions)", "diff": ["-  PredictiveInputFrame<ClassNameAndPackageEntry>", "+  ", "+  protected PredictiveInputFrame<AutoCompletePopupEntry>", "-                             final SizedIterable<Runnable4<String,String,Integer,Integer>> acceptedActions) {", "-    final SimpleBox<PredictiveInputFrame<ClassNameAndPackageEntry>> dialogThunk =", "-      new SimpleBox<PredictiveInputFrame<ClassNameAndPackageEntry>>();", "+                             final SizedIterable<Runnable3<AutoCompletePopupEntry,Integer,Integer>> acceptedActions) {", "+    final SimpleBox<PredictiveInputFrame<AutoCompletePopupEntry>> dialogThunk =", "+      new SimpleBox<PredictiveInputFrame<AutoCompletePopupEntry>>();", "-        Set<ClassNameAndPackageEntry> s = new HashSet<ClassNameAndPackageEntry>(dialogThunk.value().getItems());", "-        if (_completeJavaAPICheckbox.isSelected()) {", "-          DrJava.getConfig().setSetting(OptionConstants.DIALOG_COMPLETE_JAVAAPI, Boolean.TRUE);", "-          addJavaAPIToSet(s);", "-          dialogThunk.value().setItems(true,s);", "-        }", "-        else {", "-          // unselected, remove Java API classes from list", "-          DrJava.getConfig().setSetting(OptionConstants.DIALOG_COMPLETE_JAVAAPI, Boolean.FALSE);", "-          removeJavaAPIFromSet(s);", "-          dialogThunk.value().setItems(true,s);", "-        }", "+        DrJava.getConfig().setSetting(OptionConstants.DIALOG_COMPLETE_JAVAAPI, _completeJavaAPICheckbox.isSelected());", "+        if (_completeJavaAPICheckbox.isSelected()) addJavaAPI(); else removeJavaAPI();", "+        dialogThunk.value().setItems(true,_allEntries);", "-    PredictiveInputFrame.InfoSupplier<ClassNameAndPackageEntry> info = ", "-      new PredictiveInputFrame.InfoSupplier<ClassNameAndPackageEntry>() {", "-      public String value(ClassNameAndPackageEntry entry) {", "+    PredictiveInputFrame.InfoSupplier<AutoCompletePopupEntry> info = ", "+      new PredictiveInputFrame.InfoSupplier<AutoCompletePopupEntry>() {", "+      public String value(AutoCompletePopupEntry entry) {", "-    List<PredictiveInputFrame.CloseAction<ClassNameAndPackageEntry>> actions", "-      = new ArrayList<PredictiveInputFrame.CloseAction<ClassNameAndPackageEntry>>();", "+    List<PredictiveInputFrame.CloseAction<AutoCompletePopupEntry>> actions", "+      = new ArrayList<PredictiveInputFrame.CloseAction<AutoCompletePopupEntry>>();", "-    Iterator<Runnable4<String,String,Integer,Integer>> actionIt =", "+    Iterator<Runnable3<AutoCompletePopupEntry,Integer,Integer>> actionIt =", "-      final Runnable4<String,String,Integer,Integer> runnable = actionIt.next();", "+      final Runnable3<AutoCompletePopupEntry,Integer,Integer> runnable = actionIt.next();", "-      PredictiveInputFrame.CloseAction<ClassNameAndPackageEntry> okAction =", "-        new PredictiveInputFrame.CloseAction<ClassNameAndPackageEntry>() {", "+      PredictiveInputFrame.CloseAction<AutoCompletePopupEntry> okAction =", "+        new PredictiveInputFrame.CloseAction<AutoCompletePopupEntry>() {", "-        public Object value(final PredictiveInputFrame<ClassNameAndPackageEntry> p) {", "+        public Object value(final PredictiveInputFrame<AutoCompletePopupEntry> p) {", "+          _lastState = p.getFrameState();", "-                runnable.run(p.getItem().getClassName(),", "-                             p.getItem().getFullPackage()+p.getItem().getClassName(),", "-                             start, loc);", "+                runnable.run(p.getItem(), start, loc);", "-    PredictiveInputFrame.CloseAction<ClassNameAndPackageEntry> cancelAction = ", "-      new PredictiveInputFrame.CloseAction<ClassNameAndPackageEntry>() {", "+    PredictiveInputFrame.CloseAction<AutoCompletePopupEntry> cancelAction = ", "+      new PredictiveInputFrame.CloseAction<AutoCompletePopupEntry>() {", "-      public Object value(PredictiveInputFrame<ClassNameAndPackageEntry> p) {", "+      public Object value(PredictiveInputFrame<AutoCompletePopupEntry> p) {", "+        _lastState = p.getFrameState();", "-    java.util.ArrayList<MatchingStrategy<ClassNameAndPackageEntry>> strategies =", "-      new java.util.ArrayList<MatchingStrategy<ClassNameAndPackageEntry>>();", "-    strategies.add(new FragmentStrategy<ClassNameAndPackageEntry>());", "-    strategies.add(new PrefixStrategy<ClassNameAndPackageEntry>());", "-    strategies.add(new RegExStrategy<ClassNameAndPackageEntry>());", "+    java.util.ArrayList<MatchingStrategy<AutoCompletePopupEntry>> strategies =", "+      new java.util.ArrayList<MatchingStrategy<AutoCompletePopupEntry>>();", "+    strategies.add(new FragmentStrategy<AutoCompletePopupEntry>());", "+    strategies.add(new PrefixStrategy<AutoCompletePopupEntry>());", "+    strategies.add(new RegExStrategy<AutoCompletePopupEntry>());", "-    dialogThunk.set(new PredictiveInputFrame<ClassNameAndPackageEntry>(null,", "-                                                                       title,", "-                                                                       true, // force", "-                                                                       true, // ignore case", "-                                                                       info,", "-                                                                       strategies,", "-                                                                       actions,", "-                                                                       actions.size()-1, // cancel is last", "-                                                                       entry) {", "+    dialogThunk.set(new PredictiveInputFrame<AutoCompletePopupEntry>(null,", "+                                                                     title,", "+                                                                     true, // force", "+                                                                     true, // ignore case", "+                                                                     info,", "+                                                                     strategies,", "+                                                                     actions,", "+                                                                     actions.size()-1, // cancel is last", "+                                                                     entry) {"]}], "num": 29409}