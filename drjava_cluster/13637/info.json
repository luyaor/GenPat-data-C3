{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d9d48715522dcd7fb5fcb946ac066e5e", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "da15467f22bd998fd65842caab03e38f", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/indent/QuestionBraceIsParenOrBracket.java", "commitBeforeChange": "1824c23d7190107a20690dc4a2840a5d74f14a93", "commitAfterChange": "3b64166f1d62b17dc65eb373f58379c1d93452e7", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "   boolean applyRule(AbstractDJDocument doc, Indenter.IndentReason reason)", "signatureAfterChange": "   protected boolean applyRule(AbstractDJDocument doc, Indenter.IndentReason reason)", "diff": ["-  boolean applyRule(AbstractDJDocument doc, Indenter.IndentReason reason) {", "+  protected boolean applyRule(AbstractDJDocument doc, Indenter.IndentReason reason) {", "-", "-    IndentInfo info = doc.getIndentInformation();", "-", "-    // We are using fields on IndentInfo which look at the start of the line, not the current position!", "-", "-    return info.lineEnclosingBraceType().equals(IndentInfo.OPEN_PAREN) || ", "-      info.lineEnclosingBraceType().equals(IndentInfo.OPEN_BRACKET); ", "+    ", "+//    IndentInfo info = doc.getIndentInformation();", "+//", "+//    // We are using fields on IndentInfo which look at the start of the line, not the current position!", "+//", "+//    return info.lineEnclosingBraceType().equals(IndentInfo.OPEN_PAREN) || ", "+//      info.lineEnclosingBraceType().equals(IndentInfo.OPEN_BRACKET); ", "+    ", "+    BraceInfo info = doc.getLineEnclosingBrace();", "+    String braceType = info.braceType();", "+    return braceType.equals(BraceInfo.OPEN_PAREN) || braceType.equals(BraceInfo.OPEN_BRACKET); "]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dfb60ecbeb9961eb711eae8dd4b9dc73", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/indent/QuestionStartAfterOpenBrace.java", "commitBeforeChange": "6c31f49b491d4a01bd2ddbae62b5ee4f76d52129", "commitAfterChange": "b17c3d3d0edf27a5d35f38839287840198b5808d", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "   boolean applyRule(AbstractDJDocument doc, Indenter.IndentReason reason)", "signatureAfterChange": "   boolean applyRule(AbstractDJDocument doc, Indenter.IndentReason reason)", "diff": ["-    doc.move(lineStart - origin);", "-    IndentInfo info = doc.getIndentInformation();", "-    doc.move(origin - lineStart);    ", "+    doc.setCurrentLocation(lineStart);", "+    BraceInfo info = doc.getLineEnclosingBrace();", "+    doc.setCurrentLocation(origin);    ", "-    if (! info.lineEnclosingBraceType().equals(IndentInfo.OPEN_CURLY) || info.distToLineEnclosingBrace() < 0)", "+    if (! info.braceType().equals(BraceInfo.OPEN_CURLY) || info.distance() < 0)", "-    int bracePos = lineStart - info.distToLineEnclosingBrace();    ", "+    int bracePos = lineStart - info.distance();    "]}], "num": 13637}