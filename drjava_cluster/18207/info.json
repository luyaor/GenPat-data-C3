{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "adc5d842186b549aff8a99b2ad52a452", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1bd18afd390de3f262206d4a0a645f84", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/BrowserHistoryManager.java", "commitBeforeChange": "7abad9d4d237e1759bd098868c3fc80eb6e4365f", "commitAfterChange": "dcd05db97717868f3a1bba07cb5b1b9106d93c65", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 20, "signatureBeforeChange": "   private BrowserDocumentRegion _lower(TreeSet<BrowserDocumentRegion> regions, BrowserDocumentRegion r)", "signatureAfterChange": "   public static boolean similarRegions(BrowserDocumentRegion r1, BrowserDocumentRegion r2)", "diff": ["-    * which is null if _regions is empty. */", "-  private BrowserDocumentRegion _lower(TreeSet<BrowserDocumentRegion> regions, BrowserDocumentRegion r) {", "-    if (_regions.isEmpty()) return null;", "-    BrowserDocumentRegion least = _regions.first();", "-    SortedSet<BrowserDocumentRegion> lowerSet = regions.subSet(least, r);", "-//    Utilities.show(\"Given regions = \" + _regions + \", lowerSet = \" + lowerSet);", "-    if (lowerSet.isEmpty()) return _regions.first();", "-    return lowerSet.last();", "-  }", "+  /** Return true if the two regions are similar. */", "+  public static boolean similarRegions(BrowserDocumentRegion r1, BrowserDocumentRegion r2) {", "+    OpenDefinitionsDocument d = r1.getDocument();", "+    if (d!=r2.getDocument()) return false;", "+    int l1 = d.getLineOfOffset(r1.getStartOffset());", "+    int l2 = d.getLineOfOffset(r2.getStartOffset());", "+    return (Math.abs(l1-l2) <= DIFF_THRESHOLD);", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7f7f4260da5560d856a6a107efd50b3b", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/FindResultsPanel.java", "commitBeforeChange": "b1c7871d21e78d9b00bec5144dc21cdc37950342", "commitAfterChange": "a33beea01f3d2263a618fa7843cb52ddfdaa4ccf", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 17, "signatureBeforeChange": "   private void _remove()", "signatureAfterChange": "\r   private void _remove()", "diff": ["-  /** Remove the selected regions. */", "-  private void _remove() {", "-    _frame.removeCurrentLocationHighlight();", "-    startChanging();", "-    for (MovingDocumentRegion r: getSelectedRegions()) _regionManager.removeRegion(r);", "-    finishChanging();", "-    if (_regionManager.getDocuments().size() == 0) { _close(); }", "-    updateButtons();", "-  }", "+  /** Remove the selected regions. */\r", "+  private void _remove() {\r", "+    _frame.removeCurrentLocationHighlight();\r", "+    startChanging();\r", "+    for (MovingDocumentRegion r: getSelectedRegions()) {\r", "+      removeRegion(r); // removes r from region manager and the panel node for r from the tree model\r", "+    }\r", "+    finishChanging();\r", "+    if (_regionManager.getDocuments().size() == 0) { _close(); }\r", "+    updateButtons();\r", "+  }\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8f53d265d772afeab117e69da8f5be89", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/FindResultsPanel.java", "commitBeforeChange": "b9f87cd074abdafacdb2719b29e0803fd0f81cf0", "commitAfterChange": "04d7824a20eb03ad17793ba3198be21442313bdc", "methodNumberBeforeChange": 18, "methodNumberAfterChange": 18, "signatureBeforeChange": "\r   protected void updateButtons()", "signatureAfterChange": "   protected void _updateButtons()", "diff": ["-  /** Update button state and text. */\r", "-  protected void updateButtons() {\r", "-    ArrayList<MovingDocumentRegion> regs = getSelectedRegions();\r", "-    OpenDefinitionsDocument odd = null;\r", "-    if (_doc!=null) { odd = _doc.get(); }\r", "-    _findAgainButton.setEnabled((odd!=null) || _searchAll);\r", "-    _goToButton.setEnabled(regs.size()==1);\r", "-    _bookmarkButton.setEnabled(regs.size()>0);\r", "-    _removeButton.setEnabled(regs.size()>0);\r", "-  }\r", "+  /** Update button state and text. */", "+  protected void _updateButtons() {", "+    ArrayList<MovingDocumentRegion> regs = getSelectedRegions();", "+    OpenDefinitionsDocument odd = null;", "+    if (_doc != null) { odd = _doc.get(); }", "+    _findAgainButton.setEnabled((odd!=null) || _searchAll);", "+    _goToButton.setEnabled(regs.size()==1);", "+    _bookmarkButton.setEnabled(regs.size()>0);", "+    _removeButton.setEnabled(regs.size()>0);", "+  }"]}], "num": 18207}