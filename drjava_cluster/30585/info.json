{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "8bf0cf2eb3eb5e612a6667dad4c0275b", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0fcc14e18315ce0c89e94db7be738a65", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsModel.java", "commitBeforeChange": "e753017eccbd872714e58c93831cb488b5045d2a", "commitAfterChange": "abaea23707eba81455db9185a249740d89273b85", "methodNumberBeforeChange": 38, "methodNumberAfterChange": 41, "signatureBeforeChange": "   public void _interactionIsOver()", "signatureAfterChange": "   public void _interactionIsOver()", "diff": ["-    int len = 0;", "-    _document.acquireWriteLock();", "-    try {", "-      _document.addToHistory(_toAddToHistory);", "-      _document.setInProgress(false);", "-      _document.insertPrompt();", "-      len = _document.getPromptLength();", "-    }", "-    finally { _document.releaseWriteLock(); }", "-    advanceCaret(len);         // runs in event thread", "-    _notifyInteractionEnded();", "+    Utilities.invokeLater(new Runnable() {", "+      public void run() {", "+        _document.acquireWriteLock();", "+        try {", "+          _document.addToHistory(_toAddToHistory);", "+          _document.setInProgress(false);", "+          _document.insertPrompt();", "+          int len = _document.getPromptLength();", "+//          advanceCaret(len); ", "+        }", "+        finally { _document.releaseWriteLock(); }", "+        // runs in event thread", "+        _notifyInteractionEnded();", "+      }", "+    });", "+    scrollToCaret();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "df3de96c7ba381e91be05bc890dd3e02", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsModel.java", "commitBeforeChange": "e753017eccbd872714e58c93831cb488b5045d2a", "commitAfterChange": "abaea23707eba81455db9185a249740d89273b85", "methodNumberBeforeChange": 60, "methodNumberAfterChange": 64, "signatureBeforeChange": "   public void interpreterReady(File wd)", "signatureAfterChange": "   public void interpreterReady(final File wd)", "diff": ["-  public void interpreterReady(File wd) {", "+  public void interpreterReady(final File wd) {", "-      _document.reset(generateBanner(wd));", "-      _document.setInProgress(false);", "-      _caretInit();", "-      _notifyInterpreterReady(wd);", "+      Utilities.invokeLater(new Runnable() {", "+          public void run() {", "+            _document.acquireWriteLock();", "+              try {", "+              _document.reset(generateBanner(wd));", "+              _document.setInProgress(false);", "+              _pane.setCaretPosition(_document.getLength());", "+//              _caretInit();", "+            }", "+              finally { _document.releaseWriteLock(); }", "+          _notifyInterpreterReady(wd);", "+          }", "+      });"]}], "num": 30585}