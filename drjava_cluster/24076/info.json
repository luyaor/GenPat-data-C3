{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4160e150a7f52ec23d0ce8090fa18ebc", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1af8afaf26b6c9b0dd82c8e9fe4bf928", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/DefinitionsPane.java", "commitBeforeChange": "9252a1853f289706bd8613c5b3a7e1dae6638ae1", "commitAfterChange": "eaf9387d90b9ce749cafaa91a98fe5e7c77f98e0", "methodNumberBeforeChange": 53, "methodNumberAfterChange": 52, "signatureBeforeChange": "      public void centerViewOnOffset(int offset)", "signatureAfterChange": "      public void centerViewOnOffset(int offset)", "diff": ["+", "-      JScrollPane parent = (JScrollPane)this.getParent().getParent();", "-      JScrollBar scrollBar = parent.getVerticalScrollBar();", "-      scrollBar.setValue(scrollBar.getValue() + (int)viewHeight/2);", "-      */", "+       JScrollPane parent = (JScrollPane)this.getParent().getParent();", "+       JScrollBar scrollBar = parent.getVerticalScrollBar();", "+       scrollBar.setValue(scrollBar.getValue() + (int)viewHeight/2);", "+       */", "-        this.update(this.getGraphics());", "-        startRect = this.modelToView(offset);", "-      }*/", "+       this.update(this.getGraphics());", "+       startRect = this.modelToView(offset);", "+       }*/", "-      java.awt.Toolkit.getDefaultToolkit().sync();", "-      this.paint(this.getGraphics());", "-      this.validate();*/", "+       java.awt.Toolkit.getDefaultToolkit().sync();", "+       this.paint(this.getGraphics());", "+       this.validate();*/", "+      //DrJava.consoleOut().println(\"calling model to view\");", "-      if (caretPosAtBottom >= length)", "-        caretPosAtBottom = length - 1;", "-      //this.setCaretPosition(caretPosAtBottom);", "-      //this.paintImmediately(_mainFrame.getDefViewport().getViewRect());", "-      //_forceRepaint();", "-      //this.setCaretPosition(offset);*/", "+       if (caretPosAtBottom >= length)", "+       caretPosAtBottom = length - 1;", "+       //this.setCaretPosition(caretPosAtBottom);", "+       //this.paintImmediately(_mainFrame.getDefViewport().getViewRect());", "+       //_forceRepaint();", "+       //this.setCaretPosition(offset);*/", "-                         \" length: \" + length + \" metrics: \" + metrics.getHeight() +", "-                         \" viewheight: \" + viewHeight + \" startRectY: \"+startRectY +", "-                         \" endPoint: \" + endPoint.getY());", "-      */", "+       \" length: \" + length + \" metrics: \" + metrics.getHeight() +", "+       \" viewheight: \" + viewHeight + \" startRectY: \"+startRectY +", "+       \" endPoint: \" + endPoint.getY());", "+       */", "-      this.revalidate();", "-      this.repaint();", "+      ///this.revalidate();", "+      ///this.repaint();", "+    ", "-    ", "+", "+    //DrJava.consoleOut().println(\"done with centerViewOnOffset\");"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6186f0f62f36c0f61fdd978cd4d04a0b", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/DefinitionsPane.java", "commitBeforeChange": "ff6e7ba398be9a577f63882c7a59f62ba76dc9b6", "commitAfterChange": "ec45520bd7c034fcd5a1e91bf25ccd1d46b70ecf", "methodNumberBeforeChange": 50, "methodNumberAfterChange": 53, "signatureBeforeChange": "      public void centerViewOnOffset(int offset)", "signatureAfterChange": "      public void centerViewOnOffset(int offset)", "diff": ["+      double viewWidth = _mainFrame.getDefViewport().getWidth();", "-      Rectangle startRect = this.modelToView(offset);", "+      /*setCaretPosition(offset);", "+      JScrollPane parent = (JScrollPane)this.getParent().getParent();", "+      JScrollBar scrollBar = parent.getVerticalScrollBar();", "+      scrollBar.setValue(scrollBar.getValue() + (int)viewHeight/2);", "+      */", "+      // modelToView will return null if this doesn't yet have positive size", "+      Rectangle startRect;// = this.modelToView(offset);", "+      /*if (startRect == null) {", "+        this.update(this.getGraphics());", "+        startRect = this.modelToView(offset);", "+      }*/", "+      //if (startRect == null) {", "+      //_forceRepaint();", "+      //repaint();", "+      /*this.invalidate();", "+      java.awt.Toolkit.getDefaultToolkit().sync();", "+      this.paint(this.getGraphics());", "+      this.validate();*/", "+      //if (!_mainFrame.isValid())", "+      //startRect = this.modelToView(offset);", "+      //if (startRect == null)", "+      //  _forceRepaint();", "+      startRect = this.modelToView(offset);", "+      ", "+      int startRectX = (int)startRect.getX();", "-      startRect.setLocation(0, startRectY-(int)(viewHeight/2) - 1);", "-      Point endPoint = new Point(0, startRectY+(int)(viewHeight/2 + ", "-      metrics.getHeight()/2));", "+      startRect.setLocation(startRectX-(int)(viewWidth/2), ", "+                            startRectY-(int)(viewHeight/2));", "+      Point endPoint = new Point(startRectX+(int)(viewWidth/2), ", "+                                 startRectY+(int)(viewHeight/2 + ", "+                                                  metrics.getHeight()/2));", "-      this.setCaretPosition(caretPosAtBottom);", "+      //this.setCaretPosition(caretPosAtBottom);", "-      this.setCaretPosition(offset);", "-      System.out.println(\"bottom: \" + caretPosAtBottom + \" offset: \" + offset + ", "+      //_forceRepaint();", "+      //this.setCaretPosition(offset);*/", "+      /*System.out.println(\"bottom: \" + caretPosAtBottom + \" offset: \" + offset + ", "-                         \" endPoint: \" + endPoint.getY());*/", "-      ", "+                         \" endPoint: \" + endPoint.getY());", "+      */", "-      this.scrollRectToVisible(startRect);", "+      this.scrollRectToVisible(startRect);      ", "+      this.revalidate();", "+      this.repaint();", "+      removeSetSizeListener();"]}], "num": 24076}