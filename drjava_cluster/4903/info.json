{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "88a3288fc98f35c437134eaa95328b38", "detectedBy": ["DIFF_HIERARCHICAL", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "19657de41f62dde89ca0059d35f4c88a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractDJDocument.java", "commitBeforeChange": "ba2b5ff7a570417e9dd4c8e447dbbd043b8c1381", "commitAfterChange": "098be4c27233835145531c86355bc697a3b62bfd", "methodNumberBeforeChange": 58, "methodNumberAfterChange": 62, "signatureBeforeChange": "   public int getLineEndPos(final int pos)", "signatureAfterChange": "   public int _getLineEndPos(final int pos)", "diff": ["-  public int getLineEndPos(final int pos) {", "+  public int _getLineEndPos(final int pos) {", "+    ", "+    assert isReadLocked();", "+    ", "-    acquireReadLock();", "-    try {", "-      synchronized(_reduced) {", "-        final int oldPos = _currentLocation;", "-        _setCurrentLocation(pos);", "-        dist = _reduced.getDistToNextNewline();", "-        _setCurrentLocation(oldPos);", "-      }", "-      newPos = pos + dist;", "-      assert newPos == getLength() || _getText(newPos, 1).charAt(0) == '\\n';", "-      _storeInCache(key, newPos, newPos);", "-      return newPos;", "+//    acquireReadLock();", "+//    try {", "+    synchronized(_reduced) {", "+      final int oldPos = _currentLocation;", "+      _setCurrentLocation(pos);", "+      dist = _reduced.getDistToNextNewline();", "+      _setCurrentLocation(oldPos);", "-    finally { releaseReadLock(); }", "+    newPos = pos + dist;", "+    assert newPos == getLength() || _getText(newPos, 1).charAt(0) == '\\n';", "+    _storeInCache(key, newPos, newPos);", "+    return newPos;", "+//    }", "+//    finally { releaseReadLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1c6bd04e0b6f1750675ec3615b94cdf8", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractDJDocument.java", "commitBeforeChange": "ba2b5ff7a570417e9dd4c8e447dbbd043b8c1381", "commitAfterChange": "098be4c27233835145531c86355bc697a3b62bfd", "methodNumberBeforeChange": 57, "methodNumberAfterChange": 61, "signatureBeforeChange": "   public int getLineStartPos(final int pos)", "signatureAfterChange": "   public int _getLineStartPos(final int pos)", "diff": ["-  public int getLineStartPos(final int pos) {", "+  public int _getLineStartPos(final int pos) {", "+    ", "+    assert isReadLocked();", "+    ", "-    acquireReadLock();", "-    try {", "-      synchronized(_reduced) {", "-        final int oldPos = _currentLocation;", "-        _setCurrentLocation(pos);", "-        dist = _reduced.getDistToStart(0);", "-        _setCurrentLocation(oldPos);", "-      }", "-      ", "-      int newPos = 0;", "-      if (dist >= 0)  newPos = pos - dist;", "-      _storeInCache(key, newPos, pos - 1);", "-      return newPos;  // may equal 0", "+//    acquireReadLock();", "+//    try {", "+    synchronized(_reduced) {", "+      final int oldPos = _currentLocation;", "+      _setCurrentLocation(pos);", "+      dist = _reduced.getDistToStart(0);", "+      _setCurrentLocation(oldPos);", "-    finally { releaseReadLock(); }", "+    ", "+    int newPos = 0;", "+    if (dist >= 0)  newPos = pos - dist;", "+    _storeInCache(key, newPos, pos - 1);", "+    return newPos;  // may equal 0", "+//    }", "+//    finally { releaseReadLock(); }"]}], "num": 4903}