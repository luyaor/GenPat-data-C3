{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "16412ad16c9daff8069e8fe8027fa901", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "610fb5011961b0bfa27b211ebafa44ce", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "76157e15bbd52f4d2639058382773284b7c9c0bd", "commitAfterChange": "37eb7cd9abe39acb853d1fd344f27a2631ce2406", "methodNumberBeforeChange": 492, "methodNumberAfterChange": 493, "signatureBeforeChange": "      void _saveProjectHelper(File file)", "signatureAfterChange": "      void _saveProjectHelper(File file)", "diff": ["-        String text = \"The project will be saved in XML format.\" + ", "-          \"\\nDo you want to change the project file's extension to \"+PROJECT_FILE_EXTENSION+\"?\";", "-        ", "-        Object[] options = {\"Change to \"+PROJECT_FILE_EXTENSION+\"\", \"Keep \\\"\" + ", "-          fileName.substring(fileName.lastIndexOf('.'))+\"\\\"\"};  ", "-        int rc = 1;", "-        if (!Utilities.TEST_MODE) {", "-          rc = JOptionPane.showOptionDialog(MainFrame.this, text, \"Change Extension?\", JOptionPane.YES_NO_OPTION,", "-                                            JOptionPane.QUESTION_MESSAGE, null, options, options[0]);", "-        }", "-        if (rc == 0) {", "-          fileName = fileName.substring(0,fileName.length() - OLD_PROJECT_FILE_EXTENSION.length()) + ", "-            PROJECT_FILE_EXTENSION;", "-          file = new File(fileName);", "-          if (! file.exists() || _verifyOverwrite(file)) { ", "-            _model.setProjectFile(file);", "-            _currentProjFile = file;", "-          }", "-        }", "+        file = MainFrameUtils.proposeToChangeExtension(MainFrame.this, file,", "+                                                       \"Change Extension?\",", "+                                                       \"The project will be saved in XML format.\"", "+                                                         + \"\\nDo you want to change the project file's extension to \\\"\"", "+                                                         + PROJECT_FILE_EXTENSION+ \"\\\"?\",", "+                                                       \"Change to \\\"\" + PROJECT_FILE_EXTENSION + \"\\\"\",", "+                                                       \"Keep \\\"\" + DrJavaFileUtils.getExtension(fileName) + \"\\\"\",", "+                                                       PROJECT_FILE_EXTENSION);", "+        _model.setProjectFile(file);", "+        _currentProjFile = file;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "83b8b286be66e35f657aeea27910e7c6", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "f5e56b658aca2cd3cd18be629807d02399478d75", "commitAfterChange": "6b9d21c46904df78c4c42153380af1416ff61bab", "methodNumberBeforeChange": 514, "methodNumberAfterChange": 514, "signatureBeforeChange": "          public void filesNotFound(File... files)", "signatureAfterChange": "          public void filesNotFound(File... files)", "diff": ["-      if (files.length==0) return;", "-      _fnfCount+=files.length;", "-      String fileNames = \"\";", "-      for (File f: files) fileNames += \"\\n\" + f.getPath();", "-      if (files.length==1) JOptionPane.showMessageDialog(MainFrame.this, \"The following file could not be found, and has been removed from the project.\" + fileNames, \"File Not Found\", JOptionPane.ERROR_MESSAGE);", "-      else JOptionPane.showMessageDialog(MainFrame.this, \"The following files could not be found, and have been removed from the project.\" + fileNames, \"Files Not Found\", JOptionPane.ERROR_MESSAGE);", "+      if (files.length == 0) return;", "+      _fnfCount += files.length;", "+      ", "+      if (files.length == 1) {", "+        JOptionPane.showMessageDialog(MainFrame.this,", "+                                      \"The following file could not be found and has been removed from the project.\\n\"", "+                                        + files[0].getPath(),", "+                                      \"File Not Found\",", "+                                      JOptionPane.ERROR_MESSAGE);", "+      }", "+      else {", "+        final Collection<String> filePaths = new ArrayList<String>();", "+        for (File f : files) {", "+          filePaths.add(f.getPath());", "+        }", "+", "+        ScrollableListDialog dialog = new ScrollableListDialog(MainFrame.this,", "+                                                               \"Files Not Found\",", "+                                                               \"The following files could not be found and have been removed from the project.\",", "+                                                               filePaths,", "+                                                               JOptionPane.ERROR_MESSAGE);", "+        ", "+        setPopupLoc(dialog);", "+        dialog.showDialog();", "+      }"]}], "num": 557}