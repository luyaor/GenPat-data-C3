{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "325de220d77b69eff14f852bab0679d6", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1d97c79e4f8acbb1ec5b7cce34aa9051", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ReducedModelTest.java", "commitBeforeChange": "aff27d5334a1ca6ba769ab7ef02a380b2f290640", "commitAfterChange": "cfd5d3ab3ea99b1b04413af341de774d7d4fc9a6", "methodNumberBeforeChange": 40, "methodNumberAfterChange": 39, "signatureBeforeChange": "  \tpublic void testStartDeleteInDoubleBrace5()", "signatureAfterChange": "  \tpublic void testBlockCommentChain()", "diff": ["-", "-\tpublic void testStartDeleteInDoubleBrace5()", "-\t\t{", "-\t\t\tmodel1.insertSlash();", "-\t\t\tmodel1.insertStar();", "-\t\t\tmodel1.insertGap(2);", "-\t\t\tmodel1.insertStar();", "-\t\t\tmodel1.insertSlash();", "-\t\t\t//  /*__*/#", "-\t\t\t", "-\t\t\tmodel1.move(-2);", "-\t\t\tmodel1.delete(-3);", "-\t\t\t//  /#*/", "-\t\t\tassertEquals(\"#0.0\",\"/*\",model1._cursor.current().getType());", "-\t\t\tassertEquals(\"#0.1\",\"/\",model1._cursor.nextItem().getType());", "-\t\t\tassertEquals(\"#0.2\",1,model1._offset);", "-\t\t\tassertEquals(\"#0.3\",ReducedToken.FREE,", "-\t\t\t\t\t\t\t\t\t model1.getStateAtCurrent());", "-\t\t\tassertEquals(\"#0.4\",ReducedToken.INSIDE_BLOCK_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1._cursor.nextItem().getState());", "-\t\t\tassertEquals(\"#0.4\",ReducedToken.FREE,", "-\t\t\t\t\t\t\t\t\t model1._cursor.current().getState());", "-\t\t\tmodel1.move(2);", "-\t\t\tmodel1.delete(-2);", "-\t\t\t//  /#", "-\t\t\tassertEquals(\"#1.0\", \"/\", model1._cursor.prevItem().getType());", "-\t\t\tassertEquals(\"#1.1\", 0, model1._offset);", "-\t\t\tassertEquals(\"#1.2\", ReducedToken.FREE,", "-\t\t\t\t\t\t\t\t\t model1.getStateAtCurrent());", "-", "-\t\t\tmodel1.insertGap(4);", "-\t\t\t// /____#", "-", "-\t\t\tmodel1.insertSlash();", "-\t\t\tmodel1.insertSlash();", "-\t\t\t// /____//#", "-", "-\t\t\tmodel1.move(-2);", "-\t\t\tmodel1.delete(-4);", "-\t\t\t// /#//", "-\t\t\tassertEquals(\"#2.0\", \"//\", model1._cursor.current().getType());", "-\t\t\tassertEquals(\"#2.1\", \"/\", model1._cursor.nextItem().getType());", "-\t\t\tassertEquals(\"#2.2\", 1, model1._offset);", "-\t\t\tassertEquals(\"#2.3\", ReducedToken.INSIDE_LINE_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1._cursor.nextItem().getState());", "-", "-\t\t\tmodel1.move(2);", "-\t\t\tmodel1.delete(-3);", "-\t\t\t// <empty>", "-\t\t\tassertTrue(\"#3.0\", model1._braces.isEmpty());", "-\t\t\tassertEquals(\"#3.1\", 0, model1._offset);", "-", "-\t\t\tmodel1.insertSlash();", "-\t\t\tmodel1.insertGap(3);", "-\t\t\tmodel1.insertSlash();", "-\t\t\tmodel1.insertStar();", "-\t\t\tmodel1.insertNewline();", "-\t\t\tmodel1.insertGap(2);", "-\t\t\tmodel1.insertOpenParen();", "-\t\t\tmodel1.insertStar();", "-\t\t\tmodel1.insertSlash();", "-\t\t\t//  /___/*", "-\t\t\t//  __(*/#", "-\t\t\tmodel1.move(-3);", "-\t\t\t//  /___/*", "-\t\t\t//  __#(*/", "-\t\t\tassertEquals(\"#4.0\", \"(\", model1._cursor.current().getType());", "-\t\t\tassertEquals(\"#4.1\", ReducedToken.INSIDE_BLOCK_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1._cursor.current().getState());", "-\t\t\tassertTrue(\"#4.2\", model1._cursor.prevItem().isGap());", "-\t\t\tassertEquals(\"#4.3\", ReducedToken.INSIDE_BLOCK_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1._cursor.prevItem().getState());", "-\t\t\tassertEquals(\"#4.4\", \"*/\", model1._cursor.nextItem().getType());", "-\t\t\tassertEquals(\"#4.5\", ReducedToken.FREE,", "-\t\t\t\t\t\t\t\t\t model1._cursor.nextItem().getState());", "-\t\t\tassertEquals(\"#4.3\", ReducedToken.INSIDE_BLOCK_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1.getStateAtCurrent());", "-", "-\t\t\tmodel1.move(-5);", "-\t\t\tmodel1.delete(-3);", "-", "-\t\t\t//  /#/*", "-\t\t\t//  __(*/", "-\t\t\tassertEquals(\"#5.0\", \"//\", model1._cursor.current().getType());", "-\t\t\tassertEquals(\"#5.1\", 1, model1._offset);", "-\t\t\tassertEquals(\"#5.2\", \"*\", model1._cursor.nextItem().getType());", "-\t\t\tassertEquals(\"#5.3\", ReducedToken.INSIDE_LINE_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1._cursor.nextItem().getState());", "-", "-\t\t\tmodel1.move(6);", "-\t\t\t//  //*", "-\t\t\t//  __(#*/", "-\t\t\tassertEquals(\"#6.0\", \"*\", model1._cursor.current().getType());", "-\t\t\tassertEquals(\"#6.1\", 0, model1._offset);", "-\t\t\tassertEquals(\"#6.2\", \"(\", model1._cursor.prevItem().getType());", "-\t\t\tassertEquals(\"#6.3\", ReducedToken.FREE,", "-\t\t\t\t\t\t\t\t\t model1._cursor.prevItem().getState());\t\t\t", "-\t\t\tassertEquals(\"#6.4\", ReducedToken.FREE,", "-\t\t\t\t\t\t\t\t\t model1._cursor.current().getState());", "-", "-\t\t\tmodel1.move(-5);", "-\t\t\tmodel1.delete(-1);", "-\t\t\t//  /#*", "-\t\t\t//  __(*/", "-\t\t\tassertEquals(\"#7.0\", \"/*\", model1._cursor.current().getType());", "-\t\t\tassertEquals(\"#7.1\", 1, model1._offset);", "-\t\t\tassertEquals(\"#7.2\", \"\\n\", model1._cursor.nextItem().getType());", "-\t\t\tassertEquals(\"#7.3\", ReducedToken.INSIDE_BLOCK_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1._cursor.nextItem().getState());", "-", "-\t\t\tmodel1.move(5);", "-\t\t\tassertEquals(\"#8.1\", \"(\", model1._cursor.prevItem().getType());", "-\t\t\tassertEquals(\"#8.2\", ReducedToken.INSIDE_BLOCK_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1._cursor.prevItem().getState());", "-\t\t\tassertEquals(\"#8.3\", \"*/\", model1._cursor.current().getType());", "-\t\t\tassertEquals(\"#8.4\", ReducedToken.INSIDE_BLOCK_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1.getStateAtCurrent());", "-\t\t}", "+", "+\tpublic void testBlockCommentChain()", "+\t\t{", "+\t\t\tmodel0.insertSlash();", "+\t\t\tmodel0.insertStar();", "+\t\t\tmodel0.insertGap(2);", "+", "+\t\t\tmodel0.insertStar();", "+\t\t\tmodel0.insertSlash();", "+\t\t\tmodel0.insertStar();", "+\t\t\tmodel0.insertGap(2);", "+", "+\t\t\tmodel0.insertStar();", "+\t\t\tmodel0.insertSlash();", "+\t\t\tmodel0.insertStar();", "+\t\t\tmodel0.insertGap(2);", "+", "+\t\t\tmodel0.insertStar();", "+\t\t\tmodel0.insertSlash();", "+\t\t\tmodel0.insertStar();", "+\t\t\tmodel0.insertQuote();", "+\t\t\t// /*__*/*__*/*__*/*\"#", "+", "+\t\t\tassertEquals(\"#0.0\", ReducedToken.INSIDE_QUOTE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#0.1\", \"\\\"\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#0.2\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+", "+\t\t\tmodel0.move(-18);", "+\t\t\tmodel0.delete(1);", "+\t\t\t// #*__*/*__*/*__*/*\"", "+", "+\t\t\tassertEquals(\"#1.0\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#1.1\", \"*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#1.2\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());", "+", "+\t\t\tmodel0.move(4);", "+\t\t\t// *__*#/*__*/*__*/*\"", "+", "+\t\t\tassertEquals(\"#2.0\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#2.1\", \"/*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#2.2\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());", "+\t\t\tassertEquals(\"#2.3\", \"*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#2.4\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+\t\t\tassertTrue(\"#2.5\", model0._cursor.nextItem().isGap());", "+\t\t\tassertEquals(\"#2.6\", ReducedToken.INSIDE_BLOCK_COMMENT,", "+\t\t\t\t\t\t\t\t\t model0._cursor.nextItem().getState());", "+\t\t\t", "+\t\t\tmodel0.move(6);", "+\t\t\t// *__*/*__*/#*__*/*\"", "+", "+\t\t\tassertEquals(\"#3.0\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#3.1\", \"*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#3.2\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());", "+\t\t\tassertEquals(\"#3.3\", \"*/\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#3.4\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+\t\t\tassertTrue(\"#3.5\", model0._cursor.nextItem().isGap());", "+\t\t\tassertEquals(\"#3.6\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.nextItem().getState());", "+", "+\t\t\tmodel0.move(6);", "+\t\t\t// *__*/*__*/*__*/*#\"", "+", "+\t\t\tassertEquals(\"#4.0\", ReducedToken.INSIDE_BLOCK_COMMENT,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#4.1\", \"\\\"\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#4.2\", ReducedToken.INSIDE_BLOCK_COMMENT,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());", "+\t\t\tassertEquals(\"#4.3\", \"/*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#4.4\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+\t\t\tassertTrue(\"#4.5\", model0._cursor.atLastItem());", "+", "+\t\t\tmodel0.move(-16);", "+\t\t\tmodel0.insertQuote();", "+\t\t\t// \"#*__*/*__*/*__*/*\"", "+\t\t\t", "+\t\t\tassertEquals(\"#4.0\", ReducedToken.INSIDE_QUOTE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#4.1\", \"*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#4.2\", ReducedToken.INSIDE_QUOTE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());", "+\t\t\tassertEquals(\"#4.3\", \"\\\"\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#4.4\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+", "+\t\t\tmodel0.move(-1);", "+", "+\t\t\t// go to each of the */* and note how they are now broken", "+\t\t\tfor(int i = 5; i <= 7; i++) {", "+\t\t\t\tmodel0.move(5);", "+\t\t\t\tassertEquals(\"#\" + i + \".0\", ReducedToken.INSIDE_QUOTE,", "+\t\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\t\tassertEquals(\"#\" + i + \".1\", \"/\",", "+\t\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\t\tassertEquals(\"#\" + i + \".2\", ReducedToken.INSIDE_QUOTE,", "+\t\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());", "+\t\t\t\tassertEquals(\"#\" + i + \".3\", \"*\",", "+\t\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\t\tassertEquals(\"#\" + i + \".4\", ReducedToken.INSIDE_QUOTE,", "+\t\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+\t\t\t\tassertEquals(\"#\" + i + \".6\", \"*\",", "+\t\t\t\t\t\t\t\t\t\t model0._cursor.nextItem().getType());", "+\t\t\t\tassertEquals(\"#\" + i + \".6\", ReducedToken.INSIDE_QUOTE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.nextItem().getState());", "+\t\t\t}", "+", "+      // \"*__*/*__*/*__*#/*\"", "+\t\t\tmodel0.move(-14);", "+\t\t\tmodel0.delete(-1);", "+\t\t\tmodel0.insertSlash();", "+\t\t\t// /#*__*/*__*/*__*/*\"", "+", "+\t\t\tassertEquals(\"#8.0\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#8.1\", \"/*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#8.2\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());", "+\t\t\tassertEquals(\"#8.3\", 1, model0._offset);", "+\t\t\tassertTrue(\"#8.4\", model0._cursor.nextItem().isGap());", "+\t\t\tassertEquals(\"#8.5\", ReducedToken.INSIDE_BLOCK_COMMENT,", "+\t\t\t\t\t\t\t\t\t model0._cursor.nextItem().getState());", "+", "+\t\t\tmodel0.move(5);", "+\t\t\t// /*__*/#*__*/*__*/*\"", "+\t\t\tassertEquals(\"#9.0\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#9.1\", \"*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#9.2\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());\t\t\t", "+\t\t\tassertEquals(\"#9.3\", \"*/\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#9.4\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+", "+\t\t\tmodel0.move(5);", "+\t\t\t// /*__*/*__*/#*__*/*\"", "+\t\t\tassertEquals(\"#10.0\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#10.1\", \"/*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#10.2\", 1, model0._offset);", "+\t\t\tassertEquals(\"#10.3\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());\t\t\t", "+\t\t\tassertEquals(\"#10.4\", \"*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#10.5\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+\t\t\tassertTrue(\"#10.6\", model0._cursor.nextItem().isGap());", "+\t\t\tassertEquals(\"#10.7\", ReducedToken.INSIDE_BLOCK_COMMENT,", "+\t\t\t\t\t\t\t\t\t model0._cursor.nextItem().getState());", "+", "+\t\t\tmodel0.move(5);", "+\t\t\t// /*__*/*__*/*__*/#*\"", "+\t\t\tassertEquals(\"#11.0\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#11.1\", \"*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#11.2\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());\t\t\t", "+\t\t\tassertEquals(\"#11.3\", \"*/\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#11.4\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+\t\t\tassertEquals(\"#11.5\", \"\\\"\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.nextItem().getType());", "+\t\t\tassertEquals(\"#11.6\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.nextItem().getState());", "+", "+\t\t\tmodel0.move(2);", "+\t\t\t// /*__*/*__*/*__*/*\"#\t\t\t", "+\t\t\tassertEquals(\"#12.0\", ReducedToken.INSIDE_QUOTE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#12.1\", \"\\\"\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#12.2\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+", "+", "+\t\t}"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7032e6d5c202d412af3f5cf9c750159b", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/reducedmodel/ReducedModelTest.java", "commitBeforeChange": "aff27d5334a1ca6ba769ab7ef02a380b2f290640", "commitAfterChange": "cfd5d3ab3ea99b1b04413af341de774d7d4fc9a6", "methodNumberBeforeChange": 40, "methodNumberAfterChange": 39, "signatureBeforeChange": "  \tpublic void testStartDeleteInDoubleBrace5()", "signatureAfterChange": "  \tpublic void testBlockCommentChain()", "diff": ["-", "-\tpublic void testStartDeleteInDoubleBrace5()", "-\t\t{", "-\t\t\tmodel1.insertSlash();", "-\t\t\tmodel1.insertStar();", "-\t\t\tmodel1.insertGap(2);", "-\t\t\tmodel1.insertStar();", "-\t\t\tmodel1.insertSlash();", "-\t\t\t//  /*__*/#", "-\t\t\t", "-\t\t\tmodel1.move(-2);", "-\t\t\tmodel1.delete(-3);", "-\t\t\t//  /#*/", "-\t\t\tassertEquals(\"#0.0\",\"/*\",model1._cursor.current().getType());", "-\t\t\tassertEquals(\"#0.1\",\"/\",model1._cursor.nextItem().getType());", "-\t\t\tassertEquals(\"#0.2\",1,model1._offset);", "-\t\t\tassertEquals(\"#0.3\",ReducedToken.FREE,", "-\t\t\t\t\t\t\t\t\t model1.getStateAtCurrent());", "-\t\t\tassertEquals(\"#0.4\",ReducedToken.INSIDE_BLOCK_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1._cursor.nextItem().getState());", "-\t\t\tassertEquals(\"#0.4\",ReducedToken.FREE,", "-\t\t\t\t\t\t\t\t\t model1._cursor.current().getState());", "-\t\t\tmodel1.move(2);", "-\t\t\tmodel1.delete(-2);", "-\t\t\t//  /#", "-\t\t\tassertEquals(\"#1.0\", \"/\", model1._cursor.prevItem().getType());", "-\t\t\tassertEquals(\"#1.1\", 0, model1._offset);", "-\t\t\tassertEquals(\"#1.2\", ReducedToken.FREE,", "-\t\t\t\t\t\t\t\t\t model1.getStateAtCurrent());", "-", "-\t\t\tmodel1.insertGap(4);", "-\t\t\t// /____#", "-", "-\t\t\tmodel1.insertSlash();", "-\t\t\tmodel1.insertSlash();", "-\t\t\t// /____//#", "-", "-\t\t\tmodel1.move(-2);", "-\t\t\tmodel1.delete(-4);", "-\t\t\t// /#//", "-\t\t\tassertEquals(\"#2.0\", \"//\", model1._cursor.current().getType());", "-\t\t\tassertEquals(\"#2.1\", \"/\", model1._cursor.nextItem().getType());", "-\t\t\tassertEquals(\"#2.2\", 1, model1._offset);", "-\t\t\tassertEquals(\"#2.3\", ReducedToken.INSIDE_LINE_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1._cursor.nextItem().getState());", "-", "-\t\t\tmodel1.move(2);", "-\t\t\tmodel1.delete(-3);", "-\t\t\t// <empty>", "-\t\t\tassertTrue(\"#3.0\", model1._braces.isEmpty());", "-\t\t\tassertEquals(\"#3.1\", 0, model1._offset);", "-", "-\t\t\tmodel1.insertSlash();", "-\t\t\tmodel1.insertGap(3);", "-\t\t\tmodel1.insertSlash();", "-\t\t\tmodel1.insertStar();", "-\t\t\tmodel1.insertNewline();", "-\t\t\tmodel1.insertGap(2);", "-\t\t\tmodel1.insertOpenParen();", "-\t\t\tmodel1.insertStar();", "-\t\t\tmodel1.insertSlash();", "-\t\t\t//  /___/*", "-\t\t\t//  __(*/#", "-\t\t\tmodel1.move(-3);", "-\t\t\t//  /___/*", "-\t\t\t//  __#(*/", "-\t\t\tassertEquals(\"#4.0\", \"(\", model1._cursor.current().getType());", "-\t\t\tassertEquals(\"#4.1\", ReducedToken.INSIDE_BLOCK_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1._cursor.current().getState());", "-\t\t\tassertTrue(\"#4.2\", model1._cursor.prevItem().isGap());", "-\t\t\tassertEquals(\"#4.3\", ReducedToken.INSIDE_BLOCK_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1._cursor.prevItem().getState());", "-\t\t\tassertEquals(\"#4.4\", \"*/\", model1._cursor.nextItem().getType());", "-\t\t\tassertEquals(\"#4.5\", ReducedToken.FREE,", "-\t\t\t\t\t\t\t\t\t model1._cursor.nextItem().getState());", "-\t\t\tassertEquals(\"#4.3\", ReducedToken.INSIDE_BLOCK_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1.getStateAtCurrent());", "-", "-\t\t\tmodel1.move(-5);", "-\t\t\tmodel1.delete(-3);", "-", "-\t\t\t//  /#/*", "-\t\t\t//  __(*/", "-\t\t\tassertEquals(\"#5.0\", \"//\", model1._cursor.current().getType());", "-\t\t\tassertEquals(\"#5.1\", 1, model1._offset);", "-\t\t\tassertEquals(\"#5.2\", \"*\", model1._cursor.nextItem().getType());", "-\t\t\tassertEquals(\"#5.3\", ReducedToken.INSIDE_LINE_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1._cursor.nextItem().getState());", "-", "-\t\t\tmodel1.move(6);", "-\t\t\t//  //*", "-\t\t\t//  __(#*/", "-\t\t\tassertEquals(\"#6.0\", \"*\", model1._cursor.current().getType());", "-\t\t\tassertEquals(\"#6.1\", 0, model1._offset);", "-\t\t\tassertEquals(\"#6.2\", \"(\", model1._cursor.prevItem().getType());", "-\t\t\tassertEquals(\"#6.3\", ReducedToken.FREE,", "-\t\t\t\t\t\t\t\t\t model1._cursor.prevItem().getState());\t\t\t", "-\t\t\tassertEquals(\"#6.4\", ReducedToken.FREE,", "-\t\t\t\t\t\t\t\t\t model1._cursor.current().getState());", "-", "-\t\t\tmodel1.move(-5);", "-\t\t\tmodel1.delete(-1);", "-\t\t\t//  /#*", "-\t\t\t//  __(*/", "-\t\t\tassertEquals(\"#7.0\", \"/*\", model1._cursor.current().getType());", "-\t\t\tassertEquals(\"#7.1\", 1, model1._offset);", "-\t\t\tassertEquals(\"#7.2\", \"\\n\", model1._cursor.nextItem().getType());", "-\t\t\tassertEquals(\"#7.3\", ReducedToken.INSIDE_BLOCK_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1._cursor.nextItem().getState());", "-", "-\t\t\tmodel1.move(5);", "-\t\t\tassertEquals(\"#8.1\", \"(\", model1._cursor.prevItem().getType());", "-\t\t\tassertEquals(\"#8.2\", ReducedToken.INSIDE_BLOCK_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1._cursor.prevItem().getState());", "-\t\t\tassertEquals(\"#8.3\", \"*/\", model1._cursor.current().getType());", "-\t\t\tassertEquals(\"#8.4\", ReducedToken.INSIDE_BLOCK_COMMENT,", "-\t\t\t\t\t\t\t\t\t model1.getStateAtCurrent());", "-\t\t}", "+", "+\tpublic void testBlockCommentChain()", "+\t\t{", "+\t\t\tmodel0.insertSlash();", "+\t\t\tmodel0.insertStar();", "+\t\t\tmodel0.insertGap(2);", "+", "+\t\t\tmodel0.insertStar();", "+\t\t\tmodel0.insertSlash();", "+\t\t\tmodel0.insertStar();", "+\t\t\tmodel0.insertGap(2);", "+", "+\t\t\tmodel0.insertStar();", "+\t\t\tmodel0.insertSlash();", "+\t\t\tmodel0.insertStar();", "+\t\t\tmodel0.insertGap(2);", "+", "+\t\t\tmodel0.insertStar();", "+\t\t\tmodel0.insertSlash();", "+\t\t\tmodel0.insertStar();", "+\t\t\tmodel0.insertQuote();", "+\t\t\t// /*__*/*__*/*__*/*\"#", "+", "+\t\t\tassertEquals(\"#0.0\", ReducedToken.INSIDE_QUOTE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#0.1\", \"\\\"\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#0.2\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+", "+\t\t\tmodel0.move(-18);", "+\t\t\tmodel0.delete(1);", "+\t\t\t// #*__*/*__*/*__*/*\"", "+", "+\t\t\tassertEquals(\"#1.0\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#1.1\", \"*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#1.2\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());", "+", "+\t\t\tmodel0.move(4);", "+\t\t\t// *__*#/*__*/*__*/*\"", "+", "+\t\t\tassertEquals(\"#2.0\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#2.1\", \"/*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#2.2\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());", "+\t\t\tassertEquals(\"#2.3\", \"*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#2.4\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+\t\t\tassertTrue(\"#2.5\", model0._cursor.nextItem().isGap());", "+\t\t\tassertEquals(\"#2.6\", ReducedToken.INSIDE_BLOCK_COMMENT,", "+\t\t\t\t\t\t\t\t\t model0._cursor.nextItem().getState());", "+\t\t\t", "+\t\t\tmodel0.move(6);", "+\t\t\t// *__*/*__*/#*__*/*\"", "+", "+\t\t\tassertEquals(\"#3.0\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#3.1\", \"*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#3.2\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());", "+\t\t\tassertEquals(\"#3.3\", \"*/\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#3.4\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+\t\t\tassertTrue(\"#3.5\", model0._cursor.nextItem().isGap());", "+\t\t\tassertEquals(\"#3.6\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.nextItem().getState());", "+", "+\t\t\tmodel0.move(6);", "+\t\t\t// *__*/*__*/*__*/*#\"", "+", "+\t\t\tassertEquals(\"#4.0\", ReducedToken.INSIDE_BLOCK_COMMENT,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#4.1\", \"\\\"\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#4.2\", ReducedToken.INSIDE_BLOCK_COMMENT,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());", "+\t\t\tassertEquals(\"#4.3\", \"/*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#4.4\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+\t\t\tassertTrue(\"#4.5\", model0._cursor.atLastItem());", "+", "+\t\t\tmodel0.move(-16);", "+\t\t\tmodel0.insertQuote();", "+\t\t\t// \"#*__*/*__*/*__*/*\"", "+\t\t\t", "+\t\t\tassertEquals(\"#4.0\", ReducedToken.INSIDE_QUOTE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#4.1\", \"*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#4.2\", ReducedToken.INSIDE_QUOTE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());", "+\t\t\tassertEquals(\"#4.3\", \"\\\"\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#4.4\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+", "+\t\t\tmodel0.move(-1);", "+", "+\t\t\t// go to each of the */* and note how they are now broken", "+\t\t\tfor(int i = 5; i <= 7; i++) {", "+\t\t\t\tmodel0.move(5);", "+\t\t\t\tassertEquals(\"#\" + i + \".0\", ReducedToken.INSIDE_QUOTE,", "+\t\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\t\tassertEquals(\"#\" + i + \".1\", \"/\",", "+\t\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\t\tassertEquals(\"#\" + i + \".2\", ReducedToken.INSIDE_QUOTE,", "+\t\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());", "+\t\t\t\tassertEquals(\"#\" + i + \".3\", \"*\",", "+\t\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\t\tassertEquals(\"#\" + i + \".4\", ReducedToken.INSIDE_QUOTE,", "+\t\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+\t\t\t\tassertEquals(\"#\" + i + \".6\", \"*\",", "+\t\t\t\t\t\t\t\t\t\t model0._cursor.nextItem().getType());", "+\t\t\t\tassertEquals(\"#\" + i + \".6\", ReducedToken.INSIDE_QUOTE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.nextItem().getState());", "+\t\t\t}", "+", "+      // \"*__*/*__*/*__*#/*\"", "+\t\t\tmodel0.move(-14);", "+\t\t\tmodel0.delete(-1);", "+\t\t\tmodel0.insertSlash();", "+\t\t\t// /#*__*/*__*/*__*/*\"", "+", "+\t\t\tassertEquals(\"#8.0\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#8.1\", \"/*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#8.2\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());", "+\t\t\tassertEquals(\"#8.3\", 1, model0._offset);", "+\t\t\tassertTrue(\"#8.4\", model0._cursor.nextItem().isGap());", "+\t\t\tassertEquals(\"#8.5\", ReducedToken.INSIDE_BLOCK_COMMENT,", "+\t\t\t\t\t\t\t\t\t model0._cursor.nextItem().getState());", "+", "+\t\t\tmodel0.move(5);", "+\t\t\t// /*__*/#*__*/*__*/*\"", "+\t\t\tassertEquals(\"#9.0\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#9.1\", \"*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#9.2\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());\t\t\t", "+\t\t\tassertEquals(\"#9.3\", \"*/\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#9.4\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+", "+\t\t\tmodel0.move(5);", "+\t\t\t// /*__*/*__*/#*__*/*\"", "+\t\t\tassertEquals(\"#10.0\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#10.1\", \"/*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#10.2\", 1, model0._offset);", "+\t\t\tassertEquals(\"#10.3\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());\t\t\t", "+\t\t\tassertEquals(\"#10.4\", \"*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#10.5\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+\t\t\tassertTrue(\"#10.6\", model0._cursor.nextItem().isGap());", "+\t\t\tassertEquals(\"#10.7\", ReducedToken.INSIDE_BLOCK_COMMENT,", "+\t\t\t\t\t\t\t\t\t model0._cursor.nextItem().getState());", "+", "+\t\t\tmodel0.move(5);", "+\t\t\t// /*__*/*__*/*__*/#*\"", "+\t\t\tassertEquals(\"#11.0\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#11.1\", \"*\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getType());", "+\t\t\tassertEquals(\"#11.2\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.current().getState());\t\t\t", "+\t\t\tassertEquals(\"#11.3\", \"*/\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#11.4\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+\t\t\tassertEquals(\"#11.5\", \"\\\"\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.nextItem().getType());", "+\t\t\tassertEquals(\"#11.6\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.nextItem().getState());", "+", "+\t\t\tmodel0.move(2);", "+\t\t\t// /*__*/*__*/*__*/*\"#\t\t\t", "+\t\t\tassertEquals(\"#12.0\", ReducedToken.INSIDE_QUOTE,", "+\t\t\t\t\t\t\t\t\t model0.getStateAtCurrent());", "+\t\t\tassertEquals(\"#12.1\", \"\\\"\",", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getType());", "+\t\t\tassertEquals(\"#12.2\", ReducedToken.FREE,", "+\t\t\t\t\t\t\t\t\t model0._cursor.prevItem().getState());", "+", "+", "+\t\t}"]}], "num": 2844}