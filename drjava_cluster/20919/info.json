{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "c945f14db9d2ede8d88373fb0f41deb9", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a16ccfb16f20a39d6d2f380da43071a4", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "plt/src/edu/rice/cs/plt/reflect/JavaVersion.java", "commitBeforeChange": "06c097879b27ffb8ca08a54a4961265ba5907f07", "commitAfterChange": "cb297201cc08624c537abfd29974e65bdfd2f397", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "   public static FullVersion parseFullVersion(String text)", "signatureAfterChange": "   public static FullVersion parseFullVersion(String java_version, String java_runtime_name, String java_vm_vendor)", "diff": ["-  public static FullVersion parseFullVersion(String text) {", "+  public static FullVersion parseFullVersion(String java_version, String java_runtime_name, String java_vm_vendor) {", "+    VendorType vendor = VendorType.UNKNOWN;", "+    String vendorString = null;", "+    if (java_runtime_name.toLowerCase().contains(\"openjdk\")) {", "+      vendor = VendorType.OPENJDK;", "+      vendorString = \"OpenJDK\";", "+    }", "+    else if (java_vm_vendor.toLowerCase().contains(\"apple\")) {", "+      vendor = VendorType.APPLE;", "+      vendorString = \"Apple\";", "+    }", "+    else if (java_vm_vendor.toLowerCase().contains(\"sun\")) {", "+      vendor = VendorType.SUN;", "+      vendorString = \"Sun\";", "+    }", "+    ", "-    int dash = text.indexOf('-');", "-    if (dash == -1) { number = text; typeString = null; }", "-    else { number = text.substring(0, dash); typeString = text.substring(dash+1); }", "+    int dash = java_version.indexOf('-');", "+    if (dash == -1) { number = java_version; typeString = null; }", "+    else { number = java_version.substring(0, dash); typeString = java_version.substring(dash+1); }", "-    if (dot1 == -1) { return new FullVersion(UNRECOGNIZED, 0, 0, ReleaseType.STABLE, null); }", "+    if (dot1 == -1) { return new FullVersion(UNRECOGNIZED, 0, 0,", "+                                             ReleaseType.STABLE, null,", "+                                             vendor, vendorString); }", "-    if (dot2 == -1) { return new FullVersion(UNRECOGNIZED, 0, 0, ReleaseType.STABLE, null); }", "+    if (dot2 == -1) { return new FullVersion(UNRECOGNIZED, 0, 0,", "+                                             ReleaseType.STABLE, null,", "+                                             vendor, vendorString); }", "-      return new FullVersion(version, maintenance, update, type, typeString);", "+      return new FullVersion(version, maintenance, update,", "+                             type, typeString,", "+                             vendor, vendorString);", "-    catch (NumberFormatException e) { return new FullVersion(UNRECOGNIZED, 0, 0, ReleaseType.STABLE, null); }", "+    catch (NumberFormatException e) { return new FullVersion(UNRECOGNIZED, 0, 0,", "+                                                             ReleaseType.STABLE, null,", "+                                                             vendor, vendorString); }", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f49b44f6d7e5baa3bfa51c995bdd2263", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "plt/src/edu/rice/cs/plt/reflect/JavaVersion.java", "commitBeforeChange": "391e45139a20d29595a89151324a2e220b5d12fb", "commitAfterChange": "b3945c97981b1413d538a04b218b57bbc9b0fda9", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "   public static FullVersion parseFullVersion(String java_version,                                              String java_runtime_name,                                              String java_vm_vendor)", "signatureAfterChange": "   public static FullVersion parseFullVersion(String java_version,                                              String java_runtime_name,                                              String java_vm_vendor,                                              File location)", "diff": ["-                                             String java_vm_vendor) {", "+                                             String java_vm_vendor,", "+                                             File location) {", "-    if ((!java_version.startsWith(\"1.\")) && (java_version.replaceAll(\"[^\\\\.]\",\"\").length()==1)) java_version = \"1.\"+java_version;", "+    if ((!java_version.startsWith(\"1.\")) && (java_version.replaceAll(\"[^\\\\.]\",\"\").length()==1)) {", "+      java_version = \"1.\"+java_version;", "+    }", "-        return new FullVersion(version, 0, 0,", "-                               type, typeString,", "-                               vendor, vendorString, java_runtime_name, java_vm_vendor);", "+        return new FullVersion(version, 0, 0, type, typeString, vendor, vendorString, location);", "-        return new FullVersion(UNRECOGNIZED, 0, 0,", "-                               ReleaseType.STABLE, null,", "-                               vendor, vendorString, java_runtime_name, java_vm_vendor);", "+        return new FullVersion(UNRECOGNIZED, 0, 0, ReleaseType.STABLE, null, vendor, vendorString, location);", "-                                             vendor, vendorString, java_runtime_name, java_vm_vendor); }", "+                                             vendor, vendorString, location); }", "-      return new FullVersion(version, maintenance, update,", "-                             type, typeString,", "-                             vendor, vendorString, java_runtime_name, java_vm_vendor);", "+      return new FullVersion(version, maintenance, update, type, typeString, vendor, vendorString, location);", "-    catch (NumberFormatException e) { return new FullVersion(UNRECOGNIZED, 0, 0,", "-                                                             ReleaseType.STABLE, null,", "-                                                             vendor, vendorString, \"\", \"\"); }", "+    catch (NumberFormatException e) {", "+      return new FullVersion(UNRECOGNIZED, 0, 0, ReleaseType.STABLE, null, vendor, vendorString, location);", "+    }"]}], "num": 20919}