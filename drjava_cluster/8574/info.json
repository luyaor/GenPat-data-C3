{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a4d3495f255fd0086002df44c5579bfe", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6d345e98b11fb3201b183c901c30ded5", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/FileOps.java", "commitBeforeChange": "bd115d85e858b9ca09ebbbacbcf2bcab93ec2746", "commitAfterChange": "74f91d4ab1bc60eb8b5e8fd35cfb982ee9101049", "methodNumberBeforeChange": 49, "methodNumberAfterChange": 49, "signatureBeforeChange": "   public static String readFileAsSwingText(final File file) throws IOException", "signatureAfterChange": "   public static String readFileAsSwingText(final File file) throws IOException", "diff": ["-    FileReader reader = new FileReader(file);", "-    final StringBuilder buf = new StringBuilder();", "-    ", "-    char pred = (char) 0; // initialize as null character", "-    while (reader.ready()) {", "-      char c = (char) reader.read();", "+    FileReader reader = null;", "+    try {", "+      reader = new FileReader(file);", "+      final StringBuilder buf = new StringBuilder();", "-      if (c == '\\n' && pred == '\\r') { } // do nothing ignoring second character of \"\\r\\n\";", "-      else if (c == '\\r') buf.append('\\n');", "-      else buf.append(c);", "-      ", "-      pred = c;", "+      char pred = (char) 0; // initialize as null character", "+      while (reader.ready()) {", "+        char c = (char) reader.read();", "+        ", "+        if (c == '\\n' && pred == '\\r') { } // do nothing ignoring second character of \"\\r\\n\";", "+        else if (c == '\\r') buf.append('\\n');", "+        else buf.append(c);", "+        ", "+        pred = c;", "+      }", "+      return buf.toString();", "-    ", "-    reader.close();", "-    return buf.toString();", "+    finally { if (reader!=null) reader.close(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f87869f514f98a761836a82d4cacd6fc", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/FileOps.java", "commitBeforeChange": "bd115d85e858b9ca09ebbbacbcf2bcab93ec2746", "commitAfterChange": "74f91d4ab1bc60eb8b5e8fd35cfb982ee9101049", "methodNumberBeforeChange": 50, "methodNumberAfterChange": 50, "signatureBeforeChange": "   @Deprecated public static String readFileAsString(final File file) throws IOException", "signatureAfterChange": "   @Deprecated public static String readFileAsString(final File file) throws IOException", "diff": ["-    FileReader reader = new FileReader(file);", "-    final StringBuilder buf = new StringBuilder();", "-    ", "-    while (reader.ready()) {", "-      char c = (char) reader.read();", "-      buf.append(c);", "+    FileReader reader = null;", "+    try {", "+      reader = new FileReader(file);", "+      final StringBuilder buf = new StringBuilder();", "+      ", "+      while (reader.ready()) {", "+        char c = (char) reader.read();", "+        buf.append(c);", "+      }", "+      return buf.toString();", "-    ", "-    reader.close();", "-    return buf.toString();", "+    finally { if (reader!=null) reader.close(); }"]}], "num": 8574}