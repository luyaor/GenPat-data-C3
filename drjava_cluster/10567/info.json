{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9f968aab7227887afe0f8552a6177f54", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "12edc94c56eee7ff60f328915cdc1e45", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "ff6e7ba398be9a577f63882c7a59f62ba76dc9b6", "commitAfterChange": "ec45520bd7c034fcd5a1e91bf25ccd1d46b70ecf", "methodNumberBeforeChange": 93, "methodNumberAfterChange": 92, "signatureBeforeChange": "   void toggleBreakpoint()", "signatureAfterChange": "   void toggleBreakpoint()", "diff": ["-    OpenDefinitionsDocument doc = _model.getActiveDocument();", "-    try {", "-      _model.getDebugManager().toggleBreakpoint(doc, ", "-                                                _currentDefPane.getCaretPosition(),", "-                                                _currentDefPane.getCurrentLine());", "-    }", "-    catch (DebugException de) {", "-      _showError(de, \"Debugger Error\",", "-                 \"Could not set a breakpoint at the current line.\");", "+    if (inDebugMode()) {", "+      OpenDefinitionsDocument doc = _model.getActiveDocument();", "+      try {", "+        DebugManager debugger = _model.getDebugManager();", "+        debugger.toggleBreakpoint(doc, ", "+                                  _currentDefPane.getCaretPosition(),", "+                                  _currentDefPane.getCurrentLine());", "+      }", "+      catch (DebugException de) {", "+        _showError(de, \"Debugger Error\",", "+                   \"Could not set a breakpoint at the current line.\");", "+      }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5c71b4720c348159c87b4578c03f0cdc", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "9252a1853f289706bd8613c5b3a7e1dae6638ae1", "commitAfterChange": "eaf9387d90b9ce749cafaa91a98fe5e7c77f98e0", "methodNumberBeforeChange": 151, "methodNumberAfterChange": 148, "signatureBeforeChange": "          public void breakpointRemoved(Breakpoint bp)", "signatureAfterChange": "          public void breakpointRemoved(final Breakpoint bp)", "diff": ["-    public void breakpointRemoved(Breakpoint bp) {", "-      _model.setActiveDocument(bp.getDocument());", "-      _currentDefPane.getHighlightManager().removeHighlight(bp.getStartOffset(),", "-                                                            bp.getEndOffset(),", "-                                                            DefinitionsPane.BREAKPOINT_PAINTER);", "-      _debugPanel.breakpointRemoved(bp);", "+    public void breakpointRemoved(final Breakpoint bp) {", "+      // Only change GUI from event-dispatching thread", "+      Runnable doCommand = new Runnable() {", "+        public void run() {", "+          _model.setActiveDocument(bp.getDocument());", "+          _currentDefPane.getHighlightManager().removeHighlight(bp.getStartOffset(),", "+                                                                bp.getEndOffset(),", "+                                                                DefinitionsPane.BREAKPOINT_PAINTER);", "+        }", "+      };", "+      SwingUtilities.invokeLater(doCommand);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "78538ebc1cbd76b8e82bbd71ff372506", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "9252a1853f289706bd8613c5b3a7e1dae6638ae1", "commitAfterChange": "eaf9387d90b9ce749cafaa91a98fe5e7c77f98e0", "methodNumberBeforeChange": 149, "methodNumberAfterChange": 145, "signatureBeforeChange": "          public void breakpointSet(Breakpoint bp)", "signatureAfterChange": "          public void breakpointSet(final Breakpoint bp)", "diff": ["-    public void breakpointSet(Breakpoint bp) {", "-      _model.setActiveDocument(bp.getDocument());", "-      _currentDefPane.getHighlightManager().addHighlight(bp.getStartOffset(),", "-                                                         bp.getEndOffset(),", "-                                                         DefinitionsPane.BREAKPOINT_PAINTER);", "-      _debugPanel.breakpointAdded(bp);", "+    ", "+    public void breakpointSet(final Breakpoint bp) {", "+      // Only change GUI from event-dispatching thread", "+      Runnable doCommand = new Runnable() {", "+        public void run() {", "+          _model.setActiveDocument(bp.getDocument());", "+          _currentDefPane.getHighlightManager().addHighlight(bp.getStartOffset(),", "+                                                             bp.getEndOffset(),", "+                                                             DefinitionsPane.BREAKPOINT_PAINTER);", "+        }", "+      };", "+      SwingUtilities.invokeLater(doCommand);"]}], "num": 10567}