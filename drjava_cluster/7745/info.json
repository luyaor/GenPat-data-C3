{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "1a98f4e99d21d762a15f89c30074923a", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "13fa09808df4a7c8da6b88beef6080b7", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/FindReplaceMachine.java", "commitBeforeChange": "db8f0cb26e31432f350747ff5cceb39c84bddf2e", "commitAfterChange": "09ee5df535fa7711165b559136b85b4d08379671", "methodNumberBeforeChange": 27, "methodNumberAfterChange": 24, "signatureBeforeChange": "   public int replaceAll()", "signatureAfterChange": "   public int replaceAll()", "diff": ["+   */", "+  public int replaceAll() { return replaceAll(_searchAllDocuments); }", "-  public int replaceAll() {", "-    if (_searchAllDocuments) {", "-      AbstractDocumentInterface startDoc = _doc;", "-      _searchAllDocuments = false;", "-      // replace all in the first document", "-      int count = _replaceAllInCurrentDoc();", "-      _doc = _docIterator.getNextDocument(_doc);", "-      int n = _docIterator.getDocumentCount();", "-      for (int i=1; i < n; i++) {", "-        // replace all in the rest of the documents", "-        count += _replaceAllInCurrentDoc();", "-        _doc = _docIterator.getNextDocument(_doc);", "-      _searchAllDocuments = true;", "-    else return _replaceAllInCurrentDoc();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b280b8ac6b8bbf1362733f6a1f824a65", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/FindReplacePanel.java", "commitBeforeChange": "b42121281abc84b5922f4d3c2653d8341fced477", "commitAfterChange": "6b690d7e50bc9f782260d6c38aaf261dfe0715e0", "methodNumberBeforeChange": 42, "methodNumberAfterChange": 42, "signatureBeforeChange": "   private void _selectReplacedItem(int length)", "signatureAfterChange": "   private void _selectFoundOrReplacedItem(int length)", "diff": ["-  /** This method is used to select the item that has been inserted in a replacement. */", "-  private void _selectReplacedItem(int length) {", "+    * item; in a backwards search it is the LEFT edge. */", "+  private void _selectFoundOrReplacedItem(int length) {", "+    int offset = _machine.getCurrentOffset();", "-    to = _machine.getCurrentOffset();", "-    if (_machine.getSearchBackwards()) from = to + length;", "-    else                               from = to - length;", "-    _selectFoundItem(from, to);", "+", "+    if (_machine.getSearchBackwards()) {", "+      from = offset;", "+      to = offset + length;", "+    }", "+    else {                   ", "+      from = offset - length;", "+      to = offset;", "+    }", "+    _selectFoundOrReplacedItem(from, to);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b762c1983eee041dd15085a5d1d89e7b", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/swing/FindReplaceMachine.java", "commitBeforeChange": "37e723fa34df1bc3afa5f0896241b32a56e4dde5", "commitAfterChange": "46e11d94aab488b0f851c712b65caea9a087e829", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 24, "signatureBeforeChange": "     public int replaceAll()", "signatureAfterChange": "   public int replaceAll()", "diff": ["-    */", "-    public int replaceAll() { return _state.replaceAll(); }", "+   */", "+  public int replaceAll() {", "+    if (_searchAllDocuments) {", "+      AbstractDocumentInterface startDoc = _doc;", "+      _searchAllDocuments = false;", "+      // replace all in the first document", "+      int count = _replaceAllInCurrentDoc();", "+      _doc = _docIterator.getNextDocument(_doc);", "+      int n = _docIterator.getDocumentCount();", "+      for (int i=1; i < n; i++) {", "+        // replace all in the rest of the documents", "+        count += _replaceAllInCurrentDoc();", "+        _doc = _docIterator.getNextDocument(_doc);", "+      }", "+      _searchAllDocuments = true;", "+      return count;", "+    }", "+    else return _replaceAllInCurrentDoc();", "+  }"]}], "num": 7745}