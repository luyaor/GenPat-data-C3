{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "fd85dc6b12eaec6eecf9af2e468fcc2a", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4a5fdd754493624d6955854a85cb3883", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/docnavigation/JTreeSortNavigator.java", "commitBeforeChange": "09e3a1c7c173cb9a37ed9ad28a39b257011828e6", "commitAfterChange": "bdfa5a75e18c9a41c7b54cf4b050565d5259c993", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "   private INavigatorItem removeNode(LeafNode toRemove)", "signatureAfterChange": "   private synchronized INavigatorItem removeNode(LeafNode toRemove)", "diff": ["-  private INavigatorItem removeNode(LeafNode toRemove){", "+  private synchronized INavigatorItem removeNode(LeafNode toRemove){", "+    DefaultMutableTreeNode parent = (DefaultMutableTreeNode)toRemove.getParent();", "-   ", "-    Enumeration enumeration = ((DefaultMutableTreeNode)_model.getRoot()).depthFirstEnumeration();", "-    while(enumeration.hasMoreElements())", "-    {", "-      TreeNode next = (TreeNode)enumeration.nextElement();", "-      if(next.getChildCount() == 0 && ", "-         !_doc2node.containsValue(next) && ", "-         next != _model.getRoot())", "-      {", "-        _model.removeNodeFromParent((MutableTreeNode)next); ", "-        _path2node.removeKey((InnerNode)next);", "-      }", "-    }", "+    ", "+    cleanFolderNode(parent);", "+//    // check all elements of the tree and remove incomplete items", "+//    Enumeration enumeration = ((DefaultMutableTreeNode)_model.getRoot()).depthFirstEnumeration();", "+//    while(enumeration.hasMoreElements()) {", "+//      TreeNode next = (TreeNode)enumeration.nextElement();", "+//      if(next.getChildCount() == 0 &&", "+//         !_doc2node.containsValue(next) && ", "+//         next != _model.getRoot())", "+//      {", "+//        _model.removeNodeFromParent((MutableTreeNode)next);", "+//        _path2node.removeKey((InnerNode)next);", "+//      }", "+//    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4cacf02aaac4af36db3f1b28025700cb", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/docnavigation/JTreeSortNavigator.java", "commitBeforeChange": "55fb98a726c0190aa8a7fbeee084f55def19ac79", "commitAfterChange": "771a0aee635c62bc6d0a2000fe605dc1113ef2b9", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 21, "signatureBeforeChange": "   public Enumeration<INavigatorItem> getDocuments()", "signatureAfterChange": "   public <T extends INavigatorItem> Enumeration<T> getDocuments()", "diff": ["-  public Enumeration<INavigatorItem> getDocuments() {", "+  public <T extends INavigatorItem> Enumeration<T> getDocuments() {", "-    final ArrayList<INavigatorItem> list = new ArrayList<INavigatorItem>();", "-    Enumeration e_tmp = ((DefaultMutableTreeNode)_model.getRoot()).depthFirstEnumeration();", "+    final ArrayList<T> list = new ArrayList<T>();", "-    while(e_tmp.hasMoreElements()) {", "-      DefaultMutableTreeNode node = (DefaultMutableTreeNode)e_tmp.nextElement();", "-      if (node.isLeaf() && node != _model.getRoot()) ", "-        list.add((INavigatorItem)node.getUserObject());", "+    synchronized(_model) {", "+      Enumeration e_tmp = ((DefaultMutableTreeNode)_model.getRoot()).depthFirstEnumeration();", "+      ", "+      while(e_tmp.hasMoreElements()) {", "+        DefaultMutableTreeNode node = (DefaultMutableTreeNode)e_tmp.nextElement();", "+        if (node.isLeaf() && node != _model.getRoot()) ", "+          list.add((T)node.getUserObject());", "+      }", "-    return new Enumeration<INavigatorItem>() {", "+    return new Enumeration<T>() {", "-      private Iterator<INavigatorItem> it = list.iterator();", "+      private Iterator<T> it = list.iterator();", "-      public INavigatorItem nextElement() { return it.next(); }", "+      public T nextElement() { return it.next(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6b2f8d663ee95885a8fbb78e73c64c1a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/docnavigation/JTreeSortNavigator.java", "commitBeforeChange": "12c7c1796a51c2e7ab4bd2410636b833aaf2c7dd", "commitAfterChange": "e64e0f2febfc163cfb04eb35ce1134673166ab50", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "   private synchronized INavigatorItem removeNode(LeafNode toRemove)", "signatureAfterChange": "   private INavigatorItem removeNode(LeafNode toRemove)", "diff": ["-   */", "-  private synchronized INavigatorItem removeNode(LeafNode toRemove){", "+  /** Only takes in nodes that have a inavigatoritem as their object */", "+  private INavigatorItem removeNode(LeafNode toRemove){", "-//    // check all elements of the tree and remove incomplete items", "-//    Enumeration enumeration = ((DefaultMutableTreeNode)_model.getRoot()).depthFirstEnumeration();", "-//    while(enumeration.hasMoreElements()) {", "-//      TreeNode next = (TreeNode)enumeration.nextElement();", "-//      if(next.getChildCount() == 0 &&", "-//         !_doc2node.containsValue(next) && ", "-//         next != _model.getRoot())", "-//      {", "-//        _model.removeNodeFromParent((MutableTreeNode)next);", "-//        _path2node.removeKey((InnerNode)next);", "-//      }", "-//    }", "-   ", "-  ", "-    if(_nonProjRoot.getChildCount() == 0)", "-    {", "-      _hasnonprojfilesopen = false;", "-    }", "+    //    // check all elements of the tree and remove incomplete items", "+    //    Enumeration enumeration = ((DefaultMutableTreeNode)_model.getRoot()).depthFirstEnumeration();", "+    //    while(enumeration.hasMoreElements()) {", "+    //      TreeNode next = (TreeNode)enumeration.nextElement();", "+    //      if(next.getChildCount() == 0 &&", "+    //         !_doc2node.containsValue(next) && ", "+    //         next != _model.getRoot())", "+    //      {", "+    //        _model.removeNodeFromParent((MutableTreeNode)next);", "+    //        _path2node.removeKey((InnerNode)next);", "+    //      }", "+    //    }", "+    ", "+    ", "+    if(_nonProjRoot.getChildCount() == 0) _hasNonProjFilesOpen = false;"]}], "num": 18612}