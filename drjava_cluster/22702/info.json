{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b392e5fa311b1d20d1db24eaf9b2425d", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "556ffa77617c93c21fa9ee100da866a0", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/junit/JUnitErrorModel.java", "commitBeforeChange": "7cfb2b5dee6eef3d4b4c3e88918deee5af68078a", "commitAfterChange": "50f8ddd53ad051b199f7d13e98934938f25bd2ae", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "   public JUnitErrorModel(Document doc, String theclass, TestResult result)", "signatureAfterChange": "   public JUnitErrorModel(Document doc, String theclass, TestResult result)", "diff": ["-      String theLine = sw.toString().substring(sw.toString().indexOf(classname));", "-      theLine = theLine.substring(0, theLine.indexOf(\"\\n\"));", "+      String theLine = _substring(sw.toString(), 0, sw.toString().indexOf(classname));", "+      theLine = _substring(theLine, 0, theLine.indexOf(\"\\n\"));", "-      theLine = theLine.substring(theLine.indexOf(\"(\") + 1);", "-      theLine = theLine.substring(0, theLine.indexOf(\")\"));", "+      theLine = _substring(theLine, 0, theLine.indexOf(\"(\") + 1);", "+      theLine = _substring(theLine, 0, theLine.indexOf(\")\"));", "-      String file = theLine.substring(0, theLine.indexOf(\":\"));", "+      String file = _substring(theLine, 0, theLine.indexOf(\":\"));", "-        lineNo = new Integer(theLine.substring(theLine.indexOf(\":\") + 1)).intValue() - 1;", "-      } catch (NumberFormatException e) {", "+        lineNo = new Integer(_substring(theLine, ", "+                                        theLine.indexOf(\":\") + 1,", "+                                        theLine.length()))", "+          .intValue() - 1;", "+      } ", "+      catch (NumberFormatException e) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "84396948ec39d5b6e7ccb982f849cbf8", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/GlobalModelJUnitTest.java", "commitBeforeChange": "6e00bd0fe78b22f9b84f30182d050c16081947ef", "commitAfterChange": "d6801eea8d321f3e0015cdd20a1cba75837384cb", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "   public void testOneJUnitError() throws Exception", "signatureAfterChange": "   public void testOneJUnitError() throws Exception", "diff": ["-    if (printMessages) System.out.println(\"before compile\");", "-    doc.startCompile();", "-    if (printMessages) System.out.println(\"after compile\");", "-    _runJUnit();", "+    listener.compile(doc);", "+    listener.checkCompileOccurred();", "+    ", "+    listener.runJUnit(_model.getJUnitModel());", "-    assertEquals(\"test case has one error reported\",", "-                 1,", "+    assertEquals(\"test case has one error reported\", 1,", "+    ", "+    _log.log(\"testOneJUnitError completed\");"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b0443103ffd5a1cfafd0bf99f5a93823", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/NewVersionPopup.java", "commitBeforeChange": "a0485f85335f36c90789dfb389fcf6d34d6ebb24", "commitAfterChange": "bdfe950dc400d21dc2bdd8774632b12854b9f66c", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "\r   protected void downloadAction()", "signatureAfterChange": "   protected void downloadAction()", "diff": ["-  }\r", "-  protected void downloadAction() {\r", "-    closeAction();\r", "-    final String DRJAVA_FILES_PAGE = \"http://sourceforge.net/project/showfiles.php?group_id=44253\";\r", "-    final String LINK_PREFIX = \"<a href=\\\"/project/showfiles.php?group_id=44253\";\r", "-    final String LINK_SUFFIX = \"\\\">\";\r", "-    try {\r", "-      URL url = new URL(DRJAVA_FILES_PAGE);\r", "-      InputStream urls = url.openStream();\r", "-      InputStreamReader is = null;\r", "-      BufferedReader br = null;\r", "-      is = new InputStreamReader(urls);\r", "-      br = new BufferedReader(is);\r", "-      String line;\r", "-      int pos;\r", "-      // search for the link to the version\r", "-      while((line=br.readLine())!=null) {\r", "-        if((pos=line.indexOf(_newestVersionString))>=0) {\r", "-          int prePos = line.indexOf(LINK_PREFIX);\r", "-          if ((prePos>=0) && (prePos<pos)) {\r", "-            int suffixPos = line.indexOf(LINK_SUFFIX, prePos);\r", "-            if ((suffixPos>=0) && (suffixPos+LINK_SUFFIX.length()==pos)) {\r", "-              String versionLink = \r", "-                edu.rice.cs.plt.text.TextUtil.xmlUnescape(line.substring(prePos+LINK_PREFIX.length(),suffixPos));\r", "-              PlatformFactory.ONLY.openURL(new URL(DRJAVA_FILES_PAGE+versionLink));\r", "-              return;\r", "-            }\r", "-          }\r", "-        }\r", "-      };\r", "-    }\r", "-    catch(Exception e) {\r", "-      try {\r", "-        // something went wrong, open the general file download page\r", "-        PlatformFactory.ONLY.openURL(new URL(DRJAVA_FILES_PAGE));\r", "-      }\r", "-      catch(Exception ex) { /* ignore */ }\r", "-    }\r", "-  }\r", "+  }", "+  protected void downloadAction() {", "+    closeAction();", "+    final String DRJAVA_FILES_PAGE = \"http://sourceforge.net/project/showfiles.php?group_id=44253\";", "+    final String LINK_PREFIX = \"<a href=\\\"/project/showfiles.php?group_id=44253\";", "+    final String LINK_SUFFIX = \"\\\">\";", "+    BufferedReader br = null;", "+    try {", "+      URL url = new URL(DRJAVA_FILES_PAGE);", "+      InputStream urls = url.openStream();", "+      InputStreamReader is = new InputStreamReader(urls);", "+      br = new BufferedReader(is);", "+      String line;", "+      int pos;", "+      // search for the link to the version", "+      while((line = br.readLine()) != null) {", "+        if ((pos = line.indexOf(_newestVersionString)) >= 0) {", "+          int prePos = line.indexOf(LINK_PREFIX);", "+          if ((prePos >= 0) && (prePos < pos)) {", "+            int suffixPos = line.indexOf(LINK_SUFFIX, prePos);", "+            if ((suffixPos >= 0) && (suffixPos + LINK_SUFFIX.length() == pos)) {", "+              String versionLink = ", "+                edu.rice.cs.plt.text.TextUtil.xmlUnescape(line.substring(prePos + LINK_PREFIX.length(), suffixPos));", "+              PlatformFactory.ONLY.openURL(new URL(DRJAVA_FILES_PAGE + versionLink));", "+              return;", "+            }", "+          }", "+        }", "+      };", "+    }", "+    catch(IOException e) { _openFileDownloadPage(DRJAVA_FILES_PAGE); }", "+    finally { // close open input stream", "+      try { br.close(); }", "+      catch(IOException e) { /* ignore */ }", "+    }", "+  }"]}], "num": 22702}