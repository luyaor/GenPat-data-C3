{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "271404ea6f7ffc2c852c2562a0d4ac53", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "19833345761f406265e633f707301b5b", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "dynamicjava/src/edu/rice/cs/dynamicjava/interpreter/TreeClassLoader.java", "commitBeforeChange": "66044dc35b8be11319705314c96973e09057e03e", "commitAfterChange": "a5ae5bcbd4d40718a2d40d7b0f66e985886102c4", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 4, "signatureBeforeChange": "      public Class<?> loadTree(TreeClass treeClass)", "signatureAfterChange": "    protected Class<?> findClass(String name) throws ClassNotFoundException", "diff": ["-  public Class<?> loadTree(TreeClass treeClass) {", "-    TreeCompiler compiler = new TreeCompiler(treeClass, _opt);", "-    byte[] bytes = compiler.bytecode();", "-    _adapters.put(treeClass.fullName(), compiler.evaluationAdapter());", "-    return defineClass(treeClass.fullName(), bytes, 0, bytes.length);", "+", "+  protected Class<?> findClass(String name) throws ClassNotFoundException {", "+    TreeClass treeClass = _registeredTrees.get(name);", "+    if (treeClass == null) { throw new ClassNotFoundException(); }", "+    else {", "+      TreeCompiler compiler = new TreeCompiler(treeClass, _opt);", "+      byte[] bytes = compiler.bytecode();", "+      _adapters.put(name, compiler.evaluationAdapter());", "+      return defineClass(name, bytes, 0, bytes.length);", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "53b563c8f5d022f013d2540af01046b0", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/DynamicJavaAdapter.java", "commitBeforeChange": "69d4590eff40914052a36cc82d8a74c43211028e", "commitAfterChange": "46bddad84804814dd0241cc4f939b2c8bb524e79", "methodNumberBeforeChange": 49, "methodNumberAfterChange": 49, "signatureBeforeChange": "         protected Class loadClass(String name, boolean resolve) throws ClassNotFoundException", "signatureAfterChange": "         protected Class<?> loadClass(String name, boolean resolve) throws ClassNotFoundException", "diff": ["-  protected Class loadClass(String name, boolean resolve) throws ClassNotFoundException{", "-    Class clazz;", "+  protected Class<?> loadClass(String name, boolean resolve) throws ClassNotFoundException{", "+    Class<?> clazz;", "-    if (classes.containsKey(name)) {", "-      clazz = (Class) classes.get(name);", "-    }", "+    if (classes.containsKey(name)) clazz = (Class<?>) classes.get(name);", "-    if (resolve) {", "-      resolveClass(clazz);", "-    }", "+    if (resolve) resolveClass(clazz);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c92137aee645a18ae7461872dd187e76", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "plt/src/edu/rice/cs/plt/reflect/ShadowingClassLoader.java", "commitBeforeChange": "98a0206bc90f5eb73be3e2e6e290a67ee1cd136d", "commitAfterChange": "bd4a771b77ba1887596583ce142a4b7d1fa91b7e", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 4, "signatureBeforeChange": "   protected Class<?> loadClass(String name, boolean resolve) throws ClassNotFoundException", "signatureAfterChange": "   @Override protected Class<?> loadClass(String name, boolean resolve) throws ClassNotFoundException", "diff": ["-  protected Class<?> loadClass(String name, boolean resolve) throws ClassNotFoundException {", "-    if (shouldShadow(name)) { throw new ClassNotFoundException(name + \" is being shadowed\"); }", "+  @Override protected Class<?> loadClass(String name, boolean resolve) throws ClassNotFoundException {", "+    if (matchesPrefixes(name) == _blackList) {", "+      throw new ClassNotFoundException(name + \" is being shadowed\");", "+    }", "-      Class<?> result = getParent().loadClass(name);", "-      if (resolve) { resolveClass(result); }", "-      return result;", "+      // can't use getParent().loadClass(name) because parent may be null", "+      return super.loadClass(name, resolve);"]}], "num": 13691}