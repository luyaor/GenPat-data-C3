{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3e0e5c6fb974eefd0013fc5973e806d4", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6f20c3b1344614f51b11f9f4dd529085", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "cc830d3cfb835e44d2498e98729c28536d682aad", "commitAfterChange": "611afcaf59528294d37f92105e692c81ac320af5", "methodNumberBeforeChange": 67, "methodNumberAfterChange": 68, "signatureBeforeChange": "   public void setTab(String tab, int pos)", "signatureAfterChange": "   public void setTab(String tab, int pos)", "diff": ["-      // Removes old prefix, then adds new one", "-      // FIXME: If tab only contains spaces, then just adjust as necessary", "-      //   for efficiency, rather than replacing the whole thing", "-      if (!_hasOnlySpaces(tab) || (len != tab.length())) {", "-        remove(startPos, len);", "-        insertString(startPos, tab, null);", "+      // Adjust prefix", "+      boolean onlySpaces = _hasOnlySpaces(tab);", "+      if (!onlySpaces || (len != tab.length())) {", "+        ", "+        if (onlySpaces) {", "+          // Only add or remove the difference", "+          int diff = tab.length() - len;", "+          if (diff > 0) {", "+            insertString(firstNonWSPos, tab.substring(0, diff), null);", "+          }", "+          else {", "+            remove(firstNonWSPos + diff, -diff);", "+          }", "+        }", "+        else {", "+          // Remove the whole prefix, then add the new one", "+          remove(startPos, len);", "+          insertString(startPos, tab, null);", "+        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d7f17b14f229ecc81424cb49a6e43491", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/config/FontOption.java", "commitBeforeChange": "68e6d61fd13bb2131c775cb4e81c03ea2f5c0f41", "commitAfterChange": "b432c2a5363ca609f111d7dec3ae5ed814c173ea", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "   public Font parse(String s)", "signatureAfterChange": "   public Font parse(String s)", "diff": ["-    return Font.decode(s.replaceAll(\"PLAIN-\",\"\"));  //Font.decode(s);", "+    String newS = s;// s.replaceAll(\"PLAIN-\",\"\")", "+    int idx = newS.indexOf(\"PLAIN-\");", "+    while (idx != -1) {", "+      newS = newS.substring(0, idx) + newS.substring(idx + 6);", "+      idx = newS.indexOf(\"PLAIN-\");", "+    }", "+    return Font.decode(newS);  //Font.decode(s);"]}], "num": 2824}