{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "477d5a45cebf2d7a6befc469735cc759", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "280673468095ff57a00c1cc1c8aee93a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "plt/src/edu/rice/cs/plt/reflect/JavaVersion.java", "commitBeforeChange": "bffcae721f8dbc844dc8a667963f0caab39047ea", "commitAfterChange": "0af0c72004872701891228fa18659a3204fb6e2f", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 5, "signatureBeforeChange": "   public static FullVersion parseFullVersion(String java_version,                                              String java_runtime_name,                                              String java_vm_vendor,                                              List<Lambda3<String,String,String,String>> compoundJVMDetectors)", "signatureAfterChange": "   public static FullVersion parseFullVersion(String java_version,                                              String java_runtime_name,                                              String java_vm_vendor)", "diff": ["-                                             String java_vm_vendor,", "-                                             List<Lambda3<String,String,String,String>> compoundJVMDetectors) {", "+                                             String java_vm_vendor) {", "-    ", "-    for(Lambda3<String,String,String,String> detector: compoundJVMDetectors) {", "-      String tempVendorString = detector.value(java_version,", "-                                               java_runtime_name,", "-                                               java_vm_vendor);", "-      if (tempVendorString != null) {", "-        vendor = VendorType.COMPOUND;", "-        vendorString = tempVendorString;", "-        break;", "-      }", "-    }", "-                                             vendor, vendorString); }", "+                                             vendor, vendorString, java_runtime_name, java_vm_vendor); }", "-                                             vendor, vendorString); }", "+                                             vendor, vendorString, java_runtime_name, java_vm_vendor); }", "-                             vendor, vendorString);", "+                             vendor, vendorString, java_runtime_name, java_vm_vendor);", "-                                                             vendor, vendorString); }", "+                                                             vendor, vendorString, \"\", \"\"); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3515b7fb3ecd84cec51476ffbc703d7e", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "plt/src/edu/rice/cs/plt/reflect/JavaVersion.java", "commitBeforeChange": "c1c33f1060f9022135b7f75a813b69c4045f6b46", "commitAfterChange": "0de85ca2b785d7ad489463f9a174133a91014910", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 6, "signatureBeforeChange": "   public static FullVersion parseFullVersion(String java_version, String java_runtime_name, String java_vm_vendor)", "signatureAfterChange": "   public static FullVersion parseFullVersion(String java_version,                                              String java_runtime_name,                                              String java_vm_vendor,                                              List<Lambda3<String,String,String,String>> compoundJVMDetectors)", "diff": ["-  public static FullVersion parseFullVersion(String java_version, String java_runtime_name, String java_vm_vendor) {", "+  public static FullVersion parseFullVersion(String java_version,", "+                                             String java_runtime_name,", "+                                             String java_vm_vendor,", "+                                             List<Lambda3<String,String,String,String>> compoundJVMDetectors) {", "-    if (java_runtime_name.toLowerCase().contains(\"mint\")) {", "-      vendor = VendorType.MINT;", "-      vendorString = \"Mint\";", "+    ", "+    for(Lambda3<String,String,String,String> detector: compoundJVMDetectors) {", "+      String tempVendorString = detector.value(java_version,", "+                                               java_runtime_name,", "+                                               java_vm_vendor);", "+      if (tempVendorString != null) {", "+        vendor = VendorType.COMPOUND;", "+        vendorString = tempVendorString;", "+        break;", "+      }", "-    if (java_runtime_name.toLowerCase().contains(\"openjdk\")) {", "-      vendor = VendorType.OPENJDK;", "-      vendorString = \"OpenJDK\";", "-    }", "-    else if (java_vm_vendor.toLowerCase().contains(\"apple\")) {", "-      vendor = VendorType.APPLE;", "-      vendorString = \"Apple\";", "-    }", "-    else if (java_vm_vendor.toLowerCase().contains(\"sun\")) {", "-      vendor = VendorType.SUN;", "-      vendorString = \"Sun\";", "+    ", "+    if (vendor == VendorType.UNKNOWN) {", "+      if (java_runtime_name.toLowerCase().contains(\"openjdk\")) {", "+        vendor = VendorType.OPENJDK;", "+        vendorString = \"OpenJDK\";", "+      }", "+      else if (java_vm_vendor.toLowerCase().contains(\"apple\")) {", "+        vendor = VendorType.APPLE;", "+        vendorString = \"Apple\";", "+      }", "+      else if (java_vm_vendor.toLowerCase().contains(\"sun\")) {", "+        vendor = VendorType.SUN;", "+        vendorString = \"Sun\";", "+      }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5d1848e58a589ddea29233b01f7e935a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "plt/src/edu/rice/cs/plt/reflect/JavaVersion.java", "commitBeforeChange": "201211c7e1e210d4dce9a0e2101594a81a3b57d8", "commitAfterChange": "ad1e0488fe90db5e1e6108de7f4f685fac998627", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "\r     public int compareTo(FullVersion v)", "signatureAfterChange": "     public int compareTo(FullVersion v)", "diff": ["-     */\r", "-    public int compareTo(FullVersion v) {\r", "-      int result = _majorVersion.compareTo(v._majorVersion);\r", "-      if (result == 0) {\r", "-        result = _maintenance - v._maintenance;\r", "-        if (result == 0) {\r", "-          result = _update - v._update;\r", "-          if (result == 0) {\r", "-            result = _type.compareTo(v._type);\r", "-            if (result == 0) {\r", "-              result = _vendor.compareTo(v._vendor);\r", "-              if (result == 0 && !_type.equals(ReleaseType.STABLE)) {\r", "-                result = _typeString.compareTo(v._typeString);\r", "-              }\r", "-            }\r", "-          }\r", "-        }\r", "-      }\r", "-      return result;\r", "-    }\r", "+     */", "+    public int compareTo(FullVersion v) {", "+      if ((_vendor==VendorType.MINT) && (v._vendor!=VendorType.MINT)) {", "+        // this is Mint, v is not: this before v", "+        return -1;", "+      }", "+      ", "+      int result = _majorVersion.compareTo(v._majorVersion);", "+      if (result == 0) {", "+        result = _maintenance - v._maintenance;", "+        if (result == 0) {", "+          result = _update - v._update;", "+          if (result == 0) {", "+            result = _type.compareTo(v._type);", "+            if (result == 0) {", "+              result = _vendor.compareTo(v._vendor);", "+              if (result == 0 && !_type.equals(ReleaseType.STABLE)) {", "+                result = _typeString.compareTo(v._typeString);", "+              }", "+            }", "+          }", "+        }", "+      }", "+      return result;", "+    }"]}], "num": 8370}