{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a974b264a9d09adbce9bd536dddfbbe3", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1c89ff627af623c3858acc0735e8f5ea", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/indent/ActionStartPrevStmtPlus.java", "commitBeforeChange": "66e3bf5b9e7c116ff08fb5d237bdd1378cfb618a", "commitAfterChange": "22f4e4d3d8066ee931c35c7ee670d4fd2e8cfd6c", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "   public void indentLine(DefinitionsDocument doc)", "signatureAfterChange": "   public void indentLine(DefinitionsDocument doc)", "diff": ["+    ", "+    try {", "+      // Jump over {-} region if delimiter was a close brace.", "+      char delim = doc.getText(prevDelimiterPos, 1).charAt(0);", "+      if (delim == '}') {", "+        BraceReduction reduced = doc.getReduced();", "+        reduced.resetLocation();", "+        int dist = prevDelimiterPos - here + 1;", "+        reduced.move(dist);", "+        prevDelimiterPos -= reduced.balanceBackward() - 1;", "+        reduced.move(-dist);", "+      }", "+    }", "+    catch (BadLocationException e) {", "+      throw new UnexpectedException(e);", "+    }", "+    "]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "667d994c7d235f42afe593fafce1a9f9", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/indent/ActionStartPrevStmtPlus.java", "commitBeforeChange": "6cf6212d2242fc41ac00a6496c1e1ba3b53de977", "commitAfterChange": "04e763507593a06a56de16c4b3641de0dbca16f7", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "   public void indentLine(DefinitionsDocument doc)", "signatureAfterChange": "   public void indentLine(DefinitionsDocument doc)", "diff": ["-      if (delim == '}') {", "-        BraceReduction reduced = doc.getReduced();", "-        reduced.resetLocation();", "+      if (delim == '}') {       ", "+        //BraceReduction reduced = doc.getReduced();", "+        //we're pretty sure the doc is in sync.", "+        doc.resetReducedModelLocation();", "-        reduced.move(dist);", "-        prevDelimiterPos -= reduced.balanceBackward() - 1;", "-        reduced.move(-dist);", "+        synchronized(doc){", "+          doc.move(dist);", "+          prevDelimiterPos -= doc.balanceBackward() - 1;", "+          doc.move(-dist);", "+        }"]}], "num": 17250}