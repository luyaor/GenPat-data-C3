{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "adabef883acd8071d7b78d92e3ecb334", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "21157552f775831a859feb690eb946d0", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "javalanglevels/src/edu/rice/cs/javalanglevels/ElementaryLevelTest.java", "commitBeforeChange": "4cc63aff8a22c85ad1d78de9f4e0b9395e7d4e72", "commitAfterChange": "e330f3abbead97d3e3ac8751976bab81936096c2", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "\r   public void testSomeFilesCompiled()", "signatureAfterChange": "   public void testSomeFilesCompiled()", "diff": ["-   */\r", "-  public void testSomeFilesCompiled() {\r", "-    directory = new File(directory, \"someCompiled\");\r", "-    File[] testFiles = directory.listFiles(new FileFilter() {\r", "-      public boolean accept(File pathName) {\r", "-        return pathName.getName().equals(\"UseOtherClassAsField.dj0\") || pathName.getName().equals(\"SubClass.dj0\");\r", "-      }});\r", "-      \r", "-      LanguageLevelConverter llc = new LanguageLevelConverter(JavaVersion.JAVA_5);\r", "-      Pair<LinkedList<JExprParseException>, LinkedList<Pair<String, JExpressionIF>>> result;\r", "-      result = llc.convert(testFiles);\r", "-      \r", "-      assertEquals(\"should be no parse exceptions\", new LinkedList<JExprParseException>(), result.getFirst());\r", "-      assertEquals(\"should be no visitor exceptions\", new LinkedList<Pair<String, JExpressionIF>>(), result.getSecond());\r", "-\r", "-      /**Now make sure that the resulting java files are correct.*/\r", "-      for(int i = 0; i < testFiles.length; i++) {\r", "-        File currFile = testFiles[i];\r", "-        String fileName = currFile.getAbsolutePath();\r", "-        fileName = fileName.substring(0, fileName.length() -4);\r", "-        File resultingFile = new File(fileName + \".java\");\r", "-        File correctFile = new File(fileName + \".expected\");\r", "-        \r", "-        try {\r", "-        assertEquals(\"File \" + currFile.getName() + \" should have been handled correctly\",\r", "-                     readFileAsString(correctFile),\r", "-                     readFileAsString(resultingFile));\r", "-        }\r", "-        catch (IOException ioe) {\r", "-          fail(ioe.getMessage());\r", "-          // let JUnit throw the exception\r", "-        }\r", "-      }\r", "-      \r", "-      /**And make sure that .java files did not get generated for the classes referenced from our test class.*/\r", "-      File superClass = new File(directory.getAbsolutePath() + \"SuperClass.java\");\r", "-      File classAsField = new File(directory.getAbsolutePath() + \"ClassAsField.java\");\r", "-      assertFalse(\"superClass.java should not exist\", superClass.exists());\r", "-      assertFalse(\"ClassAsField.java should not exist\", classAsField.exists());\r", "-      \r", "-  }\r", "+   */", "+  public void testSomeFilesCompiled() {", "+    directory = new File(directory, \"someCompiled\");", "+    File[] testFiles = directory.listFiles(new FileFilter() {", "+      public boolean accept(File pathName) {", "+        return pathName.getName().equals(\"UseOtherClassAsField.dj0\") || pathName.getName().equals(\"SubClass.dj0\");", "+      }});", "+      ", "+      LanguageLevelConverter llc = new LanguageLevelConverter();", "+      Pair<LinkedList<JExprParseException>, LinkedList<Pair<String, JExpressionIF>>> result;", "+      result = llc.convert(testFiles, new Options(JavaVersion.JAVA_5, IterUtil.<File>empty()));", "+      ", "+      assertEquals(\"should be no parse exceptions\", new LinkedList<JExprParseException>(), result.getFirst());", "+      assertEquals(\"should be no visitor exceptions\", new LinkedList<Pair<String, JExpressionIF>>(), result.getSecond());", "+", "+      /**Now make sure that the resulting java files are correct.*/", "+      for(int i = 0; i < testFiles.length; i++) {", "+        File currFile = testFiles[i];", "+        String fileName = currFile.getAbsolutePath();", "+        fileName = fileName.substring(0, fileName.length() -4);", "+        File resultingFile = new File(fileName + \".java\");", "+        File correctFile = new File(fileName + \".expected\");", "+        ", "+        try {", "+        assertEquals(\"File \" + currFile.getName() + \" should have been handled correctly\",", "+                     IOUtil.toString(correctFile),", "+                     IOUtil.toString(resultingFile));", "+        }", "+        catch (IOException ioe) {", "+          fail(ioe.getMessage());", "+          // let JUnit throw the exception", "+        }", "+      }", "+      ", "+      /**And make sure that .java files did not get generated for the classes referenced from our test class.*/", "+      File superClass = new File(directory.getAbsolutePath() + \"SuperClass.java\");", "+      File classAsField = new File(directory.getAbsolutePath() + \"ClassAsField.java\");", "+      assertFalse(\"superClass.java should not exist\", superClass.exists());", "+      assertFalse(\"ClassAsField.java should not exist\", classAsField.exists());", "+      ", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5472b4bb4728254edcfe5e0bff6e500b", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "javalanglevels/src/edu/rice/cs/javalanglevels/IntermediateLevelTest.java", "commitBeforeChange": "4cc63aff8a22c85ad1d78de9f4e0b9395e7d4e72", "commitAfterChange": "e330f3abbead97d3e3ac8751976bab81936096c2", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "\r   public void testSuccessful()", "signatureAfterChange": "   public void testSuccessful()", "diff": ["-   */\r", "-  public void testSuccessful() {\r", "-    File[] testFiles = directory.listFiles(new FileFilter() {\r", "-      public boolean accept(File pathName) {\r", "-        return pathName.getAbsolutePath().endsWith(\".dj1\") && !pathName.getAbsolutePath().endsWith(\"Yay.dj1\");  //we will check Yay.dj1 for 1.4 augmentation\r", "-      }\r", "-    });\r", "-\r", "-    System.out.flush();\r", "-    \r", "-    LanguageLevelConverter llc = new LanguageLevelConverter(JavaVersion.JAVA_5);\r", "-    Pair<LinkedList<JExprParseException>, LinkedList<Pair<String, JExpressionIF>>> result;\r", "-    result = llc.convert(testFiles);\r", "-    \r", "-    assertEquals(\"should be no parse exceptions\", new LinkedList<JExprParseException>(), result.getFirst());\r", "-    \r", "-    assertEquals(\"should be no visitor exceptions\", new LinkedList<Pair<String, JExpressionIF>>(), result.getSecond());\r", "-    \r", "-    /**Now make sure that the resulting java files are correct.*/\r", "-    for(int i = 0; i < testFiles.length; i++) {\r", "-      File currFile = testFiles[i];\r", "-      String fileName = currFile.getAbsolutePath();\r", "-      fileName = fileName.substring(0, fileName.length() -4);\r", "-      File resultingFile = new File(fileName + \".java\");\r", "-      File correctFile = new File(fileName + \".expected\");\r", "-      if (correctFile.exists()) {\r", "-        try {\r", "-          assertEquals(\"File \" + currFile.getName() + \" should have been parsed and augmented correctly.\",\r", "-                       readFileAsString(correctFile),\r", "-                       readFileAsString(resultingFile));\r", "-        }\r", "-        catch (IOException ioe) {\r", "-          fail(ioe.getMessage());\r", "-          // let JUnit throw the exception\r", "-        }\r", "-      }\r", "-    }\r", "-  }\r", "+   */", "+  public void testSuccessful() {", "+    File[] testFiles = directory.listFiles(new FileFilter() {", "+      public boolean accept(File pathName) {", "+        return pathName.getAbsolutePath().endsWith(\".dj1\") && !pathName.getAbsolutePath().endsWith(\"Yay.dj1\");  //we will check Yay.dj1 for 1.4 augmentation", "+      }", "+    });", "+", "+    System.out.flush();", "+    ", "+    LanguageLevelConverter llc = new LanguageLevelConverter();", "+    Pair<LinkedList<JExprParseException>, LinkedList<Pair<String, JExpressionIF>>> result;", "+    result = llc.convert(testFiles, new Options(JavaVersion.JAVA_5, IterUtil.<File>empty()));", "+    ", "+    assertEquals(\"should be no parse exceptions\", new LinkedList<JExprParseException>(), result.getFirst());", "+    ", "+    assertEquals(\"should be no visitor exceptions\", new LinkedList<Pair<String, JExpressionIF>>(), result.getSecond());", "+    ", "+    /**Now make sure that the resulting java files are correct.*/", "+    for(int i = 0; i < testFiles.length; i++) {", "+      File currFile = testFiles[i];", "+      String fileName = currFile.getAbsolutePath();", "+      fileName = fileName.substring(0, fileName.length() -4);", "+      File resultingFile = new File(fileName + \".java\");", "+      File correctFile = new File(fileName + \".expected\");", "+      if (correctFile.exists()) {", "+        try {", "+          assertEquals(\"File \" + currFile.getName() + \" should have been parsed and augmented correctly.\",", "+                       IOUtil.toString(correctFile),", "+                       IOUtil.toString(resultingFile));", "+        }", "+        catch (IOException ioe) {", "+          fail(ioe.getMessage());", "+          // let JUnit throw the exception", "+        }", "+      }", "+    }", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "570800e3cbe1e112fafd6e081c454a4c", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "javalanglevels/src/edu/rice/cs/javalanglevels/ElementaryLevelTest.java", "commitBeforeChange": "4cc63aff8a22c85ad1d78de9f4e0b9395e7d4e72", "commitAfterChange": "e330f3abbead97d3e3ac8751976bab81936096c2", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "\r   public void testSuccessful()", "signatureAfterChange": "   public void testSuccessful()", "diff": ["-   * file is correct.*/\r", "-  public void testSuccessful() {\r", "-    File[] testFiles = directory.listFiles(new FileFilter() {\r", "-      public boolean accept(File pathName) {\r", "-        return pathName.getAbsolutePath().endsWith(\".dj0\");\r", "-      }\r", "-    });\r", "-    \r", "-    LanguageLevelConverter llc = new LanguageLevelConverter(JavaVersion.JAVA_5);\r", "-    Pair<LinkedList<JExprParseException>, LinkedList<Pair<String, JExpressionIF>>> result;\r", "-    result = llc.convert(testFiles);\r", "-    \r", "-    assertEquals(\"should be no parse exceptions\", new LinkedList<JExprParseException>(), result.getFirst());\r", "-    assertEquals(\"should be no visitor exceptions\", new LinkedList<Pair<String, JExpressionIF>>(), result.getSecond());\r", "-    \r", "-    /**Now make sure that the resulting java files are correct.*/\r", "-    for(int i = 0; i < testFiles.length; i++) {\r", "-      File currFile = testFiles[i];\r", "-      String fileName = currFile.getAbsolutePath();\r", "-      fileName = fileName.substring(0, fileName.length() -4);\r", "-      File resultingFile = new File(fileName + \".java\");\r", "-      File correctFile = new File(fileName + \".expected\");\r", "-      \r", "-      if (correctFile.exists()) {\r", "-        try {\r", "-          assertEquals(\"File \" + currFile.getName() + \" should have been parsed and augmented correctly.\",\r", "-                       readFileAsString(correctFile),\r", "-                       readFileAsString(resultingFile));\r", "-        }\r", "-        catch (IOException ioe) {\r", "-          fail(ioe.getMessage());\r", "-          // let JUnit throw the exception\r", "-        }\r", "-      }\r", "-    }\r", "-  }\r", "+   * file is correct.*/", "+  public void testSuccessful() {", "+    File[] testFiles = directory.listFiles(new FileFilter() {", "+      public boolean accept(File pathName) {", "+        return pathName.getAbsolutePath().endsWith(\".dj0\");", "+      }", "+    });", "+    ", "+    LanguageLevelConverter llc = new LanguageLevelConverter();", "+    Pair<LinkedList<JExprParseException>, LinkedList<Pair<String, JExpressionIF>>> result;", "+    result = llc.convert(testFiles, new Options(JavaVersion.JAVA_5, IterUtil.<File>empty()));", "+    ", "+    assertEquals(\"should be no parse exceptions\", new LinkedList<JExprParseException>(), result.getFirst());", "+    assertEquals(\"should be no visitor exceptions\", new LinkedList<Pair<String, JExpressionIF>>(), result.getSecond());", "+    ", "+    /**Now make sure that the resulting java files are correct.*/", "+    for(int i = 0; i < testFiles.length; i++) {", "+      File currFile = testFiles[i];", "+      String fileName = currFile.getAbsolutePath();", "+      fileName = fileName.substring(0, fileName.length() -4);", "+      File resultingFile = new File(fileName + \".java\");", "+      File correctFile = new File(fileName + \".expected\");", "+      ", "+      if (correctFile.exists()) {", "+        try {", "+          assertEquals(\"File \" + currFile.getName() + \" should have been parsed and augmented correctly.\",", "+                       IOUtil.toString(correctFile),", "+                       IOUtil.toString(resultingFile));", "+        }", "+        catch (IOException ioe) {", "+          fail(ioe.getMessage());", "+          // let JUnit throw the exception", "+        }", "+      }", "+    }", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cf79041fc21132cc45c8f02e189d29fd", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "javalanglevels/src/edu/rice/cs/javalanglevels/IntermediateLevelTest.java", "commitBeforeChange": "4cc63aff8a22c85ad1d78de9f4e0b9395e7d4e72", "commitAfterChange": "e330f3abbead97d3e3ac8751976bab81936096c2", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "\r   public void test14Augmentation()", "signatureAfterChange": "   public void test14Augmentation()", "diff": ["-  /*Make sure that 1.4 augmentation rules are correctly followed for Yay.dj1*/\r", "-  public void test14Augmentation() {\r", "-        File[] arrayF = new File[]{ new File(\"testFiles/forIntermediateLevelTest/Yay.dj1\")};\r", "-      LanguageLevelConverter llc = new LanguageLevelConverter(JavaVersion.JAVA_1_4);\r", "-      Pair<LinkedList<JExprParseException>, LinkedList<Pair<String, JExpressionIF>>> result;\r", "-      result = llc.convert(arrayF);\r", "-      assertEquals(\"should be no parse exceptions\", new LinkedList<JExprParseException>(), result.getFirst());\r", "-      \r", "-      assertEquals(\"should be no visitor exceptions\", new LinkedList<Pair<String, JExpressionIF>>(), result.getSecond());\r", "-      \r", "-      \r", "-      File currFile = new File(\"testFiles/forIntermediateLevelTest/Yay.dj1\");\r", "-      String fileName = currFile.getAbsolutePath();\r", "-      fileName = fileName.substring(0, fileName.length() -4);\r", "-      File resultingFile = new File(fileName + \".java\");\r", "-      File correctFile = new File(fileName + \".expected\");\r", "-        \r", "-      try {\r", "-        assertEquals(\"File \" + currFile.getName() + \" should have been parsed and augmented correctly.\",\r", "-                     readFileAsString(correctFile),\r", "-                     readFileAsString(resultingFile));\r", "-        }\r", "-      catch (IOException ioe) {\r", "-        fail(ioe.getMessage());\r", "-        // let JUnit throw the exception\r", "-      }\r", "-  }\r", "+  /*Make sure that 1.4 augmentation rules are correctly followed for Yay.dj1*/", "+  public void test14Augmentation() {", "+        File[] arrayF = new File[]{ new File(\"testFiles/forIntermediateLevelTest/Yay.dj1\")};", "+      LanguageLevelConverter llc = new LanguageLevelConverter();", "+      Pair<LinkedList<JExprParseException>, LinkedList<Pair<String, JExpressionIF>>> result;", "+      result = llc.convert(arrayF, new Options(JavaVersion.JAVA_1_4, IterUtil.<File>empty()));", "+      assertEquals(\"should be no parse exceptions\", new LinkedList<JExprParseException>(), result.getFirst());", "+      ", "+      assertEquals(\"should be no visitor exceptions\", new LinkedList<Pair<String, JExpressionIF>>(), result.getSecond());", "+      ", "+      ", "+      File currFile = new File(\"testFiles/forIntermediateLevelTest/Yay.dj1\");", "+      String fileName = currFile.getAbsolutePath();", "+      fileName = fileName.substring(0, fileName.length() -4);", "+      File resultingFile = new File(fileName + \".java\");", "+      File correctFile = new File(fileName + \".expected\");", "+        ", "+      try {", "+        assertEquals(\"File \" + currFile.getName() + \" should have been parsed and augmented correctly.\",", "+                     IOUtil.toString(correctFile),", "+                     IOUtil.toString(resultingFile));", "+        }", "+      catch (IOException ioe) {", "+        fail(ioe.getMessage());", "+        // let JUnit throw the exception", "+      }", "+  }"]}], "num": 14643}