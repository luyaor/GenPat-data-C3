{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "eac7194dbfa7e398c97213fef2c4d7d1", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4b4e37f7d0cb916366957573d379d42f", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/Configuration.java", "commitBeforeChange": "22f4e4d3d8066ee931c35c7ee670d4fd2e8cfd6c", "commitAfterChange": "17f7883ffae3637cf9ec6b5aa5b32f12aa6f1a56", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "          private Configuration()", "signatureAfterChange": "          private Configuration()", "diff": ["-\tOptionMapLoader loader = OptionMapLoader.DEFAULT;", "-\ttry {", "-\t    if (PROPERTIES_FILE.exists()) {", "-\t\tInputStream fis = new FileInputStream(PROPERTIES_FILE);", "-\t\tloader = new OptionMapLoader(fis);", "-\t    } else { // be nice and create a config file.", "-\t\tnew FileOutputStream(PROPERTIES_FILE).close();", "-\t    }", "+        try {", "+            PROPERTIES_FILE.createNewFile(); // be nice and ensure a config file", "-\tOptionMap map = new DefaultOptionMap();", "-\tloader.loadInto(map);", "-\t_config = new edu.rice.cs.drjava.config.Configuration(map);", "+        _config = new FileConfiguration(PROPERTIES_FILE);", "+        try {", "+            _config.loadConfiguration();", "+        } catch(IOException e) {", "+        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d22db9230e75657911ba634cdae8d5bd", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/Configuration.java", "commitBeforeChange": "042ffb6978685c2b793d5124edfd3dfa24636f7c", "commitAfterChange": "54c74315c73b1720afe84a0338d81d822eb71511", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "    private Configuration()", "signatureAfterChange": "          private Configuration()", "diff": ["-", "-  private Configuration() {", "-    _properties = new Properties();", "-", "-    try {", "-      // create empty props file if it doesn't exist", "-      if (! PROPERTIES_FILE.exists()) {", "-        new FileOutputStream(PROPERTIES_FILE).close();", "-      }", "-", "-      _properties.load(new FileInputStream(PROPERTIES_FILE));", "+    ", "+    private Configuration() {", "+\tOptionMapLoader loader = OptionMapLoader.DEFAULT;", "+\ttry {", "+\t    if (PROPERTIES_FILE.exists()) {", "+\t\tInputStream fis = new FileInputStream(PROPERTIES_FILE);", "+\t\tloader = OptionMapLoader.makeLoader(fis);", "+\t    } else { // be nice and create a config file.", "+\t\tnew FileOutputStream(PROPERTIES_FILE).close();", "+\t    }", "+\t} catch(IOException e) { // IOException occurred", "+\t}", "+\tOptionMap map = new DefaultOptionMap();", "+\tloader.loadInto(map);", "+\t_config = new edu.rice.cs.drjava.config.Configuration(map);", "-    catch (IOException ioe) {", "-      // oh well, didn't find any properties.", "-  }"]}], "num": 18434}