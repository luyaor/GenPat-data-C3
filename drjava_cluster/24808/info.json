{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "efd6a42440fbcf7ff94282536b755309", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5d7a1554d61c6bb26101681fa750a4b9", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/DebugPanel.java", "commitBeforeChange": "6989dd5fc1f06c1a4b2b298e19233d706afa3d5c", "commitAfterChange": "0cceb29d64fbac1b4be36f5a87cc236bf2407364", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "   public void updateData(boolean updateStack)", "signatureAfterChange": "   public void updateData(boolean updateStack)", "diff": ["-    //DrJava.consoleOut().println(\"updating data...\");", "-    ", "-    if (_debugger.isReady()) {", "+     if (_debugger.isReady()) {", "-        _threads = _debugger.getCurrentThreads();", "-        _stackFrames = _debugger.getCurrentStackFrames();", "+        _threads = _debugger.getCurrentThreadData();", "+        _stackFrames = _debugger.getCurrentStackFrameData();", "-        _threads = new Vector<ThreadReference>();", "-        _stackFrames = new Vector<StackFrame>();", "+        _threads = new Vector<DebugManager.ThreadData>();", "+        _stackFrames = new Vector<DebugManager.StackData>();", "-      _threads = new Vector<ThreadReference>();", "-      _stackFrames = new Vector<StackFrame>();", "+      _threads = new Vector<DebugManager.ThreadData>();", "+      _stackFrames = new Vector<DebugManager.StackData>();", "-    //DrJava.consoleOut().println(\"firing events...\");", "-    ", "-    ((AbstractTableModel)_threadTable.getModel()).fireTableDataChanged();", "-    ", "-    //DrJava.consoleOut().println(\"done firing events...\");", "+    if (_threadTable != null) {", "+      ((AbstractTableModel)_threadTable.getModel()).fireTableDataChanged();", "+    }", "+"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "dc029f9b26781dc8c17dd7ec81c12cad", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/DebugPanel.java", "commitBeforeChange": "9252a1853f289706bd8613c5b3a7e1dae6638ae1", "commitAfterChange": "eaf9387d90b9ce749cafaa91a98fe5e7c77f98e0", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "      public void updateData()", "signatureAfterChange": "   public void updateData(boolean updateStack)", "diff": ["-  public void updateData() {", "-    _watchpoints = _debugger.getWatchpoints();", "-    _threads = _debugger.getThreads();", "-    _frames = _debugger.getFrames();", "+   */", "+  public void updateData(boolean updateStack) {", "+    //DrJava.consoleOut().println(\"updating data...\");", "+    ", "+    if (_debugger.isReady()) {", "+      _watches = _debugger.getWatches();", "+      if (updateStack) {", "+        // Get threads and stack (thread suspended)", "+        _threads = _debugger.getCurrentThreads();", "+        _stackFrames = _debugger.getCurrentStackFrames();", "+      }", "+      else {", "+        // Empty tables (thread resumed)", "+        _threads = new Vector<ThreadReference>();", "+        _stackFrames = new Vector<StackFrame>();", "+      }", "+    }", "+    else {", "+      // Clean up if debugger dies", "+      _watches = new Vector<DebugManager.WatchData>();", "+      _threads = new Vector<ThreadReference>();", "+      _stackFrames = new Vector<StackFrame>();", "+      // also clear breakpoint tree?", "+    }", "+", "+    //DrJava.consoleOut().println(\"firing events...\");", "+    ", "+    //DrJava.consoleOut().println(\"done firing events...\");"]}], "num": 24808}