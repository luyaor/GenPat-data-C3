{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e7f2f3ec63af6bd448c99299081335cf", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "138e881cddd7eaee92732311935bf4da", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/ExecuteExternalDialog.java", "commitBeforeChange": "fb852ee67c669f40a587804216508a1dfbe1be4b", "commitAfterChange": "f938008597ce54d16e4a865d30f8ef062ea55d2f", "methodNumberBeforeChange": 98, "methodNumberAfterChange": 67, "signatureBeforeChange": "   protected void chooseFile(JTextPane pane)", "signatureAfterChange": "   protected void chooseFile(JTextPane pane)", "diff": ["-  /** Opens the file chooser to select a file, putting the result in the file field. */", "-  protected void chooseFile(JTextPane pane) {", "-    File wd = new File(StringOps.replaceVariables(pane.getText().trim(), PropertyMaps.ONLY, PropertyMaps.GET_CURRENT));", "+  /** Opens the file chooser to select a file, putting the result in the file field. */", "+  protected void chooseFile(JTextPane pane) {", "+    // Get the file from the chooser", "+    File wd = new File(StringOps.replaceVariables(pane.getText().trim(), _props, PropertyMaps.GET_CURRENT));", "+    if ((pane.getText().equals(\"\")) ||", "+        (!wd.exists()) &&", "+        (!wd.isFile())) {", "+      wd = null;", "+    }", "+    ", "+    _fileChooser.setSelectedFile(wd);", "+    _mainFrame.removeModalWindowAdapter(this);", "+    int returnValue = _fileChooser.showOpenDialog(this);", "+    _mainFrame.installModalWindowAdapter(this, NO_OP, CANCEL);      ", "+    if (returnValue == DirectoryChooser.APPROVE_OPTION) {", "+      File chosen = _fileChooser.getSelectedFile();", "+      if (chosen != null) { pane.setText(chosen.toString()); } else { pane.setText(\"\"); }", "+    }", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "98f855eba368754ccc4abcd53b9fe361", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/ExecuteExternalDialog.java", "commitBeforeChange": "a35de807c6239a74c75cd1d9a337e2c468729622", "commitAfterChange": "bf372fc29acf6ea260cc55361328f14ce539744d", "methodNumberBeforeChange": 98, "methodNumberAfterChange": 98, "signatureBeforeChange": "\r   protected void chooseFile(JTextPane pane)", "signatureAfterChange": "   protected void chooseFile(JTextPane pane)", "diff": ["-  /** Opens the file chooser to select a file, putting the result in the file field. */\r", "-  protected void chooseFile(JTextPane pane) {\r", "-    // Get the file from the chooser\r", "-    File wd = new File(StringOps.replaceVariables(pane.getText().trim(), PropertyMaps.ONLY, PropertyMaps.GET_CURRENT));\r", "-    if ((pane.getText().equals(\"\")) ||\r", "-        (!wd.exists()) &&\r", "-        (!wd.isDirectory())) {\r", "-      wd = new File(System.getProperty(\"user.dir\"));\r", "-    }\r", "-\r", "-    _dirChooser.setSelectedFile(wd);\r", "-    int returnValue = _dirChooser.showDialog(wd);\r", "-    if (returnValue == DirectoryChooser.APPROVE_OPTION) {\r", "-      File chosen = _dirChooser.getSelectedDirectory();\r", "-      if (chosen != null) { pane.setText(chosen.toString()); };\r", "-    }\r", "-  }\r", "+  /** Opens the file chooser to select a file, putting the result in the file field. */", "+  protected void chooseFile(JTextPane pane) {", "+    // Get the file from the chooser", "+    File wd = new File(StringOps.replaceVariables(pane.getText().trim(), PropertyMaps.ONLY, PropertyMaps.GET_CURRENT));", "+    if ((pane.getText().equals(\"\")) ||", "+        (!wd.exists()) &&", "+        (!wd.isDirectory())) {", "+      wd = new File(System.getProperty(\"user.dir\"));", "+    }", "+    ", "+    _dirChooser.setSelectedFile(wd);", "+    _mainFrame.removeModalWindowAdapter(this);", "+    int returnValue = _dirChooser.showDialog(wd);", "+    _mainFrame.installModalWindowAdapter(this, NO_OP, CANCEL);      ", "+    if (returnValue == DirectoryChooser.APPROVE_OPTION) {", "+      File chosen = _dirChooser.getSelectedDirectory();", "+      if (chosen != null) { pane.setText(chosen.toString()); };", "+    }", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "beeb6690946dcbfd8bb884eff3fcad01", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/ExecuteExternalDialog.java", "commitBeforeChange": "fda2639b8f33ecf044705f9cb480e25dbae0c84a", "commitAfterChange": "3c5a933a3b7bdbbae2845e4b6fe81e012901940b", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 86, "signatureBeforeChange": "    protected DirectorySelectorComponent createDirectorySelector()", "signatureAfterChange": "   protected void chooseFile(JTextPane pane)", "diff": ["-", "-  protected DirectorySelectorComponent createDirectorySelector() {", "-    DirectoryChooser dirChooser = new DirectoryChooser(this);", "-    File wd = _mainFrame.getModel().getWorkingDirectory();", "-    if (wd==null) { wd = new File(System.getProperty(\"user.dir\")); };", "-    // LOG.log(\"wd=\"+wd);", "-    dirChooser.setSelectedFile(wd);", "-    dirChooser.setDialogTitle(\"Select Working Directory\");", "-    dirChooser.setApproveButtonText(\"Select\");", "-//  dirChooser.setEditable(true);", "-    DirectorySelectorComponent dirSelector = new DirectorySelectorComponent(this, dirChooser, 20, 12f);", "-    dirSelector.setFileField(wd);", "-    return dirSelector;", "-  }", "+  /** Opens the file chooser to select a file, putting the result in the file field. */", "+  protected void chooseFile(JTextPane pane) {", "+    // Get the file from the chooser", "+    File wd = new File(replaceVariables(pane.getText().trim(), System.getProperties()));", "+    if ((pane.getText().equals(\"\")) ||", "+        (!wd.exists()) &&", "+        (!wd.isDirectory())) {", "+      wd = new File(System.getProperty(\"user.dir\"));", "+    }", "+", "+    _dirChooser.setSelectedFile(wd);", "+    int returnValue = _dirChooser.showDialog(wd);", "+    if (returnValue == DirectoryChooser.APPROVE_OPTION) {", "+      File chosen = _dirChooser.getSelectedDirectory();", "+      if (chosen != null) { pane.setText(chosen.toString()); };", "+    }", "+  }"]}], "num": 24300}