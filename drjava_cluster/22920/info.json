{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a89ef6f39335578407078b12cea2a05a", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a16e0708400298e228db222fbdea0669", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "d1a5d27cb22a5cf8891a6811cdc476b60834d1c0", "commitAfterChange": "eb9337b4d6e2d2de4c1774413f08dfb947ae389c", "methodNumberBeforeChange": 422, "methodNumberAfterChange": 422, "signatureBeforeChange": "   private boolean _warnFileOpen(File f)", "signatureAfterChange": "   private boolean _warnFileOpen(File f)", "diff": ["-    if(d == null) return false;", "-    int choice = JOptionPane.showOptionDialog(MainFrame.this,", "-                                              \"This file is already open in DrJava\" + (d.isModifiedSinceSave() ? \" and has been modified\" : \"\") ", "-                                                + \".  Do you wish to overwrite it?\",", "-                                                \"File Open Warning\",", "-                                              JOptionPane.YES_NO_OPTION,", "-                                              JOptionPane.QUESTION_MESSAGE,", "-                                              null,", "-                                              options,", "-                                              options[1]);", "-    if (choice == JOptionPane.YES_OPTION)  return _model.closeFileWithoutPrompt(d);", "+    if (d == null) return false;", "+    boolean dMod = d.isModifiedSinceSave();", "+    String msg = \"This file is already open in DrJava\" + (dMod ? \" and has been modified\" : \"\") + ", "+      \".  Do you wish to overwrite it?\";", "+    int choice = JOptionPane.showOptionDialog(MainFrame.this, msg, \"File Open Warning\", JOptionPane.YES_NO_OPTION,", "+                                              JOptionPane.QUESTION_MESSAGE, null, options, options[1]);", "+    if (choice == JOptionPane.YES_OPTION) return _model.closeFileWithoutPrompt(d);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ebd91c4553c680c92aa2f52b0295ff72", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "8d95a1805c723dadaf6966cff05bf6e39d55fe5e", "commitAfterChange": "830fa457bd100a306754098db963a55c0d92d71e", "methodNumberBeforeChange": 407, "methodNumberAfterChange": 407, "signatureBeforeChange": "   private boolean _warnFileOpen(File f)", "signatureAfterChange": "   private boolean _warnFileOpen(File f)", "diff": ["+    OpenDefinitionsDocument d = null;", "+    try {", "+      d = _model.getDocumentForFile(f);", "+    }", "+    catch(IOException ioe) {", "+      // this means the file has been deleted. If they're saving over it, don't show an I/O Error", "+    }", "-                                  \"This file already exists and is open in DrJava.  Do you wish to overwrite it?\",", "-                                  \"File Open Warning\",", "-                                 JOptionPane.YES_NO_OPTION,", "-                                 JOptionPane.QUESTION_MESSAGE,", "-                                 null,", "-                                 options,", "-                                 options[1]);", "-    if(choice == JOptionPane.YES_OPTION) {", "-      List<OpenDefinitionsDocument> l = new LinkedList<OpenDefinitionsDocument>();", "-      try {", "-        l.add(_model.getDocumentForFile(f));", "-      }", "-      catch(IOException ioe) {", "-        _showIOError(ioe);", "-      }", "-      _model.closeFiles(l);", "-      return true;", "+                                              \"This file is already open in DrJava\" + (d.isModifiedSinceSave() ? \" and has been modified\" : \"\") ", "+                                                + \".  Do you wish to overwrite it?\",", "+                                                \"File Open Warning\",", "+                                              JOptionPane.YES_NO_OPTION,", "+                                              JOptionPane.QUESTION_MESSAGE,", "+                                              null,", "+                                              options,", "+                                              options[1]);", "+    if(choice == JOptionPane.YES_OPTION && d != null) {", "+      return _model.closeFileWithoutPrompt(d);"]}], "num": 22920}