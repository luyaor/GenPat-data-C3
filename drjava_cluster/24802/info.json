{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "fb2cf42a051428ab6cdcfba4a3c8eb72", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "715a89e4d4d58dfc1d7497bc34051ce7", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/swing/FindAnyOccurrenceState.java", "commitBeforeChange": "5aacfadc90765b33349d6f9aff91d50fefd76986", "commitAfterChange": "8f8a64864bd9c3c9658401188aaec5c9c0dfe4f7", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "   private FindResult _findNextInAllDocs(AbstractDocumentInterface docToSearch) throws BadLocationException", "signatureAfterChange": "   private FindResult _findNextInAllDocs(AbstractDocumentInterface docToSearch) throws BadLocationException", "diff": ["-    if (docToSearch == _doc) return new FindResult(_doc, -1, false);", "-    String text;", "-    docToSearch.acquireReadLock();", "-    try { text = docToSearch.getText(0, docToSearch.getLength()); }", "-    finally { docToSearch.releaseReadLock(); }", "-    String findWord = _findWord;", "-    if (!_matchCase) {", "-      text = text.toLowerCase();", "-      findWord = findWord.toLowerCase();", "+    while (docToSearch != _doc) {", "+      String text;", "+      docToSearch.acquireReadLock();", "+      try { text = docToSearch.getText(0, docToSearch.getLength()); }", "+      finally { docToSearch.releaseReadLock(); }", "+      String findWord = _findWord;", "+      if (!_matchCase) {", "+        text = text.toLowerCase();", "+        findWord = findWord.toLowerCase();", "+      }", "+      int index = !_searchBackwards ? text.indexOf(findWord) : text.lastIndexOf(findWord);", "+      ", "+      if (index != -1) {", "+        // We found it in a different document, put the caret at the end of the", "+        // found word (if we're going forward).", "+        if (!_searchBackwards) index += findWord.length();", "+        return new FindResult(docToSearch, index, false);", "+      }", "+      docToSearch = !_searchBackwards ? _docIterator.getNextDocument(docToSearch) :", "+                                        _docIterator.getPrevDocument(docToSearch);", "-    int index = !_searchBackwards ? text.indexOf(findWord) : text.lastIndexOf(findWord);", "-    ", "-    if (index != -1) {", "-      // We found it in a different document, put the caret at the end of the", "-      // found word (if we're going forward).", "-      if (!_searchBackwards) index += findWord.length();", "-      return new FindResult(docToSearch, index, false);", "-    }", "-    return _findNextInAllDocs(!_searchBackwards ? _docIterator.getNextDocument(docToSearch) :", "-                                _docIterator.getPrevDocument(docToSearch));", "+    return new FindResult(_doc, -1, false);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "af06889eb4c31398eacdf43094cb86e0", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/swing/FindAnyOccurrenceState.java", "commitBeforeChange": "82f2ed0c10073d0b45d405a9ea26c9aa3f37c661", "commitAfterChange": "6bfab9f5cad6f12d0935dd59b83d99bfc86909eb", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "   private FindResult _findNextInAllDocs(Document docToSearch) throws BadLocationException", "signatureAfterChange": "   private FindResult _findNextInAllDocs(AbstractDocumentInterface docToSearch) throws BadLocationException", "diff": ["-  private FindResult _findNextInAllDocs(Document docToSearch) throws BadLocationException {", "+  private FindResult _findNextInAllDocs(AbstractDocumentInterface docToSearch) throws BadLocationException {", "-    else {", "-      String text = docToSearch.getText(0, docToSearch.getLength());", "-      String findWord = _findWord;", "-      if (!_matchCase) {", "-        text = text.toLowerCase();", "-        findWord = findWord.toLowerCase();", "-      }", "-      int index = !_searchBackwards ? text.indexOf(findWord) : text.lastIndexOf(findWord);", "-      if (index != -1) {", "-        // We found it in a different document, put the caret at the end of the", "-        // found word (if we're going forward).", "-        if (!_searchBackwards) index += findWord.length();", "-        return new FindResult(docToSearch, index, false);", "-      }", "-      else", "-        return _findNextInAllDocs(!_searchBackwards ? _docIterator.getNextDocument(docToSearch) :", "-                                    _docIterator.getPrevDocument(docToSearch));", "+    ", "+    String text;", "+    docToSearch.acquireReadLock();", "+    try { text = docToSearch.getText(0, docToSearch.getLength()); }", "+    finally { docToSearch.releaseReadLock(); }", "+    String findWord = _findWord;", "+    if (!_matchCase) {", "+      text = text.toLowerCase();", "+      findWord = findWord.toLowerCase();", "+    int index = !_searchBackwards ? text.indexOf(findWord) : text.lastIndexOf(findWord);", "+    ", "+    if (index != -1) {", "+      // We found it in a different document, put the caret at the end of the", "+      // found word (if we're going forward).", "+      if (!_searchBackwards) index += findWord.length();", "+      return new FindResult(docToSearch, index, false);", "+    }", "+    return _findNextInAllDocs(!_searchBackwards ? _docIterator.getNextDocument(docToSearch) :", "+                                _docIterator.getPrevDocument(docToSearch));"]}], "num": 24802}