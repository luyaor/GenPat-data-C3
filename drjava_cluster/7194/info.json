{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9a1538b7e789e66a5d4247bb681ca727", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4f7b9d89636fec7a374bd1b8553b2e76", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/SingleDisplayModel.java", "commitBeforeChange": "7bb32c28070a4b5d5697c7c88ea0d664289c76e8", "commitAfterChange": "b2ad80c49aaa09f293a5bc1f6664d4cc5243219e", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 12, "signatureBeforeChange": "   public boolean closeFile(OpenDefinitionsDocument doc)", "signatureAfterChange": "   public boolean closeFile(OpenDefinitionsDocument doc)", "diff": ["-    return super.closeFile(doc);", "+    int index = _getDocumentIndex(doc);", "+    if (super.closeFile(doc)) {", "+      if (!_isClosingAllDocs) {", "+        _ensureNotEmpty();", "+", "+        // Select next document", "+        int size = getDefinitionsDocuments().getSize();", "+        if (index < 0) {", "+          index = 0;", "+        }", "+        if (index >= size) {", "+          index = size - 1;", "+        }", "+        setActiveDocument(index);", "+      }", "+      return true;", "+    }", "+    else {", "+      return false;", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9fcd9665e26c93867bce0ee4c9cd6e59", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "5122b57870a06ce192633fae172ea410d4b7581b", "commitAfterChange": "8cb074150c1494bfc3b263a6dfa5f3cba6209da2", "methodNumberBeforeChange": 50, "methodNumberAfterChange": 65, "signatureBeforeChange": "      public void fileClosed(OpenDefinitionsDocument doc)", "signatureAfterChange": "      public void fileClosed(OpenDefinitionsDocument doc)", "diff": ["-      // context switch to new document, or open one", "+      int index = _definitionsDocs.indexOf(doc);", "+      _definitionsDocs.remove(index);", "+      _defScrollPanes.remove(index);", "+", "+      // Get next document", "+      int len = _definitionsDocs.size();", "+      if (len > 0) {", "+        if (_currentDocIndex >= len) {", "+          _currentDocIndex = len - 1;", "+        }", "+        _docList.setSelectedValue(_definitionsDocs.get(_currentDocIndex),", "+                                  true);", "+      }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a9e53c00a0b03902741244fcb0a59c00", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/plugins/eclipse/src/edu/rice/cs/drjava/plugins/eclipse/views/InteractionsController.java", "commitBeforeChange": "216fad0aa8523dbc9402b5e83d2d0e4e9e0fc64e", "commitAfterChange": "4297ff328013eaae7e900c94d6d5500e0fe9b17c", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 16, "signatureBeforeChange": "     public void actionPerformed(ActionEvent e)", "signatureAfterChange": "   boolean selectToPromptPosAction()", "diff": ["-  AbstractAction selectToPromptPosAction = new AbstractAction() {", "-    public void actionPerformed(ActionEvent e) {", "-      // Selects the text between the old pos and the prompt", "-      StyledText pane = _view.getTextPane();", "-      int start = _doc.getPromptPos();", "-      int end = pane.getCaretOffset();", "-      if (end < start) {", "-        int t = start;", "-        start = end;", "-        end = t;", "-      }", "-      ", "-      pane.setSelection(start, end);", "+  /** Selects all text between the caret and the prompt */", "+  boolean selectToPromptPosAction() {", "+    // Selects the text between the old pos and the prompt", "+    StyledText pane = _view.getTextPane();", "+    int start = _doc.getPromptPos();", "+    int end = pane.getCaretOffset();", "+    if (end < start) {", "+      int t = start;", "+      start = end;", "+      end = t;", "+    ", "+    pane.setSelection(start, end);", "+    return false;", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f8c48fbba57c8a078377e3eccd1fa00b", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "b2ad80c49aaa09f293a5bc1f6664d4cc5243219e", "commitAfterChange": "492227e53d4f60169465f2fd7192a458815ea62f", "methodNumberBeforeChange": 50, "methodNumberAfterChange": 50, "signatureBeforeChange": "   private void _setUpDocumentSelector()", "signatureAfterChange": "   private void _setUpDocumentSelector()", "diff": ["-    _docList = new JList(_model.getDefinitionsDocuments());// {", "-      //public String getToolTipText(MouseEvent event) {", "-      //  return \"tool tip\";", "-      //}", "-    //};", "+    _docList = new JList(_model.getDefinitionsDocuments()) {", "+      public String getToolTipText(MouseEvent event) {", "+        Point location = event.getPoint();", "+        int index = locationToIndex(location);", "+        String tip = null;", "+        if (index >= 0) {", "+          tip = _model.getDisplayFullPath(index);", "+        }", "+        return tip;", "+      }", "+    };", "+    _docList.setToolTipText(\"Document List\");"]}], "num": 7194}