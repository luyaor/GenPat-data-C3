{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "228b994329aa65d28bc5b8ec1473d54f", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "14cbfe3ae4eeeb5dc56b0f33b511fec1", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/config/VectorAbsRelFileOptionComponent.java", "commitBeforeChange": "b59ea5c5062a947f96790df7fe854009e693434a", "commitAfterChange": "51e686ba41ead06ef0f1c4bec2b00eaf247dbe80", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 15, "signatureBeforeChange": "\r   public void chooseFile()", "signatureAfterChange": "   public void chooseFile()", "diff": ["-  /** Shows a file chooser for adding a file to the element. */\r", "-  public void chooseFile() {\r", "-    File selection = (File) _list.getSelectedValue();\r", "-    if (selection != null) {\r", "-      File parent = selection.getParentFile();\r", "-      if (parent != null) {\r", "-        _jfc.setCurrentDirectory(parent);\r", "-      }\r", "-    }\r", "-    else {\r", "-      if (_baseDir!=null) { _jfc.setCurrentDirectory(_baseDir); }\r", "-    }\r", "-\r", "-    _jfc.setFileFilter(_fileFilter);\r", "-\r", "-    File[] c = null;\r", "-    int returnValue = _jfc.showDialog(_parent, null);\r", "-    if (returnValue == JFileChooser.APPROVE_OPTION) {\r", "-      c = _jfc.getSelectedFiles();\r", "-    }\r", "-    if (c != null) {\r", "-      for(int i = 0; i < c.length; i++) {\r", "-        _listModel.addElement(new AbsRelFile(c[i]));\r", "-      }\r", "-    }\r", "-  }\r", "+  /** Shows a file chooser for adding a file to the element. */", "+  public void chooseFile() {", "+    int[] rows = _table.getSelectedRows();", "+    File selection = (rows.length==1)?_data.get(rows[0]):null;", "+    if (selection != null) {", "+      File parent = selection.getParentFile();", "+      if (parent != null) {", "+        _jfc.setCurrentDirectory(parent);", "+      }", "+    }", "+    else {", "+      if (_baseDir!=null) { _jfc.setCurrentDirectory(_baseDir); }", "+    }", "+", "+    _jfc.setFileFilter(_fileFilter);", "+", "+    File[] c = null;", "+    int returnValue = _jfc.showDialog(_parent, null);", "+    if (returnValue == JFileChooser.APPROVE_OPTION) {", "+      c = _jfc.getSelectedFiles();", "+    }", "+    if (c != null) {", "+      _table.getSelectionModel().clearSelection();", "+      for(int i = 0; i < c.length; i++) {", "+        _addValue(new AbsRelFile(c[i]));", "+      }", "+    }", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c3dad9a62c523ee7a7e90b87059a6207", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/config/VectorFileOptionComponent.java", "commitBeforeChange": "b59ea5c5062a947f96790df7fe854009e693434a", "commitAfterChange": "51e686ba41ead06ef0f1c4bec2b00eaf247dbe80", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 7, "signatureBeforeChange": "   public void chooseFile()", "signatureAfterChange": "   public void chooseFile()", "diff": ["-    File selection = (File) _list.getSelectedValue();", "+    int[] rows = _table.getSelectedRows();", "+    File selection = (rows.length==1)?_data.get(rows[0]):null;", "+      _table.getSelectionModel().clearSelection();", "-        _listModel.addElement(c[i]);", "+        _addValue(c[i]);"]}], "num": 11468}