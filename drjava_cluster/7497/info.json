{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "921a13f455afe45bdb238cc66b6b6569", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "62370e2189062b108dfbbdc0eb52f544", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "b555b0cfcc7bbb9f082899ce815305f8a985343e", "commitAfterChange": "aafaf7b848d738e58eee48a6cbc4b800c8027685", "methodNumberBeforeChange": 235, "methodNumberAfterChange": 235, "signatureBeforeChange": "   private void _newProject()", "signatureAfterChange": "   private void _newProject()", "diff": ["-    _closeAll();", "-    _saveProjectAs();", "+//    _closeAll();", "+    ", "+    _saveChooser.setFileFilter(_projectFilter);", "+    int rc = _saveChooser.showSaveDialog(this);", "+    if (rc == JFileChooser.APPROVE_OPTION) {", "+      File file = _saveChooser.getSelectedFile();", "+      String fileName = file.getName();", "+      // ensure that saved file has extesion \".pjt\"", "+      if (! fileName.endsWith(\".pjt\")) {", "+        int lastIndex = fileName.lastIndexOf(\".\");", "+        if (lastIndex == -1) file = new File (file.getAbsolutePath() + \".pjt\");", "+        else file = new File(fileName.substring(0, lastIndex) + \".pjt\");", "+      }", "+      try { _model.newProject(file); }", "+      catch(IOException e) { throw new UnexpectedException(e); }", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "62d2e7865176376731b1c2f820d0025e", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "0edbfd0db2689eae3c61cbc9503a45692b491afc", "commitAfterChange": "3ec3975ac05203b775027960dbbfc339e26bb562", "methodNumberBeforeChange": 159, "methodNumberAfterChange": 159, "signatureBeforeChange": "         private void _saveProjectAs()", "signatureAfterChange": "         private void _saveProjectAs()", "diff": ["-      _saveProjectHelper(file);", "-      try {", "-        if (file.getCanonicalPath().endsWith(\".pjt\")) {", "-          _openProjectHelper(file);", "+      if(!file.exists() || _verifyOverwrite()) {", "+        _saveProjectHelper(file);", "+        try {", "+          if (file.getCanonicalPath().endsWith(\".pjt\")) {", "+            _openProjectHelper(file);", "+          }", "+          else {", "+            _openProjectHelper(new File(file.getCanonicalPath() + \".pjt\"));", "+          }", "-        else {", "-          _openProjectHelper(new File(file.getCanonicalPath() + \".pjt\"));", "+        catch (IOException e) {", "+          throw new UnexpectedException(e);", "-      }", "-      catch (IOException e) {", "-        throw new UnexpectedException(e);"]}], "num": 7497}