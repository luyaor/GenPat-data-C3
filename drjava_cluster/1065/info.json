{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "11de9bb9e5c9a51327b0bc7e6840b1d6", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4975a6acfcd0303d62baba8e08d21f43", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/FindResultsPanel.java", "commitBeforeChange": "755690ad27d80d16d7853b1d30f45c8b48ddecb5", "commitAfterChange": "6d214db24b68a17f17e0cc8f3030a6df6dfa9e3d", "methodNumberBeforeChange": 27, "methodNumberAfterChange": 27, "signatureBeforeChange": "     public String toString()", "signatureAfterChange": "     public String toString()", "diff": ["+        sb.append(\"<html>\");", "-          ", "-          sb.append(_region.getDocument().getText(startSel, length).trim());", "+          ", "+          // this highlights the actual region in red", "+          int startRed = _region.getStartOffset() - startSel;", "+          int endRed = _region.getEndOffset() - startSel;", "+          String s = _region.getDocument().getText(startSel, length);", "+          for(int i=0; i<s.length(); ++i) {", "+            if (!Character.isWhitespace(s.charAt(i))) {", "+              break;", "+            }", "+            --startRed;", "+            --endRed;", "+          }", "+          s = s.trim();", "+          if (startRed<0) { startRed = 0; }", "+          if (startRed>s.length()) { startRed = s.length(); }", "+          if (endRed<startRed) { endRed = startRed; }", "+          if (endRed>s.length()) { endRed = s.length(); }", "+          sb.append(StringOps.encodeHTML(s.substring(0, startRed)));", "+          sb.append(\"<font color=#ff0000>\");", "+          sb.append(StringOps.encodeHTML(s.substring(startRed, endRed)));", "+          sb.append(\"</font>\");", "+          sb.append(StringOps.encodeHTML(s.substring(endRed)));", "+          sb.append(\"</html>\");"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a4e6c94afebe7f174fc9bdb62a789f37", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/FindResultsPanel.java", "commitBeforeChange": "a9501033c36d04c8d30e61d0390a87ad553ac022", "commitAfterChange": "e38424ed07a882ee616fdf02e69d28f304b8294c", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 25, "signatureBeforeChange": "     public String toString()", "signatureAfterChange": "     public String toString()", "diff": ["-    public FindResultsRegionTreeUserObj(DocumentRegion r) { super(r); }", "+//    }", "-      _region.getDocument().acquireReadLock();", "-      try {", "-        sb.append(\"<html>\");", "-        sb.append(lineNumber());", "-        try {", "-          sb.append(\": \");", "-          int endSel = _region.getDocument().getLineEndPos(_region.getEndOffset());", "-          int startSel = _region.getDocument().getLineStartPos(_region.getStartOffset());", "-          int length = Math.min(120, endSel-startSel);", "-          ", "-          // this highlights the actual region in red", "-          int startRed = _region.getStartOffset() - startSel;", "-          int endRed = _region.getEndOffset() - startSel;", "-          String s = _region.getDocument().getText(startSel, length);", "-          for(int i=0; i<s.length(); ++i) {", "-            if (!Character.isWhitespace(s.charAt(i))) {", "-              break;", "-            }", "-            --startRed;", "-            --endRed;", "-          }", "-          s = s.trim();", "-          if (startRed<0) { startRed = 0; }", "-          if (startRed>s.length()) { startRed = s.length(); }", "-          if (endRed<startRed) { endRed = startRed; }", "-          if (endRed>s.length()) { endRed = s.length(); }", "-          sb.append(StringOps.encodeHTML(s.substring(0, startRed)));", "-          sb.append(\"<font color=#ff0000>\");", "-          sb.append(StringOps.encodeHTML(s.substring(startRed, endRed)));", "-          sb.append(\"</font>\");", "-          sb.append(StringOps.encodeHTML(s.substring(endRed)));", "-          sb.append(\"</html>\");", "-        } catch(BadLocationException bpe) { /* ignore, just don't display line */ }        ", "-      } finally { _region.getDocument().releaseReadLock(); }", "+      sb.append(\"<html>\");", "+      sb.append(lineNumber());", "+      sb.append(\": \");", "+      sb.append(_region.getString());", "+      sb.append(\"</html>\");"]}], "num": 1065}