{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "d0f68564efc56ac399b4b5e75f126acc", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "62412c7b49bb433d9bd97dd66726d1a4", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/IndentTest.java", "commitBeforeChange": "098be4c27233835145531c86355bc697a3b62bfd", "commitAfterChange": "28db8fb2942dc00cad50f5244fe215d573867721", "methodNumberBeforeChange": 29, "methodNumberAfterChange": 60, "signatureBeforeChange": "   public void testSkippingCommentsBraceAtBeginning () throws BadLocationException", "signatureAfterChange": "      private void _assertBraceInfo(int distance, String braceType)", "diff": ["-    */", "-  public void testSkippingCommentsBraceAtBeginning () throws BadLocationException {", "-    // just paren", "-    BraceReduction _reduced = _doc.getReduced();", "-    _doc.insertString(0, \"{\\n   //{ ()}{\", null);", "-    IndentInfo info = _reduced.getIndentInformation();", "-    _assertIndentInfo(info, OPEN_CURLY, -1, 13, 11);", "-  }", "+  private void _assertBraceInfo(int distance, String braceType) {", "+    _doc.acquireReadLock();", "+    try {", "+      BraceInfo info = _doc._getEnclosingBrace();", "+      assertEquals(\"line brace info: brace distance\", distance, info.distance());", "+      assertEquals(\"line brace info: brace type\", braceType, info.braceType());", "+    }", "+    finally { _doc.releaseReadLock(); }", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b14ac2332b589aabef2e48249008d615", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/IndentTest.java", "commitBeforeChange": "098be4c27233835145531c86355bc697a3b62bfd", "commitAfterChange": "28db8fb2942dc00cad50f5244fe215d573867721", "methodNumberBeforeChange": 27, "methodNumberAfterChange": 59, "signatureBeforeChange": "   public void testSkippingBraces () throws BadLocationException", "signatureAfterChange": "      private void _assertLineBraceInfo(int distance, String braceType)", "diff": ["-    */", "-  public void testSkippingBraces () throws BadLocationException {", "-    BraceReduction _reduced = _doc.getReduced();", "-    _doc.insertString(0, \"\\n{\\n   { ()}\\n}\", null);", "-    IndentInfo info = _reduced.getIndentInformation();", "-    _assertIndentInfo(info, OPEN_CURLY, 12, 12, 1);", "-  }", "+  private void _assertLineBraceInfo(int distance, String braceType) {", "+    _doc.acquireReadLock();", "+    try {", "+      BraceInfo info = _doc._getLineEnclosingBrace();", "+//      System.err.println(info);", "+      assertEquals(\"line brace info: brace distance\", distance, info.distance());", "+      assertEquals(\"line brace info: brace type\", braceType, info.braceType());", "+    }", "+    finally { _doc.releaseReadLock(); }"]}], "num": 13906}