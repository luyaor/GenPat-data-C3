{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "6226a8b28000a8c8ddf42fadb34e61fd", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "0184e371092bcd1f1aa02bdb4bf99cc0", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "18f7005907576031115bfb0859e7ff6d53506e5e", "commitAfterChange": "70629f9e5e558e81031db46a0eeff962734da160", "methodNumberBeforeChange": 394, "methodNumberAfterChange": 394, "signatureBeforeChange": "   private JMenu _setUpToolsMenu(int mask)", "signatureAfterChange": "   private JMenu _setUpToolsMenu(int mask)", "diff": ["+    final JMenuItem execItem = extMenu.getItem(0);", "-//            for(int i=2; i<extMenu.getItemCount(); ++i) {", "-//              extMenu.remove(2);", "-//            }", "-//            for (int count=1; count<=oce.value; ++count) {", "-//              final int i = count;", "-//              final String name = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_NAMES).get(i-1);", "-//              final int savedCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_COUNT);", "-//              final int namesCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_NAMES).size();", "-//              final int typesCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_TYPES).size();", "-//              final int cmdlinesCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_CMDLINES).size();", "-//              final int jvmargsCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_JVMARGS).size();", "-//              final int workdirsCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_WORKDIRS).size();", "-//              ", "-//              extMenu.insert(new AbstractAction(name) {", "-//                public void actionPerformed(ActionEvent ae) {", "-//                  if (type.equals(\"cmdline\")) {", "-//                    System.out.println(name+\": cmdline \"+cmdline+\" \"+workdir);", "-//                    // TODO", "-//                  }", "-//                  else if (type.equals(\"java\")) {", "-//                    System.out.println(name+\": java \"+jvmargs+\" \"+cmdline+\" \"+workdir);", "-//                    // TODO", "-//                  }", "-//                }", "-//              },1+i);", "-//            }", "-//            if (oce.value>0) { ", "-//              extMenu.addSeparator();", "-//              extMenu.add(_editExternalProcessesAction);", "-//            }", "+            extMenu.removeAll();", "+            extMenu.add(execItem);", "+            extMenu.addSeparator();", "+            for (int count=0; count<oce.value; ++count) {", "+              final int i = count;", "+              final Vector<String> names = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_NAMES);", "+              final Vector<String> types = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_TYPES);", "+              final Vector<String> cmdlines = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_CMDLINES);", "+              final Vector<String> jvmargs = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_JVMARGS);", "+              final Vector<String> workdirs = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_WORKDIRS);", "+              ", "+              extMenu.insert(new AbstractAction(names.get(i)) {", "+                public void actionPerformed(ActionEvent ae) {", "+                  if (types.get(i).equals(\"cmdline\")) {", "+                    // System.out.println(names.get(i)+\": cmdline \"+cmdlines.get(i)+\" \"+workdirs.get(i));", "+                    _executeExternalDialog.runCommand(names.get(i),cmdlines.get(i),workdirs.get(i));", "+                  }", "+                  else if (types.get(i).equals(\"java\")) {", "+                    // System.out.println(names.get(i)+\": java \"+jvmargs.get(i)+\" \"+cmdlines.get(i)+\" \"+workdirs.get(i));", "+                    _executeExternalDialog.runJava(names.get(i),jvmargs.get(i),cmdlines.get(i),workdirs.get(i));", "+                  }", "+                  else {", "+                    JOptionPane.showMessageDialog(MainFrame.this,", "+                                                  \"Unknown process type '\"+types.get(i)+\"'.\",", "+                                                  \"Invalid Command Line\",", "+                                                  JOptionPane.ERROR_MESSAGE);", "+                  }", "+                }", "+              },i+2);", "+            }", "+            if (oce.value>0) { ", "+              extMenu.addSeparator();", "+            }", "+            extMenu.add(_editExternalProcessesAction);", "+            _editExternalProcessesAction.setEnabled(oce.value>0);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "316cc97bf0798588992b742e12ab6a11", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "21836dcccd81c2207652ee85b319b723ac9ff10b", "commitAfterChange": "18f7005907576031115bfb0859e7ff6d53506e5e", "methodNumberBeforeChange": 394, "methodNumberAfterChange": 394, "signatureBeforeChange": "   private JMenu _setUpToolsMenu(int mask)", "signatureAfterChange": "   private JMenu _setUpToolsMenu(int mask)", "diff": ["-    // TODO: remove mock entries", "-", "-    ChangeListener extMenuListener = new ChangeListener() {", "-      public void stateChanged(ChangeEvent e) {", "-        _editExternalProcessesAction.setEnabled((extMenu.getItemCount()<2));", "+    ", "+    final int savedCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_COUNT);", "+    final int namesCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_NAMES).size();", "+    final int typesCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_TYPES).size();", "+    final int cmdlinesCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_CMDLINES).size();", "+    final int jvmargsCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_JVMARGS).size();", "+    final int workdirsCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_WORKDIRS).size();", "+    if ((savedCount!=namesCount) ||", "+        (savedCount!=typesCount) ||", "+        (savedCount!=cmdlinesCount) ||", "+        (savedCount!=jvmargsCount) ||", "+        (savedCount!=workdirsCount)) {", "+      DrJava.getConfig().setSetting(OptionConstants.EXTERNAL_SAVED_COUNT, 0);", "+      DrJava.getConfig().setSetting(OptionConstants.EXTERNAL_SAVED_NAMES, new Vector<String>());", "+      DrJava.getConfig().setSetting(OptionConstants.EXTERNAL_SAVED_TYPES, new Vector<String>());", "+      DrJava.getConfig().setSetting(OptionConstants.EXTERNAL_SAVED_CMDLINES, new Vector<String>());", "+      DrJava.getConfig().setSetting(OptionConstants.EXTERNAL_SAVED_JVMARGS, new Vector<String>());", "+      DrJava.getConfig().setSetting(OptionConstants.EXTERNAL_SAVED_WORKDIRS, new Vector<String>());", "+    }", "+    ", "+    OptionListener<Integer> externalSavedCountListener =", "+      new OptionListener<Integer>() {", "+      public void optionChanged(final OptionEvent<Integer> oce) {", "+        Utilities.invokeLater(new Runnable() {", "+          public void run() {", "+//            for(int i=2; i<extMenu.getItemCount(); ++i) {", "+//              extMenu.remove(2);", "+//            }", "+//            for (int count=1; count<=oce.value; ++count) {", "+//              final int i = count;", "+//              final String name = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_NAMES).get(i-1);", "+//              final int savedCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_COUNT);", "+//              final int namesCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_NAMES).size();", "+//              final int typesCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_TYPES).size();", "+//              final int cmdlinesCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_CMDLINES).size();", "+//              final int jvmargsCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_JVMARGS).size();", "+//              final int workdirsCount = DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_WORKDIRS).size();", "+//              ", "+//              extMenu.insert(new AbstractAction(name) {", "+//                public void actionPerformed(ActionEvent ae) {", "+//                  if (type.equals(\"cmdline\")) {", "+//                    System.out.println(name+\": cmdline \"+cmdline+\" \"+workdir);", "+//                    // TODO", "+//                  }", "+//                  else if (type.equals(\"java\")) {", "+//                    System.out.println(name+\": java \"+jvmargs+\" \"+cmdline+\" \"+workdir);", "+//                    // TODO", "+//                  }", "+//                }", "+//              },1+i);", "+//            }", "+//            if (oce.value>0) { ", "+//              extMenu.addSeparator();", "+//              extMenu.add(_editExternalProcessesAction);", "+//            }", "+          }", "+        });", "-    extMenu.addChangeListener(extMenuListener);", "+    DrJava.getConfig().addOptionListener(OptionConstants.EXTERNAL_SAVED_COUNT, externalSavedCountListener);", "+    externalSavedCountListener.optionChanged(new OptionEvent<Integer>(OptionConstants.EXTERNAL_SAVED_COUNT,", "+                                                                      DrJava.getConfig().getSetting(OptionConstants.EXTERNAL_SAVED_COUNT)));"]}], "num": 23605}