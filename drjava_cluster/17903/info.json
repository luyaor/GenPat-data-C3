{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b57d91dd6fa7e3670b1a8bfacb919770", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7208e2029a79581e4d0a126c01c55791", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/reducedmodel/TokenList.java", "commitBeforeChange": "973271a114877f62b3cb122ffc9ab5f28c91b43a", "commitAfterChange": "b68b258fee7c24e8a8c68fc2e7d3d99ccd585753", "methodNumberBeforeChange": 20, "methodNumberAfterChange": 20, "signatureBeforeChange": "     int deleteRight(Iterator delTo)", "signatureAfterChange": "     int deleteRight(Iterator delTo)", "diff": ["-      */", "+    /** Deletes from offset in this to endOffset in delTo. Uses ModelList.collapse to perform quick deletion. */", "-      this.collapse(delTo);", "+      collapse(delTo);", "-      if (this.eq(delTo) && this.current().isGap()) {", "+      if (eq(delTo) && current().isGap()) {", "-        this.current().shrink(delTo.getBlockOffset() - this.getBlockOffset());", "-        return this.getBlockOffset();", "+        current().shrink(delTo.getBlockOffset() - getBlockOffset());", "+        return getBlockOffset();", "-      if (!this.eq(delTo)) {", "-        this.clipLeft();", "-      }", "+      if (! eq(delTo)) clipLeft();", "-      if (!this.atStart()) {", "-        this.prev();", "-      }", "+      if (! atStart()) prev();", "-        this.setTo(delTo);", "+        setTo(delTo);", "-        this.setTo(delTo);", "+        setTo(delTo);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b725442806c9e8c3289e6a4952985498", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/reducedmodel/ReducedModelControl.java", "commitBeforeChange": "ce944bab12f670cf565ac442d0f81c8cbf5e4ad0", "commitAfterChange": "40f75fb9af67065ae22daabe92401f806f2b3766", "methodNumberBeforeChange": 25, "methodNumberAfterChange": 25, "signatureBeforeChange": "   public Vector<HighlightStatus> getHighlightStatus(final int start, final int length)", "signatureAfterChange": "   public Vector<HighlightStatus> getHighlightStatus(final int start, final int length)", "diff": ["-   */", "+    */", "-    curLength = ! cursor.atEnd() ? cursor.current().getSize() - rmc.getBlockOffset() : start + length;", "-    curState = ! cursor.atEnd()  ? cursor.current().getHighlightState() : 0;", "+    // NOTE: old code threw an exception if cursor.atStart(); it used wrong value for curLength atEnd too", "+//    curLength = ! cursor.atEnd() ? cursor.current().getSize() - rmc.getBlockOffset() : start + length; ", "+//    curState = ! cursor.atEnd() ? cursor.current().getHighlightState() : 0;", "+    if (cursor.atEnd() || cursor.atStart()) { // cursor is not inside a reduced model token", "+      curLength = length;", "+      curState = 0;", "+    }", "+    else {", "+      curLength = cursor.current().getSize() - rmc.getBlockOffset();", "+      curState = cursor.current().getHighlightState();", "+    }", "-      if(cursor.atEnd())", "-        break;", "+      if (cursor.atEnd()) break;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ba4350ee5dada55a9c11de46fb435676", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/reducedmodel/AbstractReducedModel.java", "commitBeforeChange": "771a0aee635c62bc6d0a2000fe605dc1113ef2b9", "commitAfterChange": "d1e56ac5c281c4b03c498f59138895f0f26350fa", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 4, "signatureBeforeChange": "   public String simpleString()", "signatureAfterChange": "   public String simpleString()", "diff": ["-   */", "+  /** A toString() replacement for testing - easier to read. */", "-    String val = \"\";", "+    StringBuffer val = new StringBuffer();", "+    if (_cursor.atStart())  val.append(PTR_CHAR).append(_cursor.getBlockOffset());", "-    if (_cursor.atStart()) {", "-      val += PTR_CHAR;", "-      val += _cursor.getBlockOffset();", "-    }", "-    ", "-    while(!it.atEnd()) {", "+    while (!it.atEnd()) {", "-        val += PTR_CHAR;", "-        val += _cursor.getBlockOffset();", "+        val.append(PTR_CHAR).append(_cursor.getBlockOffset());", "-      val += \"|\";", "-      val += tmp;", "-      val += \"|\\t\";", "-      ", "+      val.append('|').append(tmp).append('|').append('\\t');", "-    if (_cursor.atEnd()) {", "-      val += PTR_CHAR;", "-      val += _cursor.getBlockOffset();", "-    }", "+    if (_cursor.atEnd()) val.append(PTR_CHAR).append(_cursor.getBlockOffset());", "-    val += \"|end|\";", "+    val.append(\"|end|\");", "-    return val;", "+    return val.toString();"]}], "num": 17903}