{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a4e957975e9d7f818c278325392424d4", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "29819e430d5c1642077a59a551109902", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractGlobalModel.java", "commitBeforeChange": "b555b0cfcc7bbb9f082899ce815305f8a985343e", "commitAfterChange": "aafaf7b848d738e58eee48a6cbc4b800c8027685", "methodNumberBeforeChange": 58, "methodNumberAfterChange": 25, "signatureBeforeChange": "     public File getRawWorkingDirectory()", "signatureAfterChange": "   public File getMasterWorkingDirectory()", "diff": ["+  /** @return the working directory for the Master JVM (editor and GUI). */", "+  public File getMasterWorkingDirectory() { ", "+    File workDir = DrJava.getConfig().getSetting(OptionConstants.WORKING_DIRECTORY);", "+    if (workDir != null && workDir != FileOption.NULL_FILE) return workDir;", "+    return new File(System.getProperty(\"user.dir\"));", "+  }", "-    public File getRawWorkingDirectory() { return DrJava.getConfig().getSetting(OptionConstants.WORKING_DIRECTORY); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7c68910ee95c64672675a5491d5629ab", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/ProjectPropertiesFrame.java", "commitBeforeChange": "afda437000b953ac5d61ee69781723d29e664271", "commitAfterChange": "de9a557f090086de80e9723b0612333c5fd32e24", "methodNumberBeforeChange": 19, "methodNumberAfterChange": 18, "signatureBeforeChange": "      public JPanel _builtDirectoryPanel()", "signatureAfterChange": "      public JPanel _buildDirectoryPanel()", "diff": ["-  public JPanel _builtDirectoryPanel() {", "+  public JPanel _buildDirectoryPanel() {", "-    dirChooser.setSelectedFile(_getBuildDir());", "+    File bd = _getBuildDir();", "+    if (bd == null || bd == FileOption.NULL_FILE) bd = _getProjRoot();", "+    dirChooser.setSelectedFile(bd);", "-    _builtDirSelector = new DirectorySelectorComponent(this, dirChooser, 20, 12f);", "-    //toReturn.add(_builtDirSelector, BorderLayout.EAST);", "+    _buildDirSelector = new DirectorySelectorComponent(this, dirChooser, 20, 12f);", "+    _buildDirSelector.setFileField(bd);  // the file field is used as the initial file selection", "+    //toReturn.add(_buildDirSelector, BorderLayout.EAST);", "-    _builtDirSelector.getFileField().getDocument().addDocumentListener(new DocumentListener() {", "+    _buildDirSelector.getFileField().getDocument().addDocumentListener(new DocumentListener() {", "-    return _builtDirSelector;", "+    return _buildDirSelector;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c26b3d5bbcf47806c527b17a2b4626ae", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/config/ConfigFrame.java", "commitBeforeChange": "ec06880aa408b928b2f252538b208a76154d8334", "commitAfterChange": "de9f1fb322a5a5fa0f403e2f2803a6e71b1430f2", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "   public ConfigFrame(MainFrame frame)", "signatureAfterChange": "   public ConfigFrame(MainFrame frame)", "diff": ["-", "+    /* Following line was inserted becuase the statement below it would occasionally cause swing to throw a", "+    NullPointerException. workDir == null is supposed to be impossible. */", "+    if (workDir == null || workDir == FileOps.NULL_FILE) workDir = new File(System.getProperty(\"user.dir\"));", "-    ", "-", "-    "]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d09e7d2164cf5aea2f33be8b19a9a489", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/project/ProjectProfile.java", "commitBeforeChange": "25b42c6ab8532332033323c9856bcd81aff002d8", "commitAfterChange": "4e9024f79382344df7a15499ea8826062a420a5f", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 10, "signatureBeforeChange": "   public File getProjectRoot()", "signatureAfterChange": "   public File getProjectRoot()", "diff": ["-  /** @return the directory that is the root of the project source tree. */", "-  public File getProjectRoot() { return _projRoot; }", "+   *  of the project file.  Never returns null. */", "+  public File getProjectRoot() { ", "+    if ((_projectRoot == null) || _projectRoot.equals(FileOption.NULL_FILE))", "+      _projectRoot = _projectFile.getParentFile();", "+    return _projectRoot;", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d5944bd79541f9f1ccaa38f31d9e994e", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "12aaa1ddc474cfa046da07f830508d72c218a8f6", "commitAfterChange": "47d5fc81163cac95e4e64b470a149e7ec540b233", "methodNumberBeforeChange": 46, "methodNumberAfterChange": 46, "signatureBeforeChange": "   public MainFrame()", "signatureAfterChange": "   public MainFrame()", "diff": ["-    String userdir = DrJava.CONFIG.getSetting(WORKING_DIRECTORY).toString();", "-    _openChooser = new JFileChooser(userdir);", "+    String workDir = DrJava.CONFIG.getSetting(WORKING_DIRECTORY).toString();", "+    if ((workDir == null) || (workDir.equals(\"\"))) {", "+      workDir = System.getProperty(\"user.dir\");", "+    }", "+    _openChooser = new JFileChooser(workDir);", "-    _saveChooser = new JFileChooser(userdir);", "+    _saveChooser = new JFileChooser(workDir);"]}], "num": 26050}