{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "60c0fa51a2f6b6fb190feed5d587105f", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b7d0a27f217df8e7c414b6dda9d46dca", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/DrJava.java", "commitBeforeChange": "714a91a3f9a91ffe3e5ee9ae0bd0c977c7aa4e31", "commitAfterChange": "86cce18ff80f67b178e899650f588fd3636436b4", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "   static boolean handleCommandLineArgs(String[] args)", "signatureAfterChange": "   static boolean handleCommandLineArgs(String[] args)", "diff": ["+    boolean heapSizeGiven = false;  // indicates whether args includes an argument of the form -Xmx<number>", "-        ", "-      else if ((arg.length() > 1) && (arg.substring(0,2).equals(\"-X\"))) _jmvArgs.add(arg); ", "+      ", "+      else if ((arg.length() > 1) && (arg.substring(0,2).equals(\"-X\"))) {", "+        if (arg.substring(0,4).equals(\"-Xmx\")) heapSizeGiven = true;", "+        _jvmArgs.add(arg); ", "+      }", "+    ", "+    String jvmArgString = getConfig().getSetting(MASTER_JVM_ARGS);", "+    List<String> jvmArgs = ArgumentTokenizer.tokenize(jvmArgString);", "+    if (jvmArgs != null && jvmArgs.size() != 0) _jvmArgs.addAll(jvmArgs);", "+    ", "+    if (! heapSizeGiven && ! jvmArgString.contains(\"-Xmx\")) _jvmArgs.add(DEFAULT_MAX_HEAP_SIZE_ARG);", "+        ", "+    _log.log(\"_jvmArgs = \" + _jvmArgs);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "d0e5ee8d387e08e85fb4b7c9cba46b40", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/DrJava.java", "commitBeforeChange": "576713321d388945af9795f8f5bacbafa14cd87f", "commitAfterChange": "b814c7e145dc4411f1437e59c56bc53ee860800f", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 6, "signatureBeforeChange": "   static boolean handleCommandLineArgs(String[] args)", "signatureAfterChange": "   static boolean handleCommandLineArgs(String[] args)", "diff": ["-      else if ((arg.length() > 1) && (arg.substring(0,2).equals(\"-X\"))) {", "-        if (arg.substring(0,4).equals(\"-Xmx\")) heapSizeGiven = true;", "-        _jvmArgs.add(arg); ", "-      }", "-      ", "-      else if ((arg.length() > 1) && (arg.substring(0,2).equals(\"-D\"))) {", "+      else if (arg.startsWith(\"-X\") || arg.startsWith(\"-D\")) {", "+        if (arg.startsWith(\"-Xmx\")) { heapSizeGiven = true; }", "-    String jvmArgString = getConfig().getSetting(MASTER_JVM_ARGS);", "-    List<String> jvmArgs = ArgumentTokenizer.tokenize(jvmArgString);", "-    if (jvmArgs != null && jvmArgs.size() != 0) _jvmArgs.addAll(jvmArgs);", "+    List<String> configArgs = ArgumentTokenizer.tokenize(getConfig().getSetting(MASTER_JVM_ARGS));", "+    for (String arg : configArgs) {", "+      if (arg.startsWith(\"-Xmx\")) { heapSizeGiven = true; }", "+      _jvmArgs.add(arg);", "+    }", "+", "-      _jvmArgs.add(\"-Dcom.apple.macos.useScreenMenuBar=true\");", "-      _jvmArgs.add(\"-Xdock:name=DrJava\");", "-      _jvmArgs.add(\"-Xdock:icon=/Applications/DrJava.app/Contents/Resources/DrJava.icns\");", "+      String iconLoc = System.getProperty(\"edu.rice.cs.drjava.icon\");", "+      if (iconLoc != null) { // we are running inside the Mac app wrapper", "+        _jvmArgs.add(\"-Xdock:name=DrJava\");", "+        _jvmArgs.add(\"-Xdock:icon=\" + iconLoc);", "+      }", "-    if (! heapSizeGiven && jvmArgString.indexOf(\"-Xmx\")<0) _jvmArgs.add(DEFAULT_MAX_HEAP_SIZE_ARG);", "+    if (!heapSizeGiven) { _jvmArgs.add(DEFAULT_MAX_HEAP_SIZE_ARG); }"]}], "num": 31047}