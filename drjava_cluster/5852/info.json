{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4efbcb83214e88de73861209683da169", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4a5fdd754493624d6955854a85cb3883", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/docnavigation/JTreeSortNavigator.java", "commitBeforeChange": "09e3a1c7c173cb9a37ed9ad28a39b257011828e6", "commitAfterChange": "bdfa5a75e18c9a41c7b54cf4b050565d5259c993", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "   private INavigatorItem removeNode(LeafNode toRemove)", "signatureAfterChange": "   private synchronized INavigatorItem removeNode(LeafNode toRemove)", "diff": ["-  private INavigatorItem removeNode(LeafNode toRemove){", "+  private synchronized INavigatorItem removeNode(LeafNode toRemove){", "+    DefaultMutableTreeNode parent = (DefaultMutableTreeNode)toRemove.getParent();", "-   ", "-    Enumeration enumeration = ((DefaultMutableTreeNode)_model.getRoot()).depthFirstEnumeration();", "-    while(enumeration.hasMoreElements())", "-    {", "-      TreeNode next = (TreeNode)enumeration.nextElement();", "-      if(next.getChildCount() == 0 && ", "-         !_doc2node.containsValue(next) && ", "-         next != _model.getRoot())", "-      {", "-        _model.removeNodeFromParent((MutableTreeNode)next); ", "-        _path2node.removeKey((InnerNode)next);", "-      }", "-    }", "+    ", "+    cleanFolderNode(parent);", "+//    // check all elements of the tree and remove incomplete items", "+//    Enumeration enumeration = ((DefaultMutableTreeNode)_model.getRoot()).depthFirstEnumeration();", "+//    while(enumeration.hasMoreElements()) {", "+//      TreeNode next = (TreeNode)enumeration.nextElement();", "+//      if(next.getChildCount() == 0 &&", "+//         !_doc2node.containsValue(next) && ", "+//         next != _model.getRoot())", "+//      {", "+//        _model.removeNodeFromParent((MutableTreeNode)next);", "+//        _path2node.removeKey((InnerNode)next);", "+//      }", "+//    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "df602a9a73db9022fec7797c7386ab49", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/docnavigation/JTreeSortNavigator.java", "commitBeforeChange": "8a1c75e7bc7406b418bdb0debe15514bedad92d0", "commitAfterChange": "741892f3862eb35183b7fbd2985425d7c824db17", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "   public INavigatorItem removeDocument(INavigatorItem doc) throws IllegalArgumentException", "signatureAfterChange": "   public INavigatorItem removeDocument(INavigatorItem doc) throws IllegalArgumentException", "diff": ["-    DefaultMutableTreeNode toRemove = _doc2node.get(doc);", "-    //toRemove.removeFromParent();", "-   /*", "-    if(toRemove.getSiblingCount() == 1 && toRemove.getParent().getParent() != null)", "-    {", "-       ", "-        _model.removeNodeFromParent((MutableTreeNode)toRemove.getParent()); ", "-        _path2node.removeKey((DefaultMutableTreeNode)toRemove.getParent());", "-        ", "-        ", "-    }", "-    */", "+    return removeNode(getNodeForDoc(doc));", "+  }", "-    _doc2node.remove(doc);", "-    return doc;"]}], "num": 5852}