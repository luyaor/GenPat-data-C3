{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "df3a11411691ccf843b5fc488ad0f0f6", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7faf69db5afffc39ff93fab8c837d9bb", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/config/SavableConfiguration.java", "commitBeforeChange": "364d0b19a9e3896eddcd174b6cb5aa4a53e74f1f", "commitAfterChange": "65d59a6eb5c83a25b9e6bfdf698fd61ca6d2f695", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "   public void saveConfiguration(OutputStream os, String header) throws IOException", "signatureAfterChange": "   public void saveConfiguration(OutputStream os, String header) throws IOException", "diff": ["+    ", "+    // Write the header", "-    while(keys.hasMoreElements()) {", "+    ", "+    // Write each option", "+    while (keys.hasMoreElements()) {", "-      tmpString = key.getName();", "-      osw.write(tmpString, 0, tmpString.length());", "-      tmpString = \" = \";", "-      osw.write(tmpString, 0, 3);", "-      tmpString = map.getString(key);", "-      // This replaces all backslashes with two backslashes for windows", "-      int index = 0;", "-      int pos;", "-      while (index < tmpString.length() && ", "-             ((pos = tmpString.indexOf('\\\\', index)) >= 0)) {", "-        buff = new StringBuffer(tmpString);", "-        buff.insert(pos, '\\\\');", "-        index = pos + 2;", "-        tmpString = buff.toString();", "+      ", "+      if (!key.getDefault().equals(map.getOption(key))) {", "+      ", "+        // Write name", "+        tmpString = key.getName();", "+        osw.write(tmpString, 0, tmpString.length());", "+        ", "+        // Write equals sign", "+        tmpString = \" = \";", "+        osw.write(tmpString, 0, 3);", "+        ", "+        // Write value", "+        tmpString = map.getString(key);", "+        // This replaces all backslashes with two backslashes for windows", "+        int index = 0;", "+        int pos;", "+        while (index < tmpString.length() && ", "+               ((pos = tmpString.indexOf('\\\\', index)) >= 0)) {", "+          buff = new StringBuffer(tmpString);", "+          buff.insert(pos, '\\\\');", "+          index = pos + 2;", "+          tmpString = buff.toString();", "+        }", "+        osw.write(tmpString, 0, tmpString.length());", "+        osw.write((int)'\\n');", "+        ", "+        // p.setProperty(key.getName(),map.getString(key));", "-      osw.write(tmpString, 0, tmpString.length());", "-      osw.write((int)'\\n');", "-     // p.setProperty(key.getName(),map.getString(key));", "-    "]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "85dced2414ed4c899aad9303ad0d9d99", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/config/SavableConfiguration.java", "commitBeforeChange": "7bc6765693343476fc2f77685ee6bc931bf3b3f3", "commitAfterChange": "7f2688df99750a8a6042f231ca2bc23d3f2c923c", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "   public void saveConfiguration(OutputStream os, String header) throws IOException", "signatureAfterChange": "   public void saveConfiguration(OutputStream os, String header) throws IOException", "diff": ["+    OutputStreamWriter osw = new OutputStreamWriter(os);", "-    Properties p = new Properties();", "+    //Properties p = new Properties();", "+    String tmpString;", "+    StringBuffer buff;", "+    OptionParser key;", "+    Date date = new Date();", "+    osw.write((int)'#');", "+    osw.write(header, 0, header.length());", "+    osw.write((int)'\\n');", "+    osw.write((int)'#');", "+    osw.write(date.toString(), 0, date.toString().length());", "+    osw.write((int)'\\n');", "-      OptionParser key = keys.nextElement();", "-      p.setProperty(key.getName(),map.getString(key));", "+      key = keys.nextElement();", "+      tmpString = key.getName();", "+      osw.write(tmpString, 0, tmpString.length());", "+      tmpString = \" = \";", "+      osw.write(tmpString, 0, 3);", "+      tmpString = map.getString(key);", "+      // This replaces all backslashes with two backslashes for windows", "+      int index = 0;", "+      int pos;", "+      while (index < tmpString.length() && ", "+             ((pos = tmpString.indexOf('\\\\', index)) >= 0)) {", "+        buff = new StringBuffer(tmpString);", "+        buff.insert(pos, '\\\\');", "+        index = pos + 2;", "+        tmpString = buff.toString();", "+      }", "+      osw.write(tmpString, 0, tmpString.length());", "+      osw.write((int)'\\n');", "+     // p.setProperty(key.getName(),map.getString(key));", "-    p.store(os,header);", "+    osw.close();", "+    //p.store(os,header)", "+    "]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b6518901da75e3316d70a8c319486e40", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/config/SavableConfiguration.java", "commitBeforeChange": "c302d1db72cb508e0cec30d24e39d48cce8fd663", "commitAfterChange": "68d14b52468e7fad6eb9d5f26ee2e88ac93b395f", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "   public void saveConfiguration(OutputStream os, String header) throws IOException", "signatureAfterChange": "   public void saveConfiguration(OutputStream os, String header) throws IOException", "diff": ["-    Writer w = new BufferedWriter(new OutputStreamWriter(os));", "+    PrintWriter w = new PrintWriter(new BufferedWriter(new OutputStreamWriter(os)));", "-    w.write('#');", "-    w.write(header, 0, header.length());", "-    w.write('\\n');", "-    w.write('#');", "-    w.write(date.toString(), 0, date.toString().length());", "-    w.write('\\n');", "-", "-    // Write each option", "-    for (OptionParser<?> key : map.keys()) {", "-", "-      if (!key.getDefault().equals(map.getOption(key))) {", "-", "-        // Write name", "-        String tmpString = key.getName();", "-        w.write(tmpString, 0, tmpString.length());", "-", "-        // Write equals sign", "-        tmpString = \" = \";", "-        w.write(tmpString, 0, 3);", "-", "-        // Write value", "-        tmpString = map.getString(key);", "-        // This replaces all backslashes with two backslashes for windows", "-        int index = 0;", "-        int pos;", "-        while (index < tmpString.length() &&", "-               ((pos = tmpString.indexOf('\\\\', index)) >= 0)) {", "-          final StringBuilder buff = new StringBuilder(tmpString);  // should use StringBuilder, but not 1.4 compatible", "-          buff.insert(pos, '\\\\');", "-          index = pos + 2;", "-          tmpString = buff.toString();", "-        }", "-        w.write(tmpString, 0, tmpString.length());", "-        w.write('\\n');", "-", "-        // p.setProperty(key.getName(),map.getString(key));", "-      }", "-    }", "+    w.println(\"#\"+header);", "+    w.println(\"#\"+date.toString());", "+    w.print(toString());"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "c390d25a93c15eb66fec65555e72f39b", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/config/SavableConfiguration.java", "commitBeforeChange": "28ed37193d3d1605a7ea343a3a2a748ce08a7b25", "commitAfterChange": "deccdad7d1e1e890f5a05d651027f51330f6ca59", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 2, "signatureBeforeChange": "   public void saveConfiguration(OutputStream os, String header) throws IOException", "signatureAfterChange": "   public void saveConfiguration(OutputStream os, String header) throws IOException", "diff": ["-    OutputStreamWriter osw = new OutputStreamWriter(os);", "+    Writer w = new BufferedWriter(new OutputStreamWriter(os));", "-    String tmpString;", "-    StringBuffer buff;", "-    OptionParser<?> key;", "+//    String tmpString;", "+//    StringBuffer buff;", "+//    OptionParser<?> key;", "-    osw.write((int)'#');", "-    osw.write(header, 0, header.length());", "-    osw.write((int)'\\n');", "-    osw.write((int)'#');", "-    osw.write(date.toString(), 0, date.toString().length());", "-    osw.write((int)'\\n');", "+    w.write((int)'#');", "+    w.write(header, 0, header.length());", "+    w.write((int)'\\n');", "+    w.write((int)'#');", "+    w.write(date.toString(), 0, date.toString().length());", "+    w.write((int)'\\n');", "-      key = keys.next();", "+      ", "+      OptionParser<?> key = keys.next();", "-        tmpString = key.getName();", "-        osw.write(tmpString, 0, tmpString.length());", "+        String tmpString = key.getName();", "+        w.write(tmpString, 0, tmpString.length());", "-        osw.write(tmpString, 0, 3);", "+        w.write(tmpString, 0, 3);", "-          buff = new StringBuffer(tmpString);", "+          StringBuffer buff = new StringBuffer(tmpString);  // should use StringBuilder, but not 1.4 compatible", "-        osw.write(tmpString, 0, tmpString.length());", "-        osw.write((int)'\\n');", "+        w.write(tmpString, 0, tmpString.length());", "+        w.write((int)'\\n');", "-    osw.close();", "+    w.close();"]}], "num": 25458}