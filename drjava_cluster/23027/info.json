{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "e43f16a12c7f1cf98a4db469102cb60a", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b424f91708e11dfd68f785cc630edf1f", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocumentTest.java", "commitBeforeChange": "aa7f147d71330aa12463dfbc7a233e3ed25560e6", "commitAfterChange": "cfaac02e8e33f506b730c3f8ce96676d16b8f705", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 7, "signatureBeforeChange": "     public void interpretCurrentInteraction()", "signatureAfterChange": "   public void testRecallFromHistory() throws DocumentAdapterException", "diff": ["-    }", "-    public void interpretCurrentInteraction() {", "-      fail(\"interpretCurrentInteraction called unexpectedly\");", "-    }", "+  public void testRecallFromHistory() throws DocumentAdapterException {", "+    String origText = _doc.getDocText(0, _doc.getDocLength());", "+    _doc.addToHistory(\"command\");", "+    assertEquals(\"Contents before recall prev\", ", "+                 origText, _doc.getDocText(0, _doc.getDocLength()));", "+    ", "+    _doc.recallPreviousInteractionInHistory();", "+    assertEquals(\"Contents after recall prev\", ", "+                 origText + \"command\", _doc.getDocText(0, _doc.getDocLength()));", "+    ", "+    _doc.recallNextInteractionInHistory();", "+    assertEquals(\"Contents after recall next\", ", "+                 origText, _doc.getDocText(0, _doc.getDocLength()));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ddd8b15f6e4ef641e464d34070c74783", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDocumentTest.java", "commitBeforeChange": "aa7f147d71330aa12463dfbc7a233e3ed25560e6", "commitAfterChange": "cfaac02e8e33f506b730c3f8ce96676d16b8f705", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "   public void testReset() throws DocumentAdapterException", "signatureAfterChange": "   public void testContentsAndReset() throws DocumentAdapterException", "diff": ["-  public void testReset() throws DocumentAdapterException {", "-    int origLength = _doc.getDocLength();", "-    _doc.insertText(origLength, \"text\", InteractionsDocument.DEFAULT_STYLE);", "+  public void testContentsAndReset() throws DocumentAdapterException {", "+    String origText = _doc.getBanner() + _doc.getPrompt();", "+    assertEquals(\"Contents before insert\", ", "+                 origText, _doc.getDocText(0, _doc.getDocLength()));", "+    ", "+    // Insert some text", "+    _doc.insertText(_doc.getDocLength(), \"text\", InteractionsDocument.DEFAULT_STYLE);", "+    assertEquals(\"Contents before reset\", ", "+                 _doc.getBanner() + \"before\" + _doc.getPrompt() + \"text\",", "+                 _doc.getDocText(0, _doc.getDocLength()));", "+    ", "+    // Reset should clear", "-    assertEquals(\"Length after reset\", origLength, _doc.getDocLength());", "+    assertEquals(\"Contents after reset\", ", "+                 origText, _doc.getDocText(0, _doc.getDocLength()));"]}], "num": 23027}