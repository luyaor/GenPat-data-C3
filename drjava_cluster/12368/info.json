{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "370e8c930dd20a71183a15aba4547d49", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2f924c62308084adfcf85a85aaf48922", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "dynamicjava/src/koala/dynamicjava/interpreter/NameVisitor.java", "commitBeforeChange": "5df4e785713703c5888db4cb5ec4317420920fff", "commitAfterChange": "14b25d4149524a90a31159ece6ef4294e14d0609", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 18, "signatureBeforeChange": "     public Object visit(SimpleAssignExpression node)", "signatureAfterChange": "   public Node visit(SimpleAssignExpression node)", "diff": ["+   */", "+  public Node visit(SimpleAssignExpression node) {", "+    // First, visit the right expression", "+    Expression right  = node.getRightExpression();", "+    Node o = right.acceptVisitor(this);", "+    if (o != null) {", "+      rejectReferenceType(o,right);", "+      node.setRightExpression((Expression)o);", "+    }", "+    ", "+    // Perhaps is this assignment a variable declaration ?", "+    Expression left  = node.getLeftExpression();", "+    if (left instanceof QualifiedName) {", "+      List<IdentifierToken> ids = ((QualifiedName)left).getIdentifiers();", "+      String var = ids.get(0).image();", "+      if (ids.size() == 1 && !context.exists(var)) {", "+        context.define(var, null);", "+      }", "+    } ", "+    ", "+    // Visit the left expression", "+    o = left.acceptVisitor(this);", "+    if (o != null) {", "+      rejectReferenceType(o,left);", "+      node.setLeftExpression((Expression)o);", "+    }", "+    return null;", "+  }", "-     */", "-    public Object visit(SimpleAssignExpression node) {", "-        // First, visit the right expression", "-        Expression right  = node.getRightExpression();", "-        Object o = right.acceptVisitor(this);", "-        if (o != null) {", "-\t    if (o instanceof ReferenceType) {", "-                throw new ExecutionError(\"right.expression\", right);", "-\t    }", "-\t    node.setRightExpression((Expression)o);", "-        }", "-", "-        // Perhaps is this assignment a variable declaration ?", "-        Expression left  = node.getLeftExpression();", "-        if (left instanceof QualifiedName) {", "-            List   ids = ((QualifiedName)left).getIdentifiers();", "-            String var = ((IdentifierToken)ids.get(0)).image();", "-            if (ids.size() == 1 && !context.exists(var)) {", "-\t\tcontext.define(var, null);", "-\t    }", "-\t}\t", "-", "-        // Visit the left expression", "-\to = left.acceptVisitor(this);", "-\tif (o != null) {", "-\t    if (o instanceof ReferenceType) {", "-                throw new ExecutionError(\"left.expression\", node);", "-\t    }", "-\t    node.setLeftExpression((Expression)o);", "-\t}", "-\treturn null;", "-    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "39dc92755e2ef33231077a845745cfe2", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "dynamicjava/src/koala/dynamicjava/interpreter/NameVisitor.java", "commitBeforeChange": "5df4e785713703c5888db4cb5ec4317420920fff", "commitAfterChange": "14b25d4149524a90a31159ece6ef4294e14d0609", "methodNumberBeforeChange": 76, "methodNumberAfterChange": 77, "signatureBeforeChange": "     private void visitBinaryExpression(BinaryExpression node)", "signatureAfterChange": "   private void visitBinaryExpression(BinaryExpression node)", "diff": ["+   */", "+  private void visitBinaryExpression(BinaryExpression node) {", "+    // Visit the left expression", "+    Node o = node.getLeftExpression().acceptVisitor(this);", "+    if (o != null) {", "+      rejectReferenceType(o,node);", "+      node.setLeftExpression((Expression)o);", "+      }", "+    ", "+    // Visit the right expression", "+    o = node.getRightExpression().acceptVisitor(this);", "+    if (o != null) {", "+      rejectReferenceType(o,node);", "+      node.setRightExpression((Expression)o);", "+    }", "+  }", "-     */", "-    private void visitBinaryExpression(BinaryExpression node) {", "-        // Visit the left expression", "-        Object o = node.getLeftExpression().acceptVisitor(this);", "-        if (o != null) {", "-            if (o instanceof Expression) {", "-                node.setLeftExpression((Expression)o);", "-            } else {", "-                throw new ExecutionError(\"left.operand\", node);", "-            }", "-        }", "-", "-        // Visit the right expression", "-        o = node.getRightExpression().acceptVisitor(this);", "-        if (o != null) {", "-            if (o instanceof Expression) {", "-                node.setRightExpression((Expression)o);", "-            } else {", "-                throw new ExecutionError(\"right.operand\", node);", "-            }", "-        }", "-    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4e3048e04c045775727688687daf998e", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "dynamicjava/src/koala/dynamicjava/interpreter/NameVisitor.java", "commitBeforeChange": "5df4e785713703c5888db4cb5ec4317420920fff", "commitAfterChange": "14b25d4149524a90a31159ece6ef4294e14d0609", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 15, "signatureBeforeChange": "     public Object visit(IfThenStatement node)", "signatureAfterChange": "   public Node visit(IfThenStatement node)", "diff": ["+   */", "+  public Node visit(IfThenStatement node) {", "+    // Visits the components of this node", "+    Node n = node.getCondition();", "+    Node o = n.acceptVisitor(this);", "+    if (o != null) {", "+      rejectReferenceType(o,n);", "+      node.setCondition((Expression)o);", "+    }", "+    ", "+    n = node.getThenStatement();", "+    o = n.acceptVisitor(this);", "+    if (o != null) {", "+      rejectReferenceType(o,n);", "+      node.setThenStatement(o);", "+    }", "+    return null;", "+  }", "-     */", "-    public Object visit(IfThenStatement node) {", "-        // Visits the components of this node", "-\tNode   n = node.getCondition();", "-        Object o = n.acceptVisitor(this);", "-        if (o != null) {", "-            if (o instanceof ReferenceType) {", "-                throw new ExecutionError(\"malformed.expression\", n);", "-\t    }", "-\t    node.setCondition((Expression)o);", "-        }", "-\t", "-\tn = node.getThenStatement();", "-        o = n.acceptVisitor(this);", "-        if (o != null) {", "-            if (o instanceof ReferenceType) {", "-                throw new ExecutionError(\"malformed.expression\", n);", "-\t    }", "-\t    node.setThenStatement((Node)o);", "-        }", "-        return null;", "-    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4f9ae6ccd939d2181f4fce54046f988d", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "dynamicjava/src/koala/dynamicjava/interpreter/NameVisitor.java", "commitBeforeChange": "5df4e785713703c5888db4cb5ec4317420920fff", "commitAfterChange": "14b25d4149524a90a31159ece6ef4294e14d0609", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 4, "signatureBeforeChange": "     public Object visit(WhileStatement node)", "signatureAfterChange": "   public Node visit(WhileStatement node)", "diff": ["+   */", "+  public Node visit(WhileStatement node) {", "+    // Visits the components of this node", "+    Node n = node.getCondition();", "+    Node o = n.acceptVisitor(this);", "+    if (o != null) {", "+      rejectReferenceType(o,n);", "+      node.setCondition((Expression)o);", "+    }", "+    n = node.getBody();", "+    o = n.acceptVisitor(this);", "+    if (o != null) {", "+      rejectReferenceType(o,n);", "+      node.setBody(o);", "+    }", "+    return null;", "+  }", "-     */", "-    public Object visit(WhileStatement node) {", "-        // Visits the components of this node", "-\tNode   n = node.getCondition();", "-        Object o = n.acceptVisitor(this);", "-        if (o != null) {", "-            if (o instanceof ReferenceType) {", "-                throw new ExecutionError(\"malformed.expression\", n);", "-\t    }", "-\t    node.setCondition((Expression)o);", "-        }", "-\t", "-\tn = node.getBody();", "-        o = n.acceptVisitor(this);", "-        if (o != null) {", "-            if (o instanceof ReferenceType) {", "-                throw new ExecutionError(\"malformed.expression\", n);", "-\t    }", "-\t    node.setBody((Node)o);", "-        }", "-        return null;", "-    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "74d190bfe9fa651939150ba6d8d23794", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "dynamicjava/src/koala/dynamicjava/interpreter/NameVisitor.java", "commitBeforeChange": "5df4e785713703c5888db4cb5ec4317420920fff", "commitAfterChange": "14b25d4149524a90a31159ece6ef4294e14d0609", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 6, "signatureBeforeChange": "     public Object visit(DoStatement node)", "signatureAfterChange": "   public Node visit(DoStatement node)", "diff": ["+   */", "+  public Node visit(DoStatement node) {", "+    // Visits the components of this node", "+    Node n = node.getCondition();", "+    Node o = n.acceptVisitor(this);", "+    if (o != null) {", "+      rejectReferenceType(o,n);", "+      node.setCondition((Expression)o);", "+    }", "+    ", "+    n = node.getBody();", "+    o = n.acceptVisitor(this);", "+    if (o != null) {", "+      rejectReferenceType(o,n);", "+      node.setBody(o);  ", "+    }", "+    return null;", "+  }", "-     */", "-    public Object visit(DoStatement node) {", "-        // Visits the components of this node", "-\tNode   n = node.getCondition();", "-        Object o = n.acceptVisitor(this);", "-        if (o != null) {", "-            if (o instanceof ReferenceType) {", "-                throw new ExecutionError(\"malformed.expression\", n);", "-\t    }", "-\t    node.setCondition((Expression)o);", "-        }", "-\t", "-\tn = node.getBody();", "-        o = n.acceptVisitor(this);", "-        if (o != null) {", "-            if (o instanceof ReferenceType) {", "-                throw new ExecutionError(\"malformed.expression\", n);", "-\t    }", "-\t    node.setBody((Node)o);", "-        }", "-        return null;", "-    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a781f6bae1bebf1fffecf963bdfd1bb6", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "dynamicjava/src/koala/dynamicjava/interpreter/NameVisitor.java", "commitBeforeChange": "5df4e785713703c5888db4cb5ec4317420920fff", "commitAfterChange": "14b25d4149524a90a31159ece6ef4294e14d0609", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 11, "signatureBeforeChange": "     public Object visit(SynchronizedStatement node)", "signatureAfterChange": "   public Node visit(SynchronizedStatement node)", "diff": ["+   */", "+  public Node visit(SynchronizedStatement node) {", "+    // Visits the component of this node", "+    Node n = node.getLock();", "+    Node o = n.acceptVisitor(this);", "+    if (o != null) {", "+      rejectReferenceType(o,n);", "+      node.setLock((Expression)o);", "+    }", "+    ", "+    n = node.getBody();", "+    o = n.acceptVisitor(this);", "+    if (o != null) {", "+      rejectReferenceType(o,n);", "+      node.setBody(o);", "+    }", "+    return null;", "+  }", "-     */", "-    public Object visit(SynchronizedStatement node) {", "-        // Visits the component of this node", "-\tNode n = node.getLock();", "-        Object o = n.acceptVisitor(this);", "-        if (o != null) {", "-\t    if (o instanceof ReferenceType) {", "-\t\tthrow new ExecutionError(\"malformed.expression\", n);", "-\t    }", "-\t    node.setLock((Expression)o);", "-        }", "-\t", "-\tn = node.getBody();", "-        o = n.acceptVisitor(this);", "-        if (o != null) {", "-\t    if (o instanceof ReferenceType) {", "-\t\tthrow new ExecutionError(\"malformed.expression\", n);", "-\t    }", "-\t    node.setBody((Node)o);", "-        }", "-        return null;", "-    }"]}], "num": 12368}