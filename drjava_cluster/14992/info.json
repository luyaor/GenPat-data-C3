{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "05ade945ea74556d1ec3e1e50b4726ac", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "922fd08cb9d897131f3167e94454425d", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/InteractionsPaneTest.java", "commitBeforeChange": "b6c98c2729d523213cf8ee6bbc9636575f25da66", "commitAfterChange": "4bdaddc150401ace7c16f01fa5c54525f5642ceb", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 21, "signatureBeforeChange": "   public void testCaretUpdatedOnInsert() throws EditDocumentException", "signatureAfterChange": "   public void testCaretUpdatedOnInsert() throws EditDocumentException", "diff": ["-    _controller.setCachedCaretPos(pos);", "+//    _controller.setCachedCaretPos(pos);", "-    _doc.insertBeforeLastPrompt(\"aa\", InteractionsDocument.DEFAULT_STYLE);", "+    _model.replSystemErrPrint(\"aa\");", "-    _doc.insertBeforeLastPrompt(\"b\", InteractionsDocument.DEFAULT_STYLE);", "+    _model.replSystemOutPrint(\"b\");", "-    // Move caret before prompt and insert more text", "-    Utilities.invokeAndWait(new Runnable() { public void run() { _pane.setCaretPosition(0); } });", "-    _doc.insertBeforeLastPrompt(\"ccc\", InteractionsDocument.DEFAULT_STYLE);", "+    _model.replSystemErrPrint(\"ccc\");", "-    _controller.setCachedCaretPos(newPos + 1);", "+//    _controller.setCachedCaretPos(newPos + 1);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ba31a1870529c50e4d4f099c3b55e1f2", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/InteractionsPaneTest.java", "commitBeforeChange": "ddbef72a194d17966584ef9d18603b05f8480094", "commitAfterChange": "768f383e38575107c315a182f5f4f8b4961ac9d0", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "   public void testCaretMovesUpToPromptAfterInsert() throws DocumentAdapterException", "signatureAfterChange": "   public void testCaretMovesUpToPromptAfterInsert() throws DocumentAdapterException", "diff": ["-    _doc.insertText(_doc.getDocLength(), \"typed text\", InteractionsDocument.DEFAULT_STYLE);", "-    _pane.setCaretPosition(1);", "+    _doc.append(\"typed text\", InteractionsDocument.DEFAULT_STYLE);", "+    Utilities.invokeAndWait(new Runnable() { public void run() { _pane.setCaretPosition(1); } });", "+//    System.err.println(\"caretPostion = \" + _pane.getCaretPosition());", "-    assertEquals(\"Caret is at the prompt after output inserted.\",", "-                 _doc.getPromptPos(),", "-                 _pane.getCaretPosition());", "+//     System.err.println(\"caretPostion = \" + _pane.getCaretPosition());", "+    Utilities.clearEventQueue();", "+//     System.err.println(\"caretPostion = \" + _pane.getCaretPosition());", "+    assertEquals(\"Caret is at the prompt after output inserted.\", _doc.getPromptPos(), _pane.getCaretPosition());", "-    _pane.setCaretPosition(1);", "+    Utilities.invokeAndWait(new Runnable() { public void run() { _pane.setCaretPosition(1); } });", "-    assertEquals(\"Caret is at the end after output inserted.\",", "-                 _doc.getPromptPos(),", "-                 _pane.getCaretPosition());", "+    Utilities.clearEventQueue();", "+    assertEquals(\"Caret is at the end after output inserted.\", _doc.getPromptPos(), _pane.getCaretPosition());"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ee613def214b081c608d912d295642f0", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/InteractionsPaneTest.java", "commitBeforeChange": "b6c98c2729d523213cf8ee6bbc9636575f25da66", "commitAfterChange": "4bdaddc150401ace7c16f01fa5c54525f5642ceb", "methodNumberBeforeChange": 17, "methodNumberAfterChange": 17, "signatureBeforeChange": "   public void testCaretMovesUpToPromptAfterInsert() throws EditDocumentException", "signatureAfterChange": "   public void testCaretMovesUpToPromptAfterInsert() throws EditDocumentException", "diff": ["-    _doc.append(\"typed text\", InteractionsDocument.DEFAULT_STYLE);", "-    Utilities.invokeAndWait(new Runnable() { public void run() { _pane.setCaretPosition(1); } });", "-    _controller.setCachedCaretPos(1);", "-    _doc.insertBeforeLastPrompt(\"simulated output\", InteractionsDocument.DEFAULT_STYLE);", "+    _model.replSystemOutPrint(\"typed text\");", "+//    Utilities.invokeAndWait(new Runnable() { public void run() { _pane.setCaretPosition(1); } });", "+//    _controller.setCachedCaretPos(1);", "+    _model.replSystemOutPrint(\"simulated output\");", "-    ", "-    _doc.insertPrompt();", "-    Utilities.invokeAndWait(new Runnable() { public void run() { _pane.setCaretPosition(1); } });", "-    _doc.insertBeforeLastPrompt(\"simulated output\", InteractionsDocument.DEFAULT_STYLE);", "-    Utilities.clearEventQueue();", "-    assertEquals(\"Caret is at the end after output inserted.\", _doc.getPromptPos(), _pane.getCaretPosition());"]}], "num": 14992}