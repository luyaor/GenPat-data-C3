{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f87ce78da61626774cd4fdba2c2088c1", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3bcae0f88dcec377c826cdfa9a943104", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/ConsoleDocument.java", "commitBeforeChange": "1ca22d8d9e892abbe72cd6aa5627cc7ce0e56b03", "commitAfterChange": "024873f55ad7ba6280213fee7183c6688ba3b395", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "   public synchronized int getPositionBeforePrompt()", "signatureAfterChange": "   public int getPositionBeforePrompt()", "diff": ["-  public synchronized int getPositionBeforePrompt() {", "-    if (_hasPrompt) return _promptPos - _prompt.length();", "-    return getDocLength();", "+  public int getPositionBeforePrompt() {", "+    acquireReadLock();", "+    try {", "+      if (_hasPrompt) return _promptPos - _prompt.length();", "+      return _document.getDocLength();", "+    }", "+    finally { releaseReadLock(); }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6b8f4ac197eeb8563e2c3f8d9222a5e5", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/ConsoleDocument.java", "commitBeforeChange": "1ca22d8d9e892abbe72cd6aa5627cc7ce0e56b03", "commitAfterChange": "024873f55ad7ba6280213fee7183c6688ba3b395", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 24, "signatureBeforeChange": "   public synchronized String getCurrentInput()", "signatureAfterChange": "   public String getCurrentInput()", "diff": ["-  public synchronized String getCurrentInput() {", "-    try {  return getDocText(_promptPos, getDocLength() - _promptPos); }", "-    catch (DocumentAdapterException e) {  throw new UnexpectedException(e); }", "+  public String getCurrentInput() {", "+    acquireReadLock();", "+    try {", "+      try { return getDocText(_promptPos, _document.getDocLength() - _promptPos); }", "+      catch (DocumentAdapterException e) { throw new UnexpectedException(e); }", "+    }", "+    finally { releaseReadLock(); }"]}], "num": 8553}