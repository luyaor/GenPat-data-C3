{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "cf53450650a1f19c66d24ae496d12c63", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3c4e05c09ad02f2c8a5b6cd83008a6ac", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/docnavigation/JTreeSortNavigator.java", "commitBeforeChange": "dfacb8ec563fb56fd384bc23954024d3da69f9f5", "commitAfterChange": "3219755a46ca8592e404ccf1c194784de66c102a", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "   public void refreshDocument(INavigatorItem doc, String path) throws IllegalArgumentException", "signatureAfterChange": "   public void refreshDocument(INavigatorItem doc, String path) throws IllegalArgumentException", "diff": ["-    DefaultMutableTreeNode node = getNodeForDoc(doc);", "-    addDocument(doc, path);", "-    _model.removeNodeFromParent(node);", "+    /**", "+     * since we are modifying the model of this tree, and in the middle of this modification,", "+     * we have an unstable model, we need to synchronize around it.", "+     * Note: this solved the bug where compile all with modified documents would throw an array", "+     * index out of bounds exception when painting.", "+     */", "+    synchronized(this){", "+      DefaultMutableTreeNode node = getNodeForDoc(doc);", "+      addDocument(doc, path);", "+      _model.removeNodeFromParent(node);", "+    }", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f9f6b910760c28571c0d6d97c26a20e2", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/docnavigation/JTreeSortNavigator.java", "commitBeforeChange": "55fb98a726c0190aa8a7fbeee084f55def19ac79", "commitAfterChange": "771a0aee635c62bc6d0a2000fe605dc1113ef2b9", "methodNumberBeforeChange": 49, "methodNumberAfterChange": 49, "signatureBeforeChange": "   public String generatePathString(TreePath tp)", "signatureAfterChange": "   public String generatePathString(TreePath tp)", "diff": ["-    ", "-    TreeNode root = (TreeNode) _model.getRoot();", "-    ", "-    while (tp != null) {", "-      TreeNode curr = (TreeNode) tp.getLastPathComponent();", "-      if (curr == root) path = \"./\" + path;", "-      else path = curr + \"/\" + path;", "-      tp = tp.getParentPath();", "+    synchronized (_model) {", "+      TreeNode root = (TreeNode) _model.getRoot();", "+      ", "+      while (tp != null) {", "+        TreeNode curr = (TreeNode) tp.getLastPathComponent();", "+        if (curr == root) path = \"./\" + path;", "+        else path = curr + \"/\" + path;", "+        tp = tp.getParentPath();", "+      }"]}], "num": 15062}