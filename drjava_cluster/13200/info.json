{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a01e4613c03907234baadea408778697", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "aff8526bedb7678e301408051cd1b11d", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/EvaluationVisitorExtension.java", "commitBeforeChange": "405bec7d97445f0020939e0560dc10393430aac1", "commitAfterChange": "070ce5905e33fc289f79bfc0035862d6493d03f5", "methodNumberBeforeChange": 74, "methodNumberAfterChange": 74, "signatureBeforeChange": "    protected static Object performCast(Class tc, Object o)", "signatureAfterChange": "   protected static Object performCast(Class tc, Object o)", "diff": ["+     */", "-    return EvaluationVisitor.performCast(tc, o);", "+    Class ec = (o != null) ? o.getClass() : null;", "+    ", "+    if (tc != ec && tc.isPrimitive() && ec != null) {", "+      if (tc != char.class && ec == Character.class) {", "+        o = new Integer(((Character)o).charValue());", "+      } else if (tc == byte.class) {", "+        o = new Byte(((Number)o).byteValue());", "+      } else if (tc == short.class) {", "+        o = new Short(((Number)o).shortValue());", "+      } else if (tc == int.class) {", "+        o = new Integer(((Number)o).intValue());", "+      } else if (tc == long.class) {", "+        o = new Long(((Number)o).longValue());", "+      } else if (tc == float.class) {", "+        o = new Float(((Number)o).floatValue());", "+      } else if (tc == double.class) {", "+        o = new Double(((Number)o).doubleValue());", "+      } else if (tc == char.class && ec != Character.class) {", "+        o = new Character((char)((Number)o).shortValue());", "+      }", "+    }", "+    return o;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b4bcb40f73983ec24a7bf76f37a8bf24", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/EvaluationVisitorExtension.java", "commitBeforeChange": "7f62f2f9bc3bd568f4385528634c331480fbe08e", "commitAfterChange": "d55b82d942f5baa7bd5bf3a1d9f1f1f9dce04a39", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 13, "signatureBeforeChange": "   public Object visit(VariableDeclaration node)", "signatureAfterChange": "   public Object visit(VariableDeclaration node)", "diff": ["-        _context.set(node.getName(), UninitializedObject.INSTANCE);", "+        // Non-final variables have default values, and are not uninitialized.", "+        // Primitive variables have special default values, Objects default to null.", "+        // Fixes bug #797515.", "+//        _context.set(node.getName(), UninitializedObject.INSTANCE);", "+        Object value = null;", "+        if (!c.isPrimitive()) {", "+          value = null;", "+        }", "+        else if (c == byte.class) {", "+          value = new Byte((byte)0);", "+        }", "+        else if (c == short.class) {", "+          value = new Short((short)0);", "+        }", "+        else if (c == int.class) {", "+          value = new Integer(0);", "+        }", "+        else if (c == long.class) {", "+          value = new Long(0L);", "+        }", "+        else if (c == float.class) {", "+          value = new Float(0.0f);", "+        }", "+        else if (c == double.class) {", "+          value = new Double(0.0d);", "+        }", "+        else if (c == char.class) {", "+          value = new Character('\\u0000');", "+        }", "+        else if (c == boolean.class) {", "+          value = new Boolean(false);", "+        }", "+        _context.set(node.getName(), value);"]}], "num": 13200}