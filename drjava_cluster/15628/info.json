{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "88f391b044cea18960d52e090211909a", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "2c9b83f99b7117864e2f2ba8d2ebc66b", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/ExternalProcessPanel.java", "commitBeforeChange": "d3ca8d30db126f3de1352627e18f51d00a1bf339", "commitAfterChange": "1e619a02befaa7a99dc31172b2a007a2446ed2bd", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "    protected void initThread(ProcessCreator pc)", "signatureAfterChange": "\r \r   protected void initThread(ProcessCreator pc)", "diff": ["-", "-  protected void initThread(ProcessCreator pc) {", "-    _abortMonitor.reset();", "-    // MainFrame.LOG.log(\"\\tProcessPanel ctor\");", "-    try {", "-      _pc = pc;", "-      _pc.getPropertyMaps().clearVariables();", "-      _readThread = new Thread(new Runnable() {", "-        public void run() {", "-          while((_is!=null) || (_erris!=null)) {", "-            readText(false);", "-          }", "-        }", "-      },\"External Process Read Thread\");", "-      _updateThread = new Thread(new Runnable() {", "-        public void run() {", "-          while((_is!=null) || (_erris!=null)) {", "-            try {", "-              Thread.sleep(edu.rice.cs.drjava.DrJava.getConfig().", "-                             getSetting(edu.rice.cs.drjava.config.OptionConstants.FOLLOW_FILE_DELAY));", "-            }", "-            catch(InterruptedException ie) { /* ignore */ }", "-            updateText();", "-          }", "-        }", "-      },\"External Process Update Thread\");", "-      _p = _pc.start();", "-      _sb.append(\"Evaluated command line:\");", "-      _sb.append(_pc.evaluatedCommandLine());", "-      _sb.append('\\n');", "-      _is = new InputStreamReader(_p.getInputStream());", "-      _erris = new InputStreamReader(_p.getErrorStream());", "-      _readThread.start();", "-      _updateThread.start();", "-      _updateNowButton.setEnabled(true);", "-      _deathThread = new Thread(new Runnable() {", "-        public void run() {", "-          try {", "-            _retVal = _p.waitFor();", "-            Utilities.invokeLater(new Runnable() {", "-              public void run() {", "-                _sb.append(\"\\n\\nProcess returned \");", "-                _sb.append(_retVal);", "-                _sb.append(\"\\n\");", "-                _textArea.setText(_sb.toString());", "-              }", "-            });", "-          }", "-          catch(InterruptedException e) {", "-            Utilities.invokeLater(new Runnable() {", "-              public void run() {", "-                _p.destroy();", "-                _sb.append(\"\\n\\nProcess returned \");", "-                _sb.append(_retVal);", "-                _sb.append(\"\\n\");", "-                _textArea.setText(_sb.toString());", "-              }", "-            });", "-          }", "-          finally {", "-            abortActionPerformed(null);", "-          }", "-        }", "-      },\"External Process Death Thread\");", "-      _deathThread.start();", "-      // MainFrame.LOG.log(\"\\tUpdate thread started\");", "-    }", "-    catch(Exception e) {", "-      _sb.append(\"\\n\\nException from process:\\n\"+e.toString());", "-      _textArea.setText(_sb.toString());", "-      edu.rice.cs.util.GeneralProcessCreator.LOG.log(_sb.toString());", "-      abortActionPerformed(null);", "-    }", "-  }", "+\r", "+  protected void initThread(ProcessCreator pc) {\r", "+    _abortMonitor.reset();\r", "+    // MainFrame.LOG.log(\"\\tProcessPanel ctor\");\r", "+    try {\r", "+      _pc = pc;\r", "+      _pc.getPropertyMaps().clearVariables();\r", "+      _readThread = new Thread(new Runnable() {\r", "+        public void run() {\r", "+          while((_is!=null) || (_erris!=null)) {\r", "+            readText(false);\r", "+          }\r", "+        }\r", "+      },\"External Process Read Thread\");\r", "+      _updateThread = new Thread(new Runnable() {\r", "+        public void run() {\r", "+          while((_is!=null) || (_erris!=null)) {\r", "+            try {\r", "+              Thread.sleep(edu.rice.cs.drjava.DrJava.getConfig().\r", "+                             getSetting(edu.rice.cs.drjava.config.OptionConstants.FOLLOW_FILE_DELAY));\r", "+            }\r", "+            catch(InterruptedException ie) { /* ignore */ }\r", "+            updateText();\r", "+          }\r", "+        }\r", "+      },\"External Process Update Thread\");\r", "+      _p = _pc.start();\r", "+      _sb.append(\"Evaluated command line: \");\r", "+      _sb.append(_pc.evaluatedCommandLine());\r", "+      _sb.append('\\n');\r", "+      _is = new InputStreamReader(_p.getInputStream());\r", "+      _erris = new InputStreamReader(_p.getErrorStream());\r", "+      _readThread.start();\r", "+      _updateThread.start();\r", "+      _updateNowButton.setEnabled(true);\r", "+      _deathThread = new Thread(new Runnable() {\r", "+        public void run() {\r", "+          try {\r", "+            _retVal = _p.waitFor();\r", "+            Utilities.invokeLater(new Runnable() {\r", "+              public void run() {\r", "+                _sb.append(\"\\n\\nProcess returned \");\r", "+                _sb.append(_retVal);\r", "+                _sb.append(\"\\n\");\r", "+                _textArea.setText(_sb.toString());\r", "+              }\r", "+            });\r", "+          }\r", "+          catch(InterruptedException e) {\r", "+            Utilities.invokeLater(new Runnable() {\r", "+              public void run() {\r", "+                _p.destroy();\r", "+                _sb.append(\"\\n\\nProcess returned \");\r", "+                _sb.append(_retVal);\r", "+                _sb.append(\"\\n\");\r", "+                _textArea.setText(_sb.toString());\r", "+              }\r", "+            });\r", "+          }\r", "+          finally {\r", "+            abortActionPerformed(null);\r", "+          }\r", "+        }\r", "+      },\"External Process Death Thread\");\r", "+      _deathThread.start();\r", "+      // MainFrame.LOG.log(\"\\tUpdate thread started\");\r", "+    }\r", "+    catch(Exception e) {\r", "+      _sb.append(\"\\n\\nException from process:\\n\"+e.toString());\r", "+      _textArea.setText(_sb.toString());\r", "+      edu.rice.cs.util.GeneralProcessCreator.LOG.log(_sb.toString());\r", "+      abortActionPerformed(null);\r", "+    }\r", "+  }\r"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "30aac75fe6258cd2aabb455bb4f595ae", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/ExternalProcessPanel.java", "commitBeforeChange": "1f5f4df3d6b832b8f29758517ad3b40ec22b5426", "commitAfterChange": "cf5f5e0733e09b37dba594527997b94724b4e6bf", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 7, "signatureBeforeChange": "    protected void initThread(ProcessCreator pc)", "signatureAfterChange": "\r \r   protected void initThread(ProcessCreator pc)", "diff": ["-", "-  protected void initThread(ProcessCreator pc) {", "-    // MainFrame.LOG.log(\"\\tProcessPanel ctor\");", "-    try {", "-      _pc = pc;", "-      _pc.getPropertyMaps().clearVariables();", "-      _readThread = new Thread(new Runnable() {", "-        public void run() {", "-          while((_is!=null) || (_erris!=null)) {", "-            readText(false);", "-          }", "-        }", "-      },\"External Process Read Thread\");", "-      _updateThread = new Thread(new Runnable() {", "-        public void run() {", "-          while((_is!=null) || (_erris!=null)) {", "-            try {", "-              Thread.sleep(edu.rice.cs.drjava.DrJava.getConfig().", "-                             getSetting(edu.rice.cs.drjava.config.OptionConstants.FOLLOW_FILE_DELAY));", "-            }", "-            catch(InterruptedException ie) { /* ignore */ }", "-            updateText();", "-          }", "-        }", "-      },\"External Process Update Thread\");", "-      _p = _pc.start();", "-      _sb.append(\"Evaluated command line:\");", "-      _sb.append(_pc.evaluatedCommandLine());", "-      _sb.append('\\n');", "-      _is = new InputStreamReader(_p.getInputStream());", "-      _erris = new InputStreamReader(_p.getErrorStream());", "-      _readThread.start();", "-      _updateThread.start();", "-      _updateNowButton.setEnabled(true);", "-      _deathThread = new Thread(new Runnable() {", "-        public void run() {", "-          try {", "-            _retVal = _p.waitFor();", "-            Utilities.invokeLater(new Runnable() {", "-              public void run() {", "-                _sb.append(\"\\n\\nProcess returned \");", "-                _sb.append(_retVal);", "-                _sb.append(\"\\n\");", "-                _textArea.setText(_sb.toString());", "-              }", "-            });", "-          }", "-          catch(InterruptedException e) {", "-            Utilities.invokeLater(new Runnable() {", "-              public void run() {", "-                _p.destroy();", "-                _sb.append(\"\\n\\nProcess returned \");", "-                _sb.append(_retVal);", "-                _sb.append(\"\\n\");", "-                _textArea.setText(_sb.toString());", "-              }", "-            });", "-          }", "-          finally {", "-            abortActionPerformed(null);", "-          }", "-        }", "-      },\"External Process Death Thread\");", "-      _deathThread.start();", "-      // MainFrame.LOG.log(\"\\tUpdate thread started\");", "-    }", "-    catch(Exception e) {", "-      _sb.append(\"\\n\\nException from process:\\n\"+e.toString());", "-      _textArea.setText(_sb.toString());", "-      edu.rice.cs.util.GeneralProcessCreator.LOG.log(_sb.toString());", "-      abortActionPerformed(null);", "-    }", "-  }", "+\r", "+  protected void initThread(ProcessCreator pc) {\r", "+    _abortMonitor.reset();\r", "+    // MainFrame.LOG.log(\"\\tProcessPanel ctor\");\r", "+    try {\r", "+      _pc = pc;\r", "+      _pc.getPropertyMaps().clearVariables();\r", "+      _readThread = new Thread(new Runnable() {\r", "+        public void run() {\r", "+          while((_is!=null) || (_erris!=null)) {\r", "+            readText(false);\r", "+          }\r", "+        }\r", "+      },\"External Process Read Thread\");\r", "+      _updateThread = new Thread(new Runnable() {\r", "+        public void run() {\r", "+          while((_is!=null) || (_erris!=null)) {\r", "+            try {\r", "+              Thread.sleep(edu.rice.cs.drjava.DrJava.getConfig().\r", "+                             getSetting(edu.rice.cs.drjava.config.OptionConstants.FOLLOW_FILE_DELAY));\r", "+            }\r", "+            catch(InterruptedException ie) { /* ignore */ }\r", "+            updateText();\r", "+          }\r", "+        }\r", "+      },\"External Process Update Thread\");\r", "+      _p = _pc.start();\r", "+      _sb.append(\"Evaluated command line:\");\r", "+      _sb.append(_pc.evaluatedCommandLine());\r", "+      _sb.append('\\n');\r", "+      _is = new InputStreamReader(_p.getInputStream());\r", "+      _erris = new InputStreamReader(_p.getErrorStream());\r", "+      _readThread.start();\r", "+      _updateThread.start();\r", "+      _updateNowButton.setEnabled(true);\r", "+      _deathThread = new Thread(new Runnable() {\r", "+        public void run() {\r", "+          try {\r", "+            _retVal = _p.waitFor();\r", "+            Utilities.invokeLater(new Runnable() {\r", "+              public void run() {\r", "+                _sb.append(\"\\n\\nProcess returned \");\r", "+                _sb.append(_retVal);\r", "+                _sb.append(\"\\n\");\r", "+                _textArea.setText(_sb.toString());\r", "+              }\r", "+            });\r", "+          }\r", "+          catch(InterruptedException e) {\r", "+            Utilities.invokeLater(new Runnable() {\r", "+              public void run() {\r", "+                _p.destroy();\r", "+                _sb.append(\"\\n\\nProcess returned \");\r", "+                _sb.append(_retVal);\r", "+                _sb.append(\"\\n\");\r", "+                _textArea.setText(_sb.toString());\r", "+              }\r", "+            });\r", "+          }\r", "+          finally {\r", "+            abortActionPerformed(null);\r", "+          }\r", "+        }\r", "+      },\"External Process Death Thread\");\r", "+      _deathThread.start();\r", "+      // MainFrame.LOG.log(\"\\tUpdate thread started\");\r", "+    }\r", "+    catch(Exception e) {\r", "+      _sb.append(\"\\n\\nException from process:\\n\"+e.toString());\r", "+      _textArea.setText(_sb.toString());\r", "+      edu.rice.cs.util.GeneralProcessCreator.LOG.log(_sb.toString());\r", "+      abortActionPerformed(null);\r", "+    }\r", "+  }\r"]}], "num": 15628}