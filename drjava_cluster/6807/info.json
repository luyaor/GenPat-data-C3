{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "300b07d244be0fff6a20338a41663c01", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "93655b1abd2f9b5c226556b48efc8ec8", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/EventNotifier.java", "commitBeforeChange": "688e157c7573e27d29048be4b5c2986e80d14e52", "commitAfterChange": "b8ed4d4bbe5cb36f7fb86bf02c301a4f948a603e", "methodNumberBeforeChange": 2, "methodNumberAfterChange": 3, "signatureBeforeChange": "   public void removeAllListeners()", "signatureAfterChange": "   public void removeAllListeners()", "diff": ["-  /** Removes all listeners from this notifier.  */", "+    * Note: It is NOT guaranteed that the listener will not be executed again. */", "-    _lock.startWrite();", "-    try { _listeners.clear(); }", "-    finally {", "-      _lock.endWrite();", "+    try { ", "+      _lock.startWrite();", "+      try { _listeners.clear(); }", "+      finally {", "+        _lock.endWrite();", "+      }", "+    }", "+    catch(ReaderWriterLock.DeadlockException e) {", "+      // couldn't remove right now because this thread already owns a lock", "+      // remember to remove it later", "+      new Thread(new Runnable() {", "+        public void run() {", "+          _lock.startWrite();", "+          try { _listeners.clear(); }", "+          finally { _lock.endWrite(); }", "+        }", "+      }, \"Pending Listener Removal\").start();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f95c13416be68b6e5b1ed9b15f9bbd4c", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/EventNotifier.java", "commitBeforeChange": "688e157c7573e27d29048be4b5c2986e80d14e52", "commitAfterChange": "b8ed4d4bbe5cb36f7fb86bf02c301a4f948a603e", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 1, "signatureBeforeChange": "   public void removeListener(T listener)", "signatureAfterChange": "   public void removeListener(final T listener)", "diff": ["-   */", "-  public void removeListener(T listener) {", "+    */", "+  public void removeListener(final T listener) {", "-    _lock.startWrite();", "-    try { _listeners.remove(listener); }", "-    finally {", "-      _lock.endWrite();", "+    try {", "+      _lock.startWrite();", "+      try { _listeners.remove(listener); }", "+      finally {", "+        _lock.endWrite();", "+      }", "+    }", "+    catch(ReaderWriterLock.DeadlockException e) {", "+      // couldn't remove right now because this thread already owns a lock", "+      // remember to remove it later", "+      new Thread(new Runnable() {", "+        public void run() {", "+          _lock.startWrite();", "+          try { _listeners.remove(listener); }", "+          finally { _lock.endWrite(); }", "+        }", "+      }, \"Pending Listener Removal\").start();", "+//      synchronized(_listenersToRemove) {", "+//        _listenersToRemove.add(listener);", "+//      }"]}], "num": 6807}