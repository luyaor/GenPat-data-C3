{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "5696a1d249f8a367a37a5e755868b5de", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ab044f20e351acdcab8d92e3ee6cc616", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/InteractionsController.java", "commitBeforeChange": "aa7f147d71330aa12463dfbc7a233e3ed25560e6", "commitAfterChange": "cfaac02e8e33f506b730c3f8ce96676d16b8f705", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 8, "signatureBeforeChange": "     public void insertUpdate(DocumentEvent e)", "signatureAfterChange": "     public void insertUpdate(DocumentEvent e)", "diff": ["+      int prevPromptPos = promptPos - e.getLength();", "-      else {", "-        // Only update caret if it has fallen behind the prompt.", "-        // (And be careful not to move it during a reset, when the", "-        //  prompt pos is temporarily far greater than the length.)", "-        if ((caretPos < promptPos) && (promptPos <= length)) {", "+      // (Be careful not to move caret during a reset, when the", "+      //  prompt pos is temporarily far greater than the length.)", "+      else if (promptPos <= length) {", "+        if (caretPos < prevPromptPos) {", "+          // Caret has fallen behind prompt, so make it catch up so", "+          //  the new input is visible.", "+        }", "+        else {", "+          // Caret was on or after prompt, so move it right by the size", "+          //  of the insert.", "+          moveTo(caretPos + e.getLength());"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f6c3c21079d363db08d208b3e2920a18", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/InteractionsPane.java", "commitBeforeChange": "73b3ce3968c13472938fea3d36b496150c938bd2", "commitAfterChange": "6cf6212d2242fc41ac00a6496c1e1ba3b53de977", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "     public void insertUpdate(DocumentEvent e)", "signatureAfterChange": "     public void insertUpdate(DocumentEvent e)", "diff": ["-      ", "-      // Only update caret if it has fallen behind the prompt.", "-      // (And be careful not to move it during a reset, when the", "-      //  frozen pos is temporarily far greater than the length.)", "-      if ((caretPos < frozenPos) && (frozenPos < length)) {", "-        setCaretPosition(frozenPos);", "+", "+      if (((InteractionsDocument)_model.getInteractionsDocument()).inProgress()) {", "+        // Scroll to the end of the document, since output has been", "+        // inserted after the prompt.", "+        setCaretPosition(e.getDocument().getLength());", "+      }", "+      else {", "+        // Only update caret if it has fallen behind the prompt.", "+        // (And be careful not to move it during a reset, when the", "+        //  frozen pos is temporarily far greater than the length.)", "+        if ((caretPos < frozenPos) && (frozenPos < length)) {", "+          setCaretPosition(frozenPos);", "+        }"]}], "num": 7208}