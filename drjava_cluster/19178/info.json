{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "15ec3386cbc39d7e2d612ac4481a1c11", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3b3ca177f0557e2e594c79319d8250fc", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/DefaultGlobalModel.java", "commitBeforeChange": "e64e0f2febfc163cfb04eb35ce1134673166ab50", "commitAfterChange": "71b4e72a1b4feef5a2621bd09e829e0108d8d893", "methodNumberBeforeChange": 149, "methodNumberAfterChange": 149, "signatureBeforeChange": "   public File[] getSourceRootSet()", "signatureAfterChange": "   public File[] getSourceRootSet()", "diff": ["-", "-    Iterator<OpenDefinitionsDocument> odds = _documentsRepos.valuesIterator();", "-    while(odds.hasNext())", "-    {", "-      OpenDefinitionsDocument doc = odds.next();", "-", "-      try {", "-        File root = doc.getSourceRoot();", "-", "-        // Don't add duplicate Files, based on path", "-        if (!roots.contains(root)) {", "-          roots.add(root);", "+    synchronized (_documentsRepos) {", "+      for (OpenDefinitionsDocument doc: _documentsRepos.values()) {", "+        try {", "+          File root = doc.getSourceRoot();", "+          if (!roots.contains(root)) { roots.add(root); } // Don't add duplicate Files, based on path", "+        catch (InvalidPackageException e) { /* file has invalid package statement; ignore it */ }", "-      catch (InvalidPackageException e) {", "-        // oh well, invalid package statement for this one", "-        // can't add it to roots", "-      }", "+      return roots.toArray(new File[0]);", "-", "-//    File workDir = DrJava.getConfig().getSetting(WORKING_DIRECTORY);", "-//", "-//    if (workDir == FileOption.NULL_FILE) {", "-//      workDir = new File( System.getProperty(\"user.dir\"));", "-//    }", "-//    if (workDir.isFile() && workDir.getParent() != null) {", "-//      workDir = workDir.getParentFile();", "-//    }", "-//    roots.add(workDir);", "-", "-    return roots.toArray(new File[0]);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "949050ebcc1c0fb600a1226ee8ff1a02", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/config/FileOptionComponent.java", "commitBeforeChange": "85538cb484722f3ee8b8f52d4f19defc02bd67d5", "commitAfterChange": "ec727abc662388138ad4bf94694974ef5e13db3c", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "      public FileOptionComponent (FileOption opt, String text, Frame parent)", "signatureAfterChange": "      public FileOptionComponent (FileOption opt, String text, Frame parent)", "diff": ["-    _button.setBackground(Color.white);", "+    //_button.setBackground(Color.white);", "+    _button.setText(\"...\");", "+    _button.setMaximumSize(new Dimension(10,10));", "+    _button.setMinimumSize(new Dimension(10, 10));", "+    ", "+    _jtf = new JTextField();", "+    _jtf.setColumns(30);", "+    ", "+    _jtf.setFont(_jtf.getFont().deriveFont(10f));", "+    _jtf.addActionListener(new ActionListener() {", "+      public void actionPerformed(ActionEvent e) {", "+        boolean tf = chooseFileFromField();", "+      }", "+    });", "+    ", "-    _updateButton(_currentFile);", "+    //_updateButton(_currentFile);", "+    _updateTextField(_currentFile);", "+    ", "+    File workDir = DrJava.CONFIG.getSetting(WORKING_DIRECTORY);", "+       ", "+    if (workDir == FileOption.NULL_FILE) {", "+      workDir = new File( System.getProperty(\"user.dir\"));", "+    }", "+    if (workDir.isFile() && workDir.getParent() != null) {", "+      workDir = workDir.getParentFile();", "+    }", "+    _jfc = new JFileChooser(workDir);", "+    ", "+    _panel = new JPanel();", "+    _panel.setLayout(new BorderLayout());", "+     ", "+    _panel.add(_jtf, BorderLayout.CENTER);", "+    _panel.add(_button, BorderLayout.EAST);"]}], "num": 19178}