{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2207aba0c7547abd41693f277afc0de6", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "79a71e311995672625ce0eb25e430704", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "dynamicjava/src/edu/rice/cs/dynamicjava/interpreter/ExpressionChecker.java", "commitBeforeChange": "17b59cf1640c29fbcc5ed0fdfe96f8053eaa1da0", "commitAfterChange": "eef32107e75e031eb7210130ce310e1714e51b91", "methodNumberBeforeChange": 87, "methodNumberAfterChange": 87, "signatureBeforeChange": "     @Override public Type visit(SimpleAssignExpression node)", "signatureAfterChange": "     @Override public Type visit(SimpleAssignExpression node)", "diff": ["-      if (hasVariable(left) && getVariable(left).isFinal() ||", "-          hasField(left) && getField(left).isFinal()) {", "-        throw new ExecutionError(\"cannot.modify\", node);", "+      if (!context.inConstructorBody()) {", "+        if (hasVariable(left) && getVariable(left).isFinal()) {", "+          setErrorStrings(node, getVariable(left).declaredName());", "+          throw new ExecutionError(\"cannot.modify\", node);", "+        }", "+        else if (hasField(left) && getField(left).isFinal()) {", "+          setErrorStrings(node, getField(left).declaredName());", "+          throw new ExecutionError(\"cannot.modify\", node);", "+        }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "aef0791930473e63eca2a6e2bdda6fe8", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "dynamicjava/src/edu/rice/cs/dynamicjava/interpreter/ExpressionChecker.java", "commitBeforeChange": "eef32107e75e031eb7210130ce310e1714e51b91", "commitAfterChange": "7c0f2c9147393f8cef6c7d3001b98a8817827537", "methodNumberBeforeChange": 87, "methodNumberAfterChange": 87, "signatureBeforeChange": "     @Override public Type visit(SimpleAssignExpression node)", "signatureAfterChange": "     @Override public Type visit(SimpleAssignExpression node)", "diff": ["-      if (!context.inConstructorBody()) {", "-        if (hasVariable(left) && getVariable(left).isFinal()) {", "-          setErrorStrings(node, getVariable(left).declaredName());", "-          throw new ExecutionError(\"cannot.modify\", node);", "-        }", "-        else if (hasField(left) && getField(left).isFinal()) {", "+      if (hasVariable(left) && getVariable(left).isFinal()) {", "+        setErrorStrings(node, getVariable(left).declaredName());", "+        throw new ExecutionError(\"cannot.modify\", node);", "+      }", "+      if (hasField(left) && getField(left).isFinal()) {", "+        DJClass initializing = context.initializingClass();", "+        if (initializing == null || !initializing.equals(getField(left).declaringClass())) {", "-      }", "-      ", "+      }      "]}], "num": 23273}