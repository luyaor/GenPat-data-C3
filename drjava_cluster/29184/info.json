{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "925830f11bb46442944b6d6c30b13f55", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3ae47237159cc231ac66e2ed0722f1a5", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrameTest.java", "commitBeforeChange": "97a825e752ef3da28458a0080f0990b0f0659788", "commitAfterChange": "3f50a00dbfaba534529de5a114a9d7c30612e9a7", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 14, "signatureBeforeChange": "   public void testMultilineIndentAfterScroll() throws BadLocationException, InterruptedException", "signatureAfterChange": "   public void testMultilineIndentAfterScroll() throws BadLocationException, InterruptedException", "diff": ["-    int oldPos;", "+    Utilities.clearEventQueue();", "-    doc.indentLines(0, doc.getLength()); // should be enclosed in  write lock/unlock brackets", "+    doc.acquireWriteLock();", "+    ", "+    try { doc.indentLines(0, doc.getLength()); }", "+    finally { doc.releaseWriteLock(); }", "-    oldPos = pane.getCaretPosition();", "+    final int oldPos = pane.getCaretPosition();", "+    Utilities.clearEventQueue();", "-    // Moving this two statement to the event thread breaks \"Undo should have restored ...\"  Why?", "+    // Moving this statement to the event thread breaks \"Undo should have restored ...\"  Why?", "+    Utilities.clearEventQueue();", "+    "]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b6dcc7e92fcafd75f7909ecfca69bd1a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/indent/IndentRulesTestCase.java", "commitBeforeChange": "e753017eccbd872714e58c93831cb488b5045d2a", "commitAfterChange": "abaea23707eba81455db9185a249740d89273b85", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 8, "signatureBeforeChange": "   protected final void _setDocText(String text)     throws BadLocationException", "signatureAfterChange": "   protected final void _setDocText(String text) throws BadLocationException", "diff": ["-   */", "-  protected final void _setDocText(String text)", "-    throws BadLocationException {", "-    _doc.clear();", "-    _doc.insertString(0, text, null);", "+  /** Clears the text of the _doc field and sets it to the given string. */", "+  protected final void _setDocText(String text) throws BadLocationException {", "+    _doc.acquireWriteLock();", "+    try {", "+      _doc.clear();", "+      _doc.insertString(0, text, null);", "+    }", "+    finally { _doc.releaseWriteLock(); }", "+    Utilities.clearEventQueue();  // make sure that all listener actions triggered by this document update have completed", "+    Utilities.clearEventQueue();"]}], "num": 29184}