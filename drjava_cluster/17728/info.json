{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "eff774878f8a3fcca1baf7b3e11c5adf", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6484690a07afdaa5a14bb29a6f9cf348", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "0106f3ce6870b8b4440fc75222d89130d761ff4e", "commitAfterChange": "7363b79c6228b3bbffbaa22283c3045a27a3cedc", "methodNumberBeforeChange": 37, "methodNumberAfterChange": 37, "signatureBeforeChange": "    public boolean _isAnonymousInnerClass(final int pos, final int openCurlyPos) throws BadLocationException", "signatureAfterChange": "    public boolean _isAnonymousInnerClass(final int pos, final int openCurlyPos) throws BadLocationException", "diff": ["-//    synchronized(_reduced) {", "+    synchronized(_reduced) {", "-//    }", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b19c876d56192fb94ffbfc07fb227610", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "6d55d86705248616cac5b324a7c528485ceb6104", "commitAfterChange": "d9483f6c228cd09f3431ad6b50a3d96bdaf83832", "methodNumberBeforeChange": 55, "methodNumberAfterChange": 55, "signatureBeforeChange": "   public synchronized WeakHashMap<WrappedPosition, Integer> getWrappedPositionOffsets()", "signatureAfterChange": "   public WeakHashMap<WrappedPosition, Integer> getWrappedPositionOffsets()", "diff": ["-   */", "-  public synchronized WeakHashMap<WrappedPosition, Integer> getWrappedPositionOffsets() {", "+    */", "+  public WeakHashMap<WrappedPosition, Integer> getWrappedPositionOffsets() {", "-    if (_wrappedPosList==null) { _wrappedPosList = new LinkedList<WeakReference<WrappedPosition>>(); }", "-    WeakHashMap<WrappedPosition, Integer> ret = new WeakHashMap<WrappedPosition, Integer>(_wrappedPosList.size());", "-    ", "-    for (WeakReference<WrappedPosition> wr: _wrappedPosList) {", "-      if (wr.get()!=null)  {", "-        // hasn't been garbage-collected yet", "-        newList.add(wr);", "-        ret.put(wr.get(), wr.get().getOffset());", "+    synchronized(_wrappedPosListLock) {", "+      if (_wrappedPosList == null) { _wrappedPosList = new LinkedList<WeakReference<WrappedPosition>>(); }", "+      WeakHashMap<WrappedPosition, Integer> ret = new WeakHashMap<WrappedPosition, Integer>(_wrappedPosList.size());", "+      ", "+      for (WeakReference<WrappedPosition> wr: _wrappedPosList) {", "+        if (wr.get() != null)  {", "+          // hasn't been garbage-collected yet", "+          newList.add(wr);", "+          ret.put(wr.get(), wr.get().getOffset());", "+        }", "-    }", "-    _wrappedPosList.clear();", "-    _wrappedPosList = newList;", "-    ", "+      _wrappedPosList.clear();", "+      _wrappedPosList = newList;  ", "+    }"]}], "num": 17728}