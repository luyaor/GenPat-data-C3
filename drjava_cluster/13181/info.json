{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "71e48fbc248eb22409a770de4959b4c6", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "384d2af1e07870e9982b73d6b44c020e", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/compiler/JavacCompiler.java", "commitBeforeChange": "786632b2fb75426983b1ed67283e648bbf9fbf7a", "commitAfterChange": "90d44d184e29dc7fbeec250255fd4972f9896c0a", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "   public static String transformRunCommand(String s)", "signatureAfterChange": "   public static String transformRunCommand(String s)", "diff": ["-      \"  if (\\\"acm.program.Program\\\".equals(c.getName())) '{' isProgram = true; break; '}'\\n\" +", "+      \"  if (\\\"acm.program.Program\\\".equals(c.getName()) ||\\n\" +", "+      \"      \\\"acm.graphics.GTurtle\\\".equals(c.getName())) '{' isProgram = true; break; '}'\\n\" +", "+      \"java.lang.reflect.Method m = null;\\n\" +", "+      \"String[] args = null;\\n\" +", "-      \"  edu.rice.cs.plt.swing.SwingUtil.showApplet(java.applet.Applet.class.cast(new {0}({1})), 400, 300);\\n\" +", "+      \"  try '{'\\n\" +", "+      \"    m = {0}.class.getMethod(\\\"main\\\", java.lang.String[].class);\\n\" +", "+      \"    if (!m.getReturnType().equals(void.class)) m = null;\\n\" +", "+      \"  '}'\\n\" +", "+      \"  catch (java.lang.NoSuchMethodException e) '{' m = null; '}'\\n\" +", "+      \"  if (m==null) edu.rice.cs.plt.swing.SwingUtil.showApplet(java.applet.Applet.class.cast(new {0}({1})), 400, 300);\\n\" +", "-      \"else '{'\" +", "-      \"  java.lang.reflect.Method m = null;\\n\" +", "+      \"else '{'\\n\" +", "-      \"  String[] args = new String[]'{'{1}'}';\\n\" +", "+      \"  args = new String[]'{'{1}'}';\\n\" +", "+      \"'}'\\n\" +", "+      \"if (m!=null) '{'\\n\"+", "-      \"'}' '}' '}'\";", "+      \"'}' '}' '}'\"; "]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cc98d3673b94dc1c104f8ace29500ffa", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsModel.java", "commitBeforeChange": "36f3a0ce1c9654ce7cb6b478a198ac77dbb03091", "commitAfterChange": "bb37c635695368e8cc96440bd6b6d051918112f8", "methodNumberBeforeChange": 76, "methodNumberAfterChange": 76, "signatureBeforeChange": "    protected static String _transformJavaCommand(String s)", "signatureAfterChange": "    protected static String _transformJavaCommand(String s)", "diff": ["-    return _transformCommand(s,\"{0}.main(new String[]'{'{1}'}');\");", "+    // check the return type and public access before executing, per bug #1585210", "+    String command = \"try '{'\\n\" +", "+                     \"  java.lang.reflect.Method m = {0}.class.getMethod(\\\"main\\\", java.lang.String[].class);\\n\" +", "+                     \"  if (!m.getReturnType().equals(void.class)) throw new java.lang.NoSuchMethodException();\\n\" +", "+                     \"'}'\\n\" +", "+                     \"catch (java.lang.NoSuchMethodException e) '{'\\n\" +", "+                     \"  throw new java.lang.NoSuchMethodError(\\\"main\\\");\\n\" +", "+                     \"'}'\\n\" +", "+                     \"{0}.main(new String[]'{'{1}'}');\";", "+    return _transformCommand(s, command);"]}], "num": 13181}