{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "4266b82d5a68cfb7e9ba097a544aa426", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3d9ccd92d3715a3d78c607b6fab3b13a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "platform/src-jdk16/edu/rice/cs/drjava/model/compiler/Javac160Compiler.java", "commitBeforeChange": "c0d7f23f7940c03c6774a2c608b9ab495655e5b1", "commitAfterChange": "c96f6b2e58df41c403474d4e2c581d0c1d878a78", "methodNumberBeforeChange": 16, "methodNumberAfterChange": 6, "signatureBeforeChange": "      private Context createContext(File[] sourceRoots)", "signatureAfterChange": "    private Context _createContext(List<? extends File> classPath, List<? extends File> sourcePath, File destination,                                   List<? extends File> bootClassPath, String sourceVersion, boolean showWarnings)", "diff": ["-  ", "-  private Context createContext(File[] sourceRoots) {", "-    Context _context = new Context();", "-    Options options = Options.instance(_context);", "-    // options.putAll(CompilerOptions.getOptions(_warningsEnabled));  // No putAll(String, String) method in Options!", "-    for (Map.Entry<String, String> e: CompilerOptions.getOptions(_warningsEnabled).entrySet()) ", "+  private Context _createContext(List<? extends File> classPath, List<? extends File> sourcePath, File destination, ", "+                                 List<? extends File> bootClassPath, String sourceVersion, boolean showWarnings) {", "+    Context context = new Context();", "+    Options options = Options.instance(context);", "+    for (Map.Entry<String, String> e : CompilerOptions.getOptions(showWarnings).entrySet()) {", "-", "+    }", "+    ", "-", "-    // Set output target version", "-    _addSourceAndTargetOptions(options);   ", "-", "-    String sourceRootString = getSourceRootString(sourceRoots);", "-    options.put(\"-sourcepath\", sourceRootString /*sourceRoot.getAbsolutePath()*/);", "-", "-    String cp = System.getProperty(\"java.class.path\");", "-    // Adds extra.classpath to the classpath.", "-    cp += _extraClassPath;", "-    cp += File.pathSeparator + sourceRootString;", "-    options.put(\"-classpath\", cp);    ", "-    return _context;", "+    if (classPath != null) { options.put(\"-classpath\", _pathToString(classPath)); }", "+    if (sourcePath != null) { options.put(\"-sourcepath\", _pathToString(sourcePath)); }", "+    if (destination != null) { options.put(\"-d\", destination.getPath()); }", "+    if (bootClassPath != null) { options.put(\"-bootclasspath\", _pathToString(bootClassPath)); }", "+    if (sourceVersion != null) { options.put(\"-source\", sourceVersion); }", "+    if (!showWarnings) { options.put(\"-nowarn\", \"\"); }", "+    ", "+    return context;"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "3e22d6c728f2e370ff8c3a9bd2cb1d76", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "platform/src-jdk15/edu/rice/cs/drjava/model/compiler/Javac150Compiler.java", "commitBeforeChange": "c0d7f23f7940c03c6774a2c608b9ab495655e5b1", "commitAfterChange": "c96f6b2e58df41c403474d4e2c581d0c1d878a78", "methodNumberBeforeChange": 15, "methodNumberAfterChange": 9, "signatureBeforeChange": "      protected Context createContext(File[] sourceRoots)", "signatureAfterChange": "     protected Context _createContext(List<? extends File> classPath, List<? extends File> sourcePath, File destination,                                     List<? extends File> bootClassPath, String sourceVersion, boolean showWarnings)", "diff": ["-  ", "-  protected Context createContext(File[] sourceRoots) {", "+  protected Context _createContext(List<? extends File> classPath, List<? extends File> sourcePath, File destination, ", "+                                   List<? extends File> bootClassPath, String sourceVersion, boolean showWarnings) {", "-    options.putAll(CompilerOptions.getOptions(_warningsEnabled));", "+    options.putAll(CompilerOptions.getOptions(showWarnings));", "+    ", "-    // Set output target version", "-    _addSourceAndTargetOptions(options);   ", "-", "-    String sourceRootString = getSourceRootString(sourceRoots);", "-    options.put(\"-sourcepath\", sourceRootString /*sourceRoot.getAbsolutePath()*/);", "-", "-    String cp = System.getProperty(\"java.class.path\");", "-    // Adds extra.classpath to the classpath.", "-    cp += _extraClassPath;", "-    cp += File.pathSeparator + sourceRootString;", "+    if (classPath != null) { options.put(\"-classpath\", _pathToString(classPath)); }", "+    if (sourcePath != null) { options.put(\"-sourcepath\", _pathToString(sourcePath)); }", "+    if (destination != null) { options.put(\"-d\", destination.getPath()); }", "+    if (bootClassPath != null) { options.put(\"-bootclasspath\", _pathToString(bootClassPath)); }", "+    if (sourceVersion != null) { options.put(\"-source\", sourceVersion); }", "+    if (!showWarnings) { options.put(\"-nowarn\", \"\"); }", "-    options.put(\"-classpath\", cp);    "]}], "num": 21850}