{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "b035b384dc35b4d14b316c86c7f0853d", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "302037d70bbeffdaf7ddc799132cebab", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/FileOps.java", "commitBeforeChange": "c5b9cf28a37b667f04f0540e4d89fb73184a80a2", "commitAfterChange": "18e16fa33368c591f3ff38462373a1f8b2d32e42", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 12, "signatureBeforeChange": "   public static void saveFile(FileSaver fileSaver) throws IOException", "signatureAfterChange": "   public static void saveFile(FileSaver fileSaver) throws IOException", "diff": ["-      if (!file.renameTo(backup)){", "+      if (!renameFile(file, backup)){", "-      if (tempFileUsed && !tempFile.renameTo(fileSaver.getTargetFile())){", "+", "+      if (tempFileUsed && !renameFile(tempFile, fileSaver.getTargetFile())) {", "+      /* Delete the temp file */", "+      tempFile.delete();", "+", "-          backup.renameTo(file);", "+          renameFile(backup, file);", "-      /* Delete the temp file */", "-      tempFile.delete();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "9a89491b4afe2f40cead729617d2fd00", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/project/ProjectProfile.java", "commitBeforeChange": "25b42c6ab8532332033323c9856bcd81aff002d8", "commitAfterChange": "4e9024f79382344df7a15499ea8826062a420a5f", "methodNumberBeforeChange": 24, "methodNumberAfterChange": 29, "signatureBeforeChange": "   public void write() throws IOException", "signatureAfterChange": "   public void write() throws IOException", "diff": ["-    fw.write(\";; relative files are made relative to: \" + _projectFile.getParentFile().getCanonicalFile());", "+    fw.write(\";; relative files are made relative to: \" + _projectFile.getCanonicalPath());", "-    if (_projRoot != null) {", "+    if (_projectRoot != null) {", "-      fw.write(\"\\n\" + encodeFile(_projRoot, \"  \", true));", "+//      Utilities.show(\"Writing project root = \" + _projRoot);", "+      fw.write(\"\\n\" + encodeFile(_projectRoot, \"  \", true));", "+    else fw.write(\"\\n;; no project root; should never happen\");"]}], "num": 15387}