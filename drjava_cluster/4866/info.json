{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "3b3dfe555666aa85900f3cf794625c41", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "06498c3a93417efb544f370abb8159fe", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "plt/src/edu/rice/cs/plt/concurrent/DelayedInterrupter.java", "commitBeforeChange": "b23111eb475b92740f35af8853527f4b3b92f815", "commitAfterChange": "3ea6a37aa7347e12727171dd92a2bb3861e3967f", "methodNumberBeforeChange": 1, "methodNumberAfterChange": 2, "signatureBeforeChange": "   public DelayedInterrupter(Thread worker, final int timeToInterrupt)", "signatureAfterChange": "   public DelayedInterrupter(Thread worker, final long timeToInterrupt)", "diff": ["-  public DelayedInterrupter(Thread worker, final int timeToInterrupt) {", "+  public DelayedInterrupter(Thread worker, final long timeToInterrupt) {", "-    _interrupter = new Thread(\"DelayedInterrupter\") {", "-      public void run() {", "-        try {", "-          sleep(timeToInterrupt);", "-          _worker.interrupt();", "-        }", "-        catch (InterruptedException e) { /* abort has occurred */ }", "-      }", "+    _task = new TimerTask() {", "+      public void run() { _worker.interrupt(); }", "-    _interrupter.setDaemon(true);", "-    _interrupter.start();", "+    TIMER.value().schedule(_task, timeToInterrupt);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ae3a3805bb263730663268f452aca79d", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/newjvm/AbstractSlaveJVM.java", "commitBeforeChange": "6f65660ac59d60c67824b69ecafc847d84a92da8", "commitAfterChange": "8279bc33117c74621df6401dedd10a0cae247a2c", "methodNumberBeforeChange": 3, "methodNumberAfterChange": 3, "signatureBeforeChange": "      public abstract void start(MasterRemote master) throws RemoteException;", "signatureAfterChange": "   public final void start(final MasterRemote master) throws RemoteException", "diff": ["-  public abstract void start(MasterRemote master) throws RemoteException;", "+   */", "+  public final void start(final MasterRemote master) throws RemoteException {", "+    Thread thread = new Thread() {", "+      public void run() {", "+        while (true) {", "+          try {", "+            Thread.currentThread().sleep(CHECK_MAIN_VM_ALIVE_MINUTES*60*1000);", "+          }", "+          catch (InterruptedException ie) {", "+          }", "+", "+          try {", "+            master.checkStillAlive();", "+          }", "+          catch (RemoteException re) {", "+            // not there anymore. quit!", "+            quit();", "+          }", "+        }", "+      }", "+    };", "+", "+    thread.setDaemon(true);", "+    thread.start();", "+", "+    handleStart(master);", "+  }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "eee4a6a6e9f61abf4f9f44de6ac33428", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/util/newjvm/AbstractSlaveJVM.java", "commitBeforeChange": "3ae33096a45a4dc4990b95b1565bd0aeaf9084da", "commitAfterChange": "e69a4c60c625d52f9ba6a18669f0f6846846e463", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "   public final void start(final MasterRemote master) throws RemoteException", "signatureAfterChange": "   public final void start(final MasterRemote master) throws RemoteException", "diff": ["-    Thread thread = new Thread(_pollMasterThreadName) {", "+    ", "+    if (_checkMaster != null) throw new UnexpectedException(this + \".start(...) called a second time\");", "+", "+    _checkMaster = new Thread(_pollMasterThreadName) {", "-          try { Thread.sleep(CHECK_MAIN_VM_ALIVE_MINUTES*60*1000); }", "+          try { Thread.sleep(CHECK_MAIN_VM_ALIVE_SECONDS*1000); }", "-          _log.log(this + \" polling \" + master + \" to confirm Master JVM is still alive\");", "+//          _log.log(this + \" polling \" + master + \" to confirm Master JVM is still alive\");", "-          catch (RemoteException re) { quit(); }  // Master JVM is defunct. Quit! */", "+          catch (RemoteException re) { quit(); }  // Master JVM service is defunct. Quit! */", "-    thread.setDaemon(true);", "-    thread.start();", "+    _checkMaster.setDaemon(true);", "+    _checkMaster.start();", "-    handleStart(master);", "+    handleStart(master);  // master is passed as parameter because in some refactorings, _master is eliminated"]}], "num": 4866}