{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "15bac2f8a83313f06136cff845da15e5", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "19d54952ea9ca13b769e010deb58df10", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractDJDocument.java", "commitBeforeChange": "5497ac60fa563e6e67c580081d99fbd842e52332", "commitAfterChange": "5fa866685226be5aebbebdfba9d7d34d29108e50", "methodNumberBeforeChange": 66, "methodNumberAfterChange": 66, "signatureBeforeChange": "   public void remove(int offset, int len) throws BadLocationException", "signatureAfterChange": "   public void remove(int offset, int len) throws BadLocationException", "diff": ["-    // Clear the helper method cache", "-    clearCache();", "-    super.remove(offset, len);", "+    writeLock();", "+    try {", "+      synchronized(_reduced) {", "+        clearCache();     // Clear the helper method cache", "+        super.remove(offset, len);", "+      }", "+    }", "+    finally { writeUnlock(); }  "]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "60cff6ffb57fd7e3de6089e716b5f992", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractDJDocument.java", "commitBeforeChange": "5497ac60fa563e6e67c580081d99fbd842e52332", "commitAfterChange": "5fa866685226be5aebbebdfba9d7d34d29108e50", "methodNumberBeforeChange": 65, "methodNumberAfterChange": 65, "signatureBeforeChange": "   public void insertString(int offset, String str, AttributeSet a) throws BadLocationException", "signatureAfterChange": "   public void insertString(int offset, String str, AttributeSet a) throws BadLocationException", "diff": ["-    // Clear the helper method cache", "-    clearCache();", "-", "-    super.insertString(offset,str,a);", "+    ", "+    writeLock();", "+    try {", "+      synchronized(_reduced) {    // Prevent updates to the reduced model during this change", "+        clearCache();      // Clear the helper method cache", "+        super.insertString(offset,str,a);", "+      }", "+    }", "+    finally { writeUnlock(); }"]}], "num": 24562}