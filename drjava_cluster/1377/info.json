{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "a442ca86328139b421db0fbc48f4f932", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5623b5b53434fcdd920bbcc2694da5da", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/InteractionsPaneTest.java", "commitBeforeChange": "92062677ca813cb9ab44428a0d2d54f0c3309b04", "commitAfterChange": "274f7defc49003e66c942e814c9ce22958b3814c", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 23, "signatureBeforeChange": "   public void testCaretUpdatedOnInsert() throws EditDocumentException", "signatureAfterChange": "   public void testCaretUpdatedOnInsert() throws EditDocumentException", "diff": ["+    Utilities.clearEventQueue();", "+    assertEquals(\"caret should be at end of document\", _doc.getLength(), _pane.getCaretPosition());", "+       ", "-", "-     Utilities.clearEventQueue();", "+    Utilities.clearEventQueue();", "-    Utilities.invokeAndWait(new Runnable() { public void run() { _pane.setCaretPosition(newPos+1); } });", "+    Utilities.invokeAndWait(new Runnable() { public void run() { _pane.setCaretPosition(newPos + 1); } });", "+    Utilities.clearEventQueue();", "-    assertEquals(\"caret should be immediately after the d\", newPos + 1, _pane.getCaretPosition());", "+    assertEquals(\"caret should be one char after the d\", newPos + 2, _pane.getCaretPosition());"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7b5c55b49cba3e686e75e72e134f7a55", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/HistoryTest.java", "commitBeforeChange": "879a487e79b03eab55f32f29728bf19cb9181971", "commitAfterChange": "b43f29e50ad9a747c307023da2022e85812a7a06", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 7, "signatureBeforeChange": "   public void testLiveUpdateOfHistoryMaxSize()", "signatureAfterChange": "   public void testLiveUpdateOfHistoryMaxSize()", "diff": ["-    int maxLength = 20;", "-    FileConfiguration config = DrJava.getConfig();", "-    config.setSetting(HISTORY_MAX_SIZE, Integer.valueOf(20));", "-    ", "-    Utilities.clearEventQueue();", "+    final int maxLength = 20;", "+    final FileConfiguration config = DrJava.getConfig();", "+    Utilities.invokeAndWait(new Runnable() { ", "+      public void run() { config.setSetting(HISTORY_MAX_SIZE, Integer.valueOf(20)); }", "+    });", "-    config.setSetting(HISTORY_MAX_SIZE, 10);", "+    Utilities.invokeAndWait(new Runnable() { public void run() { config.setSetting(HISTORY_MAX_SIZE, 10); } });", "-    config.setSetting(HISTORY_MAX_SIZE, Integer.valueOf(-1));", "+    Utilities.invokeAndWait(new Runnable() { ", "+      public void run() { config.setSetting(HISTORY_MAX_SIZE, Integer.valueOf(-1)); }", "+    });"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "969c052c267e450b5f8f106fe9c694a4", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/repl/InteractionsDJDocumentTest.java", "commitBeforeChange": "7ddee5dc15678210d67bde01004f3a1d7919cf7b", "commitAfterChange": "1a6fd1a0e7e181e52da6f98c6b2f1cab31c48798", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "   protected void setUp() throws Exception", "signatureAfterChange": "   protected void setUp() throws Exception", "diff": ["-    mf = new MainFrame();", "-    GlobalModel gm = mf.getModel();", "-    _model = gm.getInteractionsModel();", "-    _adapter = gm.getSwingInteractionsDocument();", "-    _doc = gm.getInteractionsDocument();", "-    assert _model._pane != null;  // MainFrame creates an interactions controller which creates the pane.", "-    Utilities.clearEventQueue();", "+    // MainFrame creation must run in event thread because event thread is already running", "+    Utilities.invokeAndWait(new Runnable() {", "+      public void run() {", "+        mf = new MainFrame();", "+        GlobalModel gm = mf.getModel();", "+        _model = gm.getInteractionsModel();", "+        _adapter = gm.getSwingInteractionsDocument();", "+        _doc = gm.getInteractionsDocument();", "+        assert _model._pane != null;  // MainFrame creates an interactions controller which creates the pane.", "+      }", "+    });"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "cc35de7c69367bf70413a80680c987f5", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/InteractionsPaneTest.java", "commitBeforeChange": "6e00bd0fe78b22f9b84f30182d050c16081947ef", "commitAfterChange": "d6801eea8d321f3e0015cdd20a1cba75837384cb", "methodNumberBeforeChange": 32, "methodNumberAfterChange": 32, "signatureBeforeChange": "      public void testPromptListClearedOnReset() throws Exception", "signatureAfterChange": "      public void testPromptListClearedOnReset() throws Exception", "diff": ["-    MainFrame mf = new MainFrame();", "-    ", "+    final MainFrame _mf = new MainFrame();", "-    GlobalModel gm = mf.getModel();", "-    _controller = mf.getInteractionsController();", "+    GlobalModel gm = _mf.getModel();", "+    _controller = _mf.getInteractionsController();", "-    _pane = mf.getInteractionsPane();", "+    _pane = _mf.getInteractionsPane();", "-    Utilities.invokeAndWait(new Runnable() {", "-      public void run() { _pane.resetPrompts(); }", "-    });", "+    Utilities.invokeAndWait(new Runnable() { public void run() { _pane.resetPrompts(); } });", "-    ", "-    Utilities.invokeAndWait(new Runnable() {", "-      public void run() { _pane.setCaretPosition(_doc.getLength()); }", "-    });", "+    Utilities.invokeAndWait(new Runnable() { public void run() { _pane.setCaretPosition(_doc.getLength()); } });"]}], "num": 1377}