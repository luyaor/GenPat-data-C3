{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "0e213d1ee4b472d72c2aa0e95b9d622a", "detectedBy": ["DIFF_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "72a76224130686128b33805418df99f5", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "28db8fb2942dc00cad50f5244fe215d573867721", "commitAfterChange": "fb852ee67c669f40a587804216508a1dfbe1be4b", "methodNumberBeforeChange": 37, "methodNumberAfterChange": 37, "signatureBeforeChange": "    public boolean _isAnonymousInnerClass(final int pos, final int openCurlyPos) throws BadLocationException", "signatureAfterChange": "    public boolean _isAnonymousInnerClass(final int pos, final int openCurlyPos) throws BadLocationException", "diff": ["-//    String t = getText(0, openSquigglyPos+1);", "-//    System.out.print (\"_isAnonymousInnerClass(\"+newPos+\", \"+openSquigglyPos+\")\");", "-//    System.out.println(\"_isAnonymousInnerClass(\"+newPos+\", \"+openSquigglyPos+\"): `\"+", "-//                       t.substring(newPos, openSquigglyPos+1)+\"`\");", "+//    String t = getText(0, openCurlyPos+1);", "+//    System.out.print(\"_isAnonymousInnerClass(\"+pos+\", \"+openCurlyPos+\")\");", "+//    System.out.println(\"_isAnonymousInnerClass(\"+pos+\", \"+openCurlyPos+\"): `\"+", "+//                       t.substring(pos, openCurlyPos+1)+\"`\");", "-        // System.out.println(\"\\tclass = `\"+text.substring(classStart,classEnd)+\"`\");", "+//         System.out.println(\"\\tclass = `\"+text.substring(classStart,classEnd)+\"`\");", "-          // System.out.println(\"\\tfirst non-whitespace after class = \"+parenStart+\" `\"+text.charAt(parenStart)+\"`\");", "+//           System.out.println(\"\\tfirst non-whitespace after class = \"+parenStart+\" `\"+text.charAt(parenStart)+\"`\");", "-            _reduced.move(parenStart+1 - origLocation);   // reduced model points to pos == parenStart+1", "+            _setCurrentLocation(parenStart + 1);   // reduced model points to pos == parenStart + 1", "-            _reduced.move(origLocation - (parenStart + 1));   // Restore the state of the reduced model;", "+//            _setCurrentLocation(parenStart + 1);   // Restore the state of the reduced model; unnecessary", "-              // System.out.println(\"\\tafter closing paren = \"+parenEnd);", "+//               System.out.println(\"\\tafter closing paren = \"+parenEnd);", "-              // System.out.println(\"\\tfirst non-whitespace after paren = \"+parenStart+\" `\"+text.charAt(afterParen)+\"`\");", "+//               System.out.println(\"\\tfirst non-whitespace after paren = \"+parenStart+\" `\"+text.charAt(afterParen)+\"`\");"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "910a92416f05d8b55805ca5a14bfee79", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "6693d9c4c939c2a7891f553e531587735bbb981b", "commitAfterChange": "b80bef2bb88aa4ee0628e83d51ed337e5c1af06e", "methodNumberBeforeChange": 40, "methodNumberAfterChange": 40, "signatureBeforeChange": "   private boolean _isAnonymousInnerClass(int newPos, int openSquigglyPos) throws BadLocationException", "signatureAfterChange": "   private boolean _isAnonymousInnerClass(int newPos, int openSquigglyPos) throws BadLocationException", "diff": ["-          final int origLocation = _currentLocation;", "-          _reduced.move(parenStart+1 - origLocation);  // reduced model points to pos == parenStart+1", "-          int parenEnd = balanceForward();", "-          _reduced.move(origLocation - (parenStart+1));    // Restore the state of the reduced model;", "-          if (parenEnd > -1) {", "-            parenEnd = parenEnd + parenStart+1;", "-            // System.out.println(\"\\tafter closing paren = \"+parenEnd);", "-            int afterParen = getFirstNonWSCharPos(parenEnd);", "-            // System.out.println(\"\\tfirst non-whitespace after paren = \"+parenStart+\" `\"+text.charAt(afterParen)+\"`\");", "-            cached = (afterParen==openSquigglyPos);          ", "+          synchronized(_reduced) {", "+            final int origLocation = _currentLocation;", "+            _reduced.move(parenStart+1 - origLocation);  // reduced model points to pos == parenStart+1", "+            int parenEnd = balanceForward();", "+            _reduced.move(origLocation - (parenStart+1));    // Restore the state of the reduced model;", "+            if (parenEnd > -1) {", "+              parenEnd = parenEnd + parenStart+1;", "+              // System.out.println(\"\\tafter closing paren = \"+parenEnd);", "+              int afterParen = getFirstNonWSCharPos(parenEnd);", "+              // System.out.println(\"\\tfirst non-whitespace after paren = \"+parenStart+\" `\"+text.charAt(afterParen)+\"`\");", "+              cached = (afterParen==openSquigglyPos);          ", "+            }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "fb013bca7f0b7bce6691724549693ab7", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocument.java", "commitBeforeChange": "28db8fb2942dc00cad50f5244fe215d573867721", "commitAfterChange": "fb852ee67c669f40a587804216508a1dfbe1be4b", "methodNumberBeforeChange": 39, "methodNumberAfterChange": 39, "signatureBeforeChange": "   int _getAnonymousInnerClassIndex(final int pos) throws BadLocationException, ClassNameNotFoundException", "signatureAfterChange": "   int _getAnonymousInnerClassIndex(final int pos) throws BadLocationException, ClassNameNotFoundException", "diff": ["-//    boolean oldLog = log; log = false;", "+//    boolean oldLog = true; // log; log = false;", "-    int newPos = pos; // formerly pos -1 // move outside the curly brace?  Corrected to do nothing since already outisde", "+    int newPos = pos; // formerly pos -1 // move outside the curly brace?  Corrected to do nothing since already outside", "-//    if (oldLog) System.out.println(\"anon before \"+pos+\" enclosed by \"+className);", "+//    if (oldLog) System.err.println(\"anon before \"+pos+\" enclosed by \"+className);", "-//      if (oldLog) System.out.println(\"new found at \"+newPos);", "+//      if (oldLog) System.err.println(\"new found at \"+newPos);", "-//      if (oldLog) System.out.println(\"\\tclass = `\"+text.substring(classStart,classEnd)+\"`\");", "+//      if (oldLog) System.err.println(\"\\tclass = `\"+text.substring(classStart,classEnd)+\"`\");", "-//      if (oldLog) System.out.println(\"\\tfirst non-whitespace after class = \"+parenStart+\" `\"+text.charAt(parenStart)+\"`\");", "+//      if (oldLog) System.err.println(\"\\tfirst non-whitespace after class = \"+parenStart+\" `\"+text.charAt(parenStart)+\"`\");", "-//      if (oldLog) System.out.println(\"{ found at \"+nextOpenSquiggly+\": `\"+text.substring(newPos, nextOpenSquiggly+1)+\"`\");", "-//      if (oldLog) System.out.println(\"_isAnonymousInnerClass(\"+newPos+\", \"+nextOpenSquiggly+\")\");", "+//      if (oldLog) System.err.println(\"{ found at \" + nextOpenCurly + \": `\" + ", "+//                                     text.substring(newPos, nextOpenCurly + 1) + \"`\");", "+//      if (oldLog) System.out.println(\"_isAnonymousInnerClass(\"+newPos+\", \"+nextOpenCurly+\")\");", "-//        if (oldLog) System.out.println(\"is anonymous inner class\");", "+//        if (oldLog) System.err.println(\"is anonymous inner class\");", "-//        if (oldLog) System.out.println(\"enclosing class = \"+cn);", "+//        if (oldLog) System.err.println(\"enclosing class = \"+cn);", "-    _storeInCache(key, index, pos - 1);", "+    _storeInCache(key, index, pos);"]}], "num": 30437}