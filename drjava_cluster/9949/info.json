{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "29a6798255192bc026b15638d640562c", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "6dc0d83172c55503e9e7d57dd35afa1a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/reducedmodel/ReducedModelBrace.java", "commitBeforeChange": "28db8fb2942dc00cad50f5244fe215d573867721", "commitAfterChange": "fb852ee67c669f40a587804216508a1dfbe1be4b", "methodNumberBeforeChange": 11, "methodNumberAfterChange": 11, "signatureBeforeChange": "    public boolean openBraceImmediatelyLeft()", "signatureAfterChange": "    public boolean openBraceImmediatelyLeft()", "diff": ["-      _cursor.prev();", "-      /*", "-      System.out.println(\"+ closedBraceImmediatelyLeft() {\");", "-      System.out.println(\"  _cursor.getBlockOffset(): \"+_cursor.getBlockOffset());", "-      System.out.println(\"  _cursor.current().isClosed(): \"+_cursor.current().isClosed());", "-      System.out.println(\"  _isCurrentBraceMatchable(): \"+_isCurrentBraceMatchable());", "-      System.out.println(\"  }\");", "-      */", "-      boolean isLeft = ((_cursor.getBlockOffset() == 0) && _cursor.current().isOpen() &&", "-                        _isCurrentBraceMatchable());", "-      //System.out.println(\"= token to left: \" + _cursor);", "+      int offset = _cursor.getBlockOffset();", "+      _cursor.prev();  // does not affect blockOffset!      ", "+//      System.err.println(\"+ openBraceImmediatelyLeft() {\");", "+//      System.err.println(\"  offset \" + offset);", "+//      System.err.println(\"  _cursor.current().isClosed(): \" + _cursor.current().isClosed());", "+//      System.err.println(\"  _isCurrentBraceMatchable(): \" + _isCurrentBraceMatchable());", "+//      System.err.println(\"  }\");", "+", "+      boolean isLeft = (offset == 0 && _cursor.current().isOpen() && _isCurrentBraceMatchable());", "+//      System.err.println(\"In openBraceLeft, token to left: \" + _cursor);", "-      //String output = (_cursor.atEnd()) ? \"<end>\": _cursor.toString();", "-      //System.out.println(\"= current token: \" + output);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f4fab2a0bc17ff97b77dd8891d311141", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/reducedmodel/ReducedModelBrace.java", "commitBeforeChange": "28db8fb2942dc00cad50f5244fe215d573867721", "commitAfterChange": "fb852ee67c669f40a587804216508a1dfbe1be4b", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 12, "signatureBeforeChange": "    public boolean closedBraceImmediatelyLeft()", "signatureAfterChange": "    public boolean closedBraceImmediatelyLeft()", "diff": ["-    if (_cursor.atStart() || _cursor.atFirstItem()) {", "-      return false;", "-    }", "+    if (_cursor.atStart() || _cursor.atFirstItem()) return false;", "-      _cursor.prev();", "-      /*", "-      System.out.println(\"+ closedBraceImmediatelyLeft() {\");", "-      System.out.println(\"  _cursor.getBlockOffset(): \"+_cursor.getBlockOffset());", "-      System.out.println(\"  _cursor.current().isClosed(): \"+_cursor.current().isClosed());", "-      System.out.println(\"  _isCurrentBraceMatchable(): \"+_isCurrentBraceMatchable());", "-      System.out.println(\"  }\");", "-      */", "-      boolean isLeft = ((_cursor.getBlockOffset() == 0) && _cursor.current().isClosed() &&", "-                        _isCurrentBraceMatchable());", "-      //System.out.println(\"= token to left: \" + _cursor);", "-      _cursor.next();", "-      //String output = (_cursor.atEnd()) ? \"<end>\": _cursor.toString();", "-      //System.out.println(\"= current token: \" + output);", "+      int offset = _cursor.getBlockOffset();  // offset within current token", "+      _cursor.prev();  // does not affect blockOffset!", "+//      System.err.println(\"+ closedBraceImmediatelyLeft() {\");", "+//      System.err.println(\"  offset: \" + offset);", "+//      System.err.println(\"  _cursor.current().isClosed(): \"+_cursor.current().isClosed());", "+//      System.err.println(\"  _isCurrentBraceMatchable(): \"+_isCurrentBraceMatchable());", "+//      System.err.println(\"  }\");", "+      ", "+      boolean isLeft = ( offset == 0 &&  _cursor.current().isClosed() && _isCurrentBraceMatchable());", "+      System.out.println(\"In closedBraceLeft, token to left: \" + _cursor);", "+      _cursor.next();  // restore current token"]}], "num": 9949}