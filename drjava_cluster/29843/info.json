{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9c0ca0f23df8315304ffc94066b23682", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "1c6311094e4cb332002cc23c28d2fd8d", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "javalanglevels/src/edu/rice/cs/javalanglevels/TypeChecker.java", "commitBeforeChange": "093f33e43dd3de7d97364f410a0a58ca1448a1ce", "commitAfterChange": "51703b3c111cc35e01e35a5e289226f6da1c1962", "methodNumberBeforeChange": 73, "methodNumberAfterChange": 73, "signatureBeforeChange": "             public void test_isAssignableFrom()", "signatureAfterChange": "             public void test_isAssignableFrom()", "diff": ["-      LanguageLevelVisitor llv = new LanguageLevelVisitor(_btc._file, _btc._package, _btc._importedFiles, ", "-                                                        _btc._importedPackages, new LinkedList<String>(), new Hashtable<String, Pair<TypeDefBase, LanguageLevelVisitor>>(), ", "-                                                        new Hashtable<String, Pair<SourceInfo, LanguageLevelVisitor>>());", "-      LanguageLevelConverter.symbolTable = llv.symbolTable = _btc.symbolTable;", "+      LanguageLevelVisitor llv = ", "+        new LanguageLevelVisitor(_btc._file, ", "+                                 _btc._package, ", "+                                 _btc._importedFiles, ", "+                                 _btc._importedPackages, ", "+                                 new LinkedList<String>(), ", "+                                 new Hashtable<String, Pair<TypeDefBase, LanguageLevelVisitor>>(), ", "+                                 new Hashtable<String, Pair<SourceInfo, LanguageLevelVisitor>>());", "+      ", "+//      LanguageLevelConverter.symbolTable = llv.symbolTable = _btc.symbolTable;", "+      LanguageLevelConverter._newSDs.clear();", "-      LanguageLevelConverter.OPT = new Options(JavaVersion.JAVA_1_4, IterUtil.<File>empty());", "+      LanguageLevelConverter.OPT = new Options(JavaVersion.JAVA_1_4, EmptyIterable.<File>make());"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7da0a614093e0a733554ce3947218491", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/definitions/DefinitionsDocumentTest.java", "commitBeforeChange": "eceb1efda2a64c0d1777a241a780b6640565e74e", "commitAfterChange": "985a2a7aa160a776eff6e6187000ef0ccbcb7ce0", "methodNumberBeforeChange": 54, "methodNumberAfterChange": 54, "signatureBeforeChange": "   public void testCompoundUndoManager() throws BadLocationException", "signatureAfterChange": "   public void testCompoundUndoManager() throws BadLocationException", "diff": ["-    // Indent the lines, so as to trigger a nested compond edit", "-    _defModel.indentLines(0, _defModel.getLength());", "-    assertEquals(\"Should have indented correctly.\", indented, ", "-                 _defModel.getText(0, _defModel.getLength()));", "-    ", "-    // Try to undo the nested edit", "-    try {", "-      _defModel.getUndoManager().undo();", "-      fail(\"Should not have allowed undoing a nested edit.\");", "-    }", "-    catch (CannotUndoException e) {", "-      // Correct: cannot undo a nested edit", "-    }", "-    ", "+    // Indent the lines, so as to trigger a nested compound edit", "+    _defModel.indentLines(0, _defModel.getLength());", "+    assertEquals(\"Should have indented correctly.\", indented, ", "+                 _defModel.getText(0, _defModel.getLength()));", "+    ", "+    // We've taken out this part of the test because of our change to", "+    // undo where we close the nearest open compound edit upon undo-ing,", "+    // pasting, commenting, un-commenting, indenting, and backspacing.", "+    // We should never have a nested edit anymore.", "+    ", "+    // Try to undo the nested edit", "+//    try {", "+//      _defModel.getUndoManager().undo();", "+//      fail(\"Should not have allowed undoing a nested edit.\");", "+//    }", "+//    catch (CannotUndoException e) {", "+//      // Correct: cannot undo a nested edit", "+//    }", "+    ", "-    _defModel.getUndoManager().endCompoundEdit(key);", "+//    _defModel.getUndoManager().endCompoundEdit(key);"]}], "num": 29843}