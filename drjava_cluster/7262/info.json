{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "81618b869f16117d100b8a2b44ce9698", "detectedBy": ["AST_HIERARCHICAL", "AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "bad2cf874320671507b560ccec64f1d7", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/GlobalModelJUnitTest.java", "commitBeforeChange": "771a0aee635c62bc6d0a2000fe605dc1113ef2b9", "commitAfterChange": "d1e56ac5c281c4b03c498f59138895f0f26350fa", "methodNumberBeforeChange": 21, "methodNumberAfterChange": 21, "signatureBeforeChange": "   public void xtestJUnitStaticInnerClass() throws Exception", "signatureAfterChange": "   public void testJUnitStaticInnerClass() throws Exception", "diff": ["-  public void xtestJUnitStaticInnerClass() throws Exception {", "+  public void testJUnitStaticInnerClass() throws Exception {", "-    synchronized (listener) {", "-      _model.getJUnitModel().junitAll();", "-      listener.wait();", "-    }", "+    ", "+    _runJUnit();", "+    "]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f9da65b6e8716c1a663de53728112a37", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/GlobalModelJUnitTest.java", "commitBeforeChange": "771a0aee635c62bc6d0a2000fe605dc1113ef2b9", "commitAfterChange": "d1e56ac5c281c4b03c498f59138895f0f26350fa", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 20, "signatureBeforeChange": "   public void xtestJUnitAllWithErrors() throws Exception", "signatureAfterChange": "   public void testJUnitAllWithErrors() throws Exception", "diff": ["-   */", "-  public void xtestJUnitAllWithErrors() throws Exception {", "-    OpenDefinitionsDocument doc = setupDocument(MONKEYTEST_ERROR_TEXT);", "-    JUnitNonTestListener listener = new JUnitNonTestListener(true);", "-    File file = new File(_tempDir, \"MonkeyTestError.java\");", "-    doc.saveFile(new FileSelector(file));", "-    doc.startCompile();", "-    doc = setupDocument(MONKEYTEST_FAIL_TEXT);", "-    file = new File(_tempDir, \"MonkeyTestFail.java\");", "-    doc.saveFile(new FileSelector(file));", "-    doc.startCompile();", "-    _model.addListener(listener);", "-    synchronized (listener) {", "-      _model.getJUnitModel().junitAll();", "-      listener.wait();", "-    }", "-    listener.assertNonTestCaseCount(0);", "-    listener.assertJUnitSuiteStartedCount(1);", "-    listener.assertJUnitTestStartedCount(2);", "-    listener.assertJUnitTestEndedCount(2);", "-    _model.removeListener(listener);", "-", "-    JUnitErrorModel jem = _model.getJUnitModel().getJUnitErrorModel();", "-    assertEquals(\"test case has one error reported\", 2, jem.getNumErrors());", "-    ", "-    assertTrue(\"first error should be an error\", jem.getError(0).isWarning());", "-    assertFalse(\"second error should be a failure\", jem.getError(1).isWarning());", "-  }", "+  /** Tests that junit all works with test cases that do not pass. */", "+  public void testJUnitAllWithErrors() throws Exception {", "+    OpenDefinitionsDocument doc = setupDocument(MONKEYTEST_ERROR_TEXT);", "+    JUnitNonTestListener listener = new JUnitNonTestListener(true);", "+    File file = new File(_tempDir, \"MonkeyTestError.java\");", "+    doc.saveFile(new FileSelector(file));", "+    doc.startCompile();", "+    doc = setupDocument(MONKEYTEST_FAIL_TEXT);", "+    file = new File(_tempDir, \"MonkeyTestFail.java\");", "+    doc.saveFile(new FileSelector(file));", "+    doc.startCompile();", "+    _model.addListener(listener);", "+    ", "+    _runJUnit();", "+    ", "+    listener.assertNonTestCaseCount(0);", "+    listener.assertJUnitSuiteStartedCount(1);", "+    listener.assertJUnitTestStartedCount(2);", "+    listener.assertJUnitTestEndedCount(2);", "+    _model.removeListener(listener);", "+", "+    JUnitErrorModel jem = _model.getJUnitModel().getJUnitErrorModel();", "+    assertEquals(\"test case has one error reported\", 2, jem.getNumErrors());", "+    ", "+    assertTrue(\"first error should be an error\", jem.getError(0).isWarning());", "+    assertFalse(\"second error should be a failure\", jem.getError(1).isWarning());", "+  }"]}], "num": 7262}