{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "9a4bff7fe3f44dd8e1024ae6239d2ba1", "detectedBy": ["DIFF_HIERARCHICAL", "AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4617d0840873bb9b6b30439f5b4e75ea", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/debug/DebugTest.java", "commitBeforeChange": "2c16e0d4d9158060234171af20b20d5de3e555f9", "commitAfterChange": "e1f5c81c52809e8bace735e11df6213768d823f8", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 4, "signatureBeforeChange": "   public synchronized void testBreakpoints()     throws DebugException, BadLocationException, DocumentAdapterException,     IOException, InterruptedException", "signatureAfterChange": "   public synchronized void testBreakpoints() throws Exception", "diff": ["-  public synchronized void testBreakpoints()", "-    throws DebugException, BadLocationException, DocumentAdapterException,", "-    IOException, InterruptedException", "-  {", "+  public synchronized void testBreakpoints() throws Exception {", "-    ", "-    // Compile the class", "-    OpenDefinitionsDocument doc = doCompile(DEBUG_CLASS, tempFile());", "-    // Start debugger", "-    synchronized(_notifierLock) {", "-      _debugger.startup();", "-      _waitForNotifies(1);", "-      _notifierLock.wait();", "-    }", "+    ", "+    // Start up", "+    OpenDefinitionsDocument doc = _startupDebugger(\"DrJavaDebugClass.java\",", "+                                                   DEBUG_CLASS);", "-    // Close doc and make sure breakpoints are removed", "-    _model.closeFile(doc);", "-    debugListener.assertBreakpointRemovedCount(2);  //fires twice (no waiting)", "-      ", "-    // Shutdown the debugger", "-    if (printMessages) System.out.println(\"Shutting down...\");", "-    synchronized(_notifierLock) {", "-      _debugger.shutdown();", "-      _waitForNotifies(1);  // shutdown", "-      _notifierLock.wait();", "-    }", "-    ", "-    debugListener.assertDebuggerShutdownCount(1);  //fires", "-    if (printMessages) System.out.println(\"Shut down.\");", "+    // Shut down", "+    _shutdownWithoutSuspendedInteraction();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "727c2fd38e1c4bfe01fba19238425d37", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/debug/DebugTest.java", "commitBeforeChange": "2c16e0d4d9158060234171af20b20d5de3e555f9", "commitAfterChange": "e1f5c81c52809e8bace735e11df6213768d823f8", "methodNumberBeforeChange": 10, "methodNumberAfterChange": 8, "signatureBeforeChange": "   public synchronized void testStepOverWithPackage()     throws DebugException, BadLocationException, DocumentAdapterException,     IOException, InterruptedException", "signatureAfterChange": "   public synchronized void testStepOverWithPackage() throws Exception", "diff": ["-  public synchronized void testStepOverWithPackage()", "-    throws DebugException, BadLocationException, DocumentAdapterException,", "-    IOException, InterruptedException", "-  {", "+  public synchronized void testStepOverWithPackage() throws Exception {", "+    _debugger.addListener(debugListener);", "-    // Compile the class", "+    // Create the file in an \"a\" sub-directory", "-    OpenDefinitionsDocument doc = doCompile(DEBUG_CLASS_WITH_PACKAGE, file);", "-    _debugger.addListener(debugListener);", "-    // Start debugger", "-    synchronized(_notifierLock) {", "-      _debugger.startup();", "-      _waitForNotifies(1);  // startup", "-      _notifierLock.wait();", "-    }", "+    // Start up", "+    OpenDefinitionsDocument doc = _startupDebugger(file, DEBUG_CLASS_WITH_PACKAGE);", "-    // Close doc and make sure breakpoints are removed", "-    _model.closeFile(doc);", "-    debugListener.assertBreakpointRemovedCount(1);  //fires (no waiting)", "-    ", "-    // Shutdown the debugger", "-    if (printMessages) System.out.println(\"Shutting down...\");", "-    synchronized(_notifierLock) {", "-      _debugger.shutdown();", "-      _waitForNotifies(1);  // shutdown", "-      _notifierLock.wait();", "-    }", "-    ", "-    debugListener.assertDebuggerShutdownCount(1);  //fires", "-    if (printMessages) System.out.println(\"Shut down.\");", "+    // Shut down", "+    _shutdownWithoutSuspendedInteraction();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "910781b6b22c70d5e41abeeb8c2a291e", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/debug/DebugTest.java", "commitBeforeChange": "2c16e0d4d9158060234171af20b20d5de3e555f9", "commitAfterChange": "e1f5c81c52809e8bace735e11df6213768d823f8", "methodNumberBeforeChange": 7, "methodNumberAfterChange": 6, "signatureBeforeChange": "   public void testStepInto()     throws DebugException, BadLocationException, DocumentAdapterException,     IOException, InterruptedException", "signatureAfterChange": "   public void testStepInto() throws Exception", "diff": ["-  public void testStepInto()", "-    throws DebugException, BadLocationException, DocumentAdapterException,", "-    IOException, InterruptedException", "-  {", "+  public void testStepInto() throws Exception {", "-    ", "-    // Compile the class", "-    OpenDefinitionsDocument doc = doCompile(DEBUG_CLASS, tempFile());", "-   ", "-    // Start debugger", "-    synchronized(_notifierLock) {", "-      _debugger.startup();", "-      _waitForNotifies(1);  // startup", "-      _notifierLock.wait();", "-    }", "+", "+    // Start up", "+    OpenDefinitionsDocument doc = _startupDebugger(\"DrJavaDebugClass.java\",", "+                                                   DEBUG_CLASS);", "-    // Shutdown the debugger", "-    if (printMessages) System.out.println(\"Shutting down...\");", "-    synchronized(_notifierLock) {", "-      _debugger.shutdown();", "-      _waitForNotifies(1);  // shutdown", "-      _notifierLock.wait();", "-    }", "-  ", "-    debugListener.assertBreakpointRemovedCount(1);  //fires once (no waiting)", "-    debugListener.assertDebuggerShutdownCount(1);  //fires", "-    if (printMessages) System.out.println(\"Shut down.\");", "+    // Shut down", "+    _shutdownWithoutSuspendedInteraction();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "ac5d278c8d0fcaaf62e3bd7dc8272875", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/debug/DebugTest.java", "commitBeforeChange": "2c16e0d4d9158060234171af20b20d5de3e555f9", "commitAfterChange": "e1f5c81c52809e8bace735e11df6213768d823f8", "methodNumberBeforeChange": 4, "methodNumberAfterChange": 3, "signatureBeforeChange": "   public synchronized void testMultiThreadedBreakpointsAndStep()     throws DebugException, BadLocationException, DocumentAdapterException,     IOException, InterruptedException", "signatureAfterChange": "   public synchronized void testMultiThreadedBreakpointsAndStep() throws Exception", "diff": ["-  public synchronized void testMultiThreadedBreakpointsAndStep()", "-    throws DebugException, BadLocationException, DocumentAdapterException,", "-    IOException, InterruptedException", "-  {", "+  public synchronized void testMultiThreadedBreakpointsAndStep() throws Exception {", "-    ", "-    // Compile the class", "-    OpenDefinitionsDocument doc = doCompile(MONKEY_CLASS, tempFile());", "-    ", "-    // Start debugger", "-    synchronized(_notifierLock) {", "-      _debugger.startup();", "-      _waitForNotifies(1);  // startup", "-      _notifierLock.wait();", "-    }", "+    ", "+    // Start up", "+    OpenDefinitionsDocument doc = _startupDebugger(\"Monkey.java\",", "+                                                   MONKEY_CLASS);", "-    // Run the main() method, hitting breakpoints", "+    // Run the main method, hitting breakpoints", "-    // Close doc", "-    _model.closeFile(doc);", "-    ", "-    // Shutdown the debugger", "-    if (printMessages) System.out.println(\"Shutting down...\");", "-    synchronized(_notifierLock) {", "-      _debugger.shutdown();", "-      _waitForNotifies(1);  // shutdown", "-      _notifierLock.wait();", "-    }", "-    ", "-    if (printMessages) System.out.println(\"Shut down.\");", "+    // Shut down", "+    _shutdownWithoutSuspendedInteraction();", "+    _debugger.removeListener(debugListener);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "adc1a51f769342879a7f95cbf7644016", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/debug/DebugTest.java", "commitBeforeChange": "2c16e0d4d9158060234171af20b20d5de3e555f9", "commitAfterChange": "e1f5c81c52809e8bace735e11df6213768d823f8", "methodNumberBeforeChange": 13, "methodNumberAfterChange": 10, "signatureBeforeChange": "   public synchronized void testBreakpointsAndStepsInNonPublicClasses()     throws DebugException, BadLocationException, DocumentAdapterException,     IOException, InterruptedException", "signatureAfterChange": "   public synchronized void testBreakpointsAndStepsInNonPublicClasses()     throws Exception", "diff": ["-    throws DebugException, BadLocationException, DocumentAdapterException,", "-    IOException, InterruptedException", "+    throws Exception", "-    ", "-    // Compile the class", "-    OpenDefinitionsDocument doc = doCompile(DEBUG_CLASS, tempFile());", "-    // Start debugger and add breakpoint (before class is loaded)", "-    synchronized(_notifierLock) {", "-      _debugger.startup();", "-      _waitForNotifies(1);", "-      _notifierLock.wait();", "-    }", "+", "+    // Start up", "+    OpenDefinitionsDocument doc = _startupDebugger(\"DrJavaDebugClass.java\",", "+                                                   DEBUG_CLASS);", "-    // Run the foo() method, hitting breakpoint", "+    // Run the baz() method, hitting breakpoint", "-    // Close doc and make sure breakpoints are removed", "-    _model.closeFile(doc);", "-    debugListener.assertBreakpointRemovedCount(2);  //fires twice (no waiting)", "-      ", "-    // Shutdown the debugger", "-    if (printMessages) System.out.println(\"Shutting down...\");", "-    synchronized(_notifierLock) {", "-      _debugger.shutdown();", "-      _waitForNotifies(1);  // shutdown", "-      _notifierLock.wait();", "-    }", "-    debugListener.assertDebuggerShutdownCount(1);  //fires", "-    if (printMessages) System.out.println(\"Shut down.\");", "+    // Shut down", "+    _shutdownWithoutSuspendedInteraction();"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "e44074d333eb0dbafa3004a970a22b40", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/debug/DebugTest.java", "commitBeforeChange": "2c16e0d4d9158060234171af20b20d5de3e555f9", "commitAfterChange": "e1f5c81c52809e8bace735e11df6213768d823f8", "methodNumberBeforeChange": 6, "methodNumberAfterChange": 5, "signatureBeforeChange": "   public synchronized void testBreakpointsWithSameNamePrefix()     throws DebugException, BadLocationException, DocumentAdapterException,     IOException, InterruptedException", "signatureAfterChange": "   public synchronized void testBreakpointsWithSameNamePrefix() throws Exception", "diff": ["-  public synchronized void testBreakpointsWithSameNamePrefix()", "-    throws DebugException, BadLocationException, DocumentAdapterException,", "-    IOException, InterruptedException", "-  {", "+  public synchronized void testBreakpointsWithSameNamePrefix() throws Exception {", "-    ", "-    // Compile the class", "-    OpenDefinitionsDocument doc = doCompile(DEBUG_CLASS, tempFile());", "-    // Start debugger", "-    synchronized(_notifierLock) {", "-      _debugger.startup();", "-      _waitForNotifies(1);", "-      _notifierLock.wait();", "-    }", "+    ", "+    // Start up", "+    OpenDefinitionsDocument doc = _startupDebugger(\"DrJavaDebugClass.java\",", "+                                                   DEBUG_CLASS);", "-    // Run the foo() method, hitting breakpoint", "+    // Run the baz() method, hitting breakpoint", "-    // Close doc and make sure breakpoints are removed", "-    _model.closeFile(doc);", "-    debugListener.assertBreakpointRemovedCount(1);  //fires (no waiting)", "-      ", "-    // Shutdown the debugger", "-    if (printMessages) System.out.println(\"Shutting down...\");", "-    synchronized(_notifierLock) {", "-      _debugger.shutdown();", "-      _waitForNotifies(1);  // shutdown", "-      _notifierLock.wait();", "-    }", "-    ", "-    debugListener.assertDebuggerShutdownCount(1);  //fires", "-    if (printMessages) System.out.println(\"Shut down.\");", "+    // Shut down", "+    _shutdownWithoutSuspendedInteraction();"]}], "num": 29272}