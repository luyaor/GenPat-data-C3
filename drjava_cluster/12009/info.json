{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "ccf531a652a6ad4b8f3c72bd3bf993af", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "629ecb1f3cce8b16a41891c14e681913", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/DefaultGlobalModel.java", "commitBeforeChange": "6e3543556033e393456b4b85647d3ebcd636665d", "commitAfterChange": "f7191b9675df6696b6ace0153bb883ecc5f2630b", "methodNumberBeforeChange": 185, "methodNumberAfterChange": 185, "signatureBeforeChange": "     public boolean saveFileAs(FileSaveSelector com) throws IOException", "signatureAfterChange": "     public boolean saveFileAs(FileSaveSelector com) throws IOException", "diff": ["+        boolean openInOtherDoc = ((otherDoc != null) && (openDoc != otherDoc));", "-        if ( otherDoc != null && openDoc != otherDoc ) {", "+        if ( openInOtherDoc ) {", "-        if (shouldSave || !file.exists() || com.verifyOverwrite()) {", "+        if ((shouldSave && openInOtherDoc) || (!openInOtherDoc && (!file.exists() || com.verifyOverwrite()))) {", "+//        // Check if file is already open in another document", "+//        if ( otherDoc != null && openDoc != otherDoc ) {", "+//          // Can't save over an open document", "+//          shouldSave = com.warnFileOpen(file);", "+//        }", "+//        ", "+//        // If the file exists, make sure it's ok to overwrite it", "+//        if (shouldSave || !file.exists() || com.verifyOverwrite()) {"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "eeaaac251d6d9cbcf9e2d323e4503c0f", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/AbstractGlobalModel.java", "commitBeforeChange": "fb266d92ba9efd43e20ccabcb8837490fbeddaea", "commitAfterChange": "9b317c4ea1656d56bf74b4b1688b4337b5b40277", "methodNumberBeforeChange": 329, "methodNumberAfterChange": 329, "signatureBeforeChange": "     public boolean saveFileAs(FileSaveSelector com) throws IOException", "signatureAfterChange": "     public boolean saveFileAs(FileSaveSelector com) throws IOException", "diff": ["-        final File file = com.getFile();", "-//        System.err.println(\"saveFileAs called on \" + file);", "+        final File file = com.getFile().getCanonicalFile();", "+        _log.log(\"saveFileAs called on \" + file);", "-          ", "+          synchronized(_documentsRepos) {", "+            File f = getRawFile();", "+//            OpenDefinitionsDocument d = _documentsRepos.get(f);", "+            // d == this except in some unit tests where documents are not entered in _documentRepos", "+//            assert d == this;", "+            _documentsRepos.remove(f);", "+            _documentsRepos.put(file, this);", "+          }", "+          "]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "f30b819e3785f6dd68a70ca4218808b7", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/model/DefaultGlobalModel.java", "commitBeforeChange": "11baa8cf53a286506909ee582997234b834f9358", "commitAfterChange": "f9b63c51c7bc39c2ca858a18aa7508745f80cf7d", "methodNumberBeforeChange": 170, "methodNumberAfterChange": 170, "signatureBeforeChange": "     public boolean saveFileAs(FileSaveSelector com) throws IOException", "signatureAfterChange": "     public boolean saveFileAs(FileSaveSelector com) throws IOException", "diff": ["-        final OpenDefinitionsDocument otherDoc = _getOpenDocument(file);", "-", "+        OpenDefinitionsDocument otherDoc = _getOpenDocument(file);", "+        boolean shouldSave = false;", "-          com.warnFileOpen();", "+          shouldSave = com.warnFileOpen(file);", "-", "+        ", "-        else if (!file.exists() || com.verifyOverwrite()) {", "-", "+        if (shouldSave || !file.exists() || com.verifyOverwrite()) {", "-", "+          ", "-", "+          ", "-", "+          ", "-//          _documentNavigator.removeDocument(idoc);", "-//          _documentNavigator.addDocument(idoc);", "-", "+          //          _documentNavigator.removeDocument(idoc);", "+          //          _documentNavigator.addDocument(idoc);", "+          ", "+        "]}], "num": 12009}