{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "f82fee8603cd8b8954508d46b7f2e642", "detectedBy": ["AST_HIERARCHICAL"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "5e913f3f0e9cfecb2da4558f4609c167", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "dynamicjava/src/koala/dynamicjava/interpreter/NameVisitor.java", "commitBeforeChange": "5df4e785713703c5888db4cb5ec4317420920fff", "commitAfterChange": "14b25d4149524a90a31159ece6ef4294e14d0609", "methodNumberBeforeChange": 23, "methodNumberAfterChange": 24, "signatureBeforeChange": "     public Object visit(QualifiedName node)", "signatureAfterChange": "   public Node visit(QualifiedName node)", "diff": ["+   */", "+  public Node visit(QualifiedName node) {", "+    List<IdentifierToken>  ids = node.getIdentifiers();", "+    IdentifierToken t = ids.get(0);", "+    ", "+    if (context.isDefined(t.image())) {", "+      // The name starts with a reference to a local variable,", "+      // end of the name is a sequence of field access", "+      Expression result = context.createName(node, t);", "+      Iterator<IdentifierToken> it = ids.iterator();", "+      it.next();", "+      ", "+      IdentifierToken t2;", "+      while (it.hasNext()) {", "+        t2 = it.next();", "+        result = new ObjectFieldAccess(result, t2.image(),", "+                                       node.getFilename(),", "+                                       t.beginLine(), t.beginColumn(),", "+                                       t2.endLine(), t2.endColumn());", "+      }", "+      return result;", "+    } ", "+    ", "+    // The name must be, or starts with, a class name", "+    List<IdentifierToken> l = ListUtilities.listCopy(ids);", "+    boolean b = false;", "+    ", "+    while (l.size() > 0) {", "+      String s = TreeUtilities.listToName(l);", "+      if (b = context.classExists(s)) {", "+        break;", "+      }", "+      l.remove(l.size()-1);", "+    }", "+    ", "+    if (!b) {", "+      // It is an error if no matching class or field was found", "+      node.setProperty(NodeProperties.ERROR_STRINGS, new String[] { t.image() });", "+      throw new ExecutionError(\"undefined.class\", node);", "+    }", "+    ", "+    // Creates a ReferenceType node", "+    IdentifierToken t2 = l.get(l.size()-1);", "+    ReferenceType rt = new ReferenceType(l,", "+                                         node.getFilename(),", "+                                         t.beginLine(), t.beginColumn(),", "+                                         t2.endLine(),  t2.endColumn());", "+    ", "+    if (l.size() != ids.size()) {", "+      // The end of the name is a sequence of field access", "+      ListIterator<IdentifierToken> it = ids.listIterator(l.size());", "+      t2 = it.next();", "+      Expression result =", "+        new StaticFieldAccess(rt, t2.image(), node.getFilename(),", "+                              t.beginLine(), t.beginColumn(),", "+                              t2.endLine(), t2.endColumn());", "+      while (it.hasNext()) {", "+        t2 = it.next();", "+        result = new ObjectFieldAccess(result, t2.image(),", "+                                       node.getFilename(),", "+                                       t.beginLine(), t.beginColumn(),", "+                                       t2.endLine(), t2.endColumn());", "+      }", "+      return result;", "+    } ", "+    else", "+      return rt;", "+  }", "-     */", "-    public Object visit(QualifiedName node) {", "-        List  ids = node.getIdentifiers();", "-        IdentifierToken t = (IdentifierToken)ids.get(0);", "-", "-        if (context.isDefined(t.image())) {", "-            // The name starts with a reference to a local variable,", "-            // end of the name is a sequence of field access", "-\t    Expression result = context.createName(node, t);", "-            Iterator it = ids.iterator();", "-            it.next();", "-", "-            IdentifierToken t2;", "-            while (it.hasNext()) {", "-                result = new ObjectFieldAccess(result,", "-                                               (t2 = (IdentifierToken)it.next()).image(),", "-                                               node.getFilename(),", "-                                               t.beginLine(), t.beginColumn(),", "-                                               t2.endLine(),  t2.endColumn());", "-            }", "-            return result;", "-        } ", "-\t    ", "-        // The name must be, or starts with, a class name", "-        List      l = (List)((LinkedList)ids).clone();", "-\tboolean   b = false;", "-", "-\twhile (l.size() > 0) {", "-\t    String s = TreeUtilities.listToName(l);", "-\t    if (b = context.classExists(s)) {", "-\t\tbreak;", "-\t    }", "-\t    l.remove(l.size()-1);", "-\t}", "-", "-        if (!b) {", "-            // It is an error if no matching class or field was found", "-\t    node.setProperty(NodeProperties.ERROR_STRINGS, new String[] { t.image() });", "-           throw new ExecutionError(\"undefined.class\", node);", "-        }", "-", "-        // Creates a ReferenceType node", "-        IdentifierToken t2 = (IdentifierToken)l.get(l.size()-1);", "-        ReferenceType rt = new ReferenceType(l,", "-\t\t\t\t\t     node.getFilename(),", "-\t\t\t\t\t     t.beginLine(), t.beginColumn(),", "-\t\t\t\t\t     t2.endLine(),  t2.endColumn());", "-\t", "-        if (l.size() != ids.size()) {", "-            // The end of the name is a sequence of field access", "-            ListIterator it = ids.listIterator(l.size());", "-            Expression result =", "-\t\tnew StaticFieldAccess(rt,", "-\t\t\t\t      (t2 = (IdentifierToken)it.next()).image(),", "-\t\t\t\t      node.getFilename(),", "-\t\t\t\t      t.beginLine(), t.beginColumn(),", "-\t\t\t\t      t2.endLine(),  t2.endColumn());", "-            while (it.hasNext()) {", "-                result = new ObjectFieldAccess(result,", "-                                               (t2 = (IdentifierToken)it.next()).image(),", "-                                               node.getFilename(),", "-                                               t.beginLine(), t.beginColumn(),", "-                                               t2.endLine(),  t2.endColumn());", "-            }", "-            return result;", "-        } else { ", "-            return rt;", "-        }", "-    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b1344341d05d400d9249142ab503db38", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "dynamicjava/src/koala/dynamicjava/interpreter/EvaluationVisitor.java", "commitBeforeChange": "18a9f2cc3ae6f0d537d5b99c2f47d401bf5d764e", "commitAfterChange": "1e89570173a057456dfaafaaf0fe0900c92c74a8", "methodNumberBeforeChange": 5, "methodNumberAfterChange": 5, "signatureBeforeChange": "   public Object visit(SwitchStatement node)", "signatureAfterChange": "   public Object visit(SwitchStatement node)", "diff": ["-      ListIterator it = node.getBindings().listIterator();", "-      ListIterator dit = null;", "+      ListIterator<SwitchBlock> it = node.getBindings().listIterator();", "+      ListIterator<SwitchBlock> dit = null;", "-        SwitchBlock sc = (SwitchBlock)it.next();", "+        SwitchBlock sc = it.next();", "-              Iterator it2 = sc.getStatements().iterator();", "+              Iterator<Node> it2 = sc.getStatements().iterator();", "-                ((Node)it2.next()).acceptVisitor(this);", "+                it2.next().acceptVisitor(this);", "-              sc = (SwitchBlock)it.next();", "+              sc = it.next();", "-        SwitchBlock sc = (SwitchBlock)dit.next();", "+        SwitchBlock sc = dit.next();", "-            Iterator it2 = sc.getStatements().iterator();", "+            Iterator<Node> it2 = sc.getStatements().iterator();", "-              ((Node)it2.next()).acceptVisitor(this);", "+              it2.next().acceptVisitor(this);", "-            sc = (SwitchBlock)dit.next();", "+            sc = dit.next();"]}], "num": 12934}