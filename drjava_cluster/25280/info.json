{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "567e688706a1d63132f4dbacda90c71c", "detectedBy": ["DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "8322fbbf72957586c5fe44a90eec0da3", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/MainFrame.java", "commitBeforeChange": "39a73399844d4efd2d2ebe97954e53d44db0a9b6", "commitAfterChange": "3144efa2bdaef7eb118336f3bc431cce43bf0ac2", "methodNumberBeforeChange": 128, "methodNumberAfterChange": 128, "signatureBeforeChange": "   public void gotoFileMatchingMask(String mask)", "signatureAfterChange": "   public void gotoFileMatchingMask(String mask)", "diff": ["-        boolean docChanged = ! pim.getCurrentItem().doc.equals(_model.getActiveDocument());", "+        final OpenDefinitionsDocument newDoc = pim.getCurrentItem().getOpenDefinitionsDocument();", "+        if (newDoc != null) {", "+          boolean docChanged = ! newDoc.equals(_model.getActiveDocument());", "-        _model.setActiveDocument(pim.getCurrentItem().doc);", "-        if (docChanged) { // defer executing this code until after active document switch is complete", "-          addToBrowserHistory();", "+          _model.setActiveDocument(newDoc);", "+          if (docChanged) { // defer executing this code until after active document switch is complete", "+            addToBrowserHistory();", "+          }", "-            boolean docChanged = !pim.getCurrentItem().doc.equals(_model.getActiveDocument());", "+            final OpenDefinitionsDocument newDoc = pim.getCurrentItem().getOpenDefinitionsDocument();", "+            if (newDoc != null) {", "+              boolean docChanged = !newDoc.equals(_model.getActiveDocument());", "-            _model.setActiveDocument(pim.getCurrentItem().doc);", "-            if (docChanged) { // defer executing this code until after active document switch is complete", "-              addToBrowserHistory();", "+              _model.setActiveDocument(newDoc);", "+              if (docChanged) { // defer executing this code until after active document switch is complete", "+                addToBrowserHistory();", "+              }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "a0caf6b0d575ade42f82d645032f3b5a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/FindReplacePanel.java", "commitBeforeChange": "97a825e752ef3da28458a0080f0990b0f0659788", "commitAfterChange": "3f50a00dbfaba534529de5a114a9d7c30612e9a7", "methodNumberBeforeChange": 29, "methodNumberAfterChange": 29, "signatureBeforeChange": "   private void _doFind()", "signatureAfterChange": "   private void _doFind()", "diff": ["+", "+      ", "+      final boolean searchAll = _machine.getSearchAllDocuments();", "-      if (pos != -1) { // found a match", "-        Caret c = _defPane.getCaret();", "-        c.setDot(c.getDot());", "-        ", "-        if (! matchDoc.equals(openDoc)) {", "-          _model.setActiveDocument(matchDoc);  // set active doc if matchDoc != openDoc", "-        }", "-        else _model.refreshActiveDocument();  // in a wraparound search, the unmodified active document may have been kicked out of the cache!", "-        ", "-        _defPane.setCaretPosition(pos);", "-        _caretChanged = true;", "-        _updateMachine();", "-      }", "-      else {  // If searching all documents, the current document may have been kicked out of the cache", "-        _model.refreshActiveDocument();", "-      }", "-      ", "-      if (fr.getWrapped() && !_machine.getSearchAllDocuments()) {", "+       if (searchAll) {", "+         if (! matchDoc.equals(openDoc))  _model.setActiveDocument(matchDoc);  // set active doc if matchDoc != openDoc", "+         else _model.refreshActiveDocument();  // the unmodified active document may have been kicked out of the cache!", "+       } ", "+     ", "+      if (fr.getWrapped() && ! searchAll) {", "-        else  _frame.setStatusMessage(\"Search wrapped to end.\");", "+        else _frame.setStatusMessage(\"Search wrapped to end.\");", "-      if (fr.getAllDocsWrapped() && _machine.getSearchAllDocuments()) {", "+      if (fr.getAllDocsWrapped() && searchAll) {", "-      if (pos >= 0) {  // defer executing this code until after active document switch (if any) is complete", "+      if (pos >=0) { // found a match", "+         Caret c = _defPane.getCaret();", "+         c.setDot(c.getDot());", "+         _defPane.setCaretPosition(pos);", "+         _caretChanged = true;", "+         _updateMachine();", "+      ", "+      // defer executing this code until after active document switch (if any) is complete"]}], "num": 25280}