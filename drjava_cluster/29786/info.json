{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "2b8237fe3e4858bbbda915c1ac68cd25", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4c9e4bcaa59878c4f67726409b4cf5c5", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/DefinitionsPane.java", "commitBeforeChange": "d350dd729092f66f8ad737ae377c54d2ad394fbf", "commitAfterChange": "e40155b18bade831c571f9b33dc6334fca6b1698", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "   public void matchUpdate(int offset)", "signatureAfterChange": "   protected void matchUpdate(int offset)", "diff": ["-  public void matchUpdate(int offset) { ", "-    final DefinitionsDocument doc = _doc.getDocument();", "-    doc.acquireReadLock();", "-    try {", "-      synchronized(doc.getReduced()) {", "-        doc._setCurrentLocation(offset); ", "-        _removePreviousHighlight();", "-        ", "-        // Update the highlight if there is any. Not necessarily executed in event thread", "-        int to = getCaretPosition();", "-        ", "-        int from = doc._balanceBackward();", "-//        Utilities.show(\"balanceBackward() returned \" + from);", "-        if (from >= 0) {", "-          // Found a matching open brace to this close brace", "-          from = to - from;", "-          _addHighlight(from, to);", "-          //     Highlighter.Highlight[] _lites = getHighlighter().getHighlights();", "-          ", "-          String matchText = _matchText(from);", "-          ", "-          if (matchText != null) _mainFrame.updateStatusField(\"Bracket matches: \" + matchText);", "-          else _mainFrame.updateStatusField();", "-        }", "-        ", "-        // if this wasn't a closed brace, check for an open brace", "-        else {", "-          // (getCaretPosition will be the start of the highlight)", "-          from = to;", "-          to = doc._balanceForward();", "-//          System.err.println(\"balanceForward() returned \" + to + \"; from = \" + from);", "-          if (to >= 0) {", "-            to = to + from;", "-            _addHighlight(from - 1, to);", "-//            System.err.println(\"Added forward highlight\");", "+  protected void matchUpdate(int offset) { ", "+    _doc.setCurrentLocation(offset);  ", "+    _removePreviousHighlight();", "+    ", "+    // Update the highlight if there is any. Not necessarily executed in event thread", "+    int to = getCaretPosition();", "+    int from = _doc._balanceBackward();", "+    if (from > -1) {", "+      // Found a matching open brace to this close brace", "+      from = to - from;", "+      _addHighlight(from, to);", "+      //     Highlighter.Highlight[] _lites = getHighlighter().getHighlights();", "+      ", "+      String matchText = _matchText(from);", "+      ", "+      if (matchText != null) _mainFrame.updateStatusField(\"Bracket matches: \" + matchText);", "+      else _mainFrame.updateStatusField();", "+    }", "+    ", "+    // if this wasn't a close brace, check for an open brace", "+    else {", "+      // (getCaretPosition will be the start of the highlight)", "+      from = to;", "+      ", "+      to = _doc._balanceForward();", "+      if (to > -1) {", "+        to = to + from;", "+        _addHighlight(from - 1, to);", "-          }", "-          _mainFrame.updateStatusField();         ", "-        }", "-      } // end synchronized", "-    }  // end try", "-    finally { doc.releaseReadLock(); }", "+      }", "+      _mainFrame.updateStatusField();         ", "+    }"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "632f5bb8a35dcf3853c02f8f4cda6c44", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/DefinitionsPane.java", "commitBeforeChange": "28db8fb2942dc00cad50f5244fe215d573867721", "commitAfterChange": "fb852ee67c669f40a587804216508a1dfbe1be4b", "methodNumberBeforeChange": 0, "methodNumberAfterChange": 0, "signatureBeforeChange": "   protected void matchUpdate(int offset)", "signatureAfterChange": "   public void matchUpdate(int offset)", "diff": ["-  protected void matchUpdate(int offset) { ", "-    _doc.setCurrentLocation(offset);  ", "-    _removePreviousHighlight();", "-    ", "-    // Update the highlight if there is any. Not necessarily executed in event thread", "-    int to = getCaretPosition();", "-    int from = _doc.balanceBackward();", "-    if (from > -1) {", "-      // Found a matching open brace to this close brace", "-      from = to - from;", "-      _addHighlight(from, to);", "-      //     Highlighter.Highlight[] _lites = getHighlighter().getHighlights();", "-      ", "-      String matchText = _matchText(from);", "-      ", "-      if (matchText != null) _mainFrame.updateStatusField(\"Bracket matches: \" + matchText);", "-      else _mainFrame.updateStatusField();", "-    }", "-    ", "-    // if this wasn't a close brace, check for an open brace", "-    else {", "-      // (getCaretPosition will be the start of the highlight)", "-      from = to;", "-      ", "-      to = _doc.balanceForward();", "-      if (to > -1) {", "-        to = to + from;", "-        _addHighlight(from - 1, to);", "+  public void matchUpdate(int offset) { ", "+    final DefinitionsDocument doc = _doc.getDocument();", "+    doc.acquireReadLock();", "+    try {", "+      synchronized(doc.getReduced()) {", "+        doc._setCurrentLocation(offset); ", "+        _removePreviousHighlight();", "+        ", "+        // Update the highlight if there is any. Not necessarily executed in event thread", "+        int to = getCaretPosition();", "+        ", "+        int from = doc._balanceBackward();", "+//        Utilities.show(\"balanceBackward() returned \" + from);", "+        if (from >= 0) {", "+          // Found a matching open brace to this close brace", "+          from = to - from;", "+          _addHighlight(from, to);", "+          //     Highlighter.Highlight[] _lites = getHighlighter().getHighlights();", "+          ", "+          String matchText = _matchText(from);", "+          ", "+          if (matchText != null) _mainFrame.updateStatusField(\"Bracket matches: \" + matchText);", "+          else _mainFrame.updateStatusField();", "+        }", "+        ", "+        // if this wasn't a closed brace, check for an open brace", "+        else {", "+          // (getCaretPosition will be the start of the highlight)", "+          from = to;", "+          to = doc._balanceForward();", "+//          System.err.println(\"balanceForward() returned \" + to + \"; from = \" + from);", "+          if (to >= 0) {", "+            to = to + from;", "+            _addHighlight(from - 1, to);", "+//            System.err.println(\"Added forward highlight\");", "-      }", "-      _mainFrame.updateStatusField();         ", "-    }", "+          }", "+          _mainFrame.updateStatusField();         ", "+        }", "+      } // end synchronized", "+    }  // end try", "+    finally { doc.releaseReadLock(); }"]}], "num": 29786}