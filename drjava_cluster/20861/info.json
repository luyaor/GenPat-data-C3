{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "55bc3c85261c660ed3ff10e16f91da2f", "detectedBy": ["DIFF_HIERARCHICAL", "DIFF_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "7d5bb2815c7bdffe5efbb2fe18251d9a", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/KeyBindingManager.java", "commitBeforeChange": "dff1e78708d1fc8c89ac7283a8a2c5db6fd8ed74", "commitAfterChange": "545baa1c63b7ee7d993e35e240105f7970f7c2d1", "methodNumberBeforeChange": 8, "methodNumberAfterChange": 6, "signatureBeforeChange": "   public boolean mapInsert(KeyStroke ks, Action a)", "signatureAfterChange": "   private boolean shouldUpdate(KeyStroke ks, Action a)", "diff": ["-  public boolean mapInsert(KeyStroke ks, Action a) {", "+  //precondition ks != KeyStrokeOption.NULL_KEYSTROKE", "+  private boolean shouldUpdate(KeyStroke ks, Action a) {", "+      /*", "-      if (!_keyToActionMap.containsKey(ks) ) { ", "+      */", "+      if (!_keyToDataMap.containsKey(ks) ) { ", "-        _keyToActionMap.put(ks, a);", "+        //_keyToActionMap.put(ks, a);", "+        //need to update map", "+        //KeyStrokeData data = (KeyStrokeData)_actionToDataMap.get(a);", "+        //data.setKeyStroke(ks);", "+        //_keyToDataMap.put(ks,data);", "+        ", "-      else if (_keyToActionMap.get(ks).equals(a)) { ", "+      else if (((KeyStrokeData)_keyToDataMap.get(ks)).getAction().equals(a)) { ", "+        KeyStrokeData conflictKSD = (KeyStrokeData)_keyToDataMap.get(ks);", "-        Action oldA = (Action) _keyToActionMap.get(ks);", "-        String text = key + \" is already assigned to \" + _actionToNameMap.get(oldA) + ", "-          \". Would you like to assign \" + key + \" to \" + _actionToNameMap.get(a) + \"?\";", "+        KeyStrokeData newKSD = (KeyStrokeData)_actionToDataMap.get(a);", "+        String text = \"\\\"\"+ key +\"\\\"\" + \" is already assigned to \\\"\" + conflictKSD.getName() + ", "+          \"\\\".\\nWould you like to assign \\\"\" + key + \"\\\" to \\\"\" + newKSD.getName() + \"\\\"?\";", "-            _keyToActionMap.remove(ks);", "-            _keyToActionMap.put(ks,a);"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "b4e8f01295b2e86054037edf7cb107a1", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/ui/KeyBindingManager.java", "commitBeforeChange": "7100bfae3584eff8b8b1993fd999385d8f88ea13", "commitAfterChange": "6bcdef7d4202e06be1c5717fc181a0fdfcc7756a", "methodNumberBeforeChange": 12, "methodNumberAfterChange": 9, "signatureBeforeChange": "   private boolean shouldUpdate(KeyStroke ks, Action a)", "signatureAfterChange": "   private boolean shouldUpdate(KeyStroke ks, Action a)", "diff": ["-  //precondition ks != KeyStrokeOption.NULL_KEYSTROKE", "-      // then there should be no keystroke for this action", "-      return true;", "+      // filter out NULL_KEYSTROKE", "+      return false;", "-      // the key is not in the Hashtable, put it in", "-      //_keyToActionMap.put(ks, a);", "-      //need to update map", "-      //KeyStrokeData data = _actionToDataMap.get(a);", "-      //data.setKeyStroke(ks);", "-      //_keyToDataMap.put(ks,data);", "-", "+      // the key is not assigned to any action yet, put it in ", "-      // this KeyStroke/Action pair is already in the Hashtable", "+      // this key is already assigned to the same action, do nothing", "-        int rc = JOptionPane.showConfirmDialog(_mainFrame, text, \"DrJava\", JOptionPane.YES_NO_CANCEL_OPTION);", "+        int rc = JOptionPane.showConfirmDialog(_mainFrame, text, \"DrJava\", JOptionPane.YES_NO_OPTION);", "+            removeExistingKeyStroke(ks);", "-            return false;", "-            return false;"]}], "num": 20861}