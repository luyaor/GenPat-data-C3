{"@class": "de.fau.cs.inf2.cthree.data.Cluster", "id": "42c22d2f57bc8dace87efb589c72a3f0", "detectedBy": ["AST_DBSCAN"], "members": [{"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "4495f3e69694d0425582e377bb57118c", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "drjava/src/edu/rice/cs/drjava/CommandLineTest.java", "commitBeforeChange": "91dc93d09494b5a49c2be62b759aefe74644dd8b", "commitAfterChange": "6e79548f1347834e92c51c9baf527da686346e86", "methodNumberBeforeChange": 9, "methodNumberAfterChange": 9, "signatureBeforeChange": "   public void testRelativePath() throws IOException, InvalidPackageException", "signatureAfterChange": "   public void testRelativePath() throws IOException, InvalidPackageException", "diff": ["-    // OK, we have to create a directory with a hard-coded name in the", "-    // current working directory, so we'll make it strange. If this ", "-    // directory happens to exist, it'll be deleted.", "-    File newDirectory = new File(funnyName);", "-    if (newDirectory.exists()) {", "-      FileOps.deleteDirectory(newDirectory);", "-    }", "-", "-    assertTrue(\"directory created OK\", newDirectory.mkdir());", "+    File newDirectory = mkTempDir(funnyName);", "-      FileOps.writeStringToFile(relativeFile,", "-                                \"package \" + funnyName + \"; class X {}\");", "-      assertTrue(\"file exists\", relativeFile.exists());", "-", "-      String path = relativeFile.getPath();", "-      DrJava.openCommandLineFiles(_mf, new String[] { path });", "-", "-      List<OpenDefinitionsDocument> docs = _mf.getModel().getDefinitionsDocuments();", "-      assertEquals(\"Number of open documents\", 1, docs.size());", "-", "-      OpenDefinitionsDocument doc = docs.get(0);", "-", "-      assertEquals(\"OpenDefDoc file is the right one and is absolute\",", "-                   relativeFile.getAbsoluteFile(),", "-                   doc.getFile());", "-", "-      // The source root should be the current directory (as", "-      // an absolute path, of course).", "-      File root = doc.getSourceRoot();", "-      assertEquals(\"source root\", new File(\"\").getAbsoluteFile(), root);", "+      checkFile(relativeFile, funnyName);", "+    }", "+    catch (Exception e) {", "+      fail(\"Exception thrown: \" + StringOps.getStackTrace(e));"]}, {"@class": "de.fau.cs.inf2.cthree.data.CodeChange", "id": "df501c5b245faab0ac70bae7a91a19b6", "repository": "http://git.code.sf.net/p/drjava/git_repo", "fileName": "dynamicjava/src/edu/rice/cs/dynamicjava/interpreter/ExpressionChecker.java", "commitBeforeChange": "d7e29fae36890273cb02f65a4dcc06babb1b1e53", "commitAfterChange": "40502fe8d6d2aa924af9e28579518088d3c23148", "methodNumberBeforeChange": 14, "methodNumberAfterChange": 14, "signatureBeforeChange": "     private Node resolveAmbiguousName(AmbiguousName node)", "signatureAfterChange": "     private Node resolveAmbiguousName(AmbiguousName node)", "diff": ["-        resultExp = new VariableAccess(first.image(), node.getFilename(), first.beginLine(),", "-                                       first.beginColumn(), first.endLine(), first.endColumn());", "+        resultExp = new VariableAccess(first.image(), first.getSourceInfo()); ", "-        resultExp = new SimpleFieldAccess(first.image(), node.getFilename(), first.beginLine(),", "-                                          first.beginColumn(), first.endLine(), first.endColumn());", "+        resultExp = new SimpleFieldAccess(first.image(), first.getSourceInfo());", "-            ReferenceTypeName rt = new ReferenceTypeName(classIds, node.getFilename(),", "-                                                         first.beginLine(), first.beginColumn(),", "-                                                         last.endLine(),  last.endColumn());", "-            resultExp = new StaticFieldAccess(rt, memberName.image(), rt.getFilename(),", "-                                              first.beginLine(), first.beginColumn(),", "-                                              memberName.endLine(), memberName.endColumn());", "+            ReferenceTypeName rt = new ReferenceTypeName(classIds, SourceInfo.span(first, last)); ", "+            resultExp = new StaticFieldAccess(rt, memberName.image(), SourceInfo.span(first, memberName)); ", "-          return new ReferenceTypeName(classIds, node.getFilename(),", "-                                       first.beginLine(), first.beginColumn(),", "-                                       last.endLine(),  last.endColumn());", "+          return new ReferenceTypeName(classIds, SourceInfo.span(first, last));", "-        resultExp = new ObjectFieldAccess(resultExp, field.image(), node.getFilename(), ", "-                                          first.beginLine(), first.beginColumn(),", "-                                          field.endLine(), field.endColumn());", "+        resultExp = new ObjectFieldAccess(resultExp, field.image(), SourceInfo.span(first, field));"]}], "num": 2605}